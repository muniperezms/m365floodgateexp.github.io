/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./scripts/app/App_InAppFeedback.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../FloodgateCore/dist/index.js":
/*!**************************************!*\
  !*** ../FloodgateCore/dist/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Main entry point.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Utils = exports.Api = void 0;\nvar Api = __webpack_require__(/*! ./src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\nexports.Api = Api;\nvar Utils = __webpack_require__(/*! ./src/Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nexports.Utils = Utils;\nvar FloodgateEngine_1 = __webpack_require__(/*! ./src/FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nObject.defineProperty(exports, \"FloodgateEngine\", { enumerable: true, get: function () { return FloodgateEngine_1.FloodgateEngine; } });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXgudHM/Yjg1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQUVILDJGQUFxQztBQUk1QixrQkFBRztBQUhaLHlGQUFxQztBQUd2QixzQkFBSztBQURuQix5SEFBd0Q7QUFBL0MsaUlBQWUiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1haW4gZW50cnkgcG9pbnQuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCIuL3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL3NyYy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vc3JjL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5leHBvcnQgeyBBcGksIFV0aWxzIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/index.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTracker.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTracker.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Class to track ticks against a list of expected counts in a thread-safe way\n * Main API of interest is incrementActivity, which returns an enumerated value indicating\n * whether or not the increment resulted in no thresholds crossed, a single activity threshold crossed,\n * or the final activity threshold crossed.\n */\nvar ActivityTracker = /** @class */ (function () {\n    function ActivityTracker(trackingSet) {\n        if (!trackingSet) {\n            throw new Error(\"trackingSet must not be null\");\n        }\n        if (trackingSet.getList().length > 32) {\n            throw new Error(\"trackingSet list size must be less than 32\");\n        }\n        this.isOrdered = trackingSet.getIsOrdered();\n        this.trackedActivities = trackingSet.getList();\n        /**\n         * For ordered sets, the current index.\n         */\n        this.currentIndex = 0;\n        this.activationMask = 0;\n        this.currentActivationFlags = 0;\n        this.isActivationByInitPending = false;\n        this.currentCounts = new Array(this.trackedActivities.length);\n        this.currentStartTimes = new Array(this.trackedActivities.length);\n        this.currentSessionCounts = new Array(this.trackedActivities.length);\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            this.currentCounts[i] = 0;\n            this.currentSessionCounts[i] = 0;\n        }\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            this.activationMask |= 0x1 << i;\n            if (this.trackedActivities[i].getCount() < 1) {\n                this.trackedActivities[i].setCount(1);\n            }\n        }\n    }\n    /**\n     * Get the count for the activity at the specified index. Returns 0 for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        return this.currentCounts[index];\n    };\n    /**\n     * Get the count for the activity at the specified index, as tracked only for this session.\n     * Returns 0 for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getSessionCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        return this.currentSessionCounts[index];\n    };\n    /**\n     * Get the StartTime for the activity at the specified index. Returns null for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getStartTime = function (index) {\n        if (!this.isValidIndex(index)) {\n            return null;\n        }\n        return this.currentStartTimes[index];\n    };\n    /**\n     * A get-and-set method. Returns the current SessionCount, resetting it to zero and adding it into\n     * the established baseline.\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.moveSessionCountIntoBaseCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        var sessionCount = this.currentSessionCounts[index];\n        this.currentSessionCounts[index] = 0;\n        return sessionCount;\n    };\n    /**\n     * Forcibly set the counts for the activities in the trackingSet.\n     * Unlike other APIs, this expects vector indices to match the order\n     * of the ActivityTrackingSet.List initially used to construct this tracker.\n     * (When data is copied from a different IndexedTracker, it will properly use the IndexedTracker.Index to query internals)\n     * Note:\n     * 1) Assumes a count of 0 for any missing index in undersized arrays.\n     * 2) Respects and enforces ordered list initialization (i.e. all init values are ignored once a unfinished activity is\n     * encountered in an ordered tracking list).\n     * 3) If the tracker is fully Activated as a result of this call, the next call to IncrementActivity will raise the\n     * IncrementEdgeResult.AllActivitiesActivated, for any valid index accepted by IsPermittedIndexForActivationByInit().\n     */\n    ActivityTracker.prototype.initCounts = function (baselineCounts, otherTrackers, wasAlreadyActivatedThisSession) {\n        // NOTE: baselineIncrements and sessionIncrements are sorted the same as the initial trackedActivity set, which\n        // for this class is the same as trackedActivities\n        if (wasAlreadyActivatedThisSession === void 0) { wasAlreadyActivatedThisSession = false; }\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            // Only accept values up to the current index, when ordered\n            if (this.isOrdered && i > this.currentIndex) {\n                break;\n            }\n            // Start off by pulling values from this session\n            if (i < otherTrackers.length && otherTrackers[i]) {\n                this.currentSessionCounts[i] = this.currentCounts[i] = otherTrackers[i].tracker.getSessionCount(otherTrackers[i].index);\n                this.currentStartTimes[i] = otherTrackers[i].tracker.getStartTime(otherTrackers[i].index);\n            }\n            // If we've got a baseline from previous sessions, add it in as well\n            if (this.trackedActivities[i].getIsAggregate() && i < baselineCounts.length) {\n                this.currentCounts[i] += baselineCounts[i];\n            }\n            if (this.hasCountCrossedThreshold(i)) {\n                this.finishActivityAtIndex(i);\n            }\n        }\n        if (this.isActivated() && !wasAlreadyActivatedThisSession) {\n            // Mark this object so that the next time any permitted activation event is logged, the survey will activate\n            this.isActivationByInitPending = true;\n        }\n    };\n    ActivityTracker.prototype.generateActivityIndexList = function () {\n        var indexList = new Array();\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            var current = new ActivityTracker.ActivityIndex();\n            current.activity = this.trackedActivities[i].getActivity();\n            current.index = i;\n            indexList.push(current);\n        }\n        return indexList;\n    };\n    /**\n     * Increments the count at the specified index by the given increment.  Returns a value indicating whether\n     * or not this call triggered a transition edge (activating the activity at 'index', or finishing the activation\n     * of the final pending activity)\n     */\n    ActivityTracker.prototype.incrementActivity = function (index, increment) {\n        if (!this.isValidIndex(index)) {\n            return 0 /* Pending */;\n        }\n        if (increment < 0) {\n            throw new Error(\"increment must be non-negative\");\n        }\n        // Ordered sets must be triggered in order.  We can only track at the current index, or before\n        if (this.isOrdered && index > this.currentIndex) {\n            return 0 /* Pending */;\n        }\n        // Add to our counts after storing off our current state\n        var startedLessThanThreshold = !this.hasCountCrossedThreshold(index);\n        this.currentCounts[index] += increment;\n        this.currentSessionCounts[index] += increment;\n        if (this.isActivationByInitPending) {\n            if (this.isPermittedIndexForActivationByInit(index)) {\n                // This tracker was completed due to the initialization from previous increment data\n                // now that we've store this activities increments, raise the AllActivitiesActivated signal\n                return this.commitActivation();\n            }\n            else {\n                // Still waiting for a valid re-activation activity\n                return 0 /* Pending */;\n            }\n        }\n        if (!(startedLessThanThreshold && this.hasCountCrossedThreshold(index))) {\n            // Still waiting for this activity to finish\n            return 0 /* Pending */;\n        }\n        // Mark this activity as complete in our flag collection\n        this.finishActivityAtIndex(index);\n        if (this.isActivated()) {\n            return this.commitActivation();\n        }\n        return 1 /* SingleActivityActivated */;\n    };\n    /**\n     * Explicitly sets a start timestamp (now if startTime is null) for the specified activity index. Overwrites any previous StartTime.\n     */\n    ActivityTracker.prototype.startTime = function (index, startTime) {\n        if (!this.isValidIndex(index)) {\n            return;\n        }\n        this.currentStartTimes[index] = (!startTime) ? new Date() : startTime;\n    };\n    /**\n     * Computes the \"count\" delta (delta in whatever units are appropriate for a subsequent call to IncrementActivity)\n     * elapsed between now and a previously logged StartTime for this activity index.\n     * Always clears the previous StartTime.\n     * Returns 0 if no previous StartTime was logged, or if StartTime > StopTime\n     */\n    ActivityTracker.prototype.stopTime = function (index, stopTime) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        var startTime = this.currentStartTimes[index];\n        this.currentStartTimes[index] = null;\n        if (!startTime) {\n            return 0;\n        }\n        stopTime = (!stopTime) ? new Date() : stopTime;\n        if (startTime > stopTime) {\n            return 0;\n        }\n        var deltaMS = stopTime.getTime() - startTime.getTime();\n        // Currently all timer activities return seconds as the increment unit\n        var diff = deltaMS / 1000;\n        // Adding 1ms to the count so it can have the decimal place\n        // So that we can distinguish the Time activity\n        if (diff % 1 === 0) {\n            diff += 0.001;\n        }\n        return diff;\n    };\n    /**\n     * Returns true if the index is valid for accessing the stored activity counts, false otherwise\n     */\n    ActivityTracker.prototype.isValidIndex = function (index) {\n        return index < this.trackedActivities.length;\n    };\n    /**\n     * Gets whether or not the full set of activities for this tracker have exceeded their trigger thresholds\n     */\n    ActivityTracker.prototype.isActivated = function () {\n        return (this.currentActivationFlags & this.activationMask) === this.activationMask;\n    };\n    /**\n        * Marks the activity at the index as finished. Includes setting the proper\n        * activation flags and potentially advancing the current index for ordered tracking sets\n        */\n    ActivityTracker.prototype.finishActivityAtIndex = function (index) {\n        if (!this.isValidIndex(index)) {\n            throw new Error(\"Index is not valid\");\n        }\n        this.currentActivationFlags |= 0x1 << index;\n        if (index + 1 < this.trackedActivities.length) {\n            this.currentIndex = index + 1;\n        }\n    };\n    /**\n     * @param index index\n     * @return true if the counts for the activity at the specified index have met or exceeded the threshold count.\n     */\n    ActivityTracker.prototype.hasCountCrossedThreshold = function (index) {\n        if (!this.isValidIndex(index)) {\n            throw new Error(\"Index is not valid\");\n        }\n        return this.currentCounts[index] >= this.trackedActivities[index].getCount();\n    };\n    /**\n     * Returns true if the index refers to an activity that can re-activate a tracked object (aka return AllActivitiesActivated)\n     * that was initialized as \"complete\" via initCounts.\n     * Note: For unordered sets, any activity is valid. For ordered sequences, only the final activity is valid\n     */\n    ActivityTracker.prototype.isPermittedIndexForActivationByInit = function (index) {\n        return !this.isOrdered || ((index + 1) === this.currentCounts.length);\n    };\n    ActivityTracker.prototype.commitActivation = function () {\n        this.isActivationByInitPending = false;\n        return 2 /* AllActivitiesActivated */;\n    };\n    return ActivityTracker;\n}());\n(function (ActivityTracker) {\n    /**\n     * Structure returned by an ActivityTracker to call back into\n     * IncrementActivity with valid index values\n     */\n    var ActivityIndex = /** @class */ (function () {\n        function ActivityIndex() {\n        }\n        return ActivityIndex;\n    }());\n    ActivityTracker.ActivityIndex = ActivityIndex;\n})(ActivityTracker || (ActivityTracker = {}));\nmodule.exports = ActivityTracker;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tlci50cz8yMGIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFJQTs7Ozs7R0FLRztBQUNIO0lBV0MseUJBQW1CLFdBQWdDO1FBQ2xELElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRTtZQUN0QyxNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7U0FDOUQ7UUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRS9DOztXQUVHO1FBQ0gsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLHNCQUFzQixHQUFHLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMseUJBQXlCLEdBQUcsS0FBSyxDQUFDO1FBRXZDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxLQUFLLENBQVMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEtBQUssQ0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksS0FBSyxDQUFTLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU3RSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZ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QUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRU8sMENBQWdCLEdBQXhCO1FBQ0MsSUFBSSxDQUFDLHlCQUF5QixHQUFHLEtBQUssQ0FBQztRQUN2QyxzQ0FBOEQ7SUFDL0QsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQUVELFdBQU8sZUFBZTtJQUNyQjs7O09BR0c7SUFDSDtRQUFBO1FBR0EsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQUhZLDZCQUFhLGdCQUd6QjtBQW1CRixDQUFDLEVBM0JNLGVBQWUsS0FBZixlQUFlLFFBMkJyQjtBQUVELGlCQUFTLGVBQWUsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdEYXRhIH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ0RhdGFcIjtcclxuaW1wb3J0IHsgQWN0aXZpdHlUcmFja2luZ1NldCB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdTZXRcIjtcclxuaW1wb3J0IHsgSW5kZXhlZFRyYWNrZXIgfSBmcm9tIFwiLi9JbmRleGVkVHJhY2tlclwiO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHRvIHRyYWNrIHRpY2tzIGFnYWluc3QgYSBsaXN0IG9mIGV4cGVjdGVkIGNvdW50cyBpbiBhIHRocmVhZC1zYWZlIHdheVxyXG4gKiBNYWluIEFQSSBvZiBpbnRlcmVzdCBpcyBpbmNyZW1lbnRBY3Rpdml0eSwgd2hpY2ggcmV0dXJucyBhbiBlbnVtZXJhdGVkIHZhbHVlIGluZGljYXRpbmdcclxuICogd2hldGhlciBvciBub3QgdGhlIGluY3JlbWVudCByZXN1bHRlZCBpbiBubyB0aHJlc2hvbGRzIGNyb3NzZWQsIGEgc2luZ2xlIGFjdGl2aXR5IHRocmVzaG9sZCBjcm9zc2VkLFxyXG4gKiBvciB0aGUgZmluYWwgYWN0aXZpdHkgdGhyZXNob2xkIGNyb3NzZWQuXHJcbiAqL1xyXG5jbGFzcyBBY3Rpdml0eVRyYWNrZXIge1xyXG5cdHByaXZhdGUgaXNPcmRlcmVkOiBib29sZWFuO1xyXG5cdHByaXZhdGUgdHJhY2tlZEFjdGl2aXRpZXM6IEFjdGl2aXR5VHJhY2tpbmdEYXRhW107XHJcblx0cHJpdmF0ZSBjdXJyZW50SW5kZXg6IG51bWJlcjtcclxuXHRwcml2YXRlIGFjdGl2YXRpb25NYXNrOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBjdXJyZW50QWN0aXZhdGlvbkZsYWdzOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBpc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nOiBib29sZWFuO1xyXG5cdHByaXZhdGUgY3VycmVudENvdW50czogbnVtYmVyW107XHJcblx0cHJpdmF0ZSBjdXJyZW50U2Vzc2lvbkNvdW50czogbnVtYmVyW107XHJcblx0cHJpdmF0ZSBjdXJyZW50U3RhcnRUaW1lczogRGF0ZVtdO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQpIHtcclxuXHRcdGlmICghdHJhY2tpbmdTZXQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHJhY2tpbmdTZXQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICh0cmFja2luZ1NldC5nZXRMaXN0KCkubGVuZ3RoID4gMzIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHJhY2tpbmdTZXQgbGlzdCBzaXplIG11c3QgYmUgbGVzcyB0aGFuIDMyXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaXNPcmRlcmVkID0gdHJhY2tpbmdTZXQuZ2V0SXNPcmRlcmVkKCk7XHJcblx0XHR0aGlzLnRyYWNrZWRBY3Rpdml0aWVzID0gdHJhY2tpbmdTZXQuZ2V0TGlzdCgpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRm9yIG9yZGVyZWQgc2V0cywgdGhlIGN1cnJlbnQgaW5kZXguXHJcblx0XHQgKi9cclxuXHRcdHRoaXMuY3VycmVudEluZGV4ID0gMDtcclxuXHRcdHRoaXMuYWN0aXZhdGlvbk1hc2sgPSAwO1xyXG5cdFx0dGhpcy5jdXJyZW50QWN0aXZhdGlvbkZsYWdzID0gMDtcclxuXHRcdHRoaXMuaXNBY3RpdmF0aW9uQnlJbml0UGVuZGluZyA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuY3VycmVudENvdW50cyA9IG5ldyBBcnJheTxudW1iZXI+KHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHRcdHRoaXMuY3VycmVudFN0YXJ0VGltZXMgPSBuZXcgQXJyYXk8RGF0ZT4odGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGgpO1xyXG5cdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50cyA9IG5ldyBBcnJheTxudW1iZXI+KHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5jdXJyZW50Q291bnRzW2ldID0gMDtcclxuXHRcdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50c1tpXSA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuYWN0aXZhdGlvbk1hc2sgfD0gMHgxIDw8IGk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy50cmFja2VkQWN0aXZpdGllc1tpXS5nZXRDb3VudCgpIDwgMSkge1xyXG5cdFx0XHRcdHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaV0uc2V0Q291bnQoMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0aGUgY291bnQgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LiBSZXR1cm5zIDAgZm9yIG91dC1vZi1yYW5nZSBpbmRpY2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0Q291bnQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50Q291bnRzW2luZGV4XTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0aGUgY291bnQgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LCBhcyB0cmFja2VkIG9ubHkgZm9yIHRoaXMgc2Vzc2lvbi5cclxuXHQgKiBSZXR1cm5zIDAgZm9yIG91dC1vZi1yYW5nZSBpbmRpY2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbkNvdW50KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFNlc3Npb25Db3VudHNbaW5kZXhdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRoZSBTdGFydFRpbWUgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LiBSZXR1cm5zIG51bGwgZm9yIG91dC1vZi1yYW5nZSBpbmRpY2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U3RhcnRUaW1lKGluZGV4OiBudW1iZXIpOiBEYXRlIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2luZGV4XTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEEgZ2V0LWFuZC1zZXQgbWV0aG9kLiBSZXR1cm5zIHRoZSBjdXJyZW50IFNlc3Npb25Db3VudCwgcmVzZXR0aW5nIGl0IHRvIHplcm8gYW5kIGFkZGluZyBpdCBpbnRvXHJcblx0ICogdGhlIGVzdGFibGlzaGVkIGJhc2VsaW5lLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGluZGV4IGluZGV4XHJcblx0ICovXHJcblx0cHVibGljIG1vdmVTZXNzaW9uQ291bnRJbnRvQmFzZUNvdW50KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2Vzc2lvbkNvdW50OiBudW1iZXIgPSB0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzW2luZGV4XTtcclxuXHRcdHRoaXMuY3VycmVudFNlc3Npb25Db3VudHNbaW5kZXhdID0gMDtcclxuXHJcblx0XHRyZXR1cm4gc2Vzc2lvbkNvdW50O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRm9yY2libHkgc2V0IHRoZSBjb3VudHMgZm9yIHRoZSBhY3Rpdml0aWVzIGluIHRoZSB0cmFja2luZ1NldC5cclxuXHQgKiBVbmxpa2Ugb3RoZXIgQVBJcywgdGhpcyBleHBlY3RzIHZlY3RvciBpbmRpY2VzIHRvIG1hdGNoIHRoZSBvcmRlclxyXG5cdCAqIG9mIHRoZSBBY3Rpdml0eVRyYWNraW5nU2V0Lkxpc3QgaW5pdGlhbGx5IHVzZWQgdG8gY29uc3RydWN0IHRoaXMgdHJhY2tlci5cclxuXHQgKiAoV2hlbiBkYXRhIGlzIGNvcGllZCBmcm9tIGEgZGlmZmVyZW50IEluZGV4ZWRUcmFja2VyLCBpdCB3aWxsIHByb3Blcmx5IHVzZSB0aGUgSW5kZXhlZFRyYWNrZXIuSW5kZXggdG8gcXVlcnkgaW50ZXJuYWxzKVxyXG5cdCAqIE5vdGU6XHJcblx0ICogMSkgQXNzdW1lcyBhIGNvdW50IG9mIDAgZm9yIGFueSBtaXNzaW5nIGluZGV4IGluIHVuZGVyc2l6ZWQgYXJyYXlzLlxyXG5cdCAqIDIpIFJlc3BlY3RzIGFuZCBlbmZvcmNlcyBvcmRlcmVkIGxpc3QgaW5pdGlhbGl6YXRpb24gKGkuZS4gYWxsIGluaXQgdmFsdWVzIGFyZSBpZ25vcmVkIG9uY2UgYSB1bmZpbmlzaGVkIGFjdGl2aXR5IGlzXHJcblx0ICogZW5jb3VudGVyZWQgaW4gYW4gb3JkZXJlZCB0cmFja2luZyBsaXN0KS5cclxuXHQgKiAzKSBJZiB0aGUgdHJhY2tlciBpcyBmdWxseSBBY3RpdmF0ZWQgYXMgYSByZXN1bHQgb2YgdGhpcyBjYWxsLCB0aGUgbmV4dCBjYWxsIHRvIEluY3JlbWVudEFjdGl2aXR5IHdpbGwgcmFpc2UgdGhlXHJcblx0ICogSW5jcmVtZW50RWRnZVJlc3VsdC5BbGxBY3Rpdml0aWVzQWN0aXZhdGVkLCBmb3IgYW55IHZhbGlkIGluZGV4IGFjY2VwdGVkIGJ5IElzUGVybWl0dGVkSW5kZXhGb3JBY3RpdmF0aW9uQnlJbml0KCkuXHJcblx0ICovXHJcblx0cHVibGljIGluaXRDb3VudHMoYmFzZWxpbmVDb3VudHM6IG51bWJlcltdLCBvdGhlclRyYWNrZXJzOiBJbmRleGVkVHJhY2tlcltdLCB3YXNBbHJlYWR5QWN0aXZhdGVkVGhpc1Nlc3Npb246IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG5cdFx0Ly8gTk9URTogYmFzZWxpbmVJbmNyZW1lbnRzIGFuZCBzZXNzaW9uSW5jcmVtZW50cyBhcmUgc29ydGVkIHRoZSBzYW1lIGFzIHRoZSBpbml0aWFsIHRyYWNrZWRBY3Rpdml0eSBzZXQsIHdoaWNoXHJcblx0XHQvLyBmb3IgdGhpcyBjbGFzcyBpcyB0aGUgc2FtZSBhcyB0cmFja2VkQWN0aXZpdGllc1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHQvLyBPbmx5IGFjY2VwdCB2YWx1ZXMgdXAgdG8gdGhlIGN1cnJlbnQgaW5kZXgsIHdoZW4gb3JkZXJlZFxyXG5cdFx0XHRpZiAodGhpcy5pc09yZGVyZWQgJiYgaSA+IHRoaXMuY3VycmVudEluZGV4KSB7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFN0YXJ0IG9mZiBieSBwdWxsaW5nIHZhbHVlcyBmcm9tIHRoaXMgc2Vzc2lvblxyXG5cdFx0XHRpZiAoaSA8IG90aGVyVHJhY2tlcnMubGVuZ3RoICYmIG90aGVyVHJhY2tlcnNbaV0pIHtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzW2ldID0gdGhpcy5jdXJyZW50Q291bnRzW2ldID0gb3RoZXJUcmFja2Vyc1tpXS50cmFja2VyLmdldFNlc3Npb25Db3VudChvdGhlclRyYWNrZXJzW2ldLmluZGV4KTtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2ldID0gb3RoZXJUcmFja2Vyc1tpXS50cmFja2VyLmdldFN0YXJ0VGltZShvdGhlclRyYWNrZXJzW2ldLmluZGV4KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgd2UndmUgZ290IGEgYmFzZWxpbmUgZnJvbSBwcmV2aW91cyBzZXNzaW9ucywgYWRkIGl0IGluIGFzIHdlbGxcclxuXHRcdFx0aWYgKHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaV0uZ2V0SXNBZ2dyZWdhdGUoKSAmJiBpIDwgYmFzZWxpbmVDb3VudHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5jdXJyZW50Q291bnRzW2ldICs9IGJhc2VsaW5lQ291bnRzW2ldO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5oYXNDb3VudENyb3NzZWRUaHJlc2hvbGQoaSkpIHtcclxuXHRcdFx0XHR0aGlzLmZpbmlzaEFjdGl2aXR5QXRJbmRleChpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmlzQWN0aXZhdGVkKCkgJiYgIXdhc0FscmVhZHlBY3RpdmF0ZWRUaGlzU2Vzc2lvbikge1xyXG5cdFx0XHQvLyBNYXJrIHRoaXMgb2JqZWN0IHNvIHRoYXQgdGhlIG5leHQgdGltZSBhbnkgcGVybWl0dGVkIGFjdGl2YXRpb24gZXZlbnQgaXMgbG9nZ2VkLCB0aGUgc3VydmV5IHdpbGwgYWN0aXZhdGVcclxuXHRcdFx0dGhpcy5pc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZW5lcmF0ZUFjdGl2aXR5SW5kZXhMaXN0KCk6IEFjdGl2aXR5VHJhY2tlci5BY3Rpdml0eUluZGV4W10ge1xyXG5cdFx0Y29uc3QgaW5kZXhMaXN0ID0gbmV3IEFycmF5PEFjdGl2aXR5VHJhY2tlci5BY3Rpdml0eUluZGV4PigpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnQgPSBuZXcgQWN0aXZpdHlUcmFja2VyLkFjdGl2aXR5SW5kZXgoKTtcclxuXHRcdFx0Y3VycmVudC5hY3Rpdml0eSA9IHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaV0uZ2V0QWN0aXZpdHkoKTtcclxuXHRcdFx0Y3VycmVudC5pbmRleCA9IGk7XHJcblx0XHRcdGluZGV4TGlzdC5wdXNoKGN1cnJlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleExpc3Q7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbmNyZW1lbnRzIHRoZSBjb3VudCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IGJ5IHRoZSBnaXZlbiBpbmNyZW1lbnQuICBSZXR1cm5zIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyXHJcblx0ICogb3Igbm90IHRoaXMgY2FsbCB0cmlnZ2VyZWQgYSB0cmFuc2l0aW9uIGVkZ2UgKGFjdGl2YXRpbmcgdGhlIGFjdGl2aXR5IGF0ICdpbmRleCcsIG9yIGZpbmlzaGluZyB0aGUgYWN0aXZhdGlvblxyXG5cdCAqIG9mIHRoZSBmaW5hbCBwZW5kaW5nIGFjdGl2aXR5KVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBpbmNyZW1lbnRBY3Rpdml0eShpbmRleDogbnVtYmVyLCBpbmNyZW1lbnQ6IG51bWJlcik6IEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuUGVuZGluZztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5jcmVtZW50IDwgMCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJpbmNyZW1lbnQgbXVzdCBiZSBub24tbmVnYXRpdmVcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT3JkZXJlZCBzZXRzIG11c3QgYmUgdHJpZ2dlcmVkIGluIG9yZGVyLiAgV2UgY2FuIG9ubHkgdHJhY2sgYXQgdGhlIGN1cnJlbnQgaW5kZXgsIG9yIGJlZm9yZVxyXG5cdFx0aWYgKHRoaXMuaXNPcmRlcmVkICYmIGluZGV4ID4gdGhpcy5jdXJyZW50SW5kZXgpIHtcclxuXHRcdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuUGVuZGluZztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZGQgdG8gb3VyIGNvdW50cyBhZnRlciBzdG9yaW5nIG9mZiBvdXIgY3VycmVudCBzdGF0ZVxyXG5cdFx0Y29uc3Qgc3RhcnRlZExlc3NUaGFuVGhyZXNob2xkID0gIXRoaXMuaGFzQ291bnRDcm9zc2VkVGhyZXNob2xkKGluZGV4KTtcclxuXHRcdHRoaXMuY3VycmVudENvdW50c1tpbmRleF0gKz0gaW5jcmVtZW50O1xyXG5cdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50c1tpbmRleF0gKz0gaW5jcmVtZW50O1xyXG5cclxuXHRcdGlmICh0aGlzLmlzQWN0aXZhdGlvbkJ5SW5pdFBlbmRpbmcpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNQZXJtaXR0ZWRJbmRleEZvckFjdGl2YXRpb25CeUluaXQoaW5kZXgpKSB7XHJcblx0XHRcdFx0Ly8gVGhpcyB0cmFja2VyIHdhcyBjb21wbGV0ZWQgZHVlIHRvIHRoZSBpbml0aWFsaXphdGlvbiBmcm9tIHByZXZpb3VzIGluY3JlbWVudCBkYXRhXHJcblx0XHRcdFx0Ly8gbm93IHRoYXQgd2UndmUgc3RvcmUgdGhpcyBhY3Rpdml0aWVzIGluY3JlbWVudHMsIHJhaXNlIHRoZSBBbGxBY3Rpdml0aWVzQWN0aXZhdGVkIHNpZ25hbFxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbW1pdEFjdGl2YXRpb24oKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBTdGlsbCB3YWl0aW5nIGZvciBhIHZhbGlkIHJlLWFjdGl2YXRpb24gYWN0aXZpdHlcclxuXHRcdFx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5QZW5kaW5nO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCEoc3RhcnRlZExlc3NUaGFuVGhyZXNob2xkICYmIHRoaXMuaGFzQ291bnRDcm9zc2VkVGhyZXNob2xkKGluZGV4KSkpIHtcclxuXHRcdFx0Ly8gU3RpbGwgd2FpdGluZyBmb3IgdGhpcyBhY3Rpdml0eSB0byBmaW5pc2hcclxuXHRcdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuUGVuZGluZztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNYXJrIHRoaXMgYWN0aXZpdHkgYXMgY29tcGxldGUgaW4gb3VyIGZsYWcgY29sbGVjdGlvblxyXG5cdFx0dGhpcy5maW5pc2hBY3Rpdml0eUF0SW5kZXgoaW5kZXgpO1xyXG5cclxuXHRcdGlmICh0aGlzLmlzQWN0aXZhdGVkKCkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY29tbWl0QWN0aXZhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBBY3Rpdml0eVRyYWNrZXIuSW5jcmVtZW50UmVzdWx0LlNpbmdsZUFjdGl2aXR5QWN0aXZhdGVkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhwbGljaXRseSBzZXRzIGEgc3RhcnQgdGltZXN0YW1wIChub3cgaWYgc3RhcnRUaW1lIGlzIG51bGwpIGZvciB0aGUgc3BlY2lmaWVkIGFjdGl2aXR5IGluZGV4LiBPdmVyd3JpdGVzIGFueSBwcmV2aW91cyBTdGFydFRpbWUuXHJcblx0ICovXHJcblx0cHVibGljIHN0YXJ0VGltZShpbmRleDogbnVtYmVyLCBzdGFydFRpbWU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jdXJyZW50U3RhcnRUaW1lc1tpbmRleF0gPSAoIXN0YXJ0VGltZSkgPyBuZXcgRGF0ZSgpIDogc3RhcnRUaW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29tcHV0ZXMgdGhlIFwiY291bnRcIiBkZWx0YSAoZGVsdGEgaW4gd2hhdGV2ZXIgdW5pdHMgYXJlIGFwcHJvcHJpYXRlIGZvciBhIHN1YnNlcXVlbnQgY2FsbCB0byBJbmNyZW1lbnRBY3Rpdml0eSlcclxuXHQgKiBlbGFwc2VkIGJldHdlZW4gbm93IGFuZCBhIHByZXZpb3VzbHkgbG9nZ2VkIFN0YXJ0VGltZSBmb3IgdGhpcyBhY3Rpdml0eSBpbmRleC5cclxuXHQgKiBBbHdheXMgY2xlYXJzIHRoZSBwcmV2aW91cyBTdGFydFRpbWUuXHJcblx0ICogUmV0dXJucyAwIGlmIG5vIHByZXZpb3VzIFN0YXJ0VGltZSB3YXMgbG9nZ2VkLCBvciBpZiBTdGFydFRpbWUgPiBTdG9wVGltZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdG9wVGltZShpbmRleDogbnVtYmVyLCBzdG9wVGltZT86IERhdGUpOiBudW1iZXIge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gdGhpcy5jdXJyZW50U3RhcnRUaW1lc1tpbmRleF07XHJcblx0XHR0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2luZGV4XSA9IG51bGw7XHJcblxyXG5cdFx0aWYgKCFzdGFydFRpbWUpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0c3RvcFRpbWUgPSAoIXN0b3BUaW1lKSA/IG5ldyBEYXRlKCkgOiBzdG9wVGltZTtcclxuXHRcdGlmIChzdGFydFRpbWUgPiBzdG9wVGltZSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkZWx0YU1TID0gc3RvcFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTtcclxuXHRcdC8vIEN1cnJlbnRseSBhbGwgdGltZXIgYWN0aXZpdGllcyByZXR1cm4gc2Vjb25kcyBhcyB0aGUgaW5jcmVtZW50IHVuaXRcclxuXHRcdGxldCBkaWZmID0gZGVsdGFNUyAvIDEwMDA7XHJcblxyXG5cdFx0Ly8gQWRkaW5nIDFtcyB0byB0aGUgY291bnQgc28gaXQgY2FuIGhhdmUgdGhlIGRlY2ltYWwgcGxhY2VcclxuXHRcdC8vIFNvIHRoYXQgd2UgY2FuIGRpc3Rpbmd1aXNoIHRoZSBUaW1lIGFjdGl2aXR5XHJcblx0XHRpZiAoZGlmZiAlIDEgPT09IDApIHtcclxuXHRcdFx0ZGlmZiArPSAwLjAwMTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGlmZjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaW5kZXggaXMgdmFsaWQgZm9yIGFjY2Vzc2luZyB0aGUgc3RvcmVkIGFjdGl2aXR5IGNvdW50cywgZmFsc2Ugb3RoZXJ3aXNlXHJcblx0ICovXHJcblx0cHVibGljIGlzVmFsaWRJbmRleChpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gaW5kZXggPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgd2hldGhlciBvciBub3QgdGhlIGZ1bGwgc2V0IG9mIGFjdGl2aXRpZXMgZm9yIHRoaXMgdHJhY2tlciBoYXZlIGV4Y2VlZGVkIHRoZWlyIHRyaWdnZXIgdGhyZXNob2xkc1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBpc0FjdGl2YXRlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAodGhpcy5jdXJyZW50QWN0aXZhdGlvbkZsYWdzICYgdGhpcy5hY3RpdmF0aW9uTWFzaykgPT09IHRoaXMuYWN0aXZhdGlvbk1hc2s7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHRcdCogTWFya3MgdGhlIGFjdGl2aXR5IGF0IHRoZSBpbmRleCBhcyBmaW5pc2hlZC4gSW5jbHVkZXMgc2V0dGluZyB0aGUgcHJvcGVyXHJcblx0XHQqIGFjdGl2YXRpb24gZmxhZ3MgYW5kIHBvdGVudGlhbGx5IGFkdmFuY2luZyB0aGUgY3VycmVudCBpbmRleCBmb3Igb3JkZXJlZCB0cmFja2luZyBzZXRzXHJcblx0XHQqL1xyXG5cdHByaXZhdGUgZmluaXNoQWN0aXZpdHlBdEluZGV4KGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkluZGV4IGlzIG5vdCB2YWxpZFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmN1cnJlbnRBY3RpdmF0aW9uRmxhZ3MgfD0gMHgxIDw8IGluZGV4O1xyXG5cclxuXHRcdGlmIChpbmRleCArIDEgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4ICsgMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSBpbmRleCBpbmRleFxyXG5cdCAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgY291bnRzIGZvciB0aGUgYWN0aXZpdHkgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBoYXZlIG1ldCBvciBleGNlZWRlZCB0aGUgdGhyZXNob2xkIGNvdW50LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaGFzQ291bnRDcm9zc2VkVGhyZXNob2xkKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkluZGV4IGlzIG5vdCB2YWxpZFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50Q291bnRzW2luZGV4XSA+PSB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzW2luZGV4XS5nZXRDb3VudCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBpbmRleCByZWZlcnMgdG8gYW4gYWN0aXZpdHkgdGhhdCBjYW4gcmUtYWN0aXZhdGUgYSB0cmFja2VkIG9iamVjdCAoYWthIHJldHVybiBBbGxBY3Rpdml0aWVzQWN0aXZhdGVkKVxyXG5cdCAqIHRoYXQgd2FzIGluaXRpYWxpemVkIGFzIFwiY29tcGxldGVcIiB2aWEgaW5pdENvdW50cy5cclxuXHQgKiBOb3RlOiBGb3IgdW5vcmRlcmVkIHNldHMsIGFueSBhY3Rpdml0eSBpcyB2YWxpZC4gRm9yIG9yZGVyZWQgc2VxdWVuY2VzLCBvbmx5IHRoZSBmaW5hbCBhY3Rpdml0eSBpcyB2YWxpZFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaXNQZXJtaXR0ZWRJbmRleEZvckFjdGl2YXRpb25CeUluaXQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLmlzT3JkZXJlZCB8fCAoKGluZGV4ICsgMSkgPT09IHRoaXMuY3VycmVudENvdW50cy5sZW5ndGgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb21taXRBY3RpdmF0aW9uKCk6IEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQge1xyXG5cdFx0dGhpcy5pc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nID0gZmFsc2U7XHJcblx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5BbGxBY3Rpdml0aWVzQWN0aXZhdGVkO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIEFjdGl2aXR5VHJhY2tlciB7XHJcblx0LyoqXHJcblx0ICogU3RydWN0dXJlIHJldHVybmVkIGJ5IGFuIEFjdGl2aXR5VHJhY2tlciB0byBjYWxsIGJhY2sgaW50b1xyXG5cdCAqIEluY3JlbWVudEFjdGl2aXR5IHdpdGggdmFsaWQgaW5kZXggdmFsdWVzXHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIEFjdGl2aXR5SW5kZXgge1xyXG5cdFx0cHVibGljIGFjdGl2aXR5OiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgaW5kZXg6IG51bWJlcjtcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIEluY3JlbWVudFJlc3VsdCB7XHJcblx0XHQvKipcclxuXHRcdCAqIE5vIHRocmVzaG9sZHMgY3Jvc3NlZCBhcyBhIHJlc3VsdCBvZiB0aGlzIGluY3JlbWVudCBvcGVyYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0UGVuZGluZyxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRoZSB0aHJlc2hvbGQgZm9yIHRoZSB0YXJnZXRlZCBhY3Rpdml0eSBpbmRleCB3YXMgY3Jvc3NlZCBhcyBhIHJlc3VsdCBvZiB0aGlzIGluY3JlbWVudCBvcGVyYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0U2luZ2xlQWN0aXZpdHlBY3RpdmF0ZWQsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgdGhyZXNob2xkIGZvciB0aGUgdGFyZ2V0ZWQgYWN0aXZpdHkgaW5kZXggd2FzIGNyb3NzZWQgYXMgYSByZXN1bHQgb2YgdGhpcyBpbmNyZW1lbnQgb3BlcmF0aW9uXHJcblx0XHQgKiBhbmQgdGhpcyB3YXMgdGhlIGZpbmFsIGFjdGl2aXR5IGJlaW5nIHRyYWNrZWRcclxuXHRcdCAqL1xyXG5cdFx0QWxsQWN0aXZpdGllc0FjdGl2YXRlZCxcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEFjdGl2aXR5VHJhY2tlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTracker.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTrackingContract.js":
/*!*************************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTrackingContract.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityTrackingContract = void 0;\nvar ActivityTrackingContract = /** @class */ (function () {\n    function ActivityTrackingContract(surveyId, trackingSet) {\n        this.surveyId = surveyId;\n        this.trackingSet = trackingSet;\n    }\n    return ActivityTrackingContract;\n}());\nexports.ActivityTrackingContract = ActivityTrackingContract;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdC50cz80NDk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBO0lBSUMsa0NBQW1CLFFBQWdCLEVBQUUsV0FBZ0M7UUFDcEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUNGLCtCQUFDO0FBQUQsQ0FBQztBQVJZLDREQUF3QiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0IHtcclxuXHRwdWJsaWMgc3VydmV5SWQ6IHN0cmluZztcclxuXHRwdWJsaWMgdHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQ7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdXJ2ZXlJZDogc3RyaW5nLCB0cmFja2luZ1NldDogQWN0aXZpdHlUcmFja2luZ1NldCkge1xyXG5cdFx0dGhpcy5zdXJ2ZXlJZCA9IHN1cnZleUlkO1xyXG5cdFx0dGhpcy50cmFja2luZ1NldCA9IHRyYWNraW5nU2V0O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingContract.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTrackingData.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTrackingData.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityTrackingData = void 0;\n/**\n * Basic structure used to configure an ActivityTracker\n */\nvar ActivityTrackingData = /** @class */ (function () {\n    function ActivityTrackingData(activity, count, isAggregate) {\n        this.activity = activity;\n        this.count = count;\n        this.isAggregate = isAggregate;\n    }\n    ActivityTrackingData.prototype.getActivity = function () {\n        return this.activity;\n    };\n    ActivityTrackingData.prototype.getCount = function () {\n        return this.count;\n    };\n    ActivityTrackingData.prototype.setCount = function (count) {\n        this.count = count;\n    };\n    ActivityTrackingData.prototype.getIsAggregate = function () {\n        return this.isAggregate;\n    };\n    return ActivityTrackingData;\n}());\nexports.ActivityTrackingData = ActivityTrackingData;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdEYXRhLnRzP2Q5M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSDtJQUtDLDhCQUFtQixRQUFnQixFQUFFLEtBQWEsRUFBRSxXQUFvQjtRQUN2RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUNoQyxDQUFDO0lBRU0sMENBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdEIsQ0FBQztJQUVNLHVDQUFRLEdBQWY7UUFDQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDbkIsQ0FBQztJQUVNLHVDQUFRLEdBQWYsVUFBZ0IsS0FBYTtRQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRU0sNkNBQWMsR0FBckI7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTFCWSxvREFBb0IiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BY3Rpdml0eVRyYWNraW5nRGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCYXNpYyBzdHJ1Y3R1cmUgdXNlZCB0byBjb25maWd1cmUgYW4gQWN0aXZpdHlUcmFja2VyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ0RhdGEge1xyXG5cdHByaXZhdGUgYWN0aXZpdHk6IHN0cmluZztcclxuXHRwcml2YXRlIGNvdW50OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBpc0FnZ3JlZ2F0ZTogYm9vbGVhbjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGFjdGl2aXR5OiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIGlzQWdncmVnYXRlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmFjdGl2aXR5ID0gYWN0aXZpdHk7XHJcblx0XHR0aGlzLmNvdW50ID0gY291bnQ7XHJcblx0XHR0aGlzLmlzQWdncmVnYXRlID0gaXNBZ2dyZWdhdGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2aXR5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvdW50KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb3VudDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb3VudChjb3VudDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHR0aGlzLmNvdW50ID0gY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SXNBZ2dyZWdhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0FnZ3JlZ2F0ZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingData.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTrackingSet.js":
/*!********************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTrackingSet.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityTrackingSet = void 0;\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/**\n * Class to hold a collection of Activity Tracking Data\n */\nvar ActivityTrackingSet = /** @class */ (function () {\n    function ActivityTrackingSet(isOrdered, list) {\n        this.isOrdered = isOrdered;\n        this.list = list;\n    }\n    ActivityTrackingSet.prototype.getIsOrdered = function () {\n        return this.isOrdered;\n    };\n    ActivityTrackingSet.prototype.getList = function () {\n        return this.list;\n    };\n    // returns a stringified json with the list and isOrdered info.\n    ActivityTrackingSet.prototype.getActivityTrackingInfo = function (activityListener, surveyId) {\n        var activitiesInfoObject;\n        if (this.list.length === 0) {\n            activitiesInfoObject = {\n                Activities: [],\n                IsListOrdered: this.isOrdered,\n            };\n            return JSON.stringify(activitiesInfoObject);\n        }\n        for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n            var trackingData = _a[_i];\n            var actualCount = activityListener.getCount(trackingData.getActivity(), surveyId);\n            var tempActivities = {\n                Activity: trackingData.getActivity(),\n                ActualCount: actualCount,\n                Count: trackingData.getCount(),\n                IsAggregate: trackingData.getIsAggregate(),\n                IsDiscrete: actualCount % 1 === 0,\n            };\n            if (Utils_1.isNOU(activitiesInfoObject)) {\n                activitiesInfoObject = {\n                    Activities: [tempActivities],\n                    IsListOrdered: this.isOrdered,\n                };\n            }\n            else {\n                activitiesInfoObject.Activities.push(tempActivities);\n            }\n        }\n        return JSON.stringify(activitiesInfoObject);\n    };\n    return ActivityTrackingSet;\n}());\nexports.ActivityTrackingSet = ActivityTrackingSet;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdTZXQudHM/Y2YzOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx1RkFBZ0M7QUFFaEM7O0dBRUc7QUFDSDtJQUlDLDZCQUFtQixTQUFrQixFQUFFLElBQTRCO1FBQ2xFLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFFTSwwQ0FBWSxHQUFuQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2QixDQUFDO0lBRU0scUNBQU8sR0FBZDtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRUQsK0RBQStEO0lBQ3hELHFEQUF1QixHQUE5QixVQUErQixnQkFBd0MsRUFBRSxRQUFnQjtRQUV4RixJQUFJLG9CQUdILENBQUM7UUFFRixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUMzQixvQkFBb0IsR0FBRztnQkFDdEIsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsYUFBYSxFQUFFLElBQUksQ0FBQyxTQUFTO2FBQzdCLENBQUM7WUFFRixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQztTQUM1QztRQUVELEtBQTJCLFVBQVMsRUFBVCxTQUFJLENBQUMsSUFBSSxFQUFULGNBQVMsRUFBVCxJQUFTLEVBQUU7WUFBakMsSUFBTSxZQUFZO1lBRXRCLElBQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDcEYsSUFBTSxjQUFjLEdBQUc7Z0JBQ3BCLFFBQVEsRUFBRSxZQUFZLENBQUMsV0FBVyxFQUFFO2dCQUNwQyxXQUFXLEVBQUUsV0FBVztnQkFDeEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxRQUFRLEVBQUU7Z0JBQzlCLFdBQVcsRUFBRSxZQUFZLENBQUMsY0FBYyxFQUFFO2dCQUMxQyxVQUFVLEVBQUUsV0FBVyxHQUFHLENBQUMsS0FBSyxDQUFDO2FBQ2pDLENBQUM7WUFFSixJQUFJLGFBQUssQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO2dCQUNoQyxvQkFBb0IsR0FBRztvQkFDbkIsVUFBVSxFQUFFLENBQUMsY0FBYyxDQUFDO29CQUM1QixhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVM7aUJBQzdCLENBQUM7YUFDTDtpQkFBTTtnQkFDTixvQkFBb0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQ3JEO1NBQ0Q7UUFFRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBQ0YsMEJBQUM7QUFBRCxDQUFDO0FBekRZLGtEQUFtQiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tpbmdTZXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nRGF0YSB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdEYXRhXCI7XHJcbmltcG9ydCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyID0gcmVxdWlyZShcIi4vU3VydmV5QWN0aXZpdHlMaXN0ZW5lclwiKTtcclxuaW1wb3J0IHsgaXNOT1UgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHRvIGhvbGQgYSBjb2xsZWN0aW9uIG9mIEFjdGl2aXR5IFRyYWNraW5nIERhdGFcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRwcml2YXRlIGlzT3JkZXJlZDogYm9vbGVhbjtcclxuXHRwcml2YXRlIGxpc3Q6IEFjdGl2aXR5VHJhY2tpbmdEYXRhW107XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihpc09yZGVyZWQ6IGJvb2xlYW4sIGxpc3Q6IEFjdGl2aXR5VHJhY2tpbmdEYXRhW10pIHtcclxuXHRcdHRoaXMuaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xyXG5cdFx0dGhpcy5saXN0ID0gbGlzdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJc09yZGVyZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc09yZGVyZWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TGlzdCgpOiBBY3Rpdml0eVRyYWNraW5nRGF0YVtdIHtcclxuXHRcdHJldHVybiB0aGlzLmxpc3Q7XHJcblx0fVxyXG5cclxuXHQvLyByZXR1cm5zIGEgc3RyaW5naWZpZWQganNvbiB3aXRoIHRoZSBsaXN0IGFuZCBpc09yZGVyZWQgaW5mby5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHlUcmFja2luZ0luZm8oYWN0aXZpdHlMaXN0ZW5lcjogU3VydmV5QWN0aXZpdHlMaXN0ZW5lciwgc3VydmV5SWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblxyXG5cdFx0bGV0IGFjdGl2aXRpZXNJbmZvT2JqZWN0OiB7XHJcblx0XHRcdEFjdGl2aXRpZXM6IEFycmF5PHsgQWN0aXZpdHk6IHN0cmluZywgQ291bnQ6IG51bWJlciwgSXNBZ2dyZWdhdGU6IGJvb2xlYW4gfT4sXHJcblx0XHRcdElzTGlzdE9yZGVyZWQ6IGJvb2xlYW4sXHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICh0aGlzLmxpc3QubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdGFjdGl2aXRpZXNJbmZvT2JqZWN0ID0ge1xyXG5cdFx0XHRcdEFjdGl2aXRpZXM6IFtdLFxyXG5cdFx0XHRcdElzTGlzdE9yZGVyZWQ6IHRoaXMuaXNPcmRlcmVkLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGFjdGl2aXRpZXNJbmZvT2JqZWN0KTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGNvbnN0IHRyYWNraW5nRGF0YSBvZiB0aGlzLmxpc3QpIHtcclxuXHJcblx0XHRcdGNvbnN0IGFjdHVhbENvdW50ID0gYWN0aXZpdHlMaXN0ZW5lci5nZXRDb3VudCh0cmFja2luZ0RhdGEuZ2V0QWN0aXZpdHkoKSwgc3VydmV5SWQpO1xyXG5cdFx0XHRjb25zdCB0ZW1wQWN0aXZpdGllcyA9IHtcclxuXHRcdFx0XHRcdFx0QWN0aXZpdHk6IHRyYWNraW5nRGF0YS5nZXRBY3Rpdml0eSgpLFxyXG5cdFx0XHRcdFx0XHRBY3R1YWxDb3VudDogYWN0dWFsQ291bnQsXHJcblx0XHRcdFx0XHRcdENvdW50OiB0cmFja2luZ0RhdGEuZ2V0Q291bnQoKSxcclxuXHRcdFx0XHRcdFx0SXNBZ2dyZWdhdGU6IHRyYWNraW5nRGF0YS5nZXRJc0FnZ3JlZ2F0ZSgpLFxyXG5cdFx0XHRcdFx0XHRJc0Rpc2NyZXRlOiBhY3R1YWxDb3VudCAlIDEgPT09IDAsXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGFjdGl2aXRpZXNJbmZvT2JqZWN0KSkge1xyXG5cdFx0XHRcdGFjdGl2aXRpZXNJbmZvT2JqZWN0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0QWN0aXZpdGllczogW3RlbXBBY3Rpdml0aWVzXSxcclxuXHRcdFx0XHRcdFx0XHRcdElzTGlzdE9yZGVyZWQ6IHRoaXMuaXNPcmRlcmVkLFxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWN0aXZpdGllc0luZm9PYmplY3QuQWN0aXZpdGllcy5wdXNoKHRlbXBBY3Rpdml0aWVzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShhY3Rpdml0aWVzSW5mb09iamVjdCk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingSet.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/Api.js":
/*!********************************************!*\
  !*** ../FloodgateCore/dist/src/Api/Api.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Parent module for all modules in Api/\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ISurveyInfo = exports.ISurveyComponent = exports.ISurvey = exports.IFloodgateSettingIdMap = exports.IFloodgateStorageProvider = exports.IActivityListener = void 0;\nvar ISurveyInfo = __webpack_require__(/*! ./../ISurveyInfo */ \"../FloodgateCore/dist/src/ISurveyInfo.js\");\nexports.ISurveyInfo = ISurveyInfo;\nvar IActivityListener = __webpack_require__(/*! ./IActivityListener */ \"../FloodgateCore/dist/src/Api/IActivityListener.js\");\nexports.IActivityListener = IActivityListener;\nvar IFloodgateSettingIdMap = __webpack_require__(/*! ./IFloodgateSettingIdMap */ \"../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js\");\nexports.IFloodgateSettingIdMap = IFloodgateSettingIdMap;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nexports.IFloodgateStorageProvider = IFloodgateStorageProvider;\nvar ISurvey = __webpack_require__(/*! ./ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nexports.ISurvey = ISurvey;\nvar ISurveyComponent = __webpack_require__(/*! ./ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nexports.ISurveyComponent = ISurveyComponent;\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ../Campaign/CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nObject.defineProperty(exports, \"CampaignDefinition\", { enumerable: true, get: function () { return CampaignDefinitionProvider_1.CampaignDefinition; } });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9BcGkudHM/NTljMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQUVILDBHQUFnRDtBQXVDdkMsa0NBQVc7QUF0Q3BCLDZIQUF5RDtBQVFoRCw4Q0FBaUI7QUFQMUIsNElBQW1FO0FBcUIxRCx3REFBc0I7QUFwQi9CLHFKQUF5RTtBQWtCaEUsOERBQXlCO0FBaEJsQywrRkFBcUM7QUE2QjVCLDBCQUFPO0FBNUJoQiwwSEFBdUQ7QUE2QjlDLDRDQUFnQjtBQTNCekIseUtBQTRFO0FBQW5FLGtKQUFrQiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9BcGkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUGFyZW50IG1vZHVsZSBmb3IgYWxsIG1vZHVsZXMgaW4gQXBpL1xyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLy4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIElBY3Rpdml0eUxpc3RlbmVyIGZyb20gXCIuL0lBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCAqIGFzIElGbG9vZGdhdGVTZXR0aW5nSWRNYXAgZnJvbSBcIi4vSUZsb29kZ2F0ZVNldHRpbmdJZE1hcFwiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0lGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuL0lGbG9vZGdhdGVTdHJpbmdQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuL0lTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi9JU3VydmV5Q29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgeyBDYW1wYWlnbkRlZmluaXRpb24gfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuZXhwb3J0IHsgSUFjdGl2aXR5TGlzdGVuZXIgfTtcclxuZXhwb3J0IHsgSUFzc2V0c1Byb3ZpZGVyIH0gZnJvbSBcIi4vSUFzc2V0c1Byb3ZpZGVyXCI7XHJcbmV4cG9ydCB7IElBdWdMb29wQ2FsbGJhY2sgfSBmcm9tIFwiLi9JQXVnTG9vcENhbGxiYWNrXCI7XHJcbmV4cG9ydCB7IElCcHNTdXJ2ZXkgfSBmcm9tIFwiLi9JQnBzU3VydmV5XCI7XHJcbmV4cG9ydCB7IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5leHBvcnQgeyBJQ29tbWVudENvbXBvbmVudCB9IGZyb20gXCIuL0lDb21tZW50Q29tcG9uZW50XCI7XHJcbmV4cG9ydCB7IElDVlN1cnZleUNvbXBvbmVudCB9IGZyb20gXCIuL0lDVlN1cnZleUNvbXBvbmVudFwiO1xyXG5leHBvcnQgeyBJRGF0YVByb3ZpZGVyIH0gZnJvbSBcIi4vSURhdGFQcm92aWRlclwiO1xyXG5leHBvcnQgeyBJRmVlZGJhY2tTdXJ2ZXkgfSBmcm9tIFwiLi9JRmVlZGJhY2tTdXJ2ZXlcIjtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrIH0gZnJvbSBcIi4vSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrXCI7XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyIH0gZnJvbSBcIi4vSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXJcIjtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2sgfSBmcm9tIFwiLi9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIH07XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciB9O1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ0lkTWFwIH07XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgfSBmcm9tIFwiLi9JRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyXCI7XHJcbmV4cG9ydCB7IElGcHNTdXJ2ZXkgfSBmcm9tIFwiLi9JRnBzU3VydmV5XCI7XHJcbmV4cG9ydCB7IElOcHNTdXJ2ZXkgfSBmcm9tIFwiLi9JTnBzU3VydmV5XCI7XHJcbmV4cG9ydCB7IElJbnRlcmNlcHRTdXJ2ZXkgfSBmcm9tIFwiLi9JSW50ZXJjZXB0U3VydmV5XCI7XHJcbmV4cG9ydCB7IElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrIH0gZnJvbSBcIi4vSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2tcIjtcclxuZXhwb3J0IHsgSVByb21wdENvbXBvbmVudCB9IGZyb20gXCIuL0lQcm9tcHRDb21wb25lbnRcIjtcclxuZXhwb3J0IHsgSUludGVyY2VwdENvbXBvbmVudCB9IGZyb20gXCIuL0lJbnRlcmNlcHRDb21wb25lbnRcIjtcclxuZXhwb3J0IHsgSVBzYXRTdXJ2ZXkgfSBmcm9tIFwiLi9JUHNhdFN1cnZleVwiO1xyXG5leHBvcnQgeyBJUmF0aW5nQ29tcG9uZW50IH0gZnJvbSBcIi4vSVJhdGluZ0NvbXBvbmVudFwiO1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0lGbG9vZGdhdGVTZXR0aW5nXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXkgfTtcclxuZXhwb3J0IHsgSVN1cnZleUNvbXBvbmVudCB9O1xyXG5leHBvcnQgeyBJU3VydmV5RG9tV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleURvbVdyaXRlclwiO1xyXG5leHBvcnQgeyBJU3VydmV5Rm9ybSB9IGZyb20gXCIuL0lTdXJ2ZXlGb3JtXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXlKc29uV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleUpzb25Xcml0ZXJcIjtcclxuZXhwb3J0IHsgSVN1cnZleUluZm8gfTtcclxuZXhwb3J0IHsgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIi4vSVN1cnZleUxhdW5jaGVyXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXlMYXVuY2hlckZhY3RvcnkgfSBmcm9tIFwiLi9JU3VydmV5TGF1bmNoZXJGYWN0b3J5XCI7XHJcbmV4cG9ydCB7IElUZWxlbWV0cnlQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vSVRlbGVtZXRyeVByb3BlcnRpZXNcIjtcclxuZXhwb3J0IHsgSVRyYW5zcG9ydGVyIH0gZnJvbSBcIi4vSVRyYW5zcG9ydGVyXCI7XHJcbmV4cG9ydCB7IElUcmFuc3BvcnRlckZhY3RvcnkgfSBmcm9tIFwiLi9JVHJhbnNwb3J0ZXJGYWN0b3J5XCI7XHJcbmV4cG9ydCB7IElVc2VyRmFjdCB9IGZyb20gXCIuLi9Vc2VyRmFjdC9JVXNlckZhY3RcIjtcclxuZXhwb3J0IHsgSVVzZXJGYWN0UHJvdmlkZXIgfSBmcm9tIFwiLi9JVXNlckZhY3RQcm92aWRlclwiO1xyXG5leHBvcnQgeyBJR292ZXJuYW5jZVNlcnZpY2VDbGllbnQgfSBmcm9tIFwiLi9JR292ZXJuYW5jZVNlcnZpY2VDbGllbnRcIjtcclxuZXhwb3J0IHsgSVBlcnNvbmFsaXplckNsaWVudCB9IGZyb20gXCIuL0lQZXJzb25hbGl6ZXJDbGllbnRcIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/Api.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IActivityListener.js":
/*!**********************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IActivityListener.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar IActivityListener;\n(function (IActivityListener) {\n    var ActivityName = /** @class */ (function () {\n        function ActivityName() {\n        }\n        ActivityName.AppLaunch = \"AppLaunch\";\n        ActivityName.AppUsageTime = \"AppUsageTime\";\n        ActivityName.AppResume = \"AppResume\";\n        return ActivityName;\n    }());\n    IActivityListener.ActivityName = ActivityName;\n})(IActivityListener || (IActivityListener = {}));\nmodule.exports = IActivityListener;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JQWN0aXZpdHlMaXN0ZW5lci50cz8yMzBmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUF3QkEsSUFBTyxpQkFBaUIsQ0FVdkI7QUFWRCxXQUFPLGlCQUFpQjtJQUt2QjtRQUFBO1FBSUEsQ0FBQztRQUh1QixzQkFBUyxHQUFHLFdBQVcsQ0FBQztRQUN4Qix5QkFBWSxHQUFHLGNBQWMsQ0FBQztRQUM5QixzQkFBUyxHQUFHLFdBQVcsQ0FBQztRQUNoRCxtQkFBQztLQUFBO0lBSlksOEJBQVksZUFJeEI7QUFDRixDQUFDLEVBVk0saUJBQWlCLEtBQWpCLGlCQUFpQixRQVV2QjtBQUVELGlCQUFTLGlCQUFpQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQXBpL0lBY3Rpdml0eUxpc3RlbmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRoZSBtYWluIGludGVyZmFjZSB0byB1c2Ugd2hlbiBpbnN0cnVtZW50aW5nIHN1cnZleSBhY3Rpdml0aWVzIGluIGFwcCBjb2RlXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdC8qKlxyXG5cdCAqIExvZyBhbiBhY3Rpdml0eSB0byBGbG9vZGdhdGUsIGluY3JlbWVudGluZyBpdHMgb2NjdXJyZW5jZSBjb3VudCBieSB0aGUgZ2l2ZW4gbnVtYmVyIGlmIHNwZWNpZmllZCxcclxuXHQgKiBvdGhlcndpc2UgaW5jcmVtZW50aW5nIGl0cyBvY2N1cnJlbmNlIGNvdW50IGJ5IG9uZSBhcyBkZWZhdWx0XHJcblx0ICovXHJcblx0bG9nQWN0aXZpdHkoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIGluY3JlbWVudD86IG51bWJlciwgY29udGV4dD864oCvSUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5Q29udGV4dCk6IHZvaWQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IGFuIGFjdGl2aXR5IHRpbWVyIChvdmVyd3JpdGluZyBhbnkgcHJldmlvdXNseSB1bmNsb3NlZCBzdGFydCkuXHJcblx0ICogTk9URTogRG9lcyBub3QgaW5jcmVtZW50IHRoZSBhY3Rpdml0eSBjb3VudC5cclxuXHQgKi9cclxuXHRsb2dBY3Rpdml0eVN0YXJ0VGltZShhY3Rpdml0eU5hbWU6IHN0cmluZywgc3RhcnRUaW1lPzogRGF0ZSk6IHZvaWQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3AgYW4gYWN0aXZpdHkgdGltZXIgYW5kIGNsZWFycyB0aGUgcHJldmlvdXMgc3RhcnQgdGltZS5cclxuXHQgKiBBZGRzIHRoZSBlbGFwc2VkIHNlY29uZHMgYmV0d2VlbiB0aGlzIHN0b3AgYW5kIHRoZSBwcmV2aW91cyBzdGFydCBpbnRvIHRoZSBjb3VudCBmb3IgdGhpcyBhY3Rpdml0eVxyXG5cdCAqIFxcbm90ZSBJZiBubyBwcmV2aW91cyBzdGFydCB3YXMgbG9nZ2VkLCBvciBzdGFydCBpcyBzb21laG93IGluIHRoZSBmdXR1cmUsIHJlc3VsdHMgaW4gMCBjb3VudCBpbmNyZW1lbnRcclxuXHQgKi9cclxuXHRsb2dBY3Rpdml0eVN0b3BUaW1lKGFjdGl2aXR5TmFtZTogc3RyaW5nLCBzdG9wVGltZT86IERhdGUpOiB2b2lkO1xyXG59XHJcblxyXG5tb2R1bGUgSUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdGV4cG9ydOKAr2ludGVyZmFjZeKAr0lBY3Rpdml0eUNvbnRleHTigK97XHJcblx0XHRkYXRhPzrigK91bmtub3duO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNsYXNzIEFjdGl2aXR5TmFtZSB7XHJcblx0XHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFwcExhdW5jaCA9IFwiQXBwTGF1bmNoXCI7XHJcblx0XHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFwcFVzYWdlVGltZSA9IFwiQXBwVXNhZ2VUaW1lXCI7XHJcblx0XHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFwcFJlc3VtZSA9IFwiQXBwUmVzdW1lXCI7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBJQWN0aXZpdHlMaXN0ZW5lcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IActivityListener.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js":
/*!***************************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar IFloodgateSettingIdMap;\n(function (IFloodgateSettingIdMap) {\n    /**\n     * Collection of setting names and ids\n     */\n    IFloodgateSettingIdMap.RoamingSettingIdMap = {\n        CampaignStates: 1258,\n        GovernedChannelStates: 1257,\n        SurveyActivationStats: 1259,\n    };\n})(IFloodgateSettingIdMap || (IFloodgateSettingIdMap = {}));\nmodule.exports = IFloodgateSettingIdMap;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JRmxvb2RnYXRlU2V0dGluZ0lkTWFwLnRzP2YzZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU9BLElBQU8sc0JBQXNCLENBUzVCO0FBVEQsV0FBTyxzQkFBc0I7SUFDNUI7O09BRUc7SUFDVSwwQ0FBbUIsR0FBRztRQUNsQyxjQUFjLEVBQUUsSUFBSTtRQUNwQixxQkFBcUIsRUFBRSxJQUFJO1FBQzNCLHFCQUFxQixFQUFFLElBQUk7S0FDM0IsQ0FBQztBQUNILENBQUMsRUFUTSxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBUzVCO0FBRUQsaUJBQVMsc0JBQXNCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVNldHRpbmdJZE1hcC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGEgY29sbGVjdGlvbiBvZiBGbG9vZGdhdGUgc2V0dGluZyBuYW1lcyBhbmQgaWRzXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0cmVhZG9ubHkgW2tleTogc3RyaW5nXTogbnVtYmVyO1xyXG59XHJcblxyXG5tb2R1bGUgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0LyoqXHJcblx0ICogQ29sbGVjdGlvbiBvZiBzZXR0aW5nIG5hbWVzIGFuZCBpZHNcclxuXHQgKi9cclxuXHRleHBvcnQgY29uc3QgUm9hbWluZ1NldHRpbmdJZE1hcCA9IHtcclxuXHRcdENhbXBhaWduU3RhdGVzOiAxMjU4LFxyXG5cdFx0R292ZXJuZWRDaGFubmVsU3RhdGVzOiAxMjU3LFxyXG5cdFx0U3VydmV5QWN0aXZhdGlvblN0YXRzOiAxMjU5LFxyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCA9IElGbG9vZGdhdGVTZXR0aW5nSWRNYXA7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js":
/*!******************************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar IFloodgateStorageProvider;\n(function (IFloodgateStorageProvider) {\n    /**\n     * Enum for the files used by floodgate\n     */\n    var FileType;\n    (function (FileType) {\n        FileType[FileType[\"FloodgateSettings\"] = 0] = \"FloodgateSettings\";\n        FileType[FileType[\"SurveyActivationStats\"] = 1] = \"SurveyActivationStats\";\n        FileType[FileType[\"SurveyEventActivityStats\"] = 2] = \"SurveyEventActivityStats\";\n        FileType[FileType[\"CampaignDefinitions\"] = 3] = \"CampaignDefinitions\";\n        FileType[FileType[\"CampaignStates\"] = 4] = \"CampaignStates\";\n        FileType[FileType[\"GovernedChannelStates\"] = 5] = \"GovernedChannelStates\";\n        FileType[FileType[\"TmsCache_MessageMetadata\"] = 6] = \"TmsCache_MessageMetadata\";\n        FileType[FileType[\"TmsCache_UserGovernance\"] = 7] = \"TmsCache_UserGovernance\";\n        FileType[FileType[\"TmsCache_CampaignContent\"] = 8] = \"TmsCache_CampaignContent\";\n        FileType[FileType[\"Tms_DynamicSettings\"] = 9] = \"Tms_DynamicSettings\";\n        FileType[FileType[\"LogLevelSettings\"] = 10] = \"LogLevelSettings\";\n        FileType[FileType[\"UserFacts\"] = 11] = \"UserFacts\";\n        FileType[FileType[\"DebugOverrides\"] = 12] = \"DebugOverrides\";\n    })(FileType = IFloodgateStorageProvider.FileType || (IFloodgateStorageProvider.FileType = {}));\n})(IFloodgateStorageProvider || (IFloodgateStorageProvider = {}));\nmodule.exports = IFloodgateStorageProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnRzPzkzZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXlCQSxJQUFPLHlCQUF5QixDQW1CL0I7QUFuQkQsV0FBTyx5QkFBeUI7SUFDL0I7O09BRUc7SUFDSCxJQUFZLFFBY1g7SUFkRCxXQUFZLFFBQVE7UUFDbkIsaUVBQWlCO1FBQ2pCLHlFQUFxQjtRQUNyQiwrRUFBd0I7UUFDeEIscUVBQW1CO1FBQ25CLDJEQUFjO1FBQ2QseUVBQXFCO1FBQ3JCLCtFQUF3QjtRQUN4Qiw2RUFBdUI7UUFDdkIsK0VBQXdCO1FBQ3hCLHFFQUFtQjtRQUNuQixnRUFBZ0I7UUFDaEIsa0RBQVM7UUFDVCw0REFBYztJQUNmLENBQUMsRUFkVyxRQUFRLEdBQVIsa0NBQVEsS0FBUixrQ0FBUSxRQWNuQjtBQUNGLENBQUMsRUFuQk0seUJBQXlCLEtBQXpCLHlCQUF5QixRQW1CL0I7QUFFRCxpQkFBUyx5QkFBeUIsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEludGVyZmFjZSBmb3Igc3RvcmluZyBhbmQgcmV0cmlldmluZyBmbG9vZGdhdGUtc3BlY2lmaWMgZGF0YSBmcm9tIHN0b3JhZ2VcclxuICovXHJcbmludGVyZmFjZSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIHtcclxuXHQvKipcclxuXHQgKiBMb2NrIHRoZSBmaWxlIHRvIHByZXZlbnQgYWNjZXNzIGZyb20gYW5vdGhlciBwcm9jZXNzLlxyXG5cdCAqL1xyXG5cdGZpbGVMb2NrKGZpbGVUeXBlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlKTogdm9pZDtcclxuXHJcblx0LyoqXHJcblx0ICogVW5sb2NrIHRoZSBmaWxlLlxyXG5cdCAqL1xyXG5cdGZpbGVVbmxvY2soZmlsZVR5cGU6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUpOiB2b2lkO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZWFkIHRoZSBmaWxlXHJcblx0ICovXHJcblx0cmVhZChmaWxlVHlwZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZSk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogV3JpdGUgdG8gdGhlIGZpbGVcclxuXHQgKi9cclxuXHR3cml0ZShmaWxlVHlwZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZDtcclxufVxyXG5cclxubW9kdWxlIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIge1xyXG5cdC8qKlxyXG5cdCAqIEVudW0gZm9yIHRoZSBmaWxlcyB1c2VkIGJ5IGZsb29kZ2F0ZVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBlbnVtIEZpbGVUeXBlIHtcclxuXHRcdEZsb29kZ2F0ZVNldHRpbmdzLFxyXG5cdFx0U3VydmV5QWN0aXZhdGlvblN0YXRzLFxyXG5cdFx0U3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLFxyXG5cdFx0Q2FtcGFpZ25EZWZpbml0aW9ucyxcclxuXHRcdENhbXBhaWduU3RhdGVzLFxyXG5cdFx0R292ZXJuZWRDaGFubmVsU3RhdGVzLFxyXG5cdFx0VG1zQ2FjaGVfTWVzc2FnZU1ldGFkYXRhLFxyXG5cdFx0VG1zQ2FjaGVfVXNlckdvdmVybmFuY2UsXHJcblx0XHRUbXNDYWNoZV9DYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRUbXNfRHluYW1pY1NldHRpbmdzLFxyXG5cdFx0TG9nTGV2ZWxTZXR0aW5ncyxcclxuXHRcdFVzZXJGYWN0cyxcclxuXHRcdERlYnVnT3ZlcnJpZGVzLFxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/ISurvey.js":
/*!************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/ISurvey.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurvey;\n(function (ISurvey) {\n    var Type;\n    (function (Type) {\n        // A Feedback survey. Contains a single question with a free-form text response\n        Type[Type[\"Feedback\"] = 0] = \"Feedback\";\n        // An NPS (net promoter score) survey. Asks user to rate \"whether or not they would recommend this product to family/friends\".\n        // Contains a prompt, question, and rating\n        Type[Type[\"Nps\"] = 1] = \"Nps\";\n        // A PSAT (product satisfaction) survey. Asks user to rate \"overall, based on their experience, how satisifed are they with this app\"\n        // Contains a prompt, question, and rating\n        Type[Type[\"Psat\"] = 2] = \"Psat\";\n        // A BPS (build promotion) survey. Asks user to choose between Yes and No options of promoting the current build to the next audience ring\n        // Contains a prompt, question, and rating (Yes/No)\n        Type[Type[\"Bps\"] = 3] = \"Bps\";\n        // A FPS (feature promotion) survey. Asks user to rate a given app feature.\n        // Contains a prompt, question, and rating\n        Type[Type[\"Fps\"] = 4] = \"Fps\";\n        // A NLQS (net language quality score) survey. Asks user to rate the language quality.\n        // Contains a prompt, question, and rating\n        Type[Type[\"Nlqs\"] = 5] = \"Nlqs\";\n        // An intercept survey. Asks user if they want to talk to a Microsoft engineer to give feedback.\n        // User can dismiss it or click on it to go to the intercept website, where the experience continues.\n        Type[Type[\"Intercept\"] = 6] = \"Intercept\";\n        // A Generic surface survey that uses content metadata to render a surface.\n        // As of 4th Feb 2019 there are 11 types defined in Mso hence giving a value of 12.\n        Type[Type[\"GenericMessagingSurface\"] = 12] = \"GenericMessagingSurface\";\n    })(Type = ISurvey.Type || (ISurvey.Type = {}));\n    ISurvey.DOM_FEEDBACKSURVEY_TAGNAME = \"FeedbackSurvey\";\n    ISurvey.DOM_NPS_TAGNAME = \"Nps\";\n    ISurvey.DOM_PSAT_TAGNAME = \"Psat\";\n    ISurvey.DOM_BPS_TAGNAME = \"Bps\";\n    ISurvey.DOM_FPS_TAGNAME = \"Fps\";\n    ISurvey.DOM_NLQS_TAGNAME = \"Nlqs\";\n    ISurvey.DOM_INTERCEPT_TAGNAME = \"Intercept\";\n    // If the launcher type is null or undefined in campaign definition then this value will be used as default\n    ISurvey.LAUNCHER_TYPE_DEFAULT = \"survey\";\n})(ISurvey || (ISurvey = {}));\nmodule.exports = ISurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JU3VydmV5LnRzP2ZlZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXNCQSxJQUFPLE9BQU8sQ0FxQ2I7QUFyQ0QsV0FBTyxPQUFPO0lBQ2IsSUFBWSxJQXdCWDtJQXhCRCxXQUFZLElBQUk7UUFDZiwrRUFBK0U7UUFDL0UsdUNBQVk7UUFDWiw4SEFBOEg7UUFDOUgsMENBQTBDO1FBQzFDLDZCQUFPO1FBQ1AscUlBQXFJO1FBQ3JJLDBDQUEwQztRQUMxQywrQkFBUTtRQUNSLDBJQUEwSTtRQUMxSSxtREFBbUQ7UUFDbkQsNkJBQU87UUFDUCwyRUFBMkU7UUFDM0UsMENBQTBDO1FBQzFDLDZCQUFPO1FBQ1Asc0ZBQXNGO1FBQ3RGLDBDQUEwQztRQUMxQywrQkFBUTtRQUNSLGdHQUFnRztRQUNoRyxxR0FBcUc7UUFDckcseUNBQWE7UUFDYiwyRUFBMkU7UUFDM0UsbUZBQW1GO1FBQ25GLHNFQUE0QjtJQUM3QixDQUFDLEVBeEJXLElBQUksR0FBSixZQUFJLEtBQUosWUFBSSxRQXdCZjtJQUVZLGtDQUEwQixHQUFHLGdCQUFnQixDQUFDO0lBQzlDLHVCQUFlLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLHdCQUFnQixHQUFHLE1BQU0sQ0FBQztJQUMxQix1QkFBZSxHQUFHLEtBQUssQ0FBQztJQUN4Qix1QkFBZSxHQUFHLEtBQUssQ0FBQztJQUN4Qix3QkFBZ0IsR0FBRyxNQUFNLENBQUM7SUFDMUIsNkJBQXFCLEdBQUcsV0FBVyxDQUFDO0lBRWpELDJHQUEyRztJQUM5Riw2QkFBcUIsR0FBRyxRQUFRLENBQUM7QUFDL0MsQ0FBQyxFQXJDTSxPQUFPLEtBQVAsT0FBTyxRQXFDYjtBQUVELGlCQUFTLE9BQU8sQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVN1cnZleUZvcm0gfSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlGb3JtXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgeyBJU3VydmV5RG9tV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleURvbVdyaXRlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0lTdXJ2ZXlKc29uV3JpdGVyXCI7XHJcblxyXG4vKipcclxuICogVGhlIGludGVyZmFjZSBmb3IgYWxsIFN1cnZleXNcclxuICogQSBzdXJ2ZXkgaGFzIGEgdHlwZSwgYSBnbG9iYWxseSB1bmlxdWUgaWQgKG90aGVyd2lzZSBvcGFxdWUsIGJ1dCBzdWl0YWJsZSBmb3IgY29ycmVsYXRpb24gd2l0aCB0ZWxlbWV0cnkgYW5kIGZvciBzYXZpbmcgc3RhdHMgaW4gdGhlIHJlZ2lzdHJ5KSxcclxuICogYW4gZXhwaXJhdGlvbiB0aW1lIHRvIGFpZCBpbiBjYWNoZSBjbGVhbnVwLCBhbmQgYW4gYWN0aXZhdGlvbiBldmVudCB0byBjYXVzZSB0aGlzIHN1cnZleSB0byBiZSB0cmlnZ2VyZWRcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5IGV4dGVuZHMgSVN1cnZleUZvcm0sIElTdXJ2ZXlEb21Xcml0ZXIsIElTdXJ2ZXlKc29uV3JpdGVyIHtcclxuXHQvKipcclxuXHQgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBzdXJ2ZXkuXHJcblx0ICovXHJcblx0Z2V0VHlwZSgpOiBJU3VydmV5LlR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBiYXNpYyByb290LWxldmVsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgc3VydmV5XHJcblx0ICovXHJcblx0Z2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbztcclxufVxyXG5cclxubW9kdWxlIElTdXJ2ZXkge1xyXG5cdGV4cG9ydCBlbnVtIFR5cGUge1xyXG5cdFx0Ly8gQSBGZWVkYmFjayBzdXJ2ZXkuIENvbnRhaW5zIGEgc2luZ2xlIHF1ZXN0aW9uIHdpdGggYSBmcmVlLWZvcm0gdGV4dCByZXNwb25zZVxyXG5cdFx0RmVlZGJhY2sgPSAwLFxyXG5cdFx0Ly8gQW4gTlBTIChuZXQgcHJvbW90ZXIgc2NvcmUpIHN1cnZleS4gQXNrcyB1c2VyIHRvIHJhdGUgXCJ3aGV0aGVyIG9yIG5vdCB0aGV5IHdvdWxkIHJlY29tbWVuZCB0aGlzIHByb2R1Y3QgdG8gZmFtaWx5L2ZyaWVuZHNcIi5cclxuXHRcdC8vIENvbnRhaW5zIGEgcHJvbXB0LCBxdWVzdGlvbiwgYW5kIHJhdGluZ1xyXG5cdFx0TnBzID0gMSxcclxuXHRcdC8vIEEgUFNBVCAocHJvZHVjdCBzYXRpc2ZhY3Rpb24pIHN1cnZleS4gQXNrcyB1c2VyIHRvIHJhdGUgXCJvdmVyYWxsLCBiYXNlZCBvbiB0aGVpciBleHBlcmllbmNlLCBob3cgc2F0aXNpZmVkIGFyZSB0aGV5IHdpdGggdGhpcyBhcHBcIlxyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nXHJcblx0XHRQc2F0ID0gMixcclxuXHRcdC8vIEEgQlBTIChidWlsZCBwcm9tb3Rpb24pIHN1cnZleS4gQXNrcyB1c2VyIHRvIGNob29zZSBiZXR3ZWVuIFllcyBhbmQgTm8gb3B0aW9ucyBvZiBwcm9tb3RpbmcgdGhlIGN1cnJlbnQgYnVpbGQgdG8gdGhlIG5leHQgYXVkaWVuY2UgcmluZ1xyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nIChZZXMvTm8pXHJcblx0XHRCcHMgPSAzLFxyXG5cdFx0Ly8gQSBGUFMgKGZlYXR1cmUgcHJvbW90aW9uKSBzdXJ2ZXkuIEFza3MgdXNlciB0byByYXRlIGEgZ2l2ZW4gYXBwIGZlYXR1cmUuXHJcblx0XHQvLyBDb250YWlucyBhIHByb21wdCwgcXVlc3Rpb24sIGFuZCByYXRpbmdcclxuXHRcdEZwcyA9IDQsXHJcblx0XHQvLyBBIE5MUVMgKG5ldCBsYW5ndWFnZSBxdWFsaXR5IHNjb3JlKSBzdXJ2ZXkuIEFza3MgdXNlciB0byByYXRlIHRoZSBsYW5ndWFnZSBxdWFsaXR5LlxyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nXHJcblx0XHRObHFzID0gNSxcclxuXHRcdC8vIEFuIGludGVyY2VwdCBzdXJ2ZXkuIEFza3MgdXNlciBpZiB0aGV5IHdhbnQgdG8gdGFsayB0byBhIE1pY3Jvc29mdCBlbmdpbmVlciB0byBnaXZlIGZlZWRiYWNrLlxyXG5cdFx0Ly8gVXNlciBjYW4gZGlzbWlzcyBpdCBvciBjbGljayBvbiBpdCB0byBnbyB0byB0aGUgaW50ZXJjZXB0IHdlYnNpdGUsIHdoZXJlIHRoZSBleHBlcmllbmNlIGNvbnRpbnVlcy5cclxuXHRcdEludGVyY2VwdCA9IDYsXHJcblx0XHQvLyBBIEdlbmVyaWMgc3VyZmFjZSBzdXJ2ZXkgdGhhdCB1c2VzIGNvbnRlbnQgbWV0YWRhdGEgdG8gcmVuZGVyIGEgc3VyZmFjZS5cclxuXHRcdC8vIEFzIG9mIDR0aCBGZWIgMjAxOSB0aGVyZSBhcmUgMTEgdHlwZXMgZGVmaW5lZCBpbiBNc28gaGVuY2UgZ2l2aW5nIGEgdmFsdWUgb2YgMTIuXHJcblx0XHRHZW5lcmljTWVzc2FnaW5nU3VyZmFjZSA9IDEyLFxyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNvbnN0IERPTV9GRUVEQkFDS1NVUlZFWV9UQUdOQU1FID0gXCJGZWVkYmFja1N1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fTlBTX1RBR05BTUUgPSBcIk5wc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fUFNBVF9UQUdOQU1FID0gXCJQc2F0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9CUFNfVEFHTkFNRSA9IFwiQnBzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9GUFNfVEFHTkFNRSA9IFwiRnBzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9OTFFTX1RBR05BTUUgPSBcIk5scXNcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lOVEVSQ0VQVF9UQUdOQU1FID0gXCJJbnRlcmNlcHRcIjtcclxuXHJcblx0Ly8gSWYgdGhlIGxhdW5jaGVyIHR5cGUgaXMgbnVsbCBvciB1bmRlZmluZWQgaW4gY2FtcGFpZ24gZGVmaW5pdGlvbiB0aGVuIHRoaXMgdmFsdWUgd2lsbCBiZSB1c2VkIGFzIGRlZmF1bHRcclxuXHRleHBvcnQgY29uc3QgTEFVTkNIRVJfVFlQRV9ERUZBVUxUID0gXCJzdXJ2ZXlcIjtcclxufVxyXG5cclxuZXhwb3J0ID0gSVN1cnZleTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/ISurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/ISurveyComponent.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/ISurveyComponent.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent;\n(function (ISurveyComponent) {\n    ISurveyComponent.DOM_PROMPT_TAGNAME = \"Prompt\";\n    ISurveyComponent.DOM_COMMENT_TAGNAME = \"Comment\";\n    ISurveyComponent.DOM_RATING_TAGNAME = \"Rating\";\n    ISurveyComponent.DOM_CVSURVEY_TAGNAME = \"CVSurvey\";\n    ISurveyComponent.DOM_MULTIPLECHOICE_TAGNAME = \"MultipleChoice\";\n    ISurveyComponent.DOM_INTERCEPT_TAGNAME = \"Intercept\";\n    ISurveyComponent.JSON_INTERCEPT_KEYNAME = \"intercept\";\n    ISurveyComponent.JSON_INTERCEPTURL_KEYNAME = \"url\";\n    ISurveyComponent.JSON_PROMPT_KEYNAME = \"prompt\";\n    ISurveyComponent.JSON_PROMPTYESTEXT_KEYNAME = \"yesButtonText\";\n    ISurveyComponent.JSON_PROMPTNOTEXT_KEYNAME = \"noButtonText\";\n    ISurveyComponent.JSON_COMMENT_KEYNAME = \"comment\";\n    ISurveyComponent.JSON_RATING_KEYNAME = \"rating\";\n    ISurveyComponent.JSON_CVSURVEY_KEYNAME = \"cvSurvey\";\n    ISurveyComponent.JSON_CVSURVEYFORMID_KEYNAME = \"formId\";\n    ISurveyComponent.JSON_CVSURVEYTHEME_KEYNAME = \"theme\";\n    ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME = \"options\";\n    ISurveyComponent.JSON_CVSURVEYPRODUCTNAME_KEYNAME = \"productName\";\n    ISurveyComponent.JSON_CVSURVEYUIHOST_KEYNAME = \"uiHost\";\n    ISurveyComponent.JSON_CVSURVEYPLATFORM_KEYNAME = \"platform\";\n    ISurveyComponent.JSON_TITLE_KEYNAME = \"title\";\n    ISurveyComponent.JSON_QUESTION_KEYNAME = \"question\";\n    ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME = \"multipleChoice\";\n    ISurveyComponent.JSON_APPLICATION_KEYNAME = \"application\";\n    ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME = \"extendedManifestData\";\n    ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME = \"surveyStrings\";\n    ISurveyComponent.JSON_SURVEYSPECIFICDATA_KEYNAME = \"surveySpecificData\";\n})(ISurveyComponent || (ISurveyComponent = {}));\nmodule.exports = ISurveyComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JU3VydmV5Q29tcG9uZW50LnRzP2IzMzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVFBLElBQU8sZ0JBQWdCLENBZ0R0QjtBQWhERCxXQUFPLGdCQUFnQjtJQXFCVCxtQ0FBa0IsR0FBRyxRQUFRLENBQUM7SUFDOUIsb0NBQW1CLEdBQUcsU0FBUyxDQUFDO0lBQ2hDLG1DQUFrQixHQUFHLFFBQVEsQ0FBQztJQUM5QixxQ0FBb0IsR0FBRyxVQUFVLENBQUM7SUFDbEMsMkNBQTBCLEdBQUcsZ0JBQWdCLENBQUM7SUFDOUMsc0NBQXFCLEdBQUcsV0FBVyxDQUFDO0lBQ3BDLHVDQUFzQixHQUFHLFdBQVcsQ0FBQztJQUNyQywwQ0FBeUIsR0FBRyxLQUFLLENBQUM7SUFDbEMsb0NBQW1CLEdBQUcsUUFBUSxDQUFDO0lBQy9CLDJDQUEwQixHQUFHLGVBQWUsQ0FBQztJQUM3QywwQ0FBeUIsR0FBRyxjQUFjLENBQUM7SUFDM0MscUNBQW9CLEdBQUcsU0FBUyxDQUFDO0lBQ2pDLG9DQUFtQixHQUFHLFFBQVEsQ0FBQztJQUMvQixzQ0FBcUIsR0FBRyxVQUFVLENBQUM7SUFDbkMsNENBQTJCLEdBQUcsUUFBUSxDQUFDO0lBQ3ZDLDJDQUEwQixHQUFHLE9BQU8sQ0FBQztJQUNyQywyQ0FBMEIsR0FBRyxTQUFTLENBQUM7SUFDdkMsaURBQWdDLEdBQUcsYUFBYSxDQUFDO0lBQ2pELDRDQUEyQixHQUFHLFFBQVEsQ0FBQztJQUN2Qyw4Q0FBNkIsR0FBRyxVQUFVLENBQUM7SUFDM0MsbUNBQWtCLEdBQUcsT0FBTyxDQUFDO0lBQzdCLHNDQUFxQixHQUFHLFVBQVUsQ0FBQztJQUNuQyw0Q0FBMkIsR0FBRyxnQkFBZ0IsQ0FBQztJQUMvQyx5Q0FBd0IsR0FBRyxhQUFhLENBQUM7SUFDekMsa0RBQWlDLEdBQUcsc0JBQXNCLENBQUM7SUFDM0QsMkNBQTBCLEdBQUcsZUFBZSxDQUFDO0lBQzdDLGdEQUErQixHQUFHLG9CQUFvQixDQUFDO0FBQ3JFLENBQUMsRUFoRE0sZ0JBQWdCLEtBQWhCLGdCQUFnQixRQWdEdEI7QUFFRCxpQkFBUyxnQkFBZ0IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JU3VydmV5Q29tcG9uZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEJhc2UgaW50ZXJmYWNlIGZvciBhIFN1cnZleUNvbXBvbmVudCAoaS5lLiBhIHF1ZXN0aW9uL3dpZGdldCB0byBzaG93IHRoZSB1c2VyXHJcbiAqIGluIGEgc3VydmV5IGZvcm0sIGFuZCB0aGF0IHR5cGljYWxseSByZXF1aXJlcyBhIHJlc3BvbnNlIHZhbHVlIG9mIHNvbWUga2luZClcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRnZXRUeXBlKCk6IElTdXJ2ZXlDb21wb25lbnQuVHlwZTtcclxufVxyXG5cclxubW9kdWxlIElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjb25zdCBlbnVtIFR5cGUge1xyXG5cdFx0Ly8gQSBxdWljayBwb3AtdXAgcmVxdWVzdGluZyBwYXJ0aWNpcGF0aW9uIGluIGEgc3VydmV5XHJcblx0XHRQcm9tcHQgPSBcIlByb21wdFwiLFxyXG5cclxuXHRcdC8vIEEgcXVlc3Rpb24gcGFpcmVkIHdpdGggYSBmcmVlLWZvcm0gdGV4dCByZXNwb25zZVxyXG5cdFx0Q29tbWVudCA9IFwiQ29tbWVudFwiLFxyXG5cclxuXHRcdC8vIEEgcXVlc3Rpb24gYXNraW5nIGZvciBhIHNlbGVjdGlvbiBmcm9tIGEgbGlzdCBvZiBhbGxvd2VkIHZhbHVlcyB3aXRoIG51bWVyaWMgbWVhbmluZ1xyXG5cdFx0UmF0aW5nID0gXCJSYXRpbmdcIixcclxuXHJcblx0XHQvLyBJbmZvcm1hdGlvbiBuZWVkZWQgdG8gcGFzcyBpbnRvIENWU3VydmV5XHJcblx0XHRDVlN1cnZleSA9IFwiQ1ZTdXJ2ZXlcIixcclxuXHJcblx0XHQvLyBBIHF1ZXN0aW9uIGFza2luZyBmb3Igb25lIG9yIG1vcmUgc2VsZWN0aW9ucyBmcm9tIGEgbGlzdCBvZiBhbGxvd2VkIHZhbHVlc1xyXG5cdFx0TXVsdGlwbGVDaG9pY2UgPSBcIk11bHRpcGxlQ2hvaWNlXCIsXHJcblxyXG5cdFx0Ly8gQSBwb3AtdXAgZGlhbG9nIHJlcXVlc3RpbmcgcGFydGljaXBhdGlvbiBpbiBhbiBJbnRlcmNlcHQgc2Vzc2lvblxyXG5cdFx0SW50ZXJjZXB0ID0gXCJJbnRlcmNlcHRcIixcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBET01fUFJPTVBUX1RBR05BTUUgPSBcIlByb21wdFwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fQ09NTUVOVF9UQUdOQU1FID0gXCJDb21tZW50XCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9SQVRJTkdfVEFHTkFNRSA9IFwiUmF0aW5nXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9DVlNVUlZFWV9UQUdOQU1FID0gXCJDVlN1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fTVVMVElQTEVDSE9JQ0VfVEFHTkFNRSA9IFwiTXVsdGlwbGVDaG9pY2VcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lOVEVSQ0VQVF9UQUdOQU1FID0gXCJJbnRlcmNlcHRcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9JTlRFUkNFUFRfS0VZTkFNRSA9IFwiaW50ZXJjZXB0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fSU5URVJDRVBUVVJMX0tFWU5BTUUgPSBcInVybFwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1BST01QVF9LRVlOQU1FID0gXCJwcm9tcHRcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9QUk9NUFRZRVNURVhUX0tFWU5BTUUgPSBcInllc0J1dHRvblRleHRcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9QUk9NUFROT1RFWFRfS0VZTkFNRSA9IFwibm9CdXR0b25UZXh0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQ09NTUVOVF9LRVlOQU1FID0gXCJjb21tZW50XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fUkFUSU5HX0tFWU5BTUUgPSBcInJhdGluZ1wiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0NWU1VSVkVZX0tFWU5BTUUgPSBcImN2U3VydmV5XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQ1ZTVVJWRVlGT1JNSURfS0VZTkFNRSA9IFwiZm9ybUlkXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQ1ZTVVJWRVlUSEVNRV9LRVlOQU1FID0gXCJ0aGVtZVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1JBVElOR09QVElPTlNfS0VZTkFNRSA9IFwib3B0aW9uc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0NWU1VSVkVZUFJPRFVDVE5BTUVfS0VZTkFNRSA9IFwicHJvZHVjdE5hbWVcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9DVlNVUlZFWVVJSE9TVF9LRVlOQU1FID0gXCJ1aUhvc3RcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9DVlNVUlZFWVBMQVRGT1JNX0tFWU5BTUUgPSBcInBsYXRmb3JtXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fVElUTEVfS0VZTkFNRSA9IFwidGl0bGVcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9RVUVTVElPTl9LRVlOQU1FID0gXCJxdWVzdGlvblwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX01VTFRJUExFQ0hPSUNFX0tFWU5BTUUgPSBcIm11bHRpcGxlQ2hvaWNlXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQVBQTElDQVRJT05fS0VZTkFNRSA9IFwiYXBwbGljYXRpb25cIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9FWFRFTkRFRE1BTklGRVNUREFUQV9LRVlOQU1FID0gXCJleHRlbmRlZE1hbmlmZXN0RGF0YVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1NVUlZFWVNUUklOR1NfS0VZTkFNRSA9IFwic3VydmV5U3RyaW5nc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1NVUlZFWVNQRUNJRklDREFUQV9LRVlOQU1FID0gXCJzdXJ2ZXlTcGVjaWZpY0RhdGFcIjtcclxufVxyXG5cclxuZXhwb3J0ID0gSVN1cnZleUNvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/ISurveyComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js":
/*!************************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemCampaignDefinitionProvider = exports.FilterValidCampaignDefinitions = exports.CampaignDefinition = exports.CampaignSurveyTemplateIntercept = exports.CampaignSurveyTemplateGenericMessagingSurface = exports.CampaignSurveyTemplateNps11PointStatic = exports.CampaignSurveyTemplateNps5PointStatic = exports.CampaignSurveyTemplateNps = exports.CampaignSurveyTemplateNlqs = exports.CampaignSurveyTemplateFps = exports.CampaignSurveyTemplate = exports.CampaignSurveyMetadata = exports.CampaignSurveyContentComment = exports.CampaignSurveyContentRating = exports.CampaignSurveyContentIntercept = exports.CampaignSurveyContentPrompt = exports.CampaignSurveyContentCVSurvey = exports.CampaignSurveyContentMultipleChoice = exports.CampaignSurveyContent = exports.CampaignSurveyEventCountedActivitySequence = exports.CampaignSurveyEventCountedActivity = exports.CampaignSurveyEvent = exports.CampaignNominationSchemeRatioPercentage = exports.CampaignNominationScheme = exports.CampaignDistributionRamp = exports.CampaignDistribution = exports.CampaignAdditionalDataRequested = exports.CampaignDurationSingleBuildChange = exports.CampaignDurationTimeInterval = exports.CampaignDuration = exports.CampaignScopeUserFactAll = exports.CampaignScopeUserFactAny = exports.CampaignScopeEnvironmentCrossProduct = exports.CampaignScopeAny = exports.CampaignScope = exports.CampaignLanguageRangeLanguageSubtag = exports.CampaignLanguageRange = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ../Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ../GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar UserFactHelper_1 = __webpack_require__(/*! ../UserFact/UserFactHelper */ \"../FloodgateCore/dist/src/UserFact/UserFactHelper.js\");\nvar getDistantFuture = Utils.getDistantFuture, isBoolean = Utils.isBoolean, isNOU = Utils.isNOU, isNumber = Utils.isNumber, isString = Utils.isString, isUtcDatetimeString = Utils.isUtcDatetimeString, stringToDate = Utils.stringToDate;\n// region Language Range\n/**\n * Base class representing a language range in a campaign setting\n */\nvar CampaignLanguageRange = /** @class */ (function () {\n    function CampaignLanguageRange() {\n    }\n    CampaignLanguageRange.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignLanguageRangeLanguageSubtag.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignLanguageRange.prototype.validate = function () {\n        return true;\n    };\n    return CampaignLanguageRange;\n}());\nexports.CampaignLanguageRange = CampaignLanguageRange;\n/**\n * Represents a range matching on the \"language subtag\" against fully specified language tags, according to RFC 5646\n */\nvar CampaignLanguageRangeLanguageSubtag = /** @class */ (function (_super) {\n    __extends(CampaignLanguageRangeLanguageSubtag, _super);\n    // public for UT only\n    function CampaignLanguageRangeLanguageSubtag() {\n        return _super.call(this) || this;\n    }\n    CampaignLanguageRangeLanguageSubtag.deserialize = function (input) {\n        var result = new CampaignLanguageRangeLanguageSubtag();\n        if (input) {\n            result.languageSubTag = input.Value;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignLanguageRangeLanguageSubtag.prototype.isInRange = function (language) {\n        if (isNOU(language)) {\n            return false;\n        }\n        var extractedLanguageSubTag = Utils.extractLanguageSubtag(language);\n        if (isNOU(extractedLanguageSubTag)) {\n            return false;\n        }\n        // compare strings ignoring case\n        return extractedLanguageSubTag.toLocaleUpperCase() === this.languageSubTag.toLocaleUpperCase();\n    };\n    // @Override\n    CampaignLanguageRangeLanguageSubtag.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.languageSubTag) || !isString(this.languageSubTag)) {\n            return false;\n        }\n        // Reject any spec that isn't exactly a language subtag\n        if (!Utils.isValidLanguageSubTag(this.languageSubTag)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignLanguageRangeLanguageSubtag;\n}(CampaignLanguageRange));\nexports.CampaignLanguageRangeLanguageSubtag = CampaignLanguageRangeLanguageSubtag;\n// endregion\n// region Scope\nvar CampaignScope = /** @class */ (function () {\n    function CampaignScope() {\n    }\n    CampaignScope.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0 /* CampaignScopeAny */:\n                result = CampaignScopeAny.deserialize(input);\n                break;\n            case 1 /* CampaignScopeEnvironmentCrossProduct */:\n                result = CampaignScopeEnvironmentCrossProduct.deserialize(input);\n                break;\n            case 2 /* CampaignScopeUserFactAny */:\n                result = CampaignScopeUserFactAny.deserialize(input);\n                break;\n            case 3 /* CampaignScopeUserFactAll */:\n                result = CampaignScopeUserFactAll.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScope.prototype.validate = function () {\n        return true;\n    };\n    return CampaignScope;\n}());\nexports.CampaignScope = CampaignScope;\nvar CampaignScopeAny = /** @class */ (function (_super) {\n    __extends(CampaignScopeAny, _super);\n    // public for UT only\n    function CampaignScopeAny() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeAny.deserialize = function (input) {\n        return new CampaignScopeAny();\n    };\n    // @Override\n    CampaignScopeAny.prototype.isInScope = function () {\n        return true;\n    };\n    // @Override\n    CampaignScopeAny.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignScopeAny;\n}(CampaignScope));\nexports.CampaignScopeAny = CampaignScopeAny;\nvar CampaignScopeEnvironmentCrossProduct = /** @class */ (function (_super) {\n    __extends(CampaignScopeEnvironmentCrossProduct, _super);\n    // public for UT only\n    function CampaignScopeEnvironmentCrossProduct() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeEnvironmentCrossProduct.deserialize = function (input) {\n        var result = new CampaignScopeEnvironmentCrossProduct();\n        var languageRanges = [];\n        if (isNOU(input)) {\n            return null;\n        }\n        for (var key in input.Languages) {\n            if (input.Languages.hasOwnProperty(key)) {\n                var readRange = input.Languages[key];\n                if (readRange) {\n                    languageRanges.push(CampaignLanguageRange.deserialize(readRange));\n                }\n            }\n        }\n        if (languageRanges.length === 0) {\n            languageRanges = null;\n        }\n        result.languageRanges = languageRanges;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeEnvironmentCrossProduct.prototype.setEnvironmentProvider = function (environmentProvider) {\n        this.environmentProvider = environmentProvider;\n    };\n    // @Override\n    CampaignScopeEnvironmentCrossProduct.prototype.isInScope = function () {\n        if (isNOU(this.languageRanges)) {\n            return true;\n        }\n        if (isNOU(this.environmentProvider) || !this.environmentProvider.getLanguage()) {\n            return false;\n        }\n        var language = this.environmentProvider.getLanguage();\n        // If the environment matches a single pattern, then this is a yes\n        for (var key in this.languageRanges) {\n            if (this.languageRanges.hasOwnProperty(key)) {\n                var range = this.languageRanges[key];\n                if (range.isInRange(language)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // @Override\n    CampaignScopeEnvironmentCrossProduct.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        // Null languageRanges is allowed, means will match with everything.\n        if (this.languageRanges) {\n            for (var key in this.languageRanges) {\n                if (this.languageRanges.hasOwnProperty(key) && !this.languageRanges[key]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignScopeEnvironmentCrossProduct;\n}(CampaignScope));\nexports.CampaignScopeEnvironmentCrossProduct = CampaignScopeEnvironmentCrossProduct;\nvar CampaignScopeUserFactAny = /** @class */ (function (_super) {\n    __extends(CampaignScopeUserFactAny, _super);\n    // public for UT only\n    function CampaignScopeUserFactAny() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeUserFactAny.deserialize = function (input) {\n        var result = new CampaignScopeUserFactAny();\n        result.userFacts = UserFactHelper_1.deserializeUserFacts(input);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeUserFactAny.prototype.setUserFactsProvider = function (userFactsProvider) {\n        this.userFactsProvider = userFactsProvider;\n    };\n    // @Override\n    CampaignScopeUserFactAny.prototype.isInScope = function () {\n        var _this = this;\n        if (isNOU(this.userFacts)) {\n            return true;\n        }\n        if (!this.userFactsProvider) {\n            return false;\n        }\n        // If one of the user fact matches, then this is a yes\n        return this.userFacts.some(function (userFact) {\n            var rawUserFact = _this.userFactsProvider.getUserFact(userFact.getName());\n            return userFact.isAMatch(rawUserFact);\n        });\n    };\n    // @Override\n    CampaignScopeUserFactAny.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return UserFactHelper_1.validateUserFacts(this.userFacts);\n    };\n    return CampaignScopeUserFactAny;\n}(CampaignScope));\nexports.CampaignScopeUserFactAny = CampaignScopeUserFactAny;\nvar CampaignScopeUserFactAll = /** @class */ (function (_super) {\n    __extends(CampaignScopeUserFactAll, _super);\n    // public for UT only\n    function CampaignScopeUserFactAll() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeUserFactAll.deserialize = function (input) {\n        var result = new CampaignScopeUserFactAll();\n        result.userFacts = UserFactHelper_1.deserializeUserFacts(input);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeUserFactAll.prototype.setUserFactsProvider = function (userFactsProvider) {\n        this.userFactsProvider = userFactsProvider;\n    };\n    // @Override\n    CampaignScopeUserFactAll.prototype.isInScope = function () {\n        var _this = this;\n        if (isNOU(this.userFacts)) {\n            return true;\n        }\n        if (!this.userFactsProvider) {\n            return false;\n        }\n        // Get all of the mismatched user facts\n        var mismatchedFacts = this.userFacts.filter(function (userFact) {\n            var rawUserFact = _this.userFactsProvider.getUserFact(userFact.getName());\n            return !userFact.isAMatch(rawUserFact);\n        });\n        if (mismatchedFacts.length > 0) {\n            var mismatchedNames = mismatchedFacts.map(function (userFact) { return userFact.getName(); });\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Summary, {\n                Count: mismatchedFacts.length,\n                Message: mismatchedNames.toString(),\n            });\n            return false;\n        }\n        // If all of the user facts match, then this is a yes\n        return true;\n    };\n    // @Override\n    CampaignScopeUserFactAll.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return UserFactHelper_1.validateUserFacts(this.userFacts);\n    };\n    return CampaignScopeUserFactAll;\n}(CampaignScope));\nexports.CampaignScopeUserFactAll = CampaignScopeUserFactAll;\n// endregion\n// region Durations\n/**\n * Base class representing a duration in a campaign setting\n */\nvar CampaignDuration = /** @class */ (function () {\n    function CampaignDuration() {\n    }\n    CampaignDuration.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0:\n                result = CampaignDurationTimeInterval.deserialize(input);\n                break;\n            case 1:\n                result = CampaignDurationSingleBuildChange.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDuration.prototype.validate = function () {\n        return true;\n    };\n    return CampaignDuration;\n}());\nexports.CampaignDuration = CampaignDuration;\n/**\n * A Duration expressed in seconds. UTC datetime comparisons are used to determine expiration.\n */\nvar CampaignDurationTimeInterval = /** @class */ (function (_super) {\n    __extends(CampaignDurationTimeInterval, _super);\n    // public for UT only\n    function CampaignDurationTimeInterval() {\n        return _super.call(this) || this;\n    }\n    CampaignDurationTimeInterval.deserialize = function (input) {\n        var result = new CampaignDurationTimeInterval();\n        if (input) {\n            result.intervalSeconds = input.IntervalSeconds;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignDurationTimeInterval.prototype.asTimeIntervalSeconds = function () {\n        return this.intervalSeconds;\n    };\n    // @Override\n    CampaignDurationTimeInterval.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.intervalSeconds)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDurationTimeInterval;\n}(CampaignDuration));\nexports.CampaignDurationTimeInterval = CampaignDurationTimeInterval;\n/**\n * A Duration representing exactly 1 change in build number\n */\nvar CampaignDurationSingleBuildChange = /** @class */ (function (_super) {\n    __extends(CampaignDurationSingleBuildChange, _super);\n    // public for UT only\n    function CampaignDurationSingleBuildChange() {\n        return _super.call(this) || this;\n    }\n    CampaignDurationSingleBuildChange.deserialize = function (input) {\n        return new CampaignDurationSingleBuildChange();\n    };\n    // @Override\n    CampaignDurationSingleBuildChange.prototype.asTimeIntervalSeconds = function () {\n        return null;\n    };\n    return CampaignDurationSingleBuildChange;\n}(CampaignDuration));\nexports.CampaignDurationSingleBuildChange = CampaignDurationSingleBuildChange;\n/**\n * Class representing AdditionalDataRequested in CampaignDefinition\n */\nvar CampaignAdditionalDataRequested = /** @class */ (function () {\n    function CampaignAdditionalDataRequested() {\n    }\n    CampaignAdditionalDataRequested.deserialize = function (additionalDataRequested) {\n        var result = new CampaignAdditionalDataRequested();\n        if (!isNOU(additionalDataRequested)) {\n            // Convert from AdditionalDataRequested string to enum\n            result.additionalData = [];\n            for (var _i = 0, additionalDataRequested_1 = additionalDataRequested; _i < additionalDataRequested_1.length; _i++) {\n                var additionalData = additionalDataRequested_1[_i];\n                if (additionalData === \"EmailAddress\") {\n                    result.additionalData.push(0 /* EmailAddress */);\n                }\n            }\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignAdditionalDataRequested.prototype.validate = function () {\n        if (isNOU(this.additionalData)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignAdditionalDataRequested;\n}());\nexports.CampaignAdditionalDataRequested = CampaignAdditionalDataRequested;\n// endregion\n// region Distribution Schemes\nvar CampaignDistribution = /** @class */ (function () {\n    function CampaignDistribution() {\n    }\n    CampaignDistribution.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignDistributionRamp.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDistribution.prototype.validate = function () {\n        return true;\n    };\n    return CampaignDistribution;\n}());\nexports.CampaignDistribution = CampaignDistribution;\nvar CampaignDistributionRamp = /** @class */ (function (_super) {\n    __extends(CampaignDistributionRamp, _super);\n    function CampaignDistributionRamp() {\n        return _super.call(this) || this;\n    }\n    CampaignDistributionRamp.deserialize = function (input) {\n        var result = new CampaignDistributionRamp();\n        if (input) {\n            result.maxDelaySeconds = input.MaxDelaySeconds;\n            result.chunks = input.Chunks;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignDistributionRamp.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.maxDelaySeconds) || this.maxDelaySeconds < 0) {\n            return false;\n        }\n        if (!isNumber(this.chunks) || this.chunks < 0) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDistributionRamp;\n}(CampaignDistribution));\nexports.CampaignDistributionRamp = CampaignDistributionRamp;\n// endregion\n// region Nomination Scheme\nvar CampaignNominationScheme = /** @class */ (function () {\n    function CampaignNominationScheme() {\n    }\n    CampaignNominationScheme.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignNominationSchemeRatioPercentage.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    /**\n     * @return The amount of time the survey should be active, in seconds. Abstracts the difference between nominationPeriod and the fallback\n     */\n    CampaignNominationScheme.prototype.getActiveSurveyTimeIntervalSeconds = function () {\n        var nominationTimIntervalSeconds = this.nominationPeriod.asTimeIntervalSeconds();\n        if (isNumber(nominationTimIntervalSeconds)) {\n            return nominationTimIntervalSeconds;\n        }\n        return this.fallbackSurveyDurationSeconds;\n    };\n    /**\n     * @return The survey start time, possibly adjusted by an underlying DistributionModel.\n     */\n    CampaignNominationScheme.prototype.calculateSurveyStartTimeFromDate = function (soonestStartTime) {\n        // No adjustment in base class.  Derived classes can override and implement delays like a \"ramp\"\n        return soonestStartTime ? soonestStartTime : new Date();\n    };\n    /**\n     * @return The survey expiration time, based on the nomination periods and the survey's adjusted start time\n     */\n    CampaignNominationScheme.prototype.calculateSurveyExpirationTimeFromSurveyStartTime = function (surveyStartTime) {\n        surveyStartTime = surveyStartTime ? surveyStartTime : new Date();\n        return Utils.addSecondsWithoutOverflow(surveyStartTime, this.getActiveSurveyTimeIntervalSeconds());\n    };\n    /**\n     * @return The appropriate campaign cool down based on whether or not the user activated the survey\n     */\n    CampaignNominationScheme.prototype.getCampaignCooldown = function (didUserActivateSurvey) {\n        if (didUserActivateSurvey) {\n            return this.cooldownPeriod;\n        }\n        else {\n            return this.nominationPeriod;\n        }\n    };\n    CampaignNominationScheme.prototype.validate = function () {\n        if (isNOU(this.nominationPeriod)) {\n            return false;\n        }\n        if (isNOU(this.cooldownPeriod)) {\n            this.cooldownPeriod = this.nominationPeriod;\n        }\n        if (!isNumber(this.nominationPeriod.asTimeIntervalSeconds())) {\n            if (!isNumber(this.fallbackSurveyDurationSeconds) || this.fallbackSurveyDurationSeconds <= 0) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CampaignNominationScheme;\n}());\nexports.CampaignNominationScheme = CampaignNominationScheme;\n/**\n * Class representing a set of campaign nomination rules to evaluate for in-scope campaigns:\n * percentage\n * re-election durations\n * distribution model (for \"nominated\" candidates)\n */\nvar CampaignNominationSchemeRatioPercentage = /** @class */ (function (_super) {\n    __extends(CampaignNominationSchemeRatioPercentage, _super);\n    function CampaignNominationSchemeRatioPercentage() {\n        return _super.call(this) || this;\n    }\n    CampaignNominationSchemeRatioPercentage.deserialize = function (input) {\n        var result = new CampaignNominationSchemeRatioPercentage();\n        if (isNOU(input)) {\n            return null;\n        }\n        if (input.DistributionModel) {\n            result.distributionModel = CampaignDistribution.deserialize(input.DistributionModel);\n        }\n        if (input.CooldownPeriod) {\n            result.cooldownPeriod = CampaignDuration.deserialize(input.CooldownPeriod);\n        }\n        if (input.NominationPeriod) {\n            result.nominationPeriod = CampaignDuration.deserialize(input.NominationPeriod);\n        }\n        result.fallbackSurveyDurationSeconds = input.FallbackSurveyDurationSeconds;\n        result.percentageDenominator = input.PercentageDenominator;\n        result.percentageNumerator = input.PercentageNumerator;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignNominationSchemeRatioPercentage.prototype.evaluateNominationRules = function () {\n        var rand = Math.random();\n        // Creates a random number between [0 to (percentageDenominator - 1)]\n        // In range [0 to (percentageDenominator - 1)] exactly 'percentageNumerator' values are < percentageNumerator\n        return Math.floor(rand * this.percentageDenominator) < this.percentageNumerator;\n    };\n    // @Override\n    CampaignNominationSchemeRatioPercentage.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.percentageDenominator) || !isNumber(this.percentageNumerator)) {\n            return false;\n        }\n        if (this.percentageDenominator <= 0 || this.percentageNumerator < 0) {\n            return false;\n        }\n        if (this.percentageNumerator > this.percentageDenominator) {\n            return false;\n        }\n        // distribution model may be null\n        return true;\n    };\n    return CampaignNominationSchemeRatioPercentage;\n}(CampaignNominationScheme));\nexports.CampaignNominationSchemeRatioPercentage = CampaignNominationSchemeRatioPercentage;\n// endregion\n// region Survey Event Definitions\nvar CampaignSurveyEvent = /** @class */ (function () {\n    function CampaignSurveyEvent() {\n    }\n    CampaignSurveyEvent.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0:\n                result = CampaignSurveyEventCountedActivity.deserialize(input);\n                break;\n            case 1:\n                result = CampaignSurveyEventCountedActivitySequence.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyEvent.prototype.validate = function () {\n        return true;\n    };\n    return CampaignSurveyEvent;\n}());\nexports.CampaignSurveyEvent = CampaignSurveyEvent;\nvar CampaignSurveyEventCountedActivity = /** @class */ (function (_super) {\n    __extends(CampaignSurveyEventCountedActivity, _super);\n    // public for UT only\n    function CampaignSurveyEventCountedActivity() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyEventCountedActivity.deserialize = function (input) {\n        var result = new CampaignSurveyEventCountedActivity();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activity = input.Activity;\n        result.count = input.Count;\n        result.isAggregate = input.IsAggregate;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignSurveyEventCountedActivity.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.activity) || !isString(this.activity)) {\n            return false;\n        }\n        if (!isNumber(this.count) || this.count <= 0) {\n            return false;\n        }\n        if (!isBoolean(this.isAggregate)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyEventCountedActivity;\n}(CampaignSurveyEvent));\nexports.CampaignSurveyEventCountedActivity = CampaignSurveyEventCountedActivity;\nvar CampaignSurveyEventCountedActivitySequence = /** @class */ (function (_super) {\n    __extends(CampaignSurveyEventCountedActivitySequence, _super);\n    // public for UT only\n    function CampaignSurveyEventCountedActivitySequence() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyEventCountedActivitySequence.deserialize = function (input) {\n        var result = new CampaignSurveyEventCountedActivitySequence();\n        var sequence = [];\n        if (isNOU(input)) {\n            return null;\n        }\n        for (var key in input.Sequence) {\n            if (input.Sequence.hasOwnProperty(key)) {\n                var readActivity = input.Sequence[key];\n                if (readActivity) {\n                    sequence.push(CampaignSurveyEventCountedActivity.deserialize(readActivity));\n                }\n            }\n        }\n        if (sequence.length === 0) {\n            sequence = null;\n        }\n        result.sequence = sequence;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignSurveyEventCountedActivitySequence.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.sequence)) {\n            return false;\n        }\n        for (var key in this.sequence) {\n            if (this.sequence.hasOwnProperty(key) && !this.sequence[key]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyEventCountedActivitySequence;\n}(CampaignSurveyEvent));\nexports.CampaignSurveyEventCountedActivitySequence = CampaignSurveyEventCountedActivitySequence;\n// endregion\n// region Survey Content Definitions\nvar CampaignSurveyContent = /** @class */ (function () {\n    function CampaignSurveyContent() {\n    }\n    CampaignSurveyContent.deserialize = function (input, optionalComponents) {\n        var result = new CampaignSurveyContent();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.prompt = CampaignSurveyContentPrompt.deserialize(input.Prompt);\n        result.rating = CampaignSurveyContentRating.deserialize(input.Rating);\n        result.comment = CampaignSurveyContentComment.deserialize(input.Question);\n        result.multipleChoice = CampaignSurveyContentMultipleChoice.deserialize(input.MultipleChoice);\n        result.intercept = CampaignSurveyContentIntercept.deserialize(input.Intercept);\n        result.cvSurvey = CampaignSurveyContentCVSurvey.deserialize(input.CVSurveyParams);\n        if (!result.validate(optionalComponents)) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContent.prototype.validate = function (optionalComponents) {\n        if (!isNOU(this.intercept)) {\n            // An intercept survey only requires intercept.\n            return true;\n        }\n        if (isNOU(this.prompt)) {\n            return false;\n        }\n        if (optionalComponents) {\n            return !isNOU(this.rating) ||\n                !isNOU(this.multipleChoice) ||\n                !isNOU(this.comment);\n        }\n        return !isNOU(this.rating) && !isNOU(this.comment);\n    };\n    return CampaignSurveyContent;\n}());\nexports.CampaignSurveyContent = CampaignSurveyContent;\nvar CampaignSurveyContentMultipleChoice = /** @class */ (function () {\n    function CampaignSurveyContentMultipleChoice() {\n    }\n    CampaignSurveyContentMultipleChoice.deserialize = function (input) {\n        var result = new CampaignSurveyContentMultipleChoice();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.question = input.Question;\n        result.availableOptions = input.AvailableOptions;\n        result.minNumberOfSelectedOptions = input.MinNumberOfSelectedOptions;\n        result.maxNumberOfSelectedOptions = input.MaxNumberOfSelectedOptions;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentMultipleChoice.prototype.validate = function () {\n        if (isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.availableOptions) || !Array.isArray(this.availableOptions) || this.availableOptions.length < 2 ||\n            isNOU(this.minNumberOfSelectedOptions) || !isNumber(this.minNumberOfSelectedOptions) ||\n            isNOU(this.maxNumberOfSelectedOptions) || !isNumber(this.maxNumberOfSelectedOptions)) {\n            return false;\n        }\n        // expect all availableOptions values to be string\n        for (var key in this.availableOptions) {\n            if (this.availableOptions.hasOwnProperty(key)) {\n                if (!isString(this.availableOptions[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyContentMultipleChoice;\n}());\nexports.CampaignSurveyContentMultipleChoice = CampaignSurveyContentMultipleChoice;\nvar CampaignSurveyContentCVSurvey = /** @class */ (function () {\n    function CampaignSurveyContentCVSurvey() {\n    }\n    CampaignSurveyContentCVSurvey.deserialize = function (input) {\n        var result = new CampaignSurveyContentCVSurvey();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.customerVoiceFormId = input.CustomerVoiceFormId;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentCVSurvey.prototype.validate = function () {\n        return (!isNOU(this.customerVoiceFormId) && isString(this.customerVoiceFormId));\n    };\n    return CampaignSurveyContentCVSurvey;\n}());\nexports.CampaignSurveyContentCVSurvey = CampaignSurveyContentCVSurvey;\nvar CampaignSurveyContentPrompt = /** @class */ (function () {\n    function CampaignSurveyContentPrompt() {\n    }\n    CampaignSurveyContentPrompt.deserialize = function (input) {\n        var result = new CampaignSurveyContentPrompt();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.title = input.Title;\n        result.question = input.Question;\n        result.yesLabel = input.YesLabel;\n        result.noLabel = input.NoLabel;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentPrompt.prototype.validate = function () {\n        if (isNOU(this.title) || !isString(this.title) ||\n            isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.yesLabel) || !isString(this.yesLabel) ||\n            isNOU(this.noLabel) || !isString(this.noLabel)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentPrompt;\n}());\nexports.CampaignSurveyContentPrompt = CampaignSurveyContentPrompt;\nvar CampaignSurveyContentIntercept = /** @class */ (function () {\n    function CampaignSurveyContentIntercept() {\n    }\n    CampaignSurveyContentIntercept.deserialize = function (input) {\n        var result = new CampaignSurveyContentIntercept();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.title = input.Title;\n        result.question = input.Question;\n        result.url = input.Url;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentIntercept.prototype.validate = function () {\n        if (isNOU(this.title) || !isString(this.title) ||\n            isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.url) || !isString(this.url)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentIntercept;\n}());\nexports.CampaignSurveyContentIntercept = CampaignSurveyContentIntercept;\nvar CampaignSurveyContentRating = /** @class */ (function () {\n    function CampaignSurveyContentRating() {\n    }\n    CampaignSurveyContentRating.deserialize = function (input) {\n        var result = new CampaignSurveyContentRating();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.isZeroBased = input.IsZeroBased;\n        result.question = input.Question;\n        result.ratingValuesAscending = input.RatingValuesAscending;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentRating.prototype.validate = function () {\n        // expect ratingValuesAscending to contain between 2 to 11 values\n        if (isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.ratingValuesAscending) || !Array.isArray(this.ratingValuesAscending) ||\n            this.ratingValuesAscending.length < 2 || this.ratingValuesAscending.length > 11) {\n            return false;\n        }\n        if (isNOU(this.isZeroBased)) {\n            // default to false if not provided\n            this.isZeroBased = false;\n        }\n        else if (!isBoolean(this.isZeroBased)) {\n            // fail validation if non boolean value is provided\n            return false;\n        }\n        // expect all ratingValuesAscending values to be string\n        for (var key in this.ratingValuesAscending) {\n            if (this.ratingValuesAscending.hasOwnProperty(key)) {\n                if (!isString(this.ratingValuesAscending[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyContentRating;\n}());\nexports.CampaignSurveyContentRating = CampaignSurveyContentRating;\nvar CampaignSurveyContentComment = /** @class */ (function () {\n    function CampaignSurveyContentComment() {\n    }\n    CampaignSurveyContentComment.deserialize = function (input) {\n        var result = new CampaignSurveyContentComment();\n        if (isNOU(input)) {\n            return null;\n        }\n        // @SerializedName(\"Question\")\n        result.question = input.Question;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentComment.prototype.validate = function () {\n        if (isNOU(this.question) || !isString(this.question)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentComment;\n}());\nexports.CampaignSurveyContentComment = CampaignSurveyContentComment;\n// endregion\n// region Survey Metadata Definitions\nvar CampaignSurveyMetadata = /** @class */ (function () {\n    function CampaignSurveyMetadata() {\n    }\n    CampaignSurveyMetadata.deserialize = function (input) {\n        if (isNOU(input)) {\n            return null;\n        }\n        var result = new CampaignSurveyMetadata();\n        result.contentMetadata = input.ContentMetadata;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyMetadata.prototype.validate = function () {\n        if (isNOU(this.contentMetadata) || !Utils.isObject(this.contentMetadata)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyMetadata;\n}());\nexports.CampaignSurveyMetadata = CampaignSurveyMetadata;\n// endregion\n// region Survey Template definitions\nvar CampaignSurveyTemplate = /** @class */ (function () {\n    function CampaignSurveyTemplate() {\n    }\n    CampaignSurveyTemplate.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0 /* Nps5PointStatic */:\n                result = CampaignSurveyTemplateNps5PointStatic.deserialize(input);\n                break;\n            case 1 /* Nps11PointStatic */:\n                result = CampaignSurveyTemplateNps11PointStatic.deserialize(input);\n                break;\n            case 2 /* Fps */:\n                result = CampaignSurveyTemplateFps.deserialize(input);\n                break;\n            case 3 /* Nlqs */:\n                result = CampaignSurveyTemplateNlqs.deserialize(input);\n                break;\n            case 4 /* Nps */:\n                result = CampaignSurveyTemplateNps.deserialize(input);\n                break;\n            case 22 /* GenericMessagingSurface */:\n                result = CampaignSurveyTemplateGenericMessagingSurface.deserialize(input);\n                break;\n            case 5 /* Intercept */:\n                result = CampaignSurveyTemplateIntercept.deserialize(input);\n                break;\n        }\n        if (isNOU(result)) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplate.prototype.validate = function () {\n        if (isNOU(this.activationEvent)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplate;\n}());\nexports.CampaignSurveyTemplate = CampaignSurveyTemplate;\nvar CampaignSurveyTemplateFps = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateFps, _super);\n    // public for UT only\n    function CampaignSurveyTemplateFps() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateFps.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateFps();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content, true /* optionalComponents */);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateFps.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateFps;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateFps = CampaignSurveyTemplateFps;\nvar CampaignSurveyTemplateNlqs = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNlqs, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNlqs() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNlqs.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNlqs();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNlqs.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNlqs;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNlqs = CampaignSurveyTemplateNlqs;\nvar CampaignSurveyTemplateNps = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNps() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps = CampaignSurveyTemplateNps;\nvar CampaignSurveyTemplateNps5PointStatic = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps5PointStatic, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNps5PointStatic() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps5PointStatic.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps5PointStatic();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps5PointStatic.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps5PointStatic;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps5PointStatic = CampaignSurveyTemplateNps5PointStatic;\nvar CampaignSurveyTemplateNps11PointStatic = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps11PointStatic, _super);\n    function CampaignSurveyTemplateNps11PointStatic() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps11PointStatic.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps11PointStatic();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps11PointStatic.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps11PointStatic;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps11PointStatic = CampaignSurveyTemplateNps11PointStatic;\nvar CampaignSurveyTemplateGenericMessagingSurface = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateGenericMessagingSurface, _super);\n    function CampaignSurveyTemplateGenericMessagingSurface() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateGenericMessagingSurface.deserialize = function (input) {\n        if (isNOU(input)) {\n            return null;\n        }\n        var result = new CampaignSurveyTemplateGenericMessagingSurface();\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.metadata = CampaignSurveyMetadata.deserialize(input.Metadata);\n        result.maxLaunches = input.MaxLaunches;\n        result.maxLaunchesPerSession = input.MaxLaunchesPerSession;\n        result.preferredLaunchType = input.PreferredLaunchType;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateGenericMessagingSurface.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.metadata)) {\n            return false;\n        }\n        if ((!isNOU(this.maxLaunches) && (!isNumber(this.maxLaunches) || this.maxLaunches <= 0)) ||\n            (!isNOU(this.maxLaunchesPerSession) && (!isNumber(this.maxLaunchesPerSession) || this.maxLaunchesPerSession <= 0))) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid Multi Launch settings\", this.maxLaunches, this.maxLaunchesPerSession);\n            return false;\n        }\n        // check for valid values\n        if (isNumber(this.maxLaunches) &&\n            isNumber(this.maxLaunchesPerSession) &&\n            this.maxLaunchesPerSession > this.maxLaunches) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid Multi launch settings\", this.maxLaunches, this.maxLaunchesPerSession);\n            return false;\n        }\n        if (!isNOU(this.preferredLaunchType) && !isString(this.preferredLaunchType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid launcher type\", this.preferredLaunchType);\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateGenericMessagingSurface;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateGenericMessagingSurface = CampaignSurveyTemplateGenericMessagingSurface;\nvar CampaignSurveyTemplateIntercept = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateIntercept, _super);\n    // public for UT only\n    function CampaignSurveyTemplateIntercept() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateIntercept.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateIntercept();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateIntercept.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateIntercept;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateIntercept = CampaignSurveyTemplateIntercept;\n// endregion\n// region Campaign Definition\nvar CampaignDefinition = /** @class */ (function () {\n    function CampaignDefinition() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    CampaignDefinition.deserialize = function (input) {\n        var result = new CampaignDefinition();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.campaignId = input.CampaignId;\n        result.governedChannelType = input.GovernedChannelType;\n        result.startTime = input.StartTimeUtc;\n        result.endTime = input.EndTimeUtc;\n        result.launcherType = input.LauncherType;\n        result.primaryPriority = input.PrimaryPriority;\n        result.tags = input.Tags;\n        var additionalDataRequested = CampaignAdditionalDataRequested.deserialize(input.AdditionalDataRequested);\n        result.additionalDataRequested = additionalDataRequested ? additionalDataRequested.additionalData : [];\n        if (input.SurveyTemplate) {\n            result.surveyTemplate = CampaignSurveyTemplate.deserialize(input.SurveyTemplate);\n        }\n        if (input.NominationScheme) {\n            result.nominationScheme = CampaignNominationScheme.deserialize(input.NominationScheme);\n        }\n        if (input.Scope) {\n            result.scope = CampaignScope.deserialize(input.Scope);\n        }\n        if (!isNOU(input.BusinessLevel)) {\n            result.businessLevel = input.BusinessLevel;\n        }\n        if (!result.validate()) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid definition\", input);\n            return null;\n        }\n        return result;\n    };\n    CampaignDefinition.prototype.validate = function () {\n        var _a, _b;\n        if (isNOU(this.scope)) {\n            this.scope = new CampaignScopeAny();\n        }\n        if (isNOU(this.campaignId) || !isString(this.campaignId)) {\n            return false;\n        }\n        if (!isNumber(this.governedChannelType) || !Utils.isEnumValue(this.governedChannelType, GovernedChannel_1.GovernedChannelType)) {\n            return false;\n        }\n        if (isNOU(this.nominationScheme)) {\n            return false;\n        }\n        if (isNOU(this.surveyTemplate)) {\n            return false;\n        }\n        if (!isNOU(this.launcherType) && !isString(this.launcherType)) {\n            return false;\n        }\n        if (this.launcherType === \"customervoice\" && isNOU((_b = (_a = this.surveyTemplate.content) === null || _a === void 0 ? void 0 : _a.cvSurvey) === null || _b === void 0 ? void 0 : _b.customerVoiceFormId)) {\n            return false;\n        }\n        if (!isNOU(this.primaryPriority) && !isNumber(this.primaryPriority)) {\n            return false;\n        }\n        if (this.tags && !Array.isArray(this.tags)) {\n            return false;\n        }\n        // Campaigns with no start date are effectively disabled, in fact, this is the supported way to stage a definition but have it be turned off\n        if (isNOU(this.startTime)) {\n            this.startTime = getDistantFuture();\n        }\n        else if (isUtcDatetimeString(this.startTime)) {\n            this.startTime = stringToDate(this.startTime);\n        }\n        else {\n            return false;\n        }\n        // Campaigns with no end date are effectively on indefinitely\n        if (isNOU(this.endTime) ||\n            (typeof (this.endTime) === \"string\" && this.endTime === \"\")) {\n            this.endTime = getDistantFuture();\n        }\n        else if (isUtcDatetimeString(this.endTime)) {\n            this.endTime = stringToDate(this.endTime);\n        }\n        else {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDefinition;\n}());\nexports.CampaignDefinition = CampaignDefinition;\n/**\n * Given an array of campaign definitions, returns the valid ones and errors if any are invalid.\n * @param input: JSON object\n * Returns the valid definitions and the error as string if any.\n */\nfunction FilterValidCampaignDefinitions(campaignDefinitions) {\n    var result = [];\n    if (isNOU(campaignDefinitions)) {\n        return { result: result, error: \"Empty\" };\n    }\n    if (!Array.isArray(campaignDefinitions)) {\n        return { result: result, error: \"Not an array\" };\n    }\n    var badIndexes = [];\n    for (var i = 0; i < campaignDefinitions.length; i++) {\n        var definition = campaignDefinitions[i];\n        if (definition) {\n            var newDefinition = CampaignDefinition.deserialize(definition);\n            newDefinition\n                ? result.push(newDefinition)\n                : badIndexes.push(i);\n        }\n        else {\n            badIndexes.push(i);\n        }\n    }\n    var error = badIndexes.length > 0 ? \"Invalid campaign definitions at indexes: \" + badIndexes.toString() : undefined;\n    return { result: result, error: error };\n}\nexports.FilterValidCampaignDefinitions = FilterValidCampaignDefinitions;\nvar FileSystemCampaignDefinitionProvider = /** @class */ (function () {\n    function FileSystemCampaignDefinitionProvider(storage) {\n        if (isNOU(storage)) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    FileSystemCampaignDefinitionProvider.prototype.load = function () {\n        var definitionString = this.storage.read(IFloodgateStorageProvider.FileType.CampaignDefinitions);\n        if (isNOU(definitionString)) {\n            return [];\n        }\n        var readDefinitions;\n        try {\n            readDefinitions = JSON.parse(definitionString);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(e.toString());\n            return [];\n        }\n        // This ignores errors in validation for now.\n        return FilterValidCampaignDefinitions(readDefinitions).result;\n    };\n    FileSystemCampaignDefinitionProvider.prototype.loadAsync = function () {\n        var definitions = this.load();\n        return new Promise(function onFulfilled(resolve, reject) {\n            resolve(definitions);\n        });\n    };\n    return FileSystemCampaignDefinitionProvider;\n}());\nexports.FileSystemCampaignDefinitionProvider = FileSystemCampaignDefinitionProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLnRzPzc3MmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDBKQUE4RTtBQUM5RSxvR0FBOEM7QUFDOUMsc0hBQXFEO0FBQ3JELHNIQUF5RDtBQUd6RCxzRkFBa0M7QUFJbEMscUlBQXFGO0FBRzdFLG9CQUFnQixHQUE4RSxLQUFLLGlCQUFuRixFQUFFLFNBQVMsR0FBbUUsS0FBSyxVQUF4RSxFQUFFLEtBQUssR0FBNEQsS0FBSyxNQUFqRSxFQUFFLFFBQVEsR0FBa0QsS0FBSyxTQUF2RCxFQUFFLFFBQVEsR0FBd0MsS0FBSyxTQUE3QyxFQUFFLG1CQUFtQixHQUFtQixLQUFLLG9CQUF4QixFQUFFLFlBQVksR0FBSyxLQUFLLGFBQVYsQ0FBVztBQUU1Ryx3QkFBd0I7QUFFeEI7O0dBRUc7QUFDSDtJQWVDO0lBQTBCLENBQUM7SUFkYixpQ0FBVyxHQUF6QixVQUEwQixLQUFVO1FBQ25DLElBQUksTUFBNkIsQ0FBQztRQUVsQyxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUM5QixNQUFNLEdBQUcsbUNBQW1DLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFTUyx3Q0FBUSxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUNGLDRCQUFDO0FBQUQsQ0FBQztBQXpCcUIsc0RBQXFCO0FBMkIzQzs7R0FFRztBQUNIO0lBQXlELHVEQUFxQjtJQWtCN0UscUJBQXFCO0lBQ3JCO2VBQXVCLGlCQUFPO0lBQUUsQ0FBQztJQWxCbkIsK0NBQVcsR0FBekIsVUFBMEIsS0FBVTtRQUNuQyxJQUFNLE1BQU0sR0FBRyxJ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U0FDVjtRQUVELElBQUksZUFBb0IsQ0FBQztRQUV6QixJQUFJO1lBQ0gsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUMvQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQzNFLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7UUFFRCw2Q0FBNkM7UUFDN0MsT0FBTyw4QkFBOEIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDL0QsQ0FBQztJQUVNLHdEQUFTLEdBQWhCO1FBQ0MsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hDLE9BQU8sSUFBSSxPQUFPLENBQ2pCLFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ25DLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN0QixDQUFDLENBQ0QsQ0FBQztJQUNILENBQUM7SUFDRiwyQ0FBQztBQUFELENBQUM7QUF0Q1ksb0ZBQW9DIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuLi9GbG9vZGdhdGVFbmdpbmVcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IEJ1c2luZXNzTGV2ZWwgfSBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5pbXBvcnQgeyBJVXNlckZhY3RQcm92aWRlciB9IGZyb20gXCIuLi9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IFVzZXJGYWN0IH0gZnJvbSBcIi4uL1VzZXJGYWN0L1VzZXJGYWN0XCI7XHJcbmltcG9ydCB7IGRlc2VyaWFsaXplVXNlckZhY3RzLCB2YWxpZGF0ZVVzZXJGYWN0cyB9IGZyb20gXCIuLi9Vc2VyRmFjdC9Vc2VyRmFjdEhlbHBlclwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblNjb3BlVHlwZSB9IGZyb20gXCIuL0NhbXBhaWduU2NvcGVUeXBlc1wiO1xyXG5cclxuY29uc3QgeyBnZXREaXN0YW50RnV0dXJlLCBpc0Jvb2xlYW4sIGlzTk9VLCBpc051bWJlciwgaXNTdHJpbmcsIGlzVXRjRGF0ZXRpbWVTdHJpbmcsIHN0cmluZ1RvRGF0ZSB9ID0gVXRpbHM7XHJcblxyXG4vLyByZWdpb24gTGFuZ3VhZ2UgUmFuZ2VcclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIHJlcHJlc2VudGluZyBhIGxhbmd1YWdlIHJhbmdlIGluIGEgY2FtcGFpZ24gc2V0dGluZ1xyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduTGFuZ3VhZ2VSYW5nZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25MYW5ndWFnZVJhbmdlIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZTtcclxuXHJcblx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuVHlwZSA9PT0gMCkge1xyXG5cdFx0XHRyZXN1bHQgPSBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VMYW5ndWFnZVN1YnRhZy5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgdGFnIChmb3JtYXQgZnJvbSBSRkMgNTY0NikgaXMgaW4gdGhpcyBsYW5ndWFnZSByYW5nZSBzcGVjaWZpY2F0aW9uXHJcblx0ICovXHJcblx0cHVibGljIGFic3RyYWN0IGlzSW5SYW5nZShsYW5ndWFnZTogc3RyaW5nKTogYm9vbGVhbjtcclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHJhbmdlIG1hdGNoaW5nIG9uIHRoZSBcImxhbmd1YWdlIHN1YnRhZ1wiIGFnYWluc3QgZnVsbHkgc3BlY2lmaWVkIGxhbmd1YWdlIHRhZ3MsIGFjY29yZGluZyB0byBSRkMgNTY0NlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduTGFuZ3VhZ2VSYW5nZUxhbmd1YWdlU3VidGFnIGV4dGVuZHMgQ2FtcGFpZ25MYW5ndWFnZVJhbmdlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VMYW5ndWFnZVN1YnRhZyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25MYW5ndWFnZVJhbmdlTGFuZ3VhZ2VTdWJ0YWcoKTtcclxuXHJcblx0XHRpZiAoaW5wdXQpIHtcclxuXHRcdFx0cmVzdWx0Lmxhbmd1YWdlU3ViVGFnID0gaW5wdXQuVmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVmFsdWVcIilcclxuXHRwdWJsaWMgbGFuZ3VhZ2VTdWJUYWc6IHN0cmluZztcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0luUmFuZ2UobGFuZ3VhZ2U6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKGxhbmd1YWdlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZXh0cmFjdGVkTGFuZ3VhZ2VTdWJUYWc6IHN0cmluZyA9IFV0aWxzLmV4dHJhY3RMYW5ndWFnZVN1YnRhZyhsYW5ndWFnZSk7XHJcblx0XHRpZiAoaXNOT1UoZXh0cmFjdGVkTGFuZ3VhZ2VTdWJUYWcpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjb21wYXJlIHN0cmluZ3MgaWdub3JpbmcgY2FzZVxyXG5cdFx0cmV0dXJuIGV4dHJhY3RlZExhbmd1YWdlU3ViVGFnLnRvTG9jYWxlVXBwZXJDYXNlKCkgPT09IHRoaXMubGFuZ3VhZ2VTdWJUYWcudG9Mb2NhbGVVcHBlckNhc2UoKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMubGFuZ3VhZ2VTdWJUYWcpIHx8ICFpc1N0cmluZyh0aGlzLmxhbmd1YWdlU3ViVGFnKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBSZWplY3QgYW55IHNwZWMgdGhhdCBpc24ndCBleGFjdGx5IGEgbGFuZ3VhZ2Ugc3VidGFnXHJcblx0XHRpZiAoIVV0aWxzLmlzVmFsaWRMYW5ndWFnZVN1YlRhZyh0aGlzLmxhbmd1YWdlU3ViVGFnKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBTY29wZVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduU2NvcGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU2NvcGUge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25TY29wZTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoaW5wdXQuVHlwZSkge1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU2NvcGVUeXBlLkNhbXBhaWduU2NvcGVBbnk6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TY29wZUFueS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0OlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU2NvcGVFbnZpcm9ubWVudENyb3NzUHJvZHVjdC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55OlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU2NvcGVVc2VyRmFjdEFueS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcblx0cHVibGljIGFic3RyYWN0IGlzSW5TY29wZSgpOiBib29sZWFuO1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblNjb3BlQW55IGV4dGVuZHMgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZUFueSB7XHJcblx0XHRyZXR1cm4gbmV3IENhbXBhaWduU2NvcGVBbnkoKTtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNJblNjb3BlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU2NvcGVFbnZpcm9ubWVudENyb3NzUHJvZHVjdCBleHRlbmRzIENhbXBhaWduU2NvcGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU2NvcGVFbnZpcm9ubWVudENyb3NzUHJvZHVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0KCk7XHJcblx0XHRsZXQgbGFuZ3VhZ2VSYW5nZXM6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZVtdID0gW107XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBpbnB1dC5MYW5ndWFnZXMpIHtcclxuXHRcdFx0aWYgKGlucHV0Lkxhbmd1YWdlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVhZFJhbmdlOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2UgPSBpbnB1dC5MYW5ndWFnZXNba2V5XTtcclxuXHJcblx0XHRcdFx0aWYgKHJlYWRSYW5nZSkge1xyXG5cdFx0XHRcdFx0bGFuZ3VhZ2VSYW5nZXMucHVzaChDYW1wYWlnbkxhbmd1YWdlUmFuZ2UuZGVzZXJpYWxpemUocmVhZFJhbmdlKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxhbmd1YWdlUmFuZ2VzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRsYW5ndWFnZVJhbmdlcyA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0Lmxhbmd1YWdlUmFuZ2VzID0gbGFuZ3VhZ2VSYW5nZXM7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFuZ3VhZ2VzXCIpXHJcblx0cHVibGljIGxhbmd1YWdlUmFuZ2VzOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VbXTtcclxuXHJcblx0cHJpdmF0ZSBlbnZpcm9ubWVudFByb3ZpZGVyOiBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlcjtcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHB1YmxpYyBzZXRFbnZpcm9ubWVudFByb3ZpZGVyKGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyKSB7XHJcblx0XHR0aGlzLmVudmlyb25tZW50UHJvdmlkZXIgPSBlbnZpcm9ubWVudFByb3ZpZGVyO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzSW5TY29wZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmxhbmd1YWdlUmFuZ2VzKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyKSB8fCAhdGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyLmdldExhbmd1YWdlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxhbmd1YWdlID0gdGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyLmdldExhbmd1YWdlKCk7XHJcblx0XHQvLyBJZiB0aGUgZW52aXJvbm1lbnQgbWF0Y2hlcyBhIHNpbmdsZSBwYXR0ZXJuLCB0aGVuIHRoaXMgaXMgYSB5ZXNcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMubGFuZ3VhZ2VSYW5nZXMpIHtcclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2VSYW5nZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHJhbmdlID0gdGhpcy5sYW5ndWFnZVJhbmdlc1trZXldO1xyXG5cclxuXHRcdFx0XHRpZiAocmFuZ2UuaXNJblJhbmdlKGxhbmd1YWdlKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBOdWxsIGxhbmd1YWdlUmFuZ2VzIGlzIGFsbG93ZWQsIG1lYW5zIHdpbGwgbWF0Y2ggd2l0aCBldmVyeXRoaW5nLlxyXG5cdFx0aWYgKHRoaXMubGFuZ3VhZ2VSYW5nZXMpIHtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5sYW5ndWFnZVJhbmdlcykge1xyXG5cdFx0XHRcdGlmICh0aGlzLmxhbmd1YWdlUmFuZ2VzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXRoaXMubGFuZ3VhZ2VSYW5nZXNba2V5XSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU2NvcGVVc2VyRmFjdEFueSBleHRlbmRzIENhbXBhaWduU2NvcGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU2NvcGVVc2VyRmFjdEFueSB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55KCk7XHJcblx0XHRyZXN1bHQudXNlckZhY3RzID0gZGVzZXJpYWxpemVVc2VyRmFjdHMoaW5wdXQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlVzZXJGYWN0c1wiKVxyXG5cdHB1YmxpYyB1c2VyRmFjdHM6IFVzZXJGYWN0W107XHJcblxyXG5cdHByaXZhdGUgdXNlckZhY3RzUHJvdmlkZXI/OiBJVXNlckZhY3RQcm92aWRlcjtcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHB1YmxpYyBzZXRVc2VyRmFjdHNQcm92aWRlcih1c2VyRmFjdHNQcm92aWRlcj86IElVc2VyRmFjdFByb3ZpZGVyKSB7XHJcblx0XHR0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyID0gdXNlckZhY3RzUHJvdmlkZXI7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNJblNjb3BlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMudXNlckZhY3RzKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMudXNlckZhY3RzUHJvdmlkZXIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIG9uZSBvZiB0aGUgdXNlciBmYWN0IG1hdGNoZXMsIHRoZW4gdGhpcyBpcyBhIHllc1xyXG5cdFx0cmV0dXJuIHRoaXMudXNlckZhY3RzLnNvbWUoKHVzZXJGYWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IHJhd1VzZXJGYWN0ID0gdGhpcy51c2VyRmFjdHNQcm92aWRlci5nZXRVc2VyRmFjdCh1c2VyRmFjdC5nZXROYW1lKCkpO1xyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3QuaXNBTWF0Y2gocmF3VXNlckZhY3QpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB2YWxpZGF0ZVVzZXJGYWN0cyh0aGlzLnVzZXJGYWN0cyk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsIGV4dGVuZHMgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblNjb3BlVXNlckZhY3RBbGwoKTtcclxuXHRcdHJlc3VsdC51c2VyRmFjdHMgPSBkZXNlcmlhbGl6ZVVzZXJGYWN0cyhpbnB1dCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVXNlckZhY3RzXCIpXHJcblx0cHVibGljIHVzZXJGYWN0czogVXNlckZhY3RbXTtcclxuXHJcblx0cHJpdmF0ZSB1c2VyRmFjdHNQcm92aWRlcj86IElVc2VyRmFjdFByb3ZpZGVyO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHVibGljIHNldFVzZXJGYWN0c1Byb3ZpZGVyKHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXIpIHtcclxuXHRcdHRoaXMudXNlckZhY3RzUHJvdmlkZXIgPSB1c2VyRmFjdHNQcm92aWRlcjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0luU2NvcGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy51c2VyRmFjdHMpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy51c2VyRmFjdHNQcm92aWRlcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gR2V0IGFsbCBvZiB0aGUgbWlzbWF0Y2hlZCB1c2VyIGZhY3RzXHJcblx0XHRjb25zdCBtaXNtYXRjaGVkRmFjdHMgPSB0aGlzLnVzZXJGYWN0cy5maWx0ZXIoKHVzZXJGYWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IHJhd1VzZXJGYWN0ID0gdGhpcy51c2VyRmFjdHNQcm92aWRlci5nZXRVc2VyRmFjdCh1c2VyRmFjdC5nZXROYW1lKCkpO1xyXG5cdFx0XHRyZXR1cm4gIXVzZXJGYWN0LmlzQU1hdGNoKHJhd1VzZXJGYWN0KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChtaXNtYXRjaGVkRmFjdHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCBtaXNtYXRjaGVkTmFtZXMgPSBtaXNtYXRjaGVkRmFjdHMubWFwKCh1c2VyRmFjdCkgPT4gdXNlckZhY3QuZ2V0TmFtZSgpKTtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLlN1bW1hcnksIHtcclxuXHRcdFx0XHRcdENvdW50OiBtaXNtYXRjaGVkRmFjdHMubGVuZ3RoLFxyXG5cdFx0XHRcdFx0TWVzc2FnZTogbWlzbWF0Y2hlZE5hbWVzLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiBhbGwgb2YgdGhlIHVzZXIgZmFjdHMgbWF0Y2gsIHRoZW4gdGhpcyBpcyBhIHllc1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB2YWxpZGF0ZVVzZXJGYWN0cyh0aGlzLnVzZXJGYWN0cyk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBEdXJhdGlvbnNcclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIHJlcHJlc2VudGluZyBhIGR1cmF0aW9uIGluIGEgY2FtcGFpZ24gc2V0dGluZ1xyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduRHVyYXRpb24ge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRHVyYXRpb24ge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25EdXJhdGlvbjtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoaW5wdXQuVHlwZSkge1xyXG5cdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25EdXJhdGlvblRpbWVJbnRlcnZhbC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdHB1YmxpYyBhYnN0cmFjdCBhc1RpbWVJbnRlcnZhbFNlY29uZHMoKTogbnVtYmVyO1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIER1cmF0aW9uIGV4cHJlc3NlZCBpbiBzZWNvbmRzLiBVVEMgZGF0ZXRpbWUgY29tcGFyaXNvbnMgYXJlIHVzZWQgdG8gZGV0ZXJtaW5lIGV4cGlyYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25EdXJhdGlvblRpbWVJbnRlcnZhbCBleHRlbmRzIENhbXBhaWduRHVyYXRpb24ge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwoKTtcclxuXHJcblx0XHRpZiAoaW5wdXQpIHtcclxuXHRcdFx0cmVzdWx0LmludGVydmFsU2Vjb25kcyA9IGlucHV0LkludGVydmFsU2Vjb25kcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJbnRlcnZhbFNlY29uZHNcIilcclxuXHRwdWJsaWMgaW50ZXJ2YWxTZWNvbmRzOiBudW1iZXI7XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnRlcnZhbFNlY29uZHM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5pbnRlcnZhbFNlY29uZHMpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIER1cmF0aW9uIHJlcHJlc2VudGluZyBleGFjdGx5IDEgY2hhbmdlIGluIGJ1aWxkIG51bWJlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSBleHRlbmRzIENhbXBhaWduRHVyYXRpb24ge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSB7XHJcblx0XHRyZXR1cm4gbmV3IENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBhc1RpbWVJbnRlcnZhbFNlY29uZHMoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBBZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCBpbiBDYW1wYWlnbkRlZmluaXRpb25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkOiBzdHJpbmdbXSk6IENhbXBhaWduQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQoKTtcclxuXHJcblx0XHRpZiAoIWlzTk9VKGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKSkge1xyXG5cdFx0XHQvLyBDb252ZXJ0IGZyb20gQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgc3RyaW5nIHRvIGVudW1cclxuXHRcdFx0cmVzdWx0LmFkZGl0aW9uYWxEYXRhID0gW107XHJcblx0XHRcdGZvciAoY29uc3QgYWRkaXRpb25hbERhdGEgb2YgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQpIHtcclxuXHRcdFx0XHRpZiAoYWRkaXRpb25hbERhdGEgPT09IFwiRW1haWxBZGRyZXNzXCIpIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5hZGRpdGlvbmFsRGF0YS5wdXNoKElTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZS5FbWFpbEFkZHJlc3MpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhZGRpdGlvbmFsRGF0YTogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlW107XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5hZGRpdGlvbmFsRGF0YSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBEaXN0cmlidXRpb24gU2NoZW1lc1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduRGlzdHJpYnV0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkRpc3RyaWJ1dGlvbiB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnbkRpc3RyaWJ1dGlvbjtcclxuXHJcblx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuVHlwZSA9PT0gMCkge1xyXG5cdFx0XHRyZXN1bHQgPSBDYW1wYWlnbkRpc3RyaWJ1dGlvblJhbXAuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRGlzdHJpYnV0aW9uUmFtcCBleHRlbmRzIENhbXBhaWduRGlzdHJpYnV0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkRpc3RyaWJ1dGlvblJhbXAge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduRGlzdHJpYnV0aW9uUmFtcCgpO1xyXG5cclxuXHRcdGlmIChpbnB1dCkge1xyXG5cdFx0XHRyZXN1bHQubWF4RGVsYXlTZWNvbmRzID0gaW5wdXQuTWF4RGVsYXlTZWNvbmRzO1xyXG5cdFx0XHRyZXN1bHQuY2h1bmtzID0gaW5wdXQuQ2h1bmtzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIFRoZSB0aW1lIHdpbmRvdyBvdmVyIHdoaWNoIHRoZSByYW1wIHdpbGwgZGlzdHJpYnV0ZSBzdGFydCBkYXRlcy5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNYXhEZWxheVNlY29uZHNcIilcclxuXHRwdWJsaWMgbWF4RGVsYXlTZWNvbmRzOiBudW1iZXI7XHJcblxyXG5cdC8vIFRoZSBudW1iZXIgb2YgZGlzY3JldGUgYnVja2V0cyB0byBkaXZpZGUgdGhlIHRpbWUgd2luZG93IChtYXhEZWxheVNlY29uZHMpIGludG9cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDaHVua3NcIilcclxuXHRwdWJsaWMgY2h1bmtzOiBudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMubWF4RGVsYXlTZWNvbmRzKSB8fCB0aGlzLm1heERlbGF5U2Vjb25kcyA8IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5jaHVua3MpIHx8IHRoaXMuY2h1bmtzIDwgMCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBOb21pbmF0aW9uIFNjaGVtZVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduTm9taW5hdGlvblNjaGVtZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduTm9taW5hdGlvblNjaGVtZTtcclxuXHJcblx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuVHlwZSA9PT0gMCkge1xyXG5cdFx0XHRyZXN1bHQgPSBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWVSYXRpb1BlcmNlbnRhZ2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIGFtb3VudCBvZiB0aW1lIChpbiBzZWNvbmRzKSBmb3Igd2hpY2ggdGhlIHN1cnZleSBpcyBhY3RpdmUsIGlmIHRoZSBub21pbmF0aW9uUGVyaW9kIGNhbid0IGJlIGludGVycHJldGVkIGFzIGEgdGltZSBpbnRlcnZhbFxyXG5cdC8vIG5vdGU6IFRoaXMgaXMgb25seSB1c2VkIHdoZW4gbm9taW5hdGlvblBlcmlvZCBpcyBub3Qgb2YgYSB0eXBlIHRoYXQgY2FuIGJlIGludGVycHJldGVkIGFzIGEgdGltZSBpbnRlcnZhbCwgb3RoZXJ3aXNlXHJcblx0Ly8gdGhhdCB2YWx1ZSBpcyB1c2VkIGluc3RlYWRcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJGYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kc1wiKVxyXG5cdHB1YmxpYyBmYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kczogbnVtYmVyO1xyXG5cclxuXHQvLyBXaGVuIHRoZSB1c2VyIG5ldmVyIHNlZXMgdGhlIHN1cnZleSBkdXJpbmcgdGhlaXIgY2FuZGlkYWN5IChvciBhbnRpLWNhbmRpZGFjeSksIHRoaXMgaXMgdGhlIGR1cmF0aW9uIHRoYXQgbXVzdCBsYXBzZVxyXG5cdC8vIGJlZm9yZSByZS0gbm9taW5hdGluZ1xyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIk5vbWluYXRpb25QZXJpb2RcIilcclxuXHRwdWJsaWMgbm9taW5hdGlvblBlcmlvZDogQ2FtcGFpZ25EdXJhdGlvbjtcclxuXHJcblx0Ly8gV2hlbiB0aGUgdXNlciBkb2VzIHNlZXMgdGhlIHN1cnZleSBkdXJpbmcgdGhlaXIgY2FuZGlkYWN5LCB0aGlzIGlzIHRoZSBkdXJhdGlvbiB0aGF0IG11c3QgbGFwc2UgYmVmb3JlIHJlLWV2YWx1YXRpbmdcclxuXHQvLyBjYW5kaWRhY3kuIEdlbmVyYWxseSByZWNvbW1lbmRlZCB0aGF0IHRoaXMgYmUgZ3JlYXRlciB0aGFuIG5vbWluYXRpb25QZXJpb2RcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDb29sZG93blBlcmlvZFwiKVxyXG5cdHB1YmxpYyBjb29sZG93blBlcmlvZDogQ2FtcGFpZ25EdXJhdGlvbjtcclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiB0aW1lIHRoZSBzdXJ2ZXkgc2hvdWxkIGJlIGFjdGl2ZSwgaW4gc2Vjb25kcy4gQWJzdHJhY3RzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gbm9taW5hdGlvblBlcmlvZCBhbmQgdGhlIGZhbGxiYWNrXHJcblx0ICovXHJcblx0cHVibGljIGdldEFjdGl2ZVN1cnZleVRpbWVJbnRlcnZhbFNlY29uZHMoKTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IG5vbWluYXRpb25UaW1JbnRlcnZhbFNlY29uZHM6IG51bWJlciA9IHRoaXMubm9taW5hdGlvblBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKTtcclxuXHJcblx0XHRpZiAoaXNOdW1iZXIobm9taW5hdGlvblRpbUludGVydmFsU2Vjb25kcykpIHtcclxuXHRcdFx0cmV0dXJuIG5vbWluYXRpb25UaW1JbnRlcnZhbFNlY29uZHM7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZmFsbGJhY2tTdXJ2ZXlEdXJhdGlvblNlY29uZHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBzdXJ2ZXkgc3RhcnQgdGltZSwgcG9zc2libHkgYWRqdXN0ZWQgYnkgYW4gdW5kZXJseWluZyBEaXN0cmlidXRpb25Nb2RlbC5cclxuXHQgKi9cclxuXHRwdWJsaWMgY2FsY3VsYXRlU3VydmV5U3RhcnRUaW1lRnJvbURhdGUoc29vbmVzdFN0YXJ0VGltZTogRGF0ZSk6IERhdGUge1xyXG5cdFx0Ly8gTm8gYWRqdXN0bWVudCBpbiBiYXNlIGNsYXNzLiAgRGVyaXZlZCBjbGFzc2VzIGNhbiBvdmVycmlkZSBhbmQgaW1wbGVtZW50IGRlbGF5cyBsaWtlIGEgXCJyYW1wXCJcclxuXHRcdHJldHVybiBzb29uZXN0U3RhcnRUaW1lID8gc29vbmVzdFN0YXJ0VGltZSA6IG5ldyBEYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBzdXJ2ZXkgZXhwaXJhdGlvbiB0aW1lLCBiYXNlZCBvbiB0aGUgbm9taW5hdGlvbiBwZXJpb2RzIGFuZCB0aGUgc3VydmV5J3MgYWRqdXN0ZWQgc3RhcnQgdGltZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBjYWxjdWxhdGVTdXJ2ZXlFeHBpcmF0aW9uVGltZUZyb21TdXJ2ZXlTdGFydFRpbWUoc3VydmV5U3RhcnRUaW1lOiBEYXRlKTogRGF0ZSB7XHJcblx0XHRzdXJ2ZXlTdGFydFRpbWUgPSBzdXJ2ZXlTdGFydFRpbWUgPyBzdXJ2ZXlTdGFydFRpbWUgOiBuZXcgRGF0ZSgpO1xyXG5cdFx0cmV0dXJuIFV0aWxzLmFkZFNlY29uZHNXaXRob3V0T3ZlcmZsb3coc3VydmV5U3RhcnRUaW1lLCB0aGlzLmdldEFjdGl2ZVN1cnZleVRpbWVJbnRlcnZhbFNlY29uZHMoKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBhcHByb3ByaWF0ZSBjYW1wYWlnbiBjb29sIGRvd24gYmFzZWQgb24gd2hldGhlciBvciBub3QgdGhlIHVzZXIgYWN0aXZhdGVkIHRoZSBzdXJ2ZXlcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25Db29sZG93bihkaWRVc2VyQWN0aXZhdGVTdXJ2ZXk6IGJvb2xlYW4pOiBDYW1wYWlnbkR1cmF0aW9uIHtcclxuXHRcdGlmIChkaWRVc2VyQWN0aXZhdGVTdXJ2ZXkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY29vbGRvd25QZXJpb2Q7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5ub21pbmF0aW9uUGVyaW9kO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZhbHVhdGUgdGhpcyBydWxlIHNldCBiYXNlZCBvbiBhIHJhbmRvbSBudW1iZXJcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgdXNlciBzaG91bGQgYmUgYSBjYW5kaWRhdGUsIGZhbHNlIGlmIHRoZXkgc2hvdWxkIGJlIGFuIGFudGktY2FuZGlkYXRlXHJcblx0ICovXHJcblx0cHVibGljIGFic3RyYWN0IGV2YWx1YXRlTm9taW5hdGlvblJ1bGVzKCk6IGJvb2xlYW47XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLm5vbWluYXRpb25QZXJpb2QpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5jb29sZG93blBlcmlvZCkpIHtcclxuXHRcdFx0dGhpcy5jb29sZG93blBlcmlvZCA9IHRoaXMubm9taW5hdGlvblBlcmlvZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMubm9taW5hdGlvblBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKSkpIHtcclxuXHRcdFx0aWYgKCFpc051bWJlcih0aGlzLmZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzKSB8fCB0aGlzLmZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzIDw9IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBzZXQgb2YgY2FtcGFpZ24gbm9taW5hdGlvbiBydWxlcyB0byBldmFsdWF0ZSBmb3IgaW4tc2NvcGUgY2FtcGFpZ25zOlxyXG4gKiBwZXJjZW50YWdlXHJcbiAqIHJlLWVsZWN0aW9uIGR1cmF0aW9uc1xyXG4gKiBkaXN0cmlidXRpb24gbW9kZWwgKGZvciBcIm5vbWluYXRlZFwiIGNhbmRpZGF0ZXMpXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lUmF0aW9QZXJjZW50YWdlIGV4dGVuZHMgQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWVSYXRpb1BlcmNlbnRhZ2Uge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkRpc3RyaWJ1dGlvbk1vZGVsKSB7XHJcblx0XHRcdHJlc3VsdC5kaXN0cmlidXRpb25Nb2RlbCA9IENhbXBhaWduRGlzdHJpYnV0aW9uLmRlc2VyaWFsaXplKGlucHV0LkRpc3RyaWJ1dGlvbk1vZGVsKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuQ29vbGRvd25QZXJpb2QpIHtcclxuXHRcdFx0cmVzdWx0LmNvb2xkb3duUGVyaW9kID0gQ2FtcGFpZ25EdXJhdGlvbi5kZXNlcmlhbGl6ZShpbnB1dC5Db29sZG93blBlcmlvZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0Lk5vbWluYXRpb25QZXJpb2QpIHtcclxuXHRcdFx0cmVzdWx0Lm5vbWluYXRpb25QZXJpb2QgPSBDYW1wYWlnbkR1cmF0aW9uLmRlc2VyaWFsaXplKGlucHV0Lk5vbWluYXRpb25QZXJpb2QpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5mYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kcyA9IGlucHV0LkZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzO1xyXG5cdFx0cmVzdWx0LnBlcmNlbnRhZ2VEZW5vbWluYXRvciA9IGlucHV0LlBlcmNlbnRhZ2VEZW5vbWluYXRvcjtcclxuXHRcdHJlc3VsdC5wZXJjZW50YWdlTnVtZXJhdG9yID0gaW5wdXQuUGVyY2VudGFnZU51bWVyYXRvcjtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgbnVtZXJhdG9yIHdoZW4gY2FsY3VsYXRpbmcgdGhlIHBlcmNlbnRhZ2Ugb2YgdXNlcnMgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQgYXMgY2FuZGlkYXRlcy4gIE11c3RcclxuXHQvLyBzYXRpc2Z5IDAgPD0gcGVyY2VudGFnZU51bWVyYXRvciA8PSBwZXJjZW50YWdlRGVub21pbmF0b3JcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJQZXJjZW50YWdlTnVtZXJhdG9yXCIpXHJcblx0cHVibGljIHBlcmNlbnRhZ2VOdW1lcmF0b3I6IG51bWJlcjtcclxuXHJcblx0Ly8gVGhlIGRlbm9taW5hdG9yIHdoZW4gY2FsY3VsYXRpbmcgdGhlIHBlcmNlbnRhZ2Ugb2YgdXNlcnMgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQgYXMgY2FuZGlkYXRlcy4gIE11c3QgYmUgZ3JlYXRlciB0aGFuIDAuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUGVyY2VudGFnZURlbm9taW5hdG9yXCIpXHJcblx0cHVibGljIHBlcmNlbnRhZ2VEZW5vbWluYXRvcjogbnVtYmVyO1xyXG5cclxuXHQvLyBOWUkgLSBGb3IgY2FuZGlkYXRlcywgYWxsb3dzIHRoZSBTdXJ2ZXkgc3RhcnQvZW5kIGRhdGVzIHRvIGJlIHNoaWZ0ZWQgZm9yd2FyZCBpbiB0aW1lLCB0byBoZWxwIGFjaGlldmUgYSBzbW9vdGhlciBzaWduYWxcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJEaXN0cmlidXRpb25Nb2RlbFwiKVxyXG5cdHB1YmxpYyBkaXN0cmlidXRpb25Nb2RlbDogQ2FtcGFpZ25EaXN0cmlidXRpb247XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGV2YWx1YXRlTm9taW5hdGlvblJ1bGVzKCk6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3QgcmFuZDogbnVtYmVyID0gTWF0aC5yYW5kb20oKTtcclxuXHRcdC8vIENyZWF0ZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gWzAgdG8gKHBlcmNlbnRhZ2VEZW5vbWluYXRvciAtIDEpXVxyXG5cdFx0Ly8gSW4gcmFuZ2UgWzAgdG8gKHBlcmNlbnRhZ2VEZW5vbWluYXRvciAtIDEpXSBleGFjdGx5ICdwZXJjZW50YWdlTnVtZXJhdG9yJyB2YWx1ZXMgYXJlIDwgcGVyY2VudGFnZU51bWVyYXRvclxyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IocmFuZCAqIHRoaXMucGVyY2VudGFnZURlbm9taW5hdG9yKSA8IHRoaXMucGVyY2VudGFnZU51bWVyYXRvcjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc051bWJlcih0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvcikgfHwgIWlzTnVtYmVyKHRoaXMucGVyY2VudGFnZU51bWVyYXRvcikpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvciA8PSAwIHx8IHRoaXMucGVyY2VudGFnZU51bWVyYXRvciA8IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnBlcmNlbnRhZ2VOdW1lcmF0b3IgPiB0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZGlzdHJpYnV0aW9uIG1vZGVsIG1heSBiZSBudWxsXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBFdmVudCBEZWZpbml0aW9uc1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlFdmVudCB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnblN1cnZleUV2ZW50O1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0c3dpdGNoIChpbnB1dC5UeXBlKSB7XHJcblx0XHRcdGNhc2UgMDpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5LmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSBleHRlbmRzIENhbXBhaWduU3VydmV5RXZlbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3Rpdml0eSA9IGlucHV0LkFjdGl2aXR5O1xyXG5cdFx0cmVzdWx0LmNvdW50ID0gaW5wdXQuQ291bnQ7XHJcblx0XHRyZXN1bHQuaXNBZ2dyZWdhdGUgPSBpbnB1dC5Jc0FnZ3JlZ2F0ZTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJBY3Rpdml0eVwiKVxyXG5cdHB1YmxpYyBhY3Rpdml0eTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDb3VudFwiKVxyXG5cdHB1YmxpYyBjb3VudDogbnVtYmVyO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJc0FnZ3JlZ2F0ZVwiKVxyXG5cdHB1YmxpYyBpc0FnZ3JlZ2F0ZTogYm9vbGVhbjtcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuYWN0aXZpdHkpIHx8ICFpc1N0cmluZyh0aGlzLmFjdGl2aXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc051bWJlcih0aGlzLmNvdW50KSB8fCB0aGlzLmNvdW50IDw9IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNCb29sZWFuKHRoaXMuaXNBZ2dyZWdhdGUpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UgZXh0ZW5kcyBDYW1wYWlnblN1cnZleUV2ZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2Uge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSgpO1xyXG5cdFx0bGV0IHNlcXVlbmNlOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5W10gPSBbXTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIGlucHV0LlNlcXVlbmNlKSB7XHJcblx0XHRcdGlmIChpbnB1dC5TZXF1ZW5jZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVhZEFjdGl2aXR5OiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5ID0gaW5wdXQuU2VxdWVuY2Vba2V5XTtcclxuXHJcblx0XHRcdFx0aWYgKHJlYWRBY3Rpdml0eSkge1xyXG5cdFx0XHRcdFx0c2VxdWVuY2UucHVzaChDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5LmRlc2VyaWFsaXplKHJlYWRBY3Rpdml0eSkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzZXF1ZW5jZS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0c2VxdWVuY2UgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5zZXF1ZW5jZSA9IHNlcXVlbmNlO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlNlcXVlbmNlXCIpXHJcblx0cHVibGljIHNlcXVlbmNlOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5W107XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLnNlcXVlbmNlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5zZXF1ZW5jZSkge1xyXG5cdFx0XHRpZiAodGhpcy5zZXF1ZW5jZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF0aGlzLnNlcXVlbmNlW2tleV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBDb250ZW50IERlZmluaXRpb25zXHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnksIG9wdGlvbmFsQ29tcG9uZW50cz86IGJvb2xlYW4pOiBDYW1wYWlnblN1cnZleUNvbnRlbnQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LnByb21wdCA9IENhbXBhaWduU3VydmV5Q29udGVudFByb21wdC5kZXNlcmlhbGl6ZShpbnB1dC5Qcm9tcHQpO1xyXG5cdFx0cmVzdWx0LnJhdGluZyA9IENhbXBhaWduU3VydmV5Q29udGVudFJhdGluZy5kZXNlcmlhbGl6ZShpbnB1dC5SYXRpbmcpO1xyXG5cdFx0cmVzdWx0LmNvbW1lbnQgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50LmRlc2VyaWFsaXplKGlucHV0LlF1ZXN0aW9uKTtcclxuXHRcdHJlc3VsdC5tdWx0aXBsZUNob2ljZSA9IENhbXBhaWduU3VydmV5Q29udGVudE11bHRpcGxlQ2hvaWNlLmRlc2VyaWFsaXplKGlucHV0Lk11bHRpcGxlQ2hvaWNlKTtcclxuXHRcdHJlc3VsdC5pbnRlcmNlcHQgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRJbnRlcmNlcHQuZGVzZXJpYWxpemUoaW5wdXQuSW50ZXJjZXB0KTtcclxuXHRcdHJlc3VsdC5jdlN1cnZleSA9IENhbXBhaWduU3VydmV5Q29udGVudENWU3VydmV5LmRlc2VyaWFsaXplKGlucHV0LkNWU3VydmV5UGFyYW1zKTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZShvcHRpb25hbENvbXBvbmVudHMpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDVlN1cnZleVwiKVxyXG5cdHB1YmxpYyBjdlN1cnZleTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q1ZTdXJ2ZXk7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlByb21wdFwiKVxyXG5cdHB1YmxpYyBwcm9tcHQ6IENhbXBhaWduU3VydmV5Q29udGVudFByb21wdDtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUmF0aW5nXCIpXHJcblx0cHVibGljIHJhdGluZzogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UmF0aW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdHB1YmxpYyBjb21tZW50OiBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50O1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNdWx0aXBsZUNob2ljZVwiKVxyXG5cdHB1YmxpYyBtdWx0aXBsZUNob2ljZTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50TXVsdGlwbGVDaG9pY2U7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkludGVyY2VwdFwiKVxyXG5cdHB1YmxpYyBpbnRlcmNlcHQ6IENhbXBhaWduU3VydmV5Q29udGVudEludGVyY2VwdDtcclxuXHJcblx0cHVibGljIHZhbGlkYXRlKG9wdGlvbmFsQ29tcG9uZW50cz86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICghaXNOT1UodGhpcy5pbnRlcmNlcHQpKSB7XHJcblx0XHRcdC8vIEFuIGludGVyY2VwdCBzdXJ2ZXkgb25seSByZXF1aXJlcyBpbnRlcmNlcHQuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLnByb21wdCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvcHRpb25hbENvbXBvbmVudHMpIHtcclxuXHRcdFx0cmV0dXJuICFpc05PVSh0aGlzLnJhdGluZykgfHxcclxuXHRcdFx0XHQhaXNOT1UodGhpcy5tdWx0aXBsZUNob2ljZSkgfHxcclxuXHRcdFx0XHQhaXNOT1UodGhpcy5jb21tZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gIWlzTk9VKHRoaXMucmF0aW5nKSAmJiAhaXNOT1UodGhpcy5jb21tZW50KTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRNdWx0aXBsZUNob2ljZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50TXVsdGlwbGVDaG9pY2Uge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudE11bHRpcGxlQ2hvaWNlKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQucXVlc3Rpb24gPSBpbnB1dC5RdWVzdGlvbjtcclxuXHRcdHJlc3VsdC5hdmFpbGFibGVPcHRpb25zID0gaW5wdXQuQXZhaWxhYmxlT3B0aW9ucztcclxuXHRcdHJlc3VsdC5taW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9ucyA9IGlucHV0Lk1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdFx0cmVzdWx0Lm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zID0gaW5wdXQuTWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQXZhaWxhYmxlT3B0aW9uc1wiKVxyXG5cdHB1YmxpYyBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnNcIilcclxuXHRwdWJsaWMgbWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnNcIilcclxuXHRwdWJsaWMgbWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM6IG51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLnF1ZXN0aW9uKSB8fCAhaXNTdHJpbmcodGhpcy5xdWVzdGlvbikgfHxcclxuXHRcdFx0aXNOT1UodGhpcy5hdmFpbGFibGVPcHRpb25zKSB8fCAhQXJyYXkuaXNBcnJheSh0aGlzLmF2YWlsYWJsZU9wdGlvbnMpIHx8IHRoaXMuYXZhaWxhYmxlT3B0aW9ucy5sZW5ndGggPCAyIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMubWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMpIHx8ICFpc051bWJlcih0aGlzLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zKSB8fCAhaXNOdW1iZXIodGhpcy5tYXhOdW1iZXJPZlNlbGVjdGVkT3B0aW9ucykpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBleHBlY3QgYWxsIGF2YWlsYWJsZU9wdGlvbnMgdmFsdWVzIHRvIGJlIHN0cmluZ1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5hdmFpbGFibGVPcHRpb25zKSB7XHJcblx0XHRcdGlmICh0aGlzLmF2YWlsYWJsZU9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGlmICghaXNTdHJpbmcodGhpcy5hdmFpbGFibGVPcHRpb25zW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRDVlN1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q1ZTdXJ2ZXkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudENWU3VydmV5KCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuY3VzdG9tZXJWb2ljZUZvcm1JZCA9IGlucHV0LkN1c3RvbWVyVm9pY2VGb3JtSWQ7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRm9ybUlkXCIpXHJcblx0cHVibGljIGN1c3RvbWVyVm9pY2VGb3JtSWQ6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHJcblx0XHRyZXR1cm4gKCFpc05PVSh0aGlzLmN1c3RvbWVyVm9pY2VGb3JtSWQpICYmIGlzU3RyaW5nKHRoaXMuY3VzdG9tZXJWb2ljZUZvcm1JZCkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5Q29udGVudFByb21wdCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UHJvbXB0IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUNvbnRlbnRQcm9tcHQoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC50aXRsZSA9IGlucHV0LlRpdGxlO1xyXG5cdFx0cmVzdWx0LnF1ZXN0aW9uID0gaW5wdXQuUXVlc3Rpb247XHJcblx0XHRyZXN1bHQueWVzTGFiZWwgPSBpbnB1dC5ZZXNMYWJlbDtcclxuXHRcdHJlc3VsdC5ub0xhYmVsID0gaW5wdXQuTm9MYWJlbDtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJUaXRsZVwiKVxyXG5cdHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJZZXNMYWJlbFwiKVxyXG5cdHB1YmxpYyB5ZXNMYWJlbDogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJOb0xhYmVsXCIpXHJcblx0cHVibGljIG5vTGFiZWw6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLnRpdGxlKSB8fCAhaXNTdHJpbmcodGhpcy50aXRsZSkgfHxcclxuXHRcdFx0aXNOT1UodGhpcy5xdWVzdGlvbikgfHwgIWlzU3RyaW5nKHRoaXMucXVlc3Rpb24pIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMueWVzTGFiZWwpIHx8ICFpc1N0cmluZyh0aGlzLnllc0xhYmVsKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLm5vTGFiZWwpIHx8ICFpc1N0cmluZyh0aGlzLm5vTGFiZWwpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50SW50ZXJjZXB0IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUNvbnRlbnRJbnRlcmNlcHQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudEludGVyY2VwdCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LnRpdGxlID0gaW5wdXQuVGl0bGU7XHJcblx0XHRyZXN1bHQucXVlc3Rpb24gPSBpbnB1dC5RdWVzdGlvbjtcclxuXHRcdHJlc3VsdC51cmwgPSBpbnB1dC5Vcmw7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVGl0bGVcIilcclxuXHRwdWJsaWMgdGl0bGU6IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVXJsXCIpXHJcblx0cHVibGljIHVybDogc3RyaW5nO1xyXG5cclxuXHRwcml2YXRlIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMudGl0bGUpIHx8ICFpc1N0cmluZyh0aGlzLnRpdGxlKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLnF1ZXN0aW9uKSB8fCAhaXNTdHJpbmcodGhpcy5xdWVzdGlvbikgfHxcclxuXHRcdFx0aXNOT1UodGhpcy51cmwpIHx8ICFpc1N0cmluZyh0aGlzLnVybCkpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRSYXRpbmcge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5Q29udGVudFJhdGluZyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UmF0aW5nKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuaXNaZXJvQmFzZWQgPSBpbnB1dC5Jc1plcm9CYXNlZDtcclxuXHRcdHJlc3VsdC5xdWVzdGlvbiA9IGlucHV0LlF1ZXN0aW9uO1xyXG5cdFx0cmVzdWx0LnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IGlucHV0LlJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJc1plcm9CYXNlZFwiKVxyXG5cdHB1YmxpYyBpc1plcm9CYXNlZDogYm9vbGVhbjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUmF0aW5nVmFsdWVzQXNjZW5kaW5nXCIpXHJcblx0cHVibGljIHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW107XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHQvLyBleHBlY3QgcmF0aW5nVmFsdWVzQXNjZW5kaW5nIHRvIGNvbnRhaW4gYmV0d2VlbiAyIHRvIDExIHZhbHVlc1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMucXVlc3Rpb24pIHx8ICFpc1N0cmluZyh0aGlzLnF1ZXN0aW9uKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykgfHwgIUFycmF5LmlzQXJyYXkodGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpIHx8XHJcblx0XHRcdHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmxlbmd0aCA8IDIgfHwgdGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoID4gMTEpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5pc1plcm9CYXNlZCkpIHtcclxuXHRcdFx0Ly8gZGVmYXVsdCB0byBmYWxzZSBpZiBub3QgcHJvdmlkZWRcclxuXHRcdFx0dGhpcy5pc1plcm9CYXNlZCA9IGZhbHNlO1xyXG5cdFx0fSBlbHNlIGlmICghaXNCb29sZWFuKHRoaXMuaXNaZXJvQmFzZWQpKSB7XHJcblx0XHRcdC8vIGZhaWwgdmFsaWRhdGlvbiBpZiBub24gYm9vbGVhbiB2YWx1ZSBpcyBwcm92aWRlZFxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZXhwZWN0IGFsbCByYXRpbmdWYWx1ZXNBc2NlbmRpbmcgdmFsdWVzIHRvIGJlIHN0cmluZ1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpIHtcclxuXHRcdFx0aWYgKHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRpZiAoIWlzU3RyaW5nKHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRcdHJlc3VsdC5xdWVzdGlvbiA9IGlucHV0LlF1ZXN0aW9uO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlF1ZXN0aW9uXCIpXHJcblx0cHVibGljIHF1ZXN0aW9uOiBzdHJpbmc7XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5xdWVzdGlvbikgfHwgIWlzU3RyaW5nKHRoaXMucXVlc3Rpb24pKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBNZXRhZGF0YSBEZWZpbml0aW9uc1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5TWV0YWRhdGEge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSgpO1xyXG5cdFx0cmVzdWx0LmNvbnRlbnRNZXRhZGF0YSA9IGlucHV0LkNvbnRlbnRNZXRhZGF0YTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDb250ZW50TWV0YWRhdGFcIilcclxuXHRwdWJsaWMgY29udGVudE1ldGFkYXRhOiBvYmplY3Q7XHJcblxyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmNvbnRlbnRNZXRhZGF0YSkgfHwgIVV0aWxzLmlzT2JqZWN0KHRoaXMuY29udGVudE1ldGFkYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBTdXJ2ZXkgVGVtcGxhdGUgZGVmaW5pdGlvbnNcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduU3VydmV5VGVtcGxhdGU7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKGlucHV0LlR5cGUpIHtcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLlR5cGUuTnBzNVBvaW50U3RhdGljOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHM1UG9pbnRTdGF0aWMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5OcHMxMVBvaW50U3RhdGljOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLlR5cGUuRnBzOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5ObHFzOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVObHFzLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLlR5cGUuTnBzOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5HZW5lcmljTWVzc2FnaW5nU3VyZmFjZTpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5JbnRlcmNlcHQ6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUludGVyY2VwdC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHJlc3VsdCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkFjdGl2YXRpb25FdmVudFwiKVxyXG5cdHB1YmxpYyBhY3RpdmF0aW9uRXZlbnQ6IENhbXBhaWduU3VydmV5RXZlbnQ7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNvbnRlbnRcIilcclxuXHRwdWJsaWMgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50O1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNZXRhZGF0YVwiKVxyXG5cdHB1YmxpYyBtZXRhZGF0YTogQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4TGF1bmNoZXNcIilcclxuXHRwdWJsaWMgbWF4TGF1bmNoZXM6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4TGF1bmNoZXNQZXJTZXNzaW9uXCIpXHJcblx0cHVibGljIG1heExhdW5jaGVzUGVyU2Vzc2lvbjogbnVtYmVyO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJQcmVmZXJyZWRMYXVuY2hUeXBlXCIpXHJcblx0cHVibGljIHByZWZlcnJlZExhdW5jaFR5cGU6IElTdXJ2ZXlJbmZvLkxhdW5jaFR5cGU7XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5hY3RpdmF0aW9uRXZlbnQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBtb2R1bGUgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gVHlwZSB7XHJcblx0XHROcHM1UG9pbnRTdGF0aWMgPSAwLFxyXG5cdFx0TnBzMTFQb2ludFN0YXRpYyA9IDEsXHJcblx0XHRGcHMgPSAyLFxyXG5cdFx0TmxxcyA9IDMsXHJcblx0XHROcHMgPSA0LFxyXG5cdFx0SW50ZXJjZXB0ID0gNSxcclxuXHRcdC8vIEEgZ2VuZXJpYyBtZXNzYWdpYmcgc3VyZmFjZSB0ZW1wbGF0ZSB0eXBlLCB3aGljaCB3aWxsIG1ha2UgdXNlIG9mXHJcblx0XHQvLyBjb250ZW50IG1ldGFkYXRhIHRvIHJlbmRlciB1aS5cclxuXHRcdC8vIEFzIG9mIDR0aCBGZWIgMjAxOSB0aGVyZSBhcmUgMjAgdGVtcGxhdGUgdHlwZXMgZGVmaW5lZCBpbiBNc28sXHJcblx0XHQvLyBoZW5jZSBnaXZpbmcgMjIgYXMgdmFsdWUgZm9yIHRoaXMgdHlwZS5cclxuXHRcdEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlID0gMjIsXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQuY29udGVudCA9IENhbXBhaWduU3VydmV5Q29udGVudC5kZXNlcmlhbGl6ZShpbnB1dC5Db250ZW50LCB0cnVlIC8qIG9wdGlvbmFsQ29tcG9uZW50cyAqLyk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSB8fCBpc05PVSh0aGlzLmNvbnRlbnQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVObHFzIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcygpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LmFjdGl2YXRpb25FdmVudCA9IENhbXBhaWduU3VydmV5RXZlbnQuZGVzZXJpYWxpemUoaW5wdXQuQWN0aXZhdGlvbkV2ZW50KTtcclxuXHRcdHJlc3VsdC5jb250ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50LmRlc2VyaWFsaXplKGlucHV0LkNvbnRlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkgfHwgaXNOT1UodGhpcy5jb250ZW50KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wcyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQuY29udGVudCA9IENhbXBhaWduU3VydmV5Q29udGVudC5kZXNlcmlhbGl6ZShpbnB1dC5Db250ZW50KTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpIHx8IGlzTk9VKHRoaXMuY29udGVudCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHM1UG9pbnRTdGF0aWMgZXh0ZW5kcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljIGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UgZXh0ZW5kcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2Uge1xyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlKCk7XHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cdFx0cmVzdWx0Lm1ldGFkYXRhID0gQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YS5kZXNlcmlhbGl6ZShpbnB1dC5NZXRhZGF0YSk7XHJcblx0XHRyZXN1bHQubWF4TGF1bmNoZXMgPSBpbnB1dC5NYXhMYXVuY2hlcztcclxuXHRcdHJlc3VsdC5tYXhMYXVuY2hlc1BlclNlc3Npb24gPSBpbnB1dC5NYXhMYXVuY2hlc1BlclNlc3Npb247XHJcblx0XHRyZXN1bHQucHJlZmVycmVkTGF1bmNoVHlwZSA9IGlucHV0LlByZWZlcnJlZExhdW5jaFR5cGU7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSB8fCBpc05PVSh0aGlzLm1ldGFkYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCghaXNOT1UodGhpcy5tYXhMYXVuY2hlcykgJiYgKCFpc051bWJlcih0aGlzLm1heExhdW5jaGVzKSB8fCB0aGlzLm1heExhdW5jaGVzIDw9IDApKSB8fFxyXG5cdFx0XHQoIWlzTk9VKHRoaXMubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSAmJiAoIWlzTnVtYmVyKHRoaXMubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSB8fCB0aGlzLm1heExhdW5jaGVzUGVyU2Vzc2lvbiA8PSAwKSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19Mb2NhbEVycm9yKFwiSW52YWxpZCBNdWx0aSBMYXVuY2ggc2V0dGluZ3NcIiwgdGhpcy5tYXhMYXVuY2hlcywgdGhpcy5tYXhMYXVuY2hlc1BlclNlc3Npb24pO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgZm9yIHZhbGlkIHZhbHVlc1xyXG5cdFx0aWYgKGlzTnVtYmVyKHRoaXMubWF4TGF1bmNoZXMpICYmXHJcblx0XHRcdGlzTnVtYmVyKHRoaXMubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSAmJlxyXG5cdFx0XHR0aGlzLm1heExhdW5jaGVzUGVyU2Vzc2lvbiA+IHRoaXMubWF4TGF1bmNoZXMpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19Mb2NhbEVycm9yKFwiSW52YWxpZCBNdWx0aSBsYXVuY2ggc2V0dGluZ3NcIiwgdGhpcy5tYXhMYXVuY2hlcywgdGhpcy5tYXhMYXVuY2hlc1BlclNlc3Npb24pO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc05PVSh0aGlzLnByZWZlcnJlZExhdW5jaFR5cGUpICYmICFpc1N0cmluZyh0aGlzLnByZWZlcnJlZExhdW5jaFR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfTG9jYWxFcnJvcihcIkludmFsaWQgbGF1bmNoZXIgdHlwZVwiLCB0aGlzLnByZWZlcnJlZExhdW5jaFR5cGUpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUludGVyY2VwdCBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQuY29udGVudCA9IENhbXBhaWduU3VydmV5Q29udGVudC5kZXNlcmlhbGl6ZShpbnB1dC5Db250ZW50KTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpIHx8IGlzTk9VKHRoaXMuY29udGVudCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vLyByZWdpb24gQ2FtcGFpZ24gRGVmaW5pdGlvblxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRGVmaW5pdGlvbiB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgcmVzdWx0IG9mIHZhbGlkYXRpb24gY2hlY2tcclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkRlZmluaXRpb24ge1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBDYW1wYWlnbkRlZmluaXRpb24gPSBuZXcgQ2FtcGFpZ25EZWZpbml0aW9uKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuY2FtcGFpZ25JZCA9IGlucHV0LkNhbXBhaWduSWQ7XHJcblx0XHRyZXN1bHQuZ292ZXJuZWRDaGFubmVsVHlwZSA9IGlucHV0LkdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0XHRyZXN1bHQuc3RhcnRUaW1lID0gaW5wdXQuU3RhcnRUaW1lVXRjO1xyXG5cdFx0cmVzdWx0LmVuZFRpbWUgPSBpbnB1dC5FbmRUaW1lVXRjO1xyXG5cdFx0cmVzdWx0LmxhdW5jaGVyVHlwZSA9IGlucHV0LkxhdW5jaGVyVHlwZTtcclxuXHRcdHJlc3VsdC5wcmltYXJ5UHJpb3JpdHkgPSBpbnB1dC5QcmltYXJ5UHJpb3JpdHk7XHJcblx0XHRyZXN1bHQudGFncyA9IGlucHV0LlRhZ3M7XHJcblxyXG5cdFx0Y29uc3QgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQ6IENhbXBhaWduQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgPSBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkLmRlc2VyaWFsaXplKFxyXG5cdFx0XHRpbnB1dC5BZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCk7XHJcblx0XHRyZXN1bHQuYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgPSBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCA/IGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkLmFkZGl0aW9uYWxEYXRhIDogW107XHJcblxyXG5cdFx0aWYgKGlucHV0LlN1cnZleVRlbXBsYXRlKSB7XHJcblx0XHRcdHJlc3VsdC5zdXJ2ZXlUZW1wbGF0ZSA9IENhbXBhaWduU3VydmV5VGVtcGxhdGUuZGVzZXJpYWxpemUoaW5wdXQuU3VydmV5VGVtcGxhdGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC5Ob21pbmF0aW9uU2NoZW1lKSB7XHJcblx0XHRcdHJlc3VsdC5ub21pbmF0aW9uU2NoZW1lID0gQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lLmRlc2VyaWFsaXplKGlucHV0Lk5vbWluYXRpb25TY2hlbWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC5TY29wZSkge1xyXG5cdFx0XHRyZXN1bHQuc2NvcGUgPSBDYW1wYWlnblNjb3BlLmRlc2VyaWFsaXplKGlucHV0LlNjb3BlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTk9VKGlucHV0LkJ1c2luZXNzTGV2ZWwpKSB7XHJcblx0XHRcdHJlc3VsdC5idXNpbmVzc0xldmVsID0gaW5wdXQuQnVzaW5lc3NMZXZlbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfTG9jYWxFcnJvcihcIkludmFsaWQgZGVmaW5pdGlvblwiLCBpbnB1dCk7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDYW1wYWlnbklkXCIpXHJcblx0cHVibGljIGNhbXBhaWduSWQ6IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiR292ZXJuZWRDaGFubmVsVHlwZVwiKVxyXG5cdHB1YmxpYyBnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJTY29wZVwiKVxyXG5cdHB1YmxpYyBzY29wZTogQ2FtcGFpZ25TY29wZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTm9taW5hdGlvblNjaGVtZVwiKVxyXG5cdHB1YmxpYyBub21pbmF0aW9uU2NoZW1lOiBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWU7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlN1cnZleVRlbXBsYXRlXCIpXHJcblx0cHVibGljIHN1cnZleVRlbXBsYXRlOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJTdGFydFRpbWVVdGNcIilcclxuXHRwdWJsaWMgc3RhcnRUaW1lOiBEYXRlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJFbmRUaW1lVXRjXCIpXHJcblx0cHVibGljIGVuZFRpbWU6IERhdGU7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkXCIpXHJcblx0cHVibGljIGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkOiBJU3VydmV5SW5mby5BZGRpdGlvbmFsRGF0YVR5cGVbXTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGF1bmNoZXJUeXBlXCIpXHJcblx0cHVibGljIGxhdW5jaGVyVHlwZTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJQcmlvcml0eVwiKVxyXG5cdHB1YmxpYyBwcmltYXJ5UHJpb3JpdHk6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVGFnc1wiKVxyXG5cdHB1YmxpYyB0YWdzOiBzdHJpbmdbXTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQnVzaW5lc3NMZXZlbFwiKVxyXG5cdHB1YmxpYyBidXNpbmVzc0xldmVsOiBCdXNpbmVzc0xldmVsO1xyXG5cclxuXHRwdWJsaWMgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5zY29wZSkpIHtcclxuXHRcdFx0dGhpcy5zY29wZSA9IG5ldyBDYW1wYWlnblNjb3BlQW55KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuY2FtcGFpZ25JZCkgfHwgIWlzU3RyaW5nKHRoaXMuY2FtcGFpZ25JZCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5nb3Zlcm5lZENoYW5uZWxUeXBlKSB8fCAhVXRpbHMuaXNFbnVtVmFsdWUodGhpcy5nb3Zlcm5lZENoYW5uZWxUeXBlLCBHb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMubm9taW5hdGlvblNjaGVtZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLnN1cnZleVRlbXBsYXRlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc05PVSh0aGlzLmxhdW5jaGVyVHlwZSkgJiYgIWlzU3RyaW5nKHRoaXMubGF1bmNoZXJUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMubGF1bmNoZXJUeXBlID09PSBcImN1c3RvbWVydm9pY2VcIiAmJiBpc05PVSh0aGlzLnN1cnZleVRlbXBsYXRlLmNvbnRlbnQ/LmN2U3VydmV5Py5jdXN0b21lclZvaWNlRm9ybUlkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc05PVSh0aGlzLnByaW1hcnlQcmlvcml0eSkgJiYgIWlzTnVtYmVyKHRoaXMucHJpbWFyeVByaW9yaXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMudGFncyAmJiAhQXJyYXkuaXNBcnJheSh0aGlzLnRhZ3MpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDYW1wYWlnbnMgd2l0aCBubyBzdGFydCBkYXRlIGFyZSBlZmZlY3RpdmVseSBkaXNhYmxlZCwgaW4gZmFjdCwgdGhpcyBpcyB0aGUgc3VwcG9ydGVkIHdheSB0byBzdGFnZSBhIGRlZmluaXRpb24gYnV0IGhhdmUgaXQgYmUgdHVybmVkIG9mZlxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuc3RhcnRUaW1lKSkge1xyXG5cdFx0XHR0aGlzLnN0YXJ0VGltZSA9IGdldERpc3RhbnRGdXR1cmUoKTtcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLnN0YXJ0VGltZSkpIHtcclxuXHRcdFx0dGhpcy5zdGFydFRpbWUgPSBzdHJpbmdUb0RhdGUodGhpcy5zdGFydFRpbWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbXBhaWducyB3aXRoIG5vIGVuZCBkYXRlIGFyZSBlZmZlY3RpdmVseSBvbiBpbmRlZmluaXRlbHlcclxuXHRcdGlmIChpc05PVSh0aGlzLmVuZFRpbWUpIHx8XHJcblx0XHRcdCh0eXBlb2YodGhpcy5lbmRUaW1lKSA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzLmVuZFRpbWUgPT09IFwiXCIpKSB7XHJcblx0XHRcdHRoaXMuZW5kVGltZSA9IGdldERpc3RhbnRGdXR1cmUoKTtcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLmVuZFRpbWUpKSB7XHJcblx0XHRcdHRoaXMuZW5kVGltZSA9IHN0cmluZ1RvRGF0ZSh0aGlzLmVuZFRpbWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGNhbXBhaWduIGRlZmluaXRpb25zLCByZXR1cm5zIHRoZSB2YWxpZCBvbmVzIGFuZCBlcnJvcnMgaWYgYW55IGFyZSBpbnZhbGlkLlxyXG4gKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcbiAqIFJldHVybnMgdGhlIHZhbGlkIGRlZmluaXRpb25zIGFuZCB0aGUgZXJyb3IgYXMgc3RyaW5nIGlmIGFueS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXJWYWxpZENhbXBhaWduRGVmaW5pdGlvbnMoY2FtcGFpZ25EZWZpbml0aW9uczogYW55KTogeyByZXN1bHQ6IENhbXBhaWduRGVmaW5pdGlvbltdLCBlcnJvcjogc3RyaW5nIH0ge1xyXG5cdGNvbnN0IHJlc3VsdDogQ2FtcGFpZ25EZWZpbml0aW9uW10gPSBbXTtcclxuXHJcblx0aWYgKGlzTk9VKGNhbXBhaWduRGVmaW5pdGlvbnMpKSB7XHJcblx0XHRyZXR1cm4geyByZXN1bHQsIGVycm9yOiBcIkVtcHR5XCIgfTtcclxuXHR9XHJcblxyXG5cdGlmICghQXJyYXkuaXNBcnJheShjYW1wYWlnbkRlZmluaXRpb25zKSkge1xyXG5cdFx0cmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogXCJOb3QgYW4gYXJyYXlcIiB9O1xyXG5cdH1cclxuXHJcblx0Y29uc3QgYmFkSW5kZXhlczogbnVtYmVyW10gPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNhbXBhaWduRGVmaW5pdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGNvbnN0IGRlZmluaXRpb246IGFueSA9IGNhbXBhaWduRGVmaW5pdGlvbnNbaV07XHJcblxyXG5cdFx0aWYgKGRlZmluaXRpb24pIHtcclxuXHRcdFx0Y29uc3QgbmV3RGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uID0gQ2FtcGFpZ25EZWZpbml0aW9uLmRlc2VyaWFsaXplKGRlZmluaXRpb24pO1xyXG5cclxuXHRcdFx0bmV3RGVmaW5pdGlvblxyXG5cdFx0XHRcdD8gcmVzdWx0LnB1c2gobmV3RGVmaW5pdGlvbilcclxuXHRcdFx0XHQ6IGJhZEluZGV4ZXMucHVzaChpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJhZEluZGV4ZXMucHVzaChpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IGVycm9yOiBzdHJpbmcgPSBiYWRJbmRleGVzLmxlbmd0aCA+IDAgPyBcIkludmFsaWQgY2FtcGFpZ24gZGVmaW5pdGlvbnMgYXQgaW5kZXhlczogXCIgKyBiYWRJbmRleGVzLnRvU3RyaW5nKCkgOiB1bmRlZmluZWQ7XHJcblx0cmV0dXJuIHsgcmVzdWx0LCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIHtcclxuXHRsb2FkKCk6IENhbXBhaWduRGVmaW5pdGlvbltdO1xyXG5cdGxvYWRBc3luYygpOiBQcm9taXNlPENhbXBhaWduRGVmaW5pdGlvbltdPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVTeXN0ZW1DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB7XHJcblx0cHJpdmF0ZSBzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0aWYgKGlzTk9VKHN0b3JhZ2UpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvYWQoKTogQ2FtcGFpZ25EZWZpbml0aW9uW10ge1xyXG5cdFx0Y29uc3QgZGVmaW5pdGlvblN0cmluZzogc3RyaW5nID0gdGhpcy5zdG9yYWdlLnJlYWQoSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZS5DYW1wYWlnbkRlZmluaXRpb25zKTtcclxuXHRcdGlmIChpc05PVShkZWZpbml0aW9uU3RyaW5nKSkge1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHJlYWREZWZpbml0aW9uczogYW55O1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlYWREZWZpbml0aW9ucyA9IEpTT04ucGFyc2UoZGVmaW5pdGlvblN0cmluZyk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfQ2FtcGFpZ25Mb2FkX0ZhaWxlZChlLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGhpcyBpZ25vcmVzIGVycm9ycyBpbiB2YWxpZGF0aW9uIGZvciBub3cuXHJcblx0XHRyZXR1cm4gRmlsdGVyVmFsaWRDYW1wYWlnbkRlZmluaXRpb25zKHJlYWREZWZpbml0aW9ucykucmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvYWRBc3luYygpOiBQcm9taXNlPENhbXBhaWduRGVmaW5pdGlvbltdPiB7XHJcblx0XHRjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMubG9hZCgpO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKFxyXG5cdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXNvbHZlLCByZWplY3QpIHtcclxuXHRcdFx0XHRyZXNvbHZlKGRlZmluaXRpb25zKTtcclxuXHRcdFx0fSxcclxuXHRcdCk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignManager.js":
/*!*************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignManager.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CampaignManager = void 0;\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nvar CampaignStateProvider_1 = __webpack_require__(/*! ./CampaignStateProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\");\nvar CampaignSurveyFactory_1 = __webpack_require__(/*! ./CampaignSurveyFactory */ \"../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js\");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar ISurveyInfo_1 = __webpack_require__(/*! ../ISurveyInfo */ \"../FloodgateCore/dist/src/ISurveyInfo.js\");\nvar getDistantFuture = Utils.getDistantFuture, getDistantPast = Utils.getDistantPast, isArray = Utils.isArray, isNOU = Utils.isNOU;\n/**\n * The standard campaign manager implementation.\n */\nvar CampaignManager = /** @class */ (function () {\n    function CampaignManager(stateProvider, definitionProviders, stringProvider, environmentProvider, currentBuildNumber, currentDate, userFactsProvider) {\n        if (!stateProvider) {\n            throw new Error(\"stateProvider must not be null\");\n        }\n        if (!isArray(definitionProviders)) {\n            throw new Error(\"definitionProviders is either null or not an array type\");\n        }\n        if (!stringProvider) {\n            throw new Error(\"stringProvider must not be null\");\n        }\n        if (isNOU(currentBuildNumber)) {\n            throw new Error(\"currentBuildNumber must not be null\");\n        }\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        this.stateProvider = stateProvider;\n        this.definitionProviders = definitionProviders;\n        this.stringProvider = stringProvider;\n        this.userFactsProvider = userFactsProvider;\n        this.environmentProvider = environmentProvider; // Can be null\n        this.currentBuildNumber = currentBuildNumber;\n        currentDate = currentDate ? currentDate : new Date();\n    }\n    CampaignManager.isStateUpForNomination = function (state, definition, date, buildNumber) {\n        if (!state || !definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        // Check manual override\n        if (state.ForceCandidacy) {\n            return true;\n        }\n        // Figure out which duration we're using based on whether or not the user triggered the survey\n        var campaignCooldownDuration = definition.nominationScheme.getCampaignCooldown(state.IsCandidate && state.DidCandidateTriggerSurvey);\n        if (!campaignCooldownDuration) {\n            return false;\n        }\n        // First check for build-based rules. Eventually this could get more complex if we supported counting differently seen build numbers\n        if (CampaignManager.hasBuildChangeDurationElapsed(campaignCooldownDuration, state.LastNominationBuildNumber, buildNumber)) {\n            return true;\n        }\n        // Next check date rules\n        return CampaignManager.hasTimeIntervalDurationElapsed(campaignCooldownDuration, state.getCooldownStartDate(), date);\n    };\n    CampaignManager.isDateInRange = function (date, startDate, endDate) {\n        date = date ? date : new Date();\n        startDate = startDate ? startDate : getDistantPast();\n        endDate = endDate ? endDate : getDistantFuture();\n        // Check Start/Expire date range\n        if (startDate.getTime() <= date.getTime() && endDate.getTime() >= date.getTime()) {\n            return true;\n        }\n        return false;\n    };\n    CampaignManager.hasTimeIntervalDurationElapsed = function (duration, startDate, date) {\n        if (isNOU(duration) || !(duration instanceof CampaignDefinitionProvider_1.CampaignDurationTimeInterval)) {\n            return false;\n        }\n        if (!startDate || !date) {\n            return false;\n        }\n        var endDate = Utils.addSecondsWithoutOverflow(startDate, duration.intervalSeconds);\n        return date.getTime() >= endDate.getTime();\n    };\n    CampaignManager.hasBuildChangeDurationElapsed = function (duration, startBuild, build) {\n        if (isNOU(duration) || !(duration instanceof CampaignDefinitionProvider_1.CampaignDurationSingleBuildChange)) {\n            return false;\n        }\n        if (isNOU(startBuild) || isNOU(build)) {\n            return (startBuild === null) !== (build === null);\n        }\n        return !(startBuild === build);\n    };\n    CampaignManager.isCampaignInScope = function (definition, date, environmentProvider, userFactsProvider) {\n        if (!definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        // Check Start/Expire date range\n        if (!CampaignManager.isDateInRangeWithDefinition(date, definition)) {\n            return false;\n        }\n        if (definition.scope) {\n            if (definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeUserFactAny || definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeUserFactAll) {\n                definition.scope.setUserFactsProvider(userFactsProvider);\n            }\n            if (definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeEnvironmentCrossProduct) {\n                definition.scope.setEnvironmentProvider(environmentProvider);\n            }\n            if (!definition.scope.isInScope()) {\n                return false;\n            }\n        }\n        // If we get here, the definition is relevant\n        return true;\n    };\n    CampaignManager.isDateInRangeWithDefinition = function (date, definition) {\n        if (!definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        return CampaignManager.isDateInRange(date, \n        // null start dates should be impossible, but if set, should mean the campaign is disabled\n        definition.startTime ? definition.startTime : getDistantFuture(), definition.endTime);\n    };\n    // @Override\n    CampaignManager.prototype.getActiveSurveys = function () {\n        var surveys = {};\n        var prioritizedCampaigns = this.getPrioritizedCampaigns();\n        for (var key in this.campaignStates) {\n            if (this.campaignStates.hasOwnProperty(key)) {\n                var state = this.campaignStates[key];\n                if (!state.IsCandidate) {\n                    continue;\n                }\n                // This is a requirement because we keep some otherwise \"stale\" campaigns around for the save routine\n                var definition = prioritizedCampaigns[state.CampaignId];\n                if (!definition) {\n                    continue;\n                }\n                var survey = CampaignSurveyFactory_1.CampaignSurveyFactory.makeSurvey(state, definition, this.stringProvider);\n                if (!survey) {\n                    continue;\n                }\n                surveys[survey.getSurveyInfo().getId()] = survey;\n            }\n        }\n        return surveys;\n    };\n    // @Override\n    CampaignManager.prototype.onCampaignSurveyActivated = function (campaignId, takenDate, isSurveyComplete) {\n        var state = this.campaignStates[campaignId];\n        if (!state) {\n            return;\n        }\n        takenDate = takenDate ? takenDate : new Date();\n        var cooldownSeconds = this.campaignDefinitions[campaignId].nominationScheme.cooldownPeriod.asTimeIntervalSeconds();\n        state.markCurrentSurveyTakenOnDate(takenDate, cooldownSeconds, isSurveyComplete);\n        this.saveCurrentState();\n    };\n    CampaignManager.prototype.getCampaignStates = function () {\n        return this.campaignStates;\n    };\n    // @Override\n    CampaignManager.prototype.getCampaignDefinitions = function () {\n        return this.campaignDefinitions;\n    };\n    CampaignManager.prototype.getUserFacts = function () {\n        return this.userFacts;\n    };\n    // region ISurveyClient methods\n    // @Override\n    CampaignManager.prototype.onSurveyActivated = function (surveyInfo, isSurveyComplete) {\n        if (!surveyInfo) {\n            return;\n        }\n        this.onCampaignSurveyActivated(surveyInfo.getBackEndId(), new Date(), isSurveyComplete);\n    };\n    // @Override\n    CampaignManager.prototype.refreshSurveyDefinitions = function (channelTypes, date) {\n        this.refreshSurveyDefinitionsPrivate(channelTypes, (date ? date : new Date()));\n    };\n    // @Override\n    CampaignManager.prototype.refreshSurveyDefinitionsAsync = function (channelTypes, date) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.refreshSurveyDefinitionsPrivateAsync(channelTypes, (date ? date : new Date())).then(function onFulfilled() {\n                resolve();\n            }).catch(function OnRejected(errReason) {\n                reject(errReason);\n            });\n        });\n    };\n    // @Override\n    CampaignManager.prototype.getAppSurveys = function () {\n        return this.getActiveSurveys();\n    };\n    // @Override\n    CampaignManager.prototype.saveCurrentState = function () {\n        // Sort by campaignId, ascending for uniformity\n        var states = Utils.makeArrayFromObjectValuesSortedByKeyString(this.campaignStates);\n        this.stateProvider.save(states);\n    };\n    // endregion\n    CampaignManager.prototype.refreshSurveyDefinitionsPrivate = function (channelTypes, date) {\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        this.loadAndFilterCampaignData(date, channelTypes);\n        this.evaluateCampaigns(date);\n    };\n    CampaignManager.prototype.refreshSurveyDefinitionsPrivateAsync = function (channelTypes, date) {\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        var thisCampaignManager = this;\n        return new Promise(function (resolve, reject) {\n            thisCampaignManager.loadAndFilterCampaignDataAsync(date, channelTypes).then(function onFulfilled() {\n                thisCampaignManager.evaluateCampaigns(date);\n                resolve();\n            }).catch(function OnRejected(errReason) {\n                reject(errReason);\n            });\n        });\n    };\n    /**\n     * Load and filter the campaigns definitions and states\n     */\n    CampaignManager.prototype.loadAndFilterCampaignDataAsync = function (currentDate, channelTypes) {\n        currentDate = currentDate ? currentDate : new Date();\n        var loadedDefinitions = [];\n        var promises = [];\n        var userFactsPromise = this.userFactsProvider && this.userFactsProvider.loadAsync();\n        for (var _i = 0, _a = Object.keys(this.definitionProviders); _i < _a.length; _i++) {\n            var i = _a[_i];\n            var provider = this.definitionProviders[i];\n            var promise = provider && provider.loadAsync();\n            if (!isNOU(promise)) {\n                // Promise.all fails even if one promise fails.\n                // We want to ignore the promise that failed and continue with the ones\n                // those are succesful, hence overriding the catch to always resolve.\n                // responsibility of logging failures should be with the provider.\n                promise = promise.catch(function () {\n                    FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(\"Failed to load from campaign definition provider\");\n                    Promise.resolve();\n                });\n                promises.push(promise);\n            }\n        }\n        var thisCampaignManager = this;\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises).then(function onFulfilled(values) {\n                for (var _i = 0, _a = Object.keys(values); _i < _a.length; _i++) {\n                    var i = _a[_i];\n                    var campaignDefinitions = values[i];\n                    if (isArray(campaignDefinitions)) {\n                        // If there are campaign defintions with duplicate campaign Id's\n                        // Floodgate will load the last one it found. FilterCampaignData does this filteration\n                        loadedDefinitions = loadedDefinitions.concat(campaignDefinitions);\n                    }\n                }\n                var setUserFacts = function (userFacts) {\n                    thisCampaignManager.userFacts = userFacts || [];\n                    thisCampaignManager.FilterCampaignData(currentDate, channelTypes, loadedDefinitions);\n                    resolve();\n                };\n                // Before filtering and evaluating the campaign definitions,\n                // wait until the user facts are loaded as they will be used in evaluating campaign scopes\n                if (!isNOU(userFactsPromise)) {\n                    userFactsPromise.then(function (userFacts) {\n                        setUserFacts(userFacts);\n                    }).catch(function () {\n                        // this should never happen as user facts promise will always be resolved by the user facts provider\n                        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsLoad.Failed, \"Failed to load from user facts provider\");\n                        setUserFacts();\n                    });\n                }\n                else {\n                    setUserFacts();\n                }\n            }).catch(function OnRejected(error) {\n                // this should never happen as Promise.all will always be resolved\n                // because of hack at the top of the function.\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(\"Failed to load from campaign definition provider\");\n            });\n        });\n    };\n    CampaignManager.prototype.loadAndFilterCampaignData = function (currentDate, channelTypes) {\n        currentDate = currentDate ? currentDate : new Date();\n        var loadedDefinitions = [];\n        for (var _i = 0, _a = Object.keys(this.definitionProviders); _i < _a.length; _i++) {\n            var index = _a[_i];\n            try {\n                var definitions = this.definitionProviders[index] && this.definitionProviders[index].load();\n                if (isArray(definitions)) {\n                    // If there are campaign defintions with duplicate campaign Id's\n                    // Floodgate will load the last one it found. FilterCampaignData does this filteration\n                    loadedDefinitions = loadedDefinitions.concat(definitions);\n                }\n            }\n            catch (error) {\n                // Log error, but continue with other providers\n                // It should be the responsibility of provider to log detailed errors\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(\"Failed to load from campaign definition provider. \" + error.toString());\n            }\n        }\n        // Load the user facts before all the campaign definitions are evaluated\n        try {\n            this.userFacts = (this.userFactsProvider && this.userFactsProvider.load()) || [];\n        }\n        catch (error) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsLoad.Failed, \"Failed to load from user facts provider. \" + error);\n        }\n        this.FilterCampaignData(currentDate, channelTypes, loadedDefinitions);\n    };\n    /**\n     * Load and filter the campaigns definitions and states\n     */\n    CampaignManager.prototype.FilterCampaignData = function (currentDate, channelTypes, loadedDefinitions) {\n        var loadedDefinitionsMap = {};\n        // Load filtered campaign definitions\n        for (var key in loadedDefinitions) {\n            if (loadedDefinitions.hasOwnProperty(key)) {\n                var definition = loadedDefinitions[key];\n                loadedDefinitionsMap[definition.campaignId] = definition;\n                if (channelTypes &&\n                    (channelTypes.indexOf(definition.governedChannelType) < 0) &&\n                    (definition.businessLevel !== ISurveyInfo_1.BusinessLevel.Critical)) {\n                    continue;\n                }\n                if (!CampaignManager.isCampaignInScope(definition, currentDate, this.environmentProvider, this.userFactsProvider)) {\n                    continue;\n                }\n                this.campaignDefinitions[definition.campaignId] = definition;\n            }\n        }\n        // Load campaign state, filtering out the expired definitions\n        var loadedStates = this.stateProvider.load();\n        var staleLoadedStates = [];\n        for (var key in loadedStates) {\n            if (loadedStates.hasOwnProperty(key)) {\n                var state = loadedStates[key];\n                if (!this.campaignDefinitions.hasOwnProperty(state.CampaignId)) {\n                    staleLoadedStates.push(state);\n                }\n                this.campaignStates[state.CampaignId] = state;\n            }\n        }\n        /*\n         * Stale State data cleanup\n         * State needs to be cleaned up when:\n         * 1) The campaign has expired\n         * 2) The campaign is no longer present in the definitions (think ECS or other outages or very old expirations)\n         *    In this case the state should still be cleaned up on it's reelection date\n         * 3) When the user is out of scope (for an otherwise active campaign) and is up for nomination\n\r\n         * This optimizes the user experience in case the campaign pops up or gets renewed when we would have preferred the user remain in cool down\n\r\n         * 2&3 are basically the same, and 1 is a special case optimization on top of 2&3 for earlier clean up\n\r\n         * To do 2 & 3, we just look at states with no matching definition (after filtering), and reject them if they are past their nomination period\n         * To do 1, we just need to keep a list/hash of the definitions that we filtered out this load cycle, specifically for expiration dates, and bypass\n         * the cool down \"wait\" for these specifically\n\r\n         * For now, allowing some \"grace\" for \"missing\"/\"blippy\" campaign definitions (in case they pop in and out of ECS) by deferring missing\n         * deletion by a delay-time specified by the original campaign.\n         */\n        for (var key in staleLoadedStates) {\n            if (staleLoadedStates.hasOwnProperty(key)) {\n                var state = staleLoadedStates[key];\n                if (!state) {\n                    continue;\n                }\n                var definition = loadedDefinitionsMap[state.CampaignId];\n                var shouldRemove = false;\n                if (!definition) {\n                    if (state.LastNominationTimeUtc.getTime() <= Utils.subtractSecondsWithoutOverflow(currentDate, state.DeleteAfterSecondsWhenStale).getTime()) {\n                        shouldRemove = true;\n                    }\n                }\n                else if (CampaignManager.isStateUpForNomination(state, definition, currentDate, this.currentBuildNumber)) {\n                    shouldRemove = true;\n                }\n                // The next time we write to storage, these will be removed\n                if (shouldRemove) {\n                    delete this.campaignStates[state.CampaignId];\n                }\n            }\n        }\n    };\n    // Filter lower priority campaigns that are on same channel and have a matching tag\n    CampaignManager.prototype.getPrioritizedCampaigns = function () {\n        var _this = this;\n        var prioritizedCampaigns = {};\n        // build <tagId_channel, campaign[]> map\n        var matchingTagCampaigns = {};\n        Object.keys(this.campaignDefinitions || []).forEach(function (key) {\n            var definition = _this.campaignDefinitions[key];\n            prioritizedCampaigns[key] = definition;\n            // if tags are not defined, use empty tag to fallback to channel level aggregation\n            var definitionTags = definition.tags && definition.tags.length > 0 ? definition.tags : [\"\"];\n            definitionTags.forEach(function (tagId) {\n                var mapKey = tagId + \"_\" + definition.governedChannelType;\n                matchingTagCampaigns[mapKey] = matchingTagCampaigns[mapKey] || [];\n                matchingTagCampaigns[mapKey].push(definition);\n            });\n        });\n        // remove lower priority campaigns\n        Object.keys(matchingTagCampaigns).forEach(function (key) {\n            var definitions = matchingTagCampaigns[key];\n            if (definitions.length <= 1) {\n                return;\n            }\n            // Get definition that has max priority value (0/null/undefined has highest prioirty)\n            var maxPriorityDefinition = definitions.reduce(function (prev, cur) {\n                var curPriority = cur.primaryPriority || 0;\n                var prevPriority = prev.primaryPriority || 0;\n                return curPriority < prevPriority ? cur : prev;\n            }, definitions[0]);\n            var maxPriority = maxPriorityDefinition.primaryPriority;\n            if (isNOU(maxPriority)) {\n                // nothing to filter because all priorities are null/undefined\n                return;\n            }\n            // delete lower priority campaigns while preserving all the matching higher priority items\n            definitions.forEach(function (current) {\n                var currentPriority = current.primaryPriority;\n                // for mso compatability ignore campaigns without priority set so that they are always considered\n                if (!isNOU(current.primaryPriority) && currentPriority > maxPriority) {\n                    delete prioritizedCampaigns[current.campaignId];\n                }\n            });\n        });\n        return prioritizedCampaigns;\n    };\n    /**\n     * Given the loaded campaign definitions and states from previous sessions, run anything up for nomination\n     */\n    CampaignManager.prototype.evaluateCampaigns = function (currentDate) {\n        // Loop through campaigns definitions, and update their state if necessary\n        currentDate = currentDate ? currentDate : new Date();\n        for (var key in this.campaignDefinitions) {\n            if (this.campaignDefinitions.hasOwnProperty(key)) {\n                var definition = this.campaignDefinitions[key];\n                var state = this.campaignStates[definition.campaignId];\n                if (!state || CampaignManager.isStateUpForNomination(state, definition, currentDate, this.currentBuildNumber)) {\n                    var lastSurveyId = state ? state.LastSurveyId : \"\";\n                    var lastSurveyStartTime = state ? state.LastSurveyStartTimeUtc : getDistantPast();\n                    var lastSurveyExpirationTime = state ? state.LastSurveyExpirationTimeUtc : getDistantPast();\n                    var lastSurveyActivatedTime = state ? state.LastSurveyActivatedTimeUtc : getDistantPast();\n                    var lastCooldownEndTimeUtc = state ? state.LastCooldownEndTimeUtc : getDistantPast();\n                    // Run the nomination\n                    var isCandidate = (state && state.ForceCandidacy) || definition.nominationScheme.evaluateNominationRules();\n                    if (isCandidate) {\n                        // Make new survey properties for the next call to get the active surveys\n                        lastSurveyId = Utils.guid();\n                        lastSurveyStartTime = definition.nominationScheme.calculateSurveyStartTimeFromDate(currentDate);\n                        lastSurveyExpirationTime = definition.nominationScheme.calculateSurveyExpirationTimeFromSurveyStartTime(lastSurveyStartTime);\n                    }\n                    var newState = new CampaignStateProvider_1.CampaignState(definition.campaignId, currentDate, this.currentBuildNumber, definition.nominationScheme.getActiveSurveyTimeIntervalSeconds(), false, isCandidate, false, lastSurveyActivatedTime, lastSurveyId, lastSurveyStartTime, lastSurveyExpirationTime, lastCooldownEndTimeUtc);\n                    // Save the new state to our local cache\n                    this.campaignStates[newState.CampaignId] = newState;\n                }\n            }\n        }\n    };\n    return CampaignManager;\n}());\nexports.CampaignManager = CampaignManager;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduTWFuYWdlci50cz85MDQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUlBLHNIQUFxRDtBQUlyRCxzRkFBa0M7QUFDbEMsK0pBR3NDO0FBQ3RDLGdKQUFnRjtBQUNoRixnSkFBZ0U7QUFHaEUsb0dBQThDO0FBQzlDLDBHQUErQztBQUV2QyxvQkFBZ0IsR0FBcUMsS0FBSyxpQkFBMUMsRUFBRSxjQUFjLEdBQXFCLEtBQUssZUFBMUIsRUFBRSxPQUFPLEdBQVksS0FBSyxRQUFqQixFQUFFLEtBQUssR0FBSyxLQUFLLE1BQVYsQ0FBVztBQWNuRTs7R0FFRztBQUNIO0lBd0hDLHlCQUFtQixhQUFxQyxFQUN2RCxtQkFBa0QsRUFDbEQsY0FBd0MsRUFDeEMsbUJBQWtELEVBQ2xELGtCQUEwQixFQUMxQixXQUFpQixFQUNqQixpQkFBcUM7UUFFckMsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFDbEMsTUFBTSxJQUFJLEtBQUssQ0FBQyx5REFBeUQsQ0FBQyxDQUFDO1NBQzNFO1FBRUQsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUNwQixNQUFNLElBQUksS0FBSyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7U0FDbkQ7UUFFRCxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN2RDtRQUVELElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxD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QUMsY0FBYyxFQUFFLENBQUM7b0JBQ2xHLElBQU0sc0JBQXNCLEdBQVMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO29CQUU3RixxQkFBcUI7b0JBQ3JCLElBQU0sV0FBVyxHQUFZLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztvQkFDdEgsSUFBSSxXQUFXLEVBQUU7d0JBQ2hCLHlFQUF5RTt3QkFDekUsWUFBWSxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDNUIsbUJBQW1CLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFDLGdDQUFnQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO3dCQUNoRyx3QkFBd0IsR0FBRyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsZ0RBQWdELENBQUMsbUJBQW1CLENBQUMsQ0FBQztxQkFDN0g7b0JBRUQsSUFBTSxRQUFRLEdBQWtCLElBQUkscUNBQWEsQ0FDaEQsVUFBVSxDQUFDLFVBQVUsRUFDckIsV0FBVyxFQUNYLElBQUksQ0FBQyxrQkFBa0IsRUFDdkIsVUFBVSxDQUFDLGdCQUFnQixDQUFDLGtDQUFrQyxFQUFFLEVBQ2hFLEtBQUssRUFDTCxXQUFXLEVBQ1gsS0FBSyxFQUNMLHVCQUF1QixFQUN2QixZQUFZLEVBQ1osbUJBQW1CLEVBQ25CLHdCQUF3QixFQUN4QixzQkFBc0IsQ0FDdEIsQ0FBQztvQkFFRix3Q0FBd0M7b0JBQ3hDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBQztpQkFDcEQ7YUFDRDtTQUNEO0lBQ0YsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQXBrQlksMENBQWUiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9DYW1wYWlnbi9DYW1wYWlnbk1hbmFnZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCB7IElEaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL0NvbW1vblwiO1xyXG5pbXBvcnQgeyBGbG9vZGdhdGVFbmdpbmUgfSBmcm9tIFwiLi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiLi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlDbGllbnQgfSBmcm9tIFwiLi4vSVN1cnZleUNsaWVudFwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7XHJcblx0Q2FtcGFpZ25EZWZpbml0aW9uLCBDYW1wYWlnbkR1cmF0aW9uLCBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2UsXHJcblx0Q2FtcGFpZ25EdXJhdGlvblRpbWVJbnRlcnZhbCwgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0LCBDYW1wYWlnblNjb3BlVXNlckZhY3RBbGwsIENhbXBhaWduU2NvcGVVc2VyRmFjdEFueSwgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLFxyXG59IGZyb20gXCIuL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3RhdGUsIElDYW1wYWlnblN0YXRlUHJvdmlkZXIgfSBmcm9tIFwiLi9DYW1wYWlnblN0YXRlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5IH0gZnJvbSBcIi4vQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5XCI7XHJcblxyXG5pbXBvcnQgeyBJVXNlckZhY3QsIElVc2VyRmFjdFByb3ZpZGVyIH0gZnJvbSBcIi4uL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEJ1c2luZXNzTGV2ZWwgfSBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuXHJcbmNvbnN0IHsgZ2V0RGlzdGFudEZ1dHVyZSwgZ2V0RGlzdGFudFBhc3QsIGlzQXJyYXksIGlzTk9VIH0gPSBVdGlscztcclxuXHJcbi8qKlxyXG4gKiBUaGUgQ2FtcGFpZ25NYW5hZ2VyIGlzIHJlc3BvbnNpYmxlIGZvciBjb21iaW5pbmcgcmVhZC1vbmx5IGNhbXBhaWduIGRlZmluaXRpb25zIHdpdGggcHJldmlvdXNseSBzdG9yZWQgY2FtcGFpZ24gc3RhdGUsXHJcbiAqIHJ1bm5pbmcgcmUtbm9taW5hdGlvbiBlbGVjdGlvbnMsIGFuZCB1bHRpbWF0ZWx5IGdlbmVyYXRpbmcgc3VydmV5c1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJQ2FtcGFpZ25NYW5hZ2VyIHtcclxuXHQvLyBHZXQgdGhlIGxpc3Qgb2YgYWN0aXZlIHN1cnZleXMgdGFyZ2V0aW5nIHRoaXMgdXNlclxyXG5cdGdldEFjdGl2ZVN1cnZleXMoKTogSURpY3Rpb25hcnk8SVN1cnZleT47XHJcblxyXG5cdC8vIFVwZGF0ZXMgdGhlIGNhbXBhaWduIHN0YXRlIGJhc2VkIG9uIHRoZSBmYWN0IHRoYXQgdGhlIHVzZXIganVzdCB0b29rIHRoYXQgY2FtcGFpZ24ncyBzdXJ2ZXlcclxuXHRvbkNhbXBhaWduU3VydmV5QWN0aXZhdGVkKGNhbXBhaWduSWQ6IHN0cmluZywgZGF0ZTogRGF0ZSwgaXNTdXJ2ZXlDb21wbGV0ZTogYm9vbGVhbik6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc3RhbmRhcmQgY2FtcGFpZ24gbWFuYWdlciBpbXBsZW1lbnRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbk1hbmFnZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25NYW5hZ2VyLCBJU3VydmV5Q2xpZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGlzU3RhdGVVcEZvck5vbWluYXRpb24oc3RhdGU6IENhbXBhaWduU3RhdGUsIGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiwgZGF0ZTogRGF0ZSwgYnVpbGROdW1iZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZGVmaW5pdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0ZSA9IGRhdGUgPyBkYXRlIDogbmV3IERhdGUoKTtcclxuXHJcblx0XHQvLyBDaGVjayBtYW51YWwgb3ZlcnJpZGVcclxuXHRcdGlmIChzdGF0ZS5Gb3JjZUNhbmRpZGFjeSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGaWd1cmUgb3V0IHdoaWNoIGR1cmF0aW9uIHdlJ3JlIHVzaW5nIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIHRyaWdnZXJlZCB0aGUgc3VydmV5XHJcblx0XHRjb25zdCBjYW1wYWlnbkNvb2xkb3duRHVyYXRpb246IENhbXBhaWduRHVyYXRpb25cclxuXHRcdFx0PSBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuZ2V0Q2FtcGFpZ25Db29sZG93bihzdGF0ZS5Jc0NhbmRpZGF0ZSAmJiBzdGF0ZS5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5KTtcclxuXHJcblx0XHRpZiAoIWNhbXBhaWduQ29vbGRvd25EdXJhdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBGaXJzdCBjaGVjayBmb3IgYnVpbGQtYmFzZWQgcnVsZXMuIEV2ZW50dWFsbHkgdGhpcyBjb3VsZCBnZXQgbW9yZSBjb21wbGV4IGlmIHdlIHN1cHBvcnRlZCBjb3VudGluZyBkaWZmZXJlbnRseSBzZWVuIGJ1aWxkIG51bWJlcnNcclxuXHRcdGlmIChDYW1wYWlnbk1hbmFnZXIuaGFzQnVpbGRDaGFuZ2VEdXJhdGlvbkVsYXBzZWQoY2FtcGFpZ25Db29sZG93bkR1cmF0aW9uLCBzdGF0ZS5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyLCBidWlsZE51bWJlcikpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTmV4dCBjaGVjayBkYXRlIHJ1bGVzXHJcblx0XHRyZXR1cm4gQ2FtcGFpZ25NYW5hZ2VyLmhhc1RpbWVJbnRlcnZhbER1cmF0aW9uRWxhcHNlZChjYW1wYWlnbkNvb2xkb3duRHVyYXRpb24sIHN0YXRlLmdldENvb2xkb3duU3RhcnREYXRlKCksIGRhdGUpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBpc0RhdGVJblJhbmdlKGRhdGU6IERhdGUsIHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG5cdFx0ZGF0ZSA9IGRhdGUgPyBkYXRlIDogbmV3IERhdGUoKTtcclxuXHRcdHN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZSA/IHN0YXJ0RGF0ZSA6IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHRlbmREYXRlID0gZW5kRGF0ZSA/IGVuZERhdGUgOiBnZXREaXN0YW50RnV0dXJlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgU3RhcnQvRXhwaXJlIGRhdGUgcmFuZ2VcclxuXHRcdGlmIChzdGFydERhdGUuZ2V0VGltZSgpIDw9IGRhdGUuZ2V0VGltZSgpICYmIGVuZERhdGUuZ2V0VGltZSgpID49IGRhdGUuZ2V0VGltZSgpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgaGFzVGltZUludGVydmFsRHVyYXRpb25FbGFwc2VkKGR1cmF0aW9uOiBDYW1wYWlnbkR1cmF0aW9uLCBzdGFydERhdGU6IERhdGUsIGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkdXJhdGlvbikgfHwgIShkdXJhdGlvbiBpbnN0YW5jZW9mIENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmICghc3RhcnREYXRlIHx8ICFkYXRlKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbmREYXRlOiBEYXRlID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyhzdGFydERhdGUsIGR1cmF0aW9uLmludGVydmFsU2Vjb25kcyk7XHJcblx0XHRyZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPj0gZW5kRGF0ZS5nZXRUaW1lKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGhhc0J1aWxkQ2hhbmdlRHVyYXRpb25FbGFwc2VkKGR1cmF0aW9uOiBDYW1wYWlnbkR1cmF0aW9uLCBzdGFydEJ1aWxkOiBzdHJpbmcsIGJ1aWxkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkdXJhdGlvbikgfHwgIShkdXJhdGlvbiBpbnN0YW5jZW9mIENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKHN0YXJ0QnVpbGQpIHx8IGlzTk9VKGJ1aWxkKSkge1xyXG5cdFx0XHRyZXR1cm4gKHN0YXJ0QnVpbGQgPT09IG51bGwpICE9PSAoYnVpbGQgPT09IG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAhKHN0YXJ0QnVpbGQgPT09IGJ1aWxkKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGlzQ2FtcGFpZ25JblNjb3BlKFxyXG5cdFx0ZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uLFxyXG5cdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0dXNlckZhY3RzUHJvdmlkZXI6IElVc2VyRmFjdFByb3ZpZGVyKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgU3RhcnQvRXhwaXJlIGRhdGUgcmFuZ2VcclxuXHRcdGlmICghQ2FtcGFpZ25NYW5hZ2VyLmlzRGF0ZUluUmFuZ2VXaXRoRGVmaW5pdGlvbihkYXRlLCBkZWZpbml0aW9uKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGRlZmluaXRpb24uc2NvcGUpIHtcclxuXHRcdFx0aWYgKGRlZmluaXRpb24uc2NvcGUgaW5zdGFuY2VvZiBDYW1wYWlnblNjb3BlVXNlckZhY3RBbnkgfHwgZGVmaW5pdGlvbi5zY29wZSBpbnN0YW5jZW9mIENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbCkge1xyXG5cdFx0XHRcdGRlZmluaXRpb24uc2NvcGUuc2V0VXNlckZhY3RzUHJvdmlkZXIodXNlckZhY3RzUHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkZWZpbml0aW9uLnNjb3BlIGluc3RhbmNlb2YgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0KSB7XHJcblx0XHRcdFx0ZGVmaW5pdGlvbi5zY29wZS5zZXRFbnZpcm9ubWVudFByb3ZpZGVyKGVudmlyb25tZW50UHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghZGVmaW5pdGlvbi5zY29wZS5pc0luU2NvcGUoKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIHdlIGdldCBoZXJlLCB0aGUgZGVmaW5pdGlvbiBpcyByZWxldmFudFxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBpc0RhdGVJblJhbmdlV2l0aERlZmluaXRpb24oZGF0ZTogRGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIENhbXBhaWduTWFuYWdlci5pc0RhdGVJblJhbmdlKGRhdGUsXHJcblx0XHRcdC8vIG51bGwgc3RhcnQgZGF0ZXMgc2hvdWxkIGJlIGltcG9zc2libGUsIGJ1dCBpZiBzZXQsIHNob3VsZCBtZWFuIHRoZSBjYW1wYWlnbiBpcyBkaXNhYmxlZFxyXG5cdFx0XHRkZWZpbml0aW9uLnN0YXJ0VGltZSA/IGRlZmluaXRpb24uc3RhcnRUaW1lIDogZ2V0RGlzdGFudEZ1dHVyZSgpLFxyXG5cdFx0XHRkZWZpbml0aW9uLmVuZFRpbWUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjYW1wYWlnblN0YXRlczogSURpY3Rpb25hcnk8Q2FtcGFpZ25TdGF0ZT47XHJcblx0cHJpdmF0ZSBjYW1wYWlnbkRlZmluaXRpb25zOiBJRGljdGlvbmFyeTxDYW1wYWlnbkRlZmluaXRpb24+O1xyXG5cdHByaXZhdGUgdXNlckZhY3RzOiBJVXNlckZhY3RbXTtcclxuXHRwcml2YXRlIGN1cnJlbnRCdWlsZE51bWJlcjogc3RyaW5nO1xyXG5cdHByaXZhdGUgc3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlcjtcclxuXHRwcml2YXRlIGRlZmluaXRpb25Qcm92aWRlcnM6IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcltdO1xyXG5cdHByaXZhdGUgc3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcjtcclxuXHRwcml2YXRlIGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyO1xyXG5cdHByaXZhdGUgdXNlckZhY3RzUHJvdmlkZXI6IElVc2VyRmFjdFByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlcixcclxuXHRcdGRlZmluaXRpb25Qcm92aWRlcnM6IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcltdLFxyXG5cdFx0c3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0Y3VycmVudEJ1aWxkTnVtYmVyOiBzdHJpbmcsXHJcblx0XHRjdXJyZW50RGF0ZTogRGF0ZSxcclxuXHRcdHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXIpIHtcclxuXHJcblx0XHRpZiAoIXN0YXRlUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RhdGVQcm92aWRlciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNBcnJheShkZWZpbml0aW9uUHJvdmlkZXJzKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbml0aW9uUHJvdmlkZXJzIGlzIGVpdGhlciBudWxsIG9yIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghc3RyaW5nUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RyaW5nUHJvdmlkZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UoY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjdXJyZW50QnVpbGROdW1iZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNhbXBhaWduU3RhdGVzID0ge307XHJcblx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMgPSB7fTtcclxuXHRcdHRoaXMudXNlckZhY3RzID0gW107XHJcblx0XHR0aGlzLnN0YXRlUHJvdmlkZXIgPSBzdGF0ZVByb3ZpZGVyO1xyXG5cdFx0dGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzID0gZGVmaW5pdGlvblByb3ZpZGVycztcclxuXHRcdHRoaXMuc3RyaW5nUHJvdmlkZXIgPSBzdHJpbmdQcm92aWRlcjtcclxuXHRcdHRoaXMudXNlckZhY3RzUHJvdmlkZXIgPSB1c2VyRmFjdHNQcm92aWRlcjtcclxuXHRcdHRoaXMuZW52aXJvbm1lbnRQcm92aWRlciA9IGVudmlyb25tZW50UHJvdmlkZXI7IC8vIENhbiBiZSBudWxsXHJcblx0XHR0aGlzLmN1cnJlbnRCdWlsZE51bWJlciA9IGN1cnJlbnRCdWlsZE51bWJlcjtcclxuXHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEFjdGl2ZVN1cnZleXMoKTogSURpY3Rpb25hcnk8SVN1cnZleT4ge1xyXG5cdFx0Y29uc3Qgc3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHRcdGNvbnN0IHByaW9yaXRpemVkQ2FtcGFpZ25zID0gdGhpcy5nZXRQcmlvcml0aXplZENhbXBhaWducygpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FtcGFpZ25TdGF0ZXMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2FtcGFpZ25TdGF0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlc1trZXldO1xyXG5cdFx0XHRcdGlmICghc3RhdGUuSXNDYW5kaWRhdGUpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVGhpcyBpcyBhIHJlcXVpcmVtZW50IGJlY2F1c2Ugd2Uga2VlcCBzb21lIG90aGVyd2lzZSBcInN0YWxlXCIgY2FtcGFpZ25zIGFyb3VuZCBmb3IgdGhlIHNhdmUgcm91dGluZVxyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IHByaW9yaXRpemVkQ2FtcGFpZ25zW3N0YXRlLkNhbXBhaWduSWRdO1xyXG5cdFx0XHRcdGlmICghZGVmaW5pdGlvbikge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZVN1cnZleShzdGF0ZSwgZGVmaW5pdGlvbiwgdGhpcy5zdHJpbmdQcm92aWRlcik7XHJcblx0XHRcdFx0aWYgKCFzdXJ2ZXkpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c3VydmV5c1tzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCldID0gc3VydmV5O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN1cnZleXM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgb25DYW1wYWlnblN1cnZleUFjdGl2YXRlZChjYW1wYWlnbklkOiBzdHJpbmcsIHRha2VuRGF0ZTogRGF0ZSwgaXNTdXJ2ZXlDb21wbGV0ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGU6IENhbXBhaWduU3RhdGUgPSB0aGlzLmNhbXBhaWduU3RhdGVzW2NhbXBhaWduSWRdO1xyXG5cdFx0aWYgKCFzdGF0ZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGFrZW5EYXRlID0gdGFrZW5EYXRlID8gdGFrZW5EYXRlIDogbmV3IERhdGUoKTtcclxuXHJcblx0XHRjb25zdCBjb29sZG93blNlY29uZHMgPSB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNbY2FtcGFpZ25JZF0ubm9taW5hdGlvblNjaGVtZS5jb29sZG93blBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKTtcclxuXHRcdHN0YXRlLm1hcmtDdXJyZW50U3VydmV5VGFrZW5PbkRhdGUodGFrZW5EYXRlLCBjb29sZG93blNlY29uZHMsIGlzU3VydmV5Q29tcGxldGUpO1xyXG5cclxuXHRcdHRoaXMuc2F2ZUN1cnJlbnRTdGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhbXBhaWduU3RhdGVzKCk6IElEaWN0aW9uYXJ5PENhbXBhaWduU3RhdGU+IHtcclxuXHRcdHJldHVybiB0aGlzLmNhbXBhaWduU3RhdGVzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENhbXBhaWduRGVmaW5pdGlvbnMoKTogSURpY3Rpb25hcnk8Q2FtcGFpZ25EZWZpbml0aW9uPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYW1wYWlnbkRlZmluaXRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVzZXJGYWN0cygpOiBJVXNlckZhY3RbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VyRmFjdHM7XHJcblx0fVxyXG5cclxuXHQvLyByZWdpb24gSVN1cnZleUNsaWVudCBtZXRob2RzXHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBvblN1cnZleUFjdGl2YXRlZChzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbywgaXNTdXJ2ZXlDb21wbGV0ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0aWYgKCFzdXJ2ZXlJbmZvKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm9uQ2FtcGFpZ25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SW5mby5nZXRCYWNrRW5kSWQoKSwgbmV3IERhdGUoKSwgaXNTdXJ2ZXlDb21wbGV0ZSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgcmVmcmVzaFN1cnZleURlZmluaXRpb25zKGNoYW5uZWxUeXBlcz86IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSwgZGF0ZT86IERhdGUpOiB2b2lkIHtcclxuXHRcdHRoaXMucmVmcmVzaFN1cnZleURlZmluaXRpb25zUHJpdmF0ZShjaGFubmVsVHlwZXMsIChkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCkpKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyByZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNBc3luYyhjaGFubmVsVHlwZXM/OiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGRhdGU/OiBEYXRlKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGVBc3luYyhjaGFubmVsVHlwZXMsIChkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCkpKS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uRnVsZmlsbGVkKCkge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCkuY2F0Y2goXHJcblx0XHRcdFx0ZnVuY3Rpb24gT25SZWplY3RlZChlcnJSZWFzb24pIHtcclxuXHRcdFx0XHRcdHJlamVjdChlcnJSZWFzb24pO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRBcHBTdXJ2ZXlzKCk6IHsgW2lkOiBzdHJpbmddOiBJU3VydmV5IH0ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0QWN0aXZlU3VydmV5cygpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmVDdXJyZW50U3RhdGUoKTogdm9pZCB7XHJcblx0XHQvLyBTb3J0IGJ5IGNhbXBhaWduSWQsIGFzY2VuZGluZyBmb3IgdW5pZm9ybWl0eVxyXG5cdFx0Y29uc3Qgc3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBVdGlscy5tYWtlQXJyYXlGcm9tT2JqZWN0VmFsdWVzU29ydGVkQnlLZXlTdHJpbmcodGhpcy5jYW1wYWlnblN0YXRlcyk7XHJcblxyXG5cdFx0dGhpcy5zdGF0ZVByb3ZpZGVyLnNhdmUoc3RhdGVzKTtcclxuXHR9XHJcblxyXG5cdC8vIGVuZHJlZ2lvblxyXG5cclxuXHRwcml2YXRlIHJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGUoY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGRhdGU6IERhdGUpOiB2b2lkIHtcclxuXHRcdHRoaXMuY2FtcGFpZ25TdGF0ZXMgPSB7fTtcclxuXHRcdHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucyA9IHt9O1xyXG5cdFx0dGhpcy51c2VyRmFjdHMgPSBbXTtcclxuXHJcblx0XHR0aGlzLmxvYWRBbmRGaWx0ZXJDYW1wYWlnbkRhdGEoZGF0ZSwgY2hhbm5lbFR5cGVzKTtcclxuXHRcdHRoaXMuZXZhbHVhdGVDYW1wYWlnbnMoZGF0ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGVBc3luYyhjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSwgZGF0ZTogRGF0ZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5jYW1wYWlnblN0YXRlcyA9IHt9O1xyXG5cdFx0dGhpcy5jYW1wYWlnbkRlZmluaXRpb25zID0ge307XHJcblx0XHR0aGlzLnVzZXJGYWN0cyA9IFtdO1xyXG5cclxuXHRcdGNvbnN0IHRoaXNDYW1wYWlnbk1hbmFnZXIgPSB0aGlzO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpc0NhbXBhaWduTWFuYWdlci5sb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhQXN5bmMoZGF0ZSwgY2hhbm5lbFR5cGVzKS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uRnVsZmlsbGVkKCkge1xyXG5cdFx0XHRcdFx0dGhpc0NhbXBhaWduTWFuYWdlci5ldmFsdWF0ZUNhbXBhaWducyhkYXRlKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIE9uUmVqZWN0ZWQoZXJyUmVhc29uKSB7XHJcblx0XHRcdFx0XHRyZWplY3QoZXJyUmVhc29uKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGFuZCBmaWx0ZXIgdGhlIGNhbXBhaWducyBkZWZpbml0aW9ucyBhbmQgc3RhdGVzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhQXN5bmMoY3VycmVudERhdGU6IERhdGUsIGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdFx0bGV0IGxvYWRlZERlZmluaXRpb25zOiBDYW1wYWlnbkRlZmluaXRpb25bXSA9IFtdO1xyXG5cdFx0Y29uc3QgcHJvbWlzZXMgPSBbXTtcclxuXHJcblx0XHRjb25zdCB1c2VyRmFjdHNQcm9taXNlID0gdGhpcy51c2VyRmFjdHNQcm92aWRlciAmJiB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyLmxvYWRBc3luYygpIGFzIFByb21pc2U8SVVzZXJGYWN0W10+O1xyXG5cclxuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGlzLmRlZmluaXRpb25Qcm92aWRlcnMpKSB7XHJcblx0XHRcdGNvbnN0IHByb3ZpZGVyID0gdGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzW2ldO1xyXG5cdFx0XHRsZXQgcHJvbWlzZTogYW55ID0gcHJvdmlkZXIgJiYgcHJvdmlkZXIubG9hZEFzeW5jKCk7XHJcblx0XHRcdGlmICghaXNOT1UocHJvbWlzZSkpIHtcclxuXHRcdFx0XHQvLyBQcm9taXNlLmFsbCBmYWlscyBldmVuIGlmIG9uZSBwcm9taXNlIGZhaWxzLlxyXG5cdFx0XHRcdC8vIFdlIHdhbnQgdG8gaWdub3JlIHRoZSBwcm9taXNlIHRoYXQgZmFpbGVkIGFuZCBjb250aW51ZSB3aXRoIHRoZSBvbmVzXHJcblx0XHRcdFx0Ly8gdGhvc2UgYXJlIHN1Y2Nlc2Z1bCwgaGVuY2Ugb3ZlcnJpZGluZyB0aGUgY2F0Y2ggdG8gYWx3YXlzIHJlc29sdmUuXHJcblx0XHRcdFx0Ly8gcmVzcG9uc2liaWxpdHkgb2YgbG9nZ2luZyBmYWlsdXJlcyBzaG91bGQgYmUgd2l0aCB0aGUgcHJvdmlkZXIuXHJcblx0XHRcdFx0cHJvbWlzZSA9IHByb21pc2UuY2F0Y2goKCkgPT4ge1xyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKFwiRmFpbGVkIHRvIGxvYWQgZnJvbSBjYW1wYWlnbiBkZWZpbml0aW9uIHByb3ZpZGVyXCIpO1xyXG5cdFx0XHRcdFx0UHJvbWlzZS5yZXNvbHZlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cHJvbWlzZXMucHVzaChwcm9taXNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHRoaXNDYW1wYWlnbk1hbmFnZXIgPSB0aGlzO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oXHJcblx0XHRcdFx0ZnVuY3Rpb24gb25GdWxmaWxsZWQodmFsdWVzKSB7XHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModmFsdWVzKSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjYW1wYWlnbkRlZmluaXRpb25zID0gdmFsdWVzW2ldO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNBcnJheShjYW1wYWlnbkRlZmluaXRpb25zKSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZXJlIGFyZSBjYW1wYWlnbiBkZWZpbnRpb25zIHdpdGggZHVwbGljYXRlIGNhbXBhaWduIElkJ3NcclxuXHRcdFx0XHRcdFx0XHQvLyBGbG9vZGdhdGUgd2lsbCBsb2FkIHRoZSBsYXN0IG9uZSBpdCBmb3VuZC4gRmlsdGVyQ2FtcGFpZ25EYXRhIGRvZXMgdGhpcyBmaWx0ZXJhdGlvblxyXG5cdFx0XHRcdFx0XHRcdGxvYWRlZERlZmluaXRpb25zID0gbG9hZGVkRGVmaW5pdGlvbnMuY29uY2F0KGNhbXBhaWduRGVmaW5pdGlvbnMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qgc2V0VXNlckZhY3RzID0gKHVzZXJGYWN0cz86IElVc2VyRmFjdFtdKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXNDYW1wYWlnbk1hbmFnZXIudXNlckZhY3RzID0gdXNlckZhY3RzIHx8IFtdO1xyXG5cdFx0XHRcdFx0XHR0aGlzQ2FtcGFpZ25NYW5hZ2VyLkZpbHRlckNhbXBhaWduRGF0YShjdXJyZW50RGF0ZSwgY2hhbm5lbFR5cGVzLCBsb2FkZWREZWZpbml0aW9ucyk7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0Ly8gQmVmb3JlIGZpbHRlcmluZyBhbmQgZXZhbHVhdGluZyB0aGUgY2FtcGFpZ24gZGVmaW5pdGlvbnMsXHJcblx0XHRcdFx0XHQvLyB3YWl0IHVudGlsIHRoZSB1c2VyIGZhY3RzIGFyZSBsb2FkZWQgYXMgdGhleSB3aWxsIGJlIHVzZWQgaW4gZXZhbHVhdGluZyBjYW1wYWlnbiBzY29wZXNcclxuXHRcdFx0XHRcdGlmICghaXNOT1UodXNlckZhY3RzUHJvbWlzZSkpIHtcclxuXHRcdFx0XHRcdFx0dXNlckZhY3RzUHJvbWlzZS50aGVuKCh1c2VyRmFjdHM6IElVc2VyRmFjdFtdKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0c2V0VXNlckZhY3RzKHVzZXJGYWN0cyk7XHJcblx0XHRcdFx0XHRcdH0pLmNhdGNoKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHQvLyB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW4gYXMgdXNlciBmYWN0cyBwcm9taXNlIHdpbGwgYWx3YXlzIGJlIHJlc29sdmVkIGJ5IHRoZSB1c2VyIGZhY3RzIHByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzTG9hZC5GYWlsZWQsIFwiRmFpbGVkIHRvIGxvYWQgZnJvbSB1c2VyIGZhY3RzIHByb3ZpZGVyXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHNldFVzZXJGYWN0cygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNldFVzZXJGYWN0cygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCkuY2F0Y2goXHJcblx0XHRcdFx0ZnVuY3Rpb24gT25SZWplY3RlZChlcnJvcikge1xyXG5cdFx0XHRcdFx0Ly8gdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuIGFzIFByb21pc2UuYWxsIHdpbGwgYWx3YXlzIGJlIHJlc29sdmVkXHJcblx0XHRcdFx0XHQvLyBiZWNhdXNlIG9mIGhhY2sgYXQgdGhlIHRvcCBvZiB0aGUgZnVuY3Rpb24uXHJcblx0XHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0NhbXBhaWduTG9hZF9GYWlsZWQoXCJGYWlsZWQgdG8gbG9hZCBmcm9tIGNhbXBhaWduIGRlZmluaXRpb24gcHJvdmlkZXJcIik7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhKGN1cnJlbnREYXRlOiBEYXRlLCBjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSk6IHZvaWQge1xyXG5cdFx0Y3VycmVudERhdGUgPSBjdXJyZW50RGF0ZSA/IGN1cnJlbnREYXRlIDogbmV3IERhdGUoKTtcclxuXHRcdGxldCBsb2FkZWREZWZpbml0aW9uczogQ2FtcGFpZ25EZWZpbml0aW9uW10gPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGluZGV4IG9mIE9iamVjdC5rZXlzKHRoaXMuZGVmaW5pdGlvblByb3ZpZGVycykpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMuZGVmaW5pdGlvblByb3ZpZGVyc1tpbmRleF0gJiYgdGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzW2luZGV4XS5sb2FkKCk7XHJcblx0XHRcdFx0aWYgKGlzQXJyYXkoZGVmaW5pdGlvbnMpKSB7XHJcblx0XHRcdFx0XHQvLyBJZiB0aGVyZSBhcmUgY2FtcGFpZ24gZGVmaW50aW9ucyB3aXRoIGR1cGxpY2F0ZSBjYW1wYWlnbiBJZCdzXHJcblx0XHRcdFx0XHQvLyBGbG9vZGdhdGUgd2lsbCBsb2FkIHRoZSBsYXN0IG9uZSBpdCBmb3VuZC4gRmlsdGVyQ2FtcGFpZ25EYXRhIGRvZXMgdGhpcyBmaWx0ZXJhdGlvblxyXG5cdFx0XHRcdFx0bG9hZGVkRGVmaW5pdGlvbnMgPSBsb2FkZWREZWZpbml0aW9ucy5jb25jYXQoZGVmaW5pdGlvbnMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHQvLyBMb2cgZXJyb3IsIGJ1dCBjb250aW51ZSB3aXRoIG90aGVyIHByb3ZpZGVyc1xyXG5cdFx0XHRcdC8vIEl0IHNob3VsZCBiZSB0aGUgcmVzcG9uc2liaWxpdHkgb2YgcHJvdmlkZXIgdG8gbG9nIGRldGFpbGVkIGVycm9yc1xyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfQ2FtcGFpZ25Mb2FkX0ZhaWxlZChcIkZhaWxlZCB0byBsb2FkIGZyb20gY2FtcGFpZ24gZGVmaW5pdGlvbiBwcm92aWRlci4gXCIgKyBlcnJvci50b1N0cmluZygpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIExvYWQgdGhlIHVzZXIgZmFjdHMgYmVmb3JlIGFsbCB0aGUgY2FtcGFpZ24gZGVmaW5pdGlvbnMgYXJlIGV2YWx1YXRlZFxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy51c2VyRmFjdHMgPSAodGhpcy51c2VyRmFjdHNQcm92aWRlciAmJiB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyLmxvYWQoKSkgfHwgW107XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNMb2FkLkZhaWxlZCwgXCJGYWlsZWQgdG8gbG9hZCBmcm9tIHVzZXIgZmFjdHMgcHJvdmlkZXIuIFwiICsgZXJyb3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuRmlsdGVyQ2FtcGFpZ25EYXRhKGN1cnJlbnREYXRlLCBjaGFubmVsVHlwZXMsIGxvYWRlZERlZmluaXRpb25zKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgYW5kIGZpbHRlciB0aGUgY2FtcGFpZ25zIGRlZmluaXRpb25zIGFuZCBzdGF0ZXNcclxuXHQgKi9cclxuXHRwcml2YXRlIEZpbHRlckNhbXBhaWduRGF0YShjdXJyZW50RGF0ZTogRGF0ZSwgY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGxvYWRlZERlZmluaXRpb25zOiBDYW1wYWlnbkRlZmluaXRpb25bXSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgbG9hZGVkRGVmaW5pdGlvbnNNYXA6IElEaWN0aW9uYXJ5PENhbXBhaWduRGVmaW5pdGlvbj4gPSB7fTtcclxuXHJcblx0XHQvLyBMb2FkIGZpbHRlcmVkIGNhbXBhaWduIGRlZmluaXRpb25zXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBsb2FkZWREZWZpbml0aW9ucykge1xyXG5cdFx0XHRpZiAobG9hZGVkRGVmaW5pdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IGxvYWRlZERlZmluaXRpb25zW2tleV07XHJcblxyXG5cdFx0XHRcdGxvYWRlZERlZmluaXRpb25zTWFwW2RlZmluaXRpb24uY2FtcGFpZ25JZF0gPSBkZWZpbml0aW9uO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hhbm5lbFR5cGVzICYmXHJcblx0XHRcdFx0XHQoY2hhbm5lbFR5cGVzLmluZGV4T2YoZGVmaW5pdGlvbi5nb3Zlcm5lZENoYW5uZWxUeXBlKSA8IDApICYmXHJcblx0XHRcdFx0XHQoZGVmaW5pdGlvbi5idXNpbmVzc0xldmVsICE9PSBCdXNpbmVzc0xldmVsLkNyaXRpY2FsKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIUNhbXBhaWduTWFuYWdlci5pc0NhbXBhaWduSW5TY29wZShkZWZpbml0aW9uLCBjdXJyZW50RGF0ZSwgdGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyLCB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNbZGVmaW5pdGlvbi5jYW1wYWlnbklkXSA9IGRlZmluaXRpb247XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBMb2FkIGNhbXBhaWduIHN0YXRlLCBmaWx0ZXJpbmcgb3V0IHRoZSBleHBpcmVkIGRlZmluaXRpb25zXHJcblx0XHRjb25zdCBsb2FkZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IHRoaXMuc3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblx0XHRjb25zdCBzdGFsZUxvYWRlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gbG9hZGVkU3RhdGVzKSB7XHJcblx0XHRcdGlmIChsb2FkZWRTdGF0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gbG9hZGVkU3RhdGVzW2tleV07XHJcblxyXG5cdFx0XHRcdGlmICghdGhpcy5jYW1wYWlnbkRlZmluaXRpb25zLmhhc093blByb3BlcnR5KHN0YXRlLkNhbXBhaWduSWQpKSB7XHJcblx0XHRcdFx0XHRzdGFsZUxvYWRlZFN0YXRlcy5wdXNoKHN0YXRlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuY2FtcGFpZ25TdGF0ZXNbc3RhdGUuQ2FtcGFpZ25JZF0gPSBzdGF0ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qXHJcblx0XHQgKiBTdGFsZSBTdGF0ZSBkYXRhIGNsZWFudXBcclxuXHRcdCAqIFN0YXRlIG5lZWRzIHRvIGJlIGNsZWFuZWQgdXAgd2hlbjpcclxuXHRcdCAqIDEpIFRoZSBjYW1wYWlnbiBoYXMgZXhwaXJlZFxyXG5cdFx0ICogMikgVGhlIGNhbXBhaWduIGlzIG5vIGxvbmdlciBwcmVzZW50IGluIHRoZSBkZWZpbml0aW9ucyAodGhpbmsgRUNTIG9yIG90aGVyIG91dGFnZXMgb3IgdmVyeSBvbGQgZXhwaXJhdGlvbnMpXHJcblx0XHQgKiAgICBJbiB0aGlzIGNhc2UgdGhlIHN0YXRlIHNob3VsZCBzdGlsbCBiZSBjbGVhbmVkIHVwIG9uIGl0J3MgcmVlbGVjdGlvbiBkYXRlXHJcblx0XHQgKiAzKSBXaGVuIHRoZSB1c2VyIGlzIG91dCBvZiBzY29wZSAoZm9yIGFuIG90aGVyd2lzZSBhY3RpdmUgY2FtcGFpZ24pIGFuZCBpcyB1cCBmb3Igbm9taW5hdGlvblxyXG5cclxuXHRcdCAqIFRoaXMgb3B0aW1pemVzIHRoZSB1c2VyIGV4cGVyaWVuY2UgaW4gY2FzZSB0aGUgY2FtcGFpZ24gcG9wcyB1cCBvciBnZXRzIHJlbmV3ZWQgd2hlbiB3ZSB3b3VsZCBoYXZlIHByZWZlcnJlZCB0aGUgdXNlciByZW1haW4gaW4gY29vbCBkb3duXHJcblxyXG5cdFx0ICogMiYzIGFyZSBiYXNpY2FsbHkgdGhlIHNhbWUsIGFuZCAxIGlzIGEgc3BlY2lhbCBjYXNlIG9wdGltaXphdGlvbiBvbiB0b3Agb2YgMiYzIGZvciBlYXJsaWVyIGNsZWFuIHVwXHJcblxyXG5cdFx0ICogVG8gZG8gMiAmIDMsIHdlIGp1c3QgbG9vayBhdCBzdGF0ZXMgd2l0aCBubyBtYXRjaGluZyBkZWZpbml0aW9uIChhZnRlciBmaWx0ZXJpbmcpLCBhbmQgcmVqZWN0IHRoZW0gaWYgdGhleSBhcmUgcGFzdCB0aGVpciBub21pbmF0aW9uIHBlcmlvZFxyXG5cdFx0ICogVG8gZG8gMSwgd2UganVzdCBuZWVkIHRvIGtlZXAgYSBsaXN0L2hhc2ggb2YgdGhlIGRlZmluaXRpb25zIHRoYXQgd2UgZmlsdGVyZWQgb3V0IHRoaXMgbG9hZCBjeWNsZSwgc3BlY2lmaWNhbGx5IGZvciBleHBpcmF0aW9uIGRhdGVzLCBhbmQgYnlwYXNzXHJcblx0XHQgKiB0aGUgY29vbCBkb3duIFwid2FpdFwiIGZvciB0aGVzZSBzcGVjaWZpY2FsbHlcclxuXHJcblx0XHQgKiBGb3Igbm93LCBhbGxvd2luZyBzb21lIFwiZ3JhY2VcIiBmb3IgXCJtaXNzaW5nXCIvXCJibGlwcHlcIiBjYW1wYWlnbiBkZWZpbml0aW9ucyAoaW4gY2FzZSB0aGV5IHBvcCBpbiBhbmQgb3V0IG9mIEVDUykgYnkgZGVmZXJyaW5nIG1pc3NpbmdcclxuXHRcdCAqIGRlbGV0aW9uIGJ5IGEgZGVsYXktdGltZSBzcGVjaWZpZWQgYnkgdGhlIG9yaWdpbmFsIGNhbXBhaWduLlxyXG5cdFx0ICovXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdGFsZUxvYWRlZFN0YXRlcykge1xyXG5cdFx0XHRpZiAoc3RhbGVMb2FkZWRTdGF0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gc3RhbGVMb2FkZWRTdGF0ZXNba2V5XTtcclxuXHRcdFx0XHRpZiAoIXN0YXRlKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IGxvYWRlZERlZmluaXRpb25zTWFwW3N0YXRlLkNhbXBhaWduSWRdO1xyXG5cdFx0XHRcdGxldCBzaG91bGRSZW1vdmUgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0aWYgKCFkZWZpbml0aW9uKSB7XHJcblx0XHRcdFx0XHRpZiAoc3RhdGUuTGFzdE5vbWluYXRpb25UaW1lVXRjLmdldFRpbWUoKSA8PSBVdGlscy5zdWJ0cmFjdFNlY29uZHNXaXRob3V0T3ZlcmZsb3coY3VycmVudERhdGUsIHN0YXRlLkRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZSkuZ2V0VGltZSgpKSB7XHJcblx0XHRcdFx0XHRcdHNob3VsZFJlbW92ZSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChDYW1wYWlnbk1hbmFnZXIuaXNTdGF0ZVVwRm9yTm9taW5hdGlvbihzdGF0ZSwgZGVmaW5pdGlvbiwgY3VycmVudERhdGUsIHRoaXMuY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHRcdFx0c2hvdWxkUmVtb3ZlID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFRoZSBuZXh0IHRpbWUgd2Ugd3JpdGUgdG8gc3RvcmFnZSwgdGhlc2Ugd2lsbCBiZSByZW1vdmVkXHJcblx0XHRcdFx0aWYgKHNob3VsZFJlbW92ZSkge1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuY2FtcGFpZ25TdGF0ZXNbc3RhdGUuQ2FtcGFpZ25JZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBGaWx0ZXIgbG93ZXIgcHJpb3JpdHkgY2FtcGFpZ25zIHRoYXQgYXJlIG9uIHNhbWUgY2hhbm5lbCBhbmQgaGF2ZSBhIG1hdGNoaW5nIHRhZ1xyXG5cdHByaXZhdGUgZ2V0UHJpb3JpdGl6ZWRDYW1wYWlnbnMoKSB7XHJcblx0XHRjb25zdCBwcmlvcml0aXplZENhbXBhaWduczogSURpY3Rpb25hcnk8Q2FtcGFpZ25EZWZpbml0aW9uPiA9IHt9O1xyXG5cclxuXHRcdC8vIGJ1aWxkIDx0YWdJZF9jaGFubmVsLCBjYW1wYWlnbltdPiBtYXBcclxuXHRcdGNvbnN0IG1hdGNoaW5nVGFnQ2FtcGFpZ25zOiBJRGljdGlvbmFyeTxDYW1wYWlnbkRlZmluaXRpb25bXT4gPSB7fTtcclxuXHRcdE9iamVjdC5rZXlzKHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucyB8fCBbXSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcblx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IHRoaXMuY2FtcGFpZ25EZWZpbml0aW9uc1trZXldO1xyXG5cdFx0XHRwcmlvcml0aXplZENhbXBhaWduc1trZXldID0gZGVmaW5pdGlvbjtcclxuXHJcblx0XHRcdC8vIGlmIHRhZ3MgYXJlIG5vdCBkZWZpbmVkLCB1c2UgZW1wdHkgdGFnIHRvIGZhbGxiYWNrIHRvIGNoYW5uZWwgbGV2ZWwgYWdncmVnYXRpb25cclxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvblRhZ3MgPSBkZWZpbml0aW9uLnRhZ3MgJiYgZGVmaW5pdGlvbi50YWdzLmxlbmd0aCA+IDAgPyBkZWZpbml0aW9uLnRhZ3MgOiBbXCJcIl07XHJcblx0XHRcdGRlZmluaXRpb25UYWdzLmZvckVhY2goKHRhZ0lkKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWFwS2V5ID0gYCR7dGFnSWR9XyR7ZGVmaW5pdGlvbi5nb3Zlcm5lZENoYW5uZWxUeXBlfWA7XHJcblx0XHRcdFx0bWF0Y2hpbmdUYWdDYW1wYWlnbnNbbWFwS2V5XSA9IG1hdGNoaW5nVGFnQ2FtcGFpZ25zW21hcEtleV0gfHwgW107XHJcblx0XHRcdFx0bWF0Y2hpbmdUYWdDYW1wYWlnbnNbbWFwS2V5XS5wdXNoKGRlZmluaXRpb24pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHJlbW92ZSBsb3dlciBwcmlvcml0eSBjYW1wYWlnbnNcclxuXHRcdE9iamVjdC5rZXlzKG1hdGNoaW5nVGFnQ2FtcGFpZ25zKS5mb3JFYWNoKChrZXkpID0+IHtcclxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvbnMgPSBtYXRjaGluZ1RhZ0NhbXBhaWduc1trZXldO1xyXG5cdFx0XHRpZiAoZGVmaW5pdGlvbnMubGVuZ3RoIDw9IDEpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEdldCBkZWZpbml0aW9uIHRoYXQgaGFzIG1heCBwcmlvcml0eSB2YWx1ZSAoMC9udWxsL3VuZGVmaW5lZCBoYXMgaGlnaGVzdCBwcmlvaXJ0eSlcclxuXHRcdFx0Y29uc3QgbWF4UHJpb3JpdHlEZWZpbml0aW9uID0gZGVmaW5pdGlvbnMucmVkdWNlKChwcmV2LCBjdXIpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjdXJQcmlvcml0eSA9IGN1ci5wcmltYXJ5UHJpb3JpdHkgfHwgMDtcclxuXHRcdFx0XHRjb25zdCBwcmV2UHJpb3JpdHkgPSBwcmV2LnByaW1hcnlQcmlvcml0eSB8fCAwO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gY3VyUHJpb3JpdHkgPCBwcmV2UHJpb3JpdHkgPyBjdXIgOiBwcmV2O1xyXG5cdFx0XHR9LCBkZWZpbml0aW9uc1swXSk7XHJcblxyXG5cdFx0XHRjb25zdCBtYXhQcmlvcml0eSA9IG1heFByaW9yaXR5RGVmaW5pdGlvbi5wcmltYXJ5UHJpb3JpdHk7XHJcblx0XHRcdGlmIChpc05PVShtYXhQcmlvcml0eSkpIHtcclxuXHRcdFx0XHQvLyBub3RoaW5nIHRvIGZpbHRlciBiZWNhdXNlIGFsbCBwcmlvcml0aWVzIGFyZSBudWxsL3VuZGVmaW5lZFxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVsZXRlIGxvd2VyIHByaW9yaXR5IGNhbXBhaWducyB3aGlsZSBwcmVzZXJ2aW5nIGFsbCB0aGUgbWF0Y2hpbmcgaGlnaGVyIHByaW9yaXR5IGl0ZW1zXHJcblx0XHRcdGRlZmluaXRpb25zLmZvckVhY2goKGN1cnJlbnQpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50UHJpb3JpdHkgPSBjdXJyZW50LnByaW1hcnlQcmlvcml0eTtcclxuXHJcblx0XHRcdFx0Ly8gZm9yIG1zbyBjb21wYXRhYmlsaXR5IGlnbm9yZSBjYW1wYWlnbnMgd2l0aG91dCBwcmlvcml0eSBzZXQgc28gdGhhdCB0aGV5IGFyZSBhbHdheXMgY29uc2lkZXJlZFxyXG5cdFx0XHRcdGlmICghaXNOT1UoY3VycmVudC5wcmltYXJ5UHJpb3JpdHkpICYmIGN1cnJlbnRQcmlvcml0eSA+IG1heFByaW9yaXR5KSB7XHJcblx0XHRcdFx0XHRkZWxldGUgcHJpb3JpdGl6ZWRDYW1wYWlnbnNbY3VycmVudC5jYW1wYWlnbklkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHByaW9yaXRpemVkQ2FtcGFpZ25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2l2ZW4gdGhlIGxvYWRlZCBjYW1wYWlnbiBkZWZpbml0aW9ucyBhbmQgc3RhdGVzIGZyb20gcHJldmlvdXMgc2Vzc2lvbnMsIHJ1biBhbnl0aGluZyB1cCBmb3Igbm9taW5hdGlvblxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZXZhbHVhdGVDYW1wYWlnbnMoY3VycmVudERhdGU6IERhdGUpOiB2b2lkIHtcclxuXHRcdC8vIExvb3AgdGhyb3VnaCBjYW1wYWlnbnMgZGVmaW5pdGlvbnMsIGFuZCB1cGRhdGUgdGhlaXIgc3RhdGUgaWYgbmVjZXNzYXJ5XHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW1wYWlnbkRlZmluaXRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBkZWZpbml0aW9uOiBDYW1wYWlnbkRlZmluaXRpb24gPSB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNba2V5XTtcclxuXHRcdFx0XHRjb25zdCBzdGF0ZTogQ2FtcGFpZ25TdGF0ZSA9IHRoaXMuY2FtcGFpZ25TdGF0ZXNbZGVmaW5pdGlvbi5jYW1wYWlnbklkXTtcclxuXHJcblx0XHRcdFx0aWYgKCFzdGF0ZSB8fCBDYW1wYWlnbk1hbmFnZXIuaXNTdGF0ZVVwRm9yTm9taW5hdGlvbihzdGF0ZSwgZGVmaW5pdGlvbiwgY3VycmVudERhdGUsIHRoaXMuY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHRcdFx0bGV0IGxhc3RTdXJ2ZXlJZDogc3RyaW5nID0gc3RhdGUgPyBzdGF0ZS5MYXN0U3VydmV5SWQgOiBcIlwiO1xyXG5cdFx0XHRcdFx0bGV0IGxhc3RTdXJ2ZXlTdGFydFRpbWU6IERhdGUgPSBzdGF0ZSA/IHN0YXRlLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMgOiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0XHRcdFx0bGV0IGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZTogRGF0ZSA9IHN0YXRlID8gc3RhdGUuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjIDogZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdFx0XHRcdGNvbnN0IGxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lOiBEYXRlID0gc3RhdGUgPyBzdGF0ZS5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyA6IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHRcdFx0XHRjb25zdCBsYXN0Q29vbGRvd25FbmRUaW1lVXRjOiBEYXRlID0gc3RhdGUgPyBzdGF0ZS5MYXN0Q29vbGRvd25FbmRUaW1lVXRjIDogZ2V0RGlzdGFudFBhc3QoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBSdW4gdGhlIG5vbWluYXRpb25cclxuXHRcdFx0XHRcdGNvbnN0IGlzQ2FuZGlkYXRlOiBib29sZWFuID0gKHN0YXRlICYmIHN0YXRlLkZvcmNlQ2FuZGlkYWN5KSB8fCBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuZXZhbHVhdGVOb21pbmF0aW9uUnVsZXMoKTtcclxuXHRcdFx0XHRcdGlmIChpc0NhbmRpZGF0ZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBNYWtlIG5ldyBzdXJ2ZXkgcHJvcGVydGllcyBmb3IgdGhlIG5leHQgY2FsbCB0byBnZXQgdGhlIGFjdGl2ZSBzdXJ2ZXlzXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlJZCA9IFV0aWxzLmd1aWQoKTtcclxuXHRcdFx0XHRcdFx0bGFzdFN1cnZleVN0YXJ0VGltZSA9IGRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5jYWxjdWxhdGVTdXJ2ZXlTdGFydFRpbWVGcm9tRGF0ZShjdXJyZW50RGF0ZSk7XHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZSA9IGRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5jYWxjdWxhdGVTdXJ2ZXlFeHBpcmF0aW9uVGltZUZyb21TdXJ2ZXlTdGFydFRpbWUobGFzdFN1cnZleVN0YXJ0VGltZSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IENhbXBhaWduU3RhdGUgPSBuZXcgQ2FtcGFpZ25TdGF0ZShcclxuXHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5jYW1wYWlnbklkLFxyXG5cdFx0XHRcdFx0XHRjdXJyZW50RGF0ZSxcclxuXHRcdFx0XHRcdFx0dGhpcy5jdXJyZW50QnVpbGROdW1iZXIsXHJcblx0XHRcdFx0XHRcdGRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5nZXRBY3RpdmVTdXJ2ZXlUaW1lSW50ZXJ2YWxTZWNvbmRzKCksXHJcblx0XHRcdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRpc0NhbmRpZGF0ZSxcclxuXHRcdFx0XHRcdFx0ZmFsc2UsXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lLFxyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5SWQsXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlTdGFydFRpbWUsXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZSxcclxuXHRcdFx0XHRcdFx0bGFzdENvb2xkb3duRW5kVGltZVV0YyxcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gU2F2ZSB0aGUgbmV3IHN0YXRlIHRvIG91ciBsb2NhbCBjYWNoZVxyXG5cdFx0XHRcdFx0dGhpcy5jYW1wYWlnblN0YXRlc1tuZXdTdGF0ZS5DYW1wYWlnbklkXSA9IG5ld1N0YXRlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignManager.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js":
/*!*******************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileBasedCampaignStateProvider = exports.HostBasedCampaignStateProvider = exports.CampaignStateProviderFactory = exports.CampaignState = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ../Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar StateProviderHelpers = __webpack_require__(/*! ../StateProviderHelpers */ \"../FloodgateCore/dist/src/StateProviderHelpers.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar getDistantPast = Utils.getDistantPast, isBoolean = Utils.isBoolean, isDate = Utils.isDate, isNOU = Utils.isNOU, isString = Utils.isString, isUtcDatetimeString = Utils.isUtcDatetimeString, stringToDate = Utils.stringToDate;\nvar CampaignState = /** @class */ (function () {\n    function CampaignState(campaignId, lastNominationTime, lastNominationBuildNumber, deleteAfterSecondsWhenStale, ForceCandidacy, isCandidate, didCandidateTriggerSurvey, lastSurveyActivatedTime, lastSurveyId, lastSurveyStartTime, lastSurveyExpirationTime, lastCooldownEndTimeUtc) {\n        this.CampaignId = campaignId;\n        this.LastNominationTimeUtc = lastNominationTime;\n        this.LastNominationBuildNumber = lastNominationBuildNumber;\n        this.DeleteAfterSecondsWhenStale = deleteAfterSecondsWhenStale;\n        this.ForceCandidacy = ForceCandidacy;\n        this.IsCandidate = isCandidate;\n        this.DidCandidateTriggerSurvey = didCandidateTriggerSurvey;\n        this.LastSurveyActivatedTimeUtc = lastSurveyActivatedTime;\n        this.LastSurveyId = lastSurveyId;\n        this.LastSurveyStartTimeUtc = lastSurveyStartTime;\n        this.LastSurveyExpirationTimeUtc = lastSurveyExpirationTime;\n        this.LastCooldownEndTimeUtc = lastCooldownEndTimeUtc;\n        if (!this.validate()) {\n            throw new Error(\"Constructor arguments are not valid\");\n        }\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns class object\n     */\n    CampaignState.deserialize = function (input) {\n        var result;\n        if (!input) {\n            return null;\n        }\n        try {\n            result = new CampaignState(input.CampaignId, input.LastNominationTimeUtc, input.LastNominationBuildNumber, input.DeleteAfterSecondsWhenStale, false, // ForceCandidacy\n            input.IsCandidate, input.DidCandidateTriggerSurvey, input.LastSurveyActivatedTimeUtc, input.LastSurveyId, input.LastSurveyStartTimeUtc, input.LastSurveyExpirationTimeUtc, input.LastCooldownEndTimeUtc);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.CampaignState.Deserialize.Failed, { ErrorMessage: e.toString() });\n            return null;\n        }\n        return result;\n    };\n    CampaignState.prototype.validate = function () {\n        if (!this.CampaignId || !isString(this.CampaignId)) {\n            return false;\n        }\n        if (isNOU(this.LastNominationBuildNumber)\n            || !isString(this.LastNominationBuildNumber)) {\n            return false;\n        }\n        if (!Utils.isNumber(this.DeleteAfterSecondsWhenStale) || this.DeleteAfterSecondsWhenStale < 0) {\n            return false;\n        }\n        if (!isBoolean(this.IsCandidate) || !isBoolean(this.DidCandidateTriggerSurvey)) {\n            return false;\n        }\n        if (this.IsCandidate) {\n            // Disallow the following null's if isCandidate == true\n            if (isNOU(this.LastSurveyStartTimeUtc) || isNOU(this.LastSurveyExpirationTimeUtc)) {\n                return false;\n            }\n            // LastSurveyId could be \"\"\n            if (!isString(this.LastSurveyId)) {\n                return false;\n            }\n        }\n        if (this.DidCandidateTriggerSurvey) {\n            // Disallow the following null's if didCandidateTriggerSurvey == true\n            if (isNOU(this.LastSurveyActivatedTimeUtc)) {\n                return false;\n            }\n        }\n        if (isNOU(this.LastSurveyId)) {\n            this.LastSurveyId = \"\";\n        }\n        else if (!isString(this.LastSurveyId)) {\n            return false;\n        }\n        // LastNominationTime does not allow null\n        if (isUtcDatetimeString(this.LastNominationTimeUtc)) {\n            this.LastNominationTimeUtc = stringToDate(this.LastNominationTimeUtc);\n            // invalidate if it's not a Date object\n        }\n        else if (!isDate(this.LastNominationTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyActivatedTimeUtc)) {\n            this.LastSurveyActivatedTimeUtc = getDistantPast();\n            // check if it's UTC date time string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyActivatedTimeUtc)) {\n            this.LastSurveyActivatedTimeUtc = stringToDate(this.LastSurveyActivatedTimeUtc);\n            // invalidate if it's not a Date object\n        }\n        else if (!isDate(this.LastSurveyActivatedTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyStartTimeUtc)) {\n            this.LastSurveyStartTimeUtc = getDistantPast();\n            // check if it's string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyStartTimeUtc)) {\n            this.LastSurveyStartTimeUtc = stringToDate(this.LastSurveyStartTimeUtc);\n            // invalidate if it's not a Date object\n        }\n        else if (!isDate(this.LastSurveyStartTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyExpirationTimeUtc)) {\n            this.LastSurveyExpirationTimeUtc = getDistantPast();\n            // check if it's string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyExpirationTimeUtc)) {\n            this.LastSurveyExpirationTimeUtc = stringToDate(this.LastSurveyExpirationTimeUtc);\n        }\n        else if (!isDate(this.LastSurveyExpirationTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastCooldownEndTimeUtc)) {\n            this.LastCooldownEndTimeUtc = getDistantPast();\n            // check if it's string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastCooldownEndTimeUtc)) {\n            this.LastCooldownEndTimeUtc = stringToDate(this.LastCooldownEndTimeUtc);\n        }\n        else if (!isDate(this.LastCooldownEndTimeUtc)) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Record that the current survey was taken on this date\n     *\n     * @param date date\n     * @param cooldownSeconds number\n     */\n    CampaignState.prototype.markCurrentSurveyTakenOnDate = function (date, cooldownSeconds, isSurveyComplete) {\n        this.DidCandidateTriggerSurvey = isSurveyComplete;\n        this.LastSurveyActivatedTimeUtc = date != null ? date : new Date();\n        this.LastCooldownEndTimeUtc = Utils.addSecondsWithoutOverflow(this.LastSurveyActivatedTimeUtc, cooldownSeconds);\n    };\n    CampaignState.prototype.getCooldownStartDate = function () {\n        if (!this.IsCandidate) {\n            return this.LastNominationTimeUtc;\n        }\n        if (this.DidCandidateTriggerSurvey) {\n            return this.LastSurveyActivatedTimeUtc;\n        }\n        // In practice this wil be equal to lastNominationTime, but\n        // distribution models like a ramp effectively cause us to\n        // shift our \"effective nomination date\" forward with the survey start date\n        return this.LastSurveyStartTimeUtc;\n    };\n    return CampaignState;\n}());\nexports.CampaignState = CampaignState;\nvar CampaignStateProviderFactory = /** @class */ (function () {\n    function CampaignStateProviderFactory() {\n    }\n    CampaignStateProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedCampaignStateProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedCampaignStateProvider(fileBasedStorage);\n    };\n    return CampaignStateProviderFactory;\n}());\nexports.CampaignStateProviderFactory = CampaignStateProviderFactory;\n/**\n * Class representing what is stored in the file.\n */\nvar FileData = /** @class */ (function () {\n    function FileData() {\n    }\n    return FileData;\n}());\nvar HostBasedCampaignStateProvider = /** @class */ (function () {\n    function HostBasedCampaignStateProvider(fileBasedStorage, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error(\"host-based storage must not be null\");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file-based provider is optional\n        if (fileBasedStorage) {\n            this.fileBasedStateProvider = new FileBasedCampaignStateProvider(fileBasedStorage);\n        }\n    }\n    // @Override\n    HostBasedCampaignStateProvider.prototype.load = function () {\n        var statesFromHost = this.getStatesFromHost();\n        var statesFromFile;\n        if (this.fileBasedStateProvider) {\n            statesFromFile = this.fileBasedStateProvider.load();\n        }\n        var StateCollections = StateProviderHelpers.MergeAndUpdateCampaignStates(statesFromFile, statesFromHost);\n        return StateCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedCampaignStateProvider.prototype.save = function (campaignStates) {\n        var _this = this;\n        if (!campaignStates) {\n            return;\n        }\n        var statesFromHost = this.getStatesFromHost();\n        var StateCollections = StateProviderHelpers.MergeAndUpdateCampaignStates(campaignStates, statesFromHost);\n        var toBeUpdatedStates = StateCollections.find(1 /* ToBeUpdated */);\n        var mergedStates = StateCollections.find(0 /* Merged */);\n        // write delta_data to host\n        if (toBeUpdatedStates) {\n            toBeUpdatedStates.forEach(function (state) {\n                var stateValue = StateProviderHelpers.makeSettingItemValue(JSON.stringify(state));\n                _this.hostBasedStorage.upsertSettingItem(FileType[FileType.CampaignStates], state.CampaignId, stateValue);\n            });\n        }\n        // Write merged data to File\n        if (this.fileBasedStateProvider) {\n            this.fileBasedStateProvider.save(mergedStates);\n        }\n    };\n    HostBasedCampaignStateProvider.prototype.getStatesFromHost = function () {\n        var states = [];\n        var settings = this.hostBasedStorage.readSettingList(FileType[FileType.CampaignStates]);\n        for (var key in settings) {\n            if (!settings.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = settings[key];\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(value);\n            var itemObject = {};\n            try {\n                itemObject = JSON.parse(dataString);\n                var newState = CampaignState.deserialize(itemObject);\n                if (newState) {\n                    states.push(newState);\n                }\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedCampaignStateProvider.GetStatesFromHost.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + dataString });\n            }\n        }\n        return states;\n    };\n    return HostBasedCampaignStateProvider;\n}());\nexports.HostBasedCampaignStateProvider = HostBasedCampaignStateProvider;\nvar FileBasedCampaignStateProvider = /** @class */ (function () {\n    function FileBasedCampaignStateProvider(storage) {\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedCampaignStateProvider.prototype.load = function () {\n        var readString = this.storage.read(FileType.CampaignStates);\n        if (!readString) {\n            return [];\n        }\n        var fileData;\n        try {\n            fileData = JSON.parse(readString);\n            var result_1 = [];\n            if (fileData && fileData.CampaignStates) {\n                fileData.CampaignStates.forEach(function (state) {\n                    var newState = CampaignState.deserialize(state);\n                    if (newState) {\n                        result_1.push(newState);\n                    }\n                });\n            }\n            return result_1;\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FileBasedCampaignStateProvider.Load.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + readString });\n            return [];\n        }\n    };\n    // @Override\n    FileBasedCampaignStateProvider.prototype.save = function (campaignStates) {\n        if (!campaignStates) {\n            return;\n        }\n        var fileData = new FileData();\n        fileData.CampaignStates = campaignStates;\n        var writeString = JSON.stringify(fileData);\n        this.storage.write(FileType.CampaignStates, writeString);\n    };\n    return FileBasedCampaignStateProvider;\n}());\nexports.FileBasedCampaignStateProvider = FileBasedCampaignStateProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlci50cz9iZTAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLDBKQUE4RTtBQUM5RSxvR0FBOEM7QUFDOUMsc0hBQXFEO0FBQ3JELG1JQUFnRTtBQUNoRSxzRkFBa0M7QUFDbEMsSUFBTyxRQUFRLEdBQUcseUJBQXlCLENBQUMsUUFBUSxDQUFDO0FBRzdDLGtCQUFjLEdBQTRFLEtBQUssZUFBakYsRUFBRSxTQUFTLEdBQWlFLEtBQUssVUFBdEUsRUFBRSxNQUFNLEdBQXlELEtBQUssT0FBOUQsRUFBRSxLQUFLLEdBQWtELEtBQUssTUFBdkQsRUFBRSxRQUFRLEdBQXdDLEtBQUssU0FBN0MsRUFBRSxtQkFBbUIsR0FBbUIsS0FBSyxvQkFBeEIsRUFBRSxZQUFZLEdBQUssS0FBSyxhQUFWLENBQVc7QUFFeEc7SUE0RkMsdUJBQW1CLFVBQWtCLEVBQUUsa0JBQXdCLEVBQUUseUJBQWlDLEVBQUUsMkJBQW1DLEVBQ3RJLGNBQXVCLEVBQUUsV0FBb0IsRUFBRSx5QkFBa0MsRUFBRSx1QkFBNkIsRUFDaEgsWUFBb0IsRUFBRSxtQkFBeUIsRUFBRSx3QkFBOEIsRUFBRSxzQkFBNEI7UUFDN0csSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLGtCQUFrQixDQUFDO1FBQ2hELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztRQUMzRCxJQUFJLENBQUMsMkJBQTJCLEdBQUcsMkJBQTJCLENBQUM7UUFDL0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLHlCQUF5QixHQUFHLHlCQUF5QixDQUFDO1FBQzNELElBQUksQ0FBQywwQkFBMEIsR0FBRyx1QkFBdUIsQ0FBQztRQUMxRCxJQUFJLENBQUMsWUFBWSxHQUFH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QUFTLENBQzdDLDBCQUFjLENBQUMsOEJBQThCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFDekQsRUFBRSxZQUFZLEVBQUUscUNBQXFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLFdBQVcsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDO0lBRUQsWUFBWTtJQUNMLDZDQUFJLEdBQVgsVUFBWSxjQUErQjtRQUMxQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BCLE9BQU87U0FDUDtRQUVELElBQU0sUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7UUFDaEMsUUFBUSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDekMsSUFBTSxXQUFXLEdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFDRixxQ0FBQztBQUFELENBQUM7QUFyRFksd0VBQThCIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ2FtcGFpZ24vQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmcgfSBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTZXR0aW5nXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrIH0gZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBUZWxlbWV0cnlFdmVudCB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBTdGF0ZVByb3ZpZGVySGVscGVycyBmcm9tIFwiLi4vU3RhdGVQcm92aWRlckhlbHBlcnNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCBTdGF0ZUxpc3RUeXBlID0gU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZTtcclxuXHJcbmNvbnN0IHsgZ2V0RGlzdGFudFBhc3QsIGlzQm9vbGVhbiwgaXNEYXRlLCBpc05PVSwgaXNTdHJpbmcsIGlzVXRjRGF0ZXRpbWVTdHJpbmcsIHN0cmluZ1RvRGF0ZSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdGF0ZSB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgY2xhc3Mgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdGF0ZSB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnblN0YXRlO1xyXG5cclxuXHRcdGlmICghaW5wdXQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmVzdWx0ID0gbmV3IENhbXBhaWduU3RhdGUoXHJcblx0XHRcdFx0aW5wdXQuQ2FtcGFpZ25JZCxcclxuXHRcdFx0XHRpbnB1dC5MYXN0Tm9taW5hdGlvblRpbWVVdGMsXHJcblx0XHRcdFx0aW5wdXQuTGFzdE5vbWluYXRpb25CdWlsZE51bWJlcixcclxuXHRcdFx0XHRpbnB1dC5EZWxldGVBZnRlclNlY29uZHNXaGVuU3RhbGUsXHJcblx0XHRcdFx0ZmFsc2UsIC8vIEZvcmNlQ2FuZGlkYWN5XHJcblx0XHRcdFx0aW5wdXQuSXNDYW5kaWRhdGUsXHJcblx0XHRcdFx0aW5wdXQuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSxcclxuXHRcdFx0XHRpbnB1dC5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyxcclxuXHRcdFx0XHRpbnB1dC5MYXN0U3VydmV5SWQsXHJcblx0XHRcdFx0aW5wdXQuTGFzdFN1cnZleVN0YXJ0VGltZVV0YyxcclxuXHRcdFx0XHRpbnB1dC5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMsXHJcblx0XHRcdFx0aW5wdXQuTGFzdENvb2xkb3duRW5kVGltZVV0YyxcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5DYW1wYWlnblN0YXRlLkRlc2VyaWFsaXplLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSB9KTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIFRoZSBDYW1wYWlnbiB0byB3aGljaCB0aGlzIHN0YXRlIGNvcnJlc3BvbmRzXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ2FtcGFpZ25JZFwiKVxyXG5cdHB1YmxpYyBDYW1wYWlnbklkOiBzdHJpbmc7XHJcblxyXG5cdC8vIFRoZSBsYXN0IHRpbWUgdGhlIGNhbmRpZGFjeSB3YXMgZXZhbHVhdGVkXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdE5vbWluYXRpb25UaW1lVXRjXCIpXHJcblx0cHVibGljIExhc3ROb21pbmF0aW9uVGltZVV0YzogRGF0ZTtcclxuXHJcblx0Ly8gVGhlIGJ1aWxkIG51bWJlciBmcm9tIHRoZSBsYXN0IHRpbWUgdGhlIGNhbmRpZGFjeSB3YXMgZXZhbHVhdGVkXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdE5vbWluYXRpb25CdWlsZE51bWJlclwiKVxyXG5cdHB1YmxpYyBMYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyOiBzdHJpbmc7XHJcblxyXG5cdC8vIEFtb3VudCBvZiB0aW1lIHRvIGRlbGF5IGNsZWFudXAgb2YgdGhpcyBzdGF0ZSBmcm9tIHN0b3JhZ2UsIHdoZW4gaXQncyBjYW1wYWlnbiBkZWZpbml0aW9uIGlzIG5vIGxvbmdlciBwcmVzZW50XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlXCIpXHJcblx0cHVibGljIERlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZTogbnVtYmVyO1xyXG5cclxuXHQvLyBNYW51YWwgc2V0dGluZyB0aGF0IGNhbiBiZSB1c2VkIHRvIGZvcmNlIHRoaXMgY2xpZW50IHRvIGJlIGEgY2FuZGlkYXRlIGZvciB0aGlzIGNhbXBhaWduLiBOb3QgcGVyc2lzdGVkIHRvIHRoZSBmaWxlLlxyXG5cdHB1YmxpYyBGb3JjZUNhbmRpZGFjeTogYm9vbGVhbjtcclxuXHJcblx0Ly8gV2hldGhlciBvciBub3QgdGhlIHVzZXIgaXMgY3VycmVudGx5IGEgY2FuZGlkYXRlIG9yIGFudGktY2FuZGlkYXRlXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiSXNDYW5kaWRhdGVcIilcclxuXHRwdWJsaWMgSXNDYW5kaWRhdGU6IGJvb2xlYW47XHJcblxyXG5cdC8vIFdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIHRyaWdnZXJlZCBhIHN1cnZleSB3aGVuIHRoZXkgYXJlIGEgQ2FuZGlkYXRlLlxyXG5cdC8vIElmIGlzQ2FuZGlkYXRlIGlzIGZhbHNlLCB0aGVuIHRoaXMgdmFsdWUgaXMgbWVhbmluZ2xlc3MuXHJcblx0Ly8gSWYgaXNDYW5kaWRhdGUgaXMgdHJ1ZSwgdGhlbiB0aGlzIGlzIHVzZWQgdG8gcGljayBhIGRpZmZlcmVudCBjYW1wYWlnbiBjb29sZG93biB0aW1lXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleVwiKVxyXG5cdHB1YmxpYyBEaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5OiBib29sZWFuO1xyXG5cclxuXHQvLyBUaGUgZGF0ZSB0aGUgbGFzdCBzdXJ2ZXkgd2FzIGFjdGl2YXRlZFxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjXCIpXHJcblx0cHVibGljIExhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHQvLyByZWdpb24gUHJvcGVydGllcyBvZiB0aGUgbW9zdCByZWNlbnRseSBnZW5lcmF0ZWQgc3VydmV5Llx1MDAxMFxyXG5cclxuXHQvLyBXaGVuIGlzQ2FuZGlkYXRlID09IHRydWUgZm9yIHRoZSBjdXJyZW50IGVsZWN0aW9uIHRpbWUsIHRoaXMgaXMgdXNlZCB0byByZWdlbmVyYXRlIHRoZSBzYW1lIFN1cnZleSBkZWZpbml0aW9uXHJcblx0Ly8gZWFjaCB0aW1lIHdlIGFyZSBpbnZva2VkXHJcblx0Ly8gQ29uc2lkZXI6IFB1dHRpbmcgdGhpcyBpbiBpdHMgb3duIHN1YmNsYXNzXHJcblxyXG5cdC8vIFRoZSBzdXJ2ZXlJZCBmb3IgdGhlIG1vc3QgcmVjZW50bHkgZ2VuZXJhdGVkIHN1cnZleSBpbiB0aGlzIGNhbXBhaWduIChjYW4gZGlmZmVyIGZyb20gY2FtcGFpZ25JZCwgYW5kIGlzXHJcblx0Ly8gdXNlZCB0byBndWFyYW50ZWUgYSBnaXZlbiBzdXJ2ZXkgaXMgc2hvd24gb25jZSlcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYXN0U3VydmV5SWRcIilcclxuXHRwdWJsaWMgTGFzdFN1cnZleUlkOiBzdHJpbmc7XHJcblxyXG5cdC8vIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudGx5IGdlbmVyYXRlZCBzdXJ2ZXlcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYXN0U3VydmV5U3RhcnRUaW1lVXRjXCIpXHJcblx0cHVibGljIExhc3RTdXJ2ZXlTdGFydFRpbWVVdGM6IERhdGU7XHJcblxyXG5cdC8vIFRoZSBleHBpcmF0aW9uIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50bHkgZ2VuZXJhdGVkIHN1cnZleVxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGM6IERhdGU7XHJcblxyXG5cdC8vIFRoZSBjb29sZG93biBlbmQgdGltZSBvZiB0aGUgbW9zdCByZWNlbnRseSBnZW5lcmF0ZWQgc3VydmV5XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdENvb2xkb3duRW5kVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0Q29vbGRvd25FbmRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoY2FtcGFpZ25JZDogc3RyaW5nLCBsYXN0Tm9taW5hdGlvblRpbWU6IERhdGUsIGxhc3ROb21pbmF0aW9uQnVpbGROdW1iZXI6IHN0cmluZywgZGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlOiBudW1iZXIsXHJcblx0XHRGb3JjZUNhbmRpZGFjeTogYm9vbGVhbiwgaXNDYW5kaWRhdGU6IGJvb2xlYW4sIGRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXk6IGJvb2xlYW4sIGxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lOiBEYXRlLFxyXG5cdFx0bGFzdFN1cnZleUlkOiBzdHJpbmcsIGxhc3RTdXJ2ZXlTdGFydFRpbWU6IERhdGUsIGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZTogRGF0ZSwgbGFzdENvb2xkb3duRW5kVGltZVV0YzogRGF0ZSkge1xyXG5cdFx0dGhpcy5DYW1wYWlnbklkID0gY2FtcGFpZ25JZDtcclxuXHRcdHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjID0gbGFzdE5vbWluYXRpb25UaW1lO1xyXG5cdFx0dGhpcy5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyID0gbGFzdE5vbWluYXRpb25CdWlsZE51bWJlcjtcclxuXHRcdHRoaXMuRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlID0gZGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlO1xyXG5cdFx0dGhpcy5Gb3JjZUNhbmRpZGFjeSA9IEZvcmNlQ2FuZGlkYWN5O1xyXG5cdFx0dGhpcy5Jc0NhbmRpZGF0ZSA9IGlzQ2FuZGlkYXRlO1xyXG5cdFx0dGhpcy5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5ID0gZGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleTtcclxuXHRcdHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMgPSBsYXN0U3VydmV5QWN0aXZhdGVkVGltZTtcclxuXHRcdHRoaXMuTGFzdFN1cnZleUlkID0gbGFzdFN1cnZleUlkO1xyXG5cdFx0dGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjID0gbGFzdFN1cnZleVN0YXJ0VGltZTtcclxuXHRcdHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjID0gbGFzdFN1cnZleUV4cGlyYXRpb25UaW1lO1xyXG5cdFx0dGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID0gbGFzdENvb2xkb3duRW5kVGltZVV0YztcclxuXHJcblx0XHRpZiAoIXRoaXMudmFsaWRhdGUoKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb25zdHJ1Y3RvciBhcmd1bWVudHMgYXJlIG5vdCB2YWxpZFwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghdGhpcy5DYW1wYWlnbklkIHx8ICFpc1N0cmluZyh0aGlzLkNhbXBhaWduSWQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyKVxyXG5cdFx0XHR8fCAhaXNTdHJpbmcodGhpcy5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFVdGlscy5pc051bWJlcih0aGlzLkRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZSkgfHwgdGhpcy5EZWxldGVBZnRlclNlY29uZHNXaGVuU3RhbGUgPCAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzQm9vbGVhbih0aGlzLklzQ2FuZGlkYXRlKSB8fCAhaXNCb29sZWFuKHRoaXMuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLklzQ2FuZGlkYXRlKSB7XHJcblx0XHRcdC8vIERpc2FsbG93IHRoZSBmb2xsb3dpbmcgbnVsbCdzIGlmIGlzQ2FuZGlkYXRlID09IHRydWVcclxuXHRcdFx0aWYgKGlzTk9VKHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YykgfHwgaXNOT1UodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMYXN0U3VydmV5SWQgY291bGQgYmUgXCJcIlxyXG5cdFx0XHRpZiAoIWlzU3RyaW5nKHRoaXMuTGFzdFN1cnZleUlkKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkpIHtcclxuXHRcdFx0Ly8gRGlzYWxsb3cgdGhlIGZvbGxvd2luZyBudWxsJ3MgaWYgZGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSA9PSB0cnVlXHJcblx0XHRcdGlmIChpc05PVSh0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLkxhc3RTdXJ2ZXlJZCkpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5SWQgPSBcIlwiO1xyXG5cdFx0fSBlbHNlIGlmICghaXNTdHJpbmcodGhpcy5MYXN0U3VydmV5SWQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBMYXN0Tm9taW5hdGlvblRpbWUgZG9lcyBub3QgYWxsb3cgbnVsbFxyXG5cdFx0aWYgKGlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5MYXN0Tm9taW5hdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjKTtcclxuXHRcdC8vIGludmFsaWRhdGUgaWYgaXQncyBub3QgYSBEYXRlIG9iamVjdFxyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHZhbHVlIHRvIGRpc3RhbmNlIHBhc3QgaWYgdmFsdWUgbm90IHByb3ZpZGVkXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyA9IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHQvLyBjaGVjayBpZiBpdCdzIFVUQyBkYXRlIHRpbWUgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMpO1xyXG5cdFx0Ly8gaW52YWxpZGF0ZSBpZiBpdCdzIG5vdCBhIERhdGUgb2JqZWN0XHJcblx0XHR9IGVsc2UgaWYgKCFpc0RhdGUodGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB2YWx1ZSB0byBkaXN0YW5jZSBwYXN0IGlmIHZhbHVlIG5vdCBwcm92aWRlZFxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjID0gZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdC8vIGNoZWNrIGlmIGl0J3Mgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YyA9IHN0cmluZ1RvRGF0ZSh0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpO1xyXG5cdFx0Ly8gaW52YWxpZGF0ZSBpZiBpdCdzIG5vdCBhIERhdGUgb2JqZWN0XHJcblx0XHR9IGVsc2UgaWYgKCFpc0RhdGUodGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHZhbHVlIHRvIGRpc3RhbmNlIHBhc3QgaWYgdmFsdWUgbm90IHByb3ZpZGVkXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjID0gZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdC8vIGNoZWNrIGlmIGl0J3Mgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMgPSBzdHJpbmdUb0RhdGUodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpO1xyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHZhbHVlIHRvIGRpc3RhbmNlIHBhc3QgaWYgdmFsdWUgbm90IHByb3ZpZGVkXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3RDb29sZG93bkVuZFRpbWVVdGMgPSBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0Ly8gY2hlY2sgaWYgaXQncyBzdHJpbmcsIHBvc3NpYmx5IGNvbWluZyBmcm9tIGRlc2VyaWFsaXplIG1ldGhvZFxyXG5cdFx0fSBlbHNlIGlmIChpc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0Yyk7XHJcblx0XHR9IGVsc2UgaWYgKCFpc0RhdGUodGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWNvcmQgdGhhdCB0aGUgY3VycmVudCBzdXJ2ZXkgd2FzIHRha2VuIG9uIHRoaXMgZGF0ZVxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGRhdGUgZGF0ZVxyXG5cdCAqIEBwYXJhbSBjb29sZG93blNlY29uZHMgbnVtYmVyXHJcblx0ICovXHJcblx0cHVibGljIG1hcmtDdXJyZW50U3VydmV5VGFrZW5PbkRhdGUoZGF0ZTogRGF0ZSwgY29vbGRvd25TZWNvbmRzOiBudW1iZXIsIGlzU3VydmV5Q29tcGxldGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuXHRcdHRoaXMuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSA9IGlzU3VydmV5Q29tcGxldGU7XHJcblx0XHR0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjID0gZGF0ZSAhPSBudWxsID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblx0XHR0aGlzLkxhc3RDb29sZG93bkVuZFRpbWVVdGMgPSBVdGlscy5hZGRTZWNvbmRzV2l0aG91dE92ZXJmbG93KHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMsIGNvb2xkb3duU2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q29vbGRvd25TdGFydERhdGUoKTogRGF0ZSB7XHJcblx0XHRpZiAoIXRoaXMuSXNDYW5kaWRhdGUpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSW4gcHJhY3RpY2UgdGhpcyB3aWwgYmUgZXF1YWwgdG8gbGFzdE5vbWluYXRpb25UaW1lLCBidXRcclxuXHRcdC8vIGRpc3RyaWJ1dGlvbiBtb2RlbHMgbGlrZSBhIHJhbXAgZWZmZWN0aXZlbHkgY2F1c2UgdXMgdG9cclxuXHRcdC8vIHNoaWZ0IG91ciBcImVmZmVjdGl2ZSBub21pbmF0aW9uIGRhdGVcIiBmb3J3YXJkIHdpdGggdGhlIHN1cnZleSBzdGFydCBkYXRlXHJcblx0XHRyZXR1cm4gdGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjO1xyXG5cdH1cclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhbXBhaWduU3RhdGVQcm92aWRlciB7XHJcblx0bG9hZCgpOiBDYW1wYWlnblN0YXRlW107XHJcblxyXG5cdHNhdmUoY2FtcGFpZ25TdGF0ZXM6IENhbXBhaWduU3RhdGVbXSk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN0YXRlUHJvdmlkZXJGYWN0b3J5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZmlsZUJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcixcclxuXHRcdGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKTogSUNhbXBhaWduU3RhdGVQcm92aWRlciB7XHJcblx0XHRpZiAoaG9zdEJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEhvc3RCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlLCBob3N0QmFzZWRTdG9yYWdlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IEZpbGVCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgd2hhdCBpcyBzdG9yZWQgaW4gdGhlIGZpbGUuXHJcbiAqL1xyXG5jbGFzcyBGaWxlRGF0YSB7XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ2FtcGFpZ25TdGF0ZXNcIilcclxuXHRwdWJsaWMgQ2FtcGFpZ25TdGF0ZXM6IENhbXBhaWduU3RhdGVbXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIHtcclxuXHRwcml2YXRlIGZpbGVCYXNlZFN0YXRlUHJvdmlkZXI6IElDYW1wYWlnblN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlLWJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0YXRlUHJvdmlkZXIgPSBuZXcgRmlsZUJhc2VkQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvYWQoKTogQ2FtcGFpZ25TdGF0ZVtdIHtcclxuXHRcdGNvbnN0IHN0YXRlc0Zyb21Ib3N0OiBDYW1wYWlnblN0YXRlW10gPSB0aGlzLmdldFN0YXRlc0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN0YXRlc0Zyb21GaWxlOiBDYW1wYWlnblN0YXRlW107XHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHN0YXRlc0Zyb21GaWxlID0gdGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyLmxvYWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBTdGF0ZUNvbGxlY3Rpb25zID0gU3RhdGVQcm92aWRlckhlbHBlcnMuTWVyZ2VBbmRVcGRhdGVDYW1wYWlnblN0YXRlcyhzdGF0ZXNGcm9tRmlsZSwgc3RhdGVzRnJvbUhvc3QpO1xyXG5cdFx0cmV0dXJuIFN0YXRlQ29sbGVjdGlvbnMuZmluZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShjYW1wYWlnblN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdKTogdm9pZCB7XHJcblx0XHRpZiAoIWNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGF0ZXNGcm9tSG9zdDogQ2FtcGFpZ25TdGF0ZVtdID0gdGhpcy5nZXRTdGF0ZXNGcm9tSG9zdCgpO1xyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlQ2FtcGFpZ25TdGF0ZXMoY2FtcGFpZ25TdGF0ZXMsIHN0YXRlc0Zyb21Ib3N0KTtcclxuXHRcdGNvbnN0IHRvQmVVcGRhdGVkU3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFN0YXRlQ29sbGVjdGlvbnMuZmluZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCk7XHJcblxyXG5cdFx0Ly8gd3JpdGUgZGVsdGFfZGF0YSB0byBob3N0XHJcblx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0ZXMpIHtcclxuXHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCBzdGF0ZVZhbHVlOiBzdHJpbmcgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5tYWtlU2V0dGluZ0l0ZW1WYWx1ZShKU09OLnN0cmluZ2lmeShzdGF0ZSkpO1xyXG5cdFx0XHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZS51cHNlcnRTZXR0aW5nSXRlbShGaWxlVHlwZVtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc10sIHN0YXRlLkNhbXBhaWduSWQsIHN0YXRlVmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5zYXZlKG1lcmdlZFN0YXRlcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFN0YXRlc0Zyb21Ib3N0KCk6IENhbXBhaWduU3RhdGVbXSB7XHJcblx0XHRjb25zdCBzdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFtdO1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3M6IElGbG9vZGdhdGVTZXR0aW5nID0gdGhpcy5ob3N0QmFzZWRTdG9yYWdlLnJlYWRTZXR0aW5nTGlzdChGaWxlVHlwZVtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc10pO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHNldHRpbmdzKSB7XHJcblx0XHRcdGlmICghc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHNldHRpbmdzW2tleV07XHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGxldCBpdGVtT2JqZWN0OiBhbnkgPSB7fTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpdGVtT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IENhbXBhaWduU3RhdGUgPSBDYW1wYWlnblN0YXRlLmRlc2VyaWFsaXplKGl0ZW1PYmplY3QpO1xyXG5cdFx0XHRcdGlmIChuZXdTdGF0ZSkge1xyXG5cdFx0XHRcdFx0c3RhdGVzLnB1c2gobmV3U3RhdGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5Ib3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIuR2V0U3RhdGVzRnJvbUhvc3QuRmFpbGVkLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyBkYXRhU3RyaW5nIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXRlcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIHtcclxuXHRwcml2YXRlIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXI7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyKSB7XHJcblx0XHRpZiAoIXN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RvcmFnZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9hZCgpOiBDYW1wYWlnblN0YXRlW10ge1xyXG5cdFx0Y29uc3QgcmVhZFN0cmluZzogc3RyaW5nID0gdGhpcy5zdG9yYWdlLnJlYWQoRmlsZVR5cGUuQ2FtcGFpZ25TdGF0ZXMpO1xyXG5cdFx0aWYgKCFyZWFkU3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZmlsZURhdGE6IEZpbGVEYXRhO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZmlsZURhdGEgPSBKU09OLnBhcnNlKHJlYWRTdHJpbmcpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0OiBDYW1wYWlnblN0YXRlW10gPSBbXTtcclxuXHRcdFx0aWYgKGZpbGVEYXRhICYmIGZpbGVEYXRhLkNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdFx0ZmlsZURhdGEuQ2FtcGFpZ25TdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBDYW1wYWlnblN0YXRlID0gQ2FtcGFpZ25TdGF0ZS5kZXNlcmlhbGl6ZShzdGF0ZSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKG5ld1N0YXRlKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKG5ld1N0YXRlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIuTG9hZC5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyByZWFkU3RyaW5nIH0pO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShjYW1wYWlnblN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdKTogdm9pZCB7XHJcblx0XHRpZiAoIWNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWxlRGF0YSA9IG5ldyBGaWxlRGF0YSgpO1xyXG5cdFx0ZmlsZURhdGEuQ2FtcGFpZ25TdGF0ZXMgPSBjYW1wYWlnblN0YXRlcztcclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmaWxlRGF0YSk7XHJcblx0XHR0aGlzLnN0b3JhZ2Uud3JpdGUoRmlsZVR5cGUuQ2FtcGFpZ25TdGF0ZXMsIHdyaXRlU3RyaW5nKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js":
/*!*******************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CampaignSurveyFactory = void 0;\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar SurveyEvents_1 = __webpack_require__(/*! ../SurveyEvents */ \"../FloodgateCore/dist/src/SurveyEvents.js\");\nvar SurveyMetadata_1 = __webpack_require__(/*! ../SurveyMetadata */ \"../FloodgateCore/dist/src/SurveyMetadata.js\");\nvar FpsSurvey = __webpack_require__(/*! ../Surveys/FpsSurvey */ \"../FloodgateCore/dist/src/Surveys/FpsSurvey.js\");\nvar GenericMessagingSurfaceSurvey = __webpack_require__(/*! ../Surveys/GenericMessagingSurfaceSurvey */ \"../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js\");\nvar InterceptSurvey = __webpack_require__(/*! ../Surveys/InterceptSurvey */ \"../FloodgateCore/dist/src/Surveys/InterceptSurvey.js\");\nvar NlqsSurvey = __webpack_require__(/*! ../Surveys/NlqsSurvey */ \"../FloodgateCore/dist/src/Surveys/NlqsSurvey.js\");\nvar NpsSurvey = __webpack_require__(/*! ../Surveys/NpsSurvey */ \"../FloodgateCore/dist/src/Surveys/NpsSurvey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ../Surveys/SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nvar dateToShortUtcString = Utils.dateToShortUtcString, isNOU = Utils.isNOU;\n/**\n * Contains methods to take a campaign definition + state and generate an ISurvey\n */\nvar CampaignSurveyFactory = /** @class */ (function () {\n    function CampaignSurveyFactory() {\n    }\n    CampaignSurveyFactory.makeSurvey = function (state, definition, stringProvider) {\n        if (!state || !definition || !definition.surveyTemplate || !stringProvider) {\n            return null;\n        }\n        var surveyDataSource = CampaignSurveyFactory.makeSurveyDataSourceData(state, definition);\n        var surveyModel = definition.surveyTemplate;\n        if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps5PointStatic) {\n            return NpsSurvey.make5Point(surveyDataSource, stringProvider);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps11PointStatic) {\n            return NpsSurvey.make11Point(surveyDataSource, stringProvider);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateFps) {\n            return FpsSurvey.makeFps(surveyDataSource, stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNlqs) {\n            return NlqsSurvey.makeNlqs(surveyDataSource, stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps) {\n            return NpsSurvey.makeCustom(surveyDataSource, stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateGenericMessagingSurface) {\n            return GenericMessagingSurfaceSurvey.makeCustom(surveyDataSource);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateIntercept) {\n            return InterceptSurvey.makeIntercept(surveyDataSource, stringProvider, surveyModel);\n        }\n        else {\n            return null;\n        }\n    };\n    CampaignSurveyFactory.makeSurveyDataSourceData = function (state, definition) {\n        if (!state || !definition || !definition.surveyTemplate) {\n            return null;\n        }\n        var surveyModel = definition.surveyTemplate;\n        var surveyData = new SurveyDataSource.SurveyDataSourceData();\n        surveyData.activationEvent = CampaignSurveyFactory.makeEvent(state, surveyModel.activationEvent);\n        surveyData.metadata = CampaignSurveyFactory.makeMetadata(surveyModel.metadata);\n        surveyData.id = state.LastSurveyId;\n        surveyData.backEndIdentifier = state.CampaignId;\n        surveyData.expirationTimeUtc = dateToShortUtcString(state.LastSurveyExpirationTimeUtc);\n        surveyData.governedChannelType = definition.governedChannelType;\n        surveyData.startTimeUtc = dateToShortUtcString(state.LastSurveyStartTimeUtc);\n        surveyData.additionalDataRequested = definition.additionalDataRequested || [];\n        surveyData.launcherType = definition.launcherType || ISurvey.LAUNCHER_TYPE_DEFAULT;\n        surveyData.preferredLaunchType = definition.surveyTemplate.preferredLaunchType || \"Default\" /* Default */;\n        surveyData.businessLevel = definition.businessLevel;\n        if (!isNOU(surveyModel.maxLaunches)) {\n            surveyData.maxLaunches = surveyModel.maxLaunches;\n        }\n        if (!isNOU(surveyModel.maxLaunchesPerSession)) {\n            surveyData.maxLaunchesPerSession = surveyModel.maxLaunchesPerSession;\n        }\n        return surveyData;\n    };\n    CampaignSurveyFactory.makeCountedActivityEventData = function (eventModel) {\n        if (!eventModel) {\n            return null;\n        }\n        var eventData = new SurveyEvents_1.CountedActivityEventData();\n        eventData.activity = eventModel.activity;\n        eventData.count = eventModel.count;\n        eventData.isAggregate = eventModel.isAggregate;\n        return eventData;\n    };\n    CampaignSurveyFactory.makeCountedActivityEvent = function (state, eventModel) {\n        if (!state || !eventModel) {\n            return null;\n        }\n        var eventData = CampaignSurveyFactory.makeCountedActivityEventData(eventModel);\n        if (!eventData) {\n            return null;\n        }\n        return new SurveyEvents_1.CountedActivityEvent(eventData);\n    };\n    CampaignSurveyFactory.makeCountedActivitySequenceEvent = function (state, eventModel) {\n        if (!state || !eventModel) {\n            return null;\n        }\n        var sequenceEventData = new SurveyEvents_1.CountedActivitySequenceEventData();\n        sequenceEventData.sequence = [];\n        for (var _i = 0, _a = eventModel.sequence; _i < _a.length; _i++) {\n            var event_1 = _a[_i];\n            var eventData = CampaignSurveyFactory.makeCountedActivityEventData(event_1);\n            if (!eventData) {\n                return null;\n            }\n            sequenceEventData.sequence.push(eventData);\n        }\n        return new SurveyEvents_1.CountedActivitySequenceEvent(sequenceEventData);\n    };\n    CampaignSurveyFactory.makeEvent = function (state, eventModel) {\n        if (eventModel instanceof CampaignDefinitionProvider_1.CampaignSurveyEventCountedActivity) {\n            return CampaignSurveyFactory.makeCountedActivityEvent(state, eventModel);\n        }\n        else if (eventModel instanceof CampaignDefinitionProvider_1.CampaignSurveyEventCountedActivitySequence) {\n            return CampaignSurveyFactory.makeCountedActivitySequenceEvent(state, eventModel);\n        }\n        else {\n            return null;\n        }\n    };\n    CampaignSurveyFactory.makeMetadata = function (metadataModel) {\n        if (isNOU(metadataModel) || isNOU(metadataModel.contentMetadata)) {\n            return null;\n        }\n        var metadata = new SurveyMetadata_1.Metadata();\n        metadata.contentMetadata = metadataModel.contentMetadata;\n        return new SurveyMetadata_1.SurveyMetadata(metadata);\n    };\n    return CampaignSurveyFactory;\n}());\nexports.CampaignSurveyFactory = CampaignSurveyFactory;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduU3VydmV5RmFjdG9yeS50cz8xZGQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG9HQUEwQztBQUsxQyw2R0FHeUI7QUFDekIsbUhBQTZEO0FBQzdELGtIQUFrRDtBQUNsRCw4S0FBMEY7QUFDMUYsb0lBQThEO0FBQzlELHFIQUFvRDtBQUNwRCxrSEFBa0Q7QUFDbEQsdUlBQWdFO0FBQ2hFLHNGQUFrQztBQUNsQywrSkFLc0M7QUFHOUIsd0JBQW9CLEdBQVksS0FBSyxxQkFBakIsRUFBRSxLQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFOUM7O0dBRUc7QUFDSDtJQUFBO0lBNkhBLENBQUM7SUE1SGMsZ0NBQVUsR0FBeEIsVUFBeUIsS0FBb0IsRUFBRSxVQUE4QixFQUFFLGNBQXdDO1FBQ3RILElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQzNFLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLHdCQUF3QixDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMzRixJQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDO1FBQzlDLElBQUksV0FBVyxZQUFZLGtFQUFxQyxFQUFFO1lBQ2pFLE9BQU8sU0FBUyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUM5RDthQUFNLElBQUksV0FBVyxZQUFZLG1FQUFzQyxFQUFFO1lBQ3pFLE9BQU8sU0FBUyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUMvRDthQUFNLElBQUksV0FBVyxZQUFZLHNEQUF5QixFQUFFO1lBQzVELE9BQU8sU0FBUyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDeEU7YUFBTSxJQUFJLFdBQVcsWUFBWSx1REFBMEIsRUFBRTtZQUM3RCxPQUFPLFVBQVUsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQzFFO2FBQU0sSUFBSSxXQUFXLFlBQVksc0RBQXlCLEVBQUU7WUFDNUQsT0FBTyxTQUFTLENBQUMsVUFBVSxDQUFDLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUMzRTthQUFNLElBQUksV0FBVyxZQUFZLDBFQUE2QyxFQUFFO1lBQ2hGLE9BQU8sNkJBQTZCLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDbEU7YUFBTSxJQUFJLFdBQVcsWUFBWSw0REFBK0IsRUFBRTtZQUNsRSxPQUFPLGVBQWUsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3BGO2FBQU07WUFDTixPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVjLDhDQUF3QixHQUF2QyxVQUF3QyxLQUFvQixFQUFFLFVBQThCO1FBQzNGLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFO1lBQ3hELE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDO1FBQzlDLElBQU0sVUFBVSxHQUFHLElBQUksZ0JBQWdCLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUMvRCxVQUFVLENBQUMsZUFBZSxHQUFHLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pHLFVBQVUsQ0FBQyxRQUFRLEdBQUcscUJBQXFCLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvRSxVQUFVLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7UUFDbkMsVUFBVSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7UUFDaEQsVUFBVSxDQUFDLGlCQUFpQixHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQ3ZGLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLENBQUMsbUJBQW1CLENBQUM7UUFDaEUsVUFBVSxDQUFDLFlBQVksR0FBRyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUM3RSxVQUFVLENBQUMsdUJBQXVCLEdBQUcsVUFBVSxDQUFDLHVCQUF1QixJQUFLLEVBQUUsQ0FBQztRQUMvRSxVQUFVLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQyxZQUFZLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDO1FBQ25GLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDLG1CQUFtQiwyQkFBa0MsQ0FBQztRQUNqSCxVQUFVLENBQUMsYUFBYSxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUM7UUFFcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDcEMsVUFBVSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDO1NBQ2pEO1FBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUM5QyxVQUFVLENBQUMscUJBQXFCLEdBQUcsV0FBVyxDQUFDLHFCQUFxQixDQUFDO1NBQ3JFO1FBRUQsT0FBTyxVQUFVLENBQUM7SUFDbkIsQ0FBQztJQUVjLGtEQUE0QixHQUEzQyxVQUE0QyxVQUE4QztRQUN6RixJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2hCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLFNBQVMsR0FBRyxJQUFJLHVDQUF3QixFQUFFLENBQUM7UUFDakQsU0FBUyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQ3pDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQztRQUNuQyxTQUFTLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUM7UUFFL0MsT0FBTyxTQUFTLENBQUM7SUFDbEIsQ0FBQztJQUVjLDhDQUF3QixHQUF2QyxVQUF3QyxLQUFvQixFQUFFLFVBQThDO1FBQzNHLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0sU0FBUyxHQUE2QixxQkFBcUIsQ0FBQyw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzRyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2YsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELE9BQU8sSUFBSSxtQ0FBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRWMsc0RBQWdDLEdBQS9DLFVBQWdELEtBQW9CLEVBQ25FLFVBQXNEO1FBRXRELElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0saUJBQWlCLEdBQUcsSUFBSSwrQ0FBZ0MsRUFBRSxDQUFDO1FBQ2pFLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFFaEMsS0FBb0IsVUFBbUIsRUFBbkIsZUFBVSxDQUFDLFFBQVEsRUFBbkIsY0FBbUIsRUFBbkIsSUFBbUIsRUFBRTtZQUFwQyxJQUFNLE9BQUs7WUFDZixJQUFNLFNBQVMsR0FBNkIscUJBQXFCLENBQUMsNEJBQTRCLENBQUMsT0FBSyxDQUFDLENBQUM7WUFDdEcsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDZixPQUFPLElBQUksQ0FBQzthQUNaO1lBRUQsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMzQztRQUVELE9BQU8sSUFBSSwyQ0FBNEIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFYywrQkFBUyxHQUF4QixVQUF5QixLQUFvQixFQUFFLFVBQStCO1FBQzdFLElBQUksVUFBVSxZQUFZLCtEQUFrQyxFQUFFO1lBQzdELE9BQU8scUJBQXFCLENBQUMsd0JBQXdCLENBQUMsS0FBSyxFQUFFLFVBQWdELENBQUMsQ0FBQztTQUMvRzthQUFNLElBQUksVUFBVSxZQUFZLHVFQUEwQyxFQUFFO1lBQzVFLE9BQU8scUJBQXFCLENBQUMsZ0NBQWdDLENBQUMsS0FBSyxFQUFFLFVBQXdELENBQUMsQ0FBQztTQUMvSDthQUFNO1lBQ04sT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFFYyxrQ0FBWSxHQUEzQixVQUE0QixhQUFxQztRQUNoRSxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ2pFLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLFFBQVEsR0FBRyxJQUFJLHlCQUFRLEVBQUUsQ0FBQztRQUNoQyxRQUFRLENBQUMsZUFBZSxHQUFHLGFBQWEsQ0FBQyxlQUFlLENBQUM7UUFFekQsT0FBTyxJQUFJLCtCQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNGLDRCQUFDO0FBQUQsQ0FBQztBQTdIWSxzREFBcUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9DYW1wYWlnbi9DYW1wYWlnblN1cnZleUZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUV2ZW50IGZyb20gXCIuLi9JU3VydmV5RXZlbnRcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuLi9JU3VydmV5TWV0YWRhdGFcIjtcclxuaW1wb3J0IHtcclxuXHRDb3VudGVkQWN0aXZpdHlFdmVudCwgQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhLCBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50LCBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSxcclxuXHRJQ291bnRlZEFjdGl2aXR5RXZlbnQsIElDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50LFxyXG59IGZyb20gXCIuLi9TdXJ2ZXlFdmVudHNcIjtcclxuaW1wb3J0IHsgTWV0YWRhdGEsIFN1cnZleU1ldGFkYXRhIH0gZnJvbSBcIi4uL1N1cnZleU1ldGFkYXRhXCI7XHJcbmltcG9ydCAqIGFzIEZwc1N1cnZleSBmcm9tIFwiLi4vU3VydmV5cy9GcHNTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkgZnJvbSBcIi4uL1N1cnZleXMvR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSW50ZXJjZXB0U3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL0ludGVyY2VwdFN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBObHFzU3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL05scXNTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgTnBzU3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL05wc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuLi9TdXJ2ZXlzL1N1cnZleURhdGFTb3VyY2VcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7XHJcblx0Q2FtcGFpZ25EZWZpbml0aW9uLFxyXG5cdENhbXBhaWduU3VydmV5RXZlbnQsIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHksIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSwgQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSxcclxuXHRDYW1wYWlnblN1cnZleVRlbXBsYXRlLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlRnBzLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UsIENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQsXHJcblx0Q2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5scXMsIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMsIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljLFxyXG59IGZyb20gXCIuL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3RhdGUgfSBmcm9tIFwiLi9DYW1wYWlnblN0YXRlUHJvdmlkZXJcIjtcclxuXHJcbmNvbnN0IHsgZGF0ZVRvU2hvcnRVdGNTdHJpbmcsIGlzTk9VIH0gPSBVdGlscztcclxuXHJcbi8qKlxyXG4gKiBDb250YWlucyBtZXRob2RzIHRvIHRha2UgYSBjYW1wYWlnbiBkZWZpbml0aW9uICsgc3RhdGUgYW5kIGdlbmVyYXRlIGFuIElTdXJ2ZXlcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZVN1cnZleShzdGF0ZTogQ2FtcGFpZ25TdGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uLCBzdHJpbmdQcm92aWRlcjogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyKTogSVN1cnZleSB7XHJcblx0XHRpZiAoIXN0YXRlIHx8ICFkZWZpbml0aW9uIHx8ICFkZWZpbml0aW9uLnN1cnZleVRlbXBsYXRlIHx8ICFzdHJpbmdQcm92aWRlcikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdXJ2ZXlEYXRhU291cmNlID0gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VTdXJ2ZXlEYXRhU291cmNlRGF0YShzdGF0ZSwgZGVmaW5pdGlvbik7XHJcblx0XHRjb25zdCBzdXJ2ZXlNb2RlbCA9IGRlZmluaXRpb24uc3VydmV5VGVtcGxhdGU7XHJcblx0XHRpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljKSB7XHJcblx0XHRcdHJldHVybiBOcHNTdXJ2ZXkubWFrZTVQb2ludChzdXJ2ZXlEYXRhU291cmNlLCBzdHJpbmdQcm92aWRlcik7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMpIHtcclxuXHRcdFx0cmV0dXJuIE5wc1N1cnZleS5tYWtlMTFQb2ludChzdXJ2ZXlEYXRhU291cmNlLCBzdHJpbmdQcm92aWRlcik7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcykge1xyXG5cdFx0XHRyZXR1cm4gRnBzU3VydmV5Lm1ha2VGcHMoc3VydmV5RGF0YVNvdXJjZSwgc3RyaW5nUHJvdmlkZXIsIHN1cnZleU1vZGVsKTtcclxuXHRcdH0gZWxzZSBpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcykge1xyXG5cdFx0XHRyZXR1cm4gTmxxc1N1cnZleS5tYWtlTmxxcyhzdXJ2ZXlEYXRhU291cmNlLCBzdHJpbmdQcm92aWRlciwgc3VydmV5TW9kZWwpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMpIHtcclxuXHRcdFx0cmV0dXJuIE5wc1N1cnZleS5tYWtlQ3VzdG9tKHN1cnZleURhdGFTb3VyY2UsIHN0cmluZ1Byb3ZpZGVyLCBzdXJ2ZXlNb2RlbCk7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlKSB7XHJcblx0XHRcdHJldHVybiBHZW5lcmljTWVzc2FnaW5nU3VyZmFjZVN1cnZleS5tYWtlQ3VzdG9tKHN1cnZleURhdGFTb3VyY2UpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQpIHtcclxuXHRcdFx0cmV0dXJuIEludGVyY2VwdFN1cnZleS5tYWtlSW50ZXJjZXB0KHN1cnZleURhdGFTb3VyY2UsIHN0cmluZ1Byb3ZpZGVyLCBzdXJ2ZXlNb2RlbCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VTdXJ2ZXlEYXRhU291cmNlRGF0YShzdGF0ZTogQ2FtcGFpZ25TdGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uKTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSB7XHJcblx0XHRpZiAoIXN0YXRlIHx8ICFkZWZpbml0aW9uIHx8ICFkZWZpbml0aW9uLnN1cnZleVRlbXBsYXRlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1cnZleU1vZGVsID0gZGVmaW5pdGlvbi5zdXJ2ZXlUZW1wbGF0ZTtcclxuXHRcdGNvbnN0IHN1cnZleURhdGEgPSBuZXcgU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSgpO1xyXG5cdFx0c3VydmV5RGF0YS5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZUV2ZW50KHN0YXRlLCBzdXJ2ZXlNb2RlbC5hY3RpdmF0aW9uRXZlbnQpO1xyXG5cdFx0c3VydmV5RGF0YS5tZXRhZGF0YSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlTWV0YWRhdGEoc3VydmV5TW9kZWwubWV0YWRhdGEpO1xyXG5cdFx0c3VydmV5RGF0YS5pZCA9IHN0YXRlLkxhc3RTdXJ2ZXlJZDtcclxuXHRcdHN1cnZleURhdGEuYmFja0VuZElkZW50aWZpZXIgPSBzdGF0ZS5DYW1wYWlnbklkO1xyXG5cdFx0c3VydmV5RGF0YS5leHBpcmF0aW9uVGltZVV0YyA9IGRhdGVUb1Nob3J0VXRjU3RyaW5nKHN0YXRlLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHRzdXJ2ZXlEYXRhLmdvdmVybmVkQ2hhbm5lbFR5cGUgPSBkZWZpbml0aW9uLmdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0XHRzdXJ2ZXlEYXRhLnN0YXJ0VGltZVV0YyA9IGRhdGVUb1Nob3J0VXRjU3RyaW5nKHN0YXRlLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpO1xyXG5cdFx0c3VydmV5RGF0YS5hZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCA9IGRlZmluaXRpb24uYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgIHx8IFtdO1xyXG5cdFx0c3VydmV5RGF0YS5sYXVuY2hlclR5cGUgPSBkZWZpbml0aW9uLmxhdW5jaGVyVHlwZSB8fCBJU3VydmV5LkxBVU5DSEVSX1RZUEVfREVGQVVMVDtcclxuXHRcdHN1cnZleURhdGEucHJlZmVycmVkTGF1bmNoVHlwZSA9IGRlZmluaXRpb24uc3VydmV5VGVtcGxhdGUucHJlZmVycmVkTGF1bmNoVHlwZSB8fCBJU3VydmV5SW5mby5MYXVuY2hUeXBlLkRlZmF1bHQ7XHJcblx0XHRzdXJ2ZXlEYXRhLmJ1c2luZXNzTGV2ZWwgPSBkZWZpbml0aW9uLmJ1c2luZXNzTGV2ZWw7XHJcblxyXG5cdFx0aWYgKCFpc05PVShzdXJ2ZXlNb2RlbC5tYXhMYXVuY2hlcykpIHtcclxuXHRcdFx0c3VydmV5RGF0YS5tYXhMYXVuY2hlcyA9IHN1cnZleU1vZGVsLm1heExhdW5jaGVzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOT1Uoc3VydmV5TW9kZWwubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSkge1xyXG5cdFx0XHRzdXJ2ZXlEYXRhLm1heExhdW5jaGVzUGVyU2Vzc2lvbiA9IHN1cnZleU1vZGVsLm1heExhdW5jaGVzUGVyU2Vzc2lvbjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3VydmV5RGF0YTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VDb3VudGVkQWN0aXZpdHlFdmVudERhdGEoZXZlbnRNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSk6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSB7XHJcblx0XHRpZiAoIWV2ZW50TW9kZWwpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZXZlbnREYXRhID0gbmV3IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSgpO1xyXG5cdFx0ZXZlbnREYXRhLmFjdGl2aXR5ID0gZXZlbnRNb2RlbC5hY3Rpdml0eTtcclxuXHRcdGV2ZW50RGF0YS5jb3VudCA9IGV2ZW50TW9kZWwuY291bnQ7XHJcblx0XHRldmVudERhdGEuaXNBZ2dyZWdhdGUgPSBldmVudE1vZGVsLmlzQWdncmVnYXRlO1xyXG5cclxuXHRcdHJldHVybiBldmVudERhdGE7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBtYWtlQ291bnRlZEFjdGl2aXR5RXZlbnQoc3RhdGU6IENhbXBhaWduU3RhdGUsIGV2ZW50TW9kZWw6IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkpOiBJQ291bnRlZEFjdGl2aXR5RXZlbnQge1xyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZXZlbnRNb2RlbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBldmVudERhdGE6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhKGV2ZW50TW9kZWwpO1xyXG5cdFx0aWYgKCFldmVudERhdGEpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBDb3VudGVkQWN0aXZpdHlFdmVudChldmVudERhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZUNvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQoc3RhdGU6IENhbXBhaWduU3RhdGUsXHJcblx0XHRldmVudE1vZGVsOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UpOiBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCB7XHJcblxyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZXZlbnRNb2RlbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzZXF1ZW5jZUV2ZW50RGF0YSA9IG5ldyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSgpO1xyXG5cdFx0c2VxdWVuY2VFdmVudERhdGEuc2VxdWVuY2UgPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50TW9kZWwuc2VxdWVuY2UpIHtcclxuXHRcdFx0Y29uc3QgZXZlbnREYXRhOiBDb3VudGVkQWN0aXZpdHlFdmVudERhdGEgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZUNvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YShldmVudCk7XHJcblx0XHRcdGlmICghZXZlbnREYXRhKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlcXVlbmNlRXZlbnREYXRhLnNlcXVlbmNlLnB1c2goZXZlbnREYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IENvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQoc2VxdWVuY2VFdmVudERhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZUV2ZW50KHN0YXRlOiBDYW1wYWlnblN0YXRlLCBldmVudE1vZGVsOiBDYW1wYWlnblN1cnZleUV2ZW50KTogSVN1cnZleUV2ZW50IHtcclxuXHRcdGlmIChldmVudE1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSkge1xyXG5cdFx0XHRyZXR1cm4gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VDb3VudGVkQWN0aXZpdHlFdmVudChzdGF0ZSwgZXZlbnRNb2RlbCBhcyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5KTtcclxuXHRcdH0gZWxzZSBpZiAoZXZlbnRNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSkge1xyXG5cdFx0XHRyZXR1cm4gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50KHN0YXRlLCBldmVudE1vZGVsIGFzIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VNZXRhZGF0YShtZXRhZGF0YU1vZGVsOiBDYW1wYWlnblN1cnZleU1ldGFkYXRhKTogSVN1cnZleU1ldGFkYXRhIHtcclxuXHRcdGlmIChpc05PVShtZXRhZGF0YU1vZGVsKSB8fCBpc05PVShtZXRhZGF0YU1vZGVsLmNvbnRlbnRNZXRhZGF0YSkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbWV0YWRhdGEgPSBuZXcgTWV0YWRhdGEoKTtcclxuXHRcdG1ldGFkYXRhLmNvbnRlbnRNZXRhZGF0YSA9IG1ldGFkYXRhTW9kZWwuY29udGVudE1ldGFkYXRhO1xyXG5cclxuXHRcdHJldHVybiBuZXcgU3VydmV5TWV0YWRhdGEobWV0YWRhdGEpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Constants.js":
/*!**********************************************!*\
  !*** ../FloodgateCore/dist/src/Constants.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Constants.ts\n *\n * A module for all the constants.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryEvent = void 0;\n/**\n * Telemetry events\n */\nvar TelemetryEvent = /** @class */ (function () {\n    function TelemetryEvent() {\n    }\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11;\n    TelemetryEvent.CampaignState = (_a = /** @class */ (function () {\n            function class_1() {\n            }\n            return class_1;\n        }()),\n        _a.Deserialize = (_b = /** @class */ (function () {\n                function class_2() {\n                }\n                return class_2;\n            }()),\n            _b.Failed = \"FloodgateCore_CampaignState_Deserialize_Failed\",\n            _b),\n        _a);\n    TelemetryEvent.FileBasedCampaignStateProvider = (_c = /** @class */ (function () {\n            function class_3() {\n            }\n            return class_3;\n        }()),\n        _c.Load = (_d = /** @class */ (function () {\n                function class_4() {\n                }\n                return class_4;\n            }()),\n            _d.Failed = \"FloodgateCore_FileBasedCampaignStateProvider_Load_Failed\",\n            _d),\n        _c);\n    TelemetryEvent.HostBasedCampaignStateProvider = (_e = /** @class */ (function () {\n            function class_5() {\n            }\n            return class_5;\n        }()),\n        _e.GetStatesFromHost = (_f = /** @class */ (function () {\n                function class_6() {\n                }\n                return class_6;\n            }()),\n            _f.Failed = \"FloodgateCore_HostBasedCampaignStateProvider_GetStatesFromHost_Failed\",\n            _f),\n        _e);\n    TelemetryEvent.Floodgate = (_g = /** @class */ (function () {\n            function class_7() {\n            }\n            return class_7;\n        }()),\n        _g.Initialize = (_h = /** @class */ (function () {\n                function class_8() {\n                }\n                return class_8;\n            }()),\n            _h.Failed = \"FloodgateCore_Floodgate_Initialize_Failed\",\n            _h),\n        _g.Start = (_j = /** @class */ (function () {\n                function class_9() {\n                }\n                return class_9;\n            }()),\n            _j.Failed = \"FloodgateCore_Floodgate_Start_Failed\",\n            _j.Warning = \"FloodgateCore_Floodgate_Start_Warning\",\n            _j.SurveysDisabled = \"FloodgateCore_Floodgate_Start_SurveysDisabled\",\n            _j),\n        _g.UserFactsLoad = (_k = /** @class */ (function () {\n                function class_10() {\n                }\n                return class_10;\n            }()),\n            _k.Failed = \"FloodgateCore_Floodgate_UserFactsLoad_Failed\",\n            _k),\n        _g.UserFactsSpecDeserialization = (_l = /** @class */ (function () {\n                function class_11() {\n                }\n                return class_11;\n            }()),\n            _l.Failed = \"FloodgateCore_Floodgate_UserFactsSpecDeserialization_Failed\",\n            _l),\n        _g.UserFactsSpecIsAMatch = (_m = /** @class */ (function () {\n                function class_12() {\n                }\n                return class_12;\n            }()),\n            _m.Failed = \"FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Failed\",\n            _m.Mismatch = \"FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Mismatch\",\n            _m.Summary = \"FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Summary\",\n            _m),\n        _g);\n    TelemetryEvent.FloodgateEngine = (_o = /** @class */ (function () {\n            function class_13() {\n            }\n            return class_13;\n        }()),\n        _o.Make = (_p = /** @class */ (function () {\n                function class_14() {\n                }\n                return class_14;\n            }()),\n            _p.Failed = \"FloodgateCore_FloodgateEngine_Make_Failed\",\n            _p),\n        _o.Common = (_q = /** @class */ (function () {\n                function class_15() {\n                }\n                return class_15;\n            }()),\n            _q.Error = \"FloodgateCore_FloodgateEngine_Common_Error\",\n            _q),\n        _o.Start = (_r = /** @class */ (function () {\n                function class_16() {\n                }\n                return class_16;\n            }()),\n            _r.Failed = \"FloodgateCore_FloodgateEngine_Start_Failed\",\n            _r),\n        _o.StartAsync = (_s = /** @class */ (function () {\n                function class_17() {\n                }\n                return class_17;\n            }()),\n            _s.Failed = \"FloodgateCore_FloodgateEngine_StartAsync_Failed\",\n            _s.Stopped = \"FloodgateCore_FloodgateEngine_StartAsync_Stopped\",\n            _s),\n        _o.OnSurveyActivated = (_t = /** @class */ (function () {\n                function class_18() {\n                }\n                return class_18;\n            }()),\n            _t.ActivationStatsSuppressedSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationStatsSuppressedSurvey\",\n            _t.ClosedChannelType = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ClosedChannelType\",\n            _t.SurveyNotDefined = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_SurveyNotDefined\",\n            _t.SessionSuppressedSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_SessionSuppressedSurvey\",\n            _t.ActivationExpiredSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationExpiredSurvey\",\n            _t.ActivationIrrelevantSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationIrrelevantSurvey\",\n            _t.Error = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_Error\",\n            _t),\n        _o.CheckGovernanceServiceAndActivateSurvey = (_u = /** @class */ (function () {\n                function class_19() {\n                }\n                return class_19;\n            }()),\n            _u.GovernanceServiceForceToDisplay = \"FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceForceToDisplay\",\n            _u.GovernanceServiceClientCompleted = \"FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceClientCompleted\",\n            _u),\n        _o);\n    TelemetryEvent.GovernedChannelState = (_v = /** @class */ (function () {\n            function class_20() {\n            }\n            return class_20;\n        }()),\n        _v.Deserialize = (_w = /** @class */ (function () {\n                function class_21() {\n                }\n                return class_21;\n            }()),\n            _w.Failed = \"FloodgateCore_GovernedChannelState_Deserialize_Failed\",\n            _w),\n        _v);\n    TelemetryEvent.FileBasedGovernedChannelStateProvider = (_x = /** @class */ (function () {\n            function class_22() {\n            }\n            return class_22;\n        }()),\n        _x.Load = (_y = /** @class */ (function () {\n                function class_23() {\n                }\n                return class_23;\n            }()),\n            _y.Failed = \"FloodgateCore_FileBasedGovernedChannelStateProvider_Load_Failed\",\n            _y),\n        _x);\n    TelemetryEvent.HostBasedGovernedChannelStateProvider = (_z = /** @class */ (function () {\n            function class_24() {\n            }\n            return class_24;\n        }()),\n        _z.GetStatesFromHost = (_0 = /** @class */ (function () {\n                function class_25() {\n                }\n                return class_25;\n            }()),\n            _0.Failed = \"FloodgateCore_HostBasedGovernedChannelStateProvider_GetStatesFromHost_Failed\",\n            _0),\n        _z);\n    TelemetryEvent.SurveyStatCollectionActivation = (_1 = /** @class */ (function () {\n            function class_26() {\n            }\n            return class_26;\n        }()),\n        _1.FromJson = (_2 = /** @class */ (function () {\n                function class_27() {\n                }\n                return class_27;\n            }()),\n            _2.Failed = \"FloodgateCore_SurveyStatCollectionActivation_FromJson_Failed\",\n            _2),\n        _1.ToJson = (_3 = /** @class */ (function () {\n                function class_28() {\n                }\n                return class_28;\n            }()),\n            _3.Failed = \"FloodgateCore_SurveyStatCollectionActivation_ToJson_Failed\",\n            _3),\n        _1);\n    TelemetryEvent.HostBasedSurveyActivationStatsProvider = (_4 = /** @class */ (function () {\n            function class_29() {\n            }\n            return class_29;\n        }()),\n        _4.GetSurveyStatsFromHost = (_5 = /** @class */ (function () {\n                function class_30() {\n                }\n                return class_30;\n            }()),\n            _5.Failed = \"FloodgateCore_HostBasedSurveyActivationStatsProvider_GetSurveyStatsFromHost_Failed\",\n            _5),\n        _4);\n    TelemetryEvent.SurveyStatCollectionEventActivity = (_6 = /** @class */ (function () {\n            function class_31() {\n            }\n            return class_31;\n        }()),\n        _6.FromJson = (_7 = /** @class */ (function () {\n                function class_32() {\n                }\n                return class_32;\n            }()),\n            _7.Failed = \"FloodgateCore_SurveyStatCollectionEventActivity_FromJson_Failed\",\n            _7),\n        _6.ToJson = (_8 = /** @class */ (function () {\n                function class_33() {\n                }\n                return class_33;\n            }()),\n            _8.Failed = \"FloodgateCore_SurveyStatCollectionEventActivity_ToJson_Failed\",\n            _8),\n        _6);\n    TelemetryEvent.SurveyActivity = (_9 = /** @class */ (function () {\n            function class_34() {\n            }\n            return class_34;\n        }()),\n        _9.LogActivity = (_10 = /** @class */ (function () {\n                function class_35() {\n                }\n                return class_35;\n            }()),\n            _10.EventsReprocessed = \"FloodgateCore_SurveyActivity_LogActivity_EventsReprocessed\",\n            _10.SurveysReprocessed = \"FloodgateCore_SurveyActivity_LogActivity_SurveysReprocessed\",\n            _10),\n        _9.SetActivityTrackingContracts = (_11 = /** @class */ (function () {\n                function class_36() {\n                }\n                return class_36;\n            }()),\n            _11.DuplicateSurveyID = \"FloodgateCore_SurveyActivity_SetActivityTrackingContracts_DuplicateSurveyID\",\n            _11),\n        _9);\n    return TelemetryEvent;\n}());\nexports.TelemetryEvent = TelemetryEvent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NvbnN0YW50cy50cz8wNjEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7QUFFSDs7R0FFRztBQUNIO0lBQUE7SUFxSUEsQ0FBQzs7SUFwSWMsNEJBQWE7WUFBRztZQUk5QixDQUFDO1lBQUQsY0FBQztRQUFELENBQUM7UUFIYyxjQUFXO2dCQUFHO2dCQUU1QixDQUFDO2dCQUFELGNBQUM7WUFBRCxDQUFDO1lBRGMsU0FBTSxHQUFXLGdEQUFpRDtlQUMvRTtZQUNEO0lBRVksNkNBQThCO1lBQUc7WUFJL0MsQ0FBQztZQUFELGNBQUM7UUFBRCxDQUFDO1FBSGMsT0FBSTtnQkFBRztnQkFFckIsQ0FBQztnQkFBRCxjQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVywwREFBMkQ7ZUFDekY7WUFDRDtJQUVZLDZDQUE4QjtZQUFHO1lBSS9DLENBQUM7WUFBRCxjQUFDO1FBQUQsQ0FBQztRQUhjLG9CQUFpQjtnQkFBRztnQkFFbEMsQ0FBQztnQkFBRCxjQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVyx1RUFBd0U7ZUFDdEc7WUFDRDtJQUVZLHdCQUFTO1lBQUc7WUF3QjFCLENBQUM7WUFBRCxjQUFDO1FBQUQsQ0FBQztRQXZCYyxhQUFVO2dCQUFHO2dCQUUzQixDQUFDO2dCQUFELGNBQUM7WUFBRCxDQUFDO1lBRGMsU0FBTSxHQUFXLDJDQUE0QztlQUMxRTtRQUVZLFFBQUs7Z0JBQUc7Z0JBSXRCLENBQUM7Z0JBQUQsY0FBQztZQUFELENBQUM7WUFIYyxTQUFNLEdBQVcsc0NBQXVDO1lBQ3hELFVBQU8sR0FBVyx1Q0FBd0M7WUFDMUQsa0JBQWUsR0FBVywrQ0FBZ0Q7ZUFDdkY7UUFFWSxnQkFBYTtnQkFBRztnQkFFOUIsQ0FBQztnQkFBRCxlQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVyw4Q0FBK0M7ZUFDN0U7UUFFWSwrQkFBNEI7Z0JBQUc7Z0JBRTdDLENBQUM7Z0JBQUQsZUFBQztZQUFELENB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LCtEQUFnRTtlQUM5RjtZQUNEO0lBRVksNkJBQWM7WUFBRztZQVMvQixDQUFDO1lBQUQsZUFBQztRQUFELENBQUM7UUFSYyxjQUFXO2dCQUFHO2dCQUc1QixDQUFDO2dCQUFELGVBQUM7WUFBRCxDQUFDO1lBRmMscUJBQWlCLEdBQVcsNERBQTZEO1lBQ3pGLHNCQUFrQixHQUFXLDZEQUE4RDtnQkFDeEc7UUFFWSwrQkFBNEI7Z0JBQUc7Z0JBRTdDLENBQUM7Z0JBQUQsZUFBQztZQUFELENBQUM7WUFEYyxxQkFBaUIsR0FBVyw2RUFBOEU7Z0JBQ3ZIO1lBQ0Q7SUFDSCxxQkFBQztDQUFBO0FBcklZLHdDQUFjIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ29uc3RhbnRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYWxsIHRoZSBjb25zdGFudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFRlbGVtZXRyeSBldmVudHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZWxlbWV0cnlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBDYW1wYWlnblN0YXRlID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBEZXNlcmlhbGl6ZSA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9DYW1wYWlnblN0YXRlX0Rlc2VyaWFsaXplX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZpbGVCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlciA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTG9hZCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXJfTG9hZF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBIb3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN0YXRlc0Zyb21Ib3N0ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0hvc3RCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcl9HZXRTdGF0ZXNGcm9tSG9zdF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBGbG9vZGdhdGUgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEluaXRpYWxpemUgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX0luaXRpYWxpemVfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU3RhcnQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX1N0YXJ0X0ZhaWxlZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFdhcm5pbmc6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVfU3RhcnRfV2FybmluZ1wiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleXNEaXNhYmxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9TdGFydF9TdXJ2ZXlzRGlzYWJsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBVc2VyRmFjdHNMb2FkID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNMb2FkX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX1VzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgVXNlckZhY3RzU3BlY0lzQU1hdGNoID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNTcGVjSXNBTWF0Y2hfRmFpbGVkXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgTWlzbWF0Y2g6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVfVXNlckZhY3RzU3BlY0lzQU1hdGNoX01pc21hdGNoXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgU3VtbWFyeTogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNTcGVjSXNBTWF0Y2hfU3VtbWFyeVwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZsb29kZ2F0ZUVuZ2luZSA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTWFrZSA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfTWFrZV9GYWlsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBDb21tb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3I6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfQ29tbW9uX0Vycm9yXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU3RhcnQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX1N0YXJ0X0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFN0YXJ0QXN5bmMgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX1N0YXJ0QXN5bmNfRmFpbGVkXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgU3RvcHBlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9TdGFydEFzeW5jX1N0b3BwZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBPblN1cnZleUFjdGl2YXRlZCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBBY3RpdmF0aW9uU3RhdHNTdXBwcmVzc2VkU3VydmV5OiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX0FjdGl2YXRpb25TdGF0c1N1cHByZXNzZWRTdXJ2ZXlcIjtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBDbG9zZWRDaGFubmVsVHlwZTogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9PblN1cnZleUFjdGl2YXRlZF9DbG9zZWRDaGFubmVsVHlwZVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleU5vdERlZmluZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfT25TdXJ2ZXlBY3RpdmF0ZWRfU3VydmV5Tm90RGVmaW5lZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFNlc3Npb25TdXBwcmVzc2VkU3VydmV5OiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX1Nlc3Npb25TdXBwcmVzc2VkU3VydmV5XCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgQWN0aXZhdGlvbkV4cGlyZWRTdXJ2ZXk6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfT25TdXJ2ZXlBY3RpdmF0ZWRfQWN0aXZhdGlvbkV4cGlyZWRTdXJ2ZXlcIjtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBBY3RpdmF0aW9uSXJyZWxldmFudFN1cnZleTogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9PblN1cnZleUFjdGl2YXRlZF9BY3RpdmF0aW9uSXJyZWxldmFudFN1cnZleVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEVycm9yOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX0Vycm9yXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgQ2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEdvdmVybmFuY2VTZXJ2aWNlRm9yY2VUb0Rpc3BsYXk6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfR292ZXJuYW5jZVNlcnZpY2VfR292ZXJuYW5jZVNlcnZpY2VGb3JjZVRvRGlzcGxheVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50Q29tcGxldGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX0dvdmVybmFuY2VTZXJ2aWNlX0dvdmVybmFuY2VTZXJ2aWNlQ2xpZW50Q29tcGxldGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgR292ZXJuZWRDaGFubmVsU3RhdGUgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIERlc2VyaWFsaXplID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0dvdmVybmVkQ2hhbm5lbFN0YXRlX0Rlc2VyaWFsaXplX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZpbGVCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIExvYWQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmlsZUJhc2VkR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcl9Mb2FkX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN0YXRlc0Zyb21Ib3N0ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0hvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJfR2V0U3RhdGVzRnJvbUhvc3RfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBGcm9tSnNvbiA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25fRnJvbUpzb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgVG9Kc29uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbl9Ub0pzb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN1cnZleVN0YXRzRnJvbUhvc3QgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJfR2V0U3VydmV5U3RhdHNGcm9tSG9zdF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEZyb21Kc29uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eV9Gcm9tSnNvbl9GYWlsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBUb0pzb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5X1RvSnNvbl9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdXJ2ZXlBY3Rpdml0eSA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTG9nQWN0aXZpdHkgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXZlbnRzUmVwcm9jZXNzZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlBY3Rpdml0eV9Mb2dBY3Rpdml0eV9FdmVudHNSZXByb2Nlc3NlZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleXNSZXByb2Nlc3NlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleUFjdGl2aXR5X0xvZ0FjdGl2aXR5X1N1cnZleXNSZXByb2Nlc3NlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFNldEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRHVwbGljYXRlU3VydmV5SUQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlBY3Rpdml0eV9TZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzX0R1cGxpY2F0ZVN1cnZleUlEXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Constants.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/FloodgateEngine.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/FloodgateEngine.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FloodgateEngine = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./Campaign/CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nvar CampaignManager_1 = __webpack_require__(/*! ./Campaign/CampaignManager */ \"../FloodgateCore/dist/src/Campaign/CampaignManager.js\");\nvar CampaignStateProvider_1 = __webpack_require__(/*! ./Campaign/CampaignStateProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateSettings_1 = __webpack_require__(/*! ./FloodgateSettings */ \"../FloodgateCore/dist/src/FloodgateSettings.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar GovernedChannelStateProvider_1 = __webpack_require__(/*! ./GovernedChannelStateProvider */ \"../FloodgateCore/dist/src/GovernedChannelStateProvider.js\");\nvar Governor_1 = __webpack_require__(/*! ./Governor */ \"../FloodgateCore/dist/src/Governor.js\");\nvar SurveyActivityListener = __webpack_require__(/*! ./SurveyActivityListener */ \"../FloodgateCore/dist/src/SurveyActivityListener.js\");\nvar SurveyStatCollectionActivation_1 = __webpack_require__(/*! ./SurveyStatCollectionActivation */ \"../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\");\nvar SurveyStatCollectionEventActivity_1 = __webpack_require__(/*! ./SurveyStatCollectionEventActivity */ \"../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar ActivityTrackingContract_1 = __webpack_require__(/*! ./ActivityTrackingContract */ \"../FloodgateCore/dist/src/ActivityTrackingContract.js\");\nvar GovernanceUtils_1 = __webpack_require__(/*! ./GovernanceUtils */ \"../FloodgateCore/dist/src/GovernanceUtils.js\");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n// Telemetry logger with no-op logger\nvar DefaultFloodgateTelemetryLogger = /** @class */ (function () {\n    function DefaultFloodgateTelemetryLogger() {\n    }\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_TriggerMet = function (campaignId, surveyId, surveyType, surveyActivityInfo, additionalSurveyInfo) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_UserSelected = function (campaignId, surveyId, surveyType, additionalSurveyInfo) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_CampaignLoad_Failed = function (errorMessage) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_Error = function (eventId, errorMessage) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_Event = function (eventId, properties) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_LocalError = function (message) {\n        var data = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            data[_i - 1] = arguments[_i];\n        }\n    };\n    return DefaultFloodgateTelemetryLogger;\n}());\nvar defaultSurveyActivityListener = {\n    run: function (survey) {\n    },\n    shouldAcceptActivity: function (activityName) {\n        return true;\n    },\n};\nvar globalSessionSurveyActivationCounts = {};\n/**\n * Floodgate Engine class.  The main wiring hub and the brains responsible for\n * linking together the survey definitions, governance, activity tracking, and\n * survey launchers.  Only one-instance-at-a-time of these should be created\n * per app session.\n */\nvar FloodgateEngine = /** @class */ (function () {\n    function FloodgateEngine(surveyClient, activityListener, launcherFactory, onSurveyActivatedCallback, storage, governor, surveyActivationStatsProvider, transporterFactory, governanceServiceClient) {\n        this.initializationStatus = 0 /* None */;\n        this.candidateSurveys = {};\n        this.launchedSurveys = {};\n        this.launchedLaunchers = [];\n        this.surveyEventSent = [];\n        this.staleTriggeredSurveysQueue = [];\n        if (!surveyClient) {\n            throw new Error(\"surveyClient must not be null\");\n        }\n        if (!activityListener) {\n            throw new Error(\"activityListener must not be null\");\n        }\n        if (!launcherFactory) {\n            throw new Error(\"launcherFactory must not be null\");\n        }\n        if (!onSurveyActivatedCallback) {\n            throw new Error(\"onSurveyActivatedCallback must not be null\");\n        }\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        if (!governor) {\n            throw new Error(\"governor must not be null\");\n        }\n        if (!transporterFactory) {\n            throw new Error(\"transporterFactory must not be null\");\n        }\n        this.surveyClient = surveyClient;\n        this.activityListener = activityListener;\n        this.launcherFactory = launcherFactory;\n        this.onSurveyActivatedCallback = onSurveyActivatedCallback;\n        this.storage = storage;\n        this.governor = governor;\n        this.surveyActivationStatsProvider = surveyActivationStatsProvider;\n        this.governanceServiceClient = governanceServiceClient;\n        FloodgateEngine.transporterFactory = transporterFactory;\n        this.loggedFirstStart = false;\n        // Initialize our list to a valid, empty collection\n        this.setPendingSurveys(null);\n        // If the listener was pre-configured with survey for some reason, clear it now\n        this.activityListener.clearSurveys();\n        // Link ourselves with the listener\n        var thisObj = this; // Save current object in a variable to allow access from callback.\n        this.activityListener.setCallback({\n            run: function (surveyId, contextInfo) {\n                thisObj.onSurveyActivated(surveyId, contextInfo);\n            },\n            shouldAcceptActivity: function (activityName) {\n                return thisObj.shouldAcceptActivity(activityName);\n            },\n        });\n    }\n    FloodgateEngine.setTelemetryLogger = function (telemetryLogger) {\n        if (!telemetryLogger) {\n            throw new Error(\"telemetryLogger must not be null\");\n        }\n        FloodgateEngine.telemetryLogger = telemetryLogger;\n    };\n    FloodgateEngine.getTelemetryLogger = function () {\n        return FloodgateEngine.telemetryLogger;\n    };\n    FloodgateEngine.getTransportFactory = function () {\n        return FloodgateEngine.transporterFactory;\n    };\n    FloodgateEngine.make = function (buildVersion, launcherFactory, onSurveyActivatedCallback, fileBasedStorageProvider, hostBasedStorageProvider, stringProvider, environmentProvider, transporterFactory, campaignDefinitionProviders, userFactsProvider, governanceServiceClient) {\n        try {\n            var governedChannelStateProvider = GovernedChannelStateProvider_1.GovernedChannelStateProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            var surveyActivationStatsProvider = SurveyStatCollectionActivation_1.SurveyActivationStatsProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            var campaignStateProvider = CampaignStateProvider_1.CampaignStateProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            campaignDefinitionProviders.push(new CampaignDefinitionProvider_1.FileSystemCampaignDefinitionProvider(fileBasedStorageProvider));\n            return new FloodgateEngine(new CampaignManager_1.CampaignManager(campaignStateProvider, campaignDefinitionProviders, stringProvider, environmentProvider, buildVersion, new Date(), userFactsProvider), new SurveyActivityListener(defaultSurveyActivityListener, this.getTelemetryLogger), launcherFactory, onSurveyActivatedCallback, fileBasedStorageProvider, new Governor_1.Governor(governedChannelStateProvider), surveyActivationStatsProvider, transporterFactory, governanceServiceClient);\n        }\n        catch (e) {\n            this.telemetryLogger.log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Make.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n        }\n    };\n    /**\n     * Save all internal stats and floodgateSettings (merging with existing file contents), without stopping the engine.\n     */\n    FloodgateEngine.prototype.mergeAndSave = function () {\n        this.saveSettings();\n        this.saveSurveyActivationHistory();\n        this.saveSurveyEventActivityHistory();\n        // Inform surveyClient to save its state\n        this.surveyClient.saveCurrentState();\n        // Save governed channel states\n        this.governor.saveChannelStates();\n    };\n    /**\n     * Start the engine.  Checks feature enable state, causes survey definitions to be read, and tracked activities to be set on the listener.\n     */\n    FloodgateEngine.prototype.start = function () {\n        if (this.initializationStatus === 2 /* Initializing */ ||\n            this.initializationStatus === 3 /* Started */) {\n            return;\n        }\n        try {\n            this.setInitializationStatus(2 /* Initializing */);\n            this.loadSettingsAndPriorEventCounts();\n            var channelTypes = this.getAvailableChannelTypes();\n            this.surveyClient.refreshSurveyDefinitions(channelTypes);\n            this.setPendingSurveysAndStartFloodgate();\n            this.setInitializationStatus(3 /* Started */);\n        }\n        catch (e) {\n            this.setInitializationStatus(1 /* Error */);\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Start.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n        }\n    };\n    /**\n     * Start the engine.  Checks feature enable state, causes survey definitions to be read, and tracked activities to be set on the listener.\n     */\n    FloodgateEngine.prototype.startAsync = function () {\n        if (this.initializationStatus === 2 /* Initializing */ ||\n            this.initializationStatus === 3 /* Started */) {\n            return Promise.resolve();\n        }\n        try {\n            this.setInitializationStatus(2 /* Initializing */);\n            this.loadSettingsAndPriorEventCounts();\n            var channelTypes_1 = this.getAvailableChannelTypes();\n            var thisFloodgateEngine_1 = this;\n            return new Promise(function (resolve, reject) {\n                thisFloodgateEngine_1.surveyClient.refreshSurveyDefinitionsAsync(channelTypes_1).then(function onFulfilled() {\n                    // Handle any stop() calls that happened while initializing\n                    if (thisFloodgateEngine_1.initializationStatus === 4 /* Stopped */) {\n                        thisFloodgateEngine_1.setInitializationStatus(3 /* Started */);\n                        thisFloodgateEngine_1.stop();\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Stopped, { ErrorMessage: \"Stopped because of a pending stop() call\" });\n                    }\n                    else {\n                        thisFloodgateEngine_1.setPendingSurveysAndStartFloodgate();\n                    }\n                    resolve();\n                }).catch(function OnRejected(error) {\n                    thisFloodgateEngine_1.setInitializationStatus(1 /* Error */);\n                    FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Failed, { ErrorMessage: \"Survey refresh error \" + (error && error.message) });\n                    reject(error);\n                });\n            });\n        }\n        catch (e) {\n            this.setInitializationStatus(1 /* Error */);\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n            return Promise.resolve();\n        }\n    };\n    /**\n     * Stop the engine.  Causes tracked activities to be cleared and any in-progress counters not otherwise saved to be thrown out.\n     */\n    FloodgateEngine.prototype.stop = function () {\n        if (this.initializationStatus === 3 /* Started */) {\n            this.mergeAndSave();\n            // Clear our Survey list, and push that through to the listener\n            this.setPendingSurveys(null);\n            this.updateActivityListenerWithCurrentSurveyDefinitions();\n        }\n        this.setInitializationStatus(4 /* Stopped */);\n    };\n    /**\n     * Gets the IActivityListener logging interface for callers that want to log directly rather than through telemetry\n     */\n    FloodgateEngine.prototype.getActivityListener = function () {\n        return this.activityListener;\n    };\n    FloodgateEngine.prototype.setInitializationStatus = function (status) {\n        this.initializationStatus = status;\n    };\n    FloodgateEngine.prototype.saveSettings = function () {\n        this.storage.fileLock(FileType.FloodgateSettings);\n        try {\n            this.writeString(FileType.FloodgateSettings, FloodgateSettings_1.FloodgateSettings.toJson(this.floodgateSettings));\n        }\n        finally {\n            this.storage.fileUnlock(FileType.FloodgateSettings);\n        }\n    };\n    FloodgateEngine.prototype.loadSettingsAndPriorEventCounts = function () {\n        try {\n            // Load up the prior survey history and prior event counts\n            this.previousSurveyActivationStats = this.surveyActivationStatsProvider.load();\n            this.previousSurveyEventActivityStats =\n                SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.fromJson(this.readString(FileType.SurveyEventActivityStats));\n            // get the list of survey Id - all the survey should have event sent already\n            var stats = this.previousSurveyEventActivityStats.getStats();\n            for (var key in stats) {\n                if (stats.hasOwnProperty(key)) {\n                    this.surveyEventSent.push(key);\n                }\n            }\n            // Load up the general floodgateSettings\n            this.floodgateSettings = FloodgateSettings_1.FloodgateSettings.fromJson(this.readString(FileType.FloodgateSettings));\n        }\n        catch (e) {\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Common.Error, { ErrorMessage: \"Error loading prior settings/events \" + (e && e.toString()) });\n        }\n    };\n    FloodgateEngine.prototype.getAvailableChannelTypes = function () {\n        // Make sure we've loaded the current survey definitions\n        var channels = this.governor.getAvailableChannelData();\n        var channelTypes = [];\n        channels.forEach(function (channel) {\n            if (channel) {\n                channelTypes.push(channel.getType());\n            }\n        });\n        return channelTypes;\n    };\n    FloodgateEngine.prototype.setPendingSurveysAndStartFloodgate = function () {\n        // Update our survey list, and push that through to the listener\n        this.setPendingSurveys(this.surveyClient.getAppSurveys());\n        this.updateActivityListenerWithCurrentSurveyDefinitions();\n        // Mark us as started\n        this.setInitializationStatus(3 /* Started */);\n        // Log our first start (aka floodgate boot) event\n        if (!this.loggedFirstStart) {\n            this.loggedFirstStart = true;\n            this.getActivityListener().logActivity(SurveyActivityListener.FloodgateStartActivityName);\n        }\n    };\n    FloodgateEngine.prototype.updateSurveyActivationStats = function (survey) {\n        var surveyInfo = survey.getSurveyInfo();\n        var surveyId = surveyInfo.getId();\n        var stats = this.previousSurveyActivationStats.getStats()[surveyId] || new SurveyStatCollectionActivation_1.SurveyActivationStats();\n        stats.Type = survey.getType();\n        stats.ExpirationTimeUtc = surveyInfo.getExpirationTimeUtc();\n        stats.ActivationTimeUtc = new Date();\n        stats.SurveyLaunchCount++;\n        this.previousSurveyActivationStats.addStats(surveyId, stats);\n        // Save the SurveyLaunchCountPerSession into global memory but not local storage\n        // so it won't be overwritten in local storage by another app instance\n        if (!globalSessionSurveyActivationCounts.hasOwnProperty(surveyId)) {\n            globalSessionSurveyActivationCounts[surveyId] = 0;\n        }\n        globalSessionSurveyActivationCounts[surveyId]++;\n    };\n    FloodgateEngine.prototype.saveSurveyActivationHistory = function () {\n        this.storage.fileLock(FileType.SurveyActivationStats);\n        try {\n            var statCollection = this.surveyActivationStatsProvider.load();\n            var previousStats = this.previousSurveyActivationStats.getStats();\n            // Build the update collection\n            var updateCollection = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n            for (var key in this.launchedSurveys) {\n                if (this.launchedSurveys.hasOwnProperty(key)) {\n                    var survey = this.launchedSurveys[key];\n                    var surveyId = survey.getSurveyInfo().getId();\n                    // Make this part of the update list\n                    var stats = previousStats[surveyId];\n                    updateCollection.addStats(surveyId, stats);\n                }\n            }\n            // Actually merge our updates into the full collection\n            statCollection.accumulate(updateCollection);\n            this.surveyActivationStatsProvider.save(statCollection);\n            // Make sure to keep our internal collection consistent with what we just wrote\n            this.previousSurveyActivationStats = statCollection;\n        }\n        finally {\n            this.storage.fileUnlock(FileType.SurveyActivationStats);\n        }\n    };\n    FloodgateEngine.prototype.saveSurveyEventActivityHistory = function () {\n        this.storage.fileLock(FileType.SurveyEventActivityStats);\n        try {\n            var statCollection = SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.fromJson(this.readString(FileType.SurveyEventActivityStats));\n            var now = new Date();\n            // Fill out our list of updates\n            var updateCollection = new SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity();\n            var _loop_1 = function (key) {\n                if (this_1.candidateSurveys.hasOwnProperty(key)) {\n                    var stats = new SurveyStatCollectionEventActivity_1.SurveyEventActivityStats();\n                    var survey = this_1.candidateSurveys[key];\n                    if (!survey.getSurveyInfo().isActiveForDate(now)) {\n                        return \"continue\";\n                    }\n                    stats.ExpirationTimeUtc = survey.getSurveyInfo().getExpirationTimeUtc();\n                    // Get the activities which are aggregated, if there aren't any continue\n                    var allActivities = survey.getSurveyInfo().getActivationEvent().getTrackingSet();\n                    var aggregateActivities_1 = [];\n                    var nonAggregateActivities_2 = [];\n                    allActivities.getList().forEach(function (data) {\n                        if (data) {\n                            if (data.getIsAggregate()) {\n                                aggregateActivities_1.push(data.getActivity());\n                            }\n                            else {\n                                nonAggregateActivities_2.push(data.getActivity());\n                            }\n                        }\n                    });\n                    stats.Counts = new Array(aggregateActivities_1.length);\n                    // Save off the counts we've added for this session\n                    for (var i = 0; i < aggregateActivities_1.length; i++) {\n                        stats.Counts[i] = this_1.activityListener.moveSessionCountIntoBaseCount(aggregateActivities_1[i], survey.getSurveyInfo().getId());\n                    }\n                    for (var _i = 0, nonAggregateActivities_1 = nonAggregateActivities_2; _i < nonAggregateActivities_1.length; _i++) {\n                        var activity = nonAggregateActivities_1[_i];\n                        this_1.activityListener.saveSessionTrackingActivity(activity);\n                    }\n                    // Make this part of the update list\n                    updateCollection.addStats(survey.getSurveyInfo().getId(), stats);\n                }\n            };\n            var this_1 = this;\n            for (var key in this.candidateSurveys) {\n                _loop_1(key);\n            }\n            // Actually merge our updates into the full collection\n            statCollection.accumulate(updateCollection);\n            this.writeString(FileType.SurveyEventActivityStats, SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.toJson(statCollection));\n            // Make sure to keep our internal collection consistent with what we just wrote\n            this.previousSurveyEventActivityStats = statCollection;\n        }\n        finally {\n            this.storage.fileUnlock(FileType.SurveyEventActivityStats);\n        }\n    };\n    FloodgateEngine.prototype.setPendingSurveys = function (pendingSurveys) {\n        this.candidateSurveys = {};\n        if (pendingSurveys) {\n            for (var key in pendingSurveys) {\n                if (pendingSurveys.hasOwnProperty(key)) {\n                    var survey = pendingSurveys[key];\n                    if (this.launcherFactory.AcceptsSurvey(survey)) {\n                        this.candidateSurveys[key] = survey;\n                    }\n                }\n            }\n        }\n    };\n    FloodgateEngine.prototype.getCurrentSurveyDefinitions = function () {\n        var _this = this;\n        // Get a vector of Surveys from our id-based map\n        var surveyList = new Array();\n        var allCampaignDefinitionIDs = this.getAllCampaignDefinitionIDs();\n        var allCandidateCampaignDefinitionIDs = this.getAllCandidateCampaignDefinitionIDs();\n        // Get all the campaign definitions. We need info from these for telemetry.\n        var allCampaignDefinitions = this.surveyClient.getCampaignDefinitions();\n        var isSurveyAllowed = function (surveyInfo) {\n            // always allow business critical and approved campaigns\n            if (GovernanceUtils_1.isBusinessCriticalSurvey(surveyInfo)) {\n                return true;\n            }\n            var surveyActivationStats = _this.previousSurveyActivationStats.getBySurveyId(surveyInfo.getId());\n            if (GovernanceUtils_1.isMultiLaunchSurvey(surveyInfo) &&\n                !GovernanceUtils_1.hasSurveyReachedMaxLaunches(surveyInfo, surveyActivationStats) &&\n                !GovernanceUtils_1.hasSurveyReachedMaxLaunchesPerSession(surveyInfo, globalSessionSurveyActivationCounts)) {\n                return true;\n            }\n            // Skip over any candidate surveys that have been previously completed or not active anymore\n            if (surveyActivationStats || !surveyInfo.isActiveForDate(new Date())) {\n                return false;\n            }\n            return true;\n        };\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var survey = this.candidateSurveys[key];\n                var surveyInfo = survey.getSurveyInfo();\n                var campaignDefinition = allCampaignDefinitions[surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.getBackEndId()];\n                if (!campaignDefinition || !isSurveyAllowed(surveyInfo)) {\n                    continue;\n                }\n                // send the UserSelected event if it is not sent before\n                if (this.surveyEventSent.indexOf(key) < 0) {\n                    this.surveyEventSent.push(key);\n                    var additionalSurveyInfo = this.getAdditionalSurveyInfoForTelemetry(survey, null /* contextInfo */, allCampaignDefinitionIDs, allCandidateCampaignDefinitionIDs);\n                    FloodgateEngine.telemetryLogger.log_UserSelected(surveyInfo.getBackEndId(), surveyInfo.getId(), survey.getType(), JSON.stringify(additionalSurveyInfo));\n                }\n                surveyList.push(survey);\n            }\n        }\n        return surveyList;\n    };\n    FloodgateEngine.prototype.getAdditionalSurveyInfoForTelemetry = function (survey, contextInfo, allCampaignDefinitionIDs, allCandidateCampaignDefinitionIDs) {\n        // Get all the campaign definitions. We need info from these for telemetry.\n        var allCampaignDefinitions = this.surveyClient.getCampaignDefinitions();\n        // Get the corresponding campaign definition to the survey in question.\n        var correspondingCampaignDefinition = allCampaignDefinitions[survey.getCampaignId()];\n        // Survey properties to get from its corresponding CampaignDefinition:\n        var percentageNumerator;\n        var percentageDenominator;\n        var nominationPeriodNumber;\n        var cooldownPeriodNumber;\n        percentageNumerator = correspondingCampaignDefinition.nominationScheme.percentageNumerator;\n        percentageDenominator = correspondingCampaignDefinition.nominationScheme.percentageDenominator;\n        nominationPeriodNumber = correspondingCampaignDefinition.nominationScheme.nominationPeriod.asTimeIntervalSeconds();\n        nominationPeriodNumber = Utils_1.isNOU(nominationPeriodNumber) ? -1 : nominationPeriodNumber; // Setting to -1 if null or undefined\n        cooldownPeriodNumber = correspondingCampaignDefinition.nominationScheme.cooldownPeriod.asTimeIntervalSeconds();\n        cooldownPeriodNumber = Utils_1.isNOU(cooldownPeriodNumber) ? -1 : cooldownPeriodNumber; // Setting to -1 if null or undefined\n        var surveyInfo = survey.getSurveyInfo();\n        return {\n            allCampaignDefinitionIDs: allCampaignDefinitionIDs,\n            allCandidateCampaignDefinitionIDs: allCandidateCampaignDefinitionIDs,\n            channelType: surveyInfo.getGovernedChannelType(),\n            contextCount: contextInfo ? contextInfo.length : undefined,\n            cooldownPeriodNumber: cooldownPeriodNumber,\n            nominationPeriodNumber: nominationPeriodNumber,\n            percentageDenominator: percentageDenominator,\n            percentageNumerator: percentageNumerator,\n            surveyLauncherType: survey.getLauncherType(),\n            businessLevel: surveyInfo.getBusinessLevel(),\n            maxLaunches: surveyInfo.getMaxLaunches(),\n            maxLaunchesPerSession: surveyInfo.getMaxLaunchesPerSession(),\n        };\n    };\n    FloodgateEngine.prototype.getAllCandidateCampaignDefinitionIDs = function () {\n        var allCandidateCampaignDefinitionIDs = [];\n        // Get all the candidate surveys' campaign definition IDs\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var candidateSurvey = this.candidateSurveys[key];\n                allCandidateCampaignDefinitionIDs.push(candidateSurvey.getSurveyInfo().getBackEndId());\n            }\n        }\n        return allCandidateCampaignDefinitionIDs;\n    };\n    FloodgateEngine.prototype.getAllCampaignDefinitionIDs = function () {\n        var allCampaignDefinitions = this.surveyClient.getCampaignDefinitions();\n        var allCampaignDefinitionIDs = [];\n        for (var definitionsKey in allCampaignDefinitions) {\n            if (Object.prototype.hasOwnProperty.call(allCampaignDefinitions, definitionsKey)) {\n                var definition = allCampaignDefinitions[definitionsKey];\n                allCampaignDefinitionIDs.push(definition.campaignId);\n            }\n        }\n        return allCampaignDefinitionIDs;\n    };\n    FloodgateEngine.prototype.updateActivityListenerWithCurrentSurveyDefinitions = function () {\n        var surveyList = this.getCurrentSurveyDefinitions();\n        var trackingContractList = [];\n        for (var _i = 0, surveyList_1 = surveyList; _i < surveyList_1.length; _i++) {\n            var survey = surveyList_1[_i];\n            var surveyInfo = survey.getSurveyInfo();\n            var trackingContract = new ActivityTrackingContract_1.ActivityTrackingContract(surveyInfo.getId(), surveyInfo.getActivationEvent().getTrackingSet());\n            trackingContractList.push(trackingContract);\n        }\n        this.activityListener.SetActivityTrackingContracts(trackingContractList, this.previousSurveyEventActivityStats);\n    };\n    FloodgateEngine.prototype.setCriticalPendingSurveysAndUpdateActivityListener = function () {\n        var activeSurveys = {};\n        // Get all the candidate surveys' campaign definition IDs\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var candidateSurvey = this.candidateSurveys[key];\n                if (GovernanceUtils_1.isCriticalSurvey(candidateSurvey.getSurveyInfo())) {\n                    activeSurveys[key] = candidateSurvey;\n                }\n            }\n        }\n        if (Object.keys(activeSurveys).length > 0) {\n            this.setPendingSurveys(activeSurveys);\n            this.updateActivityListenerWithCurrentSurveyDefinitions();\n        }\n    };\n    FloodgateEngine.prototype.shouldAcceptActivity = function (activityName) {\n        return this.initializationStatus === 3 /* Started */ ||\n            activityName === SurveyActivityListener.FloodgateStartActivityName;\n    };\n    FloodgateEngine.prototype.onSurveyActivated = function (surveyId, contextInfo) {\n        // Find the survey object that corresponds to the surveyId passed\n        var surveys = this.getCurrentSurveyDefinitions();\n        var survey;\n        for (var _i = 0, surveys_1 = surveys; _i < surveys_1.length; _i++) {\n            var tempSurvey = surveys_1[_i];\n            if (tempSurvey.getSurveyInfo().getId() === surveyId) {\n                survey = tempSurvey;\n                break;\n            }\n        }\n        if (Utils_1.isNOU(survey)) {\n            FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SurveyNotDefined, \"Survey is not defined in the current survey definitions.\");\n            return;\n        }\n        try {\n            var governedChannelType = survey.getSurveyInfo().getGovernedChannelType();\n            // If the governance service is in use, launch survey asynchronously\n            if (this.governanceServiceClient.isEnabled(governedChannelType)) {\n                // record the stale surveys, so we can clear its tracker if Engine is stopped\n                this.staleTriggeredSurveysQueue.push(survey);\n                // If there is no survey in stale before, launch the survey right away\n                if (this.staleTriggeredSurveysQueue.length === 1) {\n                    // Launch the survey asynchronously\n                    this.checkGovernanceServiceAndActivateSurvey(survey, governedChannelType, contextInfo);\n                }\n            }\n            else {\n                this.activateSurvey(survey, governedChannelType, contextInfo);\n            }\n        }\n        catch (e) {\n            FloodgateEngine.telemetryLogger.log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.Error, { ErrorMessage: \"Error activating survey \" + (e && e.toString()), ErrorDetails: e && e.stack });\n        }\n    };\n    FloodgateEngine.prototype.activateSurvey = function (survey, governedChannelType, contextInfo) {\n        var launchSurvey = false;\n        // Figure out if the activated survey is still relevant\n        if (!this.candidateSurveys[survey.getSurveyInfo().getId()]) {\n            // Survey is no longer relevant but was activated. Suppress it.\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationIrrelevantSurvey, {\n                CampaignId: survey.getSurveyInfo().getBackEndId(),\n                SurveyId: survey.getSurveyInfo().getId(),\n            });\n        }\n        else if (!survey.getSurveyInfo().isActiveForDate(new Date())) {\n            // Survey is no longer active (e.g. it was when we registered it but it has now expired)\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationExpiredSurvey, {\n                CampaignId: survey.getSurveyInfo().getBackEndId(),\n                SurveyId: survey.getSurveyInfo().getId(),\n            });\n        }\n        else {\n            // Refresh channels\n            this.governor.refreshChannelData();\n            if (GovernanceUtils_1.isCriticalSurvey(survey.getSurveyInfo())) {\n                launchSurvey = true;\n            }\n            else if (!this.governor.isChannelOpen(governedChannelType)) {\n                // Channel has closed and maxLaunches is not set, suppress the survey\n                FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ClosedChannelType, { ClosedChannelType: GovernedChannel_1.GovernedChannelType[governedChannelType] });\n            }\n            else {\n                // Get latest survey states from provider\n                var refreshedSurveyActivationStats = this.surveyActivationStatsProvider.load();\n                if (refreshedSurveyActivationStats.getBySurveyId(survey.getSurveyInfo().getId())) {\n                    // Survey stats exists already, don't launch\n                    FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationStatsSuppressedSurvey, {\n                        CampaignId: survey.getSurveyInfo().getBackEndId(),\n                        SurveyId: survey.getSurveyInfo().getId(),\n                    });\n                }\n                else if (Object.keys(this.launchedSurveys).length === 0) {\n                    // for now we only support launching one survey per session unless it is multi-launch campaign\n                    // Track this survey activation for the launch history tracker\n                    launchSurvey = true;\n                }\n                else {\n                    var triggeredSurvey = Object.values(this.launchedSurveys)[0];\n                    if (!Utils_1.isNOU(triggeredSurvey)) {\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SessionSuppressedSurvey, {\n                            CampaignId: triggeredSurvey.getSurveyInfo().getBackEndId(),\n                            SurveyId: triggeredSurvey.getSurveyInfo().getId(),\n                        });\n                    }\n                }\n            }\n            if (launchSurvey) {\n                this.launchedSurveys[survey.getSurveyInfo().getId()] = survey;\n            }\n        }\n        // At this point, regardless of whether or not the survey is still relevant, we should flush out the stats\n        this.updateSurveyActivationStats(survey);\n        this.mergeAndSave();\n        // shut off further survey launches\n        this.activityListener.clearSurveys();\n        // Clear the survey from stale list\n        this.staleTriggeredSurveysQueue = [];\n        // Actually launch the survey if possible\n        if (launchSurvey) {\n            // Get the stringified json with activity names, counts and isAggregate info for TriggetMet telemetry.\n            var activityTrackingString = survey.getSurveyInfo().getActivationEvent().getTrackingSet()\n                .getActivityTrackingInfo(this.activityListener, survey.getSurveyInfo().getId());\n            var additionalSurveyInfo = this.getAdditionalSurveyInfoForTelemetry(survey, contextInfo, this.getAllCampaignDefinitionIDs(), this.getAllCandidateCampaignDefinitionIDs());\n            // Only adding the governance service client state at TriggerMet event\n            additionalSurveyInfo.governanceServiceClientState = this.governanceServiceClient.getClientState();\n            FloodgateEngine.telemetryLogger.log_TriggerMet(survey.getSurveyInfo().getBackEndId(), survey.getSurveyInfo().getId(), survey.getType(), activityTrackingString, JSON.stringify(additionalSurveyInfo));\n            // Set govern channel\n            this.governor.startChannelCooldown(governedChannelType);\n            var surveyInfo = survey.getSurveyInfo();\n            var isSurveyComplete = true;\n            if (GovernanceUtils_1.isBusinessCriticalSurvey(surveyInfo)) {\n                // critical campaigns are not tracked\n                isSurveyComplete = false;\n            }\n            else if (GovernanceUtils_1.isMultiLaunchSurvey(surveyInfo)) {\n                var surveyActivationStats = this.previousSurveyActivationStats.getBySurveyId(surveyInfo.getId());\n                isSurveyComplete = GovernanceUtils_1.hasSurveyReachedMaxLaunches(surveyInfo, surveyActivationStats);\n            }\n            // Set campaign states\n            this.surveyClient.onSurveyActivated(surveyInfo, isSurveyComplete);\n            // Show the survey\n            this.launchLauncher(survey, contextInfo);\n            // check if there are any critical campaigns and start tracking again\n            this.setCriticalPendingSurveysAndUpdateActivityListener();\n        }\n    };\n    FloodgateEngine.prototype.checkGovernanceServiceAndActivateSurvey = function (survey, governedChannelType, contextInfo) {\n        return __awaiter(this, void 0, void 0, function () {\n            var campaignDefinition, campaignCooldown, channelCooldown, serviceResult, launchSurvey, lastSurveyTriggerInfo;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        campaignDefinition = this.surveyClient.getCampaignDefinitions()[survey.getCampaignId()];\n                        campaignCooldown = campaignDefinition.nominationScheme.cooldownPeriod.asTimeIntervalSeconds();\n                        channelCooldown = Governor_1.Governor.GetChannelCoolDown(governedChannelType);\n                        return [4 /*yield*/, this.governanceServiceClient\n                                .checkGovernancePermitAsync(survey, campaignCooldown, channelCooldown, governedChannelType)];\n                    case 1:\n                        serviceResult = _a.sent();\n                        launchSurvey = false;\n                        // Log the stale\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceClientCompleted, {\n                            Message: JSON.stringify(this.createGorvernanceResponseTelemetry(serviceResult)),\n                        });\n                        // Check if engine is still running\n                        if (this.initializationStatus !== 3 /* Started */) {\n                            return [2 /*return*/];\n                        }\n                        if (!serviceResult.error) {\n                            // Check result is permitted\n                            if (serviceResult.permission) { // the Governance Service is permitting, continue to trigger\n                                launchSurvey = true;\n                            }\n                            else {\n                                lastSurveyTriggerInfo = serviceResult.lastTriggerSurvey;\n                                // For now, we only know the channel is in cooldown but not the specific survey\n                                // So only set governed channel to new cooldown\n                                this.governor.startChannelCooldown(governedChannelType, lastSurveyTriggerInfo.lastTriggerSurveyTime);\n                                // Clear the survey relating to channel\n                                this.clearSurveyWithChannel(governedChannelType);\n                            }\n                        }\n                        else {\n                            // If force to display with error, continue to trigger the survey\n                            if (this.governanceServiceClient.shouldForceDisplay()) {\n                                launchSurvey = true;\n                                // Log the force to display event\n                                FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceForceToDisplay, {\n                                    ErrorMessage: serviceResult.errorMessage,\n                                });\n                            }\n                        }\n                        if (launchSurvey) {\n                            // Launch the survey\n                            this.activateSurvey(survey, governedChannelType, contextInfo);\n                            return [2 /*return*/];\n                        }\n                        // If there is only one survey, which is the current one in process, clear queue and return\n                        if (this.staleTriggeredSurveysQueue.length <= 1) {\n                            this.staleTriggeredSurveysQueue = [];\n                            return [2 /*return*/];\n                        }\n                        // Remove the first activated survey from the list which is the current one in process\n                        this.staleTriggeredSurveysQueue.shift();\n                        // Playback the next activated survey in waiting\n                        this.checkGovernanceServiceAndActivateSurvey(this.staleTriggeredSurveysQueue[0], governedChannelType, contextInfo);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FloodgateEngine.prototype.readString = function (fileType) {\n        return this.storage.read(fileType);\n    };\n    FloodgateEngine.prototype.writeString = function (fileType, str) {\n        this.storage.write(fileType, str);\n    };\n    FloodgateEngine.prototype.launchLauncher = function (survey, contextInfo) {\n        var launcher = this.launcherFactory.makeSurveyLauncher(survey);\n        if (launcher) {\n            this.launchedLaunchers.push(launcher);\n            this.onSurveyActivatedCallback.onSurveyActivated(launcher, survey, { contextInfo: contextInfo });\n        }\n    };\n    FloodgateEngine.prototype.clearSurveyWithChannel = function (governedChannelType) {\n        var activeSurveys = {};\n        // Get all the candidate surveys' campaign definition IDs\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var candidateSurvey = this.candidateSurveys[key];\n                if (candidateSurvey.getSurveyInfo().getGovernedChannelType() !== governedChannelType) {\n                    activeSurveys[key] = candidateSurvey;\n                }\n            }\n        }\n        this.candidateSurveys = activeSurveys;\n        this.activityListener.UpdateActivityTrackingContracts(this.candidateSurveys);\n    };\n    FloodgateEngine.prototype.createGorvernanceResponseTelemetry = function (serviceResult) {\n        return {\n            FloodgateEngineStatus: this.initializationStatus.toString(),\n            GovernanceServiceResult: serviceResult,\n            StaleTriggeredSurveysQueueCount: this.staleTriggeredSurveysQueue.length - 1,\n        };\n    };\n    // Initialize telemetry logger with no-op logger\n    FloodgateEngine.telemetryLogger = new DefaultFloodgateTelemetryLogger();\n    return FloodgateEngine;\n}());\nexports.FloodgateEngine = FloodgateEngine;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0Zsb29kZ2F0ZUVuZ2luZS50cz80YWM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLHlKQUE2RTtBQVU3RSx3S0FHNkU7QUFDN0UsdUlBQTZEO0FBQzdELHlKQUF3RztBQUV4RyxtR0FBNkM7QUFDN0MsMkhBQXdEO0FBQ3hELHFIQUE4RTtBQUM5RSw0SkFBb0g7QUFDcEgsZ0dBQWlEO0FBRWpELHdJQUFtRTtBQUNuRSxrS0FDMEU7QUFDMUUsMktBQWtIO0FBRWxILElBQU8sUUFBUSxHQUFHLHlCQUF5QixDQUFDLFFBQVEsQ0FBQztBQUNyRCxnSkFBc0U7QUFDdEUscUhBQXdLO0FBQ3hLLHVGQUFnQztBQUVoQyxxQ0FBcUM7QUFDckM7SUFBQTtJQW9CQSxDQUFDO0lBbkJBLFlBQVk7SUFDTCx3REFBYyxHQUFyQixVQUFzQixVQUFrQixFQUFFLFFBQWdCLEVBQUUsVUFBd0IsRUFBRSxrQkFBMEIsRUFDL0csb0JBQTRCLElBQVMsQ0FBQztJQUV2QyxZQUFZO0lBQ0wsMERBQWdCLEdBQXZCLFVBQXdCLFVBQWtCLEVBQUUsUUFBZ0IsRUFBRSxVQUF3QixFQUNyRixvQkFBNEIsSUFBUyxDQUFDO0lBRXZDLFlBQVk7SUFDTCxpRUFBdUIsR0FBOUIsVUFBK0IsWUFBb0IsSUFBUyxDQUFDO0lBRTdELFlBQVk7SUFDTCxtREFBUyxHQUFoQixVQUFpQixPQUFlLEVBQUUsWUFBb0IsSUFBUyxDQUFDO0lBRWhFLFlBQVk7SUFDTCxtREFBUyxHQUFoQixVQUFpQixPQUFlLEVBQUUsVUFBZ0MsSUFBUyxDQUFDO0lBRTVFLFlBQVk7SUFDTCx3REFBYyxHQUFyQixVQUFzQixPQUFlO1FBQUUsY0FBYzthQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7WUFBZCw2QkFBYzs7SUFBUyxDQUFDO0lBQ2hFLHNDQUFDO0FBQUQsQ0FBQztBQVVELElBQU0sNkJBQTZCLEdBQXFE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anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nU2V0IH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ1NldFwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SW5mbywgSVVzZXJGYWN0UHJvdmlkZXIgfSBmcm9tIFwiLi9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIElBY3Rpdml0eUxpc3RlbmVyIGZyb20gXCIuL0FwaS9JQWN0aXZpdHlMaXN0ZW5lclwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCAqIGFzIElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgfSBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLCBJR292ZXJuYW5jZVNlcnZpY2VDbGllbnQsIElHb3Zlcm5hbmNlU2VydmljZVJlc3VsdCwgSUdvdmVybmFuY2VTdXJ2ZXlJbmZvLCBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlIH0gZnJvbSBcIi4vQXBpL0lHb3Zlcm5hbmNlU2VydmljZUNsaWVudFwiO1xyXG5pbXBvcnQgeyBJQ29udGV4dERhdGEsIElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrIH0gZnJvbSBcIi4vQXBpL0lPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIi4vQXBpL0lTdXJ2ZXlMYXVuY2hlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5TGF1bmNoZXJGYWN0b3J5IH0gZnJvbSBcIi4vQXBpL0lTdXJ2ZXlMYXVuY2hlckZhY3RvcnlcIjtcclxuaW1wb3J0IHsgSVRlbGVtZXRyeVByb3BlcnRpZXMgfSBmcm9tIFwiLi9BcGkvSVRlbGVtZXRyeVByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSVRyYW5zcG9ydGVyRmFjdG9yeSB9IGZyb20gXCIuL0FwaS9JVHJhbnNwb3J0ZXJGYWN0b3J5XCI7XHJcbmltcG9ydCB7IENhbXBhaWduRGVmaW5pdGlvbixcclxuXHRcdENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSxcclxuXHRcdEZpbGVTeXN0ZW1DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcixcclxuXHRcdElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduTWFuYWdlciB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN0YXRlUHJvdmlkZXJGYWN0b3J5LCBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vQ2FtcGFpZ24vQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElEaWN0aW9uYXJ5IH0gZnJvbSBcIi4vQ29tbW9uXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZVNldHRpbmdzIH0gZnJvbSBcIi4vRmxvb2RnYXRlU2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSwgSUdvdmVybmVkQ2hhbm5lbERhdGEgfSBmcm9tIFwiLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlckZhY3RvcnksIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5vciwgSUdvdmVybm9yIH0gZnJvbSBcIi4vR292ZXJub3JcIjtcclxuaW1wb3J0IHsgSVN1cnZleUNsaWVudCB9IGZyb20gXCIuL0lTdXJ2ZXlDbGllbnRcIjtcclxuaW1wb3J0ICogYXMgU3VydmV5QWN0aXZpdHlMaXN0ZW5lciBmcm9tIFwiLi9TdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciwgU3VydmV5QWN0aXZhdGlvblN0YXRzLCBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlckZhY3RvcnksXHJcblx0U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uXCI7XHJcbmltcG9ydCB7IFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5IH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5XCI7XHJcblxyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5pbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3QgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nQ29udHJhY3RcIjtcclxuaW1wb3J0IHsgaGFzU3VydmV5UmVhY2hlZE1heExhdW5jaGVzLCBoYXNTdXJ2ZXlSZWFjaGVkTWF4TGF1bmNoZXNQZXJTZXNzaW9uLCBpc0J1c2luZXNzQ3JpdGljYWxTdXJ2ZXksIGlzQ3JpdGljYWxTdXJ2ZXksIGlzTXVsdGlMYXVuY2hTdXJ2ZXkgfSBmcm9tIFwiLi9Hb3Zlcm5hbmNlVXRpbHNcIjtcclxuaW1wb3J0IHsgaXNOT1UgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuLy8gVGVsZW1ldHJ5IGxvZ2dlciB3aXRoIG5vLW9wIGxvZ2dlclxyXG5jbGFzcyBEZWZhdWx0Rmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIGltcGxlbWVudHMgSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciB7XHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19UcmlnZ2VyTWV0KGNhbXBhaWduSWQ6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZywgc3VydmV5VHlwZTogSVN1cnZleS5UeXBlLCBzdXJ2ZXlBY3Rpdml0eUluZm86IHN0cmluZyxcclxuXHRcdGFkZGl0aW9uYWxTdXJ2ZXlJbmZvOiBzdHJpbmcpOiB2b2lkIHt9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2dfVXNlclNlbGVjdGVkKGNhbXBhaWduSWQ6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZywgc3VydmV5VHlwZTogSVN1cnZleS5UeXBlLFxyXG5cdFx0YWRkaXRpb25hbFN1cnZleUluZm86IHN0cmluZyk6IHZvaWQge31cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9nX0Vycm9yKGV2ZW50SWQ6IHN0cmluZywgZXJyb3JNZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHt9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2dfRXZlbnQoZXZlbnRJZDogc3RyaW5nLCBwcm9wZXJ0aWVzOiBJVGVsZW1ldHJ5UHJvcGVydGllcyk6IHZvaWQge31cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19Mb2NhbEVycm9yKG1lc3NhZ2U6IHN0cmluZywgLi4uZGF0YTogYW55W10pOiB2b2lkIHt9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEluaXRpYWxpemF0aW9uU3RhdHVzIHtcclxuXHROb25lID0gMCxcclxuXHRFcnJvcixcclxuXHRJbml0aWFsaXppbmcsXHJcblx0U3RhcnRlZCxcclxuXHRTdG9wcGVkLFxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0U3VydmV5QWN0aXZpdHlMaXN0ZW5lcjogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5JQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrID0ge1xyXG5cdHJ1bihzdXJ2ZXkpIHtcclxuXHR9LFxyXG5cdHNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZSkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxufTtcclxuXHJcbmNvbnN0IGdsb2JhbFNlc3Npb25TdXJ2ZXlBY3RpdmF0aW9uQ291bnRzOiBJRGljdGlvbmFyeTxudW1iZXI+ID0ge307XHJcblxyXG4vKipcclxuICogRmxvb2RnYXRlIEVuZ2luZSBjbGFzcy4gIFRoZSBtYWluIHdpcmluZyBodWIgYW5kIHRoZSBicmFpbnMgcmVzcG9uc2libGUgZm9yXHJcbiAqIGxpbmtpbmcgdG9nZXRoZXIgdGhlIHN1cnZleSBkZWZpbml0aW9ucywgZ292ZXJuYW5jZSwgYWN0aXZpdHkgdHJhY2tpbmcsIGFuZFxyXG4gKiBzdXJ2ZXkgbGF1bmNoZXJzLiAgT25seSBvbmUtaW5zdGFuY2UtYXQtYS10aW1lIG9mIHRoZXNlIHNob3VsZCBiZSBjcmVhdGVkXHJcbiAqIHBlciBhcHAgc2Vzc2lvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBGbG9vZGdhdGVFbmdpbmUge1xyXG5cdHB1YmxpYyBzdGF0aWMgc2V0VGVsZW1ldHJ5TG9nZ2VyKHRlbGVtZXRyeUxvZ2dlcjogSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlcik6IHZvaWQge1xyXG5cdFx0aWYgKCF0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVsZW1ldHJ5TG9nZ2VyIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Rmxvb2RnYXRlRW5naW5lLnRlbGVtZXRyeUxvZ2dlciA9IHRlbGVtZXRyeUxvZ2dlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0VGVsZW1ldHJ5TG9nZ2VyKCk6IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIge1xyXG5cdFx0cmV0dXJuIEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGdldFRyYW5zcG9ydEZhY3RvcnkoKTogSVRyYW5zcG9ydGVyRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gRmxvb2RnYXRlRW5naW5lLnRyYW5zcG9ydGVyRmFjdG9yeTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShcclxuXHRcdGJ1aWxkVmVyc2lvbjogc3RyaW5nLFxyXG5cdFx0bGF1bmNoZXJGYWN0b3J5OiBJU3VydmV5TGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0b25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssXHJcblx0XHRmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsXHJcblx0XHRob3N0QmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrLFxyXG5cdFx0c3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0dHJhbnNwb3J0ZXJGYWN0b3J5OiBJVHJhbnNwb3J0ZXJGYWN0b3J5LFxyXG5cdFx0Y2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJzOiBJQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJbXSxcclxuXHRcdHVzZXJGYWN0c1Byb3ZpZGVyOiBJVXNlckZhY3RQcm92aWRlcixcclxuXHRcdGdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50OiBJR292ZXJuYW5jZVNlcnZpY2VDbGllbnQpOiBGbG9vZGdhdGVFbmdpbmUge1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI6IElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyXHJcblx0XHRcdFx0PSBHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyRmFjdG9yeS5tYWtlKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciwgaG9zdEJhc2VkU3RvcmFnZVByb3ZpZGVyKTtcclxuXHJcblx0XHRcdGNvbnN0IHN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyOiBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJcclxuXHRcdFx0XHQ9IFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyRmFjdG9yeS5tYWtlKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciwgaG9zdEJhc2VkU3RvcmFnZVByb3ZpZGVyKTtcclxuXHJcblx0XHRcdGNvbnN0IGNhbXBhaWduU3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlclxyXG5cdFx0XHRcdD0gQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyRmFjdG9yeS5tYWtlKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciwgaG9zdEJhc2VkU3RvcmFnZVByb3ZpZGVyKTtcclxuXHJcblx0XHRcdGNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVycy5wdXNoKG5ldyBGaWxlU3lzdGVtQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyKSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gbmV3IEZsb29kZ2F0ZUVuZ2luZShcclxuXHRcdFx0XHRuZXcgQ2FtcGFpZ25NYW5hZ2VyKFxyXG5cdFx0XHRcdFx0Y2FtcGFpZ25TdGF0ZVByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0Y2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJzLFxyXG5cdFx0XHRcdFx0c3RyaW5nUHJvdmlkZXIsXHJcblx0XHRcdFx0XHRlbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0YnVpbGRWZXJzaW9uLFxyXG5cdFx0XHRcdFx0bmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdHVzZXJGYWN0c1Byb3ZpZGVyLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdFx0bmV3IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIoXHJcblx0XHRcdFx0XHRkZWZhdWx0U3VydmV5QWN0aXZpdHlMaXN0ZW5lcixcclxuXHRcdFx0XHRcdHRoaXMuZ2V0VGVsZW1ldHJ5TG9nZ2VyLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdFx0bGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0XHRcdG9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssXHJcblx0XHRcdFx0ZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLFxyXG5cdFx0XHRcdG5ldyBHb3Zlcm5vcihcclxuXHRcdFx0XHRcdGdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIsXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0XHRzdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcixcclxuXHRcdFx0XHR0cmFuc3BvcnRlckZhY3RvcnksXHJcblx0XHRcdFx0Z292ZXJuYW5jZVNlcnZpY2VDbGllbnQsXHJcblx0XHRcdCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHRoaXMudGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuTWFrZS5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGUgJiYgZS50b1N0cmluZygpLCBFcnJvckRldGFpbHM6IGUgJiYgZS5zdGFjayB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEluaXRpYWxpemUgdGVsZW1ldHJ5IGxvZ2dlciB3aXRoIG5vLW9wIGxvZ2dlclxyXG5cdHByaXZhdGUgc3RhdGljIHRlbGVtZXRyeUxvZ2dlcjogSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciA9IG5ldyBEZWZhdWx0Rmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyKCk7XHJcblx0cHJpdmF0ZSBzdGF0aWMgdHJhbnNwb3J0ZXJGYWN0b3J5OiBJVHJhbnNwb3J0ZXJGYWN0b3J5O1xyXG5cclxuXHRwcml2YXRlIHN1cnZleUNsaWVudDogSVN1cnZleUNsaWVudDtcclxuXHRwcml2YXRlIGFjdGl2aXR5TGlzdGVuZXI6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXI7XHJcblx0cHJpdmF0ZSBvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaztcclxuXHRwcml2YXRlIGxhdW5jaGVyRmFjdG9yeTogSVN1cnZleUxhdW5jaGVyRmFjdG9yeTtcclxuXHRwcml2YXRlIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBnb3Zlcm5vcjogSUdvdmVybm9yO1xyXG5cdHByaXZhdGUgaW5pdGlhbGl6YXRpb25TdGF0dXM6IEluaXRpYWxpemF0aW9uU3RhdHVzID0gSW5pdGlhbGl6YXRpb25TdGF0dXMuTm9uZTtcclxuXHRwcml2YXRlIGxvZ2dlZEZpcnN0U3RhcnQ6IGJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgZmxvb2RnYXRlU2V0dGluZ3M6IEZsb29kZ2F0ZVNldHRpbmdzO1xyXG5cdHByaXZhdGUgcHJldmlvdXNTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbjtcclxuXHRwcml2YXRlIHByZXZpb3VzU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHk7XHJcblxyXG5cdHByaXZhdGUgY2FuZGlkYXRlU3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHRwcml2YXRlIGxhdW5jaGVkU3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHRwcml2YXRlIGxhdW5jaGVkTGF1bmNoZXJzOiBJU3VydmV5TGF1bmNoZXJbXSA9IFtdO1xyXG5cdHByaXZhdGUgc3VydmV5RXZlbnRTZW50OiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRwcml2YXRlIHN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyOiBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXI7XHJcblxyXG5cdHByaXZhdGUgZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQ6IElHb3Zlcm5hbmNlU2VydmljZUNsaWVudDtcclxuXHRwcml2YXRlIHN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlOiBJU3VydmV5W10gPSBbXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN1cnZleUNsaWVudDogSVN1cnZleUNsaWVudCwgYWN0aXZpdHlMaXN0ZW5lcjogU3VydmV5QWN0aXZpdHlMaXN0ZW5lciwgbGF1bmNoZXJGYWN0b3J5OiBJU3VydmV5TGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0b25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGdvdmVybm9yOiBJR292ZXJub3IsXHJcblx0XHRzdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcjogSVN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLCB0cmFuc3BvcnRlckZhY3Rvcnk6IElUcmFuc3BvcnRlckZhY3RvcnksXHJcblx0XHRnb3Zlcm5hbmNlU2VydmljZUNsaWVudDogSUdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50KSB7XHJcblxyXG5cdFx0aWYgKCFzdXJ2ZXlDbGllbnQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3VydmV5Q2xpZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWFjdGl2aXR5TGlzdGVuZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYWN0aXZpdHlMaXN0ZW5lciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFsYXVuY2hlckZhY3RvcnkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibGF1bmNoZXJGYWN0b3J5IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIW9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2spIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFzdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZ292ZXJub3IpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZ292ZXJub3IgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghdHJhbnNwb3J0ZXJGYWN0b3J5KSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInRyYW5zcG9ydGVyRmFjdG9yeSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3VydmV5Q2xpZW50ID0gc3VydmV5Q2xpZW50O1xyXG5cdFx0dGhpcy5hY3Rpdml0eUxpc3RlbmVyID0gYWN0aXZpdHlMaXN0ZW5lcjtcclxuXHRcdHRoaXMubGF1bmNoZXJGYWN0b3J5ID0gbGF1bmNoZXJGYWN0b3J5O1xyXG5cdFx0dGhpcy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrID0gb25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaztcclxuXHRcdHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcblx0XHR0aGlzLmdvdmVybm9yID0gZ292ZXJub3I7XHJcblx0XHR0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyID0gc3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXI7XHJcblx0XHR0aGlzLmdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50ID0gZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQ7XHJcblx0XHRGbG9vZGdhdGVFbmdpbmUudHJhbnNwb3J0ZXJGYWN0b3J5ID0gdHJhbnNwb3J0ZXJGYWN0b3J5O1xyXG5cclxuXHRcdHRoaXMubG9nZ2VkRmlyc3RTdGFydCA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIEluaXRpYWxpemUgb3VyIGxpc3QgdG8gYSB2YWxpZCwgZW1wdHkgY29sbGVjdGlvblxyXG5cdFx0dGhpcy5zZXRQZW5kaW5nU3VydmV5cyhudWxsKTtcclxuXHJcblx0XHQvLyBJZiB0aGUgbGlzdGVuZXIgd2FzIHByZS1jb25maWd1cmVkIHdpdGggc3VydmV5IGZvciBzb21lIHJlYXNvbiwgY2xlYXIgaXQgbm93XHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuY2xlYXJTdXJ2ZXlzKCk7XHJcblxyXG5cdFx0Ly8gTGluayBvdXJzZWx2ZXMgd2l0aCB0aGUgbGlzdGVuZXJcclxuXHRcdGNvbnN0IHRoaXNPYmogPSB0aGlzOyAvLyBTYXZlIGN1cnJlbnQgb2JqZWN0IGluIGEgdmFyaWFibGUgdG8gYWxsb3cgYWNjZXNzIGZyb20gY2FsbGJhY2suXHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuc2V0Q2FsbGJhY2soe1xyXG5cdFx0XHRydW4oc3VydmV5SWQ6IHN0cmluZywgY29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKSB7XHJcblx0XHRcdFx0dGhpc09iai5vblN1cnZleUFjdGl2YXRlZChzdXJ2ZXlJZCwgY29udGV4dEluZm8pO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRzaG91bGRBY2NlcHRBY3Rpdml0eShhY3Rpdml0eU5hbWU6IHN0cmluZykge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzT2JqLnNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZSk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgYWxsIGludGVybmFsIHN0YXRzIGFuZCBmbG9vZGdhdGVTZXR0aW5ncyAobWVyZ2luZyB3aXRoIGV4aXN0aW5nIGZpbGUgY29udGVudHMpLCB3aXRob3V0IHN0b3BwaW5nIHRoZSBlbmdpbmUuXHJcblx0ICovXHJcblx0cHVibGljIG1lcmdlQW5kU2F2ZSgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0XHR0aGlzLnNhdmVTdXJ2ZXlBY3RpdmF0aW9uSGlzdG9yeSgpO1xyXG5cdFx0dGhpcy5zYXZlU3VydmV5RXZlbnRBY3Rpdml0eUhpc3RvcnkoKTtcclxuXHJcblx0XHQvLyBJbmZvcm0gc3VydmV5Q2xpZW50IHRvIHNhdmUgaXRzIHN0YXRlXHJcblx0XHR0aGlzLnN1cnZleUNsaWVudC5zYXZlQ3VycmVudFN0YXRlKCk7XHJcblxyXG5cdFx0Ly8gU2F2ZSBnb3Zlcm5lZCBjaGFubmVsIHN0YXRlc1xyXG5cdFx0dGhpcy5nb3Zlcm5vci5zYXZlQ2hhbm5lbFN0YXRlcygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgdGhlIGVuZ2luZS4gIENoZWNrcyBmZWF0dXJlIGVuYWJsZSBzdGF0ZSwgY2F1c2VzIHN1cnZleSBkZWZpbml0aW9ucyB0byBiZSByZWFkLCBhbmQgdHJhY2tlZCBhY3Rpdml0aWVzIHRvIGJlIHNldCBvbiB0aGUgbGlzdGVuZXIuXHJcblx0ICovXHJcblx0cHVibGljIHN0YXJ0KCk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLkluaXRpYWxpemluZyB8fFxyXG5cdFx0XHR0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLkluaXRpYWxpemluZyk7XHJcblx0XHRcdHRoaXMubG9hZFNldHRpbmdzQW5kUHJpb3JFdmVudENvdW50cygpO1xyXG5cclxuXHRcdFx0Y29uc3QgY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10gPSB0aGlzLmdldEF2YWlsYWJsZUNoYW5uZWxUeXBlcygpO1xyXG5cclxuXHRcdFx0dGhpcy5zdXJ2ZXlDbGllbnQucmVmcmVzaFN1cnZleURlZmluaXRpb25zKGNoYW5uZWxUeXBlcyk7XHJcblxyXG5cdFx0XHR0aGlzLnNldFBlbmRpbmdTdXJ2ZXlzQW5kU3RhcnRGbG9vZGdhdGUoKTtcclxuXHRcdFx0dGhpcy5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0dGhpcy5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5FcnJvcik7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLlN0YXJ0LkZhaWxlZCxcclxuXHRcdFx0XHR7IEVycm9yTWVzc2FnZTogZSAmJiBlLnRvU3RyaW5nKCksIEVycm9yRGV0YWlsczogZSAmJiBlLnN0YWNrIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgdGhlIGVuZ2luZS4gIENoZWNrcyBmZWF0dXJlIGVuYWJsZSBzdGF0ZSwgY2F1c2VzIHN1cnZleSBkZWZpbml0aW9ucyB0byBiZSByZWFkLCBhbmQgdHJhY2tlZCBhY3Rpdml0aWVzIHRvIGJlIHNldCBvbiB0aGUgbGlzdGVuZXIuXHJcblx0ICovXHJcblx0cHVibGljIHN0YXJ0QXN5bmMoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRpZiAodGhpcy5pbml0aWFsaXphdGlvblN0YXR1cyA9PT0gSW5pdGlhbGl6YXRpb25TdGF0dXMuSW5pdGlhbGl6aW5nIHx8XHJcblx0XHRcdHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLlN0YXJ0ZWQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuSW5pdGlhbGl6aW5nKTtcclxuXHRcdFx0dGhpcy5sb2FkU2V0dGluZ3NBbmRQcmlvckV2ZW50Q291bnRzKCk7XHJcblxyXG5cdFx0XHRjb25zdCBjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSA9IHRoaXMuZ2V0QXZhaWxhYmxlQ2hhbm5lbFR5cGVzKCk7XHJcblxyXG5cdFx0XHRjb25zdCB0aGlzRmxvb2RnYXRlRW5naW5lID0gdGhpcztcclxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnN1cnZleUNsaWVudC5yZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNBc3luYyhjaGFubmVsVHlwZXMpLnRoZW4oXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFueSBzdG9wKCkgY2FsbHMgdGhhdCBoYXBwZW5lZCB3aGlsZSBpbml0aWFsaXppbmdcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXNGbG9vZGdhdGVFbmdpbmUuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLlN0b3BwZWQpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLlN0YXJ0ZWQpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXNGbG9vZGdhdGVFbmdpbmUuc3RvcCgpO1xyXG5cdFx0XHRcdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLlN0YXJ0QXN5bmMuU3RvcHBlZCxcclxuXHRcdFx0XHRcdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIlN0b3BwZWQgYmVjYXVzZSBvZiBhIHBlbmRpbmcgc3RvcCgpIGNhbGxcIiB9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnNldFBlbmRpbmdTdXJ2ZXlzQW5kU3RhcnRGbG9vZGdhdGUoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gT25SZWplY3RlZChlcnJvcjogRXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0dGhpc0Zsb29kZ2F0ZUVuZ2luZS5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5FcnJvcik7XHJcblx0XHRcdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLlN0YXJ0QXN5bmMuRmFpbGVkLFxyXG5cdFx0XHRcdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIlN1cnZleSByZWZyZXNoIGVycm9yIFwiICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpIH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuRXJyb3IpO1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5TdGFydEFzeW5jLkZhaWxlZCxcclxuXHRcdFx0XHR7IEVycm9yTWVzc2FnZTogZSAmJiBlLnRvU3RyaW5nKCksIEVycm9yRGV0YWlsczogZSAmJiBlLnN0YWNrIH0pO1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIHRoZSBlbmdpbmUuICBDYXVzZXMgdHJhY2tlZCBhY3Rpdml0aWVzIHRvIGJlIGNsZWFyZWQgYW5kIGFueSBpbi1wcm9ncmVzcyBjb3VudGVycyBub3Qgb3RoZXJ3aXNlIHNhdmVkIHRvIGJlIHRocm93biBvdXQuXHJcblx0ICovXHJcblx0cHVibGljIHN0b3AoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5pbml0aWFsaXphdGlvblN0YXR1cyA9PT0gSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCkge1xyXG5cdFx0XHR0aGlzLm1lcmdlQW5kU2F2ZSgpO1xyXG5cclxuXHRcdFx0Ly8gQ2xlYXIgb3VyIFN1cnZleSBsaXN0LCBhbmQgcHVzaCB0aGF0IHRocm91Z2ggdG8gdGhlIGxpc3RlbmVyXHJcblx0XHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXMobnVsbCk7XHJcblx0XHRcdHRoaXMudXBkYXRlQWN0aXZpdHlMaXN0ZW5lcldpdGhDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLlN0b3BwZWQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0cyB0aGUgSUFjdGl2aXR5TGlzdGVuZXIgbG9nZ2luZyBpbnRlcmZhY2UgZm9yIGNhbGxlcnMgdGhhdCB3YW50IHRvIGxvZyBkaXJlY3RseSByYXRoZXIgdGhhbiB0aHJvdWdoIHRlbGVtZXRyeVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRBY3Rpdml0eUxpc3RlbmVyKCk6IElBY3Rpdml0eUxpc3RlbmVyIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2aXR5TGlzdGVuZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldEluaXRpYWxpemF0aW9uU3RhdHVzKHN0YXR1czogSW5pdGlhbGl6YXRpb25TdGF0dXMpOiB2b2lkIHtcclxuXHRcdHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPSBzdGF0dXM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNhdmVTZXR0aW5ncygpOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RvcmFnZS5maWxlTG9jayhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy53cml0ZVN0cmluZyhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncywgRmxvb2RnYXRlU2V0dGluZ3MudG9Kc29uKHRoaXMuZmxvb2RnYXRlU2V0dGluZ3MpKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdHRoaXMuc3RvcmFnZS5maWxlVW5sb2NrKEZpbGVUeXBlLkZsb29kZ2F0ZVNldHRpbmdzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbG9hZFNldHRpbmdzQW5kUHJpb3JFdmVudENvdW50cygpOiB2b2lkIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIExvYWQgdXAgdGhlIHByaW9yIHN1cnZleSBoaXN0b3J5IGFuZCBwcmlvciBldmVudCBjb3VudHNcclxuXHRcdFx0dGhpcy5wcmV2aW91c1N1cnZleUFjdGl2YXRpb25TdGF0cyA9IHRoaXMuc3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIubG9hZCgpO1xyXG5cclxuXHRcdFx0dGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyA9XHJcblx0XHRcdFx0U3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LmZyb21Kc29uKHRoaXMucmVhZFN0cmluZyhGaWxlVHlwZS5TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMpKTtcclxuXHJcblx0XHRcdC8vIGdldCB0aGUgbGlzdCBvZiBzdXJ2ZXkgSWQgLSBhbGwgdGhlIHN1cnZleSBzaG91bGQgaGF2ZSBldmVudCBzZW50IGFscmVhZHlcclxuXHRcdFx0Y29uc3Qgc3RhdHM6IElEaWN0aW9uYXJ5PFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cz4gPSB0aGlzLnByZXZpb3VzU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLmdldFN0YXRzKCk7XHJcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHN0YXRzKSB7XHJcblx0XHRcdFx0aWYgKHN0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdHRoaXMuc3VydmV5RXZlbnRTZW50LnB1c2goa2V5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIExvYWQgdXAgdGhlIGdlbmVyYWwgZmxvb2RnYXRlU2V0dGluZ3NcclxuXHRcdFx0dGhpcy5mbG9vZGdhdGVTZXR0aW5ncyA9IEZsb29kZ2F0ZVNldHRpbmdzLmZyb21Kc29uKHRoaXMucmVhZFN0cmluZyhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncykpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5Db21tb24uRXJyb3IsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiRXJyb3IgbG9hZGluZyBwcmlvciBzZXR0aW5ncy9ldmVudHMgXCIgKyAoZSAmJiBlLnRvU3RyaW5nKCkpIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRBdmFpbGFibGVDaGFubmVsVHlwZXMoKTogR292ZXJuZWRDaGFubmVsVHlwZVtdIHtcclxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSd2ZSBsb2FkZWQgdGhlIGN1cnJlbnQgc3VydmV5IGRlZmluaXRpb25zXHJcblx0XHRjb25zdCBjaGFubmVsczogSUdvdmVybmVkQ2hhbm5lbERhdGFbXSA9IHRoaXMuZ292ZXJub3IuZ2V0QXZhaWxhYmxlQ2hhbm5lbERhdGEoKTtcclxuXHRcdGNvbnN0IGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdID0gW107XHJcblxyXG5cdFx0Y2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCkgPT4ge1xyXG5cdFx0XHRpZiAoY2hhbm5lbCkge1xyXG5cdFx0XHRcdGNoYW5uZWxUeXBlcy5wdXNoKGNoYW5uZWwuZ2V0VHlwZSgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGNoYW5uZWxUeXBlcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2V0UGVuZGluZ1N1cnZleXNBbmRTdGFydEZsb29kZ2F0ZSgpOiB2b2lkIHtcclxuXHRcdC8vIFVwZGF0ZSBvdXIgc3VydmV5IGxpc3QsIGFuZCBwdXNoIHRoYXQgdGhyb3VnaCB0byB0aGUgbGlzdGVuZXJcclxuXHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXModGhpcy5zdXJ2ZXlDbGllbnQuZ2V0QXBwU3VydmV5cygpKTtcclxuXHRcdHRoaXMudXBkYXRlQWN0aXZpdHlMaXN0ZW5lcldpdGhDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHJcblx0XHQvLyBNYXJrIHVzIGFzIHN0YXJ0ZWRcclxuXHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCk7XHJcblxyXG5cdFx0Ly8gTG9nIG91ciBmaXJzdCBzdGFydCAoYWthIGZsb29kZ2F0ZSBib290KSBldmVudFxyXG5cdFx0aWYgKCF0aGlzLmxvZ2dlZEZpcnN0U3RhcnQpIHtcclxuXHRcdFx0dGhpcy5sb2dnZWRGaXJzdFN0YXJ0ID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5nZXRBY3Rpdml0eUxpc3RlbmVyKCkubG9nQWN0aXZpdHkoU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5GbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZVN1cnZleUFjdGl2YXRpb25TdGF0cyhzdXJ2ZXk6IElTdXJ2ZXkpIHtcclxuXHRcdGNvbnN0IHN1cnZleUluZm8gPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0Y29uc3Qgc3VydmV5SWQgPSBzdXJ2ZXlJbmZvLmdldElkKCk7XHJcblx0XHRjb25zdCBzdGF0cyA9IHRoaXMucHJldmlvdXNTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMuZ2V0U3RhdHMoKVtzdXJ2ZXlJZF0gfHwgbmV3IFN1cnZleUFjdGl2YXRpb25TdGF0cygpO1xyXG5cdFx0c3RhdHMuVHlwZSA9IHN1cnZleS5nZXRUeXBlKCk7XHJcblx0XHRzdGF0cy5FeHBpcmF0aW9uVGltZVV0YyA9IHN1cnZleUluZm8uZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTtcclxuXHRcdHN0YXRzLkFjdGl2YXRpb25UaW1lVXRjID0gbmV3IERhdGUoKTtcclxuXHRcdHN0YXRzLlN1cnZleUxhdW5jaENvdW50Kys7XHJcblxyXG5cdFx0dGhpcy5wcmV2aW91c1N1cnZleUFjdGl2YXRpb25TdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgc3RhdHMpO1xyXG5cclxuXHRcdC8vIFNhdmUgdGhlIFN1cnZleUxhdW5jaENvdW50UGVyU2Vzc2lvbiBpbnRvIGdsb2JhbCBtZW1vcnkgYnV0IG5vdCBsb2NhbCBzdG9yYWdlXHJcblx0XHQvLyBzbyBpdCB3b24ndCBiZSBvdmVyd3JpdHRlbiBpbiBsb2NhbCBzdG9yYWdlIGJ5IGFub3RoZXIgYXBwIGluc3RhbmNlXHJcblx0XHRpZiAoIWdsb2JhbFNlc3Npb25TdXJ2ZXlBY3RpdmF0aW9uQ291bnRzLmhhc093blByb3BlcnR5KHN1cnZleUlkKSkge1xyXG5cdFx0XHRnbG9iYWxTZXNzaW9uU3VydmV5QWN0aXZhdGlvbkNvdW50c1tzdXJ2ZXlJZF0gPSAwO1xyXG5cdFx0fVxyXG5cdFx0Z2xvYmFsU2Vzc2lvblN1cnZleUFjdGl2YXRpb25Db3VudHNbc3VydmV5SWRdKys7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNhdmVTdXJ2ZXlBY3RpdmF0aW9uSGlzdG9yeSgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RvcmFnZS5maWxlTG9jayhGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHN0YXRDb2xsZWN0aW9uOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSB0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLmxvYWQoKTtcclxuXHJcblx0XHRcdGNvbnN0IHByZXZpb3VzU3RhdHMgPSB0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzLmdldFN0YXRzKCk7XHJcblxyXG5cdFx0XHQvLyBCdWlsZCB0aGUgdXBkYXRlIGNvbGxlY3Rpb25cclxuXHRcdFx0Y29uc3QgdXBkYXRlQ29sbGVjdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5sYXVuY2hlZFN1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5sYXVuY2hlZFN1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3VydmV5OiBJU3VydmV5ID0gdGhpcy5sYXVuY2hlZFN1cnZleXNba2V5XTtcclxuXHRcdFx0XHRcdGNvbnN0IHN1cnZleUlkID0gc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpO1xyXG5cclxuXHRcdFx0XHRcdC8vIE1ha2UgdGhpcyBwYXJ0IG9mIHRoZSB1cGRhdGUgbGlzdFxyXG5cdFx0XHRcdFx0Y29uc3Qgc3RhdHMgPSBwcmV2aW91c1N0YXRzW3N1cnZleUlkXTtcclxuXHRcdFx0XHRcdHVwZGF0ZUNvbGxlY3Rpb24uYWRkU3RhdHMoc3VydmV5SWQsIHN0YXRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFjdHVhbGx5IG1lcmdlIG91ciB1cGRhdGVzIGludG8gdGhlIGZ1bGwgY29sbGVjdGlvblxyXG5cdFx0XHRzdGF0Q29sbGVjdGlvbi5hY2N1bXVsYXRlKHVwZGF0ZUNvbGxlY3Rpb24pO1xyXG5cdFx0XHR0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLnNhdmUoc3RhdENvbGxlY3Rpb24pO1xyXG5cclxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRvIGtlZXAgb3VyIGludGVybmFsIGNvbGxlY3Rpb24gY29uc2lzdGVudCB3aXRoIHdoYXQgd2UganVzdCB3cm90ZVxyXG5cdFx0XHR0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzID0gc3RhdENvbGxlY3Rpb247XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHR0aGlzLnN0b3JhZ2UuZmlsZVVubG9jayhGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzYXZlU3VydmV5RXZlbnRBY3Rpdml0eUhpc3RvcnkoKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0b3JhZ2UuZmlsZUxvY2soRmlsZVR5cGUuU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbjogU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5ID1cclxuXHRcdFx0XHRTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkuZnJvbUpzb24odGhpcy5yZWFkU3RyaW5nKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cykpO1xyXG5cclxuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Ly8gRmlsbCBvdXQgb3VyIGxpc3Qgb2YgdXBkYXRlc1xyXG5cdFx0XHRjb25zdCB1cGRhdGVDb2xsZWN0aW9uID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbmRpZGF0ZVN1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBuZXcgU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKCk7XHJcblx0XHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIXN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuaXNBY3RpdmVGb3JEYXRlKG5vdykpIHtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzdGF0cy5FeHBpcmF0aW9uVGltZVV0YyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGFjdGl2aXRpZXMgd2hpY2ggYXJlIGFnZ3JlZ2F0ZWQsIGlmIHRoZXJlIGFyZW4ndCBhbnkgY29udGludWVcclxuXHRcdFx0XHRcdGNvbnN0IGFsbEFjdGl2aXRpZXM6IEFjdGl2aXR5VHJhY2tpbmdTZXQgPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEFjdGl2YXRpb25FdmVudCgpLmdldFRyYWNraW5nU2V0KCk7XHJcblx0XHRcdFx0XHRjb25zdCBhZ2dyZWdhdGVBY3Rpdml0aWVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHRcdFx0Y29uc3Qgbm9uQWdncmVnYXRlQWN0aXZpdGllczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHRcdFx0XHRhbGxBY3Rpdml0aWVzLmdldExpc3QoKS5mb3JFYWNoKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGEuZ2V0SXNBZ2dyZWdhdGUoKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YWdncmVnYXRlQWN0aXZpdGllcy5wdXNoKGRhdGEuZ2V0QWN0aXZpdHkoKSk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdG5vbkFnZ3JlZ2F0ZUFjdGl2aXRpZXMucHVzaChkYXRhLmdldEFjdGl2aXR5KCkpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0c3RhdHMuQ291bnRzID0gbmV3IEFycmF5KGFnZ3JlZ2F0ZUFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBTYXZlIG9mZiB0aGUgY291bnRzIHdlJ3ZlIGFkZGVkIGZvciB0aGlzIHNlc3Npb25cclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWdncmVnYXRlQWN0aXZpdGllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRzdGF0cy5Db3VudHNbaV0gPSB0aGlzLmFjdGl2aXR5TGlzdGVuZXIubW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoYWdncmVnYXRlQWN0aXZpdGllc1tpXSwgc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGFjdGl2aXR5IG9mIG5vbkFnZ3JlZ2F0ZUFjdGl2aXRpZXMpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3Rpdml0eUxpc3RlbmVyLnNhdmVTZXNzaW9uVHJhY2tpbmdBY3Rpdml0eShhY3Rpdml0eSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gTWFrZSB0aGlzIHBhcnQgb2YgdGhlIHVwZGF0ZSBsaXN0XHJcblx0XHRcdFx0XHR1cGRhdGVDb2xsZWN0aW9uLmFkZFN0YXRzKHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSwgc3RhdHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQWN0dWFsbHkgbWVyZ2Ugb3VyIHVwZGF0ZXMgaW50byB0aGUgZnVsbCBjb2xsZWN0aW9uXHJcblx0XHRcdHN0YXRDb2xsZWN0aW9uLmFjY3VtdWxhdGUodXBkYXRlQ29sbGVjdGlvbik7XHJcblxyXG5cdFx0XHR0aGlzLndyaXRlU3RyaW5nKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LnRvSnNvbihzdGF0Q29sbGVjdGlvbikpO1xyXG5cdFx0XHQvLyBNYWtlIHN1cmUgdG8ga2VlcCBvdXIgaW50ZXJuYWwgY29sbGVjdGlvbiBjb25zaXN0ZW50IHdpdGggd2hhdCB3ZSBqdXN0IHdyb3RlXHJcblx0XHRcdHRoaXMucHJldmlvdXNTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdHRoaXMuc3RvcmFnZS5maWxlVW5sb2NrKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldFBlbmRpbmdTdXJ2ZXlzKHBlbmRpbmdTdXJ2ZXlzOiBJRGljdGlvbmFyeTxJU3VydmV5Pik6IHZvaWQge1xyXG5cdFx0dGhpcy5jYW5kaWRhdGVTdXJ2ZXlzID0ge307XHJcblx0XHRpZiAocGVuZGluZ1N1cnZleXMpIHtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gcGVuZGluZ1N1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAocGVuZGluZ1N1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3VydmV5OiBJU3VydmV5ID0gcGVuZGluZ1N1cnZleXNba2V5XTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmxhdW5jaGVyRmFjdG9yeS5BY2NlcHRzU3VydmV5KHN1cnZleSkpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYW5kaWRhdGVTdXJ2ZXlzW2tleV0gPSBzdXJ2ZXk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEN1cnJlbnRTdXJ2ZXlEZWZpbml0aW9ucygpOiBJU3VydmV5W10ge1xyXG5cdFx0Ly8gR2V0IGEgdmVjdG9yIG9mIFN1cnZleXMgZnJvbSBvdXIgaWQtYmFzZWQgbWFwXHJcblx0XHRjb25zdCBzdXJ2ZXlMaXN0OiBJU3VydmV5W10gPSBuZXcgQXJyYXk8SVN1cnZleT4oKTtcclxuXHJcblx0XHRjb25zdCBhbGxDYW1wYWlnbkRlZmluaXRpb25JRHMgPSB0aGlzLmdldEFsbENhbXBhaWduRGVmaW5pdGlvbklEcygpO1xyXG5cdFx0Y29uc3QgYWxsQ2FuZGlkYXRlQ2FtcGFpZ25EZWZpbml0aW9uSURzID0gdGhpcy5nZXRBbGxDYW5kaWRhdGVDYW1wYWlnbkRlZmluaXRpb25JRHMoKTtcclxuXHJcblx0XHQvLyBHZXQgYWxsIHRoZSBjYW1wYWlnbiBkZWZpbml0aW9ucy4gV2UgbmVlZCBpbmZvIGZyb20gdGhlc2UgZm9yIHRlbGVtZXRyeS5cclxuXHRcdGNvbnN0IGFsbENhbXBhaWduRGVmaW5pdGlvbnMgPSAodGhpcy5zdXJ2ZXlDbGllbnQgYXMgQ2FtcGFpZ25NYW5hZ2VyKS5nZXRDYW1wYWlnbkRlZmluaXRpb25zKCk7XHJcblxyXG5cdFx0Y29uc3QgaXNTdXJ2ZXlBbGxvd2VkID0gKHN1cnZleUluZm86IElTdXJ2ZXlJbmZvKSA9PiB7XHJcblx0XHRcdC8vIGFsd2F5cyBhbGxvdyBidXNpbmVzcyBjcml0aWNhbCBhbmQgYXBwcm92ZWQgY2FtcGFpZ25zXHJcblx0XHRcdGlmIChpc0J1c2luZXNzQ3JpdGljYWxTdXJ2ZXkoc3VydmV5SW5mbykpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgc3VydmV5QWN0aXZhdGlvblN0YXRzID0gdGhpcy5wcmV2aW91c1N1cnZleUFjdGl2YXRpb25TdGF0cy5nZXRCeVN1cnZleUlkKHN1cnZleUluZm8uZ2V0SWQoKSk7XHJcblx0XHRcdGlmIChpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pICYmXHJcblx0XHRcdFx0IWhhc1N1cnZleVJlYWNoZWRNYXhMYXVuY2hlcyhzdXJ2ZXlJbmZvLCBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpICYmXHJcblx0XHRcdFx0IWhhc1N1cnZleVJlYWNoZWRNYXhMYXVuY2hlc1BlclNlc3Npb24oc3VydmV5SW5mbywgZ2xvYmFsU2Vzc2lvblN1cnZleUFjdGl2YXRpb25Db3VudHMpKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNraXAgb3ZlciBhbnkgY2FuZGlkYXRlIHN1cnZleXMgdGhhdCBoYXZlIGJlZW4gcHJldmlvdXNseSBjb21wbGV0ZWQgb3Igbm90IGFjdGl2ZSBhbnltb3JlXHJcblx0XHRcdGlmIChzdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgfHwgIXN1cnZleUluZm8uaXNBY3RpdmVGb3JEYXRlKG5ldyBEYXRlKCkpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5jYW5kaWRhdGVTdXJ2ZXlzKSB7XHJcblx0XHRcdGlmICh0aGlzLmNhbmRpZGF0ZVN1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN1cnZleTogSVN1cnZleSA9IHRoaXMuY2FuZGlkYXRlU3VydmV5c1trZXldO1xyXG5cdFx0XHRcdGNvbnN0IHN1cnZleUluZm8gPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0XHRcdGNvbnN0IGNhbXBhaWduRGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uID0gYWxsQ2FtcGFpZ25EZWZpbml0aW9uc1tzdXJ2ZXlJbmZvPy5nZXRCYWNrRW5kSWQoKV07XHJcblx0XHRcdFx0aWYgKCFjYW1wYWlnbkRlZmluaXRpb24gfHwgIWlzU3VydmV5QWxsb3dlZChzdXJ2ZXlJbmZvKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBzZW5kIHRoZSBVc2VyU2VsZWN0ZWQgZXZlbnQgaWYgaXQgaXMgbm90IHNlbnQgYmVmb3JlXHJcblx0XHRcdFx0aWYgKHRoaXMuc3VydmV5RXZlbnRTZW50LmluZGV4T2Yoa2V5KSA8IDApIHtcclxuXHRcdFx0XHRcdHRoaXMuc3VydmV5RXZlbnRTZW50LnB1c2goa2V5KTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBhZGRpdGlvbmFsU3VydmV5SW5mbyA9IHRoaXMuZ2V0QWRkaXRpb25hbFN1cnZleUluZm9Gb3JUZWxlbWV0cnkoc3VydmV5LFxyXG5cdFx0XHRcdFx0XHRudWxsIC8qIGNvbnRleHRJbmZvICovLFxyXG5cdFx0XHRcdFx0XHRhbGxDYW1wYWlnbkRlZmluaXRpb25JRHMsXHJcblx0XHRcdFx0XHRcdGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcyk7XHJcblxyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLnRlbGVtZXRyeUxvZ2dlci5sb2dfVXNlclNlbGVjdGVkKHN1cnZleUluZm8uZ2V0QmFja0VuZElkKCksXHJcblx0XHRcdFx0XHRcdHN1cnZleUluZm8uZ2V0SWQoKSxcclxuXHRcdFx0XHRcdFx0c3VydmV5LmdldFR5cGUoKSxcclxuXHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFN1cnZleUluZm8pKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHN1cnZleUxpc3QucHVzaChzdXJ2ZXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN1cnZleUxpc3Q7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEFkZGl0aW9uYWxTdXJ2ZXlJbmZvRm9yVGVsZW1ldHJ5KHN1cnZleTogSVN1cnZleSxcclxuXHRcdGNvbnRleHRJbmZvOiBJQ29udGV4dERhdGFbXSwgYWxsQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBzdHJpbmdbXSwgYWxsQ2FuZGlkYXRlQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBzdHJpbmdbXSk6IHtcclxuXHRcdGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEczogc3RyaW5nW10sXHJcblx0XHRhbGxDYW1wYWlnbkRlZmluaXRpb25JRHM6IHN0cmluZ1tdLFxyXG5cdFx0Y29udGV4dENvdW50PzogbnVtYmVyLFxyXG5cdFx0c3VydmV5TGF1bmNoZXJUeXBlOiBzdHJpbmcsXHJcblx0XHRjaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSxcclxuXHRcdHBlcmNlbnRhZ2VOdW1lcmF0b3I6IG51bWJlcixcclxuXHRcdHBlcmNlbnRhZ2VEZW5vbWluYXRvcjogbnVtYmVyLFxyXG5cdFx0bm9taW5hdGlvblBlcmlvZE51bWJlcjogbnVtYmVyLFxyXG5cdFx0Y29vbGRvd25QZXJpb2ROdW1iZXI6IG51bWJlcixcclxuXHRcdGJ1c2luZXNzTGV2ZWw6IG51bWJlcixcclxuXHRcdG1heExhdW5jaGVzOiBudW1iZXIsXHJcblx0XHRtYXhMYXVuY2hlc1BlclNlc3Npb246IG51bWJlcixcclxuXHRcdGdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50U3RhdGU/OiBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLFxyXG5cdH0ge1xyXG5cdFx0Ly8gR2V0IGFsbCB0aGUgY2FtcGFpZ24gZGVmaW5pdGlvbnMuIFdlIG5lZWQgaW5mbyBmcm9tIHRoZXNlIGZvciB0ZWxlbWV0cnkuXHJcblx0XHRjb25zdCBhbGxDYW1wYWlnbkRlZmluaXRpb25zID0gKHRoaXMuc3VydmV5Q2xpZW50IGFzIENhbXBhaWduTWFuYWdlcikuZ2V0Q2FtcGFpZ25EZWZpbml0aW9ucygpO1xyXG5cclxuXHRcdC8vIEdldCB0aGUgY29ycmVzcG9uZGluZyBjYW1wYWlnbiBkZWZpbml0aW9uIHRvIHRoZSBzdXJ2ZXkgaW4gcXVlc3Rpb24uXHJcblx0XHRjb25zdCBjb3JyZXNwb25kaW5nQ2FtcGFpZ25EZWZpbml0aW9uID0gYWxsQ2FtcGFpZ25EZWZpbml0aW9uc1tzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpXTtcclxuXHJcblx0XHQvLyBTdXJ2ZXkgcHJvcGVydGllcyB0byBnZXQgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBDYW1wYWlnbkRlZmluaXRpb246XHJcblx0XHRsZXQgcGVyY2VudGFnZU51bWVyYXRvcjogbnVtYmVyO1xyXG5cdFx0bGV0IHBlcmNlbnRhZ2VEZW5vbWluYXRvcjogbnVtYmVyO1xyXG5cdFx0bGV0IG5vbWluYXRpb25QZXJpb2ROdW1iZXI6IG51bWJlcjtcclxuXHRcdGxldCBjb29sZG93blBlcmlvZE51bWJlcjogbnVtYmVyO1xyXG5cclxuXHRcdHBlcmNlbnRhZ2VOdW1lcmF0b3IgPSAoY29ycmVzcG9uZGluZ0NhbXBhaWduRGVmaW5pdGlvbi5ub21pbmF0aW9uU2NoZW1lIGFzIENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSkucGVyY2VudGFnZU51bWVyYXRvcjtcclxuXHRcdHBlcmNlbnRhZ2VEZW5vbWluYXRvciA9IChjb3JyZXNwb25kaW5nQ2FtcGFpZ25EZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUgYXMgQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lUmF0aW9QZXJjZW50YWdlKS5wZXJjZW50YWdlRGVub21pbmF0b3I7XHJcblxyXG5cdFx0bm9taW5hdGlvblBlcmlvZE51bWJlciA9IGNvcnJlc3BvbmRpbmdDYW1wYWlnbkRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5ub21pbmF0aW9uUGVyaW9kLmFzVGltZUludGVydmFsU2Vjb25kcygpO1xyXG5cdFx0bm9taW5hdGlvblBlcmlvZE51bWJlciA9IGlzTk9VKG5vbWluYXRpb25QZXJpb2ROdW1iZXIpID8gLTEgOiBub21pbmF0aW9uUGVyaW9kTnVtYmVyOyAvLyBTZXR0aW5nIHRvIC0xIGlmIG51bGwgb3IgdW5kZWZpbmVkXHJcblxyXG5cdFx0Y29vbGRvd25QZXJpb2ROdW1iZXIgPSBjb3JyZXNwb25kaW5nQ2FtcGFpZ25EZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuY29vbGRvd25QZXJpb2QuYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk7XHJcblx0XHRjb29sZG93blBlcmlvZE51bWJlciA9IGlzTk9VKGNvb2xkb3duUGVyaW9kTnVtYmVyKSA/IC0xIDogY29vbGRvd25QZXJpb2ROdW1iZXI7ICAvLyBTZXR0aW5nIHRvIC0xIGlmIG51bGwgb3IgdW5kZWZpbmVkXHJcblxyXG5cdFx0Y29uc3Qgc3VydmV5SW5mbyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRhbGxDYW1wYWlnbkRlZmluaXRpb25JRHMsXHJcblx0XHRcdGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcyxcclxuXHRcdFx0Y2hhbm5lbFR5cGU6IHN1cnZleUluZm8uZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpLFxyXG5cdFx0XHRjb250ZXh0Q291bnQ6IGNvbnRleHRJbmZvID8gY29udGV4dEluZm8ubGVuZ3RoIDogdW5kZWZpbmVkLFxyXG5cdFx0XHRjb29sZG93blBlcmlvZE51bWJlcixcclxuXHRcdFx0bm9taW5hdGlvblBlcmlvZE51bWJlcixcclxuXHRcdFx0cGVyY2VudGFnZURlbm9taW5hdG9yLFxyXG5cdFx0XHRwZXJjZW50YWdlTnVtZXJhdG9yLFxyXG5cdFx0XHRzdXJ2ZXlMYXVuY2hlclR5cGU6IHN1cnZleS5nZXRMYXVuY2hlclR5cGUoKSxcclxuXHJcblx0XHRcdGJ1c2luZXNzTGV2ZWw6IHN1cnZleUluZm8uZ2V0QnVzaW5lc3NMZXZlbCgpLFxyXG5cdFx0XHRtYXhMYXVuY2hlczogc3VydmV5SW5mby5nZXRNYXhMYXVuY2hlcygpLFxyXG5cdFx0XHRtYXhMYXVuY2hlc1BlclNlc3Npb246IHN1cnZleUluZm8uZ2V0TWF4TGF1bmNoZXNQZXJTZXNzaW9uKCksXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRBbGxDYW5kaWRhdGVDYW1wYWlnbkRlZmluaXRpb25JRHMoKTogc3RyaW5nW10ge1xyXG5cclxuXHRcdGNvbnN0IGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHQvLyBHZXQgYWxsIHRoZSBjYW5kaWRhdGUgc3VydmV5cycgY2FtcGFpZ24gZGVmaW5pdGlvbiBJRHNcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FuZGlkYXRlU3VydmV5cykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBjYW5kaWRhdGVTdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHRcdFx0XHRhbGxDYW5kaWRhdGVDYW1wYWlnbkRlZmluaXRpb25JRHMucHVzaChjYW5kaWRhdGVTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0QWxsQ2FtcGFpZ25EZWZpbml0aW9uSURzKCk6IHN0cmluZ1tdIHtcclxuXHJcblx0XHRjb25zdCBhbGxDYW1wYWlnbkRlZmluaXRpb25zID0gKHRoaXMuc3VydmV5Q2xpZW50IGFzIENhbXBhaWduTWFuYWdlcikuZ2V0Q2FtcGFpZ25EZWZpbml0aW9ucygpO1xyXG5cdFx0Y29uc3QgYWxsQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3QgZGVmaW5pdGlvbnNLZXkgaW4gYWxsQ2FtcGFpZ25EZWZpbml0aW9ucykge1xyXG5cdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFsbENhbXBhaWduRGVmaW5pdGlvbnMsIGRlZmluaXRpb25zS2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IGFsbENhbXBhaWduRGVmaW5pdGlvbnNbZGVmaW5pdGlvbnNLZXldO1xyXG5cdFx0XHRcdGFsbENhbXBhaWduRGVmaW5pdGlvbklEcy5wdXNoKGRlZmluaXRpb24uY2FtcGFpZ25JZCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhbGxDYW1wYWlnbkRlZmluaXRpb25JRHM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUFjdGl2aXR5TGlzdGVuZXJXaXRoQ3VycmVudFN1cnZleURlZmluaXRpb25zKCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3VydmV5TGlzdDogSVN1cnZleVtdID0gdGhpcy5nZXRDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdGNvbnN0IHRyYWNraW5nQ29udHJhY3RMaXN0OiBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3Qgc3VydmV5IG9mIHN1cnZleUxpc3QpIHtcclxuXHRcdFx0Y29uc3Qgc3VydmV5SW5mbyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCk7XHJcblx0XHRcdGNvbnN0IHRyYWNraW5nQ29udHJhY3QgPSBuZXcgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0KHN1cnZleUluZm8uZ2V0SWQoKSwgc3VydmV5SW5mby5nZXRBY3RpdmF0aW9uRXZlbnQoKS5nZXRUcmFja2luZ1NldCgpKTtcclxuXHRcdFx0dHJhY2tpbmdDb250cmFjdExpc3QucHVzaCh0cmFja2luZ0NvbnRyYWN0KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuU2V0QWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0cyh0cmFja2luZ0NvbnRyYWN0TGlzdCwgdGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldENyaXRpY2FsUGVuZGluZ1N1cnZleXNBbmRVcGRhdGVBY3Rpdml0eUxpc3RlbmVyKCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlU3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHJcblx0XHQvLyBHZXQgYWxsIHRoZSBjYW5kaWRhdGUgc3VydmV5cycgY2FtcGFpZ24gZGVmaW5pdGlvbiBJRHNcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FuZGlkYXRlU3VydmV5cykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBjYW5kaWRhdGVTdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHRcdFx0XHRpZiAoaXNDcml0aWNhbFN1cnZleShjYW5kaWRhdGVTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpKSkge1xyXG5cdFx0XHRcdFx0YWN0aXZlU3VydmV5c1trZXldID0gY2FuZGlkYXRlU3VydmV5O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChPYmplY3Qua2V5cyhhY3RpdmVTdXJ2ZXlzKS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXMoYWN0aXZlU3VydmV5cyk7XHJcblx0XHRcdHRoaXMudXBkYXRlQWN0aXZpdHlMaXN0ZW5lcldpdGhDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2hvdWxkQWNjZXB0QWN0aXZpdHkoYWN0aXZpdHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkIHx8XHJcblx0XHRcdGFjdGl2aXR5TmFtZSA9PT0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5GbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SWQ6IHN0cmluZywgY29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKTogdm9pZCB7XHJcblx0XHQvLyBGaW5kIHRoZSBzdXJ2ZXkgb2JqZWN0IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHN1cnZleUlkIHBhc3NlZFxyXG5cdFx0Y29uc3Qgc3VydmV5czogSVN1cnZleVtdID0gdGhpcy5nZXRDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdGxldCBzdXJ2ZXk6IElTdXJ2ZXk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCB0ZW1wU3VydmV5IG9mIHN1cnZleXMpIHtcclxuXHRcdFx0aWYgKHRlbXBTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCkgPT09IHN1cnZleUlkKSB7XHJcblx0XHRcdFx0c3VydmV5ID0gdGVtcFN1cnZleTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVShzdXJ2ZXkpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLk9uU3VydmV5QWN0aXZhdGVkLlN1cnZleU5vdERlZmluZWQsXHJcblx0XHRcdFx0XCJTdXJ2ZXkgaXMgbm90IGRlZmluZWQgaW4gdGhlIGN1cnJlbnQgc3VydmV5IGRlZmluaXRpb25zLlwiLFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhlIGdvdmVybmFuY2Ugc2VydmljZSBpcyBpbiB1c2UsIGxhdW5jaCBzdXJ2ZXkgYXN5bmNocm9ub3VzbHlcclxuXHRcdFx0aWYgKHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQuaXNFbmFibGVkKGdvdmVybmVkQ2hhbm5lbFR5cGUpKSB7XHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBzdGFsZSBzdXJ2ZXlzLCBzbyB3ZSBjYW4gY2xlYXIgaXRzIHRyYWNrZXIgaWYgRW5naW5lIGlzIHN0b3BwZWRcclxuXHRcdFx0XHR0aGlzLnN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlLnB1c2goc3VydmV5KTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgbm8gc3VydmV5IGluIHN0YWxlIGJlZm9yZSwgbGF1bmNoIHRoZSBzdXJ2ZXkgcmlnaHQgYXdheVxyXG5cdFx0XHRcdGlmICh0aGlzLnN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHRcdFx0Ly8gTGF1bmNoIHRoZSBzdXJ2ZXkgYXN5bmNocm9ub3VzbHlcclxuXHRcdFx0XHRcdHRoaXMuY2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5KHN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm8pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmFjdGl2YXRlU3VydmV5KHN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm8pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5PblN1cnZleUFjdGl2YXRlZC5FcnJvcixcclxuXHRcdFx0XHR7IEVycm9yTWVzc2FnZTogYEVycm9yIGFjdGl2YXRpbmcgc3VydmV5ICR7ZSAmJiBlLnRvU3RyaW5nKCl9YCwgRXJyb3JEZXRhaWxzOiBlICYmIGUuc3RhY2sgfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFjdGl2YXRlU3VydmV5KHN1cnZleTogSVN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKSB7XHJcblx0XHRsZXQgbGF1bmNoU3VydmV5OiBib29sZWFuID0gZmFsc2U7XHJcblx0XHQvLyBGaWd1cmUgb3V0IGlmIHRoZSBhY3RpdmF0ZWQgc3VydmV5IGlzIHN0aWxsIHJlbGV2YW50XHJcblx0XHRpZiAoIXRoaXMuY2FuZGlkYXRlU3VydmV5c1tzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCldKSB7XHJcblx0XHRcdC8vIFN1cnZleSBpcyBubyBsb25nZXIgcmVsZXZhbnQgYnV0IHdhcyBhY3RpdmF0ZWQuIFN1cHByZXNzIGl0LlxyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5PblN1cnZleUFjdGl2YXRlZC5BY3RpdmF0aW9uSXJyZWxldmFudFN1cnZleSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRDYW1wYWlnbklkOiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpLFxyXG5cdFx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0gZWxzZSBpZiAoIXN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuaXNBY3RpdmVGb3JEYXRlKG5ldyBEYXRlKCkpKSB7XHJcblx0XHRcdC8vIFN1cnZleSBpcyBubyBsb25nZXIgYWN0aXZlIChlLmcuIGl0IHdhcyB3aGVuIHdlIHJlZ2lzdGVyZWQgaXQgYnV0IGl0IGhhcyBub3cgZXhwaXJlZClcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQWN0aXZhdGlvbkV4cGlyZWRTdXJ2ZXksXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Q2FtcGFpZ25JZDogc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKSxcclxuXHRcdFx0XHRcdFN1cnZleUlkOiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCksXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBSZWZyZXNoIGNoYW5uZWxzXHJcblx0XHRcdHRoaXMuZ292ZXJub3IucmVmcmVzaENoYW5uZWxEYXRhKCk7XHJcblxyXG5cdFx0XHRpZiAoaXNDcml0aWNhbFN1cnZleShzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpKSkge1xyXG5cdFx0XHRcdGxhdW5jaFN1cnZleSA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuZ292ZXJub3IuaXNDaGFubmVsT3Blbihnb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRcdC8vIENoYW5uZWwgaGFzIGNsb3NlZCBhbmQgbWF4TGF1bmNoZXMgaXMgbm90IHNldCwgc3VwcHJlc3MgdGhlIHN1cnZleVxyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQ2xvc2VkQ2hhbm5lbFR5cGUsXHJcblx0XHRcdFx0XHR7IENsb3NlZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlW2dvdmVybmVkQ2hhbm5lbFR5cGVdIH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIEdldCBsYXRlc3Qgc3VydmV5IHN0YXRlcyBmcm9tIHByb3ZpZGVyXHJcblx0XHRcdFx0Y29uc3QgcmVmcmVzaGVkU3VydmV5QWN0aXZhdGlvblN0YXRzID0gdGhpcy5zdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlci5sb2FkKCk7XHJcblx0XHRcdFx0aWYgKHJlZnJlc2hlZFN1cnZleUFjdGl2YXRpb25TdGF0cy5nZXRCeVN1cnZleUlkKHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSkpIHtcclxuXHRcdFx0XHRcdC8vIFN1cnZleSBzdGF0cyBleGlzdHMgYWxyZWFkeSwgZG9uJ3QgbGF1bmNoXHJcblx0XHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQWN0aXZhdGlvblN0YXRzU3VwcHJlc3NlZFN1cnZleSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdENhbXBhaWduSWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0QmFja0VuZElkKCksXHJcblx0XHRcdFx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSxcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmxhdW5jaGVkU3VydmV5cykubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHQvLyBmb3Igbm93IHdlIG9ubHkgc3VwcG9ydCBsYXVuY2hpbmcgb25lIHN1cnZleSBwZXIgc2Vzc2lvbiB1bmxlc3MgaXQgaXMgbXVsdGktbGF1bmNoIGNhbXBhaWduXHJcblx0XHRcdFx0XHQvLyBUcmFjayB0aGlzIHN1cnZleSBhY3RpdmF0aW9uIGZvciB0aGUgbGF1bmNoIGhpc3RvcnkgdHJhY2tlclxyXG5cdFx0XHRcdFx0bGF1bmNoU3VydmV5ID0gdHJ1ZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y29uc3QgdHJpZ2dlcmVkU3VydmV5ID0gT2JqZWN0LnZhbHVlcyh0aGlzLmxhdW5jaGVkU3VydmV5cylbMF07XHJcblx0XHRcdFx0XHRpZiAoIWlzTk9VKHRyaWdnZXJlZFN1cnZleSkpIHtcclxuXHRcdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuU2Vzc2lvblN1cHByZXNzZWRTdXJ2ZXksXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Q2FtcGFpZ25JZDogdHJpZ2dlcmVkU3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFN1cnZleUlkOiB0cmlnZ2VyZWRTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCksXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAobGF1bmNoU3VydmV5KSB7XHJcblx0XHRcdFx0dGhpcy5sYXVuY2hlZFN1cnZleXNbc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpXSA9IHN1cnZleTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEF0IHRoaXMgcG9pbnQsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBvciBub3QgdGhlIHN1cnZleSBpcyBzdGlsbCByZWxldmFudCwgd2Ugc2hvdWxkIGZsdXNoIG91dCB0aGUgc3RhdHNcclxuXHRcdHRoaXMudXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHN1cnZleSk7XHJcblx0XHR0aGlzLm1lcmdlQW5kU2F2ZSgpO1xyXG5cdFx0Ly8gc2h1dCBvZmYgZnVydGhlciBzdXJ2ZXkgbGF1bmNoZXNcclxuXHRcdHRoaXMuYWN0aXZpdHlMaXN0ZW5lci5jbGVhclN1cnZleXMoKTtcclxuXHJcblx0XHQvLyBDbGVhciB0aGUgc3VydmV5IGZyb20gc3RhbGUgbGlzdFxyXG5cdFx0dGhpcy5zdGFsZVRyaWdnZXJlZFN1cnZleXNRdWV1ZSA9IFtdO1xyXG5cclxuXHRcdC8vIEFjdHVhbGx5IGxhdW5jaCB0aGUgc3VydmV5IGlmIHBvc3NpYmxlXHJcblx0XHRpZiAobGF1bmNoU3VydmV5KSB7XHJcblx0XHRcdC8vIEdldCB0aGUgc3RyaW5naWZpZWQganNvbiB3aXRoIGFjdGl2aXR5IG5hbWVzLCBjb3VudHMgYW5kIGlzQWdncmVnYXRlIGluZm8gZm9yIFRyaWdnZXRNZXQgdGVsZW1ldHJ5LlxyXG5cdFx0XHRjb25zdCBhY3Rpdml0eVRyYWNraW5nU3RyaW5nID0gc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRBY3RpdmF0aW9uRXZlbnQoKS5nZXRUcmFja2luZ1NldCgpXHJcblx0XHRcdC5nZXRBY3Rpdml0eVRyYWNraW5nSW5mbyh0aGlzLmFjdGl2aXR5TGlzdGVuZXIsIHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSk7XHJcblxyXG5cdFx0XHRjb25zdCBhZGRpdGlvbmFsU3VydmV5SW5mbyA9IHRoaXMuZ2V0QWRkaXRpb25hbFN1cnZleUluZm9Gb3JUZWxlbWV0cnkoc3VydmV5LCBjb250ZXh0SW5mbywgdGhpcy5nZXRBbGxDYW1wYWlnbkRlZmluaXRpb25JRHMoKSxcclxuXHRcdFx0XHR0aGlzLmdldEFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcygpKTtcclxuXHJcblx0XHRcdC8vIE9ubHkgYWRkaW5nIHRoZSBnb3Zlcm5hbmNlIHNlcnZpY2UgY2xpZW50IHN0YXRlIGF0IFRyaWdnZXJNZXQgZXZlbnRcclxuXHRcdFx0YWRkaXRpb25hbFN1cnZleUluZm8uZ292ZXJuYW5jZVNlcnZpY2VDbGllbnRTdGF0ZSA9IHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQuZ2V0Q2xpZW50U3RhdGUoKTtcclxuXHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXIubG9nX1RyaWdnZXJNZXQoc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKSwgc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpLFxyXG5cdFx0XHRcdHN1cnZleS5nZXRUeXBlKCksIGFjdGl2aXR5VHJhY2tpbmdTdHJpbmcsIEpTT04uc3RyaW5naWZ5KGFkZGl0aW9uYWxTdXJ2ZXlJbmZvKSk7XHJcblxyXG5cdFx0XHQvLyBTZXQgZ292ZXJuIGNoYW5uZWxcclxuXHRcdFx0dGhpcy5nb3Zlcm5vci5zdGFydENoYW5uZWxDb29sZG93bihnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHJcblx0XHRcdGNvbnN0IHN1cnZleUluZm8gPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0XHRsZXQgaXNTdXJ2ZXlDb21wbGV0ZSA9IHRydWU7XHJcblx0XHRcdGlmIChpc0J1c2luZXNzQ3JpdGljYWxTdXJ2ZXkoc3VydmV5SW5mbykpIHtcclxuXHRcdFx0XHQvLyBjcml0aWNhbCBjYW1wYWlnbnMgYXJlIG5vdCB0cmFja2VkXHJcblx0XHRcdFx0aXNTdXJ2ZXlDb21wbGV0ZSA9IGZhbHNlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGlzTXVsdGlMYXVuY2hTdXJ2ZXkoc3VydmV5SW5mbykpIHtcclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSB0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzLmdldEJ5U3VydmV5SWQoc3VydmV5SW5mby5nZXRJZCgpKTtcclxuXHRcdFx0XHRpc1N1cnZleUNvbXBsZXRlID0gaGFzU3VydmV5UmVhY2hlZE1heExhdW5jaGVzKHN1cnZleUluZm8sIHN1cnZleUFjdGl2YXRpb25TdGF0cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNldCBjYW1wYWlnbiBzdGF0ZXNcclxuXHRcdFx0dGhpcy5zdXJ2ZXlDbGllbnQub25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SW5mbywgaXNTdXJ2ZXlDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHQvLyBTaG93IHRoZSBzdXJ2ZXlcclxuXHRcdFx0dGhpcy5sYXVuY2hMYXVuY2hlcihzdXJ2ZXksIGNvbnRleHRJbmZvKTtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgY3JpdGljYWwgY2FtcGFpZ25zIGFuZCBzdGFydCB0cmFja2luZyBhZ2FpblxyXG5cdFx0XHR0aGlzLnNldENyaXRpY2FsUGVuZGluZ1N1cnZleXNBbmRVcGRhdGVBY3Rpdml0eUxpc3RlbmVyKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGNoZWNrR292ZXJuYW5jZVNlcnZpY2VBbmRBY3RpdmF0ZVN1cnZleShzdXJ2ZXk6IElTdXJ2ZXksXHJcblx0XHRnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlLFxyXG5cdFx0Y29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBHZXQgdGhlIGNvb2xkb3duIHNldHRpbmdcclxuXHRcdGNvbnN0IGNhbXBhaWduRGVmaW5pdGlvbiA9IHRoaXMuc3VydmV5Q2xpZW50LmdldENhbXBhaWduRGVmaW5pdGlvbnMoKVtzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpXTtcclxuXHRcdGNvbnN0IGNhbXBhaWduQ29vbGRvd24gPSBjYW1wYWlnbkRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5jb29sZG93blBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKTtcclxuXHRcdGNvbnN0IGNoYW5uZWxDb29sZG93biA9IEdvdmVybm9yLkdldENoYW5uZWxDb29sRG93bihnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHJcblx0XHQvLyBDYWxsIHRoZSBHb3Zlcm5hbmNlIFNlcnZpY2VcclxuXHRcdGNvbnN0IHNlcnZpY2VSZXN1bHQ6IElHb3Zlcm5hbmNlU2VydmljZVJlc3VsdCA9IGF3YWl0IHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VDbGllbnRcclxuXHRcdFx0LmNoZWNrR292ZXJuYW5jZVBlcm1pdEFzeW5jKHN1cnZleSwgY2FtcGFpZ25Db29sZG93biwgY2hhbm5lbENvb2xkb3duLCBnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHRcdGxldCBsYXVuY2hTdXJ2ZXk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0XHQvLyBMb2cgdGhlIHN0YWxlXHJcblx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuQ2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5LkdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50Q29tcGxldGVkLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0TWVzc2FnZTogSlNPTi5zdHJpbmdpZnkodGhpcy5jcmVhdGVHb3J2ZXJuYW5jZVJlc3BvbnNlVGVsZW1ldHJ5KHNlcnZpY2VSZXN1bHQpKSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgaWYgZW5naW5lIGlzIHN0aWxsIHJ1bm5pbmdcclxuXHRcdGlmICh0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzICE9PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXNlcnZpY2VSZXN1bHQuZXJyb3IpIHtcclxuXHRcdFx0Ly8gQ2hlY2sgcmVzdWx0IGlzIHBlcm1pdHRlZFxyXG5cdFx0XHRpZiAoc2VydmljZVJlc3VsdC5wZXJtaXNzaW9uKSB7IC8vIHRoZSBHb3Zlcm5hbmNlIFNlcnZpY2UgaXMgcGVybWl0dGluZywgY29udGludWUgdG8gdHJpZ2dlclxyXG5cdFx0XHRcdGxhdW5jaFN1cnZleSA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29uc3QgbGFzdFN1cnZleVRyaWdnZXJJbmZvOiBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlID0gc2VydmljZVJlc3VsdC5sYXN0VHJpZ2dlclN1cnZleTtcclxuXHRcdFx0XHQvLyBGb3Igbm93LCB3ZSBvbmx5IGtub3cgdGhlIGNoYW5uZWwgaXMgaW4gY29vbGRvd24gYnV0IG5vdCB0aGUgc3BlY2lmaWMgc3VydmV5XHJcblx0XHRcdFx0Ly8gU28gb25seSBzZXQgZ292ZXJuZWQgY2hhbm5lbCB0byBuZXcgY29vbGRvd25cclxuXHRcdFx0XHR0aGlzLmdvdmVybm9yLnN0YXJ0Q2hhbm5lbENvb2xkb3duKGdvdmVybmVkQ2hhbm5lbFR5cGUsIGxhc3RTdXJ2ZXlUcmlnZ2VySW5mby5sYXN0VHJpZ2dlclN1cnZleVRpbWUpO1xyXG5cclxuXHRcdFx0XHQvLyBDbGVhciB0aGUgc3VydmV5IHJlbGF0aW5nIHRvIGNoYW5uZWxcclxuXHRcdFx0XHR0aGlzLmNsZWFyU3VydmV5V2l0aENoYW5uZWwoZ292ZXJuZWRDaGFubmVsVHlwZSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIElmIGZvcmNlIHRvIGRpc3BsYXkgd2l0aCBlcnJvciwgY29udGludWUgdG8gdHJpZ2dlciB0aGUgc3VydmV5XHJcblx0XHRcdGlmICh0aGlzLmdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50LnNob3VsZEZvcmNlRGlzcGxheSgpKSB7XHJcblx0XHRcdFx0bGF1bmNoU3VydmV5ID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0Ly8gTG9nIHRoZSBmb3JjZSB0byBkaXNwbGF5IGV2ZW50XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5DaGVja0dvdmVybmFuY2VTZXJ2aWNlQW5kQWN0aXZhdGVTdXJ2ZXkuR292ZXJuYW5jZVNlcnZpY2VGb3JjZVRvRGlzcGxheSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBzZXJ2aWNlUmVzdWx0LmVycm9yTWVzc2FnZSxcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxhdW5jaFN1cnZleSkge1xyXG5cdFx0XHQvLyBMYXVuY2ggdGhlIHN1cnZleVxyXG5cdFx0XHR0aGlzLmFjdGl2YXRlU3VydmV5KHN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm8pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgdGhlcmUgaXMgb25seSBvbmUgc3VydmV5LCB3aGljaCBpcyB0aGUgY3VycmVudCBvbmUgaW4gcHJvY2VzcywgY2xlYXIgcXVldWUgYW5kIHJldHVyblxyXG5cdFx0aWYgKHRoaXMuc3RhbGVUcmlnZ2VyZWRTdXJ2ZXlzUXVldWUubGVuZ3RoIDw9IDEpIHtcclxuXHRcdFx0dGhpcy5zdGFsZVRyaWdnZXJlZFN1cnZleXNRdWV1ZSA9IFtdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIHRoZSBmaXJzdCBhY3RpdmF0ZWQgc3VydmV5IGZyb20gdGhlIGxpc3Qgd2hpY2ggaXMgdGhlIGN1cnJlbnQgb25lIGluIHByb2Nlc3NcclxuXHRcdHRoaXMuc3RhbGVUcmlnZ2VyZWRTdXJ2ZXlzUXVldWUuc2hpZnQoKTtcclxuXHJcblx0XHQvLyBQbGF5YmFjayB0aGUgbmV4dCBhY3RpdmF0ZWQgc3VydmV5IGluIHdhaXRpbmdcclxuXHRcdHRoaXMuY2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5KHRoaXMuc3RhbGVUcmlnZ2VyZWRTdXJ2ZXlzUXVldWVbMF0sIGdvdmVybmVkQ2hhbm5lbFR5cGUsIGNvbnRleHRJbmZvKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVhZFN0cmluZyhmaWxlVHlwZTogRmlsZVR5cGUpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RvcmFnZS5yZWFkKGZpbGVUeXBlKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgd3JpdGVTdHJpbmcoZmlsZVR5cGU6IEZpbGVUeXBlLCBzdHI6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKGZpbGVUeXBlLCBzdHIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsYXVuY2hMYXVuY2hlcihzdXJ2ZXk6IElTdXJ2ZXksIGNvbnRleHRJbmZvOiBJQ29udGV4dERhdGFbXSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgbGF1bmNoZXI6IElTdXJ2ZXlMYXVuY2hlciA9IHRoaXMubGF1bmNoZXJGYWN0b3J5Lm1ha2VTdXJ2ZXlMYXVuY2hlcihzdXJ2ZXkpO1xyXG5cdFx0aWYgKGxhdW5jaGVyKSB7XHJcblx0XHRcdHRoaXMubGF1bmNoZWRMYXVuY2hlcnMucHVzaChsYXVuY2hlcik7XHJcblx0XHRcdHRoaXMub25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjay5vblN1cnZleUFjdGl2YXRlZChsYXVuY2hlciwgc3VydmV5LCB7IGNvbnRleHRJbmZvIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjbGVhclN1cnZleVdpdGhDaGFubmVsKGdvdmVybmVkQ2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUpIHtcclxuXHRcdGNvbnN0IGFjdGl2ZVN1cnZleXM6IElEaWN0aW9uYXJ5PElTdXJ2ZXk+ID0ge307XHJcblxyXG5cdFx0Ly8gR2V0IGFsbCB0aGUgY2FuZGlkYXRlIHN1cnZleXMnIGNhbXBhaWduIGRlZmluaXRpb24gSURzXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbmRpZGF0ZVN1cnZleXMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2FuZGlkYXRlU3VydmV5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2FuZGlkYXRlU3VydmV5OiBJU3VydmV5ID0gdGhpcy5jYW5kaWRhdGVTdXJ2ZXlzW2tleV07XHJcblx0XHRcdFx0aWYgKGNhbmRpZGF0ZVN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpICE9PSBnb3Zlcm5lZENoYW5uZWxUeXBlKSB7XHJcblx0XHRcdFx0XHRhY3RpdmVTdXJ2ZXlzW2tleV0gPSBjYW5kaWRhdGVTdXJ2ZXk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jYW5kaWRhdGVTdXJ2ZXlzID0gYWN0aXZlU3VydmV5cztcclxuXHRcdHRoaXMuYWN0aXZpdHlMaXN0ZW5lci5VcGRhdGVBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzKHRoaXMuY2FuZGlkYXRlU3VydmV5cyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUdvcnZlcm5hbmNlUmVzcG9uc2VUZWxlbWV0cnkoc2VydmljZVJlc3VsdDogSUdvdmVybmFuY2VTZXJ2aWNlUmVzdWx0ICkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lU3RhdHVzOiB0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzLnRvU3RyaW5nKCksXHJcblx0XHRcdEdvdmVybmFuY2VTZXJ2aWNlUmVzdWx0OiBzZXJ2aWNlUmVzdWx0LFxyXG5cdFx0XHRTdGFsZVRyaWdnZXJlZFN1cnZleXNRdWV1ZUNvdW50OiB0aGlzLnN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlLmxlbmd0aCAtIDEsXHJcblx0XHR9O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/FloodgateEngine.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/FloodgateSettings.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/FloodgateSettings.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FloodgateSettings = void 0;\n/**\n * General floodgate settings\n */\nvar FloodgateSettings = /** @class */ (function () {\n    function FloodgateSettings() {\n    }\n    /**\n     * Convert to Json\n     */\n    FloodgateSettings.toJson = function (object) {\n        return JSON.stringify(object);\n    };\n    /**\n     * Load from Json\n     */\n    FloodgateSettings.fromJson = function (json) {\n        return JSON.parse(json);\n    };\n    return FloodgateSettings;\n}());\nexports.FloodgateSettings = FloodgateSettings;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0Zsb29kZ2F0ZVNldHRpbmdzLnRzPzRmMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSDtJQUFBO0lBY0EsQ0FBQztJQWJBOztPQUVHO0lBQ1csd0JBQU0sR0FBcEIsVUFBcUIsTUFBeUI7UUFDN0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNXLDBCQUFRLEdBQXRCLFVBQXVCLElBQVk7UUFDbEMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFDRix3QkFBQztBQUFELENBQUM7QUFkWSw4Q0FBaUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9GbG9vZGdhdGVTZXR0aW5ncy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHZW5lcmFsIGZsb29kZ2F0ZSBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEZsb29kZ2F0ZVNldHRpbmdzIHtcclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IEZsb29kZ2F0ZVNldHRpbmdzKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmcm9tIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIGZyb21Kc29uKGpzb246IHN0cmluZyk6IEZsb29kZ2F0ZVNldHRpbmdzIHtcclxuXHRcdHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/FloodgateSettings.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/GovernanceUtils.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/GovernanceUtils.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasSurveyReachedMaxLaunches = exports.hasSurveyReachedMaxLaunchesPerSession = exports.isCriticalSurvey = exports.isBusinessCriticalSurvey = exports.isMultiLaunchSurvey = void 0;\nvar Api_1 = __webpack_require__(/*! ./Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nfunction isMultiLaunchSurvey(surveyInfo) {\n    var maxLaunches = surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.getMaxLaunches();\n    return Utils_1.isNumber(maxLaunches) && maxLaunches > 1;\n}\nexports.isMultiLaunchSurvey = isMultiLaunchSurvey;\nfunction isBusinessCriticalSurvey(surveyInfo) {\n    var businessLevel = surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.getBusinessLevel();\n    return !Utils_1.isNOU(businessLevel) && businessLevel === Api_1.ISurveyInfo.BusinessLevel.Critical;\n}\nexports.isBusinessCriticalSurvey = isBusinessCriticalSurvey;\nfunction isCriticalSurvey(surveyInfo) {\n    return isMultiLaunchSurvey(surveyInfo) || isBusinessCriticalSurvey(surveyInfo);\n}\nexports.isCriticalSurvey = isCriticalSurvey;\nfunction hasSurveyReachedMaxLaunchesPerSession(surveyInfo, surveyActivationStats) {\n    var _a;\n    if (isMultiLaunchSurvey(surveyInfo) && Utils_1.isNumber(surveyInfo.getMaxLaunchesPerSession())) {\n        var surveyLaunchCountInSession = (_a = surveyActivationStats[surveyInfo.getId()]) !== null && _a !== void 0 ? _a : 0;\n        var maxLaunchesPerSession = surveyInfo.getMaxLaunchesPerSession();\n        return surveyLaunchCountInSession >= maxLaunchesPerSession;\n    }\n    return true;\n}\nexports.hasSurveyReachedMaxLaunchesPerSession = hasSurveyReachedMaxLaunchesPerSession;\nfunction hasSurveyReachedMaxLaunches(surveyInfo, surveyActivationStats) {\n    if (isMultiLaunchSurvey(surveyInfo)) {\n        var surveyLaunchCount = (surveyActivationStats === null || surveyActivationStats === void 0 ? void 0 : surveyActivationStats.SurveyLaunchCount) || 0;\n        return surveyLaunchCount >= surveyInfo.getMaxLaunches();\n    }\n    return true;\n}\nexports.hasSurveyReachedMaxLaunches = hasSurveyReachedMaxLaunches;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmFuY2VVdGlscy50cz9kYjNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHlGQUF3QztBQUd4Qyx1RkFBMEM7QUFFMUMsU0FBZ0IsbUJBQW1CLENBQUMsVUFBdUI7SUFDMUQsSUFBTSxXQUFXLEdBQUcsVUFBVSxhQUFWLFVBQVUsdUJBQVYsVUFBVSxDQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2pELE9BQU8sZ0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELENBQUM7QUFIRCxrREFHQztBQUVELFNBQWdCLHdCQUF3QixDQUFDLFVBQXVCO0lBQy9ELElBQU0sYUFBYSxHQUFHLFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3JELE9BQU8sQ0FBQyxhQUFLLENBQUMsYUFBYSxDQUFDLElBQUksYUFBYSxLQUFLLGlCQUFXLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztBQUN0RixDQUFDO0FBSEQsNERBR0M7QUFFRCxTQUFnQixnQkFBZ0IsQ0FBQyxVQUF1QjtJQUN2RCxPQUFPLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxJQUFJLHdCQUF3QixDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2hGLENBQUM7QUFGRCw0Q0FFQztBQUVELFNBQWdCLHFDQUFxQyxDQUFDLFVBQXVCLEVBQUUscUJBQTBDOztJQUN4SCxJQUFJLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxJQUFJLGdCQUFRLENBQUMsVUFBVSxDQUFDLHdCQUF3QixFQUFFLENBQUMsRUFBRTtRQUN2RixJQUFNLDBCQUEwQixTQUFHLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxtQ0FBSSxDQUFDLENBQUM7UUFDbEYsSUFBTSxxQkFBcUIsR0FBRyxVQUFVLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNwRSxPQUFPLDBCQUEwQixJQUFJLHFCQUFxQixDQUFDO0tBQzNEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDO0FBUkQsc0ZBUUM7QUFFRCxTQUFnQiwyQkFBMkIsQ0FBQyxVQUF1QixFQUFFLHFCQUE0QztJQUNoSCxJQUFJLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQ3BDLElBQU0saUJBQWlCLEdBQUcsc0JBQXFCLGFBQXJCLHFCQUFxQix1QkFBckIscUJBQXFCLENBQUUsaUJBQWlCLEtBQUksQ0FBQyxDQUFDO1FBQ3hFLE9BQU8saUJBQWlCLElBQUksVUFBVSxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ3hEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDO0FBUEQsa0VBT0MiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Hb3Zlcm5hbmNlVXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJU3VydmV5SW5mbyB9IGZyb20gXCIuL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnkgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgU3VydmV5QWN0aXZhdGlvblN0YXRzIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uXCI7XHJcbmltcG9ydCB7IGlzTk9VLCBpc051bWJlciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aUxhdW5jaFN1cnZleShzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbyk6IGJvb2xlYW4ge1xyXG5cdGNvbnN0IG1heExhdW5jaGVzID0gc3VydmV5SW5mbz8uZ2V0TWF4TGF1bmNoZXMoKTtcclxuXHRyZXR1cm4gaXNOdW1iZXIobWF4TGF1bmNoZXMpICYmIG1heExhdW5jaGVzID4gMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnVzaW5lc3NDcml0aWNhbFN1cnZleShzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbyk6IGJvb2xlYW4ge1xyXG5cdGNvbnN0IGJ1c2luZXNzTGV2ZWwgPSBzdXJ2ZXlJbmZvPy5nZXRCdXNpbmVzc0xldmVsKCk7XHJcblx0cmV0dXJuICFpc05PVShidXNpbmVzc0xldmVsKSAmJiBidXNpbmVzc0xldmVsID09PSBJU3VydmV5SW5mby5CdXNpbmVzc0xldmVsLkNyaXRpY2FsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNDcml0aWNhbFN1cnZleShzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbyk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiBpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pIHx8IGlzQnVzaW5lc3NDcml0aWNhbFN1cnZleShzdXJ2ZXlJbmZvKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc1N1cnZleVJlYWNoZWRNYXhMYXVuY2hlc1BlclNlc3Npb24oc3VydmV5SW5mbzogSVN1cnZleUluZm8sIHN1cnZleUFjdGl2YXRpb25TdGF0czogSURpY3Rpb25hcnk8bnVtYmVyPik6IGJvb2xlYW4ge1xyXG5cdGlmIChpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pICYmIGlzTnVtYmVyKHN1cnZleUluZm8uZ2V0TWF4TGF1bmNoZXNQZXJTZXNzaW9uKCkpKSB7XHJcblx0XHRjb25zdCBzdXJ2ZXlMYXVuY2hDb3VudEluU2Vzc2lvbiA9IHN1cnZleUFjdGl2YXRpb25TdGF0c1tzdXJ2ZXlJbmZvLmdldElkKCldID8/IDA7XHJcblx0XHRjb25zdCBtYXhMYXVuY2hlc1BlclNlc3Npb24gPSBzdXJ2ZXlJbmZvLmdldE1heExhdW5jaGVzUGVyU2Vzc2lvbigpO1xyXG5cdFx0cmV0dXJuIHN1cnZleUxhdW5jaENvdW50SW5TZXNzaW9uID49IG1heExhdW5jaGVzUGVyU2Vzc2lvbjtcclxuXHR9XHJcblxyXG5cdHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzU3VydmV5UmVhY2hlZE1heExhdW5jaGVzKHN1cnZleUluZm86IElTdXJ2ZXlJbmZvLCBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHM6IFN1cnZleUFjdGl2YXRpb25TdGF0cyk6IGJvb2xlYW4ge1xyXG5cdGlmIChpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pKSB7XHJcblx0XHRjb25zdCBzdXJ2ZXlMYXVuY2hDb3VudCA9IHN1cnZleUFjdGl2YXRpb25TdGF0cz8uU3VydmV5TGF1bmNoQ291bnQgfHwgMDtcclxuXHRcdHJldHVybiBzdXJ2ZXlMYXVuY2hDb3VudCA+PSBzdXJ2ZXlJbmZvLmdldE1heExhdW5jaGVzKCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernanceUtils.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/GovernedChannel.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/GovernedChannel.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GovernedChannel = exports.GovernedChannelType = void 0;\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar GovernedChannelType;\n(function (GovernedChannelType) {\n    GovernedChannelType[GovernedChannelType[\"Standard\"] = 0] = \"Standard\";\n    GovernedChannelType[GovernedChannelType[\"Urgent\"] = 1] = \"Urgent\";\n    GovernedChannelType[GovernedChannelType[\"Banner\"] = 2] = \"Banner\";\n    GovernedChannelType[GovernedChannelType[\"TeachingMessage\"] = 3] = \"TeachingMessage\";\n})(GovernedChannelType = exports.GovernedChannelType || (exports.GovernedChannelType = {}));\n(function (GovernedChannelType) {\n    function getDefault() { return GovernedChannelType.Standard; }\n    GovernedChannelType.getDefault = getDefault;\n})(GovernedChannelType = exports.GovernedChannelType || (exports.GovernedChannelType = {}));\nvar GovernedChannel = /** @class */ (function () {\n    function GovernedChannel(type, name, cooldownSeconds, cooldownStartTime) {\n        if (!Utils.isEnumValue(type, GovernedChannelType)) {\n            throw new Error(\"type is not a valid GovernedChannelType\");\n        }\n        if (!name) {\n            throw new Error(\"name must not be null or empty\");\n        }\n        if (cooldownSeconds < 0) {\n            throw new Error(\"cooldownSeconds must not be negative\");\n        }\n        this.type = type;\n        this.name = name;\n        this.cooldownSeconds = cooldownSeconds;\n        this.setCooldownStartTime(cooldownStartTime);\n    }\n    GovernedChannel.prototype.setCooldownStartTime = function (cooldownStartTime) {\n        // Set the start time\n        this.cooldownStartTime = cooldownStartTime;\n        if (Utils.isNOU(this.cooldownStartTime)) {\n            // Null cooldownStartTime means cool down has never been initiated, so set the cooldownEndTime to distant past\n            this.cooldownEndTime = Utils.getDistantPast();\n            return;\n        }\n        // Calculate the end time, but don't overflow past max.\n        this.cooldownEndTime = Utils.addSecondsWithoutOverflow(this.cooldownStartTime, this.cooldownSeconds);\n    };\n    // @Override\n    GovernedChannel.prototype.isOpen = function () {\n        return this.isOpenAtDate(new Date());\n    };\n    // @Override\n    GovernedChannel.prototype.isOpenAtDate = function (date) {\n        if (!date) {\n            return false;\n        }\n        return (date > this.cooldownEndTime);\n    };\n    // @Override\n    GovernedChannel.prototype.getType = function () {\n        return this.type;\n    };\n    // @Override\n    GovernedChannel.prototype.getName = function () {\n        return this.name;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownSeconds = function () {\n        return this.cooldownSeconds;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownStartTime = function () {\n        return this.cooldownStartTime;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownEndTime = function () {\n        return this.cooldownEndTime;\n    };\n    return GovernedChannel;\n}());\nexports.GovernedChannel = GovernedChannel;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmVkQ2hhbm5lbC50cz8zMDU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFGQUFpQztBQUVqQyxJQUFZLG1CQUtYO0FBTEQsV0FBWSxtQkFBbUI7SUFDOUIscUVBQVE7SUFDUixpRUFBTTtJQUNOLGlFQUFNO0lBQ04sbUZBQWU7QUFDaEIsQ0FBQyxFQUxXLG1CQUFtQixHQUFuQiwyQkFBbUIsS0FBbkIsMkJBQW1CLFFBSzlCO0FBRUQsV0FBaUIsbUJBQW1CO0lBQ25DLFNBQWdCLFVBQVUsS0FBMEIsT0FBTyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQTFFLDhCQUFVLGFBQWdFO0FBQzNGLENBQUMsRUFGZ0IsbUJBQW1CLEdBQW5CLDJCQUFtQixLQUFuQiwyQkFBbUIsUUFFbkM7QUF5Q0Q7SUFPQyx5QkFBbUIsSUFBeUIsRUFBRSxJQUFZLEVBQUUsZUFBdUIsRUFBRSxpQkFBdUI7UUFDM0csSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLG1CQUFtQixDQUFDLEVBQUU7WUFDbEQsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBRUQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUVELElBQUksZUFBZSxHQUFHLENBQUMsRUFBRTtZQUN4QixNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7U0FDeEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztRQUN2QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU0sOENBQW9CLEdBQTNCLFVBQTRCLGlCQUF1QjtRQUNsRCxxQkFBcUI7UUFDckIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBRTNDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUN4Qyw4R0FBOEc7WUFDOUcsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDOUMsT0FBTztTQUNQO1FBRUQsdURBQXVEO1FBQ3ZELElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDdEcsQ0FBQztJQUVELFlBQVk7SUFDTCxnQ0FBTSxHQUFiO1FBQ0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLHNDQUFZLEdBQW5CLFVBQW9CLElBQVU7UUFDN0IsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLGlDQUFPLEdBQWQ7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCxpQ0FBTyxHQUFkO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZO0lBQ0wsNENBQWtCLEdBQXpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzdCLENBQUM7SUFFRCxZQUFZO0lBQ0wsOENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVk7SUFDTCw0Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDN0IsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQTlFWSwwQ0FBZSIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgZW51bSBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRTdGFuZGFyZCwgLy8gMFxyXG5cdFVyZ2VudCwgLy8gMVxyXG5cdEJhbm5lciwgLy8gMlxyXG5cdFRlYWNoaW5nTWVzc2FnZSwgLy8gM1xyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIEdvdmVybmVkQ2hhbm5lbFR5cGUge1xyXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0KCk6IEdvdmVybmVkQ2hhbm5lbFR5cGUgeyByZXR1cm4gR292ZXJuZWRDaGFubmVsVHlwZS5TdGFuZGFyZDsgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5lZENoYW5uZWxEYXRhIHtcclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSB0eXBlIG9mIEdvdmVybmVkQ2hhbm5lbCB0aGlzIG9iamVjdCByZXByZXNlbnRzXHJcblx0ICovXHJcblx0Z2V0VHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSBuYW1lIG9mIHRoaXMgR292ZXJuZWRDaGFubmVsXHJcblx0ICovXHJcblx0Z2V0TmFtZSgpOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGFtb3VudCBvZiB0aW1lIGR1cmluZyB3aGljaCB0aGlzIGNoYW5uZWwgd2lsbCByZWZ1c2UgbmV3IHN1cnZleXMgYWZ0ZXIgYSBzdWNjZXNzZnVsIHByb21wdFxyXG5cdCAqL1xyXG5cdGdldENvb2xkb3duU2Vjb25kcygpOiBudW1iZXI7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGxhc3QgdGltZSB0aGlzIGNoYW5uZWwgc3RhcnRlZCBhIGNvb2wgZG93biAoYWthIHRoZSBsYXN0IHRpbWUgYSBzdXJ2ZXkgd2FzIHN1Y2Nlc3NmdWxseSBzaG93bikuXHJcblx0ICogTnVsbCBpZiBjb29sIGRvd24gaGFzIG5ldmVyIGJlZW4gaW5pdGlhdGVkXHJcblx0ICovXHJcblx0Z2V0Q29vbGRvd25TdGFydFRpbWUoKTogRGF0ZTtcclxuXHJcblx0LyoqXHJcblx0ICogSWYgaW4gY29vbCBkb3duLCByZXR1cm5zIHRoZSB0aW1lIGluIHdoaWNoIHRoaXMgY2hhbm5lbCB3aWxsIG5leHQgYmUgXCJPcGVuXCIuXHJcblx0ICogRWxzZSByZXR1cm5zIHRoZSBsYXN0IHRpbWUgdGhpcyBjaGFubmVsIGJlY2FtZSBcIk9wZW5cIi5cclxuXHQgKi9cclxuXHRnZXRDb29sZG93bkVuZFRpbWUoKTogRGF0ZTtcclxuXHJcblx0LyoqXHJcblx0ICogV2hldGhlciBvciBub3QgdGhpcyBjaGFubmVsIGlzIG9wZW4gdG8gbmV3IHN1cnZleXMgYXQgdGhpcyBjdXJyZW50IHBvaW50IGluIHRpbWUgKGFrYSBOb3cpXHJcblx0ICovXHJcblx0aXNPcGVuKCk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdoZXRoZXIgb3Igbm90IHRoaXMgY2hhbm5lbCBpcyBvcGVuIHRvIG5ldyBzdXJ2ZXlzIGF0IHRoZSBzcGVjaWZpZWQgcG9pbnQgaW4gdGltZVxyXG5cdCAqL1xyXG5cdGlzT3BlbkF0RGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdvdmVybmVkQ2hhbm5lbCBpbXBsZW1lbnRzIElHb3Zlcm5lZENoYW5uZWxEYXRhIHtcclxuXHRwcml2YXRlIHR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0cHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBjb29sZG93blNlY29uZHM6IG51bWJlcjtcclxuXHRwcml2YXRlIGNvb2xkb3duU3RhcnRUaW1lOiBEYXRlO1xyXG5cdHByaXZhdGUgY29vbGRvd25FbmRUaW1lOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgbmFtZTogc3RyaW5nLCBjb29sZG93blNlY29uZHM6IG51bWJlciwgY29vbGRvd25TdGFydFRpbWU6IERhdGUpIHtcclxuXHRcdGlmICghVXRpbHMuaXNFbnVtVmFsdWUodHlwZSwgR292ZXJuZWRDaGFubmVsVHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBpcyBub3QgYSB2YWxpZCBHb3Zlcm5lZENoYW5uZWxUeXBlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghbmFtZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJuYW1lIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvb2xkb3duU2Vjb25kcyA8IDApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY29vbGRvd25TZWNvbmRzIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy5jb29sZG93blNlY29uZHMgPSBjb29sZG93blNlY29uZHM7XHJcblx0XHR0aGlzLnNldENvb2xkb3duU3RhcnRUaW1lKGNvb2xkb3duU3RhcnRUaW1lKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb29sZG93blN0YXJ0VGltZShjb29sZG93blN0YXJ0VGltZTogRGF0ZSk6IHZvaWQge1xyXG5cdFx0Ly8gU2V0IHRoZSBzdGFydCB0aW1lXHJcblx0XHR0aGlzLmNvb2xkb3duU3RhcnRUaW1lID0gY29vbGRvd25TdGFydFRpbWU7XHJcblxyXG5cdFx0aWYgKFV0aWxzLmlzTk9VKHRoaXMuY29vbGRvd25TdGFydFRpbWUpKSB7XHJcblx0XHRcdC8vIE51bGwgY29vbGRvd25TdGFydFRpbWUgbWVhbnMgY29vbCBkb3duIGhhcyBuZXZlciBiZWVuIGluaXRpYXRlZCwgc28gc2V0IHRoZSBjb29sZG93bkVuZFRpbWUgdG8gZGlzdGFudCBwYXN0XHJcblx0XHRcdHRoaXMuY29vbGRvd25FbmRUaW1lID0gVXRpbHMuZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgZW5kIHRpbWUsIGJ1dCBkb24ndCBvdmVyZmxvdyBwYXN0IG1heC5cclxuXHRcdHRoaXMuY29vbGRvd25FbmRUaW1lID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyh0aGlzLmNvb2xkb3duU3RhcnRUaW1lLCB0aGlzLmNvb2xkb3duU2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNPcGVuQXREYXRlKG5ldyBEYXRlKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzT3BlbkF0RGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRhdGUpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAoZGF0ZSA+IHRoaXMuY29vbGRvd25FbmRUaW1lKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGUge1xyXG5cdFx0cmV0dXJuIHRoaXMudHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvb2xkb3duU2Vjb25kcygpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25TZWNvbmRzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25TdGFydFRpbWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29vbGRvd25FbmRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25FbmRUaW1lO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernedChannel.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/GovernedChannelStateProvider.js":
/*!*****************************************************************!*\
  !*** ../FloodgateCore/dist/src/GovernedChannelStateProvider.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileBasedGovernedChannelStateProvider = exports.HostBasedGovernedChannelStateProvider = exports.GovernedChannelStateProviderFactory = exports.GovernedChannelState = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar StateProviderHelpers = __webpack_require__(/*! ./StateProviderHelpers */ \"../FloodgateCore/dist/src/StateProviderHelpers.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar GovernedChannelState = /** @class */ (function () {\n    function GovernedChannelState(type, cooldownStartTime) {\n        this.ChannelType = type;\n        this.CooldownStartTimeUtc = cooldownStartTime;\n        if (!this.validate()) {\n            throw new Error(\"Constructor arguments are not valid\");\n        }\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns class object\n     */\n    GovernedChannelState.deserialize = function (input) {\n        var result;\n        if (!input) {\n            return null;\n        }\n        // Validation is handled by GovernedChannelState's constructor\n        try {\n            result = new GovernedChannelState(input.ChannelType, input.CooldownStartTimeUtc);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.GovernedChannelState.Deserialize.Failed, { ErrorMessage: e.toString() });\n            return null;\n        }\n        return result;\n    };\n    GovernedChannelState.prototype.validate = function () {\n        if (!Utils.isEnumValue(this.ChannelType, GovernedChannel_1.GovernedChannelType)) {\n            return false;\n        }\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.CooldownStartTimeUtc)) {\n            this.CooldownStartTimeUtc = Utils.stringToDate(this.CooldownStartTimeUtc);\n            // Allow null and bad cooldownStartTime\n        }\n        else if (Utils.isNOU(this.CooldownStartTimeUtc) || !Utils.isDate(this.CooldownStartTimeUtc)) {\n            this.CooldownStartTimeUtc = Utils.getDistantPast();\n        }\n        return true;\n    };\n    GovernedChannelState.prototype.getType = function () {\n        return this.ChannelType;\n    };\n    GovernedChannelState.prototype.getCooldownStartTime = function () {\n        return this.CooldownStartTimeUtc;\n    };\n    return GovernedChannelState;\n}());\nexports.GovernedChannelState = GovernedChannelState;\nvar GovernedChannelStateProviderFactory = /** @class */ (function () {\n    function GovernedChannelStateProviderFactory() {\n    }\n    GovernedChannelStateProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedGovernedChannelStateProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedGovernedChannelStateProvider(fileBasedStorage);\n    };\n    return GovernedChannelStateProviderFactory;\n}());\nexports.GovernedChannelStateProviderFactory = GovernedChannelStateProviderFactory;\n/**\n * Class representing what is stored in the file.\n */\nvar FileData = /** @class */ (function () {\n    function FileData() {\n    }\n    return FileData;\n}());\nvar HostBasedGovernedChannelStateProvider = /** @class */ (function () {\n    function HostBasedGovernedChannelStateProvider(fileBasedStorage, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error(\"host-based storage must not be null\");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file-based provider is optional\n        if (fileBasedStorage) {\n            this.fileBasedStateProvider = new FileBasedGovernedChannelStateProvider(fileBasedStorage);\n        }\n    }\n    // @Override\n    HostBasedGovernedChannelStateProvider.prototype.load = function () {\n        var statesFromHost = this.getStatesFromHost();\n        var statesFromFile;\n        if (this.fileBasedStateProvider) {\n            statesFromFile = this.fileBasedStateProvider.load();\n        }\n        var StateCollections = StateProviderHelpers.MergeAndUpdateGovernedChannelStates(statesFromFile, statesFromHost);\n        return StateCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedGovernedChannelStateProvider.prototype.save = function (states) {\n        var _this = this;\n        if (!states) {\n            return;\n        }\n        var statesFromHost = this.getStatesFromHost();\n        var StateCollections = StateProviderHelpers.MergeAndUpdateGovernedChannelStates(states, statesFromHost);\n        var toBeUpdatedStates = StateCollections.find(1 /* ToBeUpdated */);\n        var mergedStates = StateCollections.find(0 /* Merged */);\n        // write delta_data to Host\n        if (toBeUpdatedStates) {\n            toBeUpdatedStates.forEach(function (state) {\n                var stateValue = StateProviderHelpers.makeSettingItemValue(JSON.stringify(state));\n                _this.hostBasedStorage.upsertSettingItem(FileType[FileType.GovernedChannelStates], String(state.getType()), stateValue);\n            });\n        }\n        // Write merged data to File\n        if (this.fileBasedStateProvider) {\n            this.fileBasedStateProvider.save(mergedStates);\n        }\n    };\n    HostBasedGovernedChannelStateProvider.prototype.getStatesFromHost = function () {\n        var states = [];\n        var settings = this.hostBasedStorage.readSettingList(FileType[FileType.GovernedChannelStates]);\n        for (var key in settings) {\n            if (!settings.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = settings[key];\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(value);\n            var itemObject = {};\n            try {\n                itemObject = JSON.parse(dataString);\n                var newState = GovernedChannelState.deserialize(itemObject);\n                if (newState) {\n                    states.push(newState);\n                }\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedGovernedChannelStateProvider.GetStatesFromHost.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + dataString });\n            }\n        }\n        return states;\n    };\n    return HostBasedGovernedChannelStateProvider;\n}());\nexports.HostBasedGovernedChannelStateProvider = HostBasedGovernedChannelStateProvider;\nvar FileBasedGovernedChannelStateProvider = /** @class */ (function () {\n    function FileBasedGovernedChannelStateProvider(storage) {\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedGovernedChannelStateProvider.prototype.load = function () {\n        // Load channel state from file using _storageProvider (get back string)\n        var readString = this.storage.read(FileType.GovernedChannelStates);\n        if (!readString) {\n            return [];\n        }\n        var fileData;\n        try {\n            fileData = JSON.parse(readString);\n            var result_1 = [];\n            if (fileData && fileData.ChannelStates) {\n                fileData.ChannelStates.forEach(function (state) {\n                    var newState = GovernedChannelState.deserialize(state);\n                    if (newState) {\n                        result_1.push(newState);\n                    }\n                });\n            }\n            return result_1;\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FileBasedGovernedChannelStateProvider.Load.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + readString });\n            return [];\n        }\n    };\n    // @Override\n    FileBasedGovernedChannelStateProvider.prototype.save = function (states) {\n        if (!states) {\n            return;\n        }\n        var fileData = new FileData();\n        fileData.ChannelStates = states;\n        var writeString = JSON.stringify(fileData);\n        this.storage.write(FileType.GovernedChannelStates, writeString);\n    };\n    return FileBasedGovernedChannelStateProvider;\n}());\nexports.FileBasedGovernedChannelStateProvider = FileBasedGovernedChannelStateProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIudHM/ZjBmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx5SkFBNkU7QUFDN0UsbUdBQTZDO0FBQzdDLHFIQUFvRDtBQUNwRCxxSEFBd0Q7QUFDeEQsa0lBQStEO0FBQy9ELHFGQUFpQztBQUNqQyxJQUFPLFFBQVEsR0FBRyx5QkFBeUIsQ0FBQyxRQUFRLENBQUM7QUFHckQ7SUFrQ0MsOEJBQW1CLElBQXlCLEVBQUUsaUJBQXVCO1FBQ3BFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxpQkFBaUIsQ0FBQztRQUU5QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN2RDtJQUNGLENBQUM7SUF4Q0Q7Ozs7T0FJRztJQUNXLGdDQUFXLEdBQXpCLFVBQTBCLEtBQVU7UUFDbkMsSUFBSSxNQUE0QixDQUFDO1FBRWpDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsOERBQThEO1FBQzlELElBQUk7WUFDSCxNQUFNLEdBQUcsSUFBSSxvQkFBb0IsQ0FDaEMsS0FBSyxDQUFDLFdBQVcsRUFDakIsS0FBSyxDQUFDLG9CQUFvQixDQUMxQixDQUFDO1NBQ0Y7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3pGLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFpQk0sdUNBQVEsR0FBZjtRQUNDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUscUNBQW1CLENBQUMsRUFBRTtZQUM5RCxPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsNERBQTREO1FBQzVELElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1lBQ3pELElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQzNFLHVDQUF1QztTQUN0QzthQUFNLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7WUFDOUYsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUNuRDtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVNLHNDQUFPLEdBQWQ7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUVNLG1EQUFvQixHQUEzQjtRQUNDLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDO0lBQ2xDLENBQUM7SUFDRiwyQkFBQztBQUFELENBQUM7QUFsRVksb0RBQW9CO0FBMEVqQztJQUFBO0lBU0EsQ0FBQztJQVJjLHdDQUFJLEdBQWxCLFVBQW1CLGdCQUEyQyxFQUM3RCxnQkFBa0Q7UUFDbEQsSUFBSSxnQkFBZ0IsRUFBRTtZQUNyQixPQUFPLElBQUkscUNBQXFDLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUNyRjtRQUVELE9BQU8sSUFBSSxxQ0FBcUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFDRiwwQ0FBQztBQUFELENBQUM7QUFUWSxrRkFBbUM7QUFXaEQ7O0dBRUc7QUFDSDtJQUFBO0lBR0EsQ0FBQztJQUFELGVBQUM7QUFBRCxDQUFDO0FBRUQ7SUFJQywrQ0FBbUIsZ0JBQTJDLEVBQUUsZ0JBQWtEO1FBQ2pILElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN0QixNQUFNLElBQUksS0FBSyxDQUFDLHFDQUFxQyxDQUFDLENBQUM7U0FDdkQ7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7UUFFekMsa0NBQWtDO1FBQ2xDLElBQUksZ0JBQWdCLEVBQUU7WUFDckIsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUkscUNBQXFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUMxRjtJQUNGLENBQUM7SUFFRCxZQUFZO0lBQ0wsb0RBQUksR0FBWDtRQUNDLElBQU0sY0FBYyxHQUEyQixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUV4RSxJQUFJLGNBQXNDLENBQUM7UUFDM0MsSUFBSSxJQUFJLENBQUMsc0JBQXNCLEVBQUU7WUFDaEMsY0FBYyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNwRDtRQUVELElBQU0sZ0JBQWdCLEdBQUcsb0JBQW9CLENBQUMsbUNBQW1DLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ2xILE9BQU8sZ0JBQWdCLENBQUMsSUFBSSxnQkFBc0IsQ0FBQztJQUNwRCxDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFJLEdBQVgsVUFBWSxNQUE4QjtRQUExQyxpQkFzQkM7UUFyQkEsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNaLE9BQU87U0FDUDtRQUVELElBQU0sY0FBYyxHQUEyQixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN4RSxJQUFNLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLG1DQUFtQyxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsQ0FBQztRQUMxRyxJQUFNLGlCQUFpQixHQUEyQixnQkFBZ0IsQ0FBQyxJQUFJLHFCQUEyQixDQUFDO1FBQ25HLElBQU0sWUFBWSxHQUEyQixnQkFBZ0IsQ0FBQyxJQUFJLGdCQUFzQixDQUFDO1FBRXpGLDJCQUEyQjtRQUMzQixJQUFJLGlCQUFpQixFQUFFO1lBQ3RCLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQUs7Z0JBQy9CLElBQU0sVUFBVSxHQUFXLG9CQUFvQixDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDNUYsS0FBSSxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDeEgsQ0FBQyxDQUFDLENBQUM7U0FDSDtRQUVELDRCQUE0QjtRQUM1QixJQUFJLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtZQUNoQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQy9DO0lBQ0YsQ0FBQztJQUVPLGlFQUFpQixHQUF6QjtRQUNDLElBQU0sTUFBTSxHQUEyQixFQUFFLENBQUM7UUFDMUMsSUFBTSxRQUFRLEdBQXNCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7UUFFcEgsS0FBSyxJQUFNLEdBQUcsSUFBSSxRQUFRLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2xDLFNBQVM7YUFDVDtZQUVELElBQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QixJQUFNLFVBQVUsR0FBVyxvQkFBb0IsQ0FBQyxnQ0FBZ0MsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RixJQUFJLFVBQVUsR0FBUSxFQUFFLENBQUM7WUFDekIsSUFBSTtnQkFDSCxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFFcEMsSUFBTSxRQUFRLEdBQXlCLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDcEYsSUFBSSxRQUFRLEVBQUU7b0JBQ2IsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztpQkFDdEI7YUFDRDtZQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMscUNBQXFDLENBQUMsaUJBQWlCLENBQUMsTUFBTSxFQUM3RSxFQUFFLFlBQVksRUFBRSxxQ0FBcUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEdBQUcsV0FBVyxHQUFHLFVBQVUsRUFBRSxDQUFDLENBQUM7YUFDcEc7U0FDRDtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUNGLDRDQUFDO0FBQUQsQ0FBQztBQXBGWSxzRkFBcUM7QUFzRmxEO0lBR0MsK0NBQW1CLE9BQWtDO1FBQ3BELElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFJLEdBQVg7UUFDQyx3RUFBd0U7UUFDeEUsSUFBTSxVQUFVLEdBQVcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNoQixPQUFPLEVBQUUsQ0FBQztTQUNWO1FBRUQsSUFBSSxRQUFrQixDQUFDO1FBQ3ZCLElBQUk7WUFDSCxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUVsQyxJQUFNLFFBQU0sR0FBMkIsRUFBRSxDQUFDO1lBRTFDLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxhQUFhLEVBQUU7Z0JBQ3ZDLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBSztvQkFDcEMsSUFBTSxRQUFRLEdBQXlCLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFFL0UsSUFBSSxRQUFRLEVBQUU7d0JBQ2IsUUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztxQkFDdEI7Z0JBQ0YsQ0FBQyxDQUFDLENBQUM7YUFDSDtZQUVELE9BQU8sUUFBTSxDQUFDO1NBQ2Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMscUNBQXFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFDaEUsRUFBRSxZQUFZLEVBQUUscUNBQXFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLFdBQVcsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFJLEdBQVgsVUFBWSxNQUE4QjtRQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1osT0FBTztTQUNQO1FBRUQsSUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUNoQyxRQUFRLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUNoQyxJQUFNLFdBQVcsR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXJELElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBQ0YsNENBQUM7QUFBRCxDQUFDO0FBeERZLHNGQUFxQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIFN0YXRlUHJvdmlkZXJIZWxwZXJzIGZyb20gXCIuL1N0YXRlUHJvdmlkZXJIZWxwZXJzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCBTdGF0ZUxpc3RUeXBlID0gU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHb3Zlcm5lZENoYW5uZWxTdGF0ZSB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgY2xhc3Mgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogR292ZXJuZWRDaGFubmVsU3RhdGUge1xyXG5cdFx0bGV0IHJlc3VsdDogR292ZXJuZWRDaGFubmVsU3RhdGU7XHJcblxyXG5cdFx0aWYgKCFpbnB1dCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBWYWxpZGF0aW9uIGlzIGhhbmRsZWQgYnkgR292ZXJuZWRDaGFubmVsU3RhdGUncyBjb25zdHJ1Y3RvclxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmVzdWx0ID0gbmV3IEdvdmVybmVkQ2hhbm5lbFN0YXRlKFxyXG5cdFx0XHRcdGlucHV0LkNoYW5uZWxUeXBlLFxyXG5cdFx0XHRcdGlucHV0LkNvb2xkb3duU3RhcnRUaW1lVXRjLFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkdvdmVybmVkQ2hhbm5lbFN0YXRlLkRlc2VyaWFsaXplLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSB9KTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNoYW5uZWxUeXBlXCIpXHJcblx0cHJpdmF0ZSBDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ29vbGRvd25TdGFydFRpbWVVdGNcIilcclxuXHRwcml2YXRlIENvb2xkb3duU3RhcnRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgY29vbGRvd25TdGFydFRpbWU6IERhdGUpIHtcclxuXHRcdHRoaXMuQ2hhbm5lbFR5cGUgPSB0eXBlO1xyXG5cdFx0dGhpcy5Db29sZG93blN0YXJ0VGltZVV0YyA9IGNvb2xkb3duU3RhcnRUaW1lO1xyXG5cclxuXHRcdGlmICghdGhpcy52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNvbnN0cnVjdG9yIGFyZ3VtZW50cyBhcmUgbm90IHZhbGlkXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFVdGlscy5pc0VudW1WYWx1ZSh0aGlzLkNoYW5uZWxUeXBlLCBHb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbWFrZSBpdCBhIGRhdGUgb2JqZWN0IGlmIGl0J3MgYSB2YWxpZCBVVEMgZGF0ZSB0aW1lIHZhbHVlXHJcblx0XHRpZiAoVXRpbHMuaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkNvb2xkb3duU3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkNvb2xkb3duU3RhcnRUaW1lVXRjID0gVXRpbHMuc3RyaW5nVG9EYXRlKHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGMpO1xyXG5cdFx0Ly8gQWxsb3cgbnVsbCBhbmQgYmFkIGNvb2xkb3duU3RhcnRUaW1lXHJcblx0XHR9IGVsc2UgaWYgKFV0aWxzLmlzTk9VKHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGMpIHx8ICFVdGlscy5pc0RhdGUodGhpcy5Db29sZG93blN0YXJ0VGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5Db29sZG93blN0YXJ0VGltZVV0YyA9IFV0aWxzLmdldERpc3RhbnRQYXN0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLkNoYW5uZWxUeXBlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGM7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIHtcclxuXHRsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW107XHJcblxyXG5cdHNhdmUoY2hhbm5lbHM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShmaWxlQmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLFxyXG5cdFx0aG9zdEJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2spOiBJR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlciB7XHJcblx0XHRpZiAoaG9zdEJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSwgaG9zdEJhc2VkU3RvcmFnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBGaWxlQmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2UpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyB3aGF0IGlzIHN0b3JlZCBpbiB0aGUgZmlsZS5cclxuICovXHJcbmNsYXNzIEZpbGVEYXRhIHtcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDaGFubmVsU3RhdGVzXCIpXHJcblx0cHVibGljIENoYW5uZWxTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgZmlsZUJhc2VkU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlLWJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0YXRlUHJvdmlkZXIgPSBuZXcgRmlsZUJhc2VkR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzRnJvbUhvc3Q6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSB0aGlzLmdldFN0YXRlc0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN0YXRlc0Zyb21GaWxlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdO1xyXG5cdFx0aWYgKHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHRzdGF0ZXNGcm9tRmlsZSA9IHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHN0YXRlc0Zyb21GaWxlLCBzdGF0ZXNGcm9tSG9zdCk7XHJcblx0XHRyZXR1cm4gU3RhdGVDb2xsZWN0aW9ucy5maW5kKFN0YXRlTGlzdFR5cGUuTWVyZ2VkKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzYXZlKHN0YXRlczogR292ZXJuZWRDaGFubmVsU3RhdGVbXSk6IHZvaWQge1xyXG5cdFx0aWYgKCFzdGF0ZXMpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRlc0Zyb21Ib3N0OiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gdGhpcy5nZXRTdGF0ZXNGcm9tSG9zdCgpO1xyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHN0YXRlcywgc3RhdGVzRnJvbUhvc3QpO1xyXG5cdFx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cclxuXHRcdC8vIHdyaXRlIGRlbHRhX2RhdGEgdG8gSG9zdFxyXG5cdFx0aWYgKHRvQmVVcGRhdGVkU3RhdGVzKSB7XHJcblx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLmZvckVhY2goKHN0YXRlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGVWYWx1ZTogc3RyaW5nID0gU3RhdGVQcm92aWRlckhlbHBlcnMubWFrZVNldHRpbmdJdGVtVmFsdWUoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcclxuXHRcdFx0XHR0aGlzLmhvc3RCYXNlZFN0b3JhZ2UudXBzZXJ0U2V0dGluZ0l0ZW0oRmlsZVR5cGVbRmlsZVR5cGUuR292ZXJuZWRDaGFubmVsU3RhdGVzXSwgU3RyaW5nKHN0YXRlLmdldFR5cGUoKSksIHN0YXRlVmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5zYXZlKG1lcmdlZFN0YXRlcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFN0YXRlc0Zyb21Ib3N0KCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblx0XHRjb25zdCBzZXR0aW5nczogSUZsb29kZ2F0ZVNldHRpbmcgPSB0aGlzLmhvc3RCYXNlZFN0b3JhZ2UucmVhZFNldHRpbmdMaXN0KEZpbGVUeXBlW0ZpbGVUeXBlLkdvdmVybmVkQ2hhbm5lbFN0YXRlc10pO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHNldHRpbmdzKSB7XHJcblx0XHRcdGlmICghc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHNldHRpbmdzW2tleV07XHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGxldCBpdGVtT2JqZWN0OiBhbnkgPSB7fTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpdGVtT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IEdvdmVybmVkQ2hhbm5lbFN0YXRlID0gR292ZXJuZWRDaGFubmVsU3RhdGUuZGVzZXJpYWxpemUoaXRlbU9iamVjdCk7XHJcblx0XHRcdFx0aWYgKG5ld1N0YXRlKSB7XHJcblx0XHRcdFx0XHRzdGF0ZXMucHVzaChuZXdTdGF0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50Lkhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuR2V0U3RhdGVzRnJvbUhvc3QuRmFpbGVkLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyBkYXRhU3RyaW5nIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXRlcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdGlmICghc3RvcmFnZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Ly8gTG9hZCBjaGFubmVsIHN0YXRlIGZyb20gZmlsZSB1c2luZyBfc3RvcmFnZVByb3ZpZGVyIChnZXQgYmFjayBzdHJpbmcpXHJcblx0XHRjb25zdCByZWFkU3RyaW5nOiBzdHJpbmcgPSB0aGlzLnN0b3JhZ2UucmVhZChGaWxlVHlwZS5Hb3Zlcm5lZENoYW5uZWxTdGF0ZXMpO1xyXG5cdFx0aWYgKCFyZWFkU3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZmlsZURhdGE6IEZpbGVEYXRhO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZmlsZURhdGEgPSBKU09OLnBhcnNlKHJlYWRTdHJpbmcpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0OiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblxyXG5cdFx0XHRpZiAoZmlsZURhdGEgJiYgZmlsZURhdGEuQ2hhbm5lbFN0YXRlcykge1xyXG5cdFx0XHRcdGZpbGVEYXRhLkNoYW5uZWxTdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZSA9IEdvdmVybmVkQ2hhbm5lbFN0YXRlLmRlc2VyaWFsaXplKHN0YXRlKTtcclxuXHJcblx0XHRcdFx0XHRpZiAobmV3U3RhdGUpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gobmV3U3RhdGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZpbGVCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuTG9hZC5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyByZWFkU3RyaW5nIH0pO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShzdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiB2b2lkIHtcclxuXHRcdGlmICghc3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWxlRGF0YSA9IG5ldyBGaWxlRGF0YSgpO1xyXG5cdFx0ZmlsZURhdGEuQ2hhbm5lbFN0YXRlcyA9IHN0YXRlcztcclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmaWxlRGF0YSk7XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKEZpbGVUeXBlLkdvdmVybmVkQ2hhbm5lbFN0YXRlcywgd3JpdGVTdHJpbmcpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernedChannelStateProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Governor.js":
/*!*********************************************!*\
  !*** ../FloodgateCore/dist/src/Governor.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Governor = exports.DEFAULT_TEACHING_MESSAGE_COOLDOWN = void 0;\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar GovernedChannelStateProvider_1 = __webpack_require__(/*! ./GovernedChannelStateProvider */ \"../FloodgateCore/dist/src/GovernedChannelStateProvider.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar isNOU = Utils.isNOU;\nexports.DEFAULT_TEACHING_MESSAGE_COOLDOWN = 15;\nvar DefaultChannelData = /** @class */ (function () {\n    function DefaultChannelData(name, cooldownSeconds) {\n        this.name = name;\n        this.cooldownSeconds = cooldownSeconds;\n    }\n    return DefaultChannelData;\n}());\nvar Governor = /** @class */ (function () {\n    function Governor(channelStateProvider) {\n        this.channels = [];\n        if (!channelStateProvider) {\n            throw new Error(\"channelStateProvider must not be null\");\n        }\n        this.channelStateProvider = channelStateProvider;\n        this.loadChannels();\n    }\n    Governor.GetChannelCoolDown = function (channelType) {\n        var channelData = Governor.defaultChannelData[channelType];\n        return channelData ? channelData.cooldownSeconds : 0;\n    };\n    Governor.SetDefaultChannelCoolDown = function (channelType, cooldownSeconds) {\n        var channelData = Governor.defaultChannelData[channelType];\n        if (channelData) {\n            channelData.cooldownSeconds = cooldownSeconds;\n        }\n    };\n    // @Override\n    Governor.prototype.refreshChannelData = function () {\n        this.loadChannels();\n    };\n    // @Override\n    Governor.prototype.getAvailableChannelData = function () {\n        var channelData = [];\n        for (var key in this.channels) {\n            if (this.channels.hasOwnProperty(key)) {\n                var channel = this.channels[key];\n                if (channel.isOpen()) {\n                    channelData.push(channel);\n                }\n            }\n        }\n        return channelData;\n    };\n    // @Override\n    Governor.prototype.isChannelOpen = function (type) {\n        if (isNOU(type)) {\n            throw new Error(\"type must not be null\");\n        }\n        return this.channels[type].isOpen();\n    };\n    // @Override\n    Governor.prototype.startChannelCooldown = function (type, date) {\n        if (isNOU(type)) {\n            throw new Error(\"type must not be null\");\n        }\n        date = date ? date : new Date();\n        // Start the cool down\n        this.channels[type].setCooldownStartTime(date);\n        // Save the new channel state for future sessions\n        this.saveChannelStates();\n    };\n    Governor.prototype.saveChannelStates = function () {\n        // Build up the list of channel states\n        var channelStates = [];\n        for (var key in this.channels) {\n            if (this.channels.hasOwnProperty(key)) {\n                var channel = this.channels[key];\n                var channelState = new GovernedChannelStateProvider_1.GovernedChannelState(channel.getType(), channel.getCooldownStartTime());\n                channelStates.push(channelState);\n            }\n        }\n        this.channelStateProvider.save(channelStates);\n    };\n    Governor.prototype.loadChannels = function () {\n        // Load up state from previous sessions\n        this.loadChannelStatesFromProvider();\n        // For any missing channels, init them from scratch\n        // There's no straightforward way to iterate enums, we need to iterate through the enum array\n        //    filtering out just the numeric enum values (excluding enum names).\n        for (var item in GovernedChannel_1.GovernedChannelType) {\n            if (GovernedChannel_1.GovernedChannelType.hasOwnProperty(item)) {\n                var key = Number(item);\n                // skip if key is not numeric enum value, or if already exists\n                if (isNaN(key) || this.channels[key]) {\n                    continue;\n                }\n                var defaultData = Governor.defaultChannelData[key];\n                var newChannel = new GovernedChannel_1.GovernedChannel(key, defaultData.name, defaultData.cooldownSeconds, null);\n                this.channels[key] = newChannel;\n            }\n        }\n    };\n    Governor.prototype.loadChannelStatesFromProvider = function () {\n        this.channels = [];\n        var channelStates = this.channelStateProvider.load();\n        for (var key in channelStates) {\n            if (channelStates.hasOwnProperty(key)) {\n                var channelState = channelStates[key];\n                var type = channelState.getType();\n                var defaultData = Governor.defaultChannelData[type];\n                var newChannel = new GovernedChannel_1.GovernedChannel(type, defaultData.name, defaultData.cooldownSeconds, channelState.getCooldownStartTime());\n                this.channels[newChannel.getType()] = newChannel;\n            }\n        }\n    };\n    Governor.minute = 60;\n    Governor.hour = 60 * Governor.minute;\n    Governor.day = 24 * Governor.hour;\n    // Array of default values for each channel type. Indexed by the GovernedChannelType enum name.\n    Governor.defaultChannelData = [\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Standard], 14 * Governor.day),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Urgent], 0),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Banner], 15 * Governor.day),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.TeachingMessage], exports.DEFAULT_TEACHING_MESSAGE_COOLDOWN * Governor.day),\n    ];\n    return Governor;\n}());\nexports.Governor = Governor;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybm9yLnRzPzI5YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUhBQStGO0FBQy9GLDRKQUFxRztBQUNyRyxxRkFBaUM7QUFFekIsU0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBRVgseUNBQWlDLEdBQUcsRUFBRSxDQUFDO0FBY3BEO0lBSUMsNEJBQW1CLElBQVksRUFBRSxlQUF1QjtRQUN2RCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN4QyxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDO0FBRUQ7SUE0QkMsa0JBQW1CLG9CQUFtRDtRQUY5RCxhQUFRLEdBQXNCLEVBQUUsQ0FBQztRQUd4QyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO1NBQ3pEO1FBRUQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQixDQUFDO1FBQ2pELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBbENhLDJCQUFrQixHQUFoQyxVQUFpQyxXQUFnQztRQUNoRSxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDN0QsT0FBTyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRWEsa0NBQXlCLEdBQXZDLFVBQXdDLFdBQWdDLEVBQUUsZUFBdUI7UUFDaEcsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdELElBQUksV0FBVyxFQUFFO1lBQ2hCLFdBQVcsQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO1NBQzlDO0lBQ0YsQ0FBQztJQTBCRCxZQUFZO0lBQ0wscUNBQWtCLEdBQXpC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QUFDLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7UUFDNUYsSUFBSSxrQkFBa0IsQ0FBQyxxQ0FBbUIsQ0FBQyxxQ0FBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUUsSUFBSSxrQkFBa0IsQ0FBQyxxQ0FBbUIsQ0FBQyxxQ0FBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQztRQUMxRixJQUFJLGtCQUFrQixDQUFDLHFDQUFtQixDQUFDLHFDQUFtQixDQUFDLGVBQWUsQ0FBQyxFQUFFLHlDQUFpQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7S0FDbEksQ0FBQztJQXVISCxlQUFDO0NBQUE7QUE5SVksNEJBQVEiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Hb3Zlcm5vci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbCwgR292ZXJuZWRDaGFubmVsVHlwZSwgSUdvdmVybmVkQ2hhbm5lbERhdGEgfSBmcm9tIFwiLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsU3RhdGUsIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9URUFDSElOR19NRVNTQUdFX0NPT0xET1dOID0gMTU7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5vciB7XHJcblx0Z2V0QXZhaWxhYmxlQ2hhbm5lbERhdGEoKTogSUdvdmVybmVkQ2hhbm5lbERhdGFbXTtcclxuXHJcblx0aXNDaGFubmVsT3Blbih0eXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbjtcclxuXHJcblx0c3RhcnRDaGFubmVsQ29vbGRvd24odHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgZGF0ZT86IERhdGUpOiB2b2lkO1xyXG5cclxuXHRyZWZyZXNoQ2hhbm5lbERhdGEoKTogdm9pZDtcclxuXHJcblx0c2F2ZUNoYW5uZWxTdGF0ZXMoKTogdm9pZDtcclxufVxyXG5cclxuY2xhc3MgRGVmYXVsdENoYW5uZWxEYXRhIHtcclxuXHRwdWJsaWMgY29vbGRvd25TZWNvbmRzOiBudW1iZXI7XHJcblx0cHVibGljIG5hbWU6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgY29vbGRvd25TZWNvbmRzOiBudW1iZXIpIHtcclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmNvb2xkb3duU2Vjb25kcyA9IGNvb2xkb3duU2Vjb25kcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHb3Zlcm5vciBpbXBsZW1lbnRzIElHb3Zlcm5vciB7XHJcblx0cHVibGljIHN0YXRpYyBHZXRDaGFubmVsQ29vbERvd24oY2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUpIHtcclxuXHRcdGNvbnN0IGNoYW5uZWxEYXRhID0gR292ZXJub3IuZGVmYXVsdENoYW5uZWxEYXRhW2NoYW5uZWxUeXBlXTtcclxuXHRcdHJldHVybiBjaGFubmVsRGF0YSA/IGNoYW5uZWxEYXRhLmNvb2xkb3duU2Vjb25kcyA6IDA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIFNldERlZmF1bHRDaGFubmVsQ29vbERvd24oY2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUsIGNvb2xkb3duU2Vjb25kczogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBjaGFubmVsRGF0YSA9IEdvdmVybm9yLmRlZmF1bHRDaGFubmVsRGF0YVtjaGFubmVsVHlwZV07XHJcblx0XHRpZiAoY2hhbm5lbERhdGEpIHtcclxuXHRcdFx0Y2hhbm5lbERhdGEuY29vbGRvd25TZWNvbmRzID0gY29vbGRvd25TZWNvbmRzO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWludXRlOiBudW1iZXIgPSA2MDtcclxuXHRwcml2YXRlIHN0YXRpYyBob3VyOiBudW1iZXIgPSA2MCAqIEdvdmVybm9yLm1pbnV0ZTtcclxuXHRwcml2YXRlIHN0YXRpYyBkYXk6IG51bWJlciA9IDI0ICogR292ZXJub3IuaG91cjtcclxuXHJcblx0Ly8gQXJyYXkgb2YgZGVmYXVsdCB2YWx1ZXMgZm9yIGVhY2ggY2hhbm5lbCB0eXBlLiBJbmRleGVkIGJ5IHRoZSBHb3Zlcm5lZENoYW5uZWxUeXBlIGVudW0gbmFtZS5cclxuXHRwcml2YXRlIHN0YXRpYyBkZWZhdWx0Q2hhbm5lbERhdGE6IERlZmF1bHRDaGFubmVsRGF0YVtdID0gW1xyXG5cdFx0bmV3IERlZmF1bHRDaGFubmVsRGF0YShHb3Zlcm5lZENoYW5uZWxUeXBlW0dvdmVybmVkQ2hhbm5lbFR5cGUuU3RhbmRhcmRdLCAxNCAqIEdvdmVybm9yLmRheSksXHJcblx0XHRuZXcgRGVmYXVsdENoYW5uZWxEYXRhKEdvdmVybmVkQ2hhbm5lbFR5cGVbR292ZXJuZWRDaGFubmVsVHlwZS5VcmdlbnRdLCAwKSxcclxuXHRcdG5ldyBEZWZhdWx0Q2hhbm5lbERhdGEoR292ZXJuZWRDaGFubmVsVHlwZVtHb3Zlcm5lZENoYW5uZWxUeXBlLkJhbm5lcl0sIDE1ICogR292ZXJub3IuZGF5KSxcclxuXHRcdG5ldyBEZWZhdWx0Q2hhbm5lbERhdGEoR292ZXJuZWRDaGFubmVsVHlwZVtHb3Zlcm5lZENoYW5uZWxUeXBlLlRlYWNoaW5nTWVzc2FnZV0sIERFRkFVTFRfVEVBQ0hJTkdfTUVTU0FHRV9DT09MRE9XTiAqIEdvdmVybm9yLmRheSksXHJcblx0XTtcclxuXHJcblx0cHJpdmF0ZSBjaGFubmVsU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBjaGFubmVsczogR292ZXJuZWRDaGFubmVsW10gPSBbXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGNoYW5uZWxTdGF0ZVByb3ZpZGVyOiBJR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcikge1xyXG5cdFx0aWYgKCFjaGFubmVsU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsU3RhdGVQcm92aWRlciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjaGFubmVsU3RhdGVQcm92aWRlcjtcclxuXHRcdHRoaXMubG9hZENoYW5uZWxzKCk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgcmVmcmVzaENoYW5uZWxEYXRhKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5sb2FkQ2hhbm5lbHMoKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRBdmFpbGFibGVDaGFubmVsRGF0YSgpOiBJR292ZXJuZWRDaGFubmVsRGF0YVtdIHtcclxuXHRcdGNvbnN0IGNoYW5uZWxEYXRhOiBJR292ZXJuZWRDaGFubmVsRGF0YVtdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5jaGFubmVscykge1xyXG5cdFx0XHRpZiAodGhpcy5jaGFubmVscy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2hhbm5lbDogR292ZXJuZWRDaGFubmVsID0gdGhpcy5jaGFubmVsc1trZXldO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hhbm5lbC5pc09wZW4oKSkge1xyXG5cdFx0XHRcdFx0Y2hhbm5lbERhdGEucHVzaChjaGFubmVsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY2hhbm5lbERhdGE7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNDaGFubmVsT3Blbih0eXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmNoYW5uZWxzW3R5cGVdLmlzT3BlbigpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHN0YXJ0Q2hhbm5lbENvb2xkb3duKHR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUsIGRhdGU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHRpZiAoaXNOT1UodHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gU3RhcnQgdGhlIGNvb2wgZG93blxyXG5cdFx0dGhpcy5jaGFubmVsc1t0eXBlXS5zZXRDb29sZG93blN0YXJ0VGltZShkYXRlKTtcclxuXHJcblx0XHQvLyBTYXZlIHRoZSBuZXcgY2hhbm5lbCBzdGF0ZSBmb3IgZnV0dXJlIHNlc3Npb25zXHJcblx0XHR0aGlzLnNhdmVDaGFubmVsU3RhdGVzKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2F2ZUNoYW5uZWxTdGF0ZXMoKTogdm9pZCB7XHJcblx0XHQvLyBCdWlsZCB1cCB0aGUgbGlzdCBvZiBjaGFubmVsIHN0YXRlc1xyXG5cdFx0Y29uc3QgY2hhbm5lbFN0YXRlczogR292ZXJuZWRDaGFubmVsU3RhdGVbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2hhbm5lbHMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2hhbm5lbHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGNoYW5uZWw6IEdvdmVybmVkQ2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNba2V5XTtcclxuXHRcdFx0XHRjb25zdCBjaGFubmVsU3RhdGU6IEdvdmVybmVkQ2hhbm5lbFN0YXRlID1cclxuXHRcdFx0XHRcdG5ldyBHb3Zlcm5lZENoYW5uZWxTdGF0ZShjaGFubmVsLmdldFR5cGUoKSwgY2hhbm5lbC5nZXRDb29sZG93blN0YXJ0VGltZSgpKTtcclxuXHJcblx0XHRcdFx0Y2hhbm5lbFN0YXRlcy5wdXNoKGNoYW5uZWxTdGF0ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNoYW5uZWxTdGF0ZVByb3ZpZGVyLnNhdmUoY2hhbm5lbFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvYWRDaGFubmVscygpOiB2b2lkIHtcclxuXHRcdC8vIExvYWQgdXAgc3RhdGUgZnJvbSBwcmV2aW91cyBzZXNzaW9uc1xyXG5cdFx0dGhpcy5sb2FkQ2hhbm5lbFN0YXRlc0Zyb21Qcm92aWRlcigpO1xyXG5cclxuXHRcdC8vIEZvciBhbnkgbWlzc2luZyBjaGFubmVscywgaW5pdCB0aGVtIGZyb20gc2NyYXRjaFxyXG5cdFx0Ly8gVGhlcmUncyBubyBzdHJhaWdodGZvcndhcmQgd2F5IHRvIGl0ZXJhdGUgZW51bXMsIHdlIG5lZWQgdG8gaXRlcmF0ZSB0aHJvdWdoIHRoZSBlbnVtIGFycmF5XHJcblx0XHQvLyAgICBmaWx0ZXJpbmcgb3V0IGp1c3QgdGhlIG51bWVyaWMgZW51bSB2YWx1ZXMgKGV4Y2x1ZGluZyBlbnVtIG5hbWVzKS5cclxuXHRcdGZvciAoY29uc3QgaXRlbSBpbiBHb3Zlcm5lZENoYW5uZWxUeXBlKSB7XHJcblx0XHRcdGlmIChHb3Zlcm5lZENoYW5uZWxUeXBlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcblx0XHRcdFx0Y29uc3Qga2V5OiBudW1iZXIgPSBOdW1iZXIoaXRlbSk7XHJcblxyXG5cdFx0XHRcdC8vIHNraXAgaWYga2V5IGlzIG5vdCBudW1lcmljIGVudW0gdmFsdWUsIG9yIGlmIGFscmVhZHkgZXhpc3RzXHJcblx0XHRcdFx0aWYgKGlzTmFOKGtleSkgfHwgdGhpcy5jaGFubmVsc1trZXldKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRlZmF1bHREYXRhOiBEZWZhdWx0Q2hhbm5lbERhdGEgPSBHb3Zlcm5vci5kZWZhdWx0Q2hhbm5lbERhdGFba2V5XTtcclxuXHRcdFx0XHRjb25zdCBuZXdDaGFubmVsOiBHb3Zlcm5lZENoYW5uZWwgPVxyXG5cdFx0XHRcdFx0bmV3IEdvdmVybmVkQ2hhbm5lbChrZXksIGRlZmF1bHREYXRhLm5hbWUsIGRlZmF1bHREYXRhLmNvb2xkb3duU2Vjb25kcywgbnVsbCk7XHJcblx0XHRcdFx0dGhpcy5jaGFubmVsc1trZXldID0gbmV3Q2hhbm5lbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2FkQ2hhbm5lbFN0YXRlc0Zyb21Qcm92aWRlcigpOiB2b2lkIHtcclxuXHRcdHRoaXMuY2hhbm5lbHMgPSBbXTtcclxuXHJcblx0XHRjb25zdCBjaGFubmVsU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gdGhpcy5jaGFubmVsU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gY2hhbm5lbFN0YXRlcykge1xyXG5cdFx0XHRpZiAoY2hhbm5lbFN0YXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2hhbm5lbFN0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZSA9IGNoYW5uZWxTdGF0ZXNba2V5XTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSA9IGNoYW5uZWxTdGF0ZS5nZXRUeXBlKCk7XHJcblx0XHRcdFx0Y29uc3QgZGVmYXVsdERhdGE6IERlZmF1bHRDaGFubmVsRGF0YSA9IEdvdmVybm9yLmRlZmF1bHRDaGFubmVsRGF0YVt0eXBlXTtcclxuXHRcdFx0XHRjb25zdCBuZXdDaGFubmVsOiBHb3Zlcm5lZENoYW5uZWwgPVxyXG5cdFx0XHRcdFx0bmV3IEdvdmVybmVkQ2hhbm5lbCh0eXBlLCBkZWZhdWx0RGF0YS5uYW1lLCBkZWZhdWx0RGF0YS5jb29sZG93blNlY29uZHMsIGNoYW5uZWxTdGF0ZS5nZXRDb29sZG93blN0YXJ0VGltZSgpKTtcclxuXHJcblx0XHRcdFx0dGhpcy5jaGFubmVsc1tuZXdDaGFubmVsLmdldFR5cGUoKV0gPSBuZXdDaGFubmVsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Governor.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ISurveyInfo.js":
/*!************************************************!*\
  !*** ../FloodgateCore/dist/src/ISurveyInfo.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyInfo;\n(function (ISurveyInfo) {\n    var BusinessLevel;\n    (function (BusinessLevel) {\n        BusinessLevel[BusinessLevel[\"None\"] = 0] = \"None\";\n        BusinessLevel[BusinessLevel[\"Critical\"] = 1] = \"Critical\";\n    })(BusinessLevel = ISurveyInfo.BusinessLevel || (ISurveyInfo.BusinessLevel = {}));\n    ISurveyInfo.DOM_TYPE_TAGNAME = \"Type\";\n    ISurveyInfo.DOM_TYPE_VALUE = \"Survey\";\n    ISurveyInfo.DOM_ID_TAGNAME = \"SurveyID\";\n    ISurveyInfo.JSON_SURVEY_KEYNAME = \"survey\";\n    ISurveyInfo.JSON_ID_KEYNAME = \"surveyId\";\n})(ISurveyInfo || (ISurveyInfo = {}));\nmodule.exports = ISurveyInfo;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0lTdXJ2ZXlJbmZvLnRzP2ZmYTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXlHQSxJQUFPLFdBQVcsQ0F5QmpCO0FBekJELFdBQU8sV0FBVztJQVVqQixJQUFZLGFBR1g7SUFIRCxXQUFZLGFBQWE7UUFDeEIsaURBQVE7UUFDUix5REFBUTtJQUNULENBQUMsRUFIVyxhQUFhLEdBQWIseUJBQWEsS0FBYix5QkFBYSxRQUd4QjtJQU9ZLDRCQUFnQixHQUFHLE1BQU0sQ0FBQztJQUMxQiwwQkFBYyxHQUFHLFFBQVEsQ0FBQztJQUMxQiwwQkFBYyxHQUFHLFVBQVUsQ0FBQztJQUM1QiwrQkFBbUIsR0FBRyxRQUFRLENBQUM7SUFDL0IsMkJBQWUsR0FBRyxVQUFVLENBQUM7QUFDM0MsQ0FBQyxFQXpCTSxXQUFXLEtBQVgsV0FBVyxRQXlCakI7QUFFRCxpQkFBUyxXQUFXLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9JU3VydmV5SW5mby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTdXJ2ZXlEb21Xcml0ZXIgfSBmcm9tIFwiLi9BcGkvSVN1cnZleURvbVdyaXRlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0FwaS9JU3VydmV5SnNvbldyaXRlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi9JU3VydmV5RXZlbnRcIjtcclxuaW1wb3J0IHsgSVN1cnZleU1ldGFkYXRhIH0gZnJvbSBcIi4vSVN1cnZleU1ldGFkYXRhXCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZSBiYXNpY3Mgb2YgYSBTdXJ2ZXlcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5SW5mbyBleHRlbmRzIElTdXJ2ZXlEb21Xcml0ZXIsIElTdXJ2ZXlKc29uV3JpdGVyIHtcclxuXHQvKipcclxuXHQgKiBBIGdsb2JhbGx5IHVuaXF1ZSwgYnV0IG90aGVyd2lzZSBvcGFxdWUsIGlkZW50aXR5IGZvciB0aGlzIHBhcnRpY3VsYXIgc3VydmV5XHJcblx0ICovXHJcblx0Z2V0SWQoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBBIGdsb2JhbGx5IHVuaXF1ZSwgYnV0IG90aGVyd2lzZSBvcGFxdWUsIGlkZW50aXR5IGZvciB0aGlzIHBhcnRpY3VsYXIgc3VydmV5IG9uIHRoZSBPQ1YgYmFja2VuZFxyXG5cdCAqIE1heSBiZSB0aGUgc2FtZSwgb3IgZGlmZmVyZW50IHRoYW4gZ2V0SWRcclxuXHQgKi9cclxuXHRnZXRCYWNrRW5kSWQoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBUaGUgZ292ZXJlbmQgY2hhbm5lbCB0aGF0IHRoaXMgc3VydmV5IHdpbGwgYmUgZGVsaXZlcmVkL2ZpbHRlcmVkIHRocm91Z2hcclxuXHQgKi9cclxuXHRnZXRHb3Zlcm5lZENoYW5uZWxUeXBlKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSByYXcgc3RyaW5nIHByb3ZpZGVkIGFzIHRoZSBzdXJ2ZXkncyBzdGFydCBkYXRlLCB3aXRoIG5vIGVycm9yIGNoZWNraW5nXHJcblx0ICovXHJcblx0Z2V0UmF3U3RhcnRUaW1lVXRjKCk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogVGhlIHN0YXJ0IHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuICBCZWZvcmUgdGhlIGNsaWVudCBoYXMgcGFzc2VkIHRoaXMgZGF0ZVxyXG5cdCAqIHRoZSBzdXJ2ZXkgd2lsbCB3b24ndCBiZSBsb2FkZWQgaW50byB0aGUgc3VydmV5IGFjdGl2aXR5IGxpc3RlbmVyLlxyXG5cdCAqIElmIG5vIHN0YXJ0IGRhdGUgaXMgZ2l2ZW4sIHJldHVybnMgZGlzdGFudFBhc3QuXHJcblx0ICogSWYgYmFkIHN0YXJ0IGRhdGUgZ2l2ZW4sIHJldHVybnMgZGlzdGFudEZ1dHVyZVxyXG5cdCAqIE90aGVyd2lzZSwgcmV0dXJucyBkYXRlXHJcblx0ICovXHJcblx0Z2V0U3RhcnRUaW1lVXRjKCk6IERhdGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBleHBpcmF0aW9uIHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuIE9uY2UgdGhlIGNsaWVudCBoYXMgcGFzc2VkIHRoaXMgZGF0ZSwgaXQgc2hvdWxkIGNsZWFuIGFueVxyXG5cdCAqIGNhY2hlZCBkYXRhLCBhbmQgc2hvdWxkIHJlamVjdCBhbnkgaW5jb21pbmcgc3VydmV5cyB0aGF0IGhhdmUgb3RoZXJ3aXNlIGV4cGlyZWQgYnV0IGFyZSBzdGlsbCBhY3RpdmVcclxuXHQgKiBpbiB0aGUgZmxpZ2h0aW5nIHN5c3RlbVxyXG5cdCAqIElmIG5vL2JhZCBleHBpcmF0aW9uIGRhdGUgZ2l2ZW4sIHJldHVybnMgZGlzdGFudFBhc3QgdG8gbWFrZSBzdXJlIHRoaXMgc3VydmV5IGlzIGFsd2F5cyBleHBpcmVkLlxyXG5cdCAqL1xyXG5cdGdldEV4cGlyYXRpb25UaW1lVXRjKCk6IERhdGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBleHBpcmF0aW9uIHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuICBPbmNlIHRoZSBjbGllbnQgaGFzIHBhc3NlZCB0aGlzIGRhdGUsIGl0IHNob3VsZCBjbGVhbiBhbnlcclxuXHQgKiBjYWNoZWQgZGF0YSwgYW5kIHNob3VsZCByZWplY3QgYW55IGluY29taW5nIHN1cnZleXMgdGhhdCBoYXZlIG90aGVyd2lzZSBleHBpcmVkIGJ1dCBhcmUgc3RpbGwgYWN0aXZlXHJcblx0ICogaW4gdGhlIGZsaWdodGluZyBzeXN0ZW1cclxuXHQgKi9cclxuXHRnZXRSYXdFeHBpcmF0aW9uVGltZVV0YygpOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlICdkYXRlJyBpcyBiZXR3ZWVuIHRoZSBzdGFydC9leHBpcmF0aW9uIGRhdGVzIGZvciB0aGlzIHN1cnZleS5cclxuXHQgKi9cclxuXHRpc0FjdGl2ZUZvckRhdGUoZGF0ZTogRGF0ZSk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGFjdGl2YXRpb24gZXZlbnQgdGhhdCBzaG91bGQgYmUgcGx1bWJlZCB0aHJvdWdoIHRvIHRoZSBGbG9vZGdhdGVFbmdpbmUvU3VydmV5QWN0aXZpeXRMaXN0ZW5lci5cclxuXHQgKiBXaGVuIGFjdGl2YXRlZCwgdGhpcyBzdXJ2ZXkgc2hvdWxkIGJlIHNob3duIHRvIHRoZSB1c2VyLlxyXG5cdCAqL1xyXG5cdGdldEFjdGl2YXRpb25FdmVudCgpOiBJU3VydmV5RXZlbnQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIHByZWZlcnJlZCBsYXVuY2ggbWVjaGFuaXNtIGJhc2VkIG9uIHRoaXMgc3VydmV5J3MgZGF0YSBwYXlsb2FkLiAgVGhpcyBtYXkgb3IgbWF5IG5vdCBiZVxyXG5cdCAqIHJlc3BlY3RlZCBieSB0aGUgTGF1bmNoZXJGYWN0b3J5IGRlcGVuZGluZyBvbiB0aGUgcGxhdGZvcm0gYW5kIGltcGxlbWVudGF0aW9uLCBhbmQgaXMgc3RyaWN0bHkgY29uc2lkZXJlZFxyXG5cdCAqIGEgYmVoYXZpb3JhbCBoaW50XHJcblx0ICovXHJcblx0Z2V0UHJlZmVycmVkTGF1bmNoVHlwZSgpOiBJU3VydmV5SW5mby5MYXVuY2hUeXBlO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgYXJyYXlcclxuXHQgKi9cclxuXHRpc0FkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKGFkZGl0aW9uYWxEYXRhOiBJU3VydmV5SW5mby5BZGRpdGlvbmFsRGF0YVR5cGUpOiBib29sZWFuO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gdGhlIGxhdW5jaGVyIHR5cGUgc3RyaW5nXHJcblx0ICovXHJcblx0Z2V0TGF1bmNoZXJUeXBlKCk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogR2V0cyB0aGUgbWV0YWRhdGEgb2YgdGhlIHN1cnZleSwgdGhpcyBpcyBvcHRpb25hbCBidXQgaWYgYXZhaWxhYmxlIGl0IGNhbiBiZSB1c2VkIGJ5IGxhdW5jaGVyIHRvXHJcblx0ICogbWFrZSBhcHByb3ByaWF0ZSBkZWNpc2lvbnMgd2hpbGUgbGF1bmNoaW5nIGEgc3VyZmFjZS5cclxuXHQgKi9cclxuXHRnZXRNZXRhZGF0YSgpOiBJU3VydmV5TWV0YWRhdGE7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYnVzaW5lc3NMZXZlbFxyXG5cdCAqL1xyXG5cdGdldEJ1c2luZXNzTGV2ZWwoKTogSVN1cnZleUluZm8uQnVzaW5lc3NMZXZlbDtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBtYXhMYXVuY2hlc1xyXG5cdCAqL1xyXG5cdGdldE1heExhdW5jaGVzKCk6IG51bWJlcjtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBtYXhMYXVuY2hlcyBQZXIgc2Vzc2lvblxyXG5cdCAqL1xyXG5cdGdldE1heExhdW5jaGVzUGVyU2Vzc2lvbigpOiBudW1iZXI7XHJcbn1cclxuXHJcbm1vZHVsZSBJU3VydmV5SW5mbyB7XHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gTGF1bmNoVHlwZSB7XHJcblx0XHQvLyBObyBsYXVuY2ggdHlwZSBzcGVjaWZpZWQsIGRlZmVyIHRvIHRoZSBsYXVuY2hlciBmYWN0b3J5IGNvZGVcclxuXHRcdERlZmF1bHQgPSBcIkRlZmF1bHRcIixcclxuXHRcdC8vIFByZWZlciBhIG5vdGlmaWNhdGlvbi1iYXNlZCBsYXVuY2hlciAobGlrZSB0aGUgd2luZG93cyB0b2FzdCBsYXVuY2hlciB3aGVuIHByZXNlbnQpXHJcblx0XHROb3RpZmljYXRpb24gPSBcIk5vdGlmaWNhdGlvblwiLFxyXG5cdFx0Ly8gUHJlZmVyIGEgbW9kYWwtZGlhbG9nIGJhc2VkIGxhdW5jaGVyXHJcblx0XHRNb2RhbCA9IFwiTW9kYWxcIixcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBlbnVtIEJ1c2luZXNzTGV2ZWwge1xyXG5cdFx0Tm9uZSA9IDAsXHJcblx0XHRDcml0aWNhbCxcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIEFkZGl0aW9uYWxEYXRhVHlwZSB7XHJcblx0XHQvLyBSZXF1ZXN0IGVtYWlsIGFkZHJlc3NcclxuXHRcdEVtYWlsQWRkcmVzcyxcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBET01fVFlQRV9UQUdOQU1FID0gXCJUeXBlXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9UWVBFX1ZBTFVFID0gXCJTdXJ2ZXlcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lEX1RBR05BTUUgPSBcIlN1cnZleUlEXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fU1VSVkVZX0tFWU5BTUUgPSBcInN1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0lEX0tFWU5BTUUgPSBcInN1cnZleUlkXCI7XHJcbn1cclxuXHJcbmV4cG9ydCA9IElTdXJ2ZXlJbmZvO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ISurveyInfo.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/IndexedTracker.js":
/*!***************************************************!*\
  !*** ../FloodgateCore/dist/src/IndexedTracker.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IndexedTracker = void 0;\nvar IndexedTracker = /** @class */ (function () {\n    function IndexedTracker() {\n    }\n    return IndexedTracker;\n}());\nexports.IndexedTracker = IndexedTracker;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0luZGV4ZWRUcmFja2VyLnRzPzE5ZmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBR0E7SUFBQTtJQUlBLENBQUM7SUFBRCxxQkFBQztBQUFELENBQUM7QUFKWSx3Q0FBYyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0luZGV4ZWRUcmFja2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGl2aXR5VHJhY2tlciA9IHJlcXVpcmUoXCIuL0FjdGl2aXR5VHJhY2tlclwiKTtcclxuaW1wb3J0IElTdXJ2ZXkgPSByZXF1aXJlKFwiLi9BcGkvSVN1cnZleVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleGVkVHJhY2tlciB7XHJcblx0cHVibGljIGluZGV4OiBudW1iZXI7XHJcblx0cHVibGljIHN1cnZleUlkOiBzdHJpbmc7XHJcblx0cHVibGljIHRyYWNrZXI6IEFjdGl2aXR5VHJhY2tlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/IndexedTracker.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/StateProviderHelpers.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/StateProviderHelpers.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeAndUpdateSurveyActivationStats = exports.MergeAndUpdateCampaignStates = exports.MergeAndUpdateGovernedChannelStates = exports.makeSettingItemValue = exports.extractSettingItemValueSubString = exports.ItemCollection = void 0;\nvar SurveyStatCollectionActivation_1 = __webpack_require__(/*! ../src/SurveyStatCollectionActivation */ \"../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\");\nvar ItemCollection = /** @class */ (function () {\n    function ItemCollection() {\n        this.items = {};\n        this.itemCount = 0;\n    }\n    ItemCollection.prototype.add = function (key, value) {\n        if (!this.items[key]) {\n            this.itemCount++;\n        }\n        this.items[key] = value;\n    };\n    ItemCollection.prototype.find = function (key) {\n        return this.items[key];\n    };\n    ItemCollection.prototype.remove = function (key) {\n        var item = this.items[key];\n        if (item) {\n            delete this.items[key];\n            this.itemCount--;\n        }\n        return item;\n    };\n    ItemCollection.prototype.count = function () {\n        return this.itemCount;\n    };\n    return ItemCollection;\n}());\nexports.ItemCollection = ItemCollection;\nfunction extractSettingItemValueSubString(itemValue) {\n    if (!itemValue) {\n        return itemValue;\n    }\n    var beginPos = itemValue.indexOf(SETTING_DATA_OPEN_TAG) + SETTING_DATA_OPEN_TAG.length;\n    var endPos = itemValue.indexOf(SETTING_DATA_CLOSE_TAG);\n    if (beginPos < 0 || endPos < 0) {\n        return itemValue;\n    }\n    return itemValue.substring(beginPos, endPos);\n}\nexports.extractSettingItemValueSubString = extractSettingItemValueSubString;\nfunction makeSettingItemValue(value) {\n    if (!value) {\n        return SETTING_DATA_OPEN_TAG + SETTING_DATA_CLOSE_TAG;\n    }\n    return SETTING_DATA_OPEN_TAG + value + SETTING_DATA_CLOSE_TAG;\n}\nexports.makeSettingItemValue = makeSettingItemValue;\nfunction MergeAndUpdateGovernedChannelStates(previousStates, currentStates) {\n    var stateCollections = new ItemCollection();\n    // Todo: move the following into a generic method to be shared\n    if (!previousStates && !currentStates) {\n        return stateCollections;\n    }\n    if (!previousStates) {\n        stateCollections.add(0 /* Merged */, currentStates);\n        return stateCollections;\n    }\n    if (!currentStates) {\n        stateCollections.add(0 /* Merged */, previousStates);\n        stateCollections.add(1 /* ToBeUpdated */, previousStates);\n        return stateCollections;\n    }\n    var mergedStates = [];\n    var toBeUpdatedStates = [];\n    if (previousStates) {\n        previousStates.forEach(function (previousState) {\n            // find matching in current states\n            var pos = -1;\n            var currentState;\n            for (var i = 0; i < currentStates.length; i++) {\n                currentState = currentStates[i];\n                if (currentState.getType() === previousState.getType()) {\n                    pos = i;\n                    break;\n                }\n            }\n            // if previous state is not in current states\n            if (pos === -1) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n                return;\n            }\n            // if ActivationTimeUtc of previous is greater than current\n            if (previousState.getCooldownStartTime() > currentState.getCooldownStartTime()) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n            }\n            else {\n                // add current state to merged\n                mergedStates.push(currentState);\n            }\n            // remove state from current states\n            currentStates.splice(pos, 1);\n        });\n    }\n    // for the remaining current states\n    if (currentStates) {\n        currentStates.forEach(function (currentState) {\n            // add current state to merged\n            mergedStates.push(currentState);\n        });\n    }\n    stateCollections.add(0 /* Merged */, mergedStates);\n    if (toBeUpdatedStates.length > 0) {\n        stateCollections.add(1 /* ToBeUpdated */, toBeUpdatedStates);\n    }\n    return stateCollections;\n}\nexports.MergeAndUpdateGovernedChannelStates = MergeAndUpdateGovernedChannelStates;\nfunction MergeAndUpdateCampaignStates(previousStates, currentStates) {\n    var stateCollections = new ItemCollection();\n    if (!previousStates && !currentStates) {\n        return stateCollections;\n    }\n    if (!previousStates) {\n        stateCollections.add(0 /* Merged */, currentStates);\n        return stateCollections;\n    }\n    if (!currentStates) {\n        stateCollections.add(0 /* Merged */, previousStates);\n        stateCollections.add(1 /* ToBeUpdated */, previousStates);\n        return stateCollections;\n    }\n    var mergedStates = [];\n    var toBeUpdatedStates = [];\n    if (previousStates) {\n        previousStates.forEach(function (previousState) {\n            var current = new Date();\n            // find matching in current states\n            var pos = -1;\n            var currentState;\n            for (var i = 0; i < currentStates.length; i++) {\n                currentState = currentStates[i];\n                if (currentState.CampaignId === previousState.CampaignId) {\n                    pos = i;\n                    break;\n                }\n            }\n            // if previous state is not in current states\n            if (pos === -1) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n                return;\n            }\n            // if current state is in cooldown, add to merged list\n            if (currentState.LastCooldownEndTimeUtc > current) {\n                // add previous state to merged list\n                mergedStates.push(currentState);\n                // emove state from current states\n                currentStates.splice(pos, 1);\n                return;\n            }\n            // if previous state is in cooldown, add to merged and toUpdated lists\n            if (previousState.LastCooldownEndTimeUtc > current) {\n                // add previous state to merged list\n                mergedStates.push(previousState);\n                // add previous state to to-be-updated list\n                toBeUpdatedStates.push(previousState);\n                // emove state from current states\n                currentStates.splice(pos, 1);\n                return;\n            }\n            // add previous state to toUpdated and merged for the following two conditions:\n            //  1. previous cooldown time wins, or\n            //  2. cooldown times are the same and previous nomination wins\n            if (previousState.getCooldownStartDate() > currentState.getCooldownStartDate()\n                || (previousState.getCooldownStartDate() === currentState.getCooldownStartDate()\n                    && previousState.LastNominationTimeUtc > currentState.LastNominationTimeUtc)) {\n                mergedStates.push(previousState);\n                toBeUpdatedStates.push(previousState);\n            }\n            else {\n                // add current state to merged\n                mergedStates.push(currentState);\n            }\n            // remove state from current states\n            currentStates.splice(pos, 1);\n        });\n    }\n    // for the remaining current states\n    if (currentStates) {\n        currentStates.forEach(function (current) {\n            // add current state to merged\n            mergedStates.push(current);\n        });\n    }\n    stateCollections.add(0 /* Merged */, mergedStates);\n    if (toBeUpdatedStates.length > 0) {\n        stateCollections.add(1 /* ToBeUpdated */, toBeUpdatedStates);\n    }\n    return stateCollections;\n}\nexports.MergeAndUpdateCampaignStates = MergeAndUpdateCampaignStates;\nfunction MergeAndUpdateSurveyActivationStats(previousStats, currentStats) {\n    var statsCollections = new ItemCollection();\n    // Handle previousStats and/or currentStats equal to null\n    if (!previousStats && !currentStats) {\n        return statsCollections;\n    }\n    if (!previousStats) {\n        statsCollections.add(0 /* Merged */, currentStats);\n        return statsCollections;\n    }\n    if (!currentStats) {\n        statsCollections.add(0 /* Merged */, previousStats);\n        statsCollections.add(1 /* ToBeUpdated */, previousStats);\n        return statsCollections;\n    }\n    // Enumerate preivous stats\n    var mergedStats = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n    var toBeUpdatedStats = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n    var previousStatsDictionary = previousStats.getStats();\n    var currentStatsDictionary = currentStats.getStats();\n    for (var surveyId in previousStatsDictionary) {\n        if (previousStatsDictionary.hasOwnProperty(surveyId)) {\n            // if an updated stat is not found\n            var currentActivationStats = currentStatsDictionary[surveyId];\n            if (!currentActivationStats) {\n                // add to merged collection\n                mergedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                // add to-be-updated collection\n                toBeUpdatedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                continue;\n            }\n            // if previous stat has higher activation time\n            var previousActivationStats = previousStatsDictionary[surveyId];\n            if (previousActivationStats.ActivationTimeUtc > currentActivationStats.ActivationTimeUtc) {\n                // add to merged collection\n                mergedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                // add to-be-updated collection\n                toBeUpdatedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n            }\n            else {\n                // add to current stat merged collection\n                mergedStats.addStats(surveyId, currentStatsDictionary[surveyId]);\n            }\n            // delete from stats\n            delete currentStatsDictionary[surveyId];\n        }\n    }\n    // merge any remaining stats\n    for (var surveyId in currentStatsDictionary) {\n        if (currentStatsDictionary.hasOwnProperty(surveyId)) {\n            mergedStats.addStats(surveyId, currentStatsDictionary[surveyId]);\n        }\n    }\n    // always return merged list\n    statsCollections.add(0 /* Merged */, mergedStats);\n    // since dictionaries don't have an empty check, enumerate the  first entry to check for non-empty\n    var toBeUpdatedStatsDictionary = toBeUpdatedStats.getStats();\n    for (var toBeUpdated in toBeUpdatedStatsDictionary) {\n        if (toBeUpdatedStatsDictionary.hasOwnProperty(toBeUpdated)) {\n            // not empty, return to-be-updated\n            statsCollections.add(1 /* ToBeUpdated */, toBeUpdatedStats);\n            break;\n        }\n    }\n    return statsCollections;\n}\nexports.MergeAndUpdateSurveyActivationStats = MergeAndUpdateSurveyActivationStats;\nvar SETTING_DATA_OPEN_TAG = \"<data>\";\nvar SETTING_DATA_CLOSE_TAG = \"</data>\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N0YXRlUHJvdmlkZXJIZWxwZXJzLnRzPzQwYmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUtBQThHO0FBb0I5RztJQUFBO1FBQ1MsVUFBSyxHQUF5QixFQUFFLENBQUM7UUFDakMsY0FBUyxHQUFXLENBQUMsQ0FBQztJQTJCL0IsQ0FBQztJQXpCTyw0QkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLEtBQVE7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVNLDZCQUFJLEdBQVgsVUFBWSxHQUFXO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRU0sK0JBQU0sR0FBYixVQUFjLEdBQVc7UUFDeEIsSUFBTSxJQUFJLEdBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVoQyxJQUFJLElBQUksRUFBRTtZQUNULE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDakI7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSw4QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3ZCLENBQUM7SUFDRixxQkFBQztBQUFELENBQUM7QUE3Qlksd0NBQWM7QUErQjNCLFNBQWdCLGdDQUFnQyxDQUFDLFNBQWlCO0lBQ2pFLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDZixPQUFPLFNBQVMsQ0FBQztLQUNqQjtJQUVELElBQU0sUUFBUSxHQUFXLFNBQVMsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsR0FBRyxx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QUE3RUQsa0ZBNkVDO0FBRUQsSUFBTSxxQkFBcUIsR0FBRyxRQUFRLENBQUM7QUFDdkMsSUFBTSxzQkFBc0IsR0FBRyxTQUFTLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdGF0ZVByb3ZpZGVySGVscGVycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1cnZleUFjdGl2YXRpb25TdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIH0gZnJvbSBcIi4uL3NyYy9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25TdGF0ZSB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJRGljdGlvbmFyeSB9IGZyb20gXCIuL0NvbW1vblwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxTdGF0ZSB9IGZyb20gXCIuL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHRoZSBzdGF0ZSBsaXN0IHR5cGVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW51bSBTdGF0ZUxpc3RUeXBlIHtcclxuXHRNZXJnZWQsXHJcblx0VG9CZVVwZGF0ZWQsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUtleWVkQ29sbGVjdGlvbjxUPiB7XHJcblx0YWRkKGtleTogbnVtYmVyLCB2YWx1ZTogVCk7XHJcblx0ZmluZChrZXk6IG51bWJlcik6IFQ7XHJcblx0cmVtb3ZlKGtleTogbnVtYmVyKTtcclxuXHRjb3VudCgpOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJdGVtQ29sbGVjdGlvbjxUPiBpbXBsZW1lbnRzIElLZXllZENvbGxlY3Rpb248VD4ge1xyXG5cdHByaXZhdGUgaXRlbXM6IHsgW2tleTogbnVtYmVyXTogVCB9ID0ge307XHJcblx0cHJpdmF0ZSBpdGVtQ291bnQ6IG51bWJlciA9IDA7XHJcblxyXG5cdHB1YmxpYyBhZGQoa2V5OiBudW1iZXIsIHZhbHVlOiBUKSB7XHJcblx0XHRpZiAoIXRoaXMuaXRlbXNba2V5XSkge1xyXG5cdFx0XHR0aGlzLml0ZW1Db3VudCsrO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pdGVtc1trZXldID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZmluZChrZXk6IG51bWJlcik6IFQge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXRlbXNba2V5XTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyByZW1vdmUoa2V5OiBudW1iZXIpOiBUIHtcclxuXHRcdGNvbnN0IGl0ZW06IFQgPSB0aGlzLml0ZW1zW2tleV07XHJcblxyXG5cdFx0aWYgKGl0ZW0pIHtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuaXRlbXNba2V5XTtcclxuXHRcdFx0dGhpcy5pdGVtQ291bnQtLTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjb3VudCgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXRlbUNvdW50O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKGl0ZW1WYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoIWl0ZW1WYWx1ZSkge1xyXG5cdFx0cmV0dXJuIGl0ZW1WYWx1ZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGJlZ2luUG9zOiBudW1iZXIgPSBpdGVtVmFsdWUuaW5kZXhPZihTRVRUSU5HX0RBVEFfT1BFTl9UQUcpICsgU0VUVElOR19EQVRBX09QRU5fVEFHLmxlbmd0aDtcclxuXHRjb25zdCBlbmRQb3M6IG51bWJlciA9IGl0ZW1WYWx1ZS5pbmRleE9mKFNFVFRJTkdfREFUQV9DTE9TRV9UQUcpO1xyXG5cclxuXHRpZiAoYmVnaW5Qb3MgPCAwIHx8IGVuZFBvcyA8IDApIHtcclxuXHRcdHJldHVybiBpdGVtVmFsdWU7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaXRlbVZhbHVlLnN1YnN0cmluZyhiZWdpblBvcywgZW5kUG9zKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTZXR0aW5nSXRlbVZhbHVlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdGlmICghdmFsdWUpIHtcclxuXHRcdHJldHVybiBTRVRUSU5HX0RBVEFfT1BFTl9UQUcgKyBTRVRUSU5HX0RBVEFfQ0xPU0VfVEFHO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIFNFVFRJTkdfREFUQV9PUEVOX1RBRyArIHZhbHVlICsgU0VUVElOR19EQVRBX0NMT1NFX1RBRztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHByZXZpb3VzU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdLFxyXG5cdGN1cnJlbnRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiBJS2V5ZWRDb2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+IHtcclxuXHRjb25zdCBzdGF0ZUNvbGxlY3Rpb25zOiBJS2V5ZWRDb2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+ID0gbmV3IEl0ZW1Db2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+KCk7XHJcblxyXG5cdC8vIFRvZG86IG1vdmUgdGhlIGZvbGxvd2luZyBpbnRvIGEgZ2VuZXJpYyBtZXRob2QgdG8gYmUgc2hhcmVkXHJcblx0aWYgKCFwcmV2aW91c1N0YXRlcyAmJiAhY3VycmVudFN0YXRlcykge1xyXG5cdFx0cmV0dXJuIHN0YXRlQ29sbGVjdGlvbnM7XHJcblx0fVxyXG5cclxuXHRpZiAoIXByZXZpb3VzU3RhdGVzKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCwgY3VycmVudFN0YXRlcyk7XHJcblx0XHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghY3VycmVudFN0YXRlcykge1xyXG5cdFx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIHByZXZpb3VzU3RhdGVzKTtcclxuXHRcdHN0YXRlQ29sbGVjdGlvbnMuYWRkKFN0YXRlTGlzdFR5cGUuVG9CZVVwZGF0ZWQsIHByZXZpb3VzU3RhdGVzKTtcclxuXHRcdHJldHVybiBzdGF0ZUNvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbWVyZ2VkU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBbXTtcclxuXHJcblx0aWYgKHByZXZpb3VzU3RhdGVzKSB7XHJcblx0XHRwcmV2aW91c1N0YXRlcy5mb3JFYWNoKChwcmV2aW91c1N0YXRlKSA9PiB7XHJcblx0XHRcdC8vIGZpbmQgbWF0Y2hpbmcgaW4gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0bGV0IHBvcyA9IC0xO1xyXG5cdFx0XHRsZXQgY3VycmVudFN0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlc1tpXTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFN0YXRlLmdldFR5cGUoKSA9PT0gcHJldmlvdXNTdGF0ZS5nZXRUeXBlKCkpIHtcclxuXHRcdFx0XHRcdHBvcyA9IGk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHByZXZpb3VzIHN0YXRlIGlzIG5vdCBpbiBjdXJyZW50IHN0YXRlc1xyXG5cdFx0XHRpZiAocG9zID09PSAtMSkge1xyXG5cdFx0XHRcdC8vIGFkZCBwcmV2aW91cyBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvVXBkYXRlZFxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgQWN0aXZhdGlvblRpbWVVdGMgb2YgcHJldmlvdXMgaXMgZ3JlYXRlciB0aGFuIGN1cnJlbnRcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydFRpbWUoKSA+IGN1cnJlbnRTdGF0ZS5nZXRDb29sZG93blN0YXJ0VGltZSgpKSB7XHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKHByZXZpb3VzU3RhdGUpO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gdG9VcGRhdGVkXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgY3VycmVudCBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChjdXJyZW50U3RhdGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyByZW1vdmUgc3RhdGUgZnJvbSBjdXJyZW50IHN0YXRlc1xyXG5cdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBmb3IgdGhlIHJlbWFpbmluZyBjdXJyZW50IHN0YXRlc1xyXG5cdGlmIChjdXJyZW50U3RhdGVzKSB7XHJcblx0XHRjdXJyZW50U3RhdGVzLmZvckVhY2goKGN1cnJlbnRTdGF0ZSkgPT4ge1xyXG5cdFx0XHQvLyBhZGQgY3VycmVudCBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2goY3VycmVudFN0YXRlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRlcyk7XHJcblxyXG5cdGlmICh0b0JlVXBkYXRlZFN0YXRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCB0b0JlVXBkYXRlZFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlQ2FtcGFpZ25TdGF0ZXMocHJldmlvdXNTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSxcclxuXHRjdXJyZW50U3RhdGVzOiBDYW1wYWlnblN0YXRlW10pOiBJS2V5ZWRDb2xsZWN0aW9uPENhbXBhaWduU3RhdGVbXT4ge1xyXG5cdGNvbnN0IHN0YXRlQ29sbGVjdGlvbnM6IElLZXllZENvbGxlY3Rpb248Q2FtcGFpZ25TdGF0ZVtdPiA9IG5ldyBJdGVtQ29sbGVjdGlvbjxDYW1wYWlnblN0YXRlW10+KCk7XHJcblxyXG5cdGlmICghcHJldmlvdXNTdGF0ZXMgJiYgIWN1cnJlbnRTdGF0ZXMpIHtcclxuXHRcdHJldHVybiBzdGF0ZUNvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0aWYgKCFwcmV2aW91c1N0YXRlcykge1xyXG5cdFx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIGN1cnJlbnRTdGF0ZXMpO1xyXG5cdFx0cmV0dXJuIHN0YXRlQ29sbGVjdGlvbnM7XHJcblx0fVxyXG5cclxuXHRpZiAoIWN1cnJlbnRTdGF0ZXMpIHtcclxuXHRcdHN0YXRlQ29sbGVjdGlvbnMuYWRkKFN0YXRlTGlzdFR5cGUuTWVyZ2VkLCBwcmV2aW91c1N0YXRlcyk7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCBwcmV2aW91c1N0YXRlcyk7XHJcblx0XHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGNvbnN0IG1lcmdlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gW107XHJcblx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFtdO1xyXG5cclxuXHRpZiAocHJldmlvdXNTdGF0ZXMpIHtcclxuXHRcdHByZXZpb3VzU3RhdGVzLmZvckVhY2goKHByZXZpb3VzU3RhdGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudCA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0XHQvLyBmaW5kIG1hdGNoaW5nIGluIGN1cnJlbnQgc3RhdGVzXHJcblx0XHRcdGxldCBwb3MgPSAtMTtcclxuXHRcdFx0bGV0IGN1cnJlbnRTdGF0ZTogQ2FtcGFpZ25TdGF0ZTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlc1tpXTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFN0YXRlLkNhbXBhaWduSWQgPT09IHByZXZpb3VzU3RhdGUuQ2FtcGFpZ25JZCkge1xyXG5cdFx0XHRcdFx0cG9zID0gaTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgcHJldmlvdXMgc3RhdGUgaXMgbm90IGluIGN1cnJlbnQgc3RhdGVzXHJcblx0XHRcdGlmIChwb3MgPT09IC0xKSB7XHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKHByZXZpb3VzU3RhdGUpO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gdG9VcGRhdGVkXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpZiBjdXJyZW50IHN0YXRlIGlzIGluIGNvb2xkb3duLCBhZGQgdG8gbWVyZ2VkIGxpc3RcclxuXHRcdFx0aWYgKGN1cnJlbnRTdGF0ZS5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID4gY3VycmVudCkge1xyXG5cdFx0XHRcdC8vIGFkZCBwcmV2aW91cyBzdGF0ZSB0byBtZXJnZWQgbGlzdFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHByZXZpb3VzIHN0YXRlIGlzIGluIGNvb2xkb3duLCBhZGQgdG8gbWVyZ2VkIGFuZCB0b1VwZGF0ZWQgbGlzdHNcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuTGFzdENvb2xkb3duRW5kVGltZVV0YyA+IGN1cnJlbnQpIHtcclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gbWVyZ2VkIGxpc3RcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvLWJlLXVwZGF0ZWQgbGlzdFxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvVXBkYXRlZCBhbmQgbWVyZ2VkIGZvciB0aGUgZm9sbG93aW5nIHR3byBjb25kaXRpb25zOlxyXG5cdFx0XHQvLyAgMS4gcHJldmlvdXMgY29vbGRvd24gdGltZSB3aW5zLCBvclxyXG5cdFx0XHQvLyAgMi4gY29vbGRvd24gdGltZXMgYXJlIHRoZSBzYW1lIGFuZCBwcmV2aW91cyBub21pbmF0aW9uIHdpbnNcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydERhdGUoKSA+IGN1cnJlbnRTdGF0ZS5nZXRDb29sZG93blN0YXJ0RGF0ZSgpXHJcblx0XHRcdFx0fHwgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydERhdGUoKSA9PT0gY3VycmVudFN0YXRlLmdldENvb2xkb3duU3RhcnREYXRlKClcclxuXHRcdFx0XHRcdCYmIHByZXZpb3VzU3RhdGUuTGFzdE5vbWluYXRpb25UaW1lVXRjID4gY3VycmVudFN0YXRlLkxhc3ROb21pbmF0aW9uVGltZVV0YylcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gYWRkIGN1cnJlbnQgc3RhdGUgdG8gbWVyZ2VkXHJcblx0XHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2goY3VycmVudFN0YXRlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0Y3VycmVudFN0YXRlcy5zcGxpY2UocG9zLCAxKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gZm9yIHRoZSByZW1haW5pbmcgY3VycmVudCBzdGF0ZXNcclxuXHRpZiAoY3VycmVudFN0YXRlcykge1xyXG5cdFx0Y3VycmVudFN0YXRlcy5mb3JFYWNoKChjdXJyZW50KSA9PiB7XHJcblx0XHRcdC8vIGFkZCBjdXJyZW50IHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChjdXJyZW50KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRlcyk7XHJcblxyXG5cdGlmICh0b0JlVXBkYXRlZFN0YXRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCB0b0JlVXBkYXRlZFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHByZXZpb3VzU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbixcclxuXHRjdXJyZW50U3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IElLZXllZENvbGxlY3Rpb248U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uPiB7XHJcblxyXG5cdGNvbnN0IHN0YXRzQ29sbGVjdGlvbnM6IElLZXllZENvbGxlY3Rpb248U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uPiA9IG5ldyBJdGVtQ29sbGVjdGlvbjxTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24+KCk7XHJcblxyXG5cdC8vIEhhbmRsZSBwcmV2aW91c1N0YXRzIGFuZC9vciBjdXJyZW50U3RhdHMgZXF1YWwgdG8gbnVsbFxyXG5cdGlmICghcHJldmlvdXNTdGF0cyAmJiAhY3VycmVudFN0YXRzKSB7XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghcHJldmlvdXNTdGF0cykge1xyXG5cdFx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIGN1cnJlbnRTdGF0cyk7XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghY3VycmVudFN0YXRzKSB7XHJcblx0XHRzdGF0c0NvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCwgcHJldmlvdXNTdGF0cyk7XHJcblx0XHRzdGF0c0NvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCBwcmV2aW91c1N0YXRzKTtcclxuXHRcdHJldHVybiBzdGF0c0NvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0Ly8gRW51bWVyYXRlIHByZWl2b3VzIHN0YXRzXHJcblx0Y29uc3QgbWVyZ2VkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblxyXG5cdGNvbnN0IHByZXZpb3VzU3RhdHNEaWN0aW9uYXJ5OiBJRGljdGlvbmFyeTxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+ID0gcHJldmlvdXNTdGF0cy5nZXRTdGF0cygpO1xyXG5cdGNvbnN0IGN1cnJlbnRTdGF0c0RpY3Rpb25hcnk6IElEaWN0aW9uYXJ5PFN1cnZleUFjdGl2YXRpb25TdGF0cz4gPSBjdXJyZW50U3RhdHMuZ2V0U3RhdHMoKTtcclxuXHJcblx0Zm9yIChjb25zdCBzdXJ2ZXlJZCBpbiBwcmV2aW91c1N0YXRzRGljdGlvbmFyeSkge1xyXG5cdFx0aWYgKHByZXZpb3VzU3RhdHNEaWN0aW9uYXJ5Lmhhc093blByb3BlcnR5KHN1cnZleUlkKSkge1xyXG5cdFx0XHQvLyBpZiBhbiB1cGRhdGVkIHN0YXQgaXMgbm90IGZvdW5kXHJcblx0XHRcdGNvbnN0IGN1cnJlbnRBY3RpdmF0aW9uU3RhdHM6IFN1cnZleUFjdGl2YXRpb25TdGF0cyA9IGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdO1xyXG5cdFx0XHRpZiAoIWN1cnJlbnRBY3RpdmF0aW9uU3RhdHMpIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gbWVyZ2VkIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRtZXJnZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHQvLyBhZGQgdG8tYmUtdXBkYXRlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBwcmV2aW91cyBzdGF0IGhhcyBoaWdoZXIgYWN0aXZhdGlvbiB0aW1lXHJcblx0XHRcdGNvbnN0IHByZXZpb3VzQWN0aXZhdGlvblN0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBwcmV2aW91c1N0YXRzRGljdGlvbmFyeVtzdXJ2ZXlJZF07XHJcblx0XHRcdGlmIChwcmV2aW91c0FjdGl2YXRpb25TdGF0cy5BY3RpdmF0aW9uVGltZVV0YyA+IGN1cnJlbnRBY3RpdmF0aW9uU3RhdHMuQWN0aXZhdGlvblRpbWVVdGMpIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gbWVyZ2VkIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRtZXJnZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHQvLyBhZGQgdG8tYmUtdXBkYXRlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gY3VycmVudCBzdGF0IG1lcmdlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0bWVyZ2VkU3RhdHMuYWRkU3RhdHMoc3VydmV5SWQsIGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVsZXRlIGZyb20gc3RhdHNcclxuXHRcdFx0ZGVsZXRlIGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gbWVyZ2UgYW55IHJlbWFpbmluZyBzdGF0c1xyXG5cdGZvciAoY29uc3Qgc3VydmV5SWQgaW4gY3VycmVudFN0YXRzRGljdGlvbmFyeSkge1xyXG5cdFx0aWYgKGN1cnJlbnRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdG1lcmdlZFN0YXRzLmFkZFN0YXRzKHN1cnZleUlkLCBjdXJyZW50U3RhdHNEaWN0aW9uYXJ5W3N1cnZleUlkXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBhbHdheXMgcmV0dXJuIG1lcmdlZCBsaXN0XHJcblx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRzKTtcclxuXHJcblx0Ly8gc2luY2UgZGljdGlvbmFyaWVzIGRvbid0IGhhdmUgYW4gZW1wdHkgY2hlY2ssIGVudW1lcmF0ZSB0aGUgIGZpcnN0IGVudHJ5IHRvIGNoZWNrIGZvciBub24tZW1wdHlcclxuXHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzRGljdGlvbmFyeTogSURpY3Rpb25hcnk8U3VydmV5QWN0aXZhdGlvblN0YXRzPiA9IHRvQmVVcGRhdGVkU3RhdHMuZ2V0U3RhdHMoKTtcclxuXHRmb3IgKGNvbnN0IHRvQmVVcGRhdGVkIGluIHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5KSB7XHJcblx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkodG9CZVVwZGF0ZWQpKSB7XHJcblx0XHRcdC8vIG5vdCBlbXB0eSwgcmV0dXJuIHRvLWJlLXVwZGF0ZWRcclxuXHRcdFx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCwgdG9CZVVwZGF0ZWRTdGF0cyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHN0YXRzQ29sbGVjdGlvbnM7XHJcbn1cclxuXHJcbmNvbnN0IFNFVFRJTkdfREFUQV9PUEVOX1RBRyA9IFwiPGRhdGE+XCI7XHJcbmNvbnN0IFNFVFRJTkdfREFUQV9DTE9TRV9UQUcgPSBcIjwvZGF0YT5cIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/StateProviderHelpers.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyActivityListener.js":
/*!***********************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyActivityListener.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ActivityTracker = __webpack_require__(/*! ./ActivityTracker */ \"../FloodgateCore/dist/src/ActivityTracker.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar IndexedTracker_1 = __webpack_require__(/*! ./IndexedTracker */ \"../FloodgateCore/dist/src/IndexedTracker.js\");\nvar SurveyStatCollectionEventActivity_1 = __webpack_require__(/*! ./SurveyStatCollectionEventActivity */ \"../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar queuedActivities = [];\nvar pendingActivityCount = 0;\nvar previousTrackedActivityMap = {};\n/**\n * This class tracks log calls against named activity strings (matched on strict case-sensitive equality)\n * and calls the provided callback when all activity thresholds for a given survey have been crossed\n */\nvar SurveyActivityListener = /** @class */ (function () {\n    function SurveyActivityListener(callback, loggerCallback) {\n        // Save incoming activity context data in a dictionary with SurveyID as key, activity data array as value\n        this.activityContext = {};\n        if (!callback) {\n            throw new Error(\"callback must not be null\");\n        }\n        this.trackedActivityMap = {};\n        this.callback = callback;\n        this.loggerCallback = loggerCallback;\n    }\n    SurveyActivityListener.resetSessionActivity = function () {\n        previousTrackedActivityMap = {};\n    };\n    SurveyActivityListener.prototype.logActivity = function (activityName, increment, context) {\n        if (increment === void 0) { increment = 1; }\n        this.logActivity_private(activityName, 0 /* Increment */, increment, null, context);\n    };\n    SurveyActivityListener.prototype.logActivityStartTime = function (activityName, startTime) {\n        this.logActivity_private(activityName, 1 /* StartTime */, 0, startTime, null);\n    };\n    SurveyActivityListener.prototype.logActivityStopTime = function (activityName, stopTime) {\n        this.logActivity_private(activityName, 2 /* StopTime */, 0, stopTime, null);\n    };\n    SurveyActivityListener.prototype.SetActivityTrackingContracts = function (activityTrackingContracts, baseline) {\n        if (baseline === void 0) { baseline = new SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity(); }\n        var duplicateCounter = 0;\n        if (!activityTrackingContracts || activityTrackingContracts.length === 0 || !baseline) {\n            return;\n        }\n        // Populate a new map based on the passed in surveys, but propagating and tracking activity counts\n        // we may have seen against those events\n        // NOTE: We will lose activity counts for survey events that are no longer relevant.\n        var newMap = {};\n        var trackedSurveyIds = [];\n        for (var _i = 0, activityTrackingContracts_1 = activityTrackingContracts; _i < activityTrackingContracts_1.length; _i++) {\n            var activityTrackingContract = activityTrackingContracts_1[_i];\n            var trackingSet = activityTrackingContract.trackingSet;\n            // Added to the new set to make sure they are not duplicated. Based on MSO.\n            if (trackedSurveyIds.indexOf(activityTrackingContract.surveyId) === -1) {\n                trackedSurveyIds.push(activityTrackingContract.surveyId);\n            }\n            else {\n                // Duplicate surveyId being added, count it for the log.\n                duplicateCounter++;\n                continue;\n            }\n            // At this point, the survey's activities are safe to add.\n            // Set up the structures we need to transfer baseline counts (from previous sessions) or current counts (from previous trackers)\n            // Both vectors must be sorted in the same order as the trackingSet.List items\n            var baselineStats = baseline.getBySurveyId(activityTrackingContract.surveyId);\n            var baselineCounts = [trackingSet.getList().length];\n            var currentIndexedTrackers = new Array(trackingSet.getList().length);\n            var currentBaselineIndex = 0;\n            var currentIndex = 0;\n            for (var _a = 0, _b = trackingSet.getList(); _a < _b.length; _a++) {\n                var trackingData = _b[_a];\n                // Baseline stats count is 0 for events with \"IsAggregate = false\"\n                baselineCounts[currentIndex] = 0;\n                if (trackingData.getIsAggregate() && baselineStats && currentBaselineIndex < baselineStats.Counts.length) {\n                    baselineCounts[currentIndex] = baselineStats.Counts[currentBaselineIndex++];\n                }\n                // Session stats may be available in the previous trackedActivityMap\n                // Transfer the old \"current session\" count to the new tracker\n                // Is set to null if not available\n                if (previousTrackedActivityMap[trackingData.getActivity()]) {\n                    for (var _c = 0, _d = previousTrackedActivityMap[trackingData.getActivity()]; _c < _d.length; _c++) {\n                        var tracker = _d[_c];\n                        if (tracker.surveyId === activityTrackingContract.surveyId) {\n                            currentIndexedTrackers[currentIndex] = tracker;\n                            break;\n                        }\n                    }\n                }\n                currentIndex++;\n            }\n            // Make a new tracker and init the counts appropriately.\n            var newTracker = new ActivityTracker(trackingSet);\n            // If in a future change we start keeping trackers registered past activation, this will change\n            newTracker.initCounts(baselineCounts, currentIndexedTrackers, false /*wasActivatedThisSession*/);\n            // Setup the indexed trackers\n            for (var _e = 0, _f = newTracker.generateActivityIndexList(); _e < _f.length; _e++) {\n                var activityIndex = _f[_e];\n                var indexedTracker = new IndexedTracker_1.IndexedTracker();\n                indexedTracker.index = activityIndex.index;\n                indexedTracker.surveyId = activityTrackingContract.surveyId;\n                indexedTracker.tracker = newTracker;\n                if (!newMap[activityIndex.activity]) {\n                    newMap[activityIndex.activity] = [];\n                }\n                // Register the new tracker in our new map\n                newMap[activityIndex.activity].push(indexedTracker);\n            }\n        }\n        if (duplicateCounter > 0) {\n            var telemetryLogger = this.loggerCallback && this.loggerCallback();\n            if (telemetryLogger) {\n                telemetryLogger.log_Error(Constants_1.TelemetryEvent.SurveyActivity.SetActivityTrackingContracts.DuplicateSurveyID, \"Duplicate surveyId passed in activityTrackingContracts. Duplicate count: \" + duplicateCounter);\n            }\n        }\n        // Set the new map in place of the old\n        this.copyObject(this.trackedActivityMap, newMap);\n    };\n    SurveyActivityListener.prototype.clearSurveys = function () {\n        var _this = this;\n        Object.getOwnPropertyNames(this.trackedActivityMap).forEach(function (key) {\n            delete _this.trackedActivityMap[key];\n        });\n    };\n    SurveyActivityListener.prototype.saveSessionTrackingActivity = function (activity) {\n        // Set the new activity in place of the old\n        previousTrackedActivityMap[activity] = this.trackedActivityMap[activity];\n    };\n    // Get the indexedTracker that corresponds to the SurveyID and return that count. otherwise return 0.\n    SurveyActivityListener.prototype.getCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.getCount(indexedTracker.index);\n    };\n    SurveyActivityListener.prototype.getSessionCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.getSessionCount(indexedTracker.index);\n    };\n    /**\n     * An atomic get-and-set method.  Returns the current SessionCount, resetting it to zero and adding it into the established baseline\n     */\n    SurveyActivityListener.prototype.moveSessionCountIntoBaseCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.moveSessionCountIntoBaseCount(indexedTracker.index);\n    };\n    SurveyActivityListener.prototype.getSurveyIds = function (activity) {\n        if (Utils_1.isNOU(activity)) {\n            return undefined;\n        }\n        var indexedTrackers = this.trackedActivityMap[activity];\n        if (!indexedTrackers) {\n            return undefined;\n        }\n        var surveyIds = indexedTrackers.map(function (indexedTracker) { return indexedTracker.surveyId; });\n        return surveyIds;\n    };\n    SurveyActivityListener.prototype.setCallback = function (callback) {\n        this.callback = callback;\n    };\n    SurveyActivityListener.prototype.UpdateActivityTrackingContracts = function (surveyList) {\n        if (Utils_1.isNOU(surveyList) || Object.keys(surveyList).length === 0) {\n            this.clearSurveys();\n            return;\n        }\n        for (var key in this.trackedActivityMap) {\n            if (this.trackedActivityMap.hasOwnProperty(key)) {\n                var tracker = this.trackedActivityMap[key];\n                // loop through tracker and remove the ones not associate with given surveys\n                for (var i = tracker.length - 1; i >= 0; --i) {\n                    if (surveyList.hasOwnProperty(tracker[i].surveyId)) {\n                        continue;\n                    }\n                    tracker.splice(i, 1);\n                }\n            }\n        }\n    };\n    SurveyActivityListener.prototype.getIndexedTracker = function (activity, surveyId) {\n        var indexedTrackers = this.trackedActivityMap[activity];\n        if (!indexedTrackers) {\n            return undefined;\n        }\n        var indexedTracker;\n        for (var _i = 0, indexedTrackers_1 = indexedTrackers; _i < indexedTrackers_1.length; _i++) {\n            var tracker = indexedTrackers_1[_i];\n            if (tracker.surveyId === surveyId) {\n                indexedTracker = tracker;\n                break;\n            }\n        }\n        return indexedTracker;\n    };\n    SurveyActivityListener.prototype.resetQueuedActivities = function () {\n        queuedActivities = [];\n    };\n    SurveyActivityListener.prototype.logActivity_private = function (activityName, logType, increment, timestamp, context) {\n        var _this = this;\n        if (this.callback && !this.callback.shouldAcceptActivity(activityName)) {\n            pendingActivityCount++;\n            if (queuedActivities.length < SurveyActivityListener.MaxPendingActivitiesQueueSize) {\n                queuedActivities.push({ activityName: activityName, logType: logType, increment: increment, timestamp: timestamp });\n            }\n        }\n        // Count any activities that are posted before 'FloodgateFirstStart' activity happens\n        if (activityName === SurveyActivityListener.FloodgateStartActivityName) {\n            if (pendingActivityCount > 0) {\n                // Get the activity names of the queued activities for telemetry, send only first 25.\n                var activityNames = queuedActivities.slice(0, 25).map(function (queuedActivity) { return queuedActivity.activityName; });\n                var telemetryLogger = this.loggerCallback && this.loggerCallback();\n                if (telemetryLogger) {\n                    // Sampling this telemetry event to 5%\n                    telemetryLogger.log_Event(Constants_1.TelemetryEvent.SurveyActivity.LogActivity.EventsReprocessed, {\n                        ActivityNames: JSON.stringify(activityNames),\n                        Count: queuedActivities.length,\n                        Dropped: pendingActivityCount - queuedActivities.length,\n                    }, 0.05);\n                }\n                // replay all the queued activities one by one as the floodgate engine has started now\n                queuedActivities.map(function (queuedActivity) { return _this.logActivity_core(queuedActivity.activityName, queuedActivity.logType, queuedActivity.increment, queuedActivity.timestamp, context); });\n            }\n            pendingActivityCount = 0;\n            this.resetQueuedActivities();\n        }\n        this.logActivity_core(activityName, logType, increment, timestamp, context);\n    };\n    SurveyActivityListener.prototype.logActivity_core = function (activityName, logType, increment, timestamp, context) {\n        var indexedTrackers = this.trackedActivityMap[activityName];\n        if (!indexedTrackers || indexedTrackers.length === 0) {\n            return;\n        }\n        var indices = [];\n        // If we have more than one tracker shuffle trackers to randomize which is evaluated first\n        if (indexedTrackers.length > 1) {\n            indices = new Array(indexedTrackers.length);\n            for (var i = 0; i < indices.length; i++) {\n                indices[i] = i;\n            }\n            indices = Utils_1.fyShuffle(indices); // shuffle and reassign\n        }\n        else {\n            indices.push(0); // just have a zero. Shuffling is not needed.\n        }\n        // Loop through trackers in shuffled order\n        for (var _i = 0, indices_1 = indices; _i < indices_1.length; _i++) {\n            var index = indices_1[_i];\n            var tracker = indexedTrackers[index];\n            switch (logType) {\n                case 1 /* StartTime */: {\n                    tracker.tracker.startTime(tracker.index, timestamp);\n                    continue; // Look at the next tracker. Increment not needed.\n                }\n                case 2 /* StopTime */: {\n                    increment = tracker.tracker.stopTime(tracker.index, timestamp);\n                    // fall through to increment the activity as well.\n                }\n                case 0 /* Increment */: {\n                    break;\n                }\n                default: {\n                    continue;\n                }\n            }\n            if (context) {\n                var trackerSurveyId = tracker.surveyId;\n                this.activityContext[trackerSurveyId] = this.activityContext[trackerSurveyId] || [];\n                this.activityContext[trackerSurveyId].push({ activityName: activityName, context: context });\n            }\n            var result = tracker.tracker.incrementActivity(tracker.index, increment);\n            if (result === 2 /* AllActivitiesActivated */) {\n                // Check the activated surveys list to ensure whether any previous survey is still in process\n                // If not, the length should be 1 and call to execute this survey right away\n                // This should only happen if calling to Governance Service, due to the call is asynchronous\n                this.executeCallback(tracker.surveyId);\n                break;\n                /* Breaking here to let one and only one callback to be made from a logActivity call.\n                This ensures only one survey can fully 'trigger' for a logActivity call. Others that would also\n                have triggered must wait until the next call to trigger (without there being a cooldown, of course).\n                */\n            }\n        }\n    };\n    SurveyActivityListener.prototype.executeCallback = function (surveyId) {\n        this.callback.run(surveyId, this.activityContext[surveyId]);\n    };\n    SurveyActivityListener.prototype.copyObject = function (target, source) {\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    };\n    SurveyActivityListener.FloodgateStartActivityName = \"FloodgateFirstStart\";\n    // The size of the dropped activities is set to 100 due to the following two reasons.\n    // 1) To prevent the array growing too big and causing memory issues.\n    // 2) Based on the telemetry analysis of number of dropped activities, the count is very small and much lesser than 100.\n    SurveyActivityListener.MaxPendingActivitiesQueueSize = 100;\n    return SurveyActivityListener;\n}());\nmodule.exports = SurveyActivityListener;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUFjdGl2aXR5TGlzdGVuZXIudHM/MWNiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsbUhBQXFEO0FBUXJELG1HQUE2QztBQUM3QyxrSEFBa0Q7QUFDbEQsMktBQWtIO0FBQ2xILHVGQUEyQztBQUUzQyxJQUFJLGdCQUFnQixHQUFtRCxFQUFFLENBQUM7QUFDMUUsSUFBSSxvQkFBb0IsR0FBVyxDQUFDLENBQUM7QUFDckMsSUFBSSwwQkFBMEIsR0FBdUMsRUFBRSxDQUFDO0FBRXhFOzs7R0FHRztBQUNIO0lBa0JDLGdDQUFtQixRQUEwRCxFQUFFLGNBQWdEO1FBUC9ILHlHQUF5RztRQUNqRyxvQkFBZSxHQUFtQyxFQUFFLENBQUM7UUFPNUQsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUVELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDdEMsQ0FBQztJQW5CYSwyQ0FBb0IsR0FBbEM7UUFDQywwQkFBMEIsR0FBRyxFQUFFLENBQUM7SUFDakMsQ0FBQztJQW1CTSw0Q0FBVyxHQUFsQixVQUFtQixZQUFvQixFQUFFLFNBQXFCLEVBQUUsT0FBNEM7UUFBbkUseUNBQXFCO1FBQzdELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLHFCQUFrRCxTQUFTLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2xILENBQUM7SUFFTSxxREFBb0IsR0FBM0IsVUFBNEIsWUFBb0IsRUFBRSxTQUFnQjtRQUNqRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxxQkFBa0QsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RyxDQUFDO0lBRU0sb0RBQW1CLEdBQTFCLFVB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Q0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVPLDJDQUFVLEdBQWxCLFVBQW1CLE1BQVUsRUFBRSxNQUFVO1FBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsR0FBRztZQUMvQixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQTVWYSxpREFBMEIsR0FBRyxxQkFBcUIsQ0FBQztJQUNqRSxxRkFBcUY7SUFDckYscUVBQXFFO0lBQ3JFLHdIQUF3SDtJQUMxRyxvREFBNkIsR0FBRyxHQUFHLENBQUM7SUF5Vm5ELDZCQUFDO0NBQUE7QUFzQkQsaUJBQVMsc0JBQXNCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWN0aXZpdHlUcmFja2VyIGZyb20gXCIuL0FjdGl2aXR5VHJhY2tlclwiO1xyXG5pbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3QgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nQ29udHJhY3RcIjtcclxuaW1wb3J0IHsgQWN0aXZpdHlUcmFja2luZ1NldCB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdTZXRcIjtcclxuaW1wb3J0ICogYXMgSUFjdGl2aXR5TGlzdGVuZXIgZnJvbSBcIi4vQXBpL0lBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgfSBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBJQ29udGV4dERhdGEgfSBmcm9tIFwiLi9BcGkvSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2tcIjtcclxuaW1wb3J0IElTdXJ2ZXkgPSByZXF1aXJlKFwiLi9BcGkvSVN1cnZleVwiKTtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnkgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgSW5kZXhlZFRyYWNrZXIgfSBmcm9tIFwiLi9JbmRleGVkVHJhY2tlclwiO1xyXG5pbXBvcnQgeyBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMsIFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSB9IGZyb20gXCIuL1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eVwiO1xyXG5pbXBvcnQgeyBmeVNodWZmbGUsIGlzTk9VIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbmxldCBxdWV1ZWRBY3Rpdml0aWVzOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLklRdWV1ZWRBY3Rpdml0eVBhcmFtc1tdID0gW107XHJcbmxldCBwZW5kaW5nQWN0aXZpdHlDb3VudDogbnVtYmVyID0gMDtcclxubGV0IHByZXZpb3VzVHJhY2tlZEFjdGl2aXR5TWFwOiB7IFtpZDogc3RyaW5nXTogSW5kZXhlZFRyYWNrZXJbXSB9ID0ge307XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyB0cmFja3MgbG9nIGNhbGxzIGFnYWluc3QgbmFtZWQgYWN0aXZpdHkgc3RyaW5ncyAobWF0Y2hlZCBvbiBzdHJpY3QgY2FzZS1zZW5zaXRpdmUgZXF1YWxpdHkpXHJcbiAqIGFuZCBjYWxscyB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgd2hlbiBhbGwgYWN0aXZpdHkgdGhyZXNob2xkcyBmb3IgYSBnaXZlbiBzdXJ2ZXkgaGF2ZSBiZWVuIGNyb3NzZWRcclxuICovXHJcbmNsYXNzIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIgaW1wbGVtZW50cyBJQWN0aXZpdHlMaXN0ZW5lciB7XHJcblx0cHVibGljIHN0YXRpYyBGbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZSA9IFwiRmxvb2RnYXRlRmlyc3RTdGFydFwiO1xyXG5cdC8vIFRoZSBzaXplIG9mIHRoZSBkcm9wcGVkIGFjdGl2aXRpZXMgaXMgc2V0IHRvIDEwMCBkdWUgdG8gdGhlIGZvbGxvd2luZyB0d28gcmVhc29ucy5cclxuXHQvLyAxKSBUbyBwcmV2ZW50IHRoZSBhcnJheSBncm93aW5nIHRvbyBiaWcgYW5kIGNhdXNpbmcgbWVtb3J5IGlzc3Vlcy5cclxuXHQvLyAyKSBCYXNlZCBvbiB0aGUgdGVsZW1ldHJ5IGFuYWx5c2lzIG9mIG51bWJlciBvZiBkcm9wcGVkIGFjdGl2aXRpZXMsIHRoZSBjb3VudCBpcyB2ZXJ5IHNtYWxsIGFuZCBtdWNoIGxlc3NlciB0aGFuIDEwMC5cclxuXHRwdWJsaWMgc3RhdGljIE1heFBlbmRpbmdBY3Rpdml0aWVzUXVldWVTaXplID0gMTAwO1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIHJlc2V0U2Vzc2lvbkFjdGl2aXR5KCk6IHZvaWQge1xyXG5cdFx0cHJldmlvdXNUcmFja2VkQWN0aXZpdHlNYXAgPSB7fTtcclxuXHR9XHJcblxyXG5cdC8vIFNhdmXigK9pbmNvbWluZ+KAr2FjdGl2aXR5IGNvbnRleHTigK9kYXRh4oCvaW7igK9h4oCvZGljdGlvbmFyeeKAr3dpdGjigK9TdXJ2ZXlJRCBhc+KAr2tleSzigK9hY3Rpdml0eeKAr2RhdGHigK9hcnJheeKAr2Fz4oCvdmFsdWVcclxuXHRwcml2YXRlIGFjdGl2aXR5Q29udGV4dDogUmVjb3JkPHN0cmluZyzigK9JQ29udGV4dERhdGFbXT4gPSB7fTtcclxuXHJcblx0cHJpdmF0ZSB0cmFja2VkQWN0aXZpdHlNYXA6IHsgW2lkOiBzdHJpbmddOiBJbmRleGVkVHJhY2tlcltdIH07XHJcblx0cHJpdmF0ZSBjYWxsYmFjazogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5JQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrO1xyXG5cdHByaXZhdGUgbG9nZ2VyQ2FsbGJhY2s6ICgpID0+IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXI7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihjYWxsYmFjazogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5JQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrLCBsb2dnZXJDYWxsYmFjaz86ICgpID0+IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdGlmICghY2FsbGJhY2spIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2FsbGJhY2sgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcCA9IHt9O1xyXG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG5cdFx0dGhpcy5sb2dnZXJDYWxsYmFjayA9IGxvZ2dlckNhbGxiYWNrO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0FjdGl2aXR5KGFjdGl2aXR5TmFtZTogc3RyaW5nLCBpbmNyZW1lbnQ6IG51bWJlciA9IDEsIGNvbnRleHQ/OuKAr0lBY3Rpdml0eUxpc3RlbmVyLklBY3Rpdml0eUNvbnRleHQpOiB2b2lkIHtcclxuXHRcdHRoaXMubG9nQWN0aXZpdHlfcHJpdmF0ZShhY3Rpdml0eU5hbWUsIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5JbmNyZW1lbnQsIGluY3JlbWVudCwgbnVsbCwgY29udGV4dCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9nQWN0aXZpdHlTdGFydFRpbWUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIHN0YXJ0VGltZT86IERhdGUpOiB2b2lkIHtcclxuXHRcdHRoaXMubG9nQWN0aXZpdHlfcHJpdmF0ZShhY3Rpdml0eU5hbWUsIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5TdGFydFRpbWUsIDAsIHN0YXJ0VGltZSwgbnVsbCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9nQWN0aXZpdHlTdG9wVGltZShhY3Rpdml0eU5hbWU6IHN0cmluZywgc3RvcFRpbWU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X3ByaXZhdGUoYWN0aXZpdHlOYW1lLCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuU3RvcFRpbWUsIDAsIHN0b3BUaW1lLCBudWxsKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBTZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzKGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHM6IEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdFtdLFxyXG5cdFx0YmFzZWxpbmUgPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5KCkpOiB2b2lkIHtcclxuXHJcblx0XHRsZXQgZHVwbGljYXRlQ291bnRlciA9IDA7XHJcblxyXG5cdFx0aWYgKCFhY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzIHx8IGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMubGVuZ3RoID09PSAwIHx8ICFiYXNlbGluZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUG9wdWxhdGUgYSBuZXcgbWFwIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gc3VydmV5cywgYnV0IHByb3BhZ2F0aW5nIGFuZCB0cmFja2luZyBhY3Rpdml0eSBjb3VudHNcclxuXHRcdC8vIHdlIG1heSBoYXZlIHNlZW4gYWdhaW5zdCB0aG9zZSBldmVudHNcclxuXHRcdC8vIE5PVEU6IFdlIHdpbGwgbG9zZSBhY3Rpdml0eSBjb3VudHMgZm9yIHN1cnZleSBldmVudHMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlbGV2YW50LlxyXG5cdFx0Y29uc3QgbmV3TWFwOiB7IFtpZDogc3RyaW5nXTogSW5kZXhlZFRyYWNrZXJbXSB9ID0ge307XHJcblx0XHRjb25zdCB0cmFja2VkU3VydmV5SWRzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3QgYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0IG9mIGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMpIHtcclxuXHRcdFx0Y29uc3QgdHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQgPSBhY3Rpdml0eVRyYWNraW5nQ29udHJhY3QudHJhY2tpbmdTZXQ7XHJcblxyXG5cdFx0XHQvLyBBZGRlZCB0byB0aGUgbmV3IHNldCB0byBtYWtlIHN1cmUgdGhleSBhcmUgbm90IGR1cGxpY2F0ZWQuIEJhc2VkIG9uIE1TTy5cclxuXHRcdFx0aWYgKHRyYWNrZWRTdXJ2ZXlJZHMuaW5kZXhPZihhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpID09PSAtMSkge1xyXG5cdFx0XHRcdHRyYWNrZWRTdXJ2ZXlJZHMucHVzaChhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIER1cGxpY2F0ZSBzdXJ2ZXlJZCBiZWluZyBhZGRlZCwgY291bnQgaXQgZm9yIHRoZSBsb2cuXHJcblx0XHRcdFx0ZHVwbGljYXRlQ291bnRlcisrO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCB0aGUgc3VydmV5J3MgYWN0aXZpdGllcyBhcmUgc2FmZSB0byBhZGQuXHJcblx0XHRcdC8vIFNldCB1cCB0aGUgc3RydWN0dXJlcyB3ZSBuZWVkIHRvIHRyYW5zZmVyIGJhc2VsaW5lIGNvdW50cyAoZnJvbSBwcmV2aW91cyBzZXNzaW9ucykgb3IgY3VycmVudCBjb3VudHMgKGZyb20gcHJldmlvdXMgdHJhY2tlcnMpXHJcblx0XHRcdC8vIEJvdGggdmVjdG9ycyBtdXN0IGJlIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgdHJhY2tpbmdTZXQuTGlzdCBpdGVtc1xyXG5cdFx0XHRjb25zdCBiYXNlbGluZVN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBiYXNlbGluZS5nZXRCeVN1cnZleUlkKGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5zdXJ2ZXlJZCk7XHJcblx0XHRcdGNvbnN0IGJhc2VsaW5lQ291bnRzOiBudW1iZXJbXSA9IFt0cmFja2luZ1NldC5nZXRMaXN0KCkubGVuZ3RoXTtcclxuXHRcdFx0Y29uc3QgY3VycmVudEluZGV4ZWRUcmFja2VyczogSW5kZXhlZFRyYWNrZXJbXSA9IG5ldyBBcnJheTxJbmRleGVkVHJhY2tlcj4odHJhY2tpbmdTZXQuZ2V0TGlzdCgpLmxlbmd0aCk7XHJcblxyXG5cdFx0XHRsZXQgY3VycmVudEJhc2VsaW5lSW5kZXggPSAwO1xyXG5cdFx0XHRsZXQgY3VycmVudEluZGV4ID0gMDtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgdHJhY2tpbmdEYXRhIG9mIHRyYWNraW5nU2V0LmdldExpc3QoKSkge1xyXG5cdFx0XHRcdC8vIEJhc2VsaW5lIHN0YXRzIGNvdW50IGlzIDAgZm9yIGV2ZW50cyB3aXRoIFwiSXNBZ2dyZWdhdGUgPSBmYWxzZVwiXHJcblx0XHRcdFx0YmFzZWxpbmVDb3VudHNbY3VycmVudEluZGV4XSA9IDA7XHJcblx0XHRcdFx0aWYgKHRyYWNraW5nRGF0YS5nZXRJc0FnZ3JlZ2F0ZSgpICYmIGJhc2VsaW5lU3RhdHMgJiYgY3VycmVudEJhc2VsaW5lSW5kZXggPCBiYXNlbGluZVN0YXRzLkNvdW50cy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGJhc2VsaW5lQ291bnRzW2N1cnJlbnRJbmRleF0gPSBiYXNlbGluZVN0YXRzLkNvdW50c1tjdXJyZW50QmFzZWxpbmVJbmRleCsrXTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFNlc3Npb24gc3RhdHMgbWF5IGJlIGF2YWlsYWJsZSBpbiB0aGUgcHJldmlvdXMgdHJhY2tlZEFjdGl2aXR5TWFwXHJcblx0XHRcdFx0Ly8gVHJhbnNmZXIgdGhlIG9sZCBcImN1cnJlbnQgc2Vzc2lvblwiIGNvdW50IHRvIHRoZSBuZXcgdHJhY2tlclxyXG5cdFx0XHRcdC8vIElzIHNldCB0byBudWxsIGlmIG5vdCBhdmFpbGFibGVcclxuXHRcdFx0XHRpZiAocHJldmlvdXNUcmFja2VkQWN0aXZpdHlNYXBbdHJhY2tpbmdEYXRhLmdldEFjdGl2aXR5KCldKSB7XHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHRyYWNrZXIgb2YgcHJldmlvdXNUcmFja2VkQWN0aXZpdHlNYXBbdHJhY2tpbmdEYXRhLmdldEFjdGl2aXR5KCldKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0cmFja2VyLnN1cnZleUlkID09PSBhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50SW5kZXhlZFRyYWNrZXJzW2N1cnJlbnRJbmRleF0gPSB0cmFja2VyO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjdXJyZW50SW5kZXgrKztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWFrZSBhIG5ldyB0cmFja2VyIGFuZCBpbml0IHRoZSBjb3VudHMgYXBwcm9wcmlhdGVseS5cclxuXHRcdFx0Y29uc3QgbmV3VHJhY2tlciA9IG5ldyBBY3Rpdml0eVRyYWNrZXIodHJhY2tpbmdTZXQpO1xyXG5cdFx0XHQvLyBJZiBpbiBhIGZ1dHVyZSBjaGFuZ2Ugd2Ugc3RhcnQga2VlcGluZyB0cmFja2VycyByZWdpc3RlcmVkIHBhc3QgYWN0aXZhdGlvbiwgdGhpcyB3aWxsIGNoYW5nZVxyXG5cdFx0XHRuZXdUcmFja2VyLmluaXRDb3VudHMoYmFzZWxpbmVDb3VudHMsIGN1cnJlbnRJbmRleGVkVHJhY2tlcnMsIGZhbHNlIC8qd2FzQWN0aXZhdGVkVGhpc1Nlc3Npb24qLyk7XHJcblxyXG5cdFx0XHQvLyBTZXR1cCB0aGUgaW5kZXhlZCB0cmFja2Vyc1xyXG5cdFx0XHRmb3IgKGNvbnN0IGFjdGl2aXR5SW5kZXggb2YgbmV3VHJhY2tlci5nZW5lcmF0ZUFjdGl2aXR5SW5kZXhMaXN0KCkpIHtcclxuXHRcdFx0XHRjb25zdCBpbmRleGVkVHJhY2tlciA9IG5ldyBJbmRleGVkVHJhY2tlcigpO1xyXG5cdFx0XHRcdGluZGV4ZWRUcmFja2VyLmluZGV4ID0gYWN0aXZpdHlJbmRleC5pbmRleDtcclxuXHRcdFx0XHRpbmRleGVkVHJhY2tlci5zdXJ2ZXlJZCA9IGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5zdXJ2ZXlJZDtcclxuXHRcdFx0XHRpbmRleGVkVHJhY2tlci50cmFja2VyID0gbmV3VHJhY2tlcjtcclxuXHJcblx0XHRcdFx0aWYgKCFuZXdNYXBbYWN0aXZpdHlJbmRleC5hY3Rpdml0eV0pIHtcclxuXHRcdFx0XHRcdG5ld01hcFthY3Rpdml0eUluZGV4LmFjdGl2aXR5XSA9IFtdO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gUmVnaXN0ZXIgdGhlIG5ldyB0cmFja2VyIGluIG91ciBuZXcgbWFwXHJcblx0XHRcdFx0bmV3TWFwW2FjdGl2aXR5SW5kZXguYWN0aXZpdHldLnB1c2goaW5kZXhlZFRyYWNrZXIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGR1cGxpY2F0ZUNvdW50ZXIgPiAwKSB7XHJcblx0XHRcdGNvbnN0IHRlbGVtZXRyeUxvZ2dlciA9IHRoaXMubG9nZ2VyQ2FsbGJhY2sgJiYgdGhpcy5sb2dnZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FcnJvcihUZWxlbWV0cnlFdmVudC5TdXJ2ZXlBY3Rpdml0eS5TZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzLkR1cGxpY2F0ZVN1cnZleUlELFxyXG5cdFx0XHRcdFx0XCJEdXBsaWNhdGUgc3VydmV5SWQgcGFzc2VkIGluIGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMuIER1cGxpY2F0ZSBjb3VudDogXCIgKyBkdXBsaWNhdGVDb3VudGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB0aGUgbmV3IG1hcCBpbiBwbGFjZSBvZiB0aGUgb2xkXHJcblx0XHR0aGlzLmNvcHlPYmplY3QodGhpcy50cmFja2VkQWN0aXZpdHlNYXAsIG5ld01hcCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY2xlYXJTdXJ2ZXlzKCk6IHZvaWQge1xyXG5cdFx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy50cmFja2VkQWN0aXZpdHlNYXApLmZvckVhY2goKGtleSkgPT4ge1xyXG5cdFx0XHRkZWxldGUgdGhpcy50cmFja2VkQWN0aXZpdHlNYXBba2V5XTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNhdmVTZXNzaW9uVHJhY2tpbmdBY3Rpdml0eShhY3Rpdml0eTogc3RyaW5nKTogdm9pZCB7XHJcblx0XHQvLyBTZXQgdGhlIG5ldyBhY3Rpdml0eSBpbiBwbGFjZSBvZiB0aGUgb2xkXHJcblx0XHRwcmV2aW91c1RyYWNrZWRBY3Rpdml0eU1hcFthY3Rpdml0eV0gPSB0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcFthY3Rpdml0eV07XHJcblx0fVxyXG5cclxuXHQvLyBHZXQgdGhlIGluZGV4ZWRUcmFja2VyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIFN1cnZleUlEIGFuZCByZXR1cm4gdGhhdCBjb3VudC4gb3RoZXJ3aXNlIHJldHVybiAwLlxyXG5cdHB1YmxpYyBnZXRDb3VudChhY3Rpdml0eTogc3RyaW5nLCBzdXJ2ZXlJZDogc3RyaW5nKTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VyID0gdGhpcy5nZXRJbmRleGVkVHJhY2tlcihhY3Rpdml0eSwgc3VydmV5SWQpO1xyXG5cdFx0aWYgKCFpbmRleGVkVHJhY2tlcikge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaW5kZXhlZFRyYWNrZXIudHJhY2tlci5nZXRDb3VudChpbmRleGVkVHJhY2tlci5pbmRleCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbkNvdW50KGFjdGl2aXR5OiBzdHJpbmcsIHN1cnZleUlkOiBzdHJpbmcpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXIgPSB0aGlzLmdldEluZGV4ZWRUcmFja2VyKGFjdGl2aXR5LCBzdXJ2ZXlJZCk7XHJcblx0XHRpZiAoIWluZGV4ZWRUcmFja2VyKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleGVkVHJhY2tlci50cmFja2VyLmdldFNlc3Npb25Db3VudChpbmRleGVkVHJhY2tlci5pbmRleCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBbiBhdG9taWMgZ2V0LWFuZC1zZXQgbWV0aG9kLiAgUmV0dXJucyB0aGUgY3VycmVudCBTZXNzaW9uQ291bnQsIHJlc2V0dGluZyBpdCB0byB6ZXJvIGFuZCBhZGRpbmcgaXQgaW50byB0aGUgZXN0YWJsaXNoZWQgYmFzZWxpbmVcclxuXHQgKi9cclxuXHRwdWJsaWMgbW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoYWN0aXZpdHk6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZyk6IG51bWJlciB7XHJcblx0XHRjb25zdCBpbmRleGVkVHJhY2tlciA9IHRoaXMuZ2V0SW5kZXhlZFRyYWNrZXIoYWN0aXZpdHksIHN1cnZleUlkKTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXIpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGluZGV4ZWRUcmFja2VyLnRyYWNrZXIubW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoaW5kZXhlZFRyYWNrZXIuaW5kZXgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFN1cnZleUlkcyhhY3Rpdml0eTogc3RyaW5nKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xyXG5cdFx0aWYgKGlzTk9VKGFjdGl2aXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VycyA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2FjdGl2aXR5XTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VydmV5SWRzID0gaW5kZXhlZFRyYWNrZXJzLm1hcCgoaW5kZXhlZFRyYWNrZXIpID0+IGluZGV4ZWRUcmFja2VyLnN1cnZleUlkKTtcclxuXHRcdHJldHVybiBzdXJ2ZXlJZHM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2FsbGJhY2soY2FsbGJhY2s6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjayk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFVwZGF0ZUFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMoc3VydmV5TGlzdDogSURpY3Rpb25hcnk8SVN1cnZleT4pOiB2b2lkIHtcclxuXHRcdGlmIChpc05PVShzdXJ2ZXlMaXN0KSB8fCBPYmplY3Qua2V5cyhzdXJ2ZXlMaXN0KS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0dGhpcy5jbGVhclN1cnZleXMoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwKSB7XHJcblx0XHRcdGlmICh0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgdHJhY2tlcjogSW5kZXhlZFRyYWNrZXJbXSA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2tleV07XHJcblxyXG5cdFx0XHRcdC8vIGxvb3AgdGhyb3VnaCB0cmFja2VyIGFuZCByZW1vdmUgdGhlIG9uZXMgbm90IGFzc29jaWF0ZSB3aXRoIGdpdmVuIHN1cnZleXNcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gdHJhY2tlci5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG5cdFx0XHRcdFx0aWYgKHN1cnZleUxpc3QuaGFzT3duUHJvcGVydHkodHJhY2tlcltpXS5zdXJ2ZXlJZCkpIHtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0cmFja2VyLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SW5kZXhlZFRyYWNrZXIoYWN0aXZpdHk6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZyk6IEluZGV4ZWRUcmFja2VyIHwgdW5kZWZpbmVkIHtcclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VycyA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2FjdGl2aXR5XTtcclxuXHJcblx0XHRpZiAoIWluZGV4ZWRUcmFja2Vycykge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbmRleGVkVHJhY2tlcjogSW5kZXhlZFRyYWNrZXIgfCB1bmRlZmluZWQ7XHJcblx0XHRmb3IgKGNvbnN0IHRyYWNrZXIgb2YgaW5kZXhlZFRyYWNrZXJzKSB7XHJcblx0XHRcdGlmICh0cmFja2VyLnN1cnZleUlkID09PSBzdXJ2ZXlJZCkge1xyXG5cdFx0XHRcdGluZGV4ZWRUcmFja2VyID0gdHJhY2tlcjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleGVkVHJhY2tlcjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVzZXRRdWV1ZWRBY3Rpdml0aWVzKCk6IHZvaWQge1xyXG5cdFx0cXVldWVkQWN0aXZpdGllcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2dBY3Rpdml0eV9wcml2YXRlKGFjdGl2aXR5TmFtZTogc3RyaW5nLFxyXG5cdFx0bG9nVHlwZTogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5Mb2dBY3Rpb25UeXBlLFxyXG5cdFx0aW5jcmVtZW50OiBudW1iZXIsXHJcblx0XHR0aW1lc3RhbXA6IERhdGUsXHJcblx0XHRjb250ZXh0OuKAr0lBY3Rpdml0eUxpc3RlbmVyLklBY3Rpdml0eUNvbnRleHQpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmNhbGxiYWNrICYmICF0aGlzLmNhbGxiYWNrLnNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZSkpIHtcclxuXHRcdFx0cGVuZGluZ0FjdGl2aXR5Q291bnQrKztcclxuXHRcdFx0aWYgKHF1ZXVlZEFjdGl2aXRpZXMubGVuZ3RoIDwgU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5NYXhQZW5kaW5nQWN0aXZpdGllc1F1ZXVlU2l6ZSkge1xyXG5cdFx0XHRcdHF1ZXVlZEFjdGl2aXRpZXMucHVzaCh7YWN0aXZpdHlOYW1lLCBsb2dUeXBlLCBpbmNyZW1lbnQsIHRpbWVzdGFtcH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ291bnQgYW55IGFjdGl2aXRpZXMgdGhhdCBhcmUgcG9zdGVkIGJlZm9yZSAnRmxvb2RnYXRlRmlyc3RTdGFydCcgYWN0aXZpdHkgaGFwcGVuc1xyXG5cdFx0aWYgKGFjdGl2aXR5TmFtZSA9PT0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5GbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZSkge1xyXG5cdFx0XHRpZiAocGVuZGluZ0FjdGl2aXR5Q291bnQgPiAwKSB7XHJcblx0XHRcdFx0Ly8gR2V0IHRoZSBhY3Rpdml0eSBuYW1lcyBvZiB0aGUgcXVldWVkIGFjdGl2aXRpZXMgZm9yIHRlbGVtZXRyeSwgc2VuZCBvbmx5IGZpcnN0IDI1LlxyXG5cdFx0XHRcdGNvbnN0IGFjdGl2aXR5TmFtZXMgPSBxdWV1ZWRBY3Rpdml0aWVzLnNsaWNlKDAsIDI1KS5tYXAoKHF1ZXVlZEFjdGl2aXR5KSA9PiBxdWV1ZWRBY3Rpdml0eS5hY3Rpdml0eU5hbWUpO1xyXG5cclxuXHRcdFx0XHRjb25zdCB0ZWxlbWV0cnlMb2dnZXIgPSB0aGlzLmxvZ2dlckNhbGxiYWNrICYmIHRoaXMubG9nZ2VyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0XHQvLyBTYW1wbGluZyB0aGlzIHRlbGVtZXRyeSBldmVudCB0byA1JVxyXG5cdFx0XHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5TdXJ2ZXlBY3Rpdml0eS5Mb2dBY3Rpdml0eS5FdmVudHNSZXByb2Nlc3NlZCxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdEFjdGl2aXR5TmFtZXM6IEpTT04uc3RyaW5naWZ5KGFjdGl2aXR5TmFtZXMpLFxyXG5cdFx0XHRcdFx0XHRcdENvdW50OiBxdWV1ZWRBY3Rpdml0aWVzLmxlbmd0aCxcclxuXHRcdFx0XHRcdFx0XHREcm9wcGVkOiBwZW5kaW5nQWN0aXZpdHlDb3VudCAtIHF1ZXVlZEFjdGl2aXRpZXMubGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHQwLjA1KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHJlcGxheSBhbGwgdGhlIHF1ZXVlZCBhY3Rpdml0aWVzIG9uZSBieSBvbmUgYXMgdGhlIGZsb29kZ2F0ZSBlbmdpbmUgaGFzIHN0YXJ0ZWQgbm93XHJcblx0XHRcdFx0cXVldWVkQWN0aXZpdGllcy5tYXAoKHF1ZXVlZEFjdGl2aXR5KSA9PiB0aGlzLmxvZ0FjdGl2aXR5X2NvcmUoXHJcblx0XHRcdFx0XHRxdWV1ZWRBY3Rpdml0eS5hY3Rpdml0eU5hbWUsIHF1ZXVlZEFjdGl2aXR5LmxvZ1R5cGUsIHF1ZXVlZEFjdGl2aXR5LmluY3JlbWVudCwgcXVldWVkQWN0aXZpdHkudGltZXN0YW1wLCBjb250ZXh0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHBlbmRpbmdBY3Rpdml0eUNvdW50ID0gMDtcclxuXHRcdFx0dGhpcy5yZXNldFF1ZXVlZEFjdGl2aXRpZXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X2NvcmUoYWN0aXZpdHlOYW1lLCBsb2dUeXBlLCBpbmNyZW1lbnQsIHRpbWVzdGFtcCwgY29udGV4dCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvZ0FjdGl2aXR5X2NvcmUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsXHJcblx0XHRsb2dUeXBlOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUsXHJcblx0XHRpbmNyZW1lbnQ6IG51bWJlcixcclxuXHRcdHRpbWVzdGFtcDogRGF0ZSxcclxuXHRcdGNvbnRleHQ64oCvSUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5Q29udGV4dCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXJzOiBJbmRleGVkVHJhY2tlcltdID0gdGhpcy50cmFja2VkQWN0aXZpdHlNYXBbYWN0aXZpdHlOYW1lXTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzIHx8IGluZGV4ZWRUcmFja2Vycy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuXHRcdC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSB0cmFja2VyIHNodWZmbGUgdHJhY2tlcnMgdG8gcmFuZG9taXplIHdoaWNoIGlzIGV2YWx1YXRlZCBmaXJzdFxyXG5cdFx0aWYgKGluZGV4ZWRUcmFja2Vycy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdGluZGljZXMgPSBuZXcgQXJyYXk8bnVtYmVyPihpbmRleGVkVHJhY2tlcnMubGVuZ3RoKTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aW5kaWNlc1tpXSA9IGk7XHJcblx0XHRcdH1cclxuXHRcdFx0aW5kaWNlcyA9IGZ5U2h1ZmZsZShpbmRpY2VzKTsgLy8gc2h1ZmZsZSBhbmQgcmVhc3NpZ25cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluZGljZXMucHVzaCgwKTsgLy8ganVzdCBoYXZlIGEgemVyby4gU2h1ZmZsaW5nIGlzIG5vdCBuZWVkZWQuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHRyYWNrZXJzIGluIHNodWZmbGVkIG9yZGVyXHJcblx0XHRmb3IgKGNvbnN0IGluZGV4IG9mIGluZGljZXMpIHtcclxuXHRcdFx0Y29uc3QgdHJhY2tlcjogSW5kZXhlZFRyYWNrZXIgPSBpbmRleGVkVHJhY2tlcnNbaW5kZXhdO1xyXG5cdFx0XHRzd2l0Y2ggKGxvZ1R5cGUpIHtcclxuXHRcdFx0XHRjYXNlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5TdGFydFRpbWU6IHtcclxuXHRcdFx0XHRcdHRyYWNrZXIudHJhY2tlci5zdGFydFRpbWUodHJhY2tlci5pbmRleCwgdGltZXN0YW1wKTtcclxuXHRcdFx0XHRcdGNvbnRpbnVlOyAvLyBMb29rIGF0IHRoZSBuZXh0IHRyYWNrZXIuIEluY3JlbWVudCBub3QgbmVlZGVkLlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYXNlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5TdG9wVGltZToge1xyXG5cdFx0XHRcdFx0aW5jcmVtZW50ID0gdHJhY2tlci50cmFja2VyLnN0b3BUaW1lKHRyYWNrZXIuaW5kZXgsIHRpbWVzdGFtcCk7XHJcblx0XHRcdFx0XHQvLyBmYWxsIHRocm91Z2ggdG8gaW5jcmVtZW50IHRoZSBhY3Rpdml0eSBhcyB3ZWxsLlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYXNlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5JbmNyZW1lbnQ6IHtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRkZWZhdWx0OiB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjb250ZXh0KSB7XHJcblx0XHRcdFx0Y29uc3QgdHJhY2tlclN1cnZleUlkID0gdHJhY2tlci5zdXJ2ZXlJZDtcclxuXHRcdFx0XHR0aGlzLmFjdGl2aXR5Q29udGV4dFt0cmFja2VyU3VydmV5SWRdID0gdGhpcy5hY3Rpdml0eUNvbnRleHRbdHJhY2tlclN1cnZleUlkXSB8fCBbXTtcclxuXHRcdFx0XHR0aGlzLmFjdGl2aXR5Q29udGV4dFt0cmFja2VyU3VydmV5SWRdLnB1c2goeyBhY3Rpdml0eU5hbWUsIGNvbnRleHQgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHJlc3VsdDogQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdCA9IHRyYWNrZXIudHJhY2tlci5pbmNyZW1lbnRBY3Rpdml0eSh0cmFja2VyLmluZGV4LCBpbmNyZW1lbnQpO1xyXG5cdFx0XHRpZiAocmVzdWx0ID09PSBBY3Rpdml0eVRyYWNrZXIuSW5jcmVtZW50UmVzdWx0LkFsbEFjdGl2aXRpZXNBY3RpdmF0ZWQpIHtcclxuXHRcdFx0XHQvLyBDaGVjayB0aGUgYWN0aXZhdGVkIHN1cnZleXMgbGlzdCB0byBlbnN1cmUgd2hldGhlciBhbnkgcHJldmlvdXMgc3VydmV5IGlzIHN0aWxsIGluIHByb2Nlc3NcclxuXHRcdFx0XHQvLyBJZiBub3QsIHRoZSBsZW5ndGggc2hvdWxkIGJlIDEgYW5kIGNhbGwgdG8gZXhlY3V0ZSB0aGlzIHN1cnZleSByaWdodCBhd2F5XHJcblx0XHRcdFx0Ly8gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgY2FsbGluZyB0byBHb3Zlcm5hbmNlIFNlcnZpY2UsIGR1ZSB0byB0aGUgY2FsbCBpcyBhc3luY2hyb25vdXNcclxuXHRcdFx0XHR0aGlzLmV4ZWN1dGVDYWxsYmFjayh0cmFja2VyLnN1cnZleUlkKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHQvKiBCcmVha2luZyBoZXJlIHRvIGxldCBvbmUgYW5kIG9ubHkgb25lIGNhbGxiYWNrIHRvIGJlIG1hZGUgZnJvbSBhIGxvZ0FjdGl2aXR5IGNhbGwuXHJcblx0XHRcdFx0VGhpcyBlbnN1cmVzIG9ubHkgb25lIHN1cnZleSBjYW4gZnVsbHkgJ3RyaWdnZXInIGZvciBhIGxvZ0FjdGl2aXR5IGNhbGwuIE90aGVycyB0aGF0IHdvdWxkIGFsc29cclxuXHRcdFx0XHRoYXZlIHRyaWdnZXJlZCBtdXN0IHdhaXQgdW50aWwgdGhlIG5leHQgY2FsbCB0byB0cmlnZ2VyICh3aXRob3V0IHRoZXJlIGJlaW5nIGEgY29vbGRvd24sIG9mIGNvdXJzZSkuXHJcblx0XHRcdFx0Ki9cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBleGVjdXRlQ2FsbGJhY2soc3VydmV5SWQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWxsYmFjay5ydW4oc3VydmV5SWQsIHRoaXMuYWN0aXZpdHlDb250ZXh0W3N1cnZleUlkXSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvcHlPYmplY3QodGFyZ2V0OiB7fSwgc291cmNlOiB7fSkge1xyXG5cdFx0T2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKChrZXkpID0+IHtcclxuXHRcdFx0dGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdGV4cG9ydCBpbnRlcmZhY2UgSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjayB7XHJcblx0XHRydW4oc3VydmV5SWQ6IHN0cmluZywgY29udGV4dERhdGE6IElDb250ZXh0RGF0YVtdKTogdm9pZDtcclxuXHRcdHNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZTogc3RyaW5nKTogYm9vbGVhbjtcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIExvZ0FjdGlvblR5cGUge1xyXG5cdFx0SW5jcmVtZW50LFxyXG5cdFx0U3RhcnRUaW1lLFxyXG5cdFx0U3RvcFRpbWUsXHJcblx0fVxyXG5cclxuXHRleHBvcnQgaW50ZXJmYWNlIElRdWV1ZWRBY3Rpdml0eVBhcmFtcyB7XHJcblx0XHRhY3Rpdml0eU5hbWU6IHN0cmluZztcclxuXHRcdGxvZ1R5cGU6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZTtcclxuXHRcdGluY3JlbWVudDogbnVtYmVyO1xyXG5cdFx0dGltZXN0YW1wOiBEYXRlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyActivityListener.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js":
/*!***********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CVSurveyComponent = /** @class */ (function () {\n    function CVSurveyComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.customerVoiceFormId) {\n            throw new Error(\"data.formID must not be null or empty\");\n        }\n        this.data = data;\n    }\n    CVSurveyComponent.make = function (data) {\n        try {\n            return new CVSurveyComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CVSurveyComponent.prototype.getType = function () {\n        return \"CVSurvey\" /* CVSurvey */;\n    };\n    CVSurveyComponent.prototype.getFormId = function () {\n        return this.data.customerVoiceFormId;\n    };\n    // @Override\n    CVSurveyComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_CVSURVEY_TAGNAME);\n        return [element];\n    };\n    // @Override\n    CVSurveyComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_CVSURVEY_KEYNAME] = this.getFormId();\n        return result;\n    };\n    // @Override\n    CVSurveyComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_CVSURVEYFORMID_KEYNAME] = this.getFormId(),\n            _a;\n    };\n    return CVSurveyComponent;\n}());\n(function (CVSurveyComponent) {\n    var CVSurveyComponentData = /** @class */ (function () {\n        function CVSurveyComponentData() {\n        }\n        return CVSurveyComponentData;\n    }());\n    CVSurveyComponent.CVSurveyComponentData = CVSurveyComponentData;\n})(CVSurveyComponent || (CVSurveyComponent = {}));\nmodule.exports = CVSurveyComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvQ1ZTdXJ2ZXlDb21wb25lbnQudHM/MmU3ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsK0hBQTREO0FBRTVEO0lBV0MsMkJBQW1CLElBQTZDO1FBQy9ELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUN6RDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFuQmEsc0JBQUksR0FBbEIsVUFBbUIsSUFBNkM7UUFDL0QsSUFBSTtZQUNILE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNuQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFlTSxtQ0FBTyxHQUFkO1FBQ0MsaUNBQXNDO0lBQ3ZDLENBQUM7SUFFTSxxQ0FBUyxHQUFoQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUNELElBQU0sT0FBTyxHQUFZLEdBQUcsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNsRixPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZSxHQUF0QjtRQUNDLElBQU0sTUFBTSxHQUFXLEVBQUUsQ0FBQztRQUUxQixNQUFNLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbEUsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLDRDQUFnQixHQUF2Qjs7UUFDQztZQUNDLEdBQUMsZ0JBQWdCLENBQUMsMkJBQTJCLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRTtlQUMvRDtJQUNILENBQUM7SUFDRix3QkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGlCQUFpQjtJQUN2QjtRQUFBO1FBRUEsQ0FBQztRQUFELDRCQUFDO0lBQUQsQ0FBQztJQUZZLHVDQUFxQix3QkFFakM7QUFDRixDQUFDLEVBSk0saUJBQWlCLEtBQWpCLGlCQUFpQixRQUl2QjtBQUVELGlCQUFTLGlCQUFpQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9DVlN1cnZleUNvbXBvbmVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElDVlN1cnZleUNvbXBvbmVudCB9IGZyb20gXCJzcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgQ1ZTdXJ2ZXlDb21wb25lbnQgaW1wbGVtZW50cyBJQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBDVlN1cnZleUNvbXBvbmVudC5DVlN1cnZleUNvbXBvbmVudERhdGEpOiBJQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBDVlN1cnZleUNvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IENWU3VydmV5Q29tcG9uZW50LkNWU3VydmV5Q29tcG9uZW50RGF0YTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IENWU3VydmV5Q29tcG9uZW50LkNWU3VydmV5Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5jdXN0b21lclZvaWNlRm9ybUlkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuZm9ybUlEIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IElTdXJ2ZXlDb21wb25lbnQuVHlwZSB7XHJcblx0XHRyZXR1cm4gSVN1cnZleUNvbXBvbmVudC5UeXBlLkNWU3VydmV5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEZvcm1JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5jdXN0b21lclZvaWNlRm9ybUlkO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9DVlNVUlZFWV9UQUdOQU1FKTtcclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdFtJU3VydmV5Q29tcG9uZW50LkpTT05fQ1ZTVVJWRVlfS0VZTkFNRV0gPSB0aGlzLmdldEZvcm1JZCgpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21wb25lbnRKc29uKCk6IG9iamVjdCB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0NWU1VSVkVZRk9STUlEX0tFWU5BTUVdOiB0aGlzLmdldEZvcm1JZCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBDVlN1cnZleUNvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIENWU3VydmV5Q29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgY3VzdG9tZXJWb2ljZUZvcm1JZDogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ1ZTdXJ2ZXlDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js":
/*!**********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ./../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CommentComponent = /** @class */ (function () {\n    function CommentComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        this.data = data;\n        this.userComment = \"\";\n    }\n    CommentComponent.make = function (data) {\n        try {\n            return new CommentComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    CommentComponent.prototype.getType = function () {\n        return \"Comment\" /* Comment */;\n    };\n    // @Override\n    CommentComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    CommentComponent.prototype.setSubmittedText = function (userComment) {\n        this.userComment = userComment;\n    };\n    // @Override\n    CommentComponent.prototype.getSubmittedText = function () {\n        return this.userComment;\n    };\n    // @Override\n    CommentComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_COMMENT_TAGNAME);\n        element.appendChild(doc.createTextNode(this.getSubmittedText()));\n        return [element];\n    };\n    // @Override\n    CommentComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_COMMENT_KEYNAME] = this.getSubmittedText();\n        return result;\n    };\n    // @Override\n    CommentComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a;\n    };\n    return CommentComponent;\n}());\n(function (CommentComponent) {\n    var CommentComponentData = /** @class */ (function () {\n        function CommentComponentData() {\n        }\n        return CommentComponentData;\n    }());\n    CommentComponent.CommentComponentData = CommentComponentData;\n})(CommentComponent || (CommentComponent = {}));\nmodule.exports = CommentComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudC50cz8zODJiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxpSUFBK0Q7QUFFL0Q7SUFZQywwQkFBbUIsSUFBMkM7UUFDN0QsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FBQztTQUMzRDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFyQmEscUJBQUksR0FBbEIsVUFBbUIsSUFBMkM7UUFDN0QsSUFBSTtZQUNILE9BQU8sSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFpQkQsWUFBWTtJQUNMLGtDQUFPLEdBQWQ7UUFDQywrQkFBcUM7SUFDdEMsQ0FBQztJQUVELFlBQVk7SUFDTCxzQ0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZ0IsR0FBdkIsVUFBd0IsV0FBbUI7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZ0IsR0FBdkI7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDN0M7UUFFRCxJQUFNLE9BQU8sR0FBWSxHQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDakYsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVqRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCwwQ0FBZSxHQUF0QjtRQUNDLElBQU0sTUFBTSxHQUFXLEVBQUUsQ0FBQztRQUMxQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4RSxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWdCLEdBQXZCOztRQUNDO1lBQ0MsR0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsSUFBRyxJQUFJLENBQUMsV0FBVyxFQUFFO2VBQzNEO0lBQ0gsQ0FBQztJQUNGLHVCQUFDO0FBQUQsQ0FBQztBQUVELFdBQU8sZ0JBQWdCO0lBQ3RCO1FBQUE7UUFFQSxDQUFDO1FBQUQsMkJBQUM7SUFBRCxDQUFDO0lBRlkscUNBQW9CLHVCQUVoQztBQUNGLENBQUMsRUFKTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBSXRCO0FBRUQsaUJBQVMsZ0JBQWdCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlDb21wb25lbnRzL0NvbW1lbnRDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ29tbWVudENvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgSVN1cnZleUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuLy4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCIpO1xyXG5cclxuY2xhc3MgQ29tbWVudENvbXBvbmVudCBpbXBsZW1lbnRzIElDb21tZW50Q29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSk6IElDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ29tbWVudENvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0cHJpdmF0ZSB1c2VyQ29tbWVudDogc3RyaW5nO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHRcdHRoaXMudXNlckNvbW1lbnQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleUNvbXBvbmVudC5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzZXRTdWJtaXR0ZWRUZXh0KHVzZXJDb21tZW50OiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdHRoaXMudXNlckNvbW1lbnQgPSB1c2VyQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdWJtaXR0ZWRUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VyQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmICghZG9jKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXlDb21wb25lbnQuRE9NX0NPTU1FTlRfVEFHTkFNRSk7XHJcblx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldFN1Ym1pdHRlZFRleHQoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9DT01NRU5UX0tFWU5BTUVdID0gdGhpcy5nZXRTdWJtaXR0ZWRUZXh0KCk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudEpzb24oKTogb2JqZWN0IHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUVVFU1RJT05fS0VZTkFNRV06IHRoaXMuZ2V0UXVlc3Rpb24oKSxcclxuXHRcdH07XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgQ29tbWVudENvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIENvbW1lbnRDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ29tbWVudENvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js":
/*!************************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar InterceptComponent = /** @class */ (function () {\n    function InterceptComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.title) {\n            throw new Error(\"data.title must not be null or empty\");\n        }\n        if (!data.url) {\n            throw new Error(\"data.url must not be null or empty\");\n        }\n        this.data = data;\n    }\n    InterceptComponent.make = function (data) {\n        try {\n            return new InterceptComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    InterceptComponent.prototype.getType = function () {\n        return \"Intercept\" /* Intercept */;\n    };\n    // @Override\n    InterceptComponent.prototype.getTitle = function () {\n        return this.data.title;\n    };\n    // @Override\n    InterceptComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    InterceptComponent.prototype.getUrl = function () {\n        return this.data.url;\n    };\n    // @Override\n    InterceptComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        return [doc.createElement(ISurveyComponent.DOM_INTERCEPT_TAGNAME)];\n    };\n    // @Override\n    InterceptComponent.prototype.getJsonElements = function () {\n        var _a;\n        return _a = {}, _a[ISurveyComponent.JSON_INTERCEPT_KEYNAME] = \"\", _a;\n    };\n    // @Override\n    InterceptComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_TITLE_KEYNAME] = this.getTitle(),\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_INTERCEPTURL_KEYNAME] = this.getUrl(),\n            _a;\n    };\n    return InterceptComponent;\n}());\n(function (InterceptComponent) {\n    var InterceptComponentData = /** @class */ (function () {\n        function InterceptComponentData() {\n        }\n        return InterceptComponentData;\n    }());\n    InterceptComponent.InterceptComponentData = InterceptComponentData;\n})(InterceptComponent || (InterceptComponent = {}));\nmodule.exports = InterceptComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvSW50ZXJjZXB0Q29tcG9uZW50LnRzPzMyNDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUc1RDtJQVdDLDRCQUFtQixJQUErQztRQUNqRSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7U0FDdEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBekJhLHVCQUFJLEdBQWxCLFVBQW1CLElBQStDO1FBQ2pFLElBQUk7WUFDSCxPQUFPLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDcEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBcUJELFlBQVk7SUFDTCxvQ0FBTyxHQUFkO1FBQ0MsbUNBQXVDO0lBQ3hDLENBQUM7SUFFRCxZQUFZO0lBQ0wscUNBQVEsR0FBZjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELFlBQVk7SUFDTCx3Q0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVk7SUFDTCxtQ0FBTSxHQUFiO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFBWTtJQUNMLDJDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsWUFBWTtJQUNMLDRDQUFlLEdBQXRCOztRQUNDLGdCQUFRLEdBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLElBQUcsRUFBRSxLQUFFO0lBQ3hELENBQUM7SUFFRCxZQUFZO0lBQ0wsNkNBQWdCLEdBQXZCOztRQUNDO1lBQ0MsR0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3RELEdBQUMsZ0JBQWdCLENBQUMscUJBQXFCLElBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUM1RCxHQUFDLGdCQUFnQixDQUFDLHlCQUF5QixJQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7ZUFDMUQ7SUFDSCxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDO0FBRUQsV0FBTyxrQkFBa0I7SUFDeEI7UUFBQTtRQUlBLENBQUM7UUFBRCw2QkFBQztJQUFELENBQUM7SUFKWSx5Q0FBc0IseUJBSWxDO0FBQ0YsQ0FBQyxFQU5NLGtCQUFrQixLQUFsQixrQkFBa0IsUUFNeEI7QUFFRCxpQkFBUyxrQkFBa0IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1N1cnZleUNvbXBvbmVudHMvSW50ZXJjZXB0Q29tcG9uZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgSUludGVyY2VwdENvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JSW50ZXJjZXB0Q29tcG9uZW50XCI7XHJcblxyXG5jbGFzcyBJbnRlcmNlcHRDb21wb25lbnQgaW1wbGVtZW50cyBJSW50ZXJjZXB0Q29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogSW50ZXJjZXB0Q29tcG9uZW50LkludGVyY2VwdENvbXBvbmVudERhdGEpOiBJSW50ZXJjZXB0Q29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgSW50ZXJjZXB0Q29tcG9uZW50KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGF0YTogSW50ZXJjZXB0Q29tcG9uZW50LkludGVyY2VwdENvbXBvbmVudERhdGE7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRhOiBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEudGl0bGUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS50aXRsZSBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnVybCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnVybCBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5JbnRlcmNlcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEudGl0bGU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VXJsKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnVybDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdICB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9JTlRFUkNFUFRfVEFHTkFNRSldO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtbSVN1cnZleUNvbXBvbmVudC5KU09OX0lOVEVSQ0VQVF9LRVlOQU1FXTogXCJcIn07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9USVRMRV9LRVlOQU1FXTogdGhpcy5nZXRUaXRsZSgpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fSU5URVJDRVBUVVJMX0tFWU5BTUVdOiB0aGlzLmdldFVybCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBJbnRlcmNlcHRDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjbGFzcyBJbnRlcmNlcHRDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0cHVibGljIHRpdGxlOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgdXJsOiBzdHJpbmc7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBJbnRlcmNlcHRDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js":
/*!*****************************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar MultipleChoiceComponent = /** @class */ (function () {\n    function MultipleChoiceComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.availableOptions || data.availableOptions.length < 2) {\n            throw new Error(\"data.availableOptions must not be null or have less than two choices\");\n        }\n        data.availableOptions.forEach(function (option) {\n            if (!option) {\n                throw new Error(\"Option values must not contain null or empty\");\n            }\n        });\n        this.data = data;\n        this.optionStates = new Array(data.availableOptions.length);\n        // Initialize with all false values\n        for (var i = 0; i < this.optionStates.length; i++) {\n            this.optionStates[i] = false;\n        }\n    }\n    MultipleChoiceComponent.make = function (data) {\n        try {\n            return new MultipleChoiceComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    MultipleChoiceComponent.prototype.getType = function () {\n        return \"MultipleChoice\" /* MultipleChoice */;\n    };\n    MultipleChoiceComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    MultipleChoiceComponent.prototype.getAvailableOptions = function () {\n        return this.data.availableOptions;\n    };\n    MultipleChoiceComponent.prototype.getOptionSelectedStates = function () {\n        return this.optionStates;\n    };\n    MultipleChoiceComponent.prototype.getMinNumberofSelectedOptions = function () {\n        return this.data.minNumberOfSelectedOptions;\n    };\n    MultipleChoiceComponent.prototype.getMaxNumberofSelectedOptions = function () {\n        return this.data.maxNumberOfSelectedOptions;\n    };\n    MultipleChoiceComponent.prototype.setOptionSelectedStates = function (selectedStates) {\n        for (var i = 0; i < selectedStates.length; i++) {\n            this.optionStates[i] = selectedStates[i];\n        }\n    };\n    MultipleChoiceComponent.prototype.ValidateMinNumberofSelectedOptions = function () {\n        var result = 0;\n        this.optionStates.forEach(function (element) {\n            if (element) {\n                result++;\n            }\n        });\n        return (result >= this.getMinNumberofSelectedOptions());\n    };\n    MultipleChoiceComponent.prototype.ValidateMaxNumberofSelectedOptions = function () {\n        var result = 0;\n        this.optionStates.forEach(function (element) {\n            if (element) {\n                result++;\n            }\n        });\n        return (result <= this.getMaxNumberofSelectedOptions());\n    };\n    MultipleChoiceComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_MULTIPLECHOICE_TAGNAME);\n        element.appendChild(doc.createTextNode(this.getOptionSelectedStates().toString()));\n        return [element];\n    };\n    // @Override\n    MultipleChoiceComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] = this.getOptionSelectedStates().toString();\n        return result;\n    };\n    // @Override\n    MultipleChoiceComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME] = this.getAvailableOptions(),\n            _a;\n    };\n    return MultipleChoiceComponent;\n}());\n(function (MultipleChoiceComponent) {\n    var MultipleChoiceComponentData = /** @class */ (function () {\n        function MultipleChoiceComponentData() {\n        }\n        return MultipleChoiceComponentData;\n    }());\n    MultipleChoiceComponent.MultipleChoiceComponentData = MultipleChoiceComponentData;\n})(MultipleChoiceComponent || (MultipleChoiceComponent = {}));\nmodule.exports = MultipleChoiceComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvTXVsdGlwbGVDaG9pY2VDb21wb25lbnQudHM/MDBkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsK0hBQTREO0FBRzVEO0lBWUMsaUNBQW1CLElBQXlEO1FBQzNFLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7U0FDM0Q7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9ELE1BQU0sSUFBSSxLQUFLLENBQUMsc0VBQXNFLENBQUMsQ0FBQztTQUN4RjtRQUVELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNO1lBQ3BDLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO2FBQ2hFO1FBQ0YsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksS0FBSyxDQUFVLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRSxtQ0FBbUM7UUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xELElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzdCO0lBQ0YsQ0FBQztJQWxDYSw0QkFBSSxHQUFsQixVQUFtQixJQUF5RDtRQUMzRSxJ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LENBQUM7QUFFRCxXQUFPLHVCQUF1QjtJQUM3QjtRQUFBO1FBS0EsQ0FBQztRQUFELGtDQUFDO0lBQUQsQ0FBQztJQUxZLG1EQUEyQiw4QkFLdkM7QUFDRixDQUFDLEVBUE0sdUJBQXVCLEtBQXZCLHVCQUF1QixRQU83QjtBQUVELGlCQUFTLHVCQUF1QixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9NdWx0aXBsZUNob2ljZUNvbXBvbmVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IElNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JTXVsdGlwbGVDaG9pY2VDb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IGltcGxlbWVudHMgSU11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQuTXVsdGlwbGVDaG9pY2VDb21wb25lbnREYXRhKTogSU11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgTXVsdGlwbGVDaG9pY2VDb21wb25lbnQoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkYXRhOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudC5NdWx0aXBsZUNob2ljZUNvbXBvbmVudERhdGE7XHJcblx0cHJpdmF0ZSBvcHRpb25TdGF0ZXM6IGJvb2xlYW5bXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50Lk11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuYXZhaWxhYmxlT3B0aW9ucyB8fCBkYXRhLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoIDwgMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLmF2YWlsYWJsZU9wdGlvbnMgbXVzdCBub3QgYmUgbnVsbCBvciBoYXZlIGxlc3MgdGhhbiB0d28gY2hvaWNlc1wiKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRhLmF2YWlsYWJsZU9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XHJcblx0XHRcdGlmICghb3B0aW9uKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiT3B0aW9uIHZhbHVlcyBtdXN0IG5vdCBjb250YWluIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcyA9IG5ldyBBcnJheTxib29sZWFuPihkYXRhLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoKTtcclxuXHRcdC8vIEluaXRpYWxpemUgd2l0aCBhbGwgZmFsc2UgdmFsdWVzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9uU3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMub3B0aW9uU3RhdGVzW2ldID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5NdWx0aXBsZUNob2ljZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRBdmFpbGFibGVPcHRpb25zKCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYXZhaWxhYmxlT3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRPcHRpb25TZWxlY3RlZFN0YXRlcygpOiBib29sZWFuW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9uU3RhdGVzO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE1pbk51bWJlcm9mU2VsZWN0ZWRPcHRpb25zKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE1heE51bWJlcm9mU2VsZWN0ZWRPcHRpb25zKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldE9wdGlvblNlbGVjdGVkU3RhdGVzKHNlbGVjdGVkU3RhdGVzOiBib29sZWFuW10pOiB2b2lkIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRTdGF0ZXMubGVuZ3RoOyBpICsrKSB7XHJcblx0XHRcdHRoaXMub3B0aW9uU3RhdGVzW2ldID0gc2VsZWN0ZWRTdGF0ZXNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgVmFsaWRhdGVNaW5OdW1iZXJvZlNlbGVjdGVkT3B0aW9ucygpOiBib29sZWFuIHtcclxuXHRcdGxldCByZXN1bHQ6IG51bWJlciA9IDA7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmVzdWx0Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiAocmVzdWx0ID49IHRoaXMuZ2V0TWluTnVtYmVyb2ZTZWxlY3RlZE9wdGlvbnMoKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgVmFsaWRhdGVNYXhOdW1iZXJvZlNlbGVjdGVkT3B0aW9ucygpOiBib29sZWFuIHtcclxuXHRcdGxldCByZXN1bHQ6IG51bWJlciA9IDA7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmVzdWx0Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiAocmVzdWx0IDw9IHRoaXMuZ2V0TWF4TnVtYmVyb2ZTZWxlY3RlZE9wdGlvbnMoKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9NVUxUSVBMRUNIT0lDRV9UQUdOQU1FKTtcclxuXHJcblx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldE9wdGlvblNlbGVjdGVkU3RhdGVzKCkudG9TdHJpbmcoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9NVUxUSVBMRUNIT0lDRV9LRVlOQU1FXSA9IHRoaXMuZ2V0T3B0aW9uU2VsZWN0ZWRTdGF0ZXMoKS50b1N0cmluZygpO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9RVUVTVElPTl9LRVlOQU1FXTogdGhpcy5nZXRRdWVzdGlvbigpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR09QVElPTlNfS0VZTkFNRV06IHRoaXMuZ2V0QXZhaWxhYmxlT3B0aW9ucygpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHRcdHB1YmxpYyBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXTtcclxuXHRcdHB1YmxpYyBtaW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9uczogbnVtYmVyO1xyXG5cdFx0cHVibGljIG1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zOiBudW1iZXI7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBNdWx0aXBsZUNob2ljZUNvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js":
/*!*********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar PromptComponent = /** @class */ (function () {\n    function PromptComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.title) {\n            throw new Error(\"data.title must not be null or empty\");\n        }\n        if (!data.yesButtonLabel) {\n            throw new Error(\"data.yesButtonLabel must not be null or empty\");\n        }\n        if (!data.noButtonLabel) {\n            throw new Error(\"data.noButtonLabel must not be null or empty\");\n        }\n        this.data = data;\n        this.selectedButton = 0 /* Unselected */;\n    }\n    PromptComponent.make = function (data) {\n        try {\n            return new PromptComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    PromptComponent.prototype.getType = function () {\n        return \"Prompt\" /* Prompt */;\n    };\n    // @Override\n    PromptComponent.prototype.getTitle = function () {\n        return this.data.title;\n    };\n    // @Override\n    PromptComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    PromptComponent.prototype.getYesButtonText = function () {\n        return this.data.yesButtonLabel;\n    };\n    // @Override\n    PromptComponent.prototype.getNoButtonText = function () {\n        return this.data.noButtonLabel;\n    };\n    // @Override\n    PromptComponent.prototype.setButtonSelected = function (selected) {\n        if (selected) {\n            this.selectedButton = selected;\n        }\n    };\n    // @Override\n    PromptComponent.prototype.getButtonSelected = function () {\n        return this.selectedButton;\n    };\n    // @Override\n    PromptComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_PROMPT_TAGNAME);\n        element.appendChild(doc.createTextNode(this.promptButtonToString(this.getButtonSelected())));\n        return [element];\n    };\n    // @Override\n    PromptComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.promptButtonToString(this.getButtonSelected());\n        return result;\n    };\n    // @Override\n    PromptComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_TITLE_KEYNAME] = this.getTitle(),\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_PROMPTYESTEXT_KEYNAME] = this.getYesButtonText(),\n            _a[ISurveyComponent.JSON_PROMPTNOTEXT_KEYNAME] = this.getNoButtonText(),\n            _a;\n    };\n    PromptComponent.prototype.promptButtonToString = function (value) {\n        switch (value) {\n            case 0 /* Unselected */:\n                return \"Unselected\";\n            case 1 /* Yes */:\n                return \"Yes\";\n            case 2 /* No */:\n                return \"No\";\n            default:\n                return \"Unknown\";\n        }\n    };\n    return PromptComponent;\n}());\n(function (PromptComponent) {\n    var PromptComponentData = /** @class */ (function () {\n        function PromptComponentData() {\n        }\n        return PromptComponentData;\n    }());\n    PromptComponent.PromptComponentData = PromptComponentData;\n})(PromptComponent || (PromptComponent = {}));\nmodule.exports = PromptComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50LnRzPzRjZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUk1RDtJQVlDLHlCQUFtQixJQUF5QztRQUMzRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1NBQ2pFO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGNBQWMscUJBQWtDLENBQUM7SUFDdkQsQ0FBQztJQTlCYSxvQkFBSSxHQUFsQixVQUFtQixJQUF5QztRQUMzRCxJQUFJO1lBQ0gsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUEwQkQsWUFBWTtJQUNMLGlDQUFPLEdBQWQ7UUFDQyw2QkFBb0M7SUFDckMsQ0FBQztJQUVELFlBQVk7SUFDTCxrQ0FBUSxHQUFmO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLHFDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFnQixHQUF2QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBZSxHQUF0QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBaUIsR0FBeEIsVUFBeUIsUUFBOEI7UUFDdEQsSUFBSSxRQUFRLEVBQUU7WUFDYixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQztTQUMvQjtJQUNGLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWlCLEdBQXhCO1FBQ0MsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzVCLENBQUM7SUFFRCxZQUFZO0lBQ0wsd0NBQWMsR0FBckIsVUFBc0IsR0FBYTtRQUNsQyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1QsTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1NBQzdDO1FBRUQsSUFBTSxPQUFPLEdBQVksR0FBRyxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hGLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFN0YsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZO0lBQ0wseUNBQWUsR0FBdEI7UUFDQyxJQUFNLE1BQU0sR0FBVyxFQUFFLENBQUM7UUFDMUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7UUFDbkcsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFnQixHQUF2Qjs7UUFDQztZQUNDLEdBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN0RCxHQUFDLGdCQUFnQixDQUFDLHFCQUFxQixJQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDNUQsR0FBQyxnQkFBZ0IsQ0FBQywwQkFBMEIsSUFBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdEUsR0FBQyxnQkFBZ0IsQ0FBQyx5QkFBeUIsSUFBRyxJQUFJLENBQUMsZUFBZSxFQUFFO2VBQ25FO0lBQ0gsQ0FBQztJQUVPLDhDQUFvQixHQUE1QixVQUE2QixLQUEyQjtRQUN2RCxRQUFRLEtBQUssRUFBRTtZQUNkO2dCQUNDLE9BQU8sWUFBWSxDQUFDO1lBQ3JCO2dCQUNDLE9BQU8sS0FBSyxDQUFDO1lBQ2Q7Z0JBQ0MsT0FBTyxJQUFJLENBQUM7WUFDYjtnQkFDQyxPQUFPLFNBQVMsQ0FBQztTQUNsQjtJQUNGLENBQUM7SUFDRixzQkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGVBQWU7SUFDckI7UUFBQTtRQUtBLENBQUM7UUFBRCwwQkFBQztJQUFELENBQUM7SUFMWSxtQ0FBbUIsc0JBSy9CO0FBQ0YsQ0FBQyxFQVBNLGVBQWUsS0FBZixlQUFlLFFBT3JCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9Qcm9tcHRDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBJUHJvbXB0IGZyb20gXCIuLy4uL0FwaS9JUHJvbXB0XCI7XHJcbmltcG9ydCB7IElQcm9tcHRDb21wb25lbnQgfSBmcm9tIFwiLi8uLi9BcGkvSVByb21wdENvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgUHJvbXB0Q29tcG9uZW50IGltcGxlbWVudHMgSVByb21wdENvbXBvbmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKTogSVByb21wdENvbXBvbmVudCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IFByb21wdENvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhO1xyXG5cdHByaXZhdGUgc2VsZWN0ZWRCdXR0b246IElQcm9tcHQuUHJvbXB0QnV0dG9uO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEucXVlc3Rpb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5xdWVzdGlvbiBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnRpdGxlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEudGl0bGUgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS55ZXNCdXR0b25MYWJlbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnllc0J1dHRvbkxhYmVsIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEubm9CdXR0b25MYWJlbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLm5vQnV0dG9uTGFiZWwgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5zZWxlY3RlZEJ1dHRvbiA9IElQcm9tcHQuUHJvbXB0QnV0dG9uLlVuc2VsZWN0ZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEudGl0bGU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0WWVzQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS55ZXNCdXR0b25MYWJlbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXROb0J1dHRvblRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEubm9CdXR0b25MYWJlbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzZXRCdXR0b25TZWxlY3RlZChzZWxlY3RlZDogSVByb21wdC5Qcm9tcHRCdXR0b24pOiB2b2lkIHtcclxuXHRcdGlmIChzZWxlY3RlZCkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQnV0dG9uID0gc2VsZWN0ZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0QnV0dG9uU2VsZWN0ZWQoKTogSVByb21wdC5Qcm9tcHRCdXR0b24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2VsZWN0ZWRCdXR0b247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSAge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUNvbXBvbmVudC5ET01fUFJPTVBUX1RBR05BTUUpO1xyXG5cdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUodGhpcy5wcm9tcHRCdXR0b25Ub1N0cmluZyh0aGlzLmdldEJ1dHRvblNlbGVjdGVkKCkpKSk7XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGNvbnN0IHJlc3VsdDogb2JqZWN0ID0ge307XHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1BST01QVF9LRVlOQU1FXSA9IHRoaXMucHJvbXB0QnV0dG9uVG9TdHJpbmcodGhpcy5nZXRCdXR0b25TZWxlY3RlZCgpKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9USVRMRV9LRVlOQU1FXTogdGhpcy5nZXRUaXRsZSgpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUWUVTVEVYVF9LRVlOQU1FXTogdGhpcy5nZXRZZXNCdXR0b25UZXh0KCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUTk9URVhUX0tFWU5BTUVdOiB0aGlzLmdldE5vQnV0dG9uVGV4dCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcHJvbXB0QnV0dG9uVG9TdHJpbmcodmFsdWU6IElQcm9tcHQuUHJvbXB0QnV0dG9uKTogc3RyaW5nIHtcclxuXHRcdHN3aXRjaCAodmFsdWUpIHtcclxuXHRcdFx0Y2FzZSBJUHJvbXB0LlByb21wdEJ1dHRvbi5VbnNlbGVjdGVkOlxyXG5cdFx0XHRcdHJldHVybiBcIlVuc2VsZWN0ZWRcIjtcclxuXHRcdFx0Y2FzZSBJUHJvbXB0LlByb21wdEJ1dHRvbi5ZZXM6XHJcblx0XHRcdFx0cmV0dXJuIFwiWWVzXCI7XHJcblx0XHRcdGNhc2UgSVByb21wdC5Qcm9tcHRCdXR0b24uTm86XHJcblx0XHRcdFx0cmV0dXJuIFwiTm9cIjtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gXCJVbmtub3duXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgUHJvbXB0Q29tcG9uZW50IHtcclxuXHRleHBvcnQgY2xhc3MgUHJvbXB0Q29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHRcdHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG5cdFx0cHVibGljIHllc0J1dHRvbkxhYmVsOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgbm9CdXR0b25MYWJlbDogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gUHJvbXB0Q29tcG9uZW50O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js":
/*!*********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar RatingComponent = /** @class */ (function () {\n    function RatingComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.ratingValuesAscending || data.ratingValuesAscending.length < 2) {\n            throw new Error(\"data.ratingValuesAscending must not be null or have less than two choices\");\n        }\n        data.ratingValuesAscending.forEach(function (rating) {\n            if (!rating) {\n                throw new Error(\"rating values must not contain null or empty\");\n            }\n        });\n        this.data = data;\n        this.selectedIndex = -1;\n    }\n    RatingComponent.make = function (data) {\n        try {\n            return new RatingComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    RatingComponent.prototype.getType = function () {\n        return \"Rating\" /* Rating */;\n    };\n    RatingComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    RatingComponent.prototype.getRatingValuesAscending = function () {\n        return this.data.ratingValuesAscending;\n    };\n    RatingComponent.prototype.getSelectedRating = function () {\n        if (!this.isRatingIndexValid(this.selectedIndex)) {\n            return \"\";\n        }\n        return this.data.ratingValuesAscending[this.selectedIndex];\n    };\n    RatingComponent.prototype.setSelectedRatingIndex = function (selected) {\n        if (this.isRatingIndexValid(selected)) {\n            this.selectedIndex = selected;\n        }\n        else {\n            this.selectedIndex = -1;\n        }\n    };\n    RatingComponent.prototype.getSelectedRatingIndex = function () {\n        return this.selectedIndex;\n    };\n    RatingComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_RATING_TAGNAME);\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            element.appendChild(doc.createTextNode(\"Not rated\"));\n        }\n        else {\n            // Enforce six digits after the decimal\n            element.appendChild(doc.createTextNode(this.getNormalizedRatingScore().toFixed(6)));\n        }\n        return [element];\n    };\n    // @Override\n    RatingComponent.prototype.getJsonElements = function () {\n        var result = {};\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            result[ISurveyComponent.JSON_RATING_KEYNAME] = \"Not rated\";\n        }\n        else {\n            result[ISurveyComponent.JSON_RATING_KEYNAME] = this.getNormalizedRatingScore();\n        }\n        return result;\n    };\n    // @Override\n    RatingComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME] = this.getRatingValuesAscending(),\n            _a;\n    };\n    RatingComponent.prototype.getNormalizedRatingScore = function () {\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            return -1;\n        }\n        if (this.data.isZeroBased) {\n            return (this.selectedIndex) / (this.data.ratingValuesAscending.length - 1);\n        }\n        else {\n            return (this.selectedIndex + 1.0) / this.data.ratingValuesAscending.length;\n        }\n    };\n    RatingComponent.prototype.isRatingIndexValid = function (index) {\n        return (index >= 0 && index < this.data.ratingValuesAscending.length);\n    };\n    return RatingComponent;\n}());\n(function (RatingComponent) {\n    var RatingComponentData = /** @class */ (function () {\n        function RatingComponentData() {\n        }\n        return RatingComponentData;\n    }());\n    RatingComponent.RatingComponentData = RatingComponentData;\n})(RatingComponent || (RatingComponent = {}));\nmodule.exports = RatingComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvUmF0aW5nQ29tcG9uZW50LnRzP2UwNjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUc1RDtJQVlDLHlCQUFtQixJQUF5QztRQUMzRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6RSxNQUFNLElBQUksS0FBSyxDQUFDLDJFQUEyRSxDQUFDLENBQUM7U0FDN0Y7UUFFRCxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBTTtZQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsOENBQThDLENBQUMsQ0FBQzthQUNoRTtRQUNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBOUJhLG9CQUFJLEdBQWxCLFVBQW1CLElBQXlDO1FBQzNELElBQUk7WUFDSCxPQUFPLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQTBCTSxpQ0FBTyxHQUFkO1FBQ0MsNkJBQW9DO0lBQ3JDLENBQUM7SUFFTSxxQ0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFD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QUMsTUFBTSxDQUFDO1NBQzNFO0lBQ0YsQ0FBQztJQUVPLDRDQUFrQixHQUExQixVQUEyQixLQUFhO1FBQ3ZDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRixzQkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGVBQWU7SUFDckI7UUFBQTtRQUlBLENBQUM7UUFBRCwwQkFBQztJQUFELENBQUM7SUFKWSxtQ0FBbUIsc0JBSS9CO0FBQ0YsQ0FBQyxFQU5NLGVBQWUsS0FBZixlQUFlLFFBTXJCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBJUmF0aW5nQ29tcG9uZW50IH0gZnJvbSBcIi4vLi4vQXBpL0lSYXRpbmdDb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIFJhdGluZ0NvbXBvbmVudCBpbXBsZW1lbnRzIElSYXRpbmdDb21wb25lbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSk6IElSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBSYXRpbmdDb21wb25lbnQoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkYXRhOiBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YTtcclxuXHRwcml2YXRlIHNlbGVjdGVkSW5kZXg6IG51bWJlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhKSB7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnF1ZXN0aW9uKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEucXVlc3Rpb24gbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcgfHwgZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoIDwgMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyBtdXN0IG5vdCBiZSBudWxsIG9yIGhhdmUgbGVzcyB0aGFuIHR3byBjaG9pY2VzXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmZvckVhY2goKHJhdGluZykgPT4ge1xyXG5cdFx0XHRpZiAoIXJhdGluZykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInJhdGluZyB2YWx1ZXMgbXVzdCBub3QgY29udGFpbiBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UmF0aW5nVmFsdWVzQXNjZW5kaW5nKCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNlbGVjdGVkUmF0aW5nKCk6IHN0cmluZyB7XHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuc2VsZWN0ZWRJbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmdbdGhpcy5zZWxlY3RlZEluZGV4XTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRTZWxlY3RlZFJhdGluZ0luZGV4KHNlbGVjdGVkOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmlzUmF0aW5nSW5kZXhWYWxpZChzZWxlY3RlZCkpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTZWxlY3RlZFJhdGluZ0luZGV4KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5zZWxlY3RlZEluZGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUNvbXBvbmVudC5ET01fUkFUSU5HX1RBR05BTUUpO1xyXG5cclxuXHRcdGlmICghdGhpcy5pc1JhdGluZ0luZGV4VmFsaWQodGhpcy5nZXRTZWxlY3RlZFJhdGluZ0luZGV4KCkpKSB7XHJcblx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKFwiTm90IHJhdGVkXCIpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEVuZm9yY2Ugc2l4IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxyXG5cdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldE5vcm1hbGl6ZWRSYXRpbmdTY29yZSgpLnRvRml4ZWQoNikpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gW2VsZW1lbnRdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpKSkge1xyXG5cdFx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IFwiTm90IHJhdGVkXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IHRoaXMuZ2V0Tm9ybWFsaXplZFJhdGluZ1Njb3JlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21wb25lbnRKc29uKCk6IG9iamVjdCB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUkFUSU5HT1BUSU9OU19LRVlOQU1FXTogdGhpcy5nZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Tm9ybWFsaXplZFJhdGluZ1Njb3JlKCk6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpKSkge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZGF0YS5pc1plcm9CYXNlZCkge1xyXG5cdFx0XHRyZXR1cm4gKHRoaXMuc2VsZWN0ZWRJbmRleCkgLyAodGhpcy5kYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGggLSAxKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiAodGhpcy5zZWxlY3RlZEluZGV4ICsgMS4wKSAvIHRoaXMuZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpc1JhdGluZ0luZGV4VmFsaWQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5kYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGgpO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZSBSYXRpbmdDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjbGFzcyBSYXRpbmdDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0cHVibGljIHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW107XHJcblx0XHRwdWJsaWMgaXNaZXJvQmFzZWQ6IGJvb2xlYW47XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBSYXRpbmdDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyEvents.js":
/*!*************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyEvents.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CountedActivitySequenceEventData = exports.CountedActivitySequenceEvent = exports.CountedActivityEventData = exports.CountedActivityEvent = void 0;\nvar ActivityTrackingData_1 = __webpack_require__(/*! ./ActivityTrackingData */ \"../FloodgateCore/dist/src/ActivityTrackingData.js\");\nvar ActivityTrackingSet_1 = __webpack_require__(/*! ./ActivityTrackingSet */ \"../FloodgateCore/dist/src/ActivityTrackingSet.js\");\nvar CountedActivityEvent = /** @class */ (function () {\n    function CountedActivityEvent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (data.count <= 0) {\n            throw new Error(\"count must be greater than 0\");\n        }\n        if (!data.activity || data.activity.length === 0) {\n            throw new Error(\"activity must not be null or an empty string\");\n        }\n        this.data = data;\n    }\n    CountedActivityEvent.make = function (data) {\n        try {\n            return new CountedActivityEvent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CountedActivityEvent.prototype.getActivity = function () {\n        return this.data.activity;\n    };\n    CountedActivityEvent.prototype.getCount = function () {\n        return this.data.count;\n    };\n    CountedActivityEvent.prototype.isAggregate = function () {\n        return this.data.isAggregate;\n    };\n    CountedActivityEvent.prototype.getType = function () {\n        return \"CountedActivity\" /* CountedActivity */;\n    };\n    CountedActivityEvent.prototype.getTrackingSet = function () {\n        var trackingDataList = new Array();\n        trackingDataList.push(new ActivityTrackingData_1.ActivityTrackingData(this.data.activity, this.data.count, this.data.isAggregate));\n        return new ActivityTrackingSet_1.ActivityTrackingSet(false, trackingDataList);\n    };\n    return CountedActivityEvent;\n}());\nexports.CountedActivityEvent = CountedActivityEvent;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar CountedActivityEventData = /** @class */ (function () {\n    function CountedActivityEventData() {\n    }\n    return CountedActivityEventData;\n}());\nexports.CountedActivityEventData = CountedActivityEventData;\nvar CountedActivitySequenceEvent = /** @class */ (function () {\n    function CountedActivitySequenceEvent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.sequence) {\n            throw new Error(\"data.sequence must not be null\");\n        }\n        if (data.sequence.length === 0) {\n            throw new Error(\"data.sequence size must be greater than 0\");\n        }\n        this.data = [];\n        for (var _i = 0, _a = data.sequence; _i < _a.length; _i++) {\n            var countedActivityEventData = _a[_i];\n            this.data.push(new CountedActivityEvent(countedActivityEventData));\n        }\n    }\n    CountedActivitySequenceEvent.make = function (data) {\n        try {\n            return new CountedActivitySequenceEvent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CountedActivitySequenceEvent.prototype.getSequence = function () {\n        return this.data;\n    };\n    CountedActivitySequenceEvent.prototype.getType = function () {\n        return \"CountedActivitySequence\" /* CountedActivitySequence */;\n    };\n    CountedActivitySequenceEvent.prototype.getTrackingSet = function () {\n        var trackingDataList = new Array();\n        for (var _i = 0, _a = this.data; _i < _a.length; _i++) {\n            var countedActivityEvent = _a[_i];\n            trackingDataList.push(new ActivityTrackingData_1.ActivityTrackingData(countedActivityEvent.getActivity(), countedActivityEvent.getCount(), countedActivityEvent.isAggregate()));\n        }\n        return new ActivityTrackingSet_1.ActivityTrackingSet(true, trackingDataList);\n    };\n    return CountedActivitySequenceEvent;\n}());\nexports.CountedActivitySequenceEvent = CountedActivitySequenceEvent;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar CountedActivitySequenceEventData = /** @class */ (function () {\n    function CountedActivitySequenceEventData() {\n    }\n    /**\n     * No args constructor needed for serialization.\n     */\n    CountedActivitySequenceEventData.prototype.CountedActivitySequenceEventData = function () {\n    };\n    return CountedActivitySequenceEventData;\n}());\nexports.CountedActivitySequenceEventData = CountedActivitySequenceEventData;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUV2ZW50cy50cz9mYWVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG9JQUE4RDtBQUM5RCxpSUFBNEQ7QUE0QjVEO0lBV0MsOEJBQW1CLElBQThCO1FBQ2hELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO1lBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztTQUNoRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNqRCxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDaEU7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBdEJhLHlCQUFJLEdBQWxCLFVBQW1CLElBQThCO1FBQ2hELElBQUk7WUFDSCxPQUFPLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBa0JNLDBDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRU0sdUNBQVEsR0FBZjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVNLDBDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM5QixDQUFDO0lBRU0sc0NBQU8sR0FBZDtRQUNDLCtDQUF5QztJQUMxQyxDQUFDO0lBRU0sNkNBQWMsR0FBckI7UUFDQyxJQUFNLGdCQUFnQixHQUFHLElBQUksS0FBSyxFQUF3QixDQUFDO1FBQzNELGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDJDQUFvQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUM1RyxPQUFPLElBQUkseUNBQW1CLENBQUMsS0FBSyxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTlDWSxvREFBb0I7QUFnRGpDOztHQUVHO0FBQ0g7SUFBQTtJQUlBLENBQUM7SUFBRCwrQkFBQztBQUFELENBQUM7QUFKWSw0REFBd0I7QUFNckM7SUFXQyxzQ0FBbUIsSUFBc0M7UUFDeEQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUNELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLENBQUMsQ0FBQztTQUM3RDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2YsS0FBdUMsVUFBYSxFQUFiLFNBQUksQ0FBQyxRQUFRLEVBQWIsY0FBYSxFQUFiLElBQWEsRUFBRTtZQUFqRCxJQUFNLHdCQUF3QjtZQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztTQUNuRTtJQUNGLENBQUM7SUF6QmEsaUNBQUksR0FBbEIsVUFBbUIsSUFBc0M7UUFDeEQsSUFBSTtZQUNILE9BQU8sSUFBSSw0QkFBNEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFxQk0sa0RBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVNLDhDQUFPLEdBQWQ7UUFDQywrREFBaUQ7SUFDbEQsQ0FBQztJQUVNLHFEQUFjLEdBQXJCO1FBQ0MsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEtBQUssRUFBd0IsQ0FBQztRQUUzRCxLQUFtQyxVQUFTLEVBQVQsU0FBSSxDQUFDLElBQUksRUFBVCxjQUFTLEVBQVQsSUFBUyxFQUFFO1lBQXpDLElBQU0sb0JBQW9CO1lBQzlCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDJDQUFvQixDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxFQUFFLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxFQUNqSCxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUkseUNBQW1CLENBQUMsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNGLG1DQUFDO0FBQUQsQ0FBQztBQTlDWSxvRUFBNEI7QUFnRHpDOztHQUVHO0FBQ0g7SUFBQTtJQVFBLENBQUM7SUFMQTs7T0FFRztJQUNJLDJFQUFnQyxHQUF2QztJQUNBLENBQUM7SUFDRix1Q0FBQztBQUFELENBQUM7QUFSWSw0RUFBZ0MiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlFdmVudHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nRGF0YSB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdEYXRhXCI7XHJcbmltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi9JU3VydmV5RXZlbnRcIjtcclxuXHJcbi8qKlxyXG4gKiBBIFN1cnZleUV2ZW50IHRoYXQgY291bnRzIG9jY3VycmVuY2VzIG9mIGEgbGl0ZXJhbCBzdHJpbmcgbG9nZ2VkIGJ5IHRoZSBwcm9kdWN0LlxyXG4gKiBTdXJ2ZXkgaXMgYWN0aXZhdGVkIG9uY2UgdGhlIGFjdGl2aXR5IG9jY3VycyBDb3VudCB0aW1lcy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvdW50ZWRBY3Rpdml0eUV2ZW50IGV4dGVuZHMgSVN1cnZleUV2ZW50IHtcclxuXHQvKipcclxuXHQgKiBOYW1lIG9mIHRoZSBhY3Rpdml0eSB0byBsaXN0ZW4gZm9yXHJcblx0ICovXHJcblx0Z2V0QWN0aXZpdHkoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBOdW1iZXIgb2YgdGltZXMgdGhlIG5hbWVkIGFjdGl2aXR5IG11c3QgYmUgbG9nZ2VkIHRvIGFjdGl2YXRlXHJcblx0ICovXHJcblx0Z2V0Q291bnQoKTogbnVtYmVyO1xyXG5cclxuXHQvKipcclxuXHQgKiBXaGV0aGVyIG9yIG5vdCB0aGUgY291bnQgc2hvdWxkIGJlIHBlcnNpc3RlZCBhY3Jvc3MgYXBwIHNlc3Npb25zXHJcblx0ICovXHJcblx0aXNBZ2dyZWdhdGUoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCBleHRlbmRzIElTdXJ2ZXlFdmVudCB7XHJcblx0Z2V0U2VxdWVuY2UoKTogSUNvdW50ZWRBY3Rpdml0eUV2ZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVkQWN0aXZpdHlFdmVudCBpbXBsZW1lbnRzIElDb3VudGVkQWN0aXZpdHlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSk6IElDb3VudGVkQWN0aXZpdHlFdmVudCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IENvdW50ZWRBY3Rpdml0eUV2ZW50KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGF0YTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhKSB7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuY291bnQgPD0gMCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLmFjdGl2aXR5IHx8IGRhdGEuYWN0aXZpdHkubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImFjdGl2aXR5IG11c3Qgbm90IGJlIG51bGwgb3IgYW4gZW1wdHkgc3RyaW5nXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYWN0aXZpdHk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q291bnQoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmlzQWdncmVnYXRlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleUV2ZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlFdmVudC5UeXBlLkNvdW50ZWRBY3Rpdml0eTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUcmFja2luZ1NldCgpOiBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRcdGNvbnN0IHRyYWNraW5nRGF0YUxpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2luZ0RhdGE+KCk7XHJcblx0XHR0cmFja2luZ0RhdGFMaXN0LnB1c2gobmV3IEFjdGl2aXR5VHJhY2tpbmdEYXRhKHRoaXMuZGF0YS5hY3Rpdml0eSwgdGhpcy5kYXRhLmNvdW50LCB0aGlzLmRhdGEuaXNBZ2dyZWdhdGUpKTtcclxuXHRcdHJldHVybiBuZXcgQWN0aXZpdHlUcmFja2luZ1NldChmYWxzZSwgdHJhY2tpbmdEYXRhTGlzdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhIHtcclxuXHRwdWJsaWMgYWN0aXZpdHk6IHN0cmluZztcclxuXHRwdWJsaWMgY291bnQ6IG51bWJlcjtcclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50IGltcGxlbWVudHMgSUNvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSk6IElDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IElDb3VudGVkQWN0aXZpdHlFdmVudFtdO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuc2VxdWVuY2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5zZXF1ZW5jZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuc2VxdWVuY2UubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuc2VxdWVuY2Ugc2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IFtdO1xyXG5cdFx0Zm9yIChjb25zdCBjb3VudGVkQWN0aXZpdHlFdmVudERhdGEgb2YgZGF0YS5zZXF1ZW5jZSkge1xyXG5cdFx0XHR0aGlzLmRhdGEucHVzaChuZXcgQ291bnRlZEFjdGl2aXR5RXZlbnQoY291bnRlZEFjdGl2aXR5RXZlbnREYXRhKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2VxdWVuY2UoKTogSUNvdW50ZWRBY3Rpdml0eUV2ZW50W10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IElTdXJ2ZXlFdmVudC5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5RXZlbnQuVHlwZS5Db3VudGVkQWN0aXZpdHlTZXF1ZW5jZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUcmFja2luZ1NldCgpOiBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRcdGNvbnN0IHRyYWNraW5nRGF0YUxpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2luZ0RhdGE+KCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBjb3VudGVkQWN0aXZpdHlFdmVudCBvZiB0aGlzLmRhdGEpIHtcclxuXHRcdFx0dHJhY2tpbmdEYXRhTGlzdC5wdXNoKG5ldyBBY3Rpdml0eVRyYWNraW5nRGF0YShjb3VudGVkQWN0aXZpdHlFdmVudC5nZXRBY3Rpdml0eSgpLCBjb3VudGVkQWN0aXZpdHlFdmVudC5nZXRDb3VudCgpLFxyXG5cdFx0XHRcdGNvdW50ZWRBY3Rpdml0eUV2ZW50LmlzQWdncmVnYXRlKCkpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IEFjdGl2aXR5VHJhY2tpbmdTZXQodHJ1ZSwgdHJhY2tpbmdEYXRhTGlzdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEge1xyXG5cdHB1YmxpYyBzZXF1ZW5jZTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhW107XHJcblxyXG5cdC8qKlxyXG5cdCAqIE5vIGFyZ3MgY29uc3RydWN0b3IgbmVlZGVkIGZvciBzZXJpYWxpemF0aW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSgpIHtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyEvents.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyMetadata.js":
/*!***************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyMetadata.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Metadata = exports.SurveyMetadata = void 0;\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar SurveyMetadata = /** @class */ (function () {\n    function SurveyMetadata(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.contentMetadata) {\n            throw new Error(\"content metadata must not be null\");\n        }\n        if (!Utils.isObject(data.contentMetadata)) {\n            throw new Error(\"content metadata must be of object type\");\n        }\n        this.data = data;\n    }\n    SurveyMetadata.make = function (data) {\n        try {\n            return new SurveyMetadata(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    SurveyMetadata.prototype.getContentMetadata = function () {\n        return this.data.contentMetadata;\n    };\n    return SurveyMetadata;\n}());\nexports.SurveyMetadata = SurveyMetadata;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar Metadata = /** @class */ (function () {\n    function Metadata() {\n    }\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleU1ldGFkYXRhLnRzP2U0NzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EscUZBQWlDO0FBRWpDO0lBV0Msd0JBQW1CLElBQWM7UUFDaEMsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7U0FDM0Q7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBdEJhLG1CQUFJLEdBQWxCLFVBQW1CLElBQWM7UUFDaEMsSUFBSTtZQUNILE9BQU8sSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBa0JNLDJDQUFrQixHQUF6QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDbEMsQ0FBQztJQUNGLHFCQUFDO0FBQUQsQ0FBQztBQTVCWSx3Q0FBYztBQThCM0I7O0dBRUc7QUFDSDtJQUFBO0lBRUEsQ0FBQztJQUFELGVBQUM7QUFBRCxDQUFDO0FBRlksNEJBQVEiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlNZXRhZGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuL0lTdXJ2ZXlNZXRhZGF0YVwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleU1ldGFkYXRhIGltcGxlbWVudHMgSVN1cnZleU1ldGFkYXRhIHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogTWV0YWRhdGEpOiBJU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlNZXRhZGF0YShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IE1ldGFkYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogTWV0YWRhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuY29udGVudE1ldGFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvbnRlbnQgbWV0YWRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghVXRpbHMuaXNPYmplY3QoZGF0YS5jb250ZW50TWV0YWRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvbnRlbnQgbWV0YWRhdGEgbXVzdCBiZSBvZiBvYmplY3QgdHlwZVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbnRlbnRNZXRhZGF0YSgpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5jb250ZW50TWV0YWRhdGE7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWV0YWRhdGEge1xyXG5cdHB1YmxpYyBjb250ZW50TWV0YWRhdGE6IG9iamVjdDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyMetadata.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyStatCollection.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyStatCollection.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurveyStatCollection = void 0;\n/**\n * Generic class for managing a collection of survey stats. Includes read-from/write-to json structures or a file,\n * as well as merge routines for combining collections\n */\nvar SurveyStatCollection = /** @class */ (function () {\n    function SurveyStatCollection() {\n        // The following property name matches the JSON root key name for proper serialization/ deserialization\n        this.Surveys = {};\n        this.Surveys = {};\n    }\n    /**\n     * Add stats. Overwrites if already exists.\n     */\n    SurveyStatCollection.prototype.addStats = function (surveyId, stats) {\n        this.Surveys[surveyId] = stats;\n    };\n    /**\n     * Get a SurveyActivationStats object by surveyId. Returns null if surveyId is not found\n     */\n    SurveyStatCollection.prototype.getBySurveyId = function (surveyId) {\n        return (this.Surveys[surveyId]);\n    };\n    /**\n     * Get all stats available\n     */\n    SurveyStatCollection.prototype.getStats = function () {\n        return this.Surveys;\n    };\n    return SurveyStatCollection;\n}());\nexports.SurveyStatCollection = SurveyStatCollection;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uLnRzPzJkMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUE7OztHQUdHO0FBQ0g7SUFJQztRQUhBLHVHQUF1RztRQUMvRixZQUFPLEdBQXdCLEVBQUUsQ0FBQztRQUd6QyxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQ7O09BRUc7SUFDSSx1Q0FBUSxHQUFmLFVBQWdCLFFBQWdCLEVBQUUsS0FBYTtRQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSw0Q0FBYSxHQUFwQixVQUFxQixRQUFnQjtRQUNwQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRDs7T0FFRztJQUNJLHVDQUFRLEdBQWY7UUFDQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDckIsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTVCcUIsb0RBQW9CIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRGljdGlvbmFyeSB9IGZyb20gXCIuL0NvbW1vblwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyaWMgY2xhc3MgZm9yIG1hbmFnaW5nIGEgY29sbGVjdGlvbiBvZiBzdXJ2ZXkgc3RhdHMuIEluY2x1ZGVzIHJlYWQtZnJvbS93cml0ZS10byBqc29uIHN0cnVjdHVyZXMgb3IgYSBmaWxlLFxyXG4gKiBhcyB3ZWxsIGFzIG1lcmdlIHJvdXRpbmVzIGZvciBjb21iaW5pbmcgY29sbGVjdGlvbnNcclxuICovXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxUU3RhdHM+IHtcclxuXHQvLyBUaGUgZm9sbG93aW5nIHByb3BlcnR5IG5hbWUgbWF0Y2hlcyB0aGUgSlNPTiByb290IGtleSBuYW1lIGZvciBwcm9wZXIgc2VyaWFsaXphdGlvbi8gZGVzZXJpYWxpemF0aW9uXHJcblx0cHJpdmF0ZSBTdXJ2ZXlzOiBJRGljdGlvbmFyeTxUU3RhdHM+ID0ge307XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuU3VydmV5cyA9IHt9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHN0YXRzLiBPdmVyd3JpdGVzIGlmIGFscmVhZHkgZXhpc3RzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhZGRTdGF0cyhzdXJ2ZXlJZDogc3RyaW5nLCBzdGF0czogVFN0YXRzKTogdm9pZCB7XHJcblx0XHR0aGlzLlN1cnZleXNbc3VydmV5SWRdID0gc3RhdHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYSBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgb2JqZWN0IGJ5IHN1cnZleUlkLiBSZXR1cm5zIG51bGwgaWYgc3VydmV5SWQgaXMgbm90IGZvdW5kXHJcblx0ICovXHJcblx0cHVibGljIGdldEJ5U3VydmV5SWQoc3VydmV5SWQ6IHN0cmluZyk6IFRTdGF0cyB7XHJcblx0XHRyZXR1cm4gKHRoaXMuU3VydmV5c1tzdXJ2ZXlJZF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFsbCBzdGF0cyBhdmFpbGFibGVcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U3RhdHMoKTogSURpY3Rpb25hcnk8VFN0YXRzPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5TdXJ2ZXlzO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollection.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyStatCollectionActivation.js":
/*!*******************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyStatCollectionActivation.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurveyActivationStats = exports.FileBasedSurveyActivationStatsProvider = exports.HostBasedSurveyActivationStatsProvider = exports.SurveyActivationStatsProviderFactory = exports.SurveyStatCollectionActivation = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar ISurvey = __webpack_require__(/*! ./Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar StateProviderHelpers = __webpack_require__(/*! ./StateProviderHelpers */ \"../FloodgateCore/dist/src/StateProviderHelpers.js\");\nvar SurveyStatCollection_1 = __webpack_require__(/*! ./SurveyStatCollection */ \"../FloodgateCore/dist/src/SurveyStatCollection.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/**\n * StatCollection for activated surveys.  Should be used to track the SurveyIds\n * that have been recently shown to a user\n */\n// TODO (gachoi) Check if this applies - VSOBug: 1443010 One bad Stat object fails the entire serialization\nvar SurveyStatCollectionActivation = /** @class */ (function (_super) {\n    __extends(SurveyStatCollectionActivation, _super);\n    function SurveyStatCollectionActivation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Load from Json\n     */\n    SurveyStatCollectionActivation.fromJson = function (json) {\n        var statCollection = new SurveyStatCollectionActivation();\n        if (!json) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed, { ErrorMessage: \"Input json is null or empty.\" });\n            return statCollection;\n        }\n        var readStats;\n        try {\n            readStats = JSON.parse(json);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed, { ErrorMessage: \"Json parsing failed. \" + e.toString() });\n            return statCollection;\n        }\n        if (!statCollection.deserialize(readStats)) {\n            return new SurveyStatCollectionActivation();\n        }\n        return statCollection;\n    };\n    /**\n     * Convert to Json\n     */\n    SurveyStatCollectionActivation.toJson = function (object) {\n        if (!object) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.ToJson.Failed, { ErrorMessage: \"Input json is null or empty.\" });\n            object = new SurveyStatCollectionActivation();\n        }\n        return JSON.stringify(object);\n    };\n    /**\n     * Add another SurveyStatCollectionActivation object\n     */\n    SurveyStatCollectionActivation.prototype.accumulate = function (other) {\n        if (!other) {\n            return;\n        }\n        var stats = other.getStats();\n        // SurveyActivationStats accumulation simply overwrites any keys from 'other' into our collection\n        for (var key in stats) {\n            if (stats.hasOwnProperty(key)) {\n                this.addStats(key, stats[key]);\n            }\n        }\n    };\n    /**\n     * Method to deserialize SurveyStatCollectionActivation\n     * @param input: collection of SurveyStatCollectionActivation\n     * Returns result of validation check\n     */\n    SurveyStatCollectionActivation.prototype.deserialize = function (input) {\n        var rawStats = input.Surveys;\n        var now = new Date();\n        for (var key in rawStats) {\n            if (rawStats.hasOwnProperty(key)) {\n                var newStat = new SurveyActivationStats();\n                if (newStat.deserialize(rawStats[key]) && newStat.ExpirationTimeUtc > now) {\n                    this.addStats(key, newStat);\n                }\n            }\n        }\n        return this.validate();\n    };\n    /**\n     * Validate the Surveys\n     * Returns false if validation fails\n     */\n    SurveyStatCollectionActivation.prototype.validate = function () {\n        return Utils.isObject(this.getStats());\n    };\n    return SurveyStatCollectionActivation;\n}(SurveyStatCollection_1.SurveyStatCollection));\nexports.SurveyStatCollectionActivation = SurveyStatCollectionActivation;\nvar SurveyActivationStatsProviderFactory = /** @class */ (function () {\n    function SurveyActivationStatsProviderFactory() {\n    }\n    SurveyActivationStatsProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedSurveyActivationStatsProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedSurveyActivationStatsProvider(fileBasedStorage);\n    };\n    return SurveyActivationStatsProviderFactory;\n}());\nexports.SurveyActivationStatsProviderFactory = SurveyActivationStatsProviderFactory;\nvar HostBasedSurveyActivationStatsProvider = /** @class */ (function () {\n    function HostBasedSurveyActivationStatsProvider(fileBasedStorageProvider, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error(\"host-based storage must not be null\");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file based provider is optional\n        if (fileBasedStorageProvider) {\n            this.fileBasedStorageProvider = new FileBasedSurveyActivationStatsProvider(fileBasedStorageProvider);\n        }\n    }\n    // @Override\n    HostBasedSurveyActivationStatsProvider.prototype.load = function () {\n        var surveyStatsFromHost = this.getSurveyStatsFromHost();\n        var surveyStatsFromFile = new SurveyStatCollectionActivation();\n        if (this.fileBasedStorageProvider) {\n            surveyStatsFromFile = this.fileBasedStorageProvider.load();\n        }\n        var surveyStatsCollections = StateProviderHelpers.MergeAndUpdateSurveyActivationStats(surveyStatsFromFile, surveyStatsFromHost);\n        return surveyStatsCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedSurveyActivationStatsProvider.prototype.save = function (stats) {\n        if (!stats) {\n            return;\n        }\n        var statsFromHost = this.getSurveyStatsFromHost();\n        var statCollection = StateProviderHelpers.MergeAndUpdateSurveyActivationStats(stats, statsFromHost);\n        var toBeUpdatedStats = statCollection.find(1 /* ToBeUpdated */);\n        var mergedStates = statCollection.find(0 /* Merged */);\n        // write delta_data to Roaming\n        if (toBeUpdatedStats) {\n            var toBeUpdatedStatsDictionary = toBeUpdatedStats.getStats();\n            for (var surveyId in toBeUpdatedStatsDictionary) {\n                if (toBeUpdatedStatsDictionary.hasOwnProperty(surveyId)) {\n                    var item = StateProviderHelpers.makeSettingItemValue(JSON.stringify(toBeUpdatedStatsDictionary[surveyId]));\n                    this.hostBasedStorage.upsertSettingItem(FileType[FileType.SurveyActivationStats], surveyId, item);\n                }\n            }\n        }\n        // Write merged data to File\n        if (this.fileBasedStorageProvider) {\n            this.fileBasedStorageProvider.save(mergedStates);\n        }\n    };\n    HostBasedSurveyActivationStatsProvider.prototype.getSurveyStatsFromHost = function () {\n        var statsCollection = new SurveyStatCollectionActivation();\n        var itemData = this.hostBasedStorage.readSettingList(FileType[FileType.SurveyActivationStats]);\n        var now = new Date();\n        for (var surveyId in itemData) {\n            if (!itemData.hasOwnProperty(surveyId)) {\n                continue;\n            }\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(itemData[surveyId]);\n            var newStats = new SurveyActivationStats();\n            try {\n                var readStats = JSON.parse(dataString);\n                newStats.deserialize(readStats);\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedSurveyActivationStatsProvider.GetSurveyStatsFromHost.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + dataString });\n            }\n            if (newStats.ExpirationTimeUtc <= now) {\n                // Delete survey stat from host storage if it's expired.\n                this.hostBasedStorage.deleteSettingItem(FileType[FileType.SurveyActivationStats], surveyId);\n            }\n            else {\n                statsCollection.addStats(surveyId, newStats);\n            }\n        }\n        return statsCollection;\n    };\n    return HostBasedSurveyActivationStatsProvider;\n}());\nexports.HostBasedSurveyActivationStatsProvider = HostBasedSurveyActivationStatsProvider;\nvar FileBasedSurveyActivationStatsProvider = /** @class */ (function () {\n    function FileBasedSurveyActivationStatsProvider(storage) {\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedSurveyActivationStatsProvider.prototype.load = function () {\n        var readString = this.storage.read(IFloodgateStorageProvider.FileType.SurveyActivationStats);\n        if (!readString) {\n            return new SurveyStatCollectionActivation();\n        }\n        return SurveyStatCollectionActivation.fromJson(readString);\n    };\n    // @Override\n    FileBasedSurveyActivationStatsProvider.prototype.save = function (surveyStatCollectionActivation) {\n        if (!surveyStatCollectionActivation) {\n            return;\n        }\n        var writeString = SurveyStatCollectionActivation.toJson(surveyStatCollectionActivation);\n        this.storage.write(IFloodgateStorageProvider.FileType.SurveyActivationStats, writeString);\n    };\n    return FileBasedSurveyActivationStatsProvider;\n}());\nexports.FileBasedSurveyActivationStatsProvider = FileBasedSurveyActivationStatsProvider;\nvar SurveyActivationStats = /** @class */ (function () {\n    function SurveyActivationStats() {\n        this.SurveyLaunchCount = 0;\n        this.SurveyLaunchCountPerSession = 0;\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    SurveyActivationStats.prototype.deserialize = function (input) {\n        var _a, _b;\n        this.ActivationTimeUtc = input.ActivationTimeUtc;\n        this.ExpirationTimeUtc = input.ExpirationTimeUtc;\n        this.Type = input.Type;\n        this.SurveyLaunchCount = (_a = input.SurveyLaunchCount) !== null && _a !== void 0 ? _a : 0;\n        this.SurveyLaunchCountPerSession = (_b = input.SurveyLaunchCountPerSession) !== null && _b !== void 0 ? _b : 0;\n        return this.validate();\n    };\n    /**\n     * Method to call after deserialization to validate generated object.\n     * Returns false if not valid.\n     */\n    SurveyActivationStats.prototype.validate = function () {\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ActivationTimeUtc)) {\n            this.ActivationTimeUtc = Utils.stringToDate(this.ActivationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ExpirationTimeUtc)) {\n            this.ExpirationTimeUtc = Utils.stringToDate(this.ExpirationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        if (!Utils.isNumber(this.SurveyLaunchCount) ||\n            !Utils.isNumber(this.SurveyLaunchCountPerSession)) {\n            return false;\n        }\n        return Utils.isEnumValue(this.Type, ISurvey.Type);\n    };\n    return SurveyActivationStats;\n}());\nexports.SurveyActivationStats = SurveyActivationStats;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi50cz9iM2QyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSx5SkFBNkU7QUFDN0UsSUFBTyxRQUFRLEdBQUcseUJBQXlCLENBQUMsUUFBUSxDQUFDO0FBQ3JELG1HQUF5QztBQUV6QyxtR0FBNkM7QUFDN0MscUhBQW9EO0FBQ3BELGtJQUErRDtBQUMvRCxvSUFBOEQ7QUFDOUQscUZBQWlDO0FBRWpDOzs7R0FHRztBQUNILDJHQUEyRztBQUMzRztJQUFvRCxrREFBMkM7SUFBL0Y7O0lBd0ZBLENBQUM7SUF2RkE7O09BRUc7SUFDVyx1Q0FBUSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQU0sY0FBYyxHQUFHLElBQUksOEJBQThCLEVBQUUsQ0FBQztRQUU1RCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLFNBQVMsQ0FDN0MsMEJBQWMsQ0FBQyw4QkFBOEIsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUUsWUFBWSxFQUFFLDhCQUE4QixFQUFFLENBQUMsQ0FBQztZQUNsSCxPQUFPLGNBQWMsQ0FBQztTQUN0QjtRQUVELElBQUksU0FBeUMsQ0FBQztRQUM5QyxJQUFJO1lBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsOEJBQThCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSx1QkFBdUIsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQzFILE9BQU8sY0FBYyxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsU0FBUyxD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QUFDLGlCQUFpQixDQUFDLENBQUM7U0FDcEU7YUFBTTtZQUNOLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDMUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxFQUFFO1lBQ25ELE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxPQUFPLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNGLDRCQUFDO0FBQUQsQ0FBQztBQWpEWSxzREFBcUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnksIElTZXJpYWxpemFibGUgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCAqIGFzIFN0YXRlUHJvdmlkZXJIZWxwZXJzIGZyb20gXCIuL1N0YXRlUHJvdmlkZXJIZWxwZXJzXCI7XHJcbmltcG9ydCB7IFN1cnZleVN0YXRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiBTdGF0Q29sbGVjdGlvbiBmb3IgYWN0aXZhdGVkIHN1cnZleXMuICBTaG91bGQgYmUgdXNlZCB0byB0cmFjayB0aGUgU3VydmV5SWRzXHJcbiAqIHRoYXQgaGF2ZSBiZWVuIHJlY2VudGx5IHNob3duIHRvIGEgdXNlclxyXG4gKi9cclxuLy8gVE9ETyAoZ2FjaG9pKSBDaGVjayBpZiB0aGlzIGFwcGxpZXMgLSBWU09CdWc6IDE0NDMwMTAgT25lIGJhZCBTdGF0IG9iamVjdCBmYWlscyB0aGUgZW50aXJlIHNlcmlhbGl6YXRpb25cclxuZXhwb3J0IGNsYXNzIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiBleHRlbmRzIFN1cnZleVN0YXRDb2xsZWN0aW9uPFN1cnZleUFjdGl2YXRpb25TdGF0cz4gaW1wbGVtZW50cyBJU2VyaWFsaXphYmxlIHtcclxuXHQvKipcclxuXHQgKiBMb2FkIGZyb20gSnNvblxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgZnJvbUpzb24oanNvbjogc3RyaW5nKTogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIHtcclxuXHRcdGNvbnN0IHN0YXRDb2xsZWN0aW9uID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbigpO1xyXG5cclxuXHRcdGlmICghanNvbikge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi5Gcm9tSnNvbi5GYWlsZWQsIHsgRXJyb3JNZXNzYWdlOiBcIklucHV0IGpzb24gaXMgbnVsbCBvciBlbXB0eS5cIiB9KTtcclxuXHRcdFx0cmV0dXJuIHN0YXRDb2xsZWN0aW9uO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCByZWFkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbjtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlYWRTdGF0cyA9IEpTT04ucGFyc2UoanNvbik7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uLkZyb21Kc29uLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgfSk7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0YXRDb2xsZWN0aW9uLmRlc2VyaWFsaXplKHJlYWRTdGF0cykpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RhdENvbGxlY3Rpb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHN0cmluZyB7XHJcblx0XHRpZiAoIW9iamVjdCkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi5Ub0pzb24uRmFpbGVkLCB7IEVycm9yTWVzc2FnZTogXCJJbnB1dCBqc29uIGlzIG51bGwgb3IgZW1wdHkuXCIgfSk7XHJcblx0XHRcdG9iamVjdCA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBhbm90aGVyIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgYWNjdW11bGF0ZShvdGhlcjogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKTogdm9pZCB7XHJcblx0XHRpZiAoIW90aGVyKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGF0czogSURpY3Rpb25hcnk8U3VydmV5QWN0aXZhdGlvblN0YXRzPiA9IG90aGVyLmdldFN0YXRzKCk7XHJcblx0XHQvLyBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgYWNjdW11bGF0aW9uIHNpbXBseSBvdmVyd3JpdGVzIGFueSBrZXlzIGZyb20gJ290aGVyJyBpbnRvIG91ciBjb2xsZWN0aW9uXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdGF0cykge1xyXG5cdFx0XHRpZiAoc3RhdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdHRoaXMuYWRkU3RhdHMoa2V5LCBzdGF0c1trZXldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvblxyXG5cdCAqIEBwYXJhbSBpbnB1dDogY29sbGVjdGlvbiBvZiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cclxuXHQgKiBSZXR1cm5zIHJlc3VsdCBvZiB2YWxpZGF0aW9uIGNoZWNrXHJcblx0ICovXHJcblx0cHVibGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IHJhd1N0YXRzOiBJRGljdGlvbmFyeTxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+ID0gaW5wdXQuU3VydmV5cztcclxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gcmF3U3RhdHMpIHtcclxuXHRcdFx0aWYgKHJhd1N0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBuZXdTdGF0ID0gbmV3IFN1cnZleUFjdGl2YXRpb25TdGF0cygpO1xyXG5cclxuXHRcdFx0XHRpZiAobmV3U3RhdC5kZXNlcmlhbGl6ZShyYXdTdGF0c1trZXldKSAmJiBuZXdTdGF0LkV4cGlyYXRpb25UaW1lVXRjID4gbm93KSB7XHJcblx0XHRcdFx0XHR0aGlzLmFkZFN0YXRzKGtleSwgbmV3U3RhdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIHRoZSBTdXJ2ZXlzXHJcblx0ICogUmV0dXJucyBmYWxzZSBpZiB2YWxpZGF0aW9uIGZhaWxzXHJcblx0ICovXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIFV0aWxzLmlzT2JqZWN0KHRoaXMuZ2V0U3RhdHMoKSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0bG9hZCgpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb247XHJcblxyXG5cdHNhdmUoc3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJGYWN0b3J5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZmlsZUJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcixcclxuXHRcdGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKTogSVN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyIHtcclxuXHRcdGlmIChob3N0QmFzZWRTdG9yYWdlKSB7XHJcblx0XHRcdHJldHVybiBuZXcgSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSwgaG9zdEJhc2VkU3RvcmFnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBGaWxlQmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciBpbXBsZW1lbnRzIElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IEZpbGVCYXNlZFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyO1xyXG5cdHByaXZhdGUgaG9zdEJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2s7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlIGJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyID0gbmV3IEZpbGVCYXNlZFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlcik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9hZCgpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24ge1xyXG5cdFx0Y29uc3Qgc3VydmV5U3RhdHNGcm9tSG9zdDogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gdGhpcy5nZXRTdXJ2ZXlTdGF0c0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN1cnZleVN0YXRzRnJvbUZpbGU6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdGlmICh0aGlzLmZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0XHRzdXJ2ZXlTdGF0c0Zyb21GaWxlID0gdGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIubG9hZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1cnZleVN0YXRzQ29sbGVjdGlvbnMgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5NZXJnZUFuZFVwZGF0ZVN1cnZleUFjdGl2YXRpb25TdGF0cyhzdXJ2ZXlTdGF0c0Zyb21GaWxlLCBzdXJ2ZXlTdGF0c0Zyb21Ib3N0KTtcclxuXHRcdHJldHVybiBzdXJ2ZXlTdGF0c0NvbGxlY3Rpb25zLmZpbmQoU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmUoc3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHZvaWQge1xyXG5cdFx0aWYgKCFzdGF0cykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhdHNGcm9tSG9zdDogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gdGhpcy5nZXRTdXJ2ZXlTdGF0c0Zyb21Ib3N0KCk7XHJcblx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbiA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHN0YXRzLCBzdGF0c0Zyb21Ib3N0KTtcclxuXHRcdGNvbnN0IHRvQmVVcGRhdGVkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IHN0YXRDb2xsZWN0aW9uLmZpbmQoU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IHN0YXRDb2xsZWN0aW9uLmZpbmQoU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cclxuXHRcdC8vIHdyaXRlIGRlbHRhX2RhdGEgdG8gUm9hbWluZ1xyXG5cdFx0aWYgKHRvQmVVcGRhdGVkU3RhdHMpIHtcclxuXHRcdFx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnk6IElEaWN0aW9uYXJ5PFN1cnZleUFjdGl2YXRpb25TdGF0cz4gPSB0b0JlVXBkYXRlZFN0YXRzLmdldFN0YXRzKCk7XHJcblx0XHRcdGZvciAoY29uc3Qgc3VydmV5SWQgaW4gdG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkpIHtcclxuXHRcdFx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtOiBzdHJpbmcgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5tYWtlU2V0dGluZ0l0ZW1WYWx1ZShcclxuXHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKSk7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlLnVwc2VydFNldHRpbmdJdGVtKEZpbGVUeXBlW0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c10sXHJcblx0XHRcdFx0XHRcdHN1cnZleUlkLCBpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIuc2F2ZShtZXJnZWRTdGF0ZXMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRTdXJ2ZXlTdGF0c0Zyb21Ib3N0KCk6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiB7XHJcblx0XHRjb25zdCBzdGF0c0NvbGxlY3Rpb246IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyAgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblx0XHRjb25zdCBpdGVtRGF0YTogSUZsb29kZ2F0ZVNldHRpbmcgPSB0aGlzLmhvc3RCYXNlZFN0b3JhZ2UucmVhZFNldHRpbmdMaXN0KEZpbGVUeXBlW0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c10pO1xyXG5cclxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcblx0XHRmb3IgKGNvbnN0IHN1cnZleUlkIGluIGl0ZW1EYXRhKSB7XHJcblx0XHRcdGlmICghaXRlbURhdGEuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKGl0ZW1EYXRhW3N1cnZleUlkXSk7XHJcblx0XHRcdGNvbnN0IG5ld1N0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBuZXcgU3VydmV5QWN0aXZhdGlvblN0YXRzKCk7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgcmVhZFN0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpO1xyXG5cdFx0XHRcdG5ld1N0YXRzLmRlc2VyaWFsaXplKHJlYWRTdGF0cyk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIuR2V0U3VydmV5U3RhdHNGcm9tSG9zdC5GYWlsZWQsXHJcblx0XHRcdFx0XHR7IEVycm9yTWVzc2FnZTogXCJKc29uIHBhcnNpbmcvZGVzZXJpYWxpemluZyBmYWlsZWQuIFwiICsgZS50b1N0cmluZygpICsgXCIuICBJbnB1dDpcIiArIGRhdGFTdHJpbmcgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChuZXdTdGF0cy5FeHBpcmF0aW9uVGltZVV0YyA8PSBub3cpIHtcclxuXHRcdFx0XHQvLyBEZWxldGUgc3VydmV5IHN0YXQgZnJvbSBob3N0IHN0b3JhZ2UgaWYgaXQncyBleHBpcmVkLlxyXG5cdFx0XHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZS5kZWxldGVTZXR0aW5nSXRlbShGaWxlVHlwZVtGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHNdLCBzdXJ2ZXlJZCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3RhdHNDb2xsZWN0aW9uLmFkZFN0YXRzKHN1cnZleUlkLCBuZXdTdGF0cyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzdGF0c0NvbGxlY3Rpb247XHJcblx0fVxyXG59XHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciBpbXBsZW1lbnRzIElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0aWYgKCFzdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvYWQoKTogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIHtcclxuXHRcdGNvbnN0IHJlYWRTdHJpbmc6IHN0cmluZyA9IHRoaXMuc3RvcmFnZS5yZWFkKElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUuU3VydmV5QWN0aXZhdGlvblN0YXRzKTtcclxuXHRcdGlmICghcmVhZFN0cmluZykge1xyXG5cdFx0XHRyZXR1cm4gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24uZnJvbUpzb24ocmVhZFN0cmluZyk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShzdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb246IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHZvaWQge1xyXG5cdFx0aWYgKCFzdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24udG9Kc29uKHN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik7XHJcblx0XHR0aGlzLnN0b3JhZ2Uud3JpdGUoSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMsIHdyaXRlU3RyaW5nKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgaW1wbGVtZW50cyBJU2VyaWFsaXphYmxlIHtcclxuXHQvLyBUaGUgZm9sbG93aW5nIHByb3BlcnR5IG5hbWVzIG1hdGNoIEpTT04gcHJvcGVydHkgbmFtZXMgZm9yIHByb3BlciBzZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvblxyXG5cdHB1YmxpYyBFeHBpcmF0aW9uVGltZVV0YzogRGF0ZTtcclxuXHRwdWJsaWMgQWN0aXZhdGlvblRpbWVVdGM6IERhdGU7XHJcblx0cHVibGljIFR5cGU6IElTdXJ2ZXkuVHlwZTtcclxuXHRwdWJsaWMgU3VydmV5TGF1bmNoQ291bnQgPSAwO1xyXG5cdHB1YmxpYyBTdXJ2ZXlMYXVuY2hDb3VudFBlclNlc3Npb24gPSAwO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIG9iamVjdCB0byBjbGFzcyBvYmplY3RcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHR0aGlzLkFjdGl2YXRpb25UaW1lVXRjID0gaW5wdXQuQWN0aXZhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gaW5wdXQuRXhwaXJhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLlR5cGUgPSBpbnB1dC5UeXBlO1xyXG5cdFx0dGhpcy5TdXJ2ZXlMYXVuY2hDb3VudCA9IGlucHV0LlN1cnZleUxhdW5jaENvdW50ID8/IDA7XHJcblx0XHR0aGlzLlN1cnZleUxhdW5jaENvdW50UGVyU2Vzc2lvbiA9IGlucHV0LlN1cnZleUxhdW5jaENvdW50UGVyU2Vzc2lvbiA/PyAwO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gY2FsbCBhZnRlciBkZXNlcmlhbGl6YXRpb24gdG8gdmFsaWRhdGUgZ2VuZXJhdGVkIG9iamVjdC5cclxuXHQgKiBSZXR1cm5zIGZhbHNlIGlmIG5vdCB2YWxpZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHQvLyBtYWtlIGl0IGEgZGF0ZSBvYmplY3QgaWYgaXQncyBhIHZhbGlkIFVUQyBkYXRlIHRpbWUgdmFsdWVcclxuXHRcdGlmIChVdGlscy5pc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuQWN0aXZhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuQWN0aXZhdGlvblRpbWVVdGMgPSBVdGlscy5zdHJpbmdUb0RhdGUodGhpcy5BY3RpdmF0aW9uVGltZVV0Yyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbWFrZSBpdCBhIGRhdGUgb2JqZWN0IGlmIGl0J3MgYSB2YWxpZCBVVEMgZGF0ZSB0aW1lIHZhbHVlXHJcblx0XHRpZiAoVXRpbHMuaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkV4cGlyYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gVXRpbHMuc3RyaW5nVG9EYXRlKHRoaXMuRXhwaXJhdGlvblRpbWVVdGMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghVXRpbHMuaXNOdW1iZXIodGhpcy5TdXJ2ZXlMYXVuY2hDb3VudCkgfHxcclxuXHRcdFx0IVV0aWxzLmlzTnVtYmVyKHRoaXMuU3VydmV5TGF1bmNoQ291bnRQZXJTZXNzaW9uKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFV0aWxzLmlzRW51bVZhbHVlKHRoaXMuVHlwZSwgSVN1cnZleS5UeXBlKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js":
/*!**********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurveyEventActivityStats = exports.SurveyStatCollectionEventActivity = void 0;\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar SurveyStatCollection_1 = __webpack_require__(/*! ./SurveyStatCollection */ \"../FloodgateCore/dist/src/SurveyStatCollection.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/**\n * StatCollection for EventActivity counts.  Should be used to store/merge\n * aggregate values between sessions tracking the same surveys/events\n * E.g. A survey that activates after 3 boots.\n */\n// TODO (gachoi) check the following - VSOBug: 1443010 One bad Stat object fails the entire serialization\nvar SurveyStatCollectionEventActivity = /** @class */ (function (_super) {\n    __extends(SurveyStatCollectionEventActivity, _super);\n    function SurveyStatCollectionEventActivity() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Load from Json\n     */\n    SurveyStatCollectionEventActivity.fromJson = function (json) {\n        var statCollection = new SurveyStatCollectionEventActivity();\n        if (!json) {\n            return statCollection;\n        }\n        var readStats;\n        try {\n            readStats = JSON.parse(json);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionEventActivity.FromJson.Failed, { ErrorMessage: \"Json parsing failed. \" + e.toString() });\n            return statCollection;\n        }\n        if (!statCollection.deserialize(readStats)) {\n            return new SurveyStatCollectionEventActivity();\n        }\n        return statCollection;\n    };\n    /**\n     * Convert to Json\n     */\n    SurveyStatCollectionEventActivity.toJson = function (object) {\n        if (!object) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionEventActivity.ToJson.Failed, { ErrorMessage: \"Input json is null or empty.\" });\n            object = new SurveyStatCollectionEventActivity();\n        }\n        return JSON.stringify(object);\n    };\n    /**\n     * Add another SurveyStatCollectionEventActivity object\n     */\n    SurveyStatCollectionEventActivity.prototype.accumulate = function (other) {\n        if (!other) {\n            return;\n        }\n        var stats = other.getStats();\n        // SurveyEventActivityStats accumulation simply overwrites any keys from 'other' into our collection\n        for (var key in stats) {\n            if (stats.hasOwnProperty(key)) {\n                var ourStats = this.getBySurveyId(key);\n                // If it does not already exist\n                if (!ourStats) {\n                    ourStats = new SurveyEventActivityStats();\n                    ourStats.Counts = [];\n                    this.addStats(key, ourStats);\n                }\n                ourStats.ExpirationTimeUtc = stats[key].ExpirationTimeUtc;\n                // If for some reason the other counts array is larger, resize ourStats.counts\n                if (ourStats.Counts.length < stats[key].Counts.length) {\n                    var resizedCounts = ourStats.Counts.slice();\n                    ourStats.Counts = resizedCounts;\n                }\n                for (var i = 0; i < stats[key].Counts.length; i++) {\n                    if (!ourStats.Counts[i]) {\n                        ourStats.Counts[i] = 0;\n                    }\n                    ourStats.Counts[i] += stats[key].Counts[i];\n                }\n            }\n        }\n    };\n    /**\n     * Method to deserialize SurveyStatCollectionEventActivity\n     * @param input: collection of SurveyStatCollectionEventActivity\n     * Returns result of validation check\n     */\n    SurveyStatCollectionEventActivity.prototype.deserialize = function (input) {\n        var rawStats = input.Surveys;\n        var now = new Date();\n        for (var key in rawStats) {\n            if (rawStats.hasOwnProperty(key)) {\n                var newStat = new SurveyEventActivityStats();\n                if (newStat.deserialize(rawStats[key]) && newStat.ExpirationTimeUtc > now) {\n                    this.addStats(key, newStat);\n                }\n            }\n        }\n        return this.validate();\n    };\n    /**\n     * Validate the Surveys\n     * Returns false if validation fails\n     */\n    SurveyStatCollectionEventActivity.prototype.validate = function () {\n        return Utils.isObject(this.getStats());\n    };\n    return SurveyStatCollectionEventActivity;\n}(SurveyStatCollection_1.SurveyStatCollection));\nexports.SurveyStatCollectionEventActivity = SurveyStatCollectionEventActivity;\nvar SurveyEventActivityStats = /** @class */ (function () {\n    function SurveyEventActivityStats() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    SurveyEventActivityStats.prototype.deserialize = function (input) {\n        this.ExpirationTimeUtc = input.ExpirationTimeUtc;\n        this.Counts = input.Counts;\n        return this.validate();\n    };\n    /**\n     * Method to call after deserialization to validate generated object.\n     * Returns false if not valid.\n     */\n    SurveyEventActivityStats.prototype.validate = function () {\n        if (!this.Counts) {\n            return false;\n        }\n        for (var i = 0; i < this.Counts.length; i++) {\n            var val = this.Counts[i];\n            if (!Utils.isNumber(val)) {\n                return false;\n            }\n            if (val < 0) {\n                this.Counts[i] = 0;\n            }\n        }\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ExpirationTimeUtc)) {\n            this.ExpirationTimeUtc = Utils.stringToDate(this.ExpirationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        return true;\n    };\n    return SurveyEventActivityStats;\n}());\nexports.SurveyEventActivityStats = SurveyEventActivityStats;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS50cz83ODA5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtR0FBNkM7QUFDN0MscUhBQW9EO0FBQ3BELG9JQUE4RDtBQUM5RCxxRkFBaUM7QUFFakM7Ozs7R0FJRztBQUNILHlHQUF5RztBQUN6RztJQUF1RCxxREFBOEM7SUFBckc7O0lBZ0hBLENBQUM7SUE5R0E7O09BRUc7SUFDVywwQ0FBUSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQU0sY0FBYyxHQUFHLElBQUksaUNBQWlDLEVBQUUsQ0FBQztRQUUvRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsT0FBTyxjQUFjLENBQUM7U0FDdEI7UUFFRCxJQUFJLFNBQTRDLENBQUM7UUFDakQsSUFBSTtZQUNILFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzdCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLGlDQUFpQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQ2hFLEVBQUUsWUFBWSxFQUFFLHVCQUF1QixHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDM0QsT0FBTyxjQUFjLENBQUM7U0FDdEI7UUFFRCxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUMzQyxPQUFPLElBQUksaUNBQWlDLEVBQUUsQ0FBQztTQUMvQztRQUVELE9BQU8sY0FBYyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7T0FFRztJQUNXLHdDQUFNLEdBQXBCLFVBQXFCLE1BQXlDO1FBQzdELElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDWixpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLGlD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ZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSURpY3Rpb25hcnksIElTZXJpYWxpemFibGUgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCB7IFN1cnZleVN0YXRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiBTdGF0Q29sbGVjdGlvbiBmb3IgRXZlbnRBY3Rpdml0eSBjb3VudHMuICBTaG91bGQgYmUgdXNlZCB0byBzdG9yZS9tZXJnZVxyXG4gKiBhZ2dyZWdhdGUgdmFsdWVzIGJldHdlZW4gc2Vzc2lvbnMgdHJhY2tpbmcgdGhlIHNhbWUgc3VydmV5cy9ldmVudHNcclxuICogRS5nLiBBIHN1cnZleSB0aGF0IGFjdGl2YXRlcyBhZnRlciAzIGJvb3RzLlxyXG4gKi9cclxuLy8gVE9ETyAoZ2FjaG9pKSBjaGVjayB0aGUgZm9sbG93aW5nIC0gVlNPQnVnOiAxNDQzMDEwIE9uZSBiYWQgU3RhdCBvYmplY3QgZmFpbHMgdGhlIGVudGlyZSBzZXJpYWxpemF0aW9uXHJcbmV4cG9ydCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgZXh0ZW5kcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+IGltcGxlbWVudHMgSVNlcmlhbGl6YWJsZSB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZnJvbSBKc29uXHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBmcm9tSnNvbihqc29uOiBzdHJpbmcpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkge1xyXG5cdFx0Y29uc3Qgc3RhdENvbGxlY3Rpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5KCk7XHJcblxyXG5cdFx0aWYgKCFqc29uKSB7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgcmVhZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZWFkU3RhdHMgPSBKU09OLnBhcnNlKGpzb24pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5Gcm9tSnNvbi5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgfSk7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0YXRDb2xsZWN0aW9uLmRlc2VyaWFsaXplKHJlYWRTdGF0cykpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RhdENvbGxlY3Rpb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSk6IHN0cmluZyB7XHJcblx0XHRpZiAoIW9iamVjdCkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5Ub0pzb24uRmFpbGVkLFxyXG5cdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIklucHV0IGpzb24gaXMgbnVsbCBvciBlbXB0eS5cIiB9KTtcclxuXHRcdFx0b2JqZWN0ID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGFub3RoZXIgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5IG9iamVjdFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhY2N1bXVsYXRlKG90aGVyOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkpOiB2b2lkIHtcclxuXHRcdGlmICghb3RoZXIpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRzOiBJRGljdGlvbmFyeTxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+ID0gb3RoZXIuZ2V0U3RhdHMoKTtcclxuXHRcdC8vIFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyBhY2N1bXVsYXRpb24gc2ltcGx5IG92ZXJ3cml0ZXMgYW55IGtleXMgZnJvbSAnb3RoZXInIGludG8gb3VyIGNvbGxlY3Rpb25cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHN0YXRzKSB7XHJcblx0XHRcdGlmIChzdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0bGV0IG91clN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSB0aGlzLmdldEJ5U3VydmV5SWQoa2V5KTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxyXG5cdFx0XHRcdGlmICghb3VyU3RhdHMpIHtcclxuXHRcdFx0XHRcdG91clN0YXRzID0gbmV3IFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cygpO1xyXG5cdFx0XHRcdFx0b3VyU3RhdHMuQ291bnRzID0gW107XHJcblx0XHRcdFx0XHR0aGlzLmFkZFN0YXRzKGtleSwgb3VyU3RhdHMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0b3VyU3RhdHMuRXhwaXJhdGlvblRpbWVVdGMgPSBzdGF0c1trZXldLkV4cGlyYXRpb25UaW1lVXRjO1xyXG5cclxuXHRcdFx0XHQvLyBJZiBmb3Igc29tZSByZWFzb24gdGhlIG90aGVyIGNvdW50cyBhcnJheSBpcyBsYXJnZXIsIHJlc2l6ZSBvdXJTdGF0cy5jb3VudHNcclxuXHRcdFx0XHRpZiAob3VyU3RhdHMuQ291bnRzLmxlbmd0aCA8IHN0YXRzW2tleV0uQ291bnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmVzaXplZENvdW50czogbnVtYmVyW10gPSBvdXJTdGF0cy5Db3VudHMuc2xpY2UoKTtcclxuXHRcdFx0XHRcdG91clN0YXRzLkNvdW50cyA9IHJlc2l6ZWRDb3VudHM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRzW2tleV0uQ291bnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAoIW91clN0YXRzLkNvdW50c1tpXSkge1xyXG5cdFx0XHRcdFx0XHRvdXJTdGF0cy5Db3VudHNbaV0gPSAwO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG91clN0YXRzLkNvdW50c1tpXSArPSBzdGF0c1trZXldLkNvdW50c1tpXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBkZXNlcmlhbGl6ZSBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHlcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IGNvbGxlY3Rpb24gb2YgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHRjb25zdCByYXdTdGF0czogSURpY3Rpb25hcnk8U3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzPiA9IGlucHV0LlN1cnZleXM7XHJcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHJhd1N0YXRzKSB7XHJcblx0XHRcdGlmIChyYXdTdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdCA9IG5ldyBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMoKTtcclxuXHJcblx0XHRcdFx0aWYgKG5ld1N0YXQuZGVzZXJpYWxpemUocmF3U3RhdHNba2V5XSkgJiYgbmV3U3RhdC5FeHBpcmF0aW9uVGltZVV0YyA+IG5vdykge1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRTdGF0cyhrZXksIG5ld1N0YXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSB0aGUgU3VydmV5c1xyXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgdmFsaWRhdGlvbiBmYWlsc1xyXG5cdCAqL1xyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBVdGlscy5pc09iamVjdCh0aGlzLmdldFN0YXRzKCkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyBpbXBsZW1lbnRzIElTZXJpYWxpemFibGUge1xyXG5cdC8vIFRoZSBmb2xsb3dpbmcgcHJvcGVydHkgbmFtZXMgbWF0Y2ggSlNPTiBwcm9wZXJ0eSBuYW1lcyBmb3IgcHJvcGVyIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uXHJcblx0cHVibGljIEV4cGlyYXRpb25UaW1lVXRjOiBEYXRlO1xyXG5cdHB1YmxpYyBDb3VudHM6IG51bWJlcltdO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIG9iamVjdCB0byBjbGFzcyBvYmplY3RcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gaW5wdXQuRXhwaXJhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLkNvdW50cyA9IGlucHV0LkNvdW50cztcclxuXHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGNhbGwgYWZ0ZXIgZGVzZXJpYWxpemF0aW9uIHRvIHZhbGlkYXRlIGdlbmVyYXRlZCBvYmplY3QuXHJcblx0ICogUmV0dXJucyBmYWxzZSBpZiBub3QgdmFsaWQuXHJcblx0ICovXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCF0aGlzLkNvdW50cykge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkNvdW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCB2YWw6IG51bWJlciA9IHRoaXMuQ291bnRzW2ldO1xyXG5cclxuXHRcdFx0aWYgKCFVdGlscy5pc051bWJlcih2YWwpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodmFsIDwgMCkge1xyXG5cdFx0XHRcdHRoaXMuQ291bnRzW2ldID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG1ha2UgaXQgYSBkYXRlIG9iamVjdCBpZiBpdCdzIGEgdmFsaWQgVVRDIGRhdGUgdGltZSB2YWx1ZVxyXG5cdFx0aWYgKFV0aWxzLmlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5FeHBpcmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5FeHBpcmF0aW9uVGltZVV0YyA9IFV0aWxzLnN0cmluZ1RvRGF0ZSh0aGlzLkV4cGlyYXRpb25UaW1lVXRjKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/FpsSurvey.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/FpsSurvey.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\");\nvar CVSurveyComponent = __webpack_require__(/*! ../SurveyComponents/CVSurveyComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js\");\nvar MultipleChoiceComponent = __webpack_require__(/*! ../SurveyComponents/MultipleChoiceComponent */ \"../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js\");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ \"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU;\nvar FpsSurvey = /** @class */ (function (_super) {\n    __extends(FpsSurvey, _super);\n    function FpsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = data.commentData ? (new CommentComponent(data.commentData)) : null;\n        _this.rating = data.ratingData ? (new RatingComponent(data.ratingData)) : null;\n        _this.multipleChoice = data.multipleChoiceData ? (new MultipleChoiceComponent(data.multipleChoiceData)) : null;\n        _this.cvSurvey = data.cvSurveyData ? (new CVSurveyComponent(data.cvSurveyData)) : null;\n        return _this;\n    }\n    FpsSurvey.make = function (data) {\n        try {\n            return new FpsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    FpsSurvey.makeFps = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var availableOptions = [];\n        var content = surveyModel.content;\n        // Prompt is required and at least one of the other components are required\n        if (isNOU(content) || isNOU(content.prompt) ||\n            (isNOU(content.rating) && isNOU(content.multipleChoice) &&\n                isNOU(content.comment))) {\n            return null;\n        }\n        var data = new FpsSurvey.FpsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        if (isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)) {\n            return null;\n        }\n        if (content.rating) {\n            data.ratingData = new RatingComponent.RatingComponentData();\n            data.ratingData.question = sp.getCustomString(content.rating.question);\n            data.ratingData.isZeroBased = content.rating.isZeroBased;\n            for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var customString = sp.getCustomString(value);\n                if (isNOU(customString)) {\n                    return null;\n                }\n                ratingValuesAscending.push(customString);\n            }\n            data.ratingData.ratingValuesAscending = ratingValuesAscending;\n            if (isNOU(data.ratingData.question)\n                || isNOU(data.ratingData.ratingValuesAscending)) {\n                return null;\n            }\n        }\n        if (content.multipleChoice) {\n            data.multipleChoiceData = new MultipleChoiceComponent.MultipleChoiceComponentData();\n            data.multipleChoiceData.question = sp.getCustomString(content.multipleChoice.question);\n            data.multipleChoiceData.minNumberOfSelectedOptions = content.multipleChoice.minNumberOfSelectedOptions;\n            data.multipleChoiceData.maxNumberOfSelectedOptions = content.multipleChoice.maxNumberOfSelectedOptions;\n            for (var _b = 0, _c = content.multipleChoice.availableOptions; _b < _c.length; _b++) {\n                var value = _c[_b];\n                var customString = sp.getCustomString(value);\n                if (isNOU(customString)) {\n                    return null;\n                }\n                availableOptions.push(customString);\n            }\n            data.multipleChoiceData.availableOptions = availableOptions;\n            if (isNOU(data.multipleChoiceData.question)\n                || isNOU(data.multipleChoiceData.availableOptions)) {\n                return null;\n            }\n        }\n        if (content.comment) {\n            data.commentData = new CommentComponent.CommentComponentData();\n            data.commentData.question = sp.getCustomString(content.comment.question);\n            if (isNOU(data.commentData.question)) {\n                return null;\n            }\n        }\n        // cvsurvey data is not required on all surveys.\n        if (content.cvSurvey) {\n            data.cvSurveyData = new CVSurveyComponent.CVSurveyComponentData();\n            data.cvSurveyData.customerVoiceFormId = content.cvSurvey.customerVoiceFormId;\n            if (isNOU(data.cvSurveyData.customerVoiceFormId)) {\n                return null;\n            }\n        }\n        return this.make(data);\n    };\n    // @Override\n    FpsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Fps;\n    };\n    // @Override\n    FpsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    FpsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    FpsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    FpsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    FpsSurvey.prototype.getMultipleChoiceComponent = function () {\n        return this.multipleChoice;\n    };\n    FpsSurvey.prototype.getCVSurveyComponent = function () {\n        return this.cvSurvey;\n    };\n    // @Override\n    FpsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case \"Comment\" /* Comment */:\n                return this.getCommentComponent();\n            case \"Prompt\" /* Prompt */:\n                return this.getPromptComponent();\n            case \"Rating\" /* Rating */:\n                return this.getRatingComponent();\n            case \"MultipleChoice\" /* MultipleChoice */:\n                return this.getMultipleChoiceComponent();\n            case \"CVSurvey\" /* CVSurvey */:\n                return this.getCVSurveyComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    FpsSurvey.prototype.getDomElements = function (doc) {\n        if (isNOU(doc)) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurvey.DOM_FPS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        if (this.getRatingComponent()) {\n            this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n                if (!isNOU(child)) {\n                    element.appendChild(child);\n                }\n            });\n        }\n        if (this.getMultipleChoiceComponent()) {\n            this.getMultipleChoiceComponent().getDomElements(doc).forEach(function (child) {\n                if (!isNOU(child)) {\n                    element.appendChild(child);\n                }\n            });\n        }\n        return [element];\n    };\n    // @Override\n    FpsSurvey.prototype.getJsonElements = function () {\n        var _a;\n        var result = {};\n        result = Utils.overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME] = {};\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME][ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME] =\n            JSON.stringify((_a = {},\n                _a[ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME] = this.makeSurveyStrings(),\n                _a[ISurveyComponent.JSON_SURVEYSPECIFICDATA_KEYNAME] = this.makeResponseString(),\n                _a));\n        return result;\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    FpsSurvey.prototype.makeResponseString = function () {\n        var response = {};\n        if (this.question) {\n            response[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.getCommentComponent().getSubmittedText()];\n        }\n        if (this.multipleChoice) {\n            response[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] =\n                [this.getMultipleChoiceComponent().getOptionSelectedStates()];\n        }\n        if (this.rating) {\n            response[ISurveyComponent.JSON_RATING_KEYNAME] = [\n                { numberOfOptions: this.getRatingComponent().getRatingValuesAscending().length,\n                    selectedRating: this.getRatingComponent().getSelectedRatingIndex() }\n            ];\n        }\n        return JSON.stringify(response);\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    FpsSurvey.prototype.makeSurveyStrings = function () {\n        var actualStrings = {};\n        if (this.prompt) {\n            actualStrings[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.prompt.getComponentJson();\n        }\n        if (this.rating) {\n            actualStrings[ISurveyComponent.JSON_RATING_KEYNAME] = [this.rating.getComponentJson()];\n        }\n        if (this.question) {\n            actualStrings[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.question.getComponentJson()];\n        }\n        if (this.multipleChoice) {\n            actualStrings[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] = [this.multipleChoice.getComponentJson()];\n        }\n        return JSON.stringify(actualStrings);\n    };\n    return FpsSurvey;\n}(Survey_1.Survey));\n(function (FpsSurvey) {\n    /**\n     * Data required for a Fps Survey\n     */\n    var FpsSurveyData = /** @class */ (function () {\n        function FpsSurveyData() {\n        }\n        return FpsSurveyData;\n    }());\n    FpsSurvey.FpsSurveyData = FpsSurveyData;\n})(FpsSurvey || (FpsSurvey = {}));\nmodule.exports = FpsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvRnBzU3VydmV5LnRzPzIwYzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFDMUMsK0hBQTREO0FBRzVELHlKQUF5RTtBQUN6RSw0SkFBMkU7QUFDM0UsOEtBQXVGO0FBQ3ZGLHNKQUF1RTtBQUN2RSxzSkFBdUU7QUFDdkUsc0ZBQWtDO0FBQ2xDLGtHQUFrQztBQUNsQyw4SEFBdUQ7QUFFL0MsU0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBRXhCO0lBQXdCLDZCQUFNO0lBMEg3QixtQkFBb0IsSUFBNkI7UUFBakQsWUFDQyxpQkFBTyxTQVdQO1FBVkEsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxLQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ25GLEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzlFLEtBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksdUJBQXVCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENB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Q0QsV0FBTyxTQUFTO0lBQ2Y7O09BRUc7SUFDSDtRQUFBO1FBT0EsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQVBZLHVCQUFhLGdCQU96QjtBQUNGLENBQUMsRUFaTSxTQUFTLEtBQVQsU0FBUyxRQVlmO0FBRUQsaUJBQVMsU0FBUyxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9GcHNTdXJ2ZXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSUZwc1N1cnZleSB9IGZyb20gXCIuLi9BcGkvSUZwc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBDVlN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9DVlN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9NdWx0aXBsZUNob2ljZUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuY2xhc3MgRnBzU3VydmV5IGV4dGVuZHMgU3VydmV5IGltcGxlbWVudHMgSUZwc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IEZwc1N1cnZleS5GcHNTdXJ2ZXlEYXRhKTogSUZwc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEZwc1N1cnZleShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2VGcHMoYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIsXHJcblx0XHRzdXJ2ZXlNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSk6IElGcHNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Y29uc3QgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50ID0gc3VydmV5TW9kZWwuY29udGVudDtcclxuXHJcblx0XHQvLyBQcm9tcHQgaXMgcmVxdWlyZWQgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aGUgb3RoZXIgY29tcG9uZW50cyBhcmUgcmVxdWlyZWRcclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LnByb21wdCkgfHxcclxuXHRcdFx0KGlzTk9VKGNvbnRlbnQucmF0aW5nKSAmJiBpc05PVShjb250ZW50Lm11bHRpcGxlQ2hvaWNlKSAmJlxyXG5cdFx0XHRpc05PVShjb250ZW50LmNvbW1lbnQpKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBGcHNTdXJ2ZXkuRnBzU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhID0gbmV3IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEudGl0bGUgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQudGl0bGUpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0LnF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC55ZXNMYWJlbCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC5ub0xhYmVsKTtcclxuXHJcblx0XHRpZiAoIGlzTk9VKGRhdGEucHJvbXB0RGF0YS50aXRsZSlcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRlbnQucmF0aW5nKSB7XHJcblx0XHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5yYXRpbmcucXVlc3Rpb24pO1xyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEuaXNaZXJvQmFzZWQgPSBjb250ZW50LnJhdGluZy5pc1plcm9CYXNlZDtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgY29udGVudC5yYXRpbmcucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VzdG9tU3RyaW5nOiBzdHJpbmcgPSBzcC5nZXRDdXN0b21TdHJpbmcodmFsdWUpO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNOT1UoY3VzdG9tU3RyaW5nKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmcucHVzaChjdXN0b21TdHJpbmcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nID0gcmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGRhdGEucmF0aW5nRGF0YS5xdWVzdGlvbilcclxuXHRcdFx0XHR8fCBpc05PVShkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZW50Lm11bHRpcGxlQ2hvaWNlKSB7XHJcblx0XHRcdGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhID0gbmV3IE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50Lk11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0XHRkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50Lm11bHRpcGxlQ2hvaWNlLnF1ZXN0aW9uKTtcclxuXHRcdFx0ZGF0YS5tdWx0aXBsZUNob2ljZURhdGEubWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMgPSBjb250ZW50Lm11bHRpcGxlQ2hvaWNlLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdFx0XHRkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5tYXhOdW1iZXJPZlNlbGVjdGVkT3B0aW9ucyA9IGNvbnRlbnQubXVsdGlwbGVDaG9pY2UubWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM7XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIGNvbnRlbnQubXVsdGlwbGVDaG9pY2UuYXZhaWxhYmxlT3B0aW9ucykge1xyXG5cdFx0XHRcdGNvbnN0IGN1c3RvbVN0cmluZzogc3RyaW5nID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzTk9VKGN1c3RvbVN0cmluZykpIHtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YXZhaWxhYmxlT3B0aW9ucy5wdXNoKGN1c3RvbVN0cmluZyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLmF2YWlsYWJsZU9wdGlvbnMgPSBhdmFpbGFibGVPcHRpb25zO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHRcdHx8IGlzTk9VKGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLmF2YWlsYWJsZU9wdGlvbnMpKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRlbnQuY29tbWVudCkge1xyXG5cdFx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHRcdFx0ZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmNvbW1lbnQucXVlc3Rpb24pO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24pKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjdnN1cnZleSBkYXRhIGlzIG5vdCByZXF1aXJlZCBvbiBhbGwgc3VydmV5cy5cclxuXHRcdGlmIChjb250ZW50LmN2U3VydmV5KSB7XHJcblx0XHRcdGRhdGEuY3ZTdXJ2ZXlEYXRhID0gbmV3IENWU3VydmV5Q29tcG9uZW50LkNWU3VydmV5Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0XHRkYXRhLmN2U3VydmV5RGF0YS5jdXN0b21lclZvaWNlRm9ybUlkID0gIGNvbnRlbnQuY3ZTdXJ2ZXkuY3VzdG9tZXJWb2ljZUZvcm1JZDtcclxuXHJcblx0XHRcdGlmIChpc05PVShkYXRhLmN2U3VydmV5RGF0YS5jdXN0b21lclZvaWNlRm9ybUlkKSkge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMubWFrZShkYXRhKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3VydmV5SW5mbzogU3VydmV5RGF0YVNvdXJjZTtcclxuXHRwcml2YXRlIHF1ZXN0aW9uOiBDb21tZW50Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcHJvbXB0OiBQcm9tcHRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSByYXRpbmc6IFJhdGluZ0NvbXBvbmVudDtcclxuXHRwcml2YXRlIG11bHRpcGxlQ2hvaWNlOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudDtcclxuXHRwcml2YXRlIGN2U3VydmV5OiBDVlN1cnZleUNvbXBvbmVudDtcclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcihkYXRhOiBGcHNTdXJ2ZXkuRnBzU3VydmV5RGF0YSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdGlmIChpc05PVShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXlJbmZvID0gbmV3IFN1cnZleURhdGFTb3VyY2UoZGF0YS5iYXNlRGF0YSk7XHJcblx0XHR0aGlzLnByb21wdCA9IG5ldyBQcm9tcHRDb21wb25lbnQoZGF0YS5wcm9tcHREYXRhKTtcclxuXHRcdHRoaXMucXVlc3Rpb24gPSBkYXRhLmNvbW1lbnREYXRhID8gKG5ldyBDb21tZW50Q29tcG9uZW50KGRhdGEuY29tbWVudERhdGEpKSA6IG51bGw7XHJcblx0XHR0aGlzLnJhdGluZyA9IGRhdGEucmF0aW5nRGF0YSA/IChuZXcgUmF0aW5nQ29tcG9uZW50KGRhdGEucmF0aW5nRGF0YSkpIDogbnVsbDtcclxuXHRcdHRoaXMubXVsdGlwbGVDaG9pY2UgPSBkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YSA/IChuZXcgTXVsdGlwbGVDaG9pY2VDb21wb25lbnQoZGF0YS5tdWx0aXBsZUNob2ljZURhdGEpKSA6IG51bGw7XHJcblx0XHR0aGlzLmN2U3VydmV5ID0gZGF0YS5jdlN1cnZleURhdGEgPyAobmV3IENWU3VydmV5Q29tcG9uZW50KGRhdGEuY3ZTdXJ2ZXlEYXRhKSkgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuRnBzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN1cnZleUluZm8oKTogSVN1cnZleUluZm8ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5SW5mbztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21tZW50Q29tcG9uZW50KCk6IENvbW1lbnRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJvbXB0Q29tcG9uZW50KCk6IFByb21wdENvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF0aW5nQ29tcG9uZW50KCk6IFJhdGluZ0NvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5yYXRpbmc7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbGVDaG9pY2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTogQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3ZTdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50KGNvbXBvbmVudFR5cGU6IElTdXJ2ZXlDb21wb25lbnQuVHlwZSk6IElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0c3dpdGNoIChjb21wb25lbnRUeXBlKSB7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLkNvbW1lbnQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UHJvbXB0Q29tcG9uZW50KCk7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLlJhdGluZzpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuTXVsdGlwbGVDaG9pY2U6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ1ZTdXJ2ZXk6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmIChpc05PVShkb2MpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXkuRE9NX0ZQU19UQUdOQU1FKTtcclxuXHJcblx0XHR0aGlzLmdldFN1cnZleUluZm8oKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmICghaXNOT1UoY2hpbGQpKSB7XHJcblx0XHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCkpIHtcclxuXHRcdFx0dGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKSkge1xyXG5cdFx0XHR0aGlzLmdldE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRcdGlmICghaXNOT1UoY2hpbGQpKSB7XHJcblx0XHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRsZXQgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRyZXN1bHQgPSBVdGlscy5vdmVycmlkZVZhbHVlcyh0aGlzLmdldFN1cnZleUluZm8oKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHRcdHJlc3VsdFtJU3VydmV5Q29tcG9uZW50LkpTT05fQVBQTElDQVRJT05fS0VZTkFNRV0gPSB7fTtcclxuXHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0FQUExJQ0FUSU9OX0tFWU5BTUVdW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9FWFRFTkRFRE1BTklGRVNUREFUQV9LRVlOQU1FXSA9XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1NVUlZFWVNUUklOR1NfS0VZTkFNRV06IHRoaXMubWFrZVN1cnZleVN0cmluZ3MoKSxcclxuXHRcdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1NVUlZFWVNQRUNJRklDREFUQV9LRVlOQU1FXTogdGhpcy5tYWtlUmVzcG9uc2VTdHJpbmcoKSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIE1ha2VzIHRoZSBzdHJpbmcgdG8gc2VuZCB0byBNYW5pZmVzdCByZXNwZWN0aW5nIHRoZSBjb21wb25lbnRzIHByZXNlbnQgaW4gdGhlIHN1cnZleVxyXG5cdHByaXZhdGUgbWFrZVJlc3BvbnNlU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCByZXNwb25zZTogb2JqZWN0ID0ge307XHJcblxyXG5cdFx0aWYgKHRoaXMucXVlc3Rpb24pIHtcclxuXHRcdFx0cmVzcG9uc2VbSVN1cnZleUNvbXBvbmVudC5KU09OX0NPTU1FTlRfS0VZTkFNRV0gPSBbdGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0U3VibWl0dGVkVGV4dCgpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5tdWx0aXBsZUNob2ljZSkge1xyXG5cdFx0XHRyZXNwb25zZVtJU3VydmV5Q29tcG9uZW50LkpTT05fTVVMVElQTEVDSE9JQ0VfS0VZTkFNRV0gPVxyXG5cdFx0XHRcdFt0aGlzLmdldE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50KCkuZ2V0T3B0aW9uU2VsZWN0ZWRTdGF0ZXMoKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMucmF0aW5nKSB7XHJcblx0XHRcdHJlc3BvbnNlW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9SQVRJTkdfS0VZTkFNRV0gPSBbXHJcblx0XHRcdFx0e251bWJlck9mT3B0aW9uczogdGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKS5sZW5ndGgsXHJcblx0XHRcdHNlbGVjdGVkUmF0aW5nOiB0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldFNlbGVjdGVkUmF0aW5nSW5kZXgoKSB9XTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpO1xyXG5cdH1cclxuXHJcblx0Ly8gTWFrZXMgdGhlIHN0cmluZyB0byBzZW5kIHRvIE1hbmlmZXN0IHJlc3BlY3RpbmcgdGhlIGNvbXBvbmVudHMgcHJlc2VudCBpbiB0aGUgc3VydmV5XHJcblx0cHJpdmF0ZSBtYWtlU3VydmV5U3RyaW5ncygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgYWN0dWFsU3RyaW5nczogb2JqZWN0ID0ge307XHJcblxyXG5cdFx0aWYgKHRoaXMucHJvbXB0KSB7XHJcblx0XHRcdGFjdHVhbFN0cmluZ3NbSVN1cnZleUNvbXBvbmVudC5KU09OX1BST01QVF9LRVlOQU1FXSA9IHRoaXMucHJvbXB0LmdldENvbXBvbmVudEpzb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5yYXRpbmcpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fUkFUSU5HX0tFWU5BTUVdID0gW3RoaXMucmF0aW5nLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMucXVlc3Rpb24pIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fQ09NTUVOVF9LRVlOQU1FXSA9IFt0aGlzLnF1ZXN0aW9uLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMubXVsdGlwbGVDaG9pY2UpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fTVVMVElQTEVDSE9JQ0VfS0VZTkFNRV0gPSBbdGhpcy5tdWx0aXBsZUNob2ljZS5nZXRDb21wb25lbnRKc29uKCldO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShhY3R1YWxTdHJpbmdzKTtcclxuXHR9XHJcbn1cclxubW9kdWxlIEZwc1N1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBGcHMgU3VydmV5XHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIEZwc1N1cnZleURhdGEge1xyXG5cdFx0cHVibGljIGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cdFx0cHVibGljIGNvbW1lbnREYXRhOiBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIHByb21wdERhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIHJhdGluZ0RhdGE6IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIG11bHRpcGxlQ2hvaWNlRGF0YTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQuTXVsdGlwbGVDaG9pY2VDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIGN2U3VydmV5RGF0YTogQ1ZTdXJ2ZXlDb21wb25lbnQuQ1ZTdXJ2ZXlDb21wb25lbnREYXRhO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gRnBzU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/FpsSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js":
/*!**************************************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU;\nvar GenericMessagingSurfaceSurvey = /** @class */ (function (_super) {\n    __extends(GenericMessagingSurfaceSurvey, _super);\n    function GenericMessagingSurfaceSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        // This check cannot be done in survey info constructor\n        // as metadata is specific to this survey type.\n        if (isNOU(_this.surveyInfo.getMetadata())) {\n            throw new Error(\"metadata must not be null\");\n        }\n        return _this;\n    }\n    GenericMessagingSurfaceSurvey.make = function (data) {\n        try {\n            return new GenericMessagingSurfaceSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    GenericMessagingSurfaceSurvey.makeCustom = function (baseData) {\n        if (isNOU(baseData)) {\n            return null;\n        }\n        var data = new GenericMessagingSurfaceSurvey.GenericMessagingSurfaceSurveyData();\n        data.baseData = baseData;\n        return this.make(data);\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getType = function () {\n        return ISurvey.Type.GenericMessagingSurface;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getComponent = function (componentType) {\n        return null;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getDomElements = function (doc) {\n        return [];\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getJsonElements = function () {\n        return {};\n    };\n    return GenericMessagingSurfaceSurvey;\n}(Survey_1.Survey));\n(function (GenericMessagingSurfaceSurvey) {\n    /**\n     * Data required for a Generic Surface Survey\n     */\n    var GenericMessagingSurfaceSurveyData = /** @class */ (function () {\n        function GenericMessagingSurfaceSurveyData() {\n        }\n        return GenericMessagingSurfaceSurveyData;\n    }());\n    GenericMessagingSurfaceSurvey.GenericMessagingSurfaceSurveyData = GenericMessagingSurfaceSurveyData;\n})(GenericMessagingSurfaceSurvey || (GenericMessagingSurfaceSurvey = {}));\nmodule.exports = GenericMessagingSurfaceSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkudHM/ZWEwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLG9HQUEwQztBQUcxQyxzRkFBa0M7QUFDbEMsa0dBQWtDO0FBQ2xDLDhIQUF1RDtBQUUvQyxTQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFeEI7SUFBNEMsaURBQU07SUFzQmpELHVDQUFvQixJQUFxRTtRQUF6RixZQUNDLGlCQUFPLFNBWVA7UUFYQSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0RCx1REFBdUQ7UUFDdkQsK0NBQStDO1FBQy9DLElBQUksS0FBSyxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDN0M7O0lBQ0YsQ0FBQztJQWxDYSxrQ0FBSSxHQUFsQixVQUFtQixJQUFxRTtRQUN2RixJQUFJO1lBQ0gsT0FBTyxJQUFJLDZCQUE2QixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQy9DO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVhLHdDQUFVLEdBQXhCLFVBQXlCLFFBQStDO1FBQ3ZFLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLDZCQUE2QixDQUFDLGlDQUFpQyxFQUFFLENBQUM7UUFDbkYsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFFekIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFtQkQsWUFBWTtJQUNMLCtDQUFPLEdBQWQ7UUFDQyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDN0MsQ0FBQztJQUVELFlBQVk7SUFDTCxxREFBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFZLEdBQW5CLFVBQW9CLGFBQW9DO1FBQ3ZELE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVELFlBQVk7SUFDTCxzREFBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUVELFlBQVk7SUFDTCx1REFBZSxHQUF0QjtRQUNDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUNGLG9DQUFDO0FBQUQsQ0FBQyxDQTdEMkMsZUFBTSxHQTZEakQ7QUFFRCxXQUFPLDZCQUE2QjtJQUNuQzs7T0FFRztJQUNIO1FBQUE7UUFFQSxDQUFDO1FBQUQsd0NBQUM7SUFBRCxDQUFDO0lBRlksK0RBQWlDLG9DQUU3QztBQUNGLENBQUMsRUFQTSw2QkFBNkIsS0FBN0IsNkJBQTZCLFFBT25DO0FBRUQsaUJBQVMsNkJBQTZCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL0dlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLi9VdGlsc1wiO1xyXG5pbXBvcnQgeyBTdXJ2ZXkgfSBmcm9tIFwiLi9TdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgU3VydmV5RGF0YVNvdXJjZSBmcm9tIFwiLi9TdXJ2ZXlEYXRhU291cmNlXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IGV4dGVuZHMgU3VydmV5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhKTogSVN1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZUN1c3RvbShiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSk6IElTdXJ2ZXkge1xyXG5cdFx0aWYgKGlzTk9VKGJhc2VEYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5LkdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN1cnZleUluZm8gPSBuZXcgU3VydmV5RGF0YVNvdXJjZShkYXRhLmJhc2VEYXRhKTtcclxuXHJcblx0XHQvLyBUaGlzIGNoZWNrIGNhbm5vdCBiZSBkb25lIGluIHN1cnZleSBpbmZvIGNvbnN0cnVjdG9yXHJcblx0XHQvLyBhcyBtZXRhZGF0YSBpcyBzcGVjaWZpYyB0byB0aGlzIHN1cnZleSB0eXBlLlxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuc3VydmV5SW5mby5nZXRNZXRhZGF0YSgpKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJtZXRhZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0cmV0dXJuIFtdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHt9O1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IHtcclxuXHQvKipcclxuXHQgKiBEYXRhIHJlcXVpcmVkIGZvciBhIEdlbmVyaWMgU3VyZmFjZSBTdXJ2ZXlcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhIHtcclxuXHRcdHB1YmxpYyBiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/InterceptSurvey.js":
/*!************************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/InterceptSurvey.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar InterceptComponent = __webpack_require__(/*! ../SurveyComponents/InterceptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU;\nvar InterceptSurvey = /** @class */ (function (_super) {\n    __extends(InterceptSurvey, _super);\n    function InterceptSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.intercept = new InterceptComponent(data.interceptData);\n        return _this;\n    }\n    InterceptSurvey.make = function (data) {\n        try {\n            return new InterceptSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    InterceptSurvey.makeIntercept = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var content = surveyModel.content;\n        // Intercept component is required.\n        if (isNOU(content) || isNOU(content.intercept)) {\n            return null;\n        }\n        var data = new InterceptSurvey.InterceptSurveyData();\n        data.baseData = baseData;\n        data.interceptData = new InterceptComponent.InterceptComponentData();\n        data.interceptData.title = sp.getCustomString(content.intercept.title);\n        data.interceptData.question = sp.getCustomString(content.intercept.question);\n        data.interceptData.url = sp.getCustomString(content.intercept.url);\n        if (isNOU(data.interceptData.title)\n            || isNOU(data.interceptData.question)\n            || isNOU(data.interceptData.url)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    // @Override\n    InterceptSurvey.prototype.getType = function () {\n        return ISurvey.Type.Intercept;\n    };\n    // @Override\n    InterceptSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    InterceptSurvey.prototype.getInterceptComponent = function () {\n        return this.intercept;\n    };\n    // @Override\n    InterceptSurvey.prototype.getComponent = function (componentType) {\n        return (componentType === \"Intercept\" /* Intercept */) ? this.getInterceptComponent() : null;\n    };\n    // @Override\n    InterceptSurvey.prototype.getDomElements = function (doc) {\n        return [];\n    };\n    // @Override\n    InterceptSurvey.prototype.getJsonElements = function () {\n        return {};\n    };\n    return InterceptSurvey;\n}(Survey_1.Survey));\n(function (InterceptSurvey) {\n    /**\n     * Data required for an Intercept Survey\n     */\n    var InterceptSurveyData = /** @class */ (function () {\n        function InterceptSurveyData() {\n        }\n        return InterceptSurveyData;\n    }());\n    InterceptSurvey.InterceptSurveyData = InterceptSurveyData;\n})(InterceptSurvey || (InterceptSurvey = {}));\nmodule.exports = InterceptSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvSW50ZXJjZXB0U3VydmV5LnRzPzZiM2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFJMUMsK0pBQTZFO0FBQzdFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBSyxLQUFLLE1BQVYsQ0FBVztBQUV4QjtJQUE4QixtQ0FBTTtJQTZDbkMseUJBQW9CLElBQXlDO1FBQTdELFlBQ0MsaUJBQU8sU0FPUDtRQU5BLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUVELEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs7SUFDN0QsQ0FBQztJQXBEYSxvQkFBSSxHQUFsQixVQUFtQixJQUF5QztRQUMzRCxJQUFJO1lBQ0gsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFFYSw2QkFBYSxHQUEzQixVQUE0QixRQUErQyxFQUFFLEVBQTRCLEVBQ3hHLFdBQW1DO1FBRW5DLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDdkQsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0sT0FBTyxHQUEwQixXQUFXLENBQUMsT0FBTyxDQUFDO1FBRTNELG1DQUFtQztRQUNuQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQy9DLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLGVBQWUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBRXpCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRXJFLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRW5FLElBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO2VBQ2hDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztlQUNsQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUVsQyxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFlRCxZQUFZO0lBQ0wsaUNBQU8sR0FBZDtRQUNDLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVk7SUFDTCx1Q0FBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLCtDQUFxQixHQUE1QjtRQUNDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2QixDQUFDO0lBRUQsWUFBWTtJQUNMLHNDQUFZLEdBQW5CLFVBQW9CLGFBQW9DO1FBQ3ZELE9BQU8sQ0FBQyxhQUFhLGdDQUFvQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbEcsQ0FBQztJQUVELFlBQVk7SUFDTCx3Q0FBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBZSxHQUF0QjtRQUNDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQyxDQXBGNkIsZUFBTSxHQW9GbkM7QUFDRCxXQUFPLGVBQWU7SUFDckI7O09BRUc7SUFDSDtRQUFBO1FBR0EsQ0FBQztRQUFELDBCQUFDO0lBQUQsQ0FBQztJQUhZLG1DQUFtQixzQkFHL0I7QUFDRixDQUFDLEVBUk0sZUFBZSxLQUFmLGVBQWUsUUFRckI7QUFFRCxpQkFBUyxlQUFlLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL0ludGVyY2VwdFN1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdHJpbmdQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJSW50ZXJjZXB0U3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JSW50ZXJjZXB0U3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3VydmV5Q29udGVudCwgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgSW50ZXJjZXB0Q29tcG9uZW50IGZyb20gXCIuLi9TdXJ2ZXlDb21wb25lbnRzL0ludGVyY2VwdENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgU3VydmV5IH0gZnJvbSBcIi4vU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIFN1cnZleURhdGFTb3VyY2UgZnJvbSBcIi4vU3VydmV5RGF0YVNvdXJjZVwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5jbGFzcyBJbnRlcmNlcHRTdXJ2ZXkgZXh0ZW5kcyBTdXJ2ZXkgaW1wbGVtZW50cyBJSW50ZXJjZXB0U3VydmV5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogSW50ZXJjZXB0U3VydmV5LkludGVyY2VwdFN1cnZleURhdGEpOiBJSW50ZXJjZXB0U3VydmV5IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgSW50ZXJjZXB0U3VydmV5KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZUludGVyY2VwdChiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSwgc3A6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdHN1cnZleU1vZGVsOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlKTogSUludGVyY2VwdFN1cnZleSB7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGJhc2VEYXRhKSB8fCBpc05PVShzcCkgfHwgaXNOT1Uoc3VydmV5TW9kZWwpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbnRlbnQ6IENhbXBhaWduU3VydmV5Q29udGVudCA9IHN1cnZleU1vZGVsLmNvbnRlbnQ7XHJcblxyXG5cdFx0Ly8gSW50ZXJjZXB0IGNvbXBvbmVudCBpcyByZXF1aXJlZC5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmludGVyY2VwdCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBJbnRlcmNlcHRTdXJ2ZXkuSW50ZXJjZXB0U3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdGRhdGEuaW50ZXJjZXB0RGF0YSA9IG5ldyBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cclxuXHRcdGRhdGEuaW50ZXJjZXB0RGF0YS50aXRsZSA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmludGVyY2VwdC50aXRsZSk7XHJcblx0XHRkYXRhLmludGVyY2VwdERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5pbnRlcmNlcHQucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5pbnRlcmNlcHREYXRhLnVybCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmludGVyY2VwdC51cmwpO1xyXG5cclxuXHRcdGlmICggaXNOT1UoZGF0YS5pbnRlcmNlcHREYXRhLnRpdGxlKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLmludGVyY2VwdERhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEuaW50ZXJjZXB0RGF0YS51cmwpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlKGRhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlJbmZvOiBTdXJ2ZXlEYXRhU291cmNlO1xyXG5cdHByaXZhdGUgaW50ZXJjZXB0OiBJbnRlcmNlcHRDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogSW50ZXJjZXB0U3VydmV5LkludGVyY2VwdFN1cnZleURhdGEpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHRpZiAoaXNOT1UoZGF0YSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3VydmV5SW5mbyA9IG5ldyBTdXJ2ZXlEYXRhU291cmNlKGRhdGEuYmFzZURhdGEpO1xyXG5cdFx0dGhpcy5pbnRlcmNlcHQgPSBuZXcgSW50ZXJjZXB0Q29tcG9uZW50KGRhdGEuaW50ZXJjZXB0RGF0YSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXkuVHlwZS5JbnRlcmNlcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEludGVyY2VwdENvbXBvbmVudCgpOiBJbnRlcmNlcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW50ZXJjZXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiAoY29tcG9uZW50VHlwZSA9PT0gSVN1cnZleUNvbXBvbmVudC5UeXBlLkludGVyY2VwdCkgPyB0aGlzLmdldEludGVyY2VwdENvbXBvbmVudCgpIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdHJldHVybiB7fTtcclxuXHR9XHJcbn1cclxubW9kdWxlIEludGVyY2VwdFN1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYW4gSW50ZXJjZXB0IFN1cnZleVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBjbGFzcyBJbnRlcmNlcHRTdXJ2ZXlEYXRhIHtcclxuXHRcdHB1YmxpYyBiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YTtcclxuXHRcdHB1YmxpYyBpbnRlcmNlcHREYXRhOiBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEludGVyY2VwdFN1cnZleTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/InterceptSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/NlqsSurvey.js":
/*!*******************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/NlqsSurvey.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ \"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU, overrideValues = Utils.overrideValues;\nvar NlqsSurvey = /** @class */ (function (_super) {\n    __extends(NlqsSurvey, _super);\n    function NlqsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = new CommentComponent(data.commentData);\n        _this.rating = new RatingComponent(data.ratingData);\n        return _this;\n    }\n    NlqsSurvey.make = function (data) {\n        try {\n            return new NlqsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    NlqsSurvey.makeNlqs = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var content = surveyModel.content;\n        if (isNOU(content) || isNOU(content.comment)\n            || isNOU(content.prompt) || isNOU(content.rating)) {\n            return null;\n        }\n        var data = new NlqsSurvey.NlqsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        data.ratingData.question = sp.getCustomString(content.rating.question);\n        data.ratingData.isZeroBased = content.rating.isZeroBased;\n        data.commentData.question = sp.getCustomString(content.comment.question);\n        for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var customString = sp.getCustomString(value);\n            if (isNOU(customString)) {\n                return null;\n            }\n            ratingValuesAscending.push(customString);\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        if (isNOU(data.ratingData.question)\n            || isNOU(data.commentData.question)\n            || isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)\n            || isNOU(data.ratingData.ratingValuesAscending)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    // @Override\n    NlqsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Nlqs;\n    };\n    // @Override\n    NlqsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    NlqsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    NlqsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    NlqsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    NlqsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case \"Comment\" /* Comment */:\n                return this.getCommentComponent();\n            case \"Prompt\" /* Prompt */:\n                return this.getPromptComponent();\n            case \"Rating\" /* Rating */:\n                return this.getRatingComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    NlqsSurvey.prototype.getDomElements = function (doc) {\n        if (isNOU(doc)) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurvey.DOM_NLQS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        return [element];\n    };\n    // @Override\n    NlqsSurvey.prototype.getJsonElements = function () {\n        var result = {};\n        result = overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result = overrideValues(this.getCommentComponent().getJsonElements(), result);\n        result = overrideValues(this.getRatingComponent().getJsonElements(), result);\n        return result;\n    };\n    return NlqsSurvey;\n}(Survey_1.Survey));\n(function (NlqsSurvey) {\n    /**\n     * Data required for a Nlqs Survey\n     */\n    var NlqsSurveyData = /** @class */ (function () {\n        function NlqsSurveyData() {\n        }\n        return NlqsSurveyData;\n    }());\n    NlqsSurvey.NlqsSurveyData = NlqsSurveyData;\n})(NlqsSurvey || (NlqsSurvey = {}));\nmodule.exports = NlqsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvTmxxc1N1cnZleS50cz9jZjU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRUEsb0dBQTBDO0FBSTFDLHlKQUF5RTtBQUN6RSxzSkFBdUU7QUFDdkUsc0pBQXVFO0FBQ3ZFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBcUIsS0FBSyxNQUExQixFQUFFLGNBQWMsR0FBSyxLQUFLLGVBQVYsQ0FBVztBQUV4QztJQUF5Qiw4QkFBTTtJQXNFOUIsb0JBQW9CLElBQStCO1FBQW5ELFlBQ0MsaUJBQU8sU0FTUDtRQVJBLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUVELEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkQsS0FBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzs7SUFDcEQsQ0FBQztJQS9FYSxlQUFJLEdBQWxCLFVBQW1CLElBQStCO1FBQ2pELElBQUk7WUFDSCxPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVhLG1CQUFRLEdBQXRCLFVBQXVCLFFBQStDLEVBQUUsRUFBNEIsRUFDbkcsV0FBbUM7UUFFbkMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFD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QUM7UUFFN0UsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBQ0YsaUJBQUM7QUFBRCxDQUFDLENBaEt3QixlQUFNLEdBZ0s5QjtBQUVELFdBQU8sVUFBVTtJQUNoQjs7T0FFRztJQUNIO1FBQUE7UUFLQSxDQUFDO1FBQUQscUJBQUM7SUFBRCxDQUFDO0lBTFkseUJBQWMsaUJBSzFCO0FBQ0YsQ0FBQyxFQVZNLFVBQVUsS0FBVixVQUFVLFFBVWhCO0FBRUQsaUJBQVMsVUFBVSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9ObHFzU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElObHFzU3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JTmxxc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UsIG92ZXJyaWRlVmFsdWVzIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIE5scXNTdXJ2ZXkgZXh0ZW5kcyBTdXJ2ZXkgaW1wbGVtZW50cyBJTmxxc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IE5scXNTdXJ2ZXkuTmxxc1N1cnZleURhdGEpOiBJTmxxc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IE5scXNTdXJ2ZXkoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtYWtlTmxxcyhiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSwgc3A6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdHN1cnZleU1vZGVsOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlKTogSU5scXNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBjb250ZW50OiBDYW1wYWlnblN1cnZleUNvbnRlbnQgPSBzdXJ2ZXlNb2RlbC5jb250ZW50O1xyXG5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmNvbW1lbnQpXHJcblx0XHRcdHx8IGlzTk9VKGNvbnRlbnQucHJvbXB0KSB8fCBpc05PVShjb250ZW50LnJhdGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTmxxc1N1cnZleS5ObHFzU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhID0gbmV3IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEgPSBuZXcgQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSgpO1xyXG5cclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC50aXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0Lnllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0Lm5vTGFiZWwpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucmF0aW5nLnF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5pc1plcm9CYXNlZCA9IGNvbnRlbnQucmF0aW5nLmlzWmVyb0Jhc2VkO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmNvbW1lbnQucXVlc3Rpb24pO1xyXG5cclxuXHRcdGZvciAoY29uc3QgdmFsdWUgb2YgY29udGVudC5yYXRpbmcucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSB7XHJcblx0XHRcdGNvbnN0IGN1c3RvbVN0cmluZzogc3RyaW5nID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGlmIChpc05PVShjdXN0b21TdHJpbmcpKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZy5wdXNoKGN1c3RvbVN0cmluZyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHJcblx0XHRpZiAoaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEudGl0bGUpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbilcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbClcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblx0cHJpdmF0ZSBxdWVzdGlvbjogQ29tbWVudENvbXBvbmVudDtcclxuXHRwcml2YXRlIHByb21wdDogUHJvbXB0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcmF0aW5nOiBSYXRpbmdDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogTmxxc1N1cnZleS5ObHFzU3VydmV5RGF0YSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdGlmIChpc05PVShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXlJbmZvID0gbmV3IFN1cnZleURhdGFTb3VyY2UoZGF0YS5iYXNlRGF0YSk7XHJcblx0XHR0aGlzLnByb21wdCA9IG5ldyBQcm9tcHRDb21wb25lbnQoZGF0YS5wcm9tcHREYXRhKTtcclxuXHRcdHRoaXMucXVlc3Rpb24gPSBuZXcgQ29tbWVudENvbXBvbmVudChkYXRhLmNvbW1lbnREYXRhKTtcclxuXHRcdHRoaXMucmF0aW5nID0gbmV3IFJhdGluZ0NvbXBvbmVudChkYXRhLnJhdGluZ0RhdGEpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuTmxxcztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdXJ2ZXlJbmZvKCk6IElTdXJ2ZXlJbmZvIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleUluZm87XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tbWVudENvbXBvbmVudCgpOiBDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnF1ZXN0aW9uO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFByb21wdENvbXBvbmVudCgpOiBQcm9tcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvbXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFJhdGluZ0NvbXBvbmVudCgpOiBSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucmF0aW5nO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHN3aXRjaCAoY29tcG9uZW50VHlwZSkge1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Db21tZW50OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuUHJvbXB0OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldFByb21wdENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCk7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoaXNOT1UoZG9jKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5LkRPTV9OTFFTX1RBR05BTUUpO1xyXG5cclxuXHRcdHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRpZiAoIWlzTk9VKGNoaWxkKSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGxldCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdCA9IG92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cdFx0cmVzdWx0ID0gb3ZlcnJpZGVWYWx1ZXModGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0SnNvbkVsZW1lbnRzKCksIHJlc3VsdCk7XHJcblx0XHRyZXN1bHQgPSBvdmVycmlkZVZhbHVlcyh0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgTmxxc1N1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBObHFzIFN1cnZleVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBjbGFzcyBObHFzU3VydmV5RGF0YSB7XHJcblx0XHRwdWJsaWMgYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGE7XHJcblx0XHRwdWJsaWMgY29tbWVudERhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcHJvbXB0RGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcmF0aW5nRGF0YTogUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGE7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBObHFzU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/NlqsSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/NpsSurvey.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/NpsSurvey.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\");\nvar CVSurveyComponent = __webpack_require__(/*! ../SurveyComponents/CVSurveyComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js\");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ \"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU, overrideValues = Utils.overrideValues;\nvar NpsSurvey = /** @class */ (function (_super) {\n    __extends(NpsSurvey, _super);\n    function NpsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = new CommentComponent(data.commentData);\n        _this.rating = new RatingComponent(data.ratingData);\n        _this.cvSurvey = data.cvSurveyData ? (new CVSurveyComponent(data.cvSurveyData)) : null;\n        return _this;\n    }\n    NpsSurvey.make = function (data) {\n        try {\n            return new NpsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    NpsSurvey.makeCustom = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var content = surveyModel.content;\n        if (isNOU(content) || isNOU(content.comment)\n            || isNOU(content.prompt) || isNOU(content.rating)) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        data.ratingData.question = sp.getCustomString(content.rating.question);\n        data.ratingData.isZeroBased = content.rating.isZeroBased;\n        data.commentData.question = sp.getCustomString(content.comment.question);\n        for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var customString = sp.getCustomString(value);\n            if (isNOU(customString)) {\n                return null;\n            }\n            ratingValuesAscending.push(customString);\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        if (isNOU(data.ratingData.question)\n            || isNOU(data.commentData.question)\n            || isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)\n            || isNOU(data.ratingData.ratingValuesAscending)) {\n            return null;\n        }\n        // cvsurvey data is not required on all surveys.\n        if (content.cvSurvey) {\n            data.cvSurveyData = new CVSurveyComponent.CVSurveyComponentData();\n            data.cvSurveyData.customerVoiceFormId = content.cvSurvey.customerVoiceFormId;\n            if (isNOU(data.cvSurveyData.customerVoiceFormId)) {\n                return null;\n            }\n        }\n        return this.make(data);\n    };\n    NpsSurvey.make5Point = function (baseData, sp) {\n        if (!baseData || !sp) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.ratingData.isZeroBased = false;\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData.question = sp.loadStringResource(4 /* NpsRatingQuestion */);\n        data.commentData.question = sp.loadStringResource(21 /* NpsCommentQuestion */);\n        data.promptData.title = sp.loadStringResource(0 /* NpsPromptTitle */);\n        data.promptData.question = sp.loadStringResource(1 /* NpsPromptQuestion */);\n        data.promptData.yesButtonLabel = sp.loadStringResource(2 /* NpsPromptYesLabel */);\n        data.promptData.noButtonLabel = sp.loadStringResource(3 /* NpsPromptNotNowLabel */);\n        var ratingValuesAscending = new Array(5);\n        ratingValuesAscending[0] = sp.loadStringResource(16 /* Nps5RatingValue1 */);\n        ratingValuesAscending[1] = sp.loadStringResource(17 /* Nps5RatingValue2 */);\n        ratingValuesAscending[2] = sp.loadStringResource(18 /* Nps5RatingValue3 */);\n        ratingValuesAscending[3] = sp.loadStringResource(19 /* Nps5RatingValue4 */);\n        ratingValuesAscending[4] = sp.loadStringResource(20 /* Nps5RatingValue5 */);\n        if (!data.ratingData.question\n            || !data.commentData.question\n            || !data.promptData.title\n            || !data.promptData.question\n            || !data.promptData.yesButtonLabel\n            || !data.promptData.noButtonLabel\n            || !ratingValuesAscending[0]\n            || !ratingValuesAscending[1]\n            || !ratingValuesAscending[2]\n            || !ratingValuesAscending[3]\n            || !ratingValuesAscending[4]) {\n            return null;\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        return this.make(data);\n    };\n    NpsSurvey.make11Point = function (baseData, sp) {\n        if (!baseData || !sp) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.ratingData.isZeroBased = true;\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData.question = sp.loadStringResource(4 /* NpsRatingQuestion */);\n        data.commentData.question = sp.loadStringResource(21 /* NpsCommentQuestion */);\n        data.promptData.title = sp.loadStringResource(0 /* NpsPromptTitle */);\n        data.promptData.question = sp.loadStringResource(1 /* NpsPromptQuestion */);\n        data.promptData.yesButtonLabel = sp.loadStringResource(2 /* NpsPromptYesLabel */);\n        data.promptData.noButtonLabel = sp.loadStringResource(3 /* NpsPromptNotNowLabel */);\n        var ratingValuesAscending = new Array(11);\n        ratingValuesAscending[0] = sp.loadStringResource(5 /* Nps11RatingValue0 */);\n        ratingValuesAscending[1] = sp.loadStringResource(6 /* Nps11RatingValue1 */);\n        ratingValuesAscending[2] = sp.loadStringResource(7 /* Nps11RatingValue2 */);\n        ratingValuesAscending[3] = sp.loadStringResource(8 /* Nps11RatingValue3 */);\n        ratingValuesAscending[4] = sp.loadStringResource(9 /* Nps11RatingValue4 */);\n        ratingValuesAscending[5] = sp.loadStringResource(10 /* Nps11RatingValue5 */);\n        ratingValuesAscending[6] = sp.loadStringResource(11 /* Nps11RatingValue6 */);\n        ratingValuesAscending[7] = sp.loadStringResource(12 /* Nps11RatingValue7 */);\n        ratingValuesAscending[8] = sp.loadStringResource(13 /* Nps11RatingValue8 */);\n        ratingValuesAscending[9] = sp.loadStringResource(14 /* Nps11RatingValue9 */);\n        ratingValuesAscending[10] = sp.loadStringResource(15 /* Nps11RatingValue10 */);\n        if (!data.ratingData.question\n            || !data.commentData.question\n            || !data.promptData.title\n            || !data.promptData.question\n            || !data.promptData.yesButtonLabel\n            || !data.promptData.noButtonLabel\n            || !ratingValuesAscending[0]\n            || !ratingValuesAscending[1]\n            || !ratingValuesAscending[2]\n            || !ratingValuesAscending[3]\n            || !ratingValuesAscending[4]\n            || !ratingValuesAscending[5]\n            || !ratingValuesAscending[6]\n            || !ratingValuesAscending[7]\n            || !ratingValuesAscending[8]\n            || !ratingValuesAscending[9]\n            || !ratingValuesAscending[10]) {\n            return null;\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        return this.make(data);\n    };\n    // @Override\n    NpsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Nps;\n    };\n    // @Override\n    NpsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    NpsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    NpsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    NpsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    NpsSurvey.prototype.getCVSurveyComponent = function () {\n        return this.cvSurvey;\n    };\n    // @Override\n    NpsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case \"Comment\" /* Comment */:\n                return this.getCommentComponent();\n            case \"Prompt\" /* Prompt */:\n                return this.getPromptComponent();\n            case \"Rating\" /* Rating */:\n                return this.getRatingComponent();\n            case \"CVSurvey\" /* CVSurvey */:\n                return this.getCVSurveyComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    NpsSurvey.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurvey.DOM_NPS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        return [element];\n    };\n    // @Override\n    NpsSurvey.prototype.getJsonElements = function () {\n        var _a;\n        var result = {};\n        result = overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result = overrideValues(this.getCommentComponent().getJsonElements(), result);\n        result = overrideValues(this.getRatingComponent().getJsonElements(), result);\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME] = {};\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME][ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME] =\n            JSON.stringify((_a = {}, _a[ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME] = this.makeSurveyStrings(), _a));\n        return result;\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    NpsSurvey.prototype.makeSurveyStrings = function () {\n        var actualStrings = {};\n        if (this.prompt) {\n            actualStrings[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.prompt.getComponentJson();\n        }\n        if (this.rating) {\n            actualStrings[ISurveyComponent.JSON_RATING_KEYNAME] = [this.rating.getComponentJson()];\n        }\n        if (this.question) {\n            actualStrings[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.question.getComponentJson()];\n        }\n        return JSON.stringify(actualStrings);\n    };\n    return NpsSurvey;\n}(Survey_1.Survey));\n(function (NpsSurvey) {\n    /**\n     * Data required for a Nps Survey\n     */\n    var NpsSurveyData = /** @class */ (function () {\n        function NpsSurveyData() {\n        }\n        return NpsSurveyData;\n    }());\n    NpsSurvey.NpsSurveyData = NpsSurveyData;\n})(NpsSurvey || (NpsSurvey = {}));\nmodule.exports = NpsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvTnBzU3VydmV5LnRzPzQ5YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFDMUMsK0hBQTREO0FBRzVELHlKQUF5RTtBQUN6RSw0SkFBMkU7QUFDM0Usc0pBQXVFO0FBQ3ZFLHNKQUF1RTtBQUN2RSxzRkFBa0M7QUFDbEMsa0dBQWtDO0FBQ2xDLDhIQUF1RDtBQUUvQyxTQUFLLEdBQXFCLEtBQUssTUFBMUIsRUFBRSxjQUFjLEdBQUssS0FBSyxlQUFWLENBQVc7QUFFeEM7SUFBd0IsNkJBQU07SUFvTDdCLG1CQUFvQixJQUE2QjtRQUFqRCxZQUNDLGlCQUFPLFNBVVA7UUFUQSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxLQUFJLENBQUMsUUFBUSxHQUFHLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3ZELEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7O0lBQ3ZGLENBQUM7SUE5TGEsY0FBSSxHQUFsQixVQUFtQixJQUE2QjtRQUMvQyxJQUFJO1lBQ0gsT0FBTyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztT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QkFBZ0IsQ0FBQyxpQ0FBaUMsQ0FBQztZQUNwRyxJQUFJLENBQUMsU0FBUyxXQUFFLEdBQUMsZ0JBQWdCLENBQUMsMEJBQTBCLElBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE1BQUUsQ0FBQztRQUUzRixPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCx1RkFBdUY7SUFDL0UscUNBQWlCLEdBQXpCO1FBQ0MsSUFBTSxhQUFhLEdBQVcsRUFBRSxDQUFDO1FBRWpDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNoQixhQUFhLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7U0FDckY7UUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsYUFBYSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQztTQUN2RjtRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixhQUFhLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1NBQzFGO1FBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFDRixnQkFBQztBQUFELENBQUMsQ0E3U3VCLGVBQU0sR0E2UzdCO0FBRUQsV0FBTyxTQUFTO0lBQ2Y7O09BRUc7SUFDSDtRQUFBO1FBTUEsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQU5ZLHVCQUFhLGdCQU16QjtBQUNGLENBQUMsRUFYTSxTQUFTLEtBQVQsU0FBUyxRQVdmO0FBRUQsaUJBQVMsU0FBUyxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9OcHNTdXJ2ZXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSU5wc1N1cnZleSB9IGZyb20gXCIuLi9BcGkvSU5wc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBDVlN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9DVlN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UsIG92ZXJyaWRlVmFsdWVzIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIE5wc1N1cnZleSBleHRlbmRzIFN1cnZleSBpbXBsZW1lbnRzIElOcHNTdXJ2ZXkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBOcHNTdXJ2ZXkuTnBzU3VydmV5RGF0YSk6IElOcHNTdXJ2ZXkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBOcHNTdXJ2ZXkoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtYWtlQ3VzdG9tKGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhLCBzcDogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLFxyXG5cdFx0c3VydmV5TW9kZWw6IENhbXBhaWduU3VydmV5VGVtcGxhdGUpOiBJTnBzU3VydmV5IHtcclxuXHJcblx0XHRpZiAoaXNOT1UoYmFzZURhdGEpIHx8IGlzTk9VKHNwKSB8fCBpc05PVShzdXJ2ZXlNb2RlbCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmF0aW5nVmFsdWVzQXNjZW5kaW5nOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Y29uc3QgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50ID0gc3VydmV5TW9kZWwuY29udGVudDtcclxuXHJcblx0XHRpZiAoaXNOT1UoY29udGVudCkgfHwgaXNOT1UoY29udGVudC5jb21tZW50KVxyXG5cdFx0XHR8fCBpc05PVShjb250ZW50LnByb21wdCkgfHwgaXNOT1UoY29udGVudC5yYXRpbmcpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKCk7XHJcblx0XHRkYXRhLmJhc2VEYXRhID0gYmFzZURhdGE7XHJcblx0XHRkYXRhLnByb21wdERhdGEgPSBuZXcgUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YSA9IG5ldyBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhKCk7XHJcblxyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnRpdGxlID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0LnRpdGxlKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC5xdWVzdGlvbik7XHJcblx0XHRkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQueWVzTGFiZWwpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWwgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQubm9MYWJlbCk7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5yYXRpbmcucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLmlzWmVyb0Jhc2VkID0gY29udGVudC5yYXRpbmcuaXNaZXJvQmFzZWQ7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQuY29tbWVudC5xdWVzdGlvbik7XHJcblxyXG5cdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiBjb250ZW50LnJhdGluZy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpIHtcclxuXHRcdFx0Y29uc3QgY3VzdG9tU3RyaW5nOiBzdHJpbmcgPSBzcC5nZXRDdXN0b21TdHJpbmcodmFsdWUpO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGN1c3RvbVN0cmluZykpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nLnB1c2goY3VzdG9tU3RyaW5nKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nID0gcmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cclxuXHRcdGlmIChpc05PVShkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS50aXRsZSlcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3ZzdXJ2ZXkgZGF0YSBpcyBub3QgcmVxdWlyZWQgb24gYWxsIHN1cnZleXMuXHJcblx0XHRpZiAoY29udGVudC5jdlN1cnZleSkge1xyXG5cdFx0XHRkYXRhLmN2U3VydmV5RGF0YSA9IG5ldyBDVlN1cnZleUNvbXBvbmVudC5DVlN1cnZleUNvbXBvbmVudERhdGEoKTtcclxuXHRcdFx0ZGF0YS5jdlN1cnZleURhdGEuY3VzdG9tZXJWb2ljZUZvcm1JZCA9ICBjb250ZW50LmN2U3VydmV5LmN1c3RvbWVyVm9pY2VGb3JtSWQ7XHJcblxyXG5cdFx0XHRpZiAoaXNOT1UoZGF0YS5jdlN1cnZleURhdGEuY3VzdG9tZXJWb2ljZUZvcm1JZCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2U1UG9pbnQoYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIpOiBJTnBzU3VydmV5IHtcclxuXHRcdGlmICghYmFzZURhdGEgfHwgIXNwKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTnBzU3VydmV5Lk5wc1N1cnZleURhdGEoKTtcclxuXHRcdGRhdGEuYmFzZURhdGEgPSBiYXNlRGF0YTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLmlzWmVyb0Jhc2VkID0gZmFsc2U7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YSA9IG5ldyBQcm9tcHRDb21wb25lbnQuUHJvbXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1JhdGluZ1F1ZXN0aW9uKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzQ29tbWVudFF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHRUaXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0UXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdE5vdE5vd0xhYmVsKTtcclxuXHRcdGNvbnN0IHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW10gPSBuZXcgQXJyYXkoNSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMV0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMik7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMl0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMyk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbM10gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlNCk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlNSk7XHJcblxyXG5cdFx0aWYgKCFkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEuY29tbWVudERhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS50aXRsZVxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uXHJcblx0XHRcdHx8ICFkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWxcclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMF1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzJdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbM11cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s0XSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2UxMVBvaW50KGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhLCBzcDogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyKTogSU5wc1N1cnZleSB7XHJcblx0XHRpZiAoIWJhc2VEYXRhIHx8ICFzcCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKCk7XHJcblx0XHRkYXRhLmJhc2VEYXRhID0gYmFzZURhdGE7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5pc1plcm9CYXNlZCA9IHRydWU7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YSA9IG5ldyBQcm9tcHRDb21wb25lbnQuUHJvbXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1JhdGluZ1F1ZXN0aW9uKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzQ29tbWVudFF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHRUaXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0UXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdE5vdE5vd0xhYmVsKTtcclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gbmV3IEFycmF5KDExKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1swXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlMCk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMV0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzJdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWUyKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1szXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlMyk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTQpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzVdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWU1KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s2XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlNik7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbN10gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTcpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzhdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWU4KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s5XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlOSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMTBdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWUxMCk7XHJcblxyXG5cdFx0aWYgKCFkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEuY29tbWVudERhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS50aXRsZVxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uXHJcblx0XHRcdHx8ICFkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWxcclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMF1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzJdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbM11cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s0XVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzVdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNl1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s3XVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzhdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbOV1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxMF0pIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEucmF0aW5nRGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcgPSByYXRpbmdWYWx1ZXNBc2NlbmRpbmc7XHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlKGRhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlJbmZvOiBTdXJ2ZXlEYXRhU291cmNlO1xyXG5cdHByaXZhdGUgcXVlc3Rpb246IENvbW1lbnRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSBwcm9tcHQ6IFByb21wdENvbXBvbmVudDtcclxuXHRwcml2YXRlIHJhdGluZzogUmF0aW5nQ29tcG9uZW50O1xyXG5cdHByaXZhdGUgY3ZTdXJ2ZXk6IENWU3VydmV5Q29tcG9uZW50O1xyXG5cclxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKGRhdGE6IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN1cnZleUluZm8gPSBuZXcgU3VydmV5RGF0YVNvdXJjZShkYXRhLmJhc2VEYXRhKTtcclxuXHRcdHRoaXMucHJvbXB0ID0gbmV3IFByb21wdENvbXBvbmVudChkYXRhLnByb21wdERhdGEpO1xyXG5cdFx0dGhpcy5xdWVzdGlvbiA9IG5ldyBDb21tZW50Q29tcG9uZW50KGRhdGEuY29tbWVudERhdGEpO1xyXG5cdFx0dGhpcy5yYXRpbmcgPSBuZXcgUmF0aW5nQ29tcG9uZW50KGRhdGEucmF0aW5nRGF0YSk7XHJcblx0XHR0aGlzLmN2U3VydmV5ID0gZGF0YS5jdlN1cnZleURhdGEgPyAobmV3IENWU3VydmV5Q29tcG9uZW50KGRhdGEuY3ZTdXJ2ZXlEYXRhKSkgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuTnBzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN1cnZleUluZm8oKTogSVN1cnZleUluZm8ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5SW5mbztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21tZW50Q29tcG9uZW50KCk6IENvbW1lbnRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJvbXB0Q29tcG9uZW50KCk6IFByb21wdENvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF0aW5nQ29tcG9uZW50KCk6IFJhdGluZ0NvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5yYXRpbmc7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTogQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3ZTdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50KGNvbXBvbmVudFR5cGU6IElTdXJ2ZXlDb21wb25lbnQuVHlwZSk6IElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0c3dpdGNoIChjb21wb25lbnRUeXBlKSB7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLkNvbW1lbnQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UHJvbXB0Q29tcG9uZW50KCk7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLlJhdGluZzpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ1ZTdXJ2ZXk6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmICghZG9jKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXkuRE9NX05QU19UQUdOQU1FKTtcclxuXHJcblx0XHR0aGlzLmdldFN1cnZleUluZm8oKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmIChjaGlsZCkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmIChjaGlsZCkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKGNoaWxkKSB7XHJcblx0XHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRsZXQgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRyZXN1bHQgPSBvdmVycmlkZVZhbHVlcyh0aGlzLmdldFN1cnZleUluZm8oKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHRcdHJlc3VsdCA9IG92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cdFx0cmVzdWx0ID0gb3ZlcnJpZGVWYWx1ZXModGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0FQUExJQ0FUSU9OX0tFWU5BTUVdID0ge307XHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0FQUExJQ0FUSU9OX0tFWU5BTUVdW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9FWFRFTkRFRE1BTklGRVNUREFUQV9LRVlOQU1FXSA9XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KHtbSVN1cnZleUNvbXBvbmVudC5KU09OX1NVUlZFWVNUUklOR1NfS0VZTkFNRV06IHRoaXMubWFrZVN1cnZleVN0cmluZ3MoKX0pO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBNYWtlcyB0aGUgc3RyaW5nIHRvIHNlbmQgdG8gTWFuaWZlc3QgcmVzcGVjdGluZyB0aGUgY29tcG9uZW50cyBwcmVzZW50IGluIHRoZSBzdXJ2ZXlcclxuXHRwcml2YXRlIG1ha2VTdXJ2ZXlTdHJpbmdzKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBhY3R1YWxTdHJpbmdzOiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAodGhpcy5wcm9tcHQpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUX0tFWU5BTUVdID0gdGhpcy5wcm9tcHQuZ2V0Q29tcG9uZW50SnNvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnJhdGluZykge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9SQVRJTkdfS0VZTkFNRV0gPSBbdGhpcy5yYXRpbmcuZ2V0Q29tcG9uZW50SnNvbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5xdWVzdGlvbikge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9DT01NRU5UX0tFWU5BTUVdID0gW3RoaXMucXVlc3Rpb24uZ2V0Q29tcG9uZW50SnNvbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYWN0dWFsU3RyaW5ncyk7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgTnBzU3VydmV5IHtcclxuXHQvKipcclxuXHQgKiBEYXRhIHJlcXVpcmVkIGZvciBhIE5wcyBTdXJ2ZXlcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgTnBzU3VydmV5RGF0YSB7XHJcblx0XHRwdWJsaWMgYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGE7XHJcblx0XHRwdWJsaWMgY29tbWVudERhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcHJvbXB0RGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcmF0aW5nRGF0YTogUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgY3ZTdXJ2ZXlEYXRhOiBDVlN1cnZleUNvbXBvbmVudC5DVlN1cnZleUNvbXBvbmVudERhdGE7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBOcHNTdXJ2ZXk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/NpsSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/Survey.js":
/*!***************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/Survey.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Survey = void 0;\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar Utils = __webpack_require__(/*! ./../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey = /** @class */ (function () {\n    function Survey() {\n    }\n    Survey.prototype.getCampaignId = function () {\n        return this.getSurveyInfo().getBackEndId();\n    };\n    Survey.prototype.getLauncherType = function () {\n        return this.getSurveyInfo().getLauncherType();\n    };\n    Survey.prototype.getClientFeedbackId = function () {\n        return this.clientFeedbackId;\n    };\n    Survey.prototype.submit = function () {\n        var surveyType = ISurvey.Type[this.getType()];\n        var transporter = FloodgateEngine_1.FloodgateEngine.getTransportFactory().makeTransporter(surveyType);\n        transporter.setManifestValues(this.getJsonElements());\n        this.clientFeedbackId = transporter.getClientFeedbackId();\n        transporter.submit();\n    };\n    Survey.prototype.getPreGeneratedClientFeedbackId = function () {\n        if (this.clientFeedbackId) {\n            return this.clientFeedbackId;\n        }\n        else {\n            return this.clientFeedbackId = Utils.guid();\n        }\n    };\n    return Survey;\n}());\nexports.Survey = Survey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvU3VydmV5LnRzPzZkZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0dBQTJDO0FBRzNDLHNIQUFxRDtBQUVyRCx3RkFBb0M7QUFFcEM7SUFBQTtJQXlDQSxDQUFDO0lBbkNPLDhCQUFhLEdBQXBCO1FBQ0MsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDNUMsQ0FBQztJQUVNLGdDQUFlLEdBQXRCO1FBQ0MsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDL0MsQ0FBQztJQUVNLG9DQUFtQixHQUExQjtRQUNDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQzlCLENBQUM7SUFFTSx1QkFBTSxHQUFiO1FBQ0MsSUFBTSxVQUFVLEdBQVcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUN4RCxJQUFNLFdBQVcsR0FBaUIsaUNBQWUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNwRyxXQUFXLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzFELFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRU0sZ0RBQStCLEdBQXRDO1FBQ0MsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7U0FDN0I7YUFBTTtZQUNOLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUM1QztJQUNGLENBQUM7SUFTRixhQUFDO0FBQUQsQ0FBQztBQXpDcUIsd0JBQU0iLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL1N1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJU3VydmV5ID0gcmVxdWlyZShcIi4uL0FwaS9JU3VydmV5XCIpO1xyXG5pbXBvcnQgSVN1cnZleUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiKTtcclxuaW1wb3J0IHsgSVRyYW5zcG9ydGVyIH0gZnJvbSBcIi4uL0FwaS9JVHJhbnNwb3J0ZXJcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdXJ2ZXkgaW1wbGVtZW50cyBJU3VydmV5IHtcclxuXHRwcml2YXRlIHN1cnZleTogSVN1cnZleTtcclxuXHRwcml2YXRlIGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50O1xyXG5cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdW5jaGVyVHlwZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldExhdW5jaGVyVHlwZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENsaWVudEZlZWRiYWNrSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3VibWl0KCkge1xyXG5cdFx0Y29uc3Qgc3VydmV5VHlwZTogc3RyaW5nID0gSVN1cnZleS5UeXBlW3RoaXMuZ2V0VHlwZSgpXTtcclxuXHRcdGNvbnN0IHRyYW5zcG9ydGVyOiBJVHJhbnNwb3J0ZXIgPSBGbG9vZGdhdGVFbmdpbmUuZ2V0VHJhbnNwb3J0RmFjdG9yeSgpLm1ha2VUcmFuc3BvcnRlcihzdXJ2ZXlUeXBlKTtcclxuXHRcdHRyYW5zcG9ydGVyLnNldE1hbmlmZXN0VmFsdWVzKHRoaXMuZ2V0SnNvbkVsZW1lbnRzKCkpO1xyXG5cdFx0dGhpcy5jbGllbnRGZWVkYmFja0lkID0gdHJhbnNwb3J0ZXIuZ2V0Q2xpZW50RmVlZGJhY2tJZCgpO1xyXG5cdFx0dHJhbnNwb3J0ZXIuc3VibWl0KCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJlR2VuZXJhdGVkQ2xpZW50RmVlZGJhY2tJZCgpOiBzdHJpbmcge1xyXG5cdFx0aWYgKHRoaXMuY2xpZW50RmVlZGJhY2tJZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jbGllbnRGZWVkYmFja0lkO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY2xpZW50RmVlZGJhY2tJZCA9IFV0aWxzLmd1aWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0Ly8gQWJzdHJhY3QgY2xhc3NlcyB0aGF0IGFyZSBpbXBsZW1lbnRlZCBieSBhY3R1YWwgU3VydmV5c1xyXG5cdHB1YmxpYyBhYnN0cmFjdCBnZXRUeXBlKCk6IElTdXJ2ZXkuVHlwZTtcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldFN1cnZleUluZm8oKTogSVN1cnZleUluZm87XHJcblxyXG5cdHB1YmxpYyBhYnN0cmFjdCBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0O1xyXG5cclxuXHRwdWJsaWMgYWJzdHJhY3QgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/Survey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js":
/*!*************************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/SurveyDataSource.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurvey = __webpack_require__(/*! ../../src/Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ../GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar ISurveyInfo = __webpack_require__(/*! ../ISurveyInfo */ \"../FloodgateCore/dist/src/ISurveyInfo.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar getDistantFuture = Utils.getDistantFuture, getDistantPast = Utils.getDistantPast, isNOU = Utils.isNOU, isDate = Utils.isDate;\nvar SurveyDataSource = /** @class */ (function () {\n    function SurveyDataSource(data) {\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        if (isNOU(data.id) || data.id === \"\") {\n            throw new Error(\"data.id must not be null or empty\");\n        }\n        if (isNOU(data.governedChannelType)) {\n            data.governedChannelType = GovernedChannel_1.GovernedChannelType.getDefault();\n        }\n        if (isNOU(data.expirationTimeUtc) || data.expirationTimeUtc === \"\") {\n            throw new Error(\"data.expirationTimeUtc must not be null or empty\");\n        }\n        if (isNOU(data.activationEvent)) {\n            throw new Error(\"data.activationEvent must not be null\");\n        }\n        if (isNOU(data.backEndIdentifier) || data.backEndIdentifier === \"\") {\n            data.backEndIdentifier = data.id;\n        }\n        if (isNOU(data.launcherType)) {\n            data.launcherType = ISurvey.LAUNCHER_TYPE_DEFAULT;\n        }\n        this.data = data;\n    }\n    // @Override\n    SurveyDataSource.prototype.getId = function () {\n        return this.data.id;\n    };\n    // @Override\n    SurveyDataSource.prototype.getBackEndId = function () {\n        return this.data.backEndIdentifier;\n    };\n    // @Override\n    SurveyDataSource.prototype.getGovernedChannelType = function () {\n        return this.data.governedChannelType;\n    };\n    // @Override\n    SurveyDataSource.prototype.getRawStartTimeUtc = function () {\n        return this.data.startTimeUtc;\n    };\n    // @Override\n    SurveyDataSource.prototype.getStartTimeUtc = function () {\n        if (isNOU(this.data.startTimeUtc)) {\n            return getDistantPast(); // Optional start date means the survey has started\n        }\n        var parsed = new Date(this.data.startTimeUtc);\n        if (!isDate(parsed)) {\n            return getDistantFuture(); // Badly specified start dates means the survey never starts\n        }\n        return parsed;\n    };\n    // @Override\n    SurveyDataSource.prototype.getExpirationTimeUtc = function () {\n        // Bad or missing expiration date means survey is always expired.\n        if (isNOU(this.data.expirationTimeUtc)) {\n            return getDistantPast();\n        }\n        var parsed = new Date(this.data.expirationTimeUtc);\n        if (!isDate(parsed)) {\n            return getDistantPast();\n        }\n        return parsed;\n    };\n    // @Override\n    SurveyDataSource.prototype.getRawExpirationTimeUtc = function () {\n        return this.data.expirationTimeUtc;\n    };\n    // @Override\n    SurveyDataSource.prototype.isActiveForDate = function (date) {\n        if (isNOU(date)) {\n            return false;\n        }\n        return (date >= this.getStartTimeUtc() && date <= this.getExpirationTimeUtc());\n    };\n    // @Override\n    SurveyDataSource.prototype.getActivationEvent = function () {\n        return this.data.activationEvent;\n    };\n    // @Override\n    SurveyDataSource.prototype.getPreferredLaunchType = function () {\n        return this.data.preferredLaunchType;\n    };\n    // @Override\n    SurveyDataSource.prototype.isAdditionalDataRequested = function (additionalDataToCheck) {\n        if (isNOU(this.data.additionalDataRequested)) {\n            return false;\n        }\n        for (var _i = 0, _a = this.data.additionalDataRequested; _i < _a.length; _i++) {\n            var additionalData = _a[_i];\n            if (additionalData === additionalDataToCheck) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // @Override\n    SurveyDataSource.prototype.getLauncherType = function () {\n        return this.data.launcherType;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMetadata = function () {\n        return this.data.metadata;\n    };\n    // @Override\n    SurveyDataSource.prototype.getBusinessLevel = function () {\n        return this.data.businessLevel;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMaxLaunches = function () {\n        return this.data.maxLaunches;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMaxLaunchesPerSession = function () {\n        return this.data.maxLaunchesPerSession;\n    };\n    // @Override\n    SurveyDataSource.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var typeElement = doc.createElement(ISurveyInfo.DOM_TYPE_TAGNAME);\n        typeElement.appendChild(doc.createTextNode(ISurveyInfo.DOM_TYPE_VALUE));\n        var idElement = doc.createElement(ISurveyInfo.DOM_ID_TAGNAME);\n        idElement.appendChild(doc.createTextNode(this.getBackEndId()));\n        return [typeElement, idElement];\n    };\n    // @Override\n    SurveyDataSource.prototype.getJsonElements = function () {\n        var surveyObject = {};\n        surveyObject[ISurveyInfo.JSON_ID_KEYNAME] = this.getBackEndId();\n        var result = {};\n        result[ISurveyInfo.JSON_SURVEY_KEYNAME] = surveyObject;\n        return result;\n    };\n    return SurveyDataSource;\n}());\n(function (SurveyDataSource) {\n    /**\n     * Basic data needed for all Surveys\n     */\n    var SurveyDataSourceData = /** @class */ (function () {\n        function SurveyDataSourceData() {\n            this.preferredLaunchType = \"Default\" /* Default */;\n        }\n        return SurveyDataSourceData;\n    }());\n    SurveyDataSource.SurveyDataSourceData = SurveyDataSourceData;\n})(SurveyDataSource || (SurveyDataSource = {}));\nmodule.exports = SurveyDataSource;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvU3VydmV5RGF0YVNvdXJjZS50cz84MzQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwyR0FBaUQ7QUFDakQsc0hBQXlEO0FBRXpELHdHQUE4QztBQUc5QyxzRkFBa0M7QUFFMUIsb0JBQWdCLEdBQW9DLEtBQUssaUJBQXpDLEVBQUUsY0FBYyxHQUFvQixLQUFLLGVBQXpCLEVBQUUsS0FBSyxHQUFhLEtBQUssTUFBbEIsRUFBRSxNQUFNLEdBQUssS0FBSyxPQUFWLENBQVc7QUFFbEU7SUFHQywwQkFBbUIsSUFBMkM7UUFDN0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3JDLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxxQ0FBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUM1RDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxFQUFFLEVBQUU7WUFDbkUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO1NBQ3BFO1FBQ0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUN6RDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxFQUFFLEVBQUU7WUFDbkUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7U0FDakM7UUFDRCxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUM7U0FDbEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRUQsWUFBWTtJQUNMLGdDQUFLLEdBQVo7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxZQUFZO0lBQ0wsdUNBQVksR0FBbkI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDcEMsQ0FBQztJQUVELFlBQVk7SUFDTCxpREFBc0IsR0FBN0I7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7SUFDdEMsQ0FBQztJQUVELFlBQVk7SUFDTCw2Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQy9CLENBQUM7SUFFRCxZQUFZO0lBQ0wsMENBQWUsR0FBdEI7UUFDQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ2xDLE9BQU8sY0FBYyxFQUFFLENBQUMsQ0FBQyxtREFBbUQ7U0FDNUU7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDcEIsT0FBTyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsNERBQTREO1NBQ3ZGO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLCtDQUFvQixHQUEzQjtRQUNDLGlFQUFpRTtRQUVqRSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFDdkMsT0FBTyxjQUFjLEVBQUUsQ0FBQztTQUN4QjtRQUVELElBQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3BCLE9BQU8sY0FBYyxFQUFFLENBQUM7U0FDeEI7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCxZQUFZO0lBQ0wsa0RBQXVCLEdBQTlCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ3BDLENBQUM7SUFFRCxZQUFZO0lBQ0wsMENBQWUsR0FBdEIsVUFBdUIsSUFBVTtRQUNoQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNoQixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVELFlBQVk7SUFDTCw2Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxZQUFZO0lBQ0wsaURBQXNCLEdBQTdCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ3RDLENBQUM7SUFFRCxZQUFZO0lBQ0wsb0RBQXlCLEdBQWhDLFVBQWlDLHFCQUFxRDtRQUNyRixJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEVBQUU7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUNELEtBQTZCLFVBQWlDLEVBQWpDLFNBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQWpDLGNBQWlDLEVBQWpDLElBQWlDLEVBQUU7WUFBM0QsSUFBTSxjQUFjO1lBQ3hCLElBQUksY0FBYyxLQUFLLHFCQUFxQixFQUFFO2dCQUM3QyxPQUFPLElBQUksQ0FBQzthQUNaO1NBQ0Q7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFFRCxZQUFZO0lBQ0wsMENBQWUsR0FBdEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQy9CLENBQUM7SUFFRCxZQUFZO0lBQ0wsc0NBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQzNCLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWdCLEdBQXZCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoQyxDQUFDO0lBRUQsWUFBWTtJQUNMLHlDQUFjLEdBQXJCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM5QixDQUFDO0lBRUQsWUFBWTtJQUNMLG1EQUF3QixHQUEvQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN4QyxDQUFDO0lBRUQsWUFBWTtJQUNMLHlDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUVELElBQU0sV0FBVyxHQUFZLEdBQUcsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDN0UsV0FBVyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBRXhFLElBQU0sU0FBUyxHQUFZLEdBQUcsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3pFLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRS9ELE9BQU8sQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7SUFDTCwwQ0FBZSxHQUF0QjtRQUNDLElBQU0sWUFBWSxHQUFXLEVBQUUsQ0FBQztRQUNoQyxZQUFZLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUVoRSxJQUFNLE1BQU0sR0FBVyxFQUFFLENBQUM7UUFDMUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLFlBQVksQ0FBQztRQUV2RCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFDRix1QkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGdCQUFnQjtJQUN0Qjs7T0FFRztJQUNIO1FBQUE7WUFPUSx3QkFBbUIsMkJBQTBEO1FBUXJGLENBQUM7UUFBRCwyQkFBQztJQUFELENBQUM7SUFmWSxxQ0FBb0IsdUJBZWhDO0FBQ0YsQ0FBQyxFQXBCTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBb0J0QjtBQUVELGlCQUFTLGdCQUFnQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9TdXJ2ZXlEYXRhU291cmNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vLi4vc3JjL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiLi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi4vSVN1cnZleUV2ZW50XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgeyBCdXNpbmVzc0xldmVsIH0gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuLi9JU3VydmV5TWV0YWRhdGFcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5jb25zdCB7IGdldERpc3RhbnRGdXR1cmUsIGdldERpc3RhbnRQYXN0LCBpc05PVSwgaXNEYXRlIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIFN1cnZleURhdGFTb3VyY2UgaW1wbGVtZW50cyBJU3VydmV5SW5mbyB7XHJcblx0cHJpdmF0ZSBkYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSkge1xyXG5cdFx0aWYgKGlzTk9VKGRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmIChpc05PVShkYXRhLmlkKSB8fCBkYXRhLmlkID09PSBcIlwiKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuaWQgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmIChpc05PVShkYXRhLmdvdmVybmVkQ2hhbm5lbFR5cGUpKSB7XHJcblx0XHRcdGRhdGEuZ292ZXJuZWRDaGFubmVsVHlwZSA9IEdvdmVybmVkQ2hhbm5lbFR5cGUuZ2V0RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuZXhwaXJhdGlvblRpbWVVdGMpIHx8IGRhdGEuZXhwaXJhdGlvblRpbWVVdGMgPT09IFwiXCIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5leHBpcmF0aW9uVGltZVV0YyBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuYWN0aXZhdGlvbkV2ZW50KSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLmFjdGl2YXRpb25FdmVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuYmFja0VuZElkZW50aWZpZXIpIHx8IGRhdGEuYmFja0VuZElkZW50aWZpZXIgPT09IFwiXCIpIHtcclxuXHRcdFx0ZGF0YS5iYWNrRW5kSWRlbnRpZmllciA9IGRhdGEuaWQ7XHJcblx0XHR9XHJcblx0XHRpZiAoaXNOT1UoZGF0YS5sYXVuY2hlclR5cGUpKSB7XHJcblx0XHRcdGRhdGEubGF1bmNoZXJUeXBlID0gSVN1cnZleS5MQVVOQ0hFUl9UWVBFX0RFRkFVTFQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5pZDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRCYWNrRW5kSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYmFja0VuZElkZW50aWZpZXI7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuZ292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRSYXdTdGFydFRpbWVVdGMoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuc3RhcnRUaW1lVXRjO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN0YXJ0VGltZVV0YygpOiBEYXRlIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmRhdGEuc3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0RGlzdGFudFBhc3QoKTsgLy8gT3B0aW9uYWwgc3RhcnQgZGF0ZSBtZWFucyB0aGUgc3VydmV5IGhhcyBzdGFydGVkXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcGFyc2VkID0gbmV3IERhdGUodGhpcy5kYXRhLnN0YXJ0VGltZVV0Yyk7XHJcblx0XHRpZiAoIWlzRGF0ZShwYXJzZWQpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50RnV0dXJlKCk7IC8vIEJhZGx5IHNwZWNpZmllZCBzdGFydCBkYXRlcyBtZWFucyB0aGUgc3VydmV5IG5ldmVyIHN0YXJ0c1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYXJzZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTogRGF0ZSB7XHJcblx0XHQvLyBCYWQgb3IgbWlzc2luZyBleHBpcmF0aW9uIGRhdGUgbWVhbnMgc3VydmV5IGlzIGFsd2F5cyBleHBpcmVkLlxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmRhdGEuZXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHBhcnNlZCA9IG5ldyBEYXRlKHRoaXMuZGF0YS5leHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHRpZiAoIWlzRGF0ZShwYXJzZWQpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYXJzZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF3RXhwaXJhdGlvblRpbWVVdGMoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuZXhwaXJhdGlvblRpbWVVdGM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNBY3RpdmVGb3JEYXRlKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkYXRlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChkYXRlID49IHRoaXMuZ2V0U3RhcnRUaW1lVXRjKCkgJiYgZGF0ZSA8PSB0aGlzLmdldEV4cGlyYXRpb25UaW1lVXRjKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEFjdGl2YXRpb25FdmVudCgpOiBJU3VydmV5RXZlbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5hY3RpdmF0aW9uRXZlbnQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJlZmVycmVkTGF1bmNoVHlwZSgpOiBJU3VydmV5SW5mby5MYXVuY2hUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucHJlZmVycmVkTGF1bmNoVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0FkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKGFkZGl0aW9uYWxEYXRhVG9DaGVjazogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5kYXRhLmFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRmb3IgKGNvbnN0IGFkZGl0aW9uYWxEYXRhIG9mIHRoaXMuZGF0YS5hZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCkge1xyXG5cdFx0XHRpZiAoYWRkaXRpb25hbERhdGEgPT09IGFkZGl0aW9uYWxEYXRhVG9DaGVjaykge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0TGF1bmNoZXJUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmxhdW5jaGVyVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRNZXRhZGF0YSgpOiBJU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5tZXRhZGF0YTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRCdXNpbmVzc0xldmVsKCk6IEJ1c2luZXNzTGV2ZWwge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5idXNpbmVzc0xldmVsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldE1heExhdW5jaGVzKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1heExhdW5jaGVzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldE1heExhdW5jaGVzUGVyU2Vzc2lvbigpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5tYXhMYXVuY2hlc1BlclNlc3Npb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHR5cGVFbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUluZm8uRE9NX1RZUEVfVEFHTkFNRSk7XHJcblx0XHR0eXBlRWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoSVN1cnZleUluZm8uRE9NX1RZUEVfVkFMVUUpKTtcclxuXHJcblx0XHRjb25zdCBpZEVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5SW5mby5ET01fSURfVEFHTkFNRSk7XHJcblx0XHRpZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHRoaXMuZ2V0QmFja0VuZElkKCkpKTtcclxuXHJcblx0XHRyZXR1cm4gW3R5cGVFbGVtZW50LCBpZEVsZW1lbnRdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0Y29uc3Qgc3VydmV5T2JqZWN0OiBvYmplY3QgPSB7fTtcclxuXHRcdHN1cnZleU9iamVjdFtJU3VydmV5SW5mby5KU09OX0lEX0tFWU5BTUVdID0gdGhpcy5nZXRCYWNrRW5kSWQoKTtcclxuXHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlJbmZvLkpTT05fU1VSVkVZX0tFWU5BTUVdID0gc3VydmV5T2JqZWN0O1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgU3VydmV5RGF0YVNvdXJjZSB7XHJcblx0LyoqXHJcblx0ICogQmFzaWMgZGF0YSBuZWVkZWQgZm9yIGFsbCBTdXJ2ZXlzXHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIFN1cnZleURhdGFTb3VyY2VEYXRhIHtcclxuXHRcdHB1YmxpYyBpZDogc3RyaW5nO1xyXG5cdFx0cHVibGljIGJhY2tFbmRJZGVudGlmaWVyOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHRcdHB1YmxpYyBzdGFydFRpbWVVdGM6IHN0cmluZztcclxuXHRcdHB1YmxpYyBleHBpcmF0aW9uVGltZVV0Yzogc3RyaW5nO1xyXG5cdFx0cHVibGljIGFjdGl2YXRpb25FdmVudDogSVN1cnZleUV2ZW50O1xyXG5cdFx0cHVibGljIHByZWZlcnJlZExhdW5jaFR5cGU6IElTdXJ2ZXlJbmZvLkxhdW5jaFR5cGUgPSBJU3VydmV5SW5mby5MYXVuY2hUeXBlLkRlZmF1bHQ7XHJcblx0XHRwdWJsaWMgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQ6IElTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZVtdO1xyXG5cdFx0cHVibGljIGxhdW5jaGVyVHlwZTogc3RyaW5nO1xyXG5cdFx0cHVibGljIG1ldGFkYXRhOiBJU3VydmV5TWV0YWRhdGE7XHJcblxyXG5cdFx0cHVibGljIGJ1c2luZXNzTGV2ZWw6IEJ1c2luZXNzTGV2ZWw7XHJcblx0XHRwdWJsaWMgbWF4TGF1bmNoZXM6IG51bWJlcjtcclxuXHRcdHB1YmxpYyBtYXhMYXVuY2hlc1BlclNlc3Npb246IG51bWJlcjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFN1cnZleURhdGFTb3VyY2U7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/UserFact/UserFact.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/UserFact/UserFact.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserFact = void 0;\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar isNOU = Utils.isNOU, isNumber = Utils.isNumber, isArray = Utils.isArray;\nvar commonComparatorTypes = [\n    0 /* Equal */,\n    1 /* NotEqual */,\n    2 /* GreaterThan */,\n    3 /* GreaterThanOrEqual */,\n    4 /* LessThan */,\n    5 /* LessThanOrEqual */,\n];\nvar UserFact = /** @class */ (function () {\n    function UserFact(input) {\n        this.input = input;\n    }\n    UserFact.deserialize = function (rawUserFactSpec) {\n        return this.validate(rawUserFactSpec) ? new UserFact(rawUserFactSpec) : null;\n    };\n    UserFact.validate = function (input) {\n        if (!input) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Input is null or undefined for user fact\");\n            return false;\n        }\n        // Values is used for type UserFactType.ListOfStrings\n        if (!input.Value && input.Values) {\n            input.Value = input.Values;\n        }\n        if (isNOU(input.Name) || isNOU(input.Type) || isNOU(input.Value)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Either of the required parameters Name: \" + input.Name + \", Type: \" + input.Type + \" or Value: \" + input.Value + \" are not provided for the user fact\");\n            return false;\n        }\n        if (!this.validateUserFactType(input.Type)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Invalid UserFactType value \" + input.Type + \" is provided for user fact\");\n            return false;\n        }\n        if (input.Type === 6 /* ListFile */) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Unsupported UserFactType value \" + input.Type + \" is provided for user fact\");\n            return false;\n        }\n        if (input.LatencyType && !this.validateLatencyType(input.LatencyType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Invalid LatencyType value \" + input.LatencyType + \" is provided for user fact of type \" + input.Type);\n            return false;\n        }\n        if (input.LatencyType && input.LatencyType !== 0 /* None */ && isNOU(input.LatencyDurationInSeconds)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"LatencyDurationInSeconds value \" + input.LatencyDurationInSeconds + \" is not provided for user fact of type \" + input.Type);\n            return false;\n        }\n        if (input.LatencyDurationInSeconds && !isNumber(input.LatencyDurationInSeconds)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Invalid LatencyDurationInSeconds value \" + input.LatencyDurationInSeconds + \" is provided for user fact of type \" + input.Type);\n            return false;\n        }\n        if (input.Type === 1 /* TimeIntervalInSeconds */ && isNOU(input.IntervalType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Required parameter intervalType is not provided for user fact of type \" + input.Type);\n            return false;\n        }\n        var supportedComparatorTypes = this.getComparatorTypes(input.Type);\n        if (input.Comparator && !isComparatorTypeSupported(input.Comparator, supportedComparatorTypes)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, \"Unsupported comparator type for user fact of type \" + input.Type);\n            return false;\n        }\n        return true;\n    };\n    UserFact.getComparatorTypes = function (userFactType) {\n        switch (userFactType) {\n            case 0 /* Boolean */:\n                return [0 /* Equal */, 1 /* NotEqual */];\n            case 4 /* String */:\n                return [0 /* Equal */,\n                    1 /* NotEqual */,\n                    6 /* In */,\n                    7 /* NotIn */,\n                    8 /* InverseIn */,\n                    9 /* InverseNotIn */];\n            case 5 /* ListOfStrings */:\n                return [6 /* In */, 7 /* NotIn */, 8 /* InverseIn */, 9 /* InverseNotIn */];\n            case 1 /* TimeIntervalInSeconds */:\n            case 2 /* DateTimeUTC */:\n            case 3 /* Number */:\n            case 6 /* ListFile */:\n                return commonComparatorTypes;\n            default:\n                assertNever(userFactType);\n        }\n        return commonComparatorTypes;\n    };\n    UserFact.validateLatencyType = function (latency) {\n        return (latency === 0 /* None */ ||\n            latency === 3 /* ClientIngestionDateTime */ ||\n            latency === 1 /* SourceDateTime */ ||\n            latency === 2 /* StorageDateTime */) ? true : assertNever(latency);\n    };\n    UserFact.validateUserFactType = function (factType) {\n        return (factType === 0 /* Boolean */ ||\n            factType === 2 /* DateTimeUTC */ ||\n            factType === 3 /* Number */ ||\n            factType === 4 /* String */ ||\n            factType === 1 /* TimeIntervalInSeconds */ ||\n            factType === 5 /* ListOfStrings */ ||\n            factType === 6 /* ListFile */) ? true : assertNever(factType);\n    };\n    UserFact.prototype.isAMatch = function (rawUserFact) {\n        if (!rawUserFact || !rawUserFact.userFactValue) {\n            return false;\n        }\n        if (!this.isLatencyAcceptable(rawUserFact)) {\n            return false;\n        }\n        try {\n            var factType = this.getType();\n            if (factType === 0 /* Boolean */) {\n                return compareBooleanValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 2 /* DateTimeUTC */) {\n                return compareDateTimeUTCValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 3 /* Number */) {\n                return compareNumberValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 4 /* String */) {\n                return compareStringValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 1 /* TimeIntervalInSeconds */) {\n                return compareTimeIntervalValues(this.getValue(), rawUserFact, this.getComparator(), this.getIntervalType());\n            }\n            else if (factType === 5 /* ListOfStrings */) {\n                return compareListValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, \"Unsupported type of user fact was provided \" + factType);\n                return false;\n            }\n        }\n        catch (error) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, error);\n            return false;\n        }\n    };\n    UserFact.prototype.getType = function () {\n        return this.input.Type;\n    };\n    UserFact.prototype.getName = function () {\n        return this.input.Name;\n    };\n    UserFact.prototype.getValue = function () {\n        return this.input.Value;\n    };\n    UserFact.prototype.getComparator = function () {\n        return this.input.Comparator || 0 /* Equal */;\n    };\n    UserFact.prototype.getLatencyType = function () {\n        return this.input.LatencyType || 0 /* None */;\n    };\n    UserFact.prototype.getLatencyDurationInSeconds = function () {\n        return this.input.LatencyDurationInSeconds;\n    };\n    UserFact.prototype.getIntervalType = function () {\n        return this.input.IntervalType;\n    };\n    UserFact.prototype.isLatencyAcceptable = function (rawUserFact) {\n        var factType = this.getType();\n        if (!isNOU(this.getLatencyDurationInSeconds()) &&\n            !evaluateFactCandidacy(this.getLatencyType(), this.getLatencyDurationInSeconds(), rawUserFact)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch, {\n                ErrorMessage: \"Latency duration not acceptable - { Name: \\\"\" + rawUserFact.userFactName + \"\\\" }\",\n                TimeMilliseconds: this.getLatencyDurationInSeconds(),\n                Type: \"\" + factType,\n            });\n            return false;\n        }\n        return true;\n    };\n    return UserFact;\n}());\nexports.UserFact = UserFact;\nfunction evaluateFactCandidacy(latencyType, latencyDurationInSeconds, userFact) {\n    var userFactTime;\n    switch (latencyType) {\n        case 0 /* None */:\n            break;\n        case 1 /* SourceDateTime */:\n            userFactTime = userFact.sourceDateTime;\n            break;\n        case 2 /* StorageDateTime */:\n            userFactTime = userFact.storageDateTime;\n            break;\n        case 3 /* ClientIngestionDateTime */:\n            userFactTime = userFact.clientIngestionDateTime;\n            break;\n        default:\n            assertNever(latencyType);\n    }\n    if (!isNOU(userFactTime)) {\n        var userFactTimeInMilliseconds = Date.parse(userFactTime);\n        var currentTimeInMilliseconds = Date.now();\n        return currentTimeInMilliseconds - userFactTimeInMilliseconds <= (latencyDurationInSeconds * 1000);\n    }\n    return true;\n}\nfunction compareBooleanValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInBoolean = JSON.parse(rawUserFact.userFactValue.toLowerCase());\n    return compareValues(!!userFactSpecValue, !!rawUserFactValueInBoolean, comparator);\n}\nfunction compareDateTimeUTCValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInMilliseconds = Date.parse(rawUserFact.userFactValue);\n    if (!isAValidNumber(rawUserFactValueInMilliseconds, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    var userFactSpecValueInMilliseconds = Date.parse(userFactSpecValue);\n    if (!isAValidNumber(userFactSpecValueInMilliseconds, userFactSpecValue, null, 2 /* DateTimeUTC */)) {\n        return false;\n    }\n    return compareValues(userFactSpecValueInMilliseconds, rawUserFactValueInMilliseconds, comparator);\n}\nfunction compareNumberValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInNumber = parseInt(rawUserFact.userFactValue, 10);\n    if (!isAValidNumber(rawUserFactValueInNumber, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    return compareValues(userFactSpecValue, rawUserFactValueInNumber, comparator);\n}\nfunction compareStringValues(userFactSpecValue, rawUserFact, comparator) {\n    return compareValues(userFactSpecValue.toLowerCase(), rawUserFact.userFactValue.toLowerCase(), comparator);\n}\nfunction compareTimeIntervalValues(userFactSpecValue, rawUserFact, comparator, intervalType) {\n    var rawUserFactValueInMilliseconds = Date.parse(rawUserFact.userFactValue);\n    if (!isAValidNumber(rawUserFactValueInMilliseconds, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    // Diff from now and users input date\n    // IntervalTo - Internval to current date from fact date (fact date is expected to be before current date)\n    // IntervalFrom - Interval from current date to fact date (fact date is expected to be after current date)\n    var currentTimeInMilliseconds = Date.now();\n    var currentDateDiff = intervalType === 0 /* IntervalTo */ ?\n        (currentTimeInMilliseconds - rawUserFactValueInMilliseconds) : (rawUserFactValueInMilliseconds - currentTimeInMilliseconds);\n    if (currentDateDiff < 0) {\n        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch, {\n            ErrorMessage: \"Interval type not acceptable - { Spec: \" + userFactSpecValue + \", Name: \\\"\" + rawUserFact.userFactName + \"\\\" }\",\n            TimeMilliseconds: currentDateDiff,\n            Type: \"\" + intervalType,\n        });\n        return false;\n    }\n    var dayInMilliseconds = 86400000;\n    var userFactSpecValueInMilliseconds = userFactSpecValue * dayInMilliseconds;\n    // check if the above diff satisfies the comparison criteria\n    return compareValues(userFactSpecValueInMilliseconds, currentDateDiff, comparator);\n}\nfunction compareListValues(userFactSpecValue, rawUserFact, comparator) {\n    return compareValues(userFactSpecValue, rawUserFact.userFactValue, comparator);\n}\nfunction isComparatorTypeSupported(comparator, supportedComparatorTypes) {\n    return supportedComparatorTypes.indexOf(comparator) !== -1;\n}\nfunction compareValues(userFactSpecValue, userFactRawValue, comparator) {\n    switch (comparator) {\n        case 0 /* Equal */:\n            return userFactRawValue === userFactSpecValue;\n        case 1 /* NotEqual */:\n            return userFactRawValue !== userFactSpecValue;\n        case 2 /* GreaterThan */:\n            return userFactRawValue > userFactSpecValue;\n        case 3 /* GreaterThanOrEqual */:\n            return userFactRawValue >= userFactSpecValue;\n        case 4 /* LessThan */:\n            return userFactRawValue < userFactSpecValue;\n        case 5 /* LessThanOrEqual */:\n            return userFactRawValue <= userFactSpecValue;\n        case 6 /* In */:\n            return isFactValueInTargetItem(userFactSpecValue, userFactRawValue);\n        case 7 /* NotIn */:\n            return !isFactValueInTargetItem(userFactSpecValue, userFactRawValue);\n        case 8 /* InverseIn */:\n            return isFactValueInTargetItem(userFactRawValue, userFactSpecValue);\n        case 9 /* InverseNotIn */:\n            return !isFactValueInTargetItem(userFactRawValue, userFactSpecValue);\n        default:\n            assertNever(comparator);\n    }\n}\nfunction assertNever(_) {\n    return false;\n}\nfunction isFactValueInTargetItem(userFactTargetValues, userFactRawValue) {\n    if (typeof userFactRawValue === \"string\") {\n        var factValue_1 = userFactRawValue.toLowerCase();\n        if (typeof userFactTargetValues === \"string\") {\n            // both the inputs are strings, do a plain indexOf\n            return userFactTargetValues.toLowerCase().indexOf(factValue_1) !== -1;\n        }\n        if (isArray(userFactTargetValues)) {\n            var specValues = userFactTargetValues;\n            return specValues.some(function (specValue) { return specValue && specValue.toString().toLowerCase() === factValue_1; });\n        }\n    }\n    if (isArray(userFactTargetValues)) {\n        return userFactTargetValues.indexOf(userFactRawValue) !== -1;\n    }\n    return false;\n}\nfunction isAValidNumber(numberValue, value, rawUserFactName, factType) {\n    if (!isNumber(numberValue)) {\n        var errorMessage = \"User fact \" + rawUserFactName + \" has invalid value \" + value;\n        if (factType) {\n            errorMessage = \"Invalid value \" + value + \" was provided for user fact of type \" + factType;\n        }\n        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, errorMessage);\n        return false;\n    }\n    return true;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1VzZXJGYWN0L1VzZXJGYWN0LnRzP2E4NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0dBQThDO0FBQzlDLHNIQUFxRDtBQUNyRCxzRkFBa0M7QUFJMUIsU0FBSyxHQUF3QixLQUFLLE1BQTdCLEVBQUUsUUFBUSxHQUFjLEtBQUssU0FBbkIsRUFBRSxPQUFPLEdBQUssS0FBSyxRQUFWLENBQVc7QUFDM0MsSUFBTSxxQkFBcUIsR0FBcUI7Ozs7Ozs7Q0FPL0MsQ0FBQztBQUVGO0lBOEhDLGtCQUFZLEtBQXFCO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUEvSGEsb0JBQVcsR0FBekIsVUFBMEIsZUFBb0I7UUFDN0MsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzlFLENBQUM7SUFFYyxpQkFBUSxHQUF2QixVQUF3QixLQUFVO1FBQ2pDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxNQUFNLEVBQzVELDBDQUEwQyxDQUFDLENBQUM7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELHFEQUFxRDtRQUNyRCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ2pDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztTQUMzQjtRQUVELElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDakUs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T0FBTyxLQUFLLENBQUM7QUFDZCxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsV0FBbUIsRUFBRSxLQUFhLEVBQUUsZUFBdUIsRUFBRSxRQUF1QjtJQUMzRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1FBQzNCLElBQUksWUFBWSxHQUFHLGVBQWEsZUFBZSwyQkFBc0IsS0FBTyxDQUFDO1FBQzdFLElBQUksUUFBUSxFQUFFO1lBQ2IsWUFBWSxHQUFHLG1CQUFpQixLQUFLLDRDQUF1QyxRQUFVLENBQUM7U0FDdkY7UUFFRCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQ3JELFlBQVksQ0FBQyxDQUFDO1FBRWYsT0FBTyxLQUFLLENBQUM7S0FDYjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1VzZXJGYWN0L1VzZXJGYWN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuLi9GbG9vZGdhdGVFbmdpbmVcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IElVc2VyRmFjdCB9IGZyb20gXCIuL0lVc2VyRmFjdFwiO1xyXG5pbXBvcnQgeyBDb21wYXJhdG9yVHlwZSwgQ3VycmVudFRpbWVJbnRlcnZhbFR5cGUsIElVc2VyRmFjdElucHV0LCBVc2VyRmFjdExhdGVuY3lUeXBlLCBVc2VyRmFjdFR5cGUgfSBmcm9tIFwiLi9Vc2VyRmFjdE1vZGVsXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VLCBpc051bWJlciwgaXNBcnJheSB9ID0gVXRpbHM7XHJcbmNvbnN0IGNvbW1vbkNvbXBhcmF0b3JUeXBlczogQ29tcGFyYXRvclR5cGVbXSA9IFtcclxuXHRDb21wYXJhdG9yVHlwZS5FcXVhbCxcclxuXHRDb21wYXJhdG9yVHlwZS5Ob3RFcXVhbCxcclxuXHRDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbixcclxuXHRDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbk9yRXF1YWwsXHJcblx0Q29tcGFyYXRvclR5cGUuTGVzc1RoYW4sXHJcblx0Q29tcGFyYXRvclR5cGUuTGVzc1RoYW5PckVxdWFsLFxyXG5dO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJGYWN0IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKHJhd1VzZXJGYWN0U3BlYzogYW55KTogVXNlckZhY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGUocmF3VXNlckZhY3RTcGVjKSA/IG5ldyBVc2VyRmFjdChyYXdVc2VyRmFjdFNwZWMpIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHZhbGlkYXRlKGlucHV0OiBhbnkpIHtcclxuXHRcdGlmICghaW5wdXQpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0XCJJbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZCBmb3IgdXNlciBmYWN0XCIpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVmFsdWVzIGlzIHVzZWQgZm9yIHR5cGUgVXNlckZhY3RUeXBlLkxpc3RPZlN0cmluZ3NcclxuXHRcdGlmICghaW5wdXQuVmFsdWUgJiYgaW5wdXQuVmFsdWVzKSB7XHJcblx0XHRcdGlucHV0LlZhbHVlID0gaW5wdXQuVmFsdWVzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dC5OYW1lKSB8fCBpc05PVShpbnB1dC5UeXBlKSB8fCBpc05PVShpbnB1dC5WYWx1ZSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0YEVpdGhlciBvZiB0aGUgcmVxdWlyZWQgcGFyYW1ldGVycyBOYW1lOiAke2lucHV0Lk5hbWV9LCBUeXBlOiAke2lucHV0LlR5cGV9IG9yIFZhbHVlOiAke2lucHV0LlZhbHVlfSBhcmUgbm90IHByb3ZpZGVkIGZvciB0aGUgdXNlciBmYWN0YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMudmFsaWRhdGVVc2VyRmFjdFR5cGUoaW5wdXQuVHlwZSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0YEludmFsaWQgVXNlckZhY3RUeXBlIHZhbHVlICR7aW5wdXQuVHlwZX0gaXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdGApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LlR5cGUgPT09IFVzZXJGYWN0VHlwZS5MaXN0RmlsZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRgVW5zdXBwb3J0ZWQgVXNlckZhY3RUeXBlIHZhbHVlICR7aW5wdXQuVHlwZX0gaXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdGApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkxhdGVuY3lUeXBlICYmICF0aGlzLnZhbGlkYXRlTGF0ZW5jeVR5cGUoaW5wdXQuTGF0ZW5jeVR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBJbnZhbGlkIExhdGVuY3lUeXBlIHZhbHVlICR7aW5wdXQuTGF0ZW5jeVR5cGV9IGlzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2lucHV0LlR5cGV9YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuTGF0ZW5jeVR5cGUgJiYgaW5wdXQuTGF0ZW5jeVR5cGUgIT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuTm9uZSAmJiBpc05PVShpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHMpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBMYXRlbmN5RHVyYXRpb25JblNlY29uZHMgdmFsdWUgJHtpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHN9IGlzIG5vdCBwcm92aWRlZCBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcyAmJiAhaXNOdW1iZXIoaW5wdXQuTGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRgSW52YWxpZCBMYXRlbmN5RHVyYXRpb25JblNlY29uZHMgdmFsdWUgJHtpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHN9IGlzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2lucHV0LlR5cGV9YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuVHlwZSA9PT0gVXNlckZhY3RUeXBlLlRpbWVJbnRlcnZhbEluU2Vjb25kcyAmJiBpc05PVShpbnB1dC5JbnRlcnZhbFR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBSZXF1aXJlZCBwYXJhbWV0ZXIgaW50ZXJ2YWxUeXBlIGlzIG5vdCBwcm92aWRlZCBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VwcG9ydGVkQ29tcGFyYXRvclR5cGVzID0gdGhpcy5nZXRDb21wYXJhdG9yVHlwZXMoaW5wdXQuVHlwZSk7XHJcblx0XHRpZiAoaW5wdXQuQ29tcGFyYXRvciAmJiAhaXNDb21wYXJhdG9yVHlwZVN1cHBvcnRlZChpbnB1dC5Db21wYXJhdG9yLCBzdXBwb3J0ZWRDb21wYXJhdG9yVHlwZXMpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNJc0FNYXRjaC5GYWlsZWQsXHJcblx0XHRcdFx0YFVuc3VwcG9ydGVkIGNvbXBhcmF0b3IgdHlwZSBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRDb21wYXJhdG9yVHlwZXModXNlckZhY3RUeXBlOiBVc2VyRmFjdFR5cGUpOiBDb21wYXJhdG9yVHlwZVtdICB7XHJcblx0XHRzd2l0Y2ggKHVzZXJGYWN0VHlwZSkge1xyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5Cb29sZWFuOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuRXF1YWwsIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsXTtcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuU3RyaW5nOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuRXF1YWwsXHJcblx0XHRcdFx0XHRcdENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsLFxyXG5cdFx0XHRcdFx0XHRDb21wYXJhdG9yVHlwZS5JbixcclxuXHRcdFx0XHRcdFx0Q29tcGFyYXRvclR5cGUuTm90SW4sXHJcblx0XHRcdFx0XHRcdENvbXBhcmF0b3JUeXBlLkludmVyc2VJbixcclxuXHRcdFx0XHRcdFx0Q29tcGFyYXRvclR5cGUuSW52ZXJzZU5vdEluXTtcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuTGlzdE9mU3RyaW5nczpcclxuXHRcdFx0XHRyZXR1cm4gW0NvbXBhcmF0b3JUeXBlLkluLCBDb21wYXJhdG9yVHlwZS5Ob3RJbiwgQ29tcGFyYXRvclR5cGUuSW52ZXJzZUluLCBDb21wYXJhdG9yVHlwZS5JbnZlcnNlTm90SW5dO1xyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5UaW1lSW50ZXJ2YWxJblNlY29uZHM6XHJcblx0XHRcdGNhc2UgVXNlckZhY3RUeXBlLkRhdGVUaW1lVVRDOlxyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5OdW1iZXI6XHJcblx0XHRcdGNhc2UgVXNlckZhY3RUeXBlLkxpc3RGaWxlOlxyXG5cdFx0XHRcdHJldHVybiBjb21tb25Db21wYXJhdG9yVHlwZXM7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0YXNzZXJ0TmV2ZXIodXNlckZhY3RUeXBlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY29tbW9uQ29tcGFyYXRvclR5cGVzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGVMYXRlbmN5VHlwZShsYXRlbmN5OiBVc2VyRmFjdExhdGVuY3lUeXBlKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHRsYXRlbmN5ID09PSBVc2VyRmFjdExhdGVuY3lUeXBlLk5vbmUgfHxcclxuXHRcdFx0bGF0ZW5jeSA9PT0gVXNlckZhY3RMYXRlbmN5VHlwZS5DbGllbnRJbmdlc3Rpb25EYXRlVGltZSB8fFxyXG5cdFx0XHRsYXRlbmN5ID09PSBVc2VyRmFjdExhdGVuY3lUeXBlLlNvdXJjZURhdGVUaW1lIHx8XHJcblx0XHRcdGxhdGVuY3kgPT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuU3RvcmFnZURhdGVUaW1lXHJcblx0XHQpID8gdHJ1ZSA6IGFzc2VydE5ldmVyKGxhdGVuY3kpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGVVc2VyRmFjdFR5cGUoZmFjdFR5cGU6IFVzZXJGYWN0VHlwZSkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5Cb29sZWFuIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuRGF0ZVRpbWVVVEMgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5OdW1iZXIgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5TdHJpbmcgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5UaW1lSW50ZXJ2YWxJblNlY29uZHMgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5MaXN0T2ZTdHJpbmdzIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuTGlzdEZpbGVcclxuXHRcdCkgPyB0cnVlIDogYXNzZXJ0TmV2ZXIoZmFjdFR5cGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbnB1dDogSVVzZXJGYWN0SW5wdXQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlucHV0OiBJVXNlckZhY3RJbnB1dCkge1xyXG5cdFx0dGhpcy5pbnB1dCA9IGlucHV0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzQU1hdGNoKHJhd1VzZXJGYWN0OiBJVXNlckZhY3QpOiBib29sZWFuIHtcclxuXHRcdGlmICghcmF3VXNlckZhY3QgfHwgIXJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5pc0xhdGVuY3lBY2NlcHRhYmxlKHJhd1VzZXJGYWN0KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZmFjdFR5cGUgPSB0aGlzLmdldFR5cGUoKTtcclxuXHRcdFx0aWYgKGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuQm9vbGVhbikge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlQm9vbGVhblZhbHVlcyh0aGlzLmdldFZhbHVlKCksIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5EYXRlVGltZVVUQykge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlRGF0ZVRpbWVVVENWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIHN0cmluZywgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLk51bWJlcikge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlTnVtYmVyVmFsdWVzKHRoaXMuZ2V0VmFsdWUoKSBhcyBudW1iZXIsIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5TdHJpbmcpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29tcGFyZVN0cmluZ1ZhbHVlcyh0aGlzLmdldFZhbHVlKCkgYXMgc3RyaW5nLCByYXdVc2VyRmFjdCwgdGhpcy5nZXRDb21wYXJhdG9yKCkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuVGltZUludGVydmFsSW5TZWNvbmRzKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNvbXBhcmVUaW1lSW50ZXJ2YWxWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIG51bWJlciwgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpLCB0aGlzLmdldEludGVydmFsVHlwZSgpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLkxpc3RPZlN0cmluZ3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29tcGFyZUxpc3RWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIHVua25vd24gYXMgc3RyaW5nW10sIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjSXNBTWF0Y2guRmFpbGVkLFxyXG5cdFx0XHRcdFx0YFVuc3VwcG9ydGVkIHR5cGUgb2YgdXNlciBmYWN0IHdhcyBwcm92aWRlZCAke2ZhY3RUeXBlfWApO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLkZhaWxlZCxcclxuXHRcdFx0XHRlcnJvcik7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuVHlwZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXROYW1lKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuTmFtZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWYWx1ZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0LlZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbXBhcmF0b3IoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5Db21wYXJhdG9yIHx8IENvbXBhcmF0b3JUeXBlLkVxdWFsO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdGVuY3lUeXBlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuTGF0ZW5jeVR5cGUgfHwgVXNlckZhY3RMYXRlbmN5VHlwZS5Ob25lO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdGVuY3lEdXJhdGlvbkluU2Vjb25kcygpIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0LkxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcnZhbFR5cGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5JbnRlcnZhbFR5cGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzTGF0ZW5jeUFjY2VwdGFibGUocmF3VXNlckZhY3Q6IElVc2VyRmFjdCkge1xyXG5cdFx0Y29uc3QgZmFjdFR5cGUgPSB0aGlzLmdldFR5cGUoKTtcclxuXHJcblx0XHRpZiAoIWlzTk9VKHRoaXMuZ2V0TGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKCkpICYmXHJcblx0XHRcdCFldmFsdWF0ZUZhY3RDYW5kaWRhY3kodGhpcy5nZXRMYXRlbmN5VHlwZSgpLCB0aGlzLmdldExhdGVuY3lEdXJhdGlvbkluU2Vjb25kcygpLCByYXdVc2VyRmFjdCkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLk1pc21hdGNoLCB7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IGBMYXRlbmN5IGR1cmF0aW9uIG5vdCBhY2NlcHRhYmxlIC0geyBOYW1lOiBcIiR7cmF3VXNlckZhY3QudXNlckZhY3ROYW1lfVwiIH1gLFxyXG5cdFx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogdGhpcy5nZXRMYXRlbmN5RHVyYXRpb25JblNlY29uZHMoKSxcclxuXHRcdFx0XHRcdFR5cGU6IGAke2ZhY3RUeXBlfWAsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZXZhbHVhdGVGYWN0Q2FuZGlkYWN5KGxhdGVuY3lUeXBlOiBVc2VyRmFjdExhdGVuY3lUeXBlLCBsYXRlbmN5RHVyYXRpb25JblNlY29uZHM6IG51bWJlciwgdXNlckZhY3Q6IElVc2VyRmFjdCkge1xyXG5cdGxldCB1c2VyRmFjdFRpbWU6IHN0cmluZztcclxuXHRzd2l0Y2ggKGxhdGVuY3lUeXBlKSB7XHJcblx0XHRjYXNlIFVzZXJGYWN0TGF0ZW5jeVR5cGUuTm9uZTpcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFVzZXJGYWN0TGF0ZW5jeVR5cGUuU291cmNlRGF0ZVRpbWU6XHJcblx0XHRcdHVzZXJGYWN0VGltZSA9IHVzZXJGYWN0LnNvdXJjZURhdGVUaW1lO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgVXNlckZhY3RMYXRlbmN5VHlwZS5TdG9yYWdlRGF0ZVRpbWU6XHJcblx0XHRcdHVzZXJGYWN0VGltZSA9IHVzZXJGYWN0LnN0b3JhZ2VEYXRlVGltZTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFVzZXJGYWN0TGF0ZW5jeVR5cGUuQ2xpZW50SW5nZXN0aW9uRGF0ZVRpbWU6XHJcblx0XHRcdHVzZXJGYWN0VGltZSA9IHVzZXJGYWN0LmNsaWVudEluZ2VzdGlvbkRhdGVUaW1lO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGFzc2VydE5ldmVyKGxhdGVuY3lUeXBlKTtcclxuXHRcdH1cclxuXHJcblx0aWYgKCFpc05PVSh1c2VyRmFjdFRpbWUpKSB7XHJcblx0XHRjb25zdCB1c2VyRmFjdFRpbWVJbk1pbGxpc2Vjb25kcyA9IERhdGUucGFyc2UodXNlckZhY3RUaW1lKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMgPSBEYXRlLm5vdygpO1xyXG5cclxuXHRcdHJldHVybiBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzIC0gdXNlckZhY3RUaW1lSW5NaWxsaXNlY29uZHMgPD0gKGxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcyAqIDEwMDApO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVCb29sZWFuVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlOiBhbnksIHJhd1VzZXJGYWN0OiBJVXNlckZhY3QsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKSB7XHJcblx0Y29uc3QgcmF3VXNlckZhY3RWYWx1ZUluQm9vbGVhbiA9IEpTT04ucGFyc2UocmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyghIXVzZXJGYWN0U3BlY1ZhbHVlLCAhIXJhd1VzZXJGYWN0VmFsdWVJbkJvb2xlYW4sIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlRGF0ZVRpbWVVVENWYWx1ZXModXNlckZhY3RTcGVjVmFsdWU6IHN0cmluZywgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUpIHtcclxuXHRjb25zdCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGNvbnN0IHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHVzZXJGYWN0U3BlY1ZhbHVlKTtcclxuXHRpZiAoIWlzQVZhbGlkTnVtYmVyKHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMsIHVzZXJGYWN0U3BlY1ZhbHVlLCBudWxsLCBVc2VyRmFjdFR5cGUuRGF0ZVRpbWVVVEMpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMsIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTnVtYmVyVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlOiBudW1iZXIsIHJhd1VzZXJGYWN0OiBJVXNlckZhY3QsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKSB7XHJcblx0Y29uc3QgcmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyID0gcGFyc2VJbnQocmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZSwgMTApO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZSwgcmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyLCBjb21wYXJhdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVN0cmluZ1ZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZTogc3RyaW5nLCByYXdVc2VyRmFjdDogSVVzZXJGYWN0LCBjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSkge1xyXG5cdHJldHVybiBjb21wYXJlVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlLnRvTG93ZXJDYXNlKCksIHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUudG9Mb3dlckNhc2UoKSwgY29tcGFyYXRvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVUaW1lSW50ZXJ2YWxWYWx1ZXMoXHJcblx0dXNlckZhY3RTcGVjVmFsdWU6IG51bWJlciwgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUsIGludGVydmFsVHlwZTogQ3VycmVudFRpbWVJbnRlcnZhbFR5cGUpIHtcclxuXHRjb25zdCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvLyBEaWZmIGZyb20gbm93IGFuZCB1c2VycyBpbnB1dCBkYXRlXHJcblx0Ly8gSW50ZXJ2YWxUbyAtIEludGVybnZhbCB0byBjdXJyZW50IGRhdGUgZnJvbSBmYWN0IGRhdGUgKGZhY3QgZGF0ZSBpcyBleHBlY3RlZCB0byBiZSBiZWZvcmUgY3VycmVudCBkYXRlKVxyXG5cdC8vIEludGVydmFsRnJvbSAtIEludGVydmFsIGZyb20gY3VycmVudCBkYXRlIHRvIGZhY3QgZGF0ZSAoZmFjdCBkYXRlIGlzIGV4cGVjdGVkIHRvIGJlIGFmdGVyIGN1cnJlbnQgZGF0ZSlcclxuXHRjb25zdCBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzID0gRGF0ZS5ub3coKTtcclxuXHRjb25zdCBjdXJyZW50RGF0ZURpZmYgPSBpbnRlcnZhbFR5cGUgPT09IEN1cnJlbnRUaW1lSW50ZXJ2YWxUeXBlLkludGVydmFsVG8gP1xyXG5cdFx0KGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMgLSByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMpIDogKHJhd1VzZXJGYWN0VmFsdWVJbk1pbGxpc2Vjb25kcyAtIGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMpO1xyXG5cdGlmIChjdXJyZW50RGF0ZURpZmYgPCAwKSB7XHJcblx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLk1pc21hdGNoLCB7XHJcblx0XHRcdFx0RXJyb3JNZXNzYWdlOiBgSW50ZXJ2YWwgdHlwZSBub3QgYWNjZXB0YWJsZSAtIHsgU3BlYzogJHt1c2VyRmFjdFNwZWNWYWx1ZX0sIE5hbWU6IFwiJHtyYXdVc2VyRmFjdC51c2VyRmFjdE5hbWV9XCIgfWAsXHJcblx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogY3VycmVudERhdGVEaWZmLFxyXG5cdFx0XHRcdFR5cGU6IGAke2ludGVydmFsVHlwZX1gLFxyXG5cdFx0XHR9LFxyXG5cdFx0KTtcclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRjb25zdCBkYXlJbk1pbGxpc2Vjb25kcyA9IDg2NDAwMDAwO1xyXG5cdGNvbnN0IHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMgPSB1c2VyRmFjdFNwZWNWYWx1ZSAqIGRheUluTWlsbGlzZWNvbmRzO1xyXG5cclxuXHQvLyBjaGVjayBpZiB0aGUgYWJvdmUgZGlmZiBzYXRpc2ZpZXMgdGhlIGNvbXBhcmlzb24gY3JpdGVyaWFcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZUluTWlsbGlzZWNvbmRzLCBjdXJyZW50RGF0ZURpZmYsIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTGlzdFZhbHVlczxUIGV4dGVuZHMgc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcj4odXNlckZhY3RTcGVjVmFsdWU6IFRbXSwgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUpIHtcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZSwgcmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZSBhcyBULCBjb21wYXJhdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb21wYXJhdG9yVHlwZVN1cHBvcnRlZChjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSwgc3VwcG9ydGVkQ29tcGFyYXRvclR5cGVzOiBDb21wYXJhdG9yVHlwZVtdKSB7XHJcblx0cmV0dXJuIHN1cHBvcnRlZENvbXBhcmF0b3JUeXBlcy5pbmRleE9mKGNvbXBhcmF0b3IpICE9PSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVZhbHVlczxUIGV4dGVuZHMgc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcj4oXHJcblx0dXNlckZhY3RTcGVjVmFsdWU6IFQgfCBUW10sIHVzZXJGYWN0UmF3VmFsdWU6IFQsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKTogYm9vbGVhbiB7XHJcblx0c3dpdGNoIChjb21wYXJhdG9yKSB7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA9PT0gdXNlckZhY3RTcGVjVmFsdWU7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSAhPT0gdXNlckZhY3RTcGVjVmFsdWU7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkdyZWF0ZXJUaGFuOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA+IHVzZXJGYWN0U3BlY1ZhbHVlO1xyXG5cdFx0Y2FzZSBDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbk9yRXF1YWw6XHJcblx0XHRcdHJldHVybiB1c2VyRmFjdFJhd1ZhbHVlID49IHVzZXJGYWN0U3BlY1ZhbHVlO1xyXG5cdFx0Y2FzZSBDb21wYXJhdG9yVHlwZS5MZXNzVGhhbjpcclxuXHRcdFx0cmV0dXJuIHVzZXJGYWN0UmF3VmFsdWUgPCB1c2VyRmFjdFNwZWNWYWx1ZTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuTGVzc1RoYW5PckVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA8PSB1c2VyRmFjdFNwZWNWYWx1ZTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuSW46XHJcblx0XHRcdHJldHVybiBpc0ZhY3RWYWx1ZUluVGFyZ2V0SXRlbSh1c2VyRmFjdFNwZWNWYWx1ZSwgdXNlckZhY3RSYXdWYWx1ZSk7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLk5vdEluOlxyXG5cdFx0XHRyZXR1cm4gIWlzRmFjdFZhbHVlSW5UYXJnZXRJdGVtKHVzZXJGYWN0U3BlY1ZhbHVlLCB1c2VyRmFjdFJhd1ZhbHVlKTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuSW52ZXJzZUluOlxyXG5cdFx0XHRyZXR1cm4gaXNGYWN0VmFsdWVJblRhcmdldEl0ZW0odXNlckZhY3RSYXdWYWx1ZSwgdXNlckZhY3RTcGVjVmFsdWUgYXMgVCk7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkludmVyc2VOb3RJbjpcclxuXHRcdFx0cmV0dXJuICFpc0ZhY3RWYWx1ZUluVGFyZ2V0SXRlbSh1c2VyRmFjdFJhd1ZhbHVlLCB1c2VyRmFjdFNwZWNWYWx1ZSBhcyBUKTtcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGFzc2VydE5ldmVyKGNvbXBhcmF0b3IpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoXzogbmV2ZXIpIHtcclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRmFjdFZhbHVlSW5UYXJnZXRJdGVtPFQ+KHVzZXJGYWN0VGFyZ2V0VmFsdWVzOiBUIHwgVFtdLCB1c2VyRmFjdFJhd1ZhbHVlOiBUKTogYm9vbGVhbiB7XHJcblx0aWYgKHR5cGVvZiB1c2VyRmFjdFJhd1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRjb25zdCBmYWN0VmFsdWUgPSB1c2VyRmFjdFJhd1ZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRpZiAodHlwZW9mIHVzZXJGYWN0VGFyZ2V0VmFsdWVzID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdC8vIGJvdGggdGhlIGlucHV0cyBhcmUgc3RyaW5ncywgZG8gYSBwbGFpbiBpbmRleE9mXHJcblx0XHRcdHJldHVybiAodXNlckZhY3RUYXJnZXRWYWx1ZXMgYXMgc3RyaW5nKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmFjdFZhbHVlKSAhPT0gLTE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzQXJyYXkodXNlckZhY3RUYXJnZXRWYWx1ZXMpKSB7XHJcblx0XHRcdGNvbnN0IHNwZWNWYWx1ZXMgPSB1c2VyRmFjdFRhcmdldFZhbHVlcyBhcyBUW107XHJcblx0XHRcdHJldHVybiBzcGVjVmFsdWVzLnNvbWUoKHNwZWNWYWx1ZSkgPT4gc3BlY1ZhbHVlICYmIHNwZWNWYWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT09IGZhY3RWYWx1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoaXNBcnJheSh1c2VyRmFjdFRhcmdldFZhbHVlcykpIHtcclxuXHRcdHJldHVybiAodXNlckZhY3RUYXJnZXRWYWx1ZXMgYXMgVFtdKS5pbmRleE9mKHVzZXJGYWN0UmF3VmFsdWUpICE9PSAtMTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNBVmFsaWROdW1iZXIobnVtYmVyVmFsdWU6IG51bWJlciwgdmFsdWU6IHN0cmluZywgcmF3VXNlckZhY3ROYW1lOiBzdHJpbmcsIGZhY3RUeXBlPzogVXNlckZhY3RUeXBlKSB7XHJcblx0aWYgKCFpc051bWJlcihudW1iZXJWYWx1ZSkpIHtcclxuXHRcdGxldCBlcnJvck1lc3NhZ2UgPSBgVXNlciBmYWN0ICR7cmF3VXNlckZhY3ROYW1lfSBoYXMgaW52YWxpZCB2YWx1ZSAke3ZhbHVlfWA7XHJcblx0XHRpZiAoZmFjdFR5cGUpIHtcclxuXHRcdFx0ZXJyb3JNZXNzYWdlID0gYEludmFsaWQgdmFsdWUgJHt2YWx1ZX0gd2FzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2ZhY3RUeXBlfWA7XHJcblx0XHR9XHJcblxyXG5cdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNJc0FNYXRjaC5GYWlsZWQsXHJcblx0XHRcdGVycm9yTWVzc2FnZSk7XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/UserFact/UserFact.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/UserFact/UserFactHelper.js":
/*!************************************************************!*\
  !*** ../FloodgateCore/dist/src/UserFact/UserFactHelper.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUserFacts = exports.deserializeUserFacts = void 0;\nvar UserFact_1 = __webpack_require__(/*! ./UserFact */ \"../FloodgateCore/dist/src/UserFact/UserFact.js\");\nexports.deserializeUserFacts = function (input) {\n    var userFacts = [];\n    for (var key in input.UserFacts) {\n        if (input.UserFacts.hasOwnProperty(key)) {\n            var userFactInput = input.UserFacts[key];\n            if (userFactInput) {\n                userFacts.push(UserFact_1.UserFact.deserialize(userFactInput));\n            }\n        }\n    }\n    if (userFacts.length === 0) {\n        userFacts = null;\n    }\n    return userFacts;\n};\nexports.validateUserFacts = function (userFacts) {\n    if (userFacts) {\n        for (var key in userFacts) {\n            if (userFacts.hasOwnProperty(key) && !userFacts[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1VzZXJGYWN0L1VzZXJGYWN0SGVscGVyLnRzPzk4OGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUdBQXNDO0FBRXpCLDRCQUFvQixHQUFHLFVBQUMsS0FBVTtJQUM5QyxJQUFJLFNBQVMsR0FBZSxFQUFFLENBQUM7SUFDL0IsS0FBSyxJQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFO1FBQ2xDLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDeEMsSUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUUzQyxJQUFJLGFBQWEsRUFBRTtnQkFDbEIsU0FBUyxDQUFDLElBQUksQ0FBQyxtQkFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2FBQ3BEO1NBQ0Q7S0FDRDtJQUVELElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDM0IsU0FBUyxHQUFHLElBQUksQ0FBQztLQUNqQjtJQUVELE9BQU8sU0FBUyxDQUFDO0FBRWxCLENBQUMsQ0FBQztBQUVXLHlCQUFpQixHQUFHLFVBQUMsU0FBcUI7SUFDdEQsSUFBSSxTQUFTLEVBQUU7UUFDZCxLQUFLLElBQU0sR0FBRyxJQUFJLFNBQVMsRUFBRTtZQUM1QixJQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3JELE9BQU8sS0FBSyxDQUFDO2FBQ2I7U0FDRDtLQUNEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Vc2VyRmFjdC9Vc2VyRmFjdEhlbHBlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJGYWN0IH0gZnJvbSBcIi4vVXNlckZhY3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZVVzZXJGYWN0cyA9IChpbnB1dDogYW55KTogVXNlckZhY3RbXSA9PiB7XHJcblx0bGV0IHVzZXJGYWN0czogVXNlckZhY3RbXSA9IFtdO1xyXG5cdGZvciAoY29uc3Qga2V5IGluIGlucHV0LlVzZXJGYWN0cykge1xyXG5cdFx0aWYgKGlucHV0LlVzZXJGYWN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdGNvbnN0IHVzZXJGYWN0SW5wdXQgPSBpbnB1dC5Vc2VyRmFjdHNba2V5XTtcclxuXHJcblx0XHRcdGlmICh1c2VyRmFjdElucHV0KSB7XHJcblx0XHRcdFx0dXNlckZhY3RzLnB1c2goVXNlckZhY3QuZGVzZXJpYWxpemUodXNlckZhY3RJbnB1dCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAodXNlckZhY3RzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dXNlckZhY3RzID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHJldHVybiB1c2VyRmFjdHM7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlckZhY3RzID0gKHVzZXJGYWN0czogVXNlckZhY3RbXSk6IGJvb2xlYW4gPT4ge1xyXG5cdGlmICh1c2VyRmFjdHMpIHtcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHVzZXJGYWN0cykge1xyXG5cdFx0XHRpZiAodXNlckZhY3RzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVzZXJGYWN0c1trZXldKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/UserFact/UserFactHelper.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Utils.js":
/*!******************************************!*\
  !*** ../FloodgateCore/dist/src/Utils.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/*\n * Utils.ts\n *\n * Module for utility functions\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeParseObject = exports.isValidUserId = exports.fyShuffle = exports.dateToShortUtcString = exports.isUtcDatetimeString = exports.overrideValues = exports.stringToDate = exports.makeArrayFromObjectValuesSortedByKeyString = exports.guid = exports.extractLanguageSubtag = exports.isValidLanguageSubTag = exports.subtractSecondsWithoutOverflow = exports.addSecondsWithoutOverflow = exports.MIN_DATE_MILLISECONDS = exports.MAX_DATE_MILLISECONDS = exports.getDistantFuture = exports.getDistantPast = exports.isBoolean = exports.isString = exports.isArray = exports.isFunction = exports.isObject = exports.isNOU = exports.isNumber = exports.isEnumValue = exports.isDate = exports.timeAdd = void 0;\n/**\n * Add time to a given date\n * Example, timeAdd(new Date(), 'minute', 5)  //returns 5 minutes from now\n * @param date  Date to start with\n * @param interval  One of: hour or h, minute or m, second or s\n * @param units  units of the given interval to add\n * @return date\n */\nfunction timeAdd(date, interval, units) {\n    switch (interval.toLowerCase()) {\n        case \"h\":\n        case \"hour\":\n            return new Date(date.getTime() + (units * 3600000));\n        case \"m\":\n        case \"minute\":\n            return new Date(date.getTime() + (units * 60000));\n        case \"s\":\n        case \"second\":\n            return new Date(date.getTime() + (units * 1000));\n        default:\n            throw new Error(\"Invalid interval value of \" + interval);\n    }\n}\nexports.timeAdd = timeAdd;\n/**\n * Check if an input value is a valid date, null or undefined return false.\n * @param input  input value\n * @return boolean\n */\nfunction isDate(input) {\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n        // it is a date\n        if (!(isNaN(input.getTime()))) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isDate = isDate;\n/**\n * Check if an input value is a valid value in the input enum\n * @param value  input value\n * @param input  input enum\n * Returns true if value exists in the enum\n */\nfunction isEnumValue(value, input) {\n    return (value in input);\n}\nexports.isEnumValue = isEnumValue;\n/**\n * Check if an input value is a number\n * @param value: input value\n */\nfunction isNumber(value) {\n    return (value !== null && !isNaN(value) && isFinite(value));\n}\nexports.isNumber = isNumber;\n/**\n * Check if an input value is null or undefined\n * @param value: input value\n */\nfunction isNOU(value) {\n    return (value === null || value === undefined);\n}\nexports.isNOU = isNOU;\n/**\n * Check if an input value is an object\n * @param value: input value\n */\nfunction isObject(value) {\n    return (value !== null && value !== undefined && (typeof value === \"object\"));\n}\nexports.isObject = isObject;\n/**\n * Check if an input value is an array\n * @param value: input value\n */\nfunction isFunction(value) {\n    return (value !== null && value !== undefined && (typeof value === \"function\"));\n}\nexports.isFunction = isFunction;\n/**\n * Check if an input value is an array\n * @param value: input value\n */\nfunction isArray(value) {\n    return (value !== null && value !== undefined && (Array.isArray(value)));\n}\nexports.isArray = isArray;\n/**\n * Check if given value is a string\n * @param {any} value value\n */\nfunction isString(value) {\n    return (typeof value === \"string\");\n}\nexports.isString = isString;\n/**\n * Check if value is an object\n * @param {any} value value\n */\nfunction isBoolean(value) {\n    return typeof (value) === \"boolean\";\n}\nexports.isBoolean = isBoolean;\n/**\n * Returns a lower temporal boundary\n * @return date\n */\nfunction getDistantPast() {\n    // Corresponds to UTC 1601-01-01T00:00:00Z\n    return new Date(-11644473600000);\n}\nexports.getDistantPast = getDistantPast;\n/**\n * Get an upper temporal boundary\n * @return date\n */\nfunction getDistantFuture() {\n    // Corresponds to UTC 4001-01-01T00:00:00Z\n    return new Date(64092211200000);\n}\nexports.getDistantFuture = getDistantFuture;\nexports.MAX_DATE_MILLISECONDS = 8640000000000000;\nexports.MIN_DATE_MILLISECONDS = -8640000000000000;\n/**\n * Adds seconds to a date, if overflows returns Date(Number.Max_VALUE)\n *\n * @param date    date to add to\n * @param seconds seconds as number\n * @return Resulting date\n */\nfunction addSecondsWithoutOverflow(date, seconds) {\n    if (!date) {\n        return null;\n    }\n    if (seconds < 0) {\n        return subtractSecondsWithoutOverflow(date, -1 * seconds);\n    }\n    else {\n        var milliseconds = date.getTime() + seconds * 1000;\n        if (milliseconds < exports.MAX_DATE_MILLISECONDS) {\n            return new Date(milliseconds);\n        }\n        else {\n            return new Date(exports.MAX_DATE_MILLISECONDS);\n        }\n    }\n}\nexports.addSecondsWithoutOverflow = addSecondsWithoutOverflow;\n/**\n * Subtracts seconds from a date, if overflows returns Date(Number.MIN_VALUE)\n *\n * @param date   date to subtract from\n * @param seconds seconds as number\n * @return Resulting date\n */\nfunction subtractSecondsWithoutOverflow(date, seconds) {\n    if (!date) {\n        return null;\n    }\n    if (seconds < 0) {\n        seconds = -seconds;\n        return this.addSecondsWithoutOverflow(date, seconds);\n    }\n    var milliseconds = date.getTime() - (seconds * 1000);\n    if (milliseconds > exports.MIN_DATE_MILLISECONDS) {\n        return new Date(milliseconds);\n    }\n    else {\n        return new Date(exports.MIN_DATE_MILLISECONDS);\n    }\n}\nexports.subtractSecondsWithoutOverflow = subtractSecondsWithoutOverflow;\n// region Language related\n/**\n * Effectively un-anchored on the right side because tags can have many more trailing sub-parts than we care to extract\n * Refer to https://www.ietf.org/rfc/rfc5646.txt\n */\nvar LANGUAGE_AND_SCRIPT_TAG_PATTERN = \"^\" +\n    // capture 1:language subtag\n    \"(\" +\n    \"(?:[a-zA-Z]{2,3}(?:-[a-zA-Z]{3}){0,3})\" + // 2-3 Alpha chars, followed by up to three optional extension tags, each of format -AAA, A=Alpha char\n    \"|\" +\n    \"(?:[a-zA-Z]{4,8})\" + // 4-Alpha chars (reserved in standard) or 5-8 Alpha chars\n    \")\" +\n    \"(?:\" +\n    \"-\" +\n    // capture 2: optional script subtag (without leading dash), exactly 4 alpha chars\n    \"([a-zA-Z]{4})\" + // 4-Alpha chars\n    \")?\" +\n    // capture 3: optional region subtag (without leading dash), exactly 2 alpha chars or 3 digits\n    \"(?:-([a-zA-Z]{2}|[0-9]{3}))?\" +\n    \"(\" +\n    // capture 4: any left-overs, rejecting remainder strings that don't end here or lead with a dash.\n    \"-.*\" +\n    \")?\" +\n    \"$\";\nfunction isValidLanguageSubTag(subTag) {\n    if (!subTag) {\n        return false;\n    }\n    var extractedSubTag = extractLanguageSubtag(subTag);\n    if (!extractedSubTag) {\n        return false;\n    }\n    return extractedSubTag === subTag;\n}\nexports.isValidLanguageSubTag = isValidLanguageSubTag;\nfunction extractLanguageSubtag(language) {\n    if (!language) {\n        return null;\n    }\n    var matches = language.match(LANGUAGE_AND_SCRIPT_TAG_PATTERN);\n    if (!matches || matches.length < 1 || !isNOU(matches[4])) {\n        return null;\n    }\n    // return the first capture group which should be the original input if there is a match\n    // For example, \"en-US\" input should return \"en-US\", and \"en\" input should return \"en\".\n    return matches[0];\n}\nexports.extractLanguageSubtag = extractLanguageSubtag;\n// endregion\n/**\n * Create guid string\n */\nfunction guid() {\n    // Stitch in '4' in the third group\n    return (randomHex4() + randomHex4() + \"-\" + randomHex4() + \"-4\" + randomHex4().substr(0, 3) + \"-\" + randomHex4() + \"-\"\n        + randomHex4() + randomHex4() + randomHex4()).toLowerCase();\n}\nexports.guid = guid;\n/**\n * Create random Hex4 string\n */\nfunction randomHex4() {\n    return (Math.floor(((1 + Math.random()) * 0x10000))).toString(16).substring(1);\n}\n/**\n * Create an array from input object values sorted by object key\n * @param Object input object\n * @return array\n */\nfunction makeArrayFromObjectValuesSortedByKeyString(object) {\n    var keys = Object.keys(object);\n    keys.sort();\n    var values = [];\n    for (var id in keys) {\n        if (keys.hasOwnProperty(id)) {\n            var key = keys[id];\n            values.push(object[key]);\n        }\n    }\n    return values;\n}\nexports.makeArrayFromObjectValuesSortedByKeyString = makeArrayFromObjectValuesSortedByKeyString;\n/**\n * Create a date object from an input string\n * @param Object input string\n * @return date\n */\nfunction stringToDate(input) {\n    if (!isString(input)) {\n        return null;\n    }\n    var newDate = input ? new Date(input) : null;\n    return isDate(newDate) ? newDate : null;\n}\nexports.stringToDate = stringToDate;\n/**\n * Takes two objects (source, target) and returns the target object with values in the source added to it.\n * It overwrites any source properties which already exist in target.\n */\nfunction overrideValues(sourceObject, targetobject) {\n    if (!targetobject) {\n        return targetobject;\n    }\n    var result = targetobject;\n    if (sourceObject) {\n        for (var field in sourceObject) {\n            if (sourceObject.hasOwnProperty(field)) {\n                result[field] = sourceObject[field];\n            }\n        }\n    }\n    return result;\n}\nexports.overrideValues = overrideValues;\n/**\n * Test a string is in our supported ISO8601 UTC format of \"yyyy-MM-ddTHH:mm:ssZ\" and \"yyyy-MM-ddTHH:mm:ss.fffZ\"\n * @param input Input string to be evaluated.\n */\nfunction isUtcDatetimeString(input) {\n    if (!isString(input)) {\n        return false;\n    }\n    var supportedUtcRegex = /^(\\d{4}\\-\\d\\d\\-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d\\d\\d)?Z)$/;\n    return supportedUtcRegex.test(input);\n}\nexports.isUtcDatetimeString = isUtcDatetimeString;\n/**\n * Convert a date object to a string in ISO8601 UTC format supported by Floodgate (\"yyyy-MM-ddTHH:mm:ssZ\")\n * @param input Input date object\n */\nfunction dateToShortUtcString(input) {\n    if (!isDate(input)) {\n        return null;\n    }\n    function pad(n) {\n        return (n < 10) ? (\"0\" + n) : n.toString();\n    }\n    return input.getUTCFullYear() +\n        \"-\" + pad(input.getUTCMonth() + 1) +\n        \"-\" + pad(input.getUTCDate()) +\n        \"T\" + pad(input.getUTCHours()) +\n        \":\" + pad(input.getUTCMinutes()) +\n        \":\" + pad(input.getUTCSeconds()) +\n        \"Z\";\n}\nexports.dateToShortUtcString = dateToShortUtcString;\n/*\nImplementing the Fisher-Yates Shuffle\n(Shuffles in situ)\n*/\nfunction fyShuffle(arrIn) {\n    if (isNOU(arrIn)) {\n        return undefined;\n    }\n    // If the array is empty or has one element, do nothing.\n    if (arrIn.length === 0 || arrIn.length === 1) {\n        return arrIn;\n    }\n    var lastNonShuffledElement = arrIn.length - 1;\n    // While there is still a non shuffled element.\n    while (lastNonShuffledElement > 0) {\n        // Pick one of the non shuffled elements (num range [0,lastNonShuffledElement+1))\n        var pickIndex = Math.floor(Math.random() * (lastNonShuffledElement + 1));\n        // And swap it with the last non shuffled element\n        var temp = arrIn[lastNonShuffledElement];\n        arrIn[lastNonShuffledElement] = arrIn[pickIndex];\n        arrIn[pickIndex] = temp;\n        lastNonShuffledElement--;\n    }\n    return arrIn;\n}\nexports.fyShuffle = fyShuffle;\n/**\n * Check if value is an valid user id\n * One or two character before colon, a colon, and some word after colon.\n * @param {any} value value\n */\nfunction isValidUserId(value) {\n    if (!isString(value)) {\n        return false;\n    }\n    var supportedUserIdRegex = /^([a-z]{1,2}):\\w+/;\n    return supportedUserIdRegex.test(value);\n}\nexports.isValidUserId = isValidUserId;\n/**\n * Safely read an object\n */\nfunction safeParseObject(serializedValue, defaultValue) {\n    try {\n        var parsedObject = serializedValue && (serializedValue[0] === \"{\" || serializedValue[0] === \"[\")\n            ? JSON.parse(serializedValue)\n            : undefined;\n        return parsedObject !== null && parsedObject !== void 0 ? parsedObject : defaultValue;\n    }\n    catch (e) {\n        // ignore\n    }\n    return defaultValue;\n}\nexports.safeParseObject = safeParseObject;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1V0aWxzLnRzP2NmZTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7O0dBSUc7OztBQUVIOzs7Ozs7O0dBT0c7QUFDSCxTQUFnQixPQUFPLENBQUMsSUFBVSxFQUFFLFFBQWdCLEVBQUUsS0FBYTtJQUNsRSxRQUFRLFFBQVEsQ0FBQyxXQUFXLEVBQUUsRUFBRTtRQUMvQixLQUFLLEdBQUcsQ0FBQztRQUNULEtBQUssTUFBTTtZQUNWLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDckQsS0FBSyxHQUFHLENBQUM7UUFDVCxLQUFLLFFBQVE7WUFDWixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25ELEtBQUssR0FBRyxDQUFDO1FBQ1QsS0FBSyxRQUFRO1lBQ1osT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNsRDtZQUNDLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUM7S0FDMUQ7QUFDRixDQUFDO0FBZEQsMEJBY0M7QUFFRDs7OztHQUlHO0FBQ0gsU0FBZ0IsTUFBTSxDQUFDLEtBQVU7SUFDaEMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssZUFBZSxFQUFFO1FBQzlELGVBQWU7UUFDZixJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRTtZQUM5QixPQUFPLElBQUksQ0FBQztTQUNaO0tBQ0Q7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNkLENBQUM7QUFSRCx3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QUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBUEQsc0NBT0M7QUFFRDs7R0FFRztBQUNILFNBQWdCLGVBQWUsQ0FBSSxlQUF1QixFQUFFLFlBQWdCO0lBQzNFLElBQUk7UUFDSCxJQUFNLFlBQVksR0FBRyxlQUFlLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLGVBQWUsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUM7WUFDN0YsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO1lBQzdCLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDakIsT0FBTyxZQUFZLGFBQVosWUFBWSxjQUFaLFlBQVksR0FBSSxZQUFZLENBQUM7S0FDcEM7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNYLFNBQVM7S0FDVDtJQUVELE9BQU8sWUFBWSxDQUFDO0FBQ3JCLENBQUM7QUFYRCwwQ0FXQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVXRpbHMudHNcclxuICpcclxuICogTW9kdWxlIGZvciB1dGlsaXR5IGZ1bmN0aW9uc1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBBZGQgdGltZSB0byBhIGdpdmVuIGRhdGVcclxuICogRXhhbXBsZSwgdGltZUFkZChuZXcgRGF0ZSgpLCAnbWludXRlJywgNSkgIC8vcmV0dXJucyA1IG1pbnV0ZXMgZnJvbSBub3dcclxuICogQHBhcmFtIGRhdGUgIERhdGUgdG8gc3RhcnQgd2l0aFxyXG4gKiBAcGFyYW0gaW50ZXJ2YWwgIE9uZSBvZjogaG91ciBvciBoLCBtaW51dGUgb3IgbSwgc2Vjb25kIG9yIHNcclxuICogQHBhcmFtIHVuaXRzICB1bml0cyBvZiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgdG8gYWRkXHJcbiAqIEByZXR1cm4gZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVBZGQoZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IHN0cmluZywgdW5pdHM6IG51bWJlcik6IERhdGUge1xyXG5cdHN3aXRjaCAoaW50ZXJ2YWwudG9Mb3dlckNhc2UoKSkge1xyXG5cdFx0Y2FzZSBcImhcIjpcclxuXHRcdGNhc2UgXCJob3VyXCI6XHJcblx0XHRcdHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArICh1bml0cyAqIDM2MDAwMDApKTtcclxuXHRcdGNhc2UgXCJtXCI6XHJcblx0XHRjYXNlIFwibWludXRlXCI6XHJcblx0XHRcdHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArICh1bml0cyAqIDYwMDAwKSk7XHJcblx0XHRjYXNlIFwic1wiOlxyXG5cdFx0Y2FzZSBcInNlY29uZFwiOlxyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyAodW5pdHMgKiAxMDAwKSk7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGludGVydmFsIHZhbHVlIG9mIFwiICsgaW50ZXJ2YWwpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGlucHV0IHZhbHVlIGlzIGEgdmFsaWQgZGF0ZSwgbnVsbCBvciB1bmRlZmluZWQgcmV0dXJuIGZhbHNlLlxyXG4gKiBAcGFyYW0gaW5wdXQgIGlucHV0IHZhbHVlXHJcbiAqIEByZXR1cm4gYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0aWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09IFwiW29iamVjdCBEYXRlXVwiKSB7XHJcblx0XHQvLyBpdCBpcyBhIGRhdGVcclxuXHRcdGlmICghKGlzTmFOKGlucHV0LmdldFRpbWUoKSkpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhIHZhbGlkIHZhbHVlIGluIHRoZSBpbnB1dCBlbnVtXHJcbiAqIEBwYXJhbSB2YWx1ZSAgaW5wdXQgdmFsdWVcclxuICogQHBhcmFtIGlucHV0ICBpbnB1dCBlbnVtXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB2YWx1ZSBleGlzdHMgaW4gdGhlIGVudW1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VudW1WYWx1ZSh2YWx1ZTogYW55LCBpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSBpbiBpbnB1dCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhIG51bWJlclxyXG4gKiBAcGFyYW0gdmFsdWU6IGlucHV0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodmFsdWUgIT09IG51bGwgJiYgIWlzTmFOKHZhbHVlKSAmJiBpc0Zpbml0ZSh2YWx1ZSkpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gaW5wdXQgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWRcclxuICogQHBhcmFtIHZhbHVlOiBpbnB1dCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTk9VKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gaW5wdXQgdmFsdWUgaXMgYW4gb2JqZWN0XHJcbiAqIEBwYXJhbSB2YWx1ZTogaW5wdXQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGlucHV0IHZhbHVlIGlzIGFuIGFycmF5XHJcbiAqIEBwYXJhbSB2YWx1ZTogaW5wdXQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhbiBhcnJheVxyXG4gKiBAcGFyYW0gdmFsdWU6IGlucHV0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChBcnJheS5pc0FycmF5KHZhbHVlKSkpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYSBzdHJpbmdcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIG9iamVjdFxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiB0eXBlb2YgKHZhbHVlKSA9PT0gXCJib29sZWFuXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbG93ZXIgdGVtcG9yYWwgYm91bmRhcnlcclxuICogQHJldHVybiBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFudFBhc3QoKTogRGF0ZSB7XHJcblx0Ly8gQ29ycmVzcG9uZHMgdG8gVVRDIDE2MDEtMDEtMDFUMDA6MDA6MDBaXHJcblx0cmV0dXJuIG5ldyBEYXRlKC0xMTY0NDQ3MzYwMDAwMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYW4gdXBwZXIgdGVtcG9yYWwgYm91bmRhcnlcclxuICogQHJldHVybiBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFudEZ1dHVyZSgpOiBEYXRlIHtcclxuXHQvLyBDb3JyZXNwb25kcyB0byBVVEMgNDAwMS0wMS0wMVQwMDowMDowMFpcclxuXHRyZXR1cm4gbmV3IERhdGUoNjQwOTIyMTEyMDAwMDApO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTUFYX0RBVEVfTUlMTElTRUNPTkRTOiBudW1iZXIgPSA4NjQwMDAwMDAwMDAwMDAwO1xyXG5leHBvcnQgY29uc3QgTUlOX0RBVEVfTUlMTElTRUNPTkRTOiBudW1iZXIgPSAtODY0MDAwMDAwMDAwMDAwMDtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHNlY29uZHMgdG8gYSBkYXRlLCBpZiBvdmVyZmxvd3MgcmV0dXJucyBEYXRlKE51bWJlci5NYXhfVkFMVUUpXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgIGRhdGUgdG8gYWRkIHRvXHJcbiAqIEBwYXJhbSBzZWNvbmRzIHNlY29uZHMgYXMgbnVtYmVyXHJcbiAqIEByZXR1cm4gUmVzdWx0aW5nIGRhdGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRTZWNvbmRzV2l0aG91dE92ZXJmbG93KGRhdGU6IERhdGUsIHNlY29uZHM6IG51bWJlcik6IERhdGUge1xyXG5cdGlmICghZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vjb25kcyA8IDApIHtcclxuXHRcdHJldHVybiBzdWJ0cmFjdFNlY29uZHNXaXRob3V0T3ZlcmZsb3coZGF0ZSwgLTEgKiBzZWNvbmRzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29uc3QgbWlsbGlzZWNvbmRzOiBudW1iZXIgPSBkYXRlLmdldFRpbWUoKSArIHNlY29uZHMgKiAxMDAwO1xyXG5cclxuXHRcdGlmIChtaWxsaXNlY29uZHMgPCBNQVhfREFURV9NSUxMSVNFQ09ORFMpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoTUFYX0RBVEVfTUlMTElTRUNPTkRTKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgc2Vjb25kcyBmcm9tIGEgZGF0ZSwgaWYgb3ZlcmZsb3dzIHJldHVybnMgRGF0ZShOdW1iZXIuTUlOX1ZBTFVFKVxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgIGRhdGUgdG8gc3VidHJhY3QgZnJvbVxyXG4gKiBAcGFyYW0gc2Vjb25kcyBzZWNvbmRzIGFzIG51bWJlclxyXG4gKiBAcmV0dXJuIFJlc3VsdGluZyBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3RTZWNvbmRzV2l0aG91dE92ZXJmbG93KGRhdGU6IERhdGUsIHNlY29uZHM6IG51bWJlcik6IERhdGUge1xyXG5cdGlmICghZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vjb25kcyA8IDApIHtcclxuXHRcdHNlY29uZHMgPSAtc2Vjb25kcztcclxuXHRcdHJldHVybiB0aGlzLmFkZFNlY29uZHNXaXRob3V0T3ZlcmZsb3coZGF0ZSwgc2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBtaWxsaXNlY29uZHM6IG51bWJlciA9IGRhdGUuZ2V0VGltZSgpIC0gKHNlY29uZHMgKiAxMDAwKTtcclxuXHJcblx0aWYgKG1pbGxpc2Vjb25kcyA+IE1JTl9EQVRFX01JTExJU0VDT05EUykge1xyXG5cdFx0cmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBuZXcgRGF0ZShNSU5fREFURV9NSUxMSVNFQ09ORFMpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVnaW9uIExhbmd1YWdlIHJlbGF0ZWRcclxuXHJcbi8qKlxyXG4gKiBFZmZlY3RpdmVseSB1bi1hbmNob3JlZCBvbiB0aGUgcmlnaHQgc2lkZSBiZWNhdXNlIHRhZ3MgY2FuIGhhdmUgbWFueSBtb3JlIHRyYWlsaW5nIHN1Yi1wYXJ0cyB0aGFuIHdlIGNhcmUgdG8gZXh0cmFjdFxyXG4gKiBSZWZlciB0byBodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNTY0Ni50eHRcclxuICovXHJcbmNvbnN0IExBTkdVQUdFX0FORF9TQ1JJUFRfVEFHX1BBVFRFUk46IHN0cmluZyA9XHJcblx0XCJeXCIgK1xyXG5cdC8vIGNhcHR1cmUgMTpsYW5ndWFnZSBzdWJ0YWdcclxuXHRcIihcIiArXHJcblx0XCIoPzpbYS16QS1aXXsyLDN9KD86LVthLXpBLVpdezN9KXswLDN9KVwiICsgIC8vIDItMyBBbHBoYSBjaGFycywgZm9sbG93ZWQgYnkgdXAgdG8gdGhyZWUgb3B0aW9uYWwgZXh0ZW5zaW9uIHRhZ3MsIGVhY2ggb2YgZm9ybWF0IC1BQUEsIEE9QWxwaGEgY2hhclxyXG5cdFwifFwiICtcclxuXHRcIig/OlthLXpBLVpdezQsOH0pXCIgKyAgICAgICAgICAgICAgICAgICAgICAgLy8gNC1BbHBoYSBjaGFycyAocmVzZXJ2ZWQgaW4gc3RhbmRhcmQpIG9yIDUtOCBBbHBoYSBjaGFyc1xyXG5cdFwiKVwiICtcclxuXHRcIig/OlwiICtcclxuXHRcIi1cIiArXHJcblx0Ly8gY2FwdHVyZSAyOiBvcHRpb25hbCBzY3JpcHQgc3VidGFnICh3aXRob3V0IGxlYWRpbmcgZGFzaCksIGV4YWN0bHkgNCBhbHBoYSBjaGFyc1xyXG5cdFwiKFthLXpBLVpdezR9KVwiICsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA0LUFscGhhIGNoYXJzXHJcblx0XCIpP1wiICtcclxuXHQvLyBjYXB0dXJlIDM6IG9wdGlvbmFsIHJlZ2lvbiBzdWJ0YWcgKHdpdGhvdXQgbGVhZGluZyBkYXNoKSwgZXhhY3RseSAyIGFscGhhIGNoYXJzIG9yIDMgZGlnaXRzXHJcblx0XCIoPzotKFthLXpBLVpdezJ9fFswLTldezN9KSk/XCIgK1xyXG5cdFwiKFwiICtcclxuXHQvLyBjYXB0dXJlIDQ6IGFueSBsZWZ0LW92ZXJzLCByZWplY3RpbmcgcmVtYWluZGVyIHN0cmluZ3MgdGhhdCBkb24ndCBlbmQgaGVyZSBvciBsZWFkIHdpdGggYSBkYXNoLlxyXG5cdFwiLS4qXCIgK1xyXG5cdFwiKT9cIiArXHJcblx0XCIkXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZExhbmd1YWdlU3ViVGFnKHN1YlRhZzogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0aWYgKCFzdWJUYWcpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGV4dHJhY3RlZFN1YlRhZzogc3RyaW5nID0gZXh0cmFjdExhbmd1YWdlU3VidGFnKHN1YlRhZyk7XHJcblx0aWYgKCFleHRyYWN0ZWRTdWJUYWcpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBleHRyYWN0ZWRTdWJUYWcgPT09IHN1YlRhZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RMYW5ndWFnZVN1YnRhZyhsYW5ndWFnZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoIWxhbmd1YWdlKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGNvbnN0IG1hdGNoZXMgPSBsYW5ndWFnZS5tYXRjaChMQU5HVUFHRV9BTkRfU0NSSVBUX1RBR19QQVRURVJOKTtcclxuXHRpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAxIHx8ICFpc05PVShtYXRjaGVzWzRdKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvLyByZXR1cm4gdGhlIGZpcnN0IGNhcHR1cmUgZ3JvdXAgd2hpY2ggc2hvdWxkIGJlIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB0aGVyZSBpcyBhIG1hdGNoXHJcblx0Ly8gRm9yIGV4YW1wbGUsIFwiZW4tVVNcIiBpbnB1dCBzaG91bGQgcmV0dXJuIFwiZW4tVVNcIiwgYW5kIFwiZW5cIiBpbnB1dCBzaG91bGQgcmV0dXJuIFwiZW5cIi5cclxuXHRyZXR1cm4gbWF0Y2hlc1swXTtcclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vKipcclxuICogQ3JlYXRlIGd1aWQgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG5cdC8vIFN0aXRjaCBpbiAnNCcgaW4gdGhlIHRoaXJkIGdyb3VwXHJcblx0cmV0dXJuIChyYW5kb21IZXg0KCkgKyByYW5kb21IZXg0KCkgKyBcIi1cIiArIHJhbmRvbUhleDQoKSArIFwiLTRcIiArIHJhbmRvbUhleDQoKS5zdWJzdHIoMCwgMykgKyBcIi1cIiArIHJhbmRvbUhleDQoKSArIFwiLVwiXHJcblx0XHQrIHJhbmRvbUhleDQoKSArIHJhbmRvbUhleDQoKSArIHJhbmRvbUhleDQoKSkudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSByYW5kb20gSGV4NCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbUhleDQoKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gKE1hdGguZmxvb3IoKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYW4gYXJyYXkgZnJvbSBpbnB1dCBvYmplY3QgdmFsdWVzIHNvcnRlZCBieSBvYmplY3Qga2V5XHJcbiAqIEBwYXJhbSBPYmplY3QgaW5wdXQgb2JqZWN0XHJcbiAqIEByZXR1cm4gYXJyYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQXJyYXlGcm9tT2JqZWN0VmFsdWVzU29ydGVkQnlLZXlTdHJpbmcob2JqZWN0OiBvYmplY3QpOiBhbnlbXSB7XHJcblx0Y29uc3Qga2V5czogc3RyaW5nW10gPSBPYmplY3Qua2V5cyhvYmplY3QpO1xyXG5cdGtleXMuc29ydCgpO1xyXG5cclxuXHRjb25zdCB2YWx1ZXM6IGFueVtdID0gW107XHJcblx0Zm9yIChjb25zdCBpZCBpbiBrZXlzKSB7XHJcblx0XHRpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuXHRcdFx0Y29uc3Qga2V5OiBzdHJpbmcgPSBrZXlzW2lkXTtcclxuXHRcdFx0dmFsdWVzLnB1c2gob2JqZWN0W2tleV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGRhdGUgb2JqZWN0IGZyb20gYW4gaW5wdXQgc3RyaW5nXHJcbiAqIEBwYXJhbSBPYmplY3QgaW5wdXQgc3RyaW5nXHJcbiAqIEByZXR1cm4gZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvRGF0ZShpbnB1dDogYW55KTogRGF0ZSB7XHJcblx0aWYgKCFpc1N0cmluZyhpbnB1dCkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbmV3RGF0ZTogRGF0ZSA9IGlucHV0ID8gbmV3IERhdGUoaW5wdXQpIDogbnVsbDtcclxuXHRyZXR1cm4gaXNEYXRlKG5ld0RhdGUpID8gbmV3RGF0ZSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUYWtlcyB0d28gb2JqZWN0cyAoc291cmNlLCB0YXJnZXQpIGFuZCByZXR1cm5zIHRoZSB0YXJnZXQgb2JqZWN0IHdpdGggdmFsdWVzIGluIHRoZSBzb3VyY2UgYWRkZWQgdG8gaXQuXHJcbiAqIEl0IG92ZXJ3cml0ZXMgYW55IHNvdXJjZSBwcm9wZXJ0aWVzIHdoaWNoIGFscmVhZHkgZXhpc3QgaW4gdGFyZ2V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJyaWRlVmFsdWVzPFQ+KHNvdXJjZU9iamVjdDogVCwgdGFyZ2V0b2JqZWN0OiBUKTogVCB7XHJcblx0aWYgKCF0YXJnZXRvYmplY3QpIHtcclxuXHRcdHJldHVybiB0YXJnZXRvYmplY3Q7XHJcblx0fVxyXG5cclxuXHRjb25zdCByZXN1bHQ6IFQgPSB0YXJnZXRvYmplY3Q7XHJcblxyXG5cdGlmIChzb3VyY2VPYmplY3QpIHtcclxuXHRcdGZvciAoY29uc3QgZmllbGQgaW4gc291cmNlT2JqZWN0KSB7XHJcblx0XHRcdGlmIChzb3VyY2VPYmplY3QuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0KHJlc3VsdCBhcyBhbnkpW2ZpZWxkXSA9IChzb3VyY2VPYmplY3QgYXMgYW55KVtmaWVsZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUZXN0IGEgc3RyaW5nIGlzIGluIG91ciBzdXBwb3J0ZWQgSVNPODYwMSBVVEMgZm9ybWF0IG9mIFwieXl5eS1NTS1kZFRISDptbTpzc1pcIiBhbmQgXCJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZlpcIlxyXG4gKiBAcGFyYW0gaW5wdXQgSW5wdXQgc3RyaW5nIHRvIGJlIGV2YWx1YXRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1V0Y0RhdGV0aW1lU3RyaW5nKGlucHV0OiBhbnkpOiBib29sZWFuIHtcclxuXHRpZiAoIWlzU3RyaW5nKGlucHV0KSkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y29uc3Qgc3VwcG9ydGVkVXRjUmVnZXggPSAvXihcXGR7NH1cXC1cXGRcXGRcXC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoXFwuXFxkXFxkXFxkKT9aKSQvO1xyXG5cdHJldHVybiBzdXBwb3J0ZWRVdGNSZWdleC50ZXN0KGlucHV0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBkYXRlIG9iamVjdCB0byBhIHN0cmluZyBpbiBJU084NjAxIFVUQyBmb3JtYXQgc3VwcG9ydGVkIGJ5IEZsb29kZ2F0ZSAoXCJ5eXl5LU1NLWRkVEhIOm1tOnNzWlwiKVxyXG4gKiBAcGFyYW0gaW5wdXQgSW5wdXQgZGF0ZSBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkYXRlVG9TaG9ydFV0Y1N0cmluZyhpbnB1dDogRGF0ZSk6IHN0cmluZyB7XHJcblx0aWYgKCFpc0RhdGUoaW5wdXQpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHBhZChuOiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIChuIDwgMTApID8gKFwiMFwiICsgbikgOiBuLnRvU3RyaW5nKCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaW5wdXQuZ2V0VVRDRnVsbFllYXIoKSArXHJcblx0XHRcIi1cIiArIHBhZChpbnB1dC5nZXRVVENNb250aCgpICsgMSkgK1xyXG5cdFx0XCItXCIgKyBwYWQoaW5wdXQuZ2V0VVRDRGF0ZSgpKSArXHJcblx0XHRcIlRcIiArIHBhZChpbnB1dC5nZXRVVENIb3VycygpKSArXHJcblx0XHRcIjpcIiArIHBhZChpbnB1dC5nZXRVVENNaW51dGVzKCkpICtcclxuXHRcdFwiOlwiICsgcGFkKGlucHV0LmdldFVUQ1NlY29uZHMoKSkgK1xyXG5cdFx0XCJaXCI7XHJcbn1cclxuXHJcbi8qXHJcbkltcGxlbWVudGluZyB0aGUgRmlzaGVyLVlhdGVzIFNodWZmbGVcclxuKFNodWZmbGVzIGluIHNpdHUpXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBmeVNodWZmbGUoYXJySW46IG51bWJlcltdKTogbnVtYmVyW10gfCB1bmRlZmluZWQge1xyXG5cclxuXHRpZiAoaXNOT1UoYXJySW4pKSB7XHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0Ly8gSWYgdGhlIGFycmF5IGlzIGVtcHR5IG9yIGhhcyBvbmUgZWxlbWVudCwgZG8gbm90aGluZy5cclxuXHRpZiAoYXJySW4ubGVuZ3RoID09PSAwIHx8IGFyckluLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0cmV0dXJuIGFyckluO1xyXG5cdH1cclxuXHJcblx0bGV0IGxhc3ROb25TaHVmZmxlZEVsZW1lbnQgPSBhcnJJbi5sZW5ndGggLSAxO1xyXG5cclxuXHQvLyBXaGlsZSB0aGVyZSBpcyBzdGlsbCBhIG5vbiBzaHVmZmxlZCBlbGVtZW50LlxyXG5cdHdoaWxlIChsYXN0Tm9uU2h1ZmZsZWRFbGVtZW50ID4gMCkge1xyXG5cclxuXHRcdC8vIFBpY2sgb25lIG9mIHRoZSBub24gc2h1ZmZsZWQgZWxlbWVudHMgKG51bSByYW5nZSBbMCxsYXN0Tm9uU2h1ZmZsZWRFbGVtZW50KzEpKVxyXG5cdFx0Y29uc3QgcGlja0luZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxhc3ROb25TaHVmZmxlZEVsZW1lbnQgKyAxKSk7XHJcblxyXG5cdFx0Ly8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgbGFzdCBub24gc2h1ZmZsZWQgZWxlbWVudFxyXG5cdFx0Y29uc3QgdGVtcCA9IGFyckluW2xhc3ROb25TaHVmZmxlZEVsZW1lbnRdO1xyXG5cdFx0YXJySW5bbGFzdE5vblNodWZmbGVkRWxlbWVudF0gPSBhcnJJbltwaWNrSW5kZXhdO1xyXG5cdFx0YXJySW5bcGlja0luZGV4XSA9IHRlbXA7XHJcblxyXG5cdFx0bGFzdE5vblNodWZmbGVkRWxlbWVudC0tO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGFyckluO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gdmFsaWQgdXNlciBpZFxyXG4gKiBPbmUgb3IgdHdvIGNoYXJhY3RlciBiZWZvcmUgY29sb24sIGEgY29sb24sIGFuZCBzb21lIHdvcmQgYWZ0ZXIgY29sb24uXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRVc2VySWQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdGlmICghaXNTdHJpbmcodmFsdWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzdXBwb3J0ZWRVc2VySWRSZWdleCA9IC9eKFthLXpdezEsMn0pOlxcdysvO1xyXG5cdHJldHVybiBzdXBwb3J0ZWRVc2VySWRSZWdleC50ZXN0KHZhbHVlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNhZmVseSByZWFkIGFuIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVQYXJzZU9iamVjdDxUPihzZXJpYWxpemVkVmFsdWU6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCk6IFQge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBwYXJzZWRPYmplY3QgPSBzZXJpYWxpemVkVmFsdWUgJiYgKHNlcmlhbGl6ZWRWYWx1ZVswXSA9PT0gXCJ7XCIgfHwgc2VyaWFsaXplZFZhbHVlWzBdID09PSBcIltcIilcclxuXHRcdFx0XHRcdFx0XHQ/IEpTT04ucGFyc2Uoc2VyaWFsaXplZFZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0cmV0dXJuIHBhcnNlZE9iamVjdCA/PyBkZWZhdWx0VmFsdWU7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Ly8gaWdub3JlXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Utils.js\n");

/***/ }),

/***/ "./node_modules/es6-promise/auto.js":
/*!******************************************!*\
  !*** ./node_modules/es6-promise/auto.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n\nmodule.exports = __webpack_require__(/*! ./ */ \"./node_modules/es6-promise/dist/es6-promise.js\").polyfill();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvYXV0by5qcz8wODIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDYTtBQUNiLGlCQUFpQixtQkFBTyxDQUFDLDBEQUFJIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlL2F1dG8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGZpbGUgY2FuIGJlIHJlcXVpcmVkIGluIEJyb3dzZXJpZnkgYW5kIE5vZGUuanMgZm9yIGF1dG9tYXRpYyBwb2x5ZmlsbFxuLy8gVG8gdXNlIGl0OiAgcmVxdWlyZSgnZXM2LXByb21pc2UvYXV0bycpO1xuJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLycpLnBvbHlmaWxsKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/auto.js\n");

/***/ }),

/***/ "./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process, global) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29uZmlnL3ZlcnNpb25UZW1wbGF0ZS50eHQ/MDk1MCIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3V0aWxzLmpzP2ZhYTEiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9hc2FwLmpzPzc2N2YiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS90aGVuLmpzP2JhYzYiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9wcm9taXNlL3Jlc29sdmUuanM/MDQwNSIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlLy1pbnRlcm5hbC5qcz9mMWI2Iiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvZW51bWVyYXRvci5qcz9hNGJjIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS9hbGwuanM/YzFhNyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmFjZS5qcz8zN2NiIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS9yZWplY3QuanM/NTFjNyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UuanM/NTQwYiIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3BvbHlmaWxsLmpzPzAzNTUiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS5qcz8yZDRlIl0sIm5hbWVzIjpbInJlc29sdmUiLCJfcmVzb2x2ZSIsInRoZW4iLCJvcmlnaW5hbFRoZW4iLCJvcmlnaW5hbFJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiX3JlamVjdCIsIlJlc29sdmUiLCJSZWplY3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDTk8sU0FBUyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7RUFDbEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUM7RUFDcEIsT0FBTyxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUks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QUFJLENBQUMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDOztFQUV0QixJQUFJLENBQUMsRUFBRTtJQUNMLElBQUksZUFBZSxHQUFHLElBQUksQ0FBQztJQUMzQixJQUFJO01BQ0YsZUFBZSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztLQUMvRCxDQUFDLE9BQU8sQ0FBQyxFQUFFOztLQUVYOztJQUVELElBQUksZUFBZSxLQUFLLGtCQUFrQixJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtNQUNyRCxPQUFPO0tBQ1I7R0FDRjs7RUFFRCxLQUFLLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUM7OztBQzlCMUIsQ0QrQkM7QUM5QkRBLFNBQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQzVCQSxTQUFPLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cbiIsImV4cG9ydCBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaXNBcnJheSA9IF9pc0FycmF5OyIsInZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxuZXhwb3J0IHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn0iLCJpbXBvcnQgeyBpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlLCBGVUxGSUxMRUQsIFJFSkVDVEVELCBub29wLCBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSIsImltcG9ydCB7IG5vb3AsIHJlc29sdmUgYXMgX3Jlc29sdmUgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufSIsImltcG9ydCB7IG9iamVjdE9yRnVuY3Rpb24sIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBvcmlnaW5hbFRoZW4gZnJvbSAnLi90aGVuJztcbmltcG9ydCBvcmlnaW5hbFJlc29sdmUgZnJvbSAnLi9wcm9taXNlL3Jlc29sdmUnO1xuXG5leHBvcnQgdmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuID09PSBvcmlnaW5hbFRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBvcmlnaW5hbFJlc29sdmUpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4pO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZXhwb3J0IHsgbmV4dElkLCBtYWtlUHJvbWlzZSwgbm9vcCwgcmVzb2x2ZSwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIHB1Ymxpc2gsIHB1Ymxpc2hSZWplY3Rpb24sIGluaXRpYWxpemVQcm9taXNlLCBpbnZva2VDYWxsYmFjaywgRlVMRklMTEVELCBSRUpFQ1RFRCwgUEVORElORywgaGFuZGxlTWF5YmVUaGVuYWJsZSB9OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTWF5YmVUaGVuYWJsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIEZVTEZJTExFRCwgUkVKRUNURUQsIFBFTkRJTkcsIGhhbmRsZU1heWJlVGhlbmFibGUgfSBmcm9tICcuLy1pbnRlcm5hbCc7XG5cbmltcG9ydCB0aGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IG9yaWdpbmFsUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgb3JpZ2luYWxUaGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgeyBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUgPT09IG9yaWdpbmFsUmVzb2x2ZSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IG9yaWdpbmFsVGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRW51bWVyYXRvcjtcbjsiLCJpbXBvcnQgRW51bWVyYXRvciBmcm9tICcuLi9lbnVtZXJhdG9yJztcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbm9vcCwgcmVqZWN0IGFzIF9yZWplY3QgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgbmV4dElkLCBQUk9NSVNFX0lELCBpbml0aWFsaXplUHJvbWlzZSB9IGZyb20gJy4vLWludGVybmFsJztcbmltcG9ydCB7IGFzYXAsIHNldEFzYXAsIHNldFNjaGVkdWxlciB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBhbGwgZnJvbSAnLi9wcm9taXNlL2FsbCc7XG5pbXBvcnQgcmFjZSBmcm9tICcuL3Byb21pc2UvcmFjZSc7XG5pbXBvcnQgUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgUmVqZWN0IGZyb20gJy4vcHJvbWlzZS9yZWplY3QnO1xuaW1wb3J0IHRoZW4gZnJvbSAnLi90aGVuJztcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gUmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gUmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDsiLCIvKmdsb2JhbCBzZWxmKi9cbmltcG9ydCBQcm9taXNlIGZyb20gJy4vcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn0iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2VzNi1wcm9taXNlL3Byb21pc2UnO1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJy4vZXM2LXByb21pc2UvcG9seWZpbGwnO1xuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/dist/es6-promise.js\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzP2U1YzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __createBinding, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__extends\", function() { return __extends; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__rest\", function() { return __rest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__decorate\", function() { return __decorate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__param\", function() { return __param; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__metadata\", function() { return __metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__awaiter\", function() { return __awaiter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__generator\", function() { return __generator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__createBinding\", function() { return __createBinding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__exportStar\", function() { return __exportStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__values\", function() { return __values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__read\", function() { return __read; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spread\", function() { return __spread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spreadArrays\", function() { return __spreadArrays; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__await\", function() { return __await; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncGenerator\", function() { return __asyncGenerator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncDelegator\", function() { return __asyncDelegator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncValues\", function() { return __asyncValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__makeTemplateObject\", function() { return __makeTemplateObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importStar\", function() { return __importStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importDefault\", function() { return __importDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldGet\", function() { return __classPrivateFieldGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldSet\", function() { return __classPrivateFieldSet; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzP2ZlYzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTs7QUFFTztBQUNQO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBOztBQUVPO0FBQ1A7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBOztBQUVPO0FBQ1AsbUNBQW1DLG9DQUFvQztBQUN2RTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUCwyQkFBMkIsK0RBQStELGdCQUFnQixFQUFFLEVBQUU7QUFDOUc7QUFDQSxtQ0FBbUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNqRyxrQ0FBa0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNwRywrQkFBK0IscUZBQXFGO0FBQ3BIO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixNQUFNLGdCQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7O0FBRU87QUFDUCxpREFBaUQsUUFBUTtBQUN6RCx3Q0FBd0MsUUFBUTtBQUNoRCx3REFBd0QsUUFBUTtBQUNoRTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQixzRkFBc0YsYUFBYSxFQUFFO0FBQ3RILHNCQUFzQixnQ0FBZ0MscUNBQXFDLDBDQUEwQyxFQUFFLEVBQUUsR0FBRztBQUM1SSwyQkFBMkIsTUFBTSxlQUFlLEVBQUUsWUFBWSxvQkFBb0IsRUFBRTtBQUNwRixzQkFBc0Isb0dBQW9HO0FBQzFILDZCQUE2Qix1QkFBdUI7QUFDcEQsNEJBQTRCLHdCQUF3QjtBQUNwRCwyQkFBMkIseURBQXlEO0FBQ3BGOztBQUVPO0FBQ1A7QUFDQSxpQkFBaUIsNENBQTRDLFNBQVMsRUFBRSxxREFBcUQsYUFBYSxFQUFFO0FBQzVJLHlCQUF5Qiw2QkFBNkIsb0JBQW9CLGdEQUFnRCxnQkFBZ0IsRUFBRSxLQUFLO0FBQ2pKOztBQUVPO0FBQ1A7QUFDQTtBQUNBLDJHQUEyRyxzRkFBc0YsYUFBYSxFQUFFO0FBQ2hOLHNCQUFzQiw4QkFBOEIsZ0RBQWdELHVEQUF1RCxFQUFFLEVBQUUsR0FBRztBQUNsSyw0Q0FBNEMsc0NBQXNDLFVBQVUsb0JBQW9CLEVBQUUsRUFBRSxVQUFVO0FBQzlIOztBQUVPO0FBQ1AsZ0NBQWdDLHVDQUF1QyxhQUFhLEVBQUUsRUFBRSxPQUFPLGtCQUFrQjtBQUNqSDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNENBQTRDO0FBQzVDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzc3ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./scripts/app/App_InAppFeedback.ts":
/*!******************************************!*\
  !*** ./scripts/app/App_InAppFeedback.ts ***!
  \******************************************/
/*! exports provided: initialize, multiFeedback, singleFeedback, getFeedbackStatus, reset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"multiFeedback\", function() { return multiFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"singleFeedback\", function() { return singleFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFeedbackStatus\", function() { return getFeedbackStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony import */ var _CommonApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommonApp */ \"./scripts/app/CommonApp.ts\");\n/* harmony import */ var _CommonUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CommonUI */ \"./scripts/app/CommonUI.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _UI_BellyBand_BellyBand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UI/BellyBand/BellyBand */ \"./scripts/app/UI/BellyBand/BellyBand.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Window/Window */ \"./scripts/app/Window/Window.ts\");\n/**\r\n * App_inAppFeedback.ts\r\n *\r\n * The entry point for inAppFeedback.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has inAppFeedback been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Initialize\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction initialize() {\r\n    return new Promise(function (resolve, reject) {\r\n        if (!initialized) {\r\n            try {\r\n                _CommonApp__WEBPACK_IMPORTED_MODULE_0__[\"initialize\"]();\r\n            }\r\n            catch (err) {\r\n                reject(\"CommonApp initialization failed: {\" + err + \"}\");\r\n            }\r\n            _CommonUI__WEBPACK_IMPORTED_MODULE_1__[\"initialize\"]()\r\n                .then(function onInitializeFulfilled() {\r\n                _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().setInAppFeedbackInitOptions(_Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().OfficeBrowserFeedback.initOptions);\r\n                initialized = true;\r\n                resolve();\r\n            })\r\n                .catch(function onInitializeRejected(err) { reject(\"Initialization failed: {\" + err + \"}\"); });\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\n/**\r\n * Has the control been opened. Prevents more than one dialog being generated.\r\n */\r\nvar opened = false;\r\n/**\r\n * Handler to launch the multi feedback dialog\r\n * @param launchOptions optional feedback properties\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction multiFeedback(launchOptions) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (opened) {\r\n            reject(\"Control already open\");\r\n            return;\r\n        }\r\n        initialize()\r\n            .then(function onInitializeFulfilled() {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().setInAppFeedbackLaunchOptions(launchOptions);\r\n            _UI_BellyBand_BellyBand__WEBPACK_IMPORTED_MODULE_4__[\"createMulti\"](function () { opened = false; });\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"EventIds\"].InApp.UI.Picker.Shown.VALUE, 1 /* Critical */, {\r\n                IsBugEnabled: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getInAppFeedbackInitOptions().bugForm,\r\n            });\r\n            opened = true;\r\n            resolve();\r\n        })\r\n            .catch(function onInitializeRejected(err) { reject(\"Initialization failed: {\" + err + \"}\"); });\r\n    });\r\n}\r\n/**\r\n * Handler to launch the single feedback dialog\r\n * @param feedbackType the feedback type\r\n * @param launchOptions optional feedback properties\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction singleFeedback(feedbackType, launchOptions) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (opened) {\r\n            reject(\"Control already open\");\r\n            return;\r\n        }\r\n        var feedbackTypeEnum = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"validateFeedbackType\"](feedbackType);\r\n        initialize()\r\n            .then(function onInitializeFulfilled() {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().setInAppFeedbackLaunchOptions(launchOptions);\r\n            _UI_BellyBand_BellyBand__WEBPACK_IMPORTED_MODULE_4__[\"createSingle\"](function () { opened = false; }, feedbackTypeEnum);\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"EventIds\"].InApp.UI.Form.Shown.VALUE, 1 /* Critical */, {\r\n                FeedbackType: feedbackTypeEnum,\r\n            });\r\n            opened = true;\r\n            resolve();\r\n        })\r\n            .catch(function onInitializeRejected(err) { reject(\"Initialization failed: {\" + err + \"}\"); });\r\n    });\r\n}\r\nfunction getFeedbackStatus() {\r\n    if (_Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().OfficeBrowserFeedback.initOptions.isCommercialHost &&\r\n        _Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().OfficeBrowserFeedback.initOptions.sendFeedbackPolicyValue === 2 /* Disabled */) {\r\n        return 1 /* DisabledByAdmin */;\r\n    }\r\n    if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().determineAADCPolicy(_Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().OfficeBrowserFeedback.initOptions.authenticationType, _Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().OfficeBrowserFeedback.initOptions.ageGroup)) {\r\n        return 2 /* DisabledByAgeGroup */;\r\n    }\r\n    return 0 /* Enabled */;\r\n}\r\n/**\r\n * Reset the inappfeedback module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    _CommonApp__WEBPACK_IMPORTED_MODULE_0__[\"reset\"]();\r\n    _CommonUI__WEBPACK_IMPORTED_MODULE_1__[\"reset\"]();\r\n    initialized = false;\r\n    opened = false;\r\n}\r\n/* Make the FeedbackDialog methods available globally */\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"setMultiFeedback\"](multiFeedback);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"setSingleFeedback\"](singleFeedback);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__[\"setFeedbackStatus\"](getFeedbackStatus);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9BcHBfSW5BcHBGZWVkYmFjay50cz8zOTRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFc0M7QUFDRjtBQUN3QjtBQUNsQjtBQUNFO0FBQ0w7QUFJMUM7O0dBRUc7QUFDSCxJQUFJLFdBQVcsR0FBWSxLQUFLLENBQUM7QUFFakM7OztHQUdHO0FBQ0ksU0FBUyxVQUFVO0lBQ3pCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNsQyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2pCLElBQUk7Z0JBQ0gscURBQW9CLEVBQUUsQ0FBQzthQUN2QjtZQUFDLE9BQU8sR0FBRyxFQUFFO2dCQUNiLE1BQU0sQ0FBQyxvQ0FBb0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7YUFDekQ7WUFFRCxvREFBbUIsRUFBRTtpQkFDcEIsSUFBSSxDQUNKLFNBQVMscUJBQXFCO2dCQUM3QixnRUFBaUIsRUFBRSxDQUFDLDJCQUEyQixDQUFDLGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDaEcsV0FBVyxHQUFHLElBQUksQ0FBQztnQkFDbkIsT0FBTyxFQUFFLENBQUM7WUFDWCxDQUFDLENBQ0Q7aUJBQ0EsS0FBSyxDQUNMLFNBQVMsb0JBQW9CLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQywwQkFBMEIsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ3RGLENBQUM7U0FDRjthQUFNO1lBQ04sT0FBTyxFQUFFLENBQUM7U0FDVjtJQUNGLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEOztHQUVHO0FBQ0gsSUFBSSxNQUFNLEdBQVksS0FBSyxDQUFDO0FBRTVCOzs7O0dBSUc7QUFDSSxTQUFTLGFBQWEsQ0FBQyxhQUEyQztJQUN4RSxPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDbEMsSUFBSSxNQUFNLEVBQUU7WUFDWCxNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUMvQixPQUFPO1NBQ1A7UUFFRCxVQUFVLEVBQUU7YUFDWCxJQUFJLENBQ0osU0FBUyxxQkFBcUI7WUFDN0IsZ0VBQWlCLEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNqRSxtRUFBYyxDQUFDLGNBQWMsTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hELDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLG9CQUV4RTtnQkFDQyxZQUFZLEVBQUUsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLE9BQU87YUFDdkUsQ0FBQyxDQUFDO1lBQ0osTUFBTSxHQUFHLElBQUksQ0FBQztZQUNkLE9BQU8sRUFBRSxDQUFDO1FBQ1gsQ0FBQyxDQUNEO2FBQ0EsS0FBSyxDQUNMLFNBQVMsb0JBQW9CLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQywwQkFBMEIsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ3RGLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7Ozs7R0FLRztBQUNJLFNBQVMsY0FBYyxDQUFDLFlBQW9CLEVBQUUsYUFBMkM7SUFDL0YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQUksTUFBTSxFQUFFO1lBQ1gsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDL0IsT0FBTztTQUNQO1FBRUQsSUFBSSxnQkFBZ0IsR0FBRyxpRkFBa0MsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUV4RSxVQUFVLEVBQUU7YUFDWCxJQUFJLENBQ0osU0FBUyxxQkFBcUI7WUFDN0IsZ0VBQWlCLEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNqRSxvRUFBZSxDQUFDLGNBQWMsTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ25FLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG9CQUV0RTtnQkFDQyxZQUFZLEVBQUUsZ0JBQWdCO2FBQzlCLENBQUMsQ0FBQztZQUNKLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDZCxPQUFPLEVBQUUsQ0FBQztRQUNYLENBQUMsQ0FDRDthQUNBLEtBQUssQ0FDTCxTQUFTLG9CQUFvQixDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsMEJBQTBCLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUN0RixDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRU0sU0FBUyxpQkFBaUI7SUFFaEMsSUFBSSxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLGdCQUFnQjtRQUNuRSxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLHVCQUF1QixxQkFBd0IsRUFBRTtRQUMvRiwrQkFBc0M7S0FDdEM7SUFFRCxJQUFJLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUM5RyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3pELGtDQUF5QztLQUN6QztJQUVELHVCQUE4QjtBQUMvQixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLEtBQUs7SUFDcEIsZ0RBQWUsRUFBRSxDQUFDO0lBQ2xCLCtDQUFjLEVBQUUsQ0FBQztJQUNqQixXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDaEIsQ0FBQztBQUVELHdEQUF3RDtBQUN4RCwrREFBdUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2QyxnRUFBd0IsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxnRUFBd0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQXBwX0luQXBwRmVlZGJhY2sudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQXBwX2luQXBwRmVlZGJhY2sudHNcclxuICpcclxuICogVGhlIGVudHJ5IHBvaW50IGZvciBpbkFwcEZlZWRiYWNrLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIENvbW1vbkFwcCBmcm9tIFwiLi9Db21tb25BcHBcIjtcclxuaW1wb3J0ICogYXMgQ29tbW9uVUkgZnJvbSBcIi4vQ29tbW9uVUlcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuaW1wb3J0ICogYXMgVUkgZnJvbSBcIi4vVUkvQmVsbHlCYW5kL0JlbGx5QmFuZFwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgeyBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2sgfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zXCI7XHJcbmltcG9ydCB7IE9DUFNWYWx1ZXMsIEZlZWRiYWNrU3RhdHVzIH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcblxyXG4vKipcclxuICogSGFzIGluQXBwRmVlZGJhY2sgYmVlbiBpbml0aWFsaXplZFxyXG4gKi9cclxubGV0IGluaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZVxyXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSByZWplY3RlZCBpZiB0aGUgY2FsbCBmYWlscy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IFByb21pc2U8YW55PiB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGlmICghaW5pdGlhbGl6ZWQpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRDb21tb25BcHAuaW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRyZWplY3QoXCJDb21tb25BcHAgaW5pdGlhbGl6YXRpb24gZmFpbGVkOiB7XCIgKyBlcnIgKyBcIn1cIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdENvbW1vblVJLmluaXRpYWxpemUoKVxyXG5cdFx0XHQudGhlbihcclxuXHRcdFx0XHRmdW5jdGlvbiBvbkluaXRpYWxpemVGdWxmaWxsZWQoKSB7XHJcblx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLnNldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucyhXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zKTtcclxuXHRcdFx0XHRcdGluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdClcclxuXHRcdFx0LmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZVJlamVjdGVkKGVycikgeyByZWplY3QoXCJJbml0aWFsaXphdGlvbiBmYWlsZWQ6IHtcIiArIGVyciArIFwifVwiKTsgfVxyXG5cdFx0XHQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG4vKipcclxuICogSGFzIHRoZSBjb250cm9sIGJlZW4gb3BlbmVkLiBQcmV2ZW50cyBtb3JlIHRoYW4gb25lIGRpYWxvZyBiZWluZyBnZW5lcmF0ZWQuXHJcbiAqL1xyXG5sZXQgb3BlbmVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogSGFuZGxlciB0byBsYXVuY2ggdGhlIG11bHRpIGZlZWRiYWNrIGRpYWxvZ1xyXG4gKiBAcGFyYW0gbGF1bmNoT3B0aW9ucyBvcHRpb25hbCBmZWVkYmFjayBwcm9wZXJ0aWVzXHJcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIHJlamVjdGVkIGlmIHRoZSBjYWxsIGZhaWxzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpRmVlZGJhY2sobGF1bmNoT3B0aW9ucz86IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjayk6IFByb21pc2U8YW55PiB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGlmIChvcGVuZWQpIHtcclxuXHRcdFx0cmVqZWN0KFwiQ29udHJvbCBhbHJlYWR5IG9wZW5cIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpbml0aWFsaXplKClcclxuXHRcdC50aGVuKFxyXG5cdFx0XHRmdW5jdGlvbiBvbkluaXRpYWxpemVGdWxmaWxsZWQoKSB7XHJcblx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5zZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucyhsYXVuY2hPcHRpb25zKTtcclxuXHRcdFx0XHRVSS5jcmVhdGVNdWx0aShmdW5jdGlvbiAoKSB7IG9wZW5lZCA9IGZhbHNlOyB9KTtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuSW5BcHAuVUkuUGlja2VyLlNob3duLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0SXNCdWdFbmFibGVkOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLmJ1Z0Zvcm0sXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRvcGVuZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0LmNhdGNoKFxyXG5cdFx0XHRmdW5jdGlvbiBvbkluaXRpYWxpemVSZWplY3RlZChlcnIpIHsgcmVqZWN0KFwiSW5pdGlhbGl6YXRpb24gZmFpbGVkOiB7XCIgKyBlcnIgKyBcIn1cIik7IH1cclxuXHRcdCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVyIHRvIGxhdW5jaCB0aGUgc2luZ2xlIGZlZWRiYWNrIGRpYWxvZ1xyXG4gKiBAcGFyYW0gZmVlZGJhY2tUeXBlIHRoZSBmZWVkYmFjayB0eXBlXHJcbiAqIEBwYXJhbSBsYXVuY2hPcHRpb25zIG9wdGlvbmFsIGZlZWRiYWNrIHByb3BlcnRpZXNcclxuICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHdpbGwgYmUgcmVqZWN0ZWQgaWYgdGhlIGNhbGwgZmFpbHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlRmVlZGJhY2soZmVlZGJhY2tUeXBlOiBzdHJpbmcsIGxhdW5jaE9wdGlvbnM/OiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spOiBQcm9taXNlPGFueT4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRpZiAob3BlbmVkKSB7XHJcblx0XHRcdHJlamVjdChcIkNvbnRyb2wgYWxyZWFkeSBvcGVuXCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGZlZWRiYWNrVHlwZUVudW0gPSBDb25maWd1cmF0aW9uLnZhbGlkYXRlRmVlZGJhY2tUeXBlKGZlZWRiYWNrVHlwZSk7XHJcblxyXG5cdFx0aW5pdGlhbGl6ZSgpXHJcblx0XHQudGhlbihcclxuXHRcdFx0ZnVuY3Rpb24gb25Jbml0aWFsaXplRnVsZmlsbGVkKCkge1xyXG5cdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0SW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnMobGF1bmNoT3B0aW9ucyk7XHJcblx0XHRcdFx0VUkuY3JlYXRlU2luZ2xlKGZ1bmN0aW9uICgpIHsgb3BlbmVkID0gZmFsc2U7IH0sIGZlZWRiYWNrVHlwZUVudW0pO1xyXG5cdFx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5JbkFwcC5VSS5Gb3JtLlNob3duLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0RmVlZGJhY2tUeXBlOiBmZWVkYmFja1R5cGVFbnVtLFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0b3BlbmVkID0gdHJ1ZTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHRcdC5jYXRjaChcclxuXHRcdFx0ZnVuY3Rpb24gb25Jbml0aWFsaXplUmVqZWN0ZWQoZXJyKSB7IHJlamVjdChcIkluaXRpYWxpemF0aW9uIGZhaWxlZDoge1wiICsgZXJyICsgXCJ9XCIpOyB9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmVlZGJhY2tTdGF0dXMoKTogRmVlZGJhY2tTdGF0dXMge1xyXG5cclxuXHRpZiAoV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5pbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0ICYmXHJcblx0V2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5pbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSA9PT0gT0NQU1ZhbHVlcy5EaXNhYmxlZCkge1xyXG5cdFx0cmV0dXJuIEZlZWRiYWNrU3RhdHVzLkRpc2FibGVkQnlBZG1pbjtcclxuXHR9XHJcblxyXG5cdGlmICghQ29uZmlndXJhdGlvbi5nZXQoKS5kZXRlcm1pbmVBQURDUG9saWN5KFdpbmRvdy5nZXQoKS5PZmZpY2VCcm93c2VyRmVlZGJhY2suaW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFdpbmRvdy5nZXQoKS5PZmZpY2VCcm93c2VyRmVlZGJhY2suaW5pdE9wdGlvbnMuYWdlR3JvdXApKSB7XHJcblx0XHRyZXR1cm4gRmVlZGJhY2tTdGF0dXMuRGlzYWJsZWRCeUFnZUdyb3VwO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIEZlZWRiYWNrU3RhdHVzLkVuYWJsZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgaW5hcHBmZWVkYmFjayBtb2R1bGUuIFVzZWQgaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcclxuXHRDb21tb25BcHAucmVzZXQoKTtcclxuXHRDb21tb25VSS5yZXNldCgpO1xyXG5cdGluaXRpYWxpemVkID0gZmFsc2U7XHJcblx0b3BlbmVkID0gZmFsc2U7XHJcbn1cclxuXHJcbi8qIE1ha2UgdGhlIEZlZWRiYWNrRGlhbG9nIG1ldGhvZHMgYXZhaWxhYmxlIGdsb2JhbGx5ICovXHJcbldpbmRvdy5zZXRNdWx0aUZlZWRiYWNrKG11bHRpRmVlZGJhY2spO1xyXG5XaW5kb3cuc2V0U2luZ2xlRmVlZGJhY2soc2luZ2xlRmVlZGJhY2spO1xyXG5XaW5kb3cuc2V0RmVlZGJhY2tTdGF0dXMoZ2V0RmVlZGJhY2tTdGF0dXMpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/App_InAppFeedback.ts\n");

/***/ }),

/***/ "./scripts/app/CommonApp.ts":
/*!**********************************!*\
  !*** ./scripts/app/CommonApp.ts ***!
  \**********************************/
/*! exports provided: initialize, reset, isFeedbackSurveyEnabledByAADC */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFeedbackSurveyEnabledByAADC\", function() { return isFeedbackSurveyEnabledByAADC; });\n/* harmony import */ var _Polyfills_Promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Polyfills/Promise */ \"./scripts/app/Polyfills/Promise.ts\");\n/* harmony import */ var _Version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Version */ \"./scripts/app/Version.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * CommonApp.ts\r\n *\r\n * Common logic for entrypoints.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar APP_NAME = \"OfficeFeedbackSDK\";\r\n/**\r\n * Has the SDK been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Has the SDK allow AADC\r\n */\r\nvar commonPolicyAllowAADC = false;\r\n/**\r\n * Initialize\r\n */\r\nfunction initialize() {\r\n    if (initialized) {\r\n        return;\r\n    }\r\n    if (!_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.initOptions) {\r\n        throw new Error(\"Window.OfficeBrowserFeedback.initOptions not set\");\r\n    }\r\n    _Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.sdkVersion = _Version__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().setCommonInitOptions(_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.initOptions);\r\n    commonPolicyAllowAADC = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().isFeedbackSurveyEnabledByAADC();\r\n    _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"initialize\"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions(), APP_NAME, _Version__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getSdkSessionId(), _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getEventSampling());\r\n    initialized = true;\r\n    if (!commonPolicyAllowAADC) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].FEEDBACK_SURVEYSDISABLED_AADC, 1 /* Critical */, {\r\n            Data: JSON.stringify({\r\n                ageGroup: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions().ageGroup,\r\n                authenticationType: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions().authenticationType,\r\n            }),\r\n        });\r\n    }\r\n}\r\n/**\r\n * Reset the module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n}\r\n/**\r\n * Return Flag to determine whether Feedback and Survey is enabled by AADC.\r\n * Return true if Feedback and Survey is enabled.\r\n * Otherwise, return false.\r\n */\r\nfunction isFeedbackSurveyEnabledByAADC() {\r\n    return commonPolicyAllowAADC;\r\n}\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"setIsFeedbackSurveyEnabledByAADC\"](isFeedbackSurveyEnabledByAADC);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25BcHAudHM/MWE5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRTBCO0FBRUc7QUFDK0I7QUFDckI7QUFDRztBQUU3QyxJQUFNLFFBQVEsR0FBVyxtQkFBbUIsQ0FBQztBQUU3Qzs7R0FFRztBQUNILElBQUksV0FBVyxHQUFZLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILElBQUkscUJBQXFCLEdBQVksS0FBSyxDQUFDO0FBRTNDOztHQUVHO0FBQ0ksU0FBUyxVQUFVO0lBQ3pCLElBQUksV0FBVyxFQUFFO1FBQ2hCLE9BQU87S0FDUDtJQUVELElBQUksQ0FBQyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxFQUFFO1FBQ3BELE1BQU0sSUFBSSxLQUFLLENBQUMsa0RBQWtELENBQUMsQ0FBQztLQUNwRTtJQUVELGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLEdBQUcsZ0RBQU8sQ0FBQztJQUN4RCxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixDQUFDLGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN6RixxQkFBcUIsR0FBRyxnRUFBaUIsRUFBRSxDQUFDLDZCQUE2QixFQUFFLENBQUM7SUFFNUUsMkRBQWtCLENBQ2pCLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsRUFDMUMsUUFBUSxFQUNSLGdEQUFPLEVBQ1AsZ0VBQWlCLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFDckMsZ0VBQWlCLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUN0QyxDQUFDO0lBRUYsV0FBVyxHQUFHLElBQUksQ0FBQztJQUVuQixJQUFJLENBQUMscUJBQXFCLEVBQUU7UUFDM0IsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsNkJBQTZCLG9CQUUxRTtZQUNDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUNwQixRQUFRLEVBQUUsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFFBQVE7Z0JBQzdELGtCQUFrQixFQUFFLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxrQkFBa0I7YUFDakYsQ0FBQztTQUNGLENBQUMsQ0FBQztLQUNKO0FBQ0YsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxLQUFLO0lBQ3BCLFdBQVcsR0FBRyxLQUFLLENBQUM7QUFDckIsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSSxTQUFTLDZCQUE2QjtJQUM1QyxPQUFPLHFCQUFxQixDQUFDO0FBQzlCLENBQUM7QUFFRCwrRUFBdUMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQ29tbW9uQXBwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbW1vbkFwcC50c1xyXG4gKlxyXG4gKiBDb21tb24gbG9naWMgZm9yIGVudHJ5cG9pbnRzLlxyXG4gKi9cclxuXHJcbmltcG9ydCBcIi4vUG9seWZpbGxzL1Byb21pc2VcIjtcclxuXHJcbmltcG9ydCBWZXJzaW9uIGZyb20gXCIuL1ZlcnNpb25cIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0ICogYXMgV2luZG93IGZyb20gXCIuL1dpbmRvdy9XaW5kb3dcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmNvbnN0IEFQUF9OQU1FOiBzdHJpbmcgPSBcIk9mZmljZUZlZWRiYWNrU0RLXCI7XHJcblxyXG4vKipcclxuICogSGFzIHRoZSBTREsgYmVlbiBpbml0aWFsaXplZFxyXG4gKi9cclxubGV0IGluaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogSGFzIHRoZSBTREsgYWxsb3cgQUFEQ1xyXG4gKi9cclxubGV0IGNvbW1vblBvbGljeUFsbG93QUFEQzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IHZvaWQge1xyXG5cdGlmIChpbml0aWFsaXplZCkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0aWYgKCFXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJXaW5kb3cuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zIG5vdCBzZXRcIik7XHJcblx0fVxyXG5cclxuXHRXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNka1ZlcnNpb24gPSBWZXJzaW9uO1xyXG5cdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0Q29tbW9uSW5pdE9wdGlvbnMoV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5pbml0T3B0aW9ucyk7XHJcblx0Y29tbW9uUG9saWN5QWxsb3dBQURDID0gQ29uZmlndXJhdGlvbi5nZXQoKS5pc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQygpO1xyXG5cclxuXHRMb2dnaW5nLmluaXRpYWxpemUoXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCksXHJcblx0XHRBUFBfTkFNRSxcclxuXHRcdFZlcnNpb24sXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldFNka1Nlc3Npb25JZCgpLFxyXG5cdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRFdmVudFNhbXBsaW5nKClcclxuXHQpO1xyXG5cclxuXHRpbml0aWFsaXplZCA9IHRydWU7XHJcblxyXG5cdGlmICghY29tbW9uUG9saWN5QWxsb3dBQURDKSB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuRkVFREJBQ0tfU1VSVkVZU0RJU0FCTEVEX0FBREMsXHJcblx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdHtcclxuXHRcdFx0XHREYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XHRhZ2VHcm91cDogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFnZUdyb3VwLFxyXG5cdFx0XHRcdFx0YXV0aGVudGljYXRpb25UeXBlOiBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgbW9kdWxlLiBVc2VkIGluIHVuaXQgdGVzdHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XHJcblx0aW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBGbGFnIHRvIGRldGVybWluZSB3aGV0aGVyIEZlZWRiYWNrIGFuZCBTdXJ2ZXkgaXMgZW5hYmxlZCBieSBBQURDLlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiBGZWVkYmFjayBhbmQgU3VydmV5IGlzIGVuYWJsZWQuXHJcbiAqIE90aGVyd2lzZSwgcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmVlZGJhY2tTdXJ2ZXlFbmFibGVkQnlBQURDKCk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiBjb21tb25Qb2xpY3lBbGxvd0FBREM7XHJcbn1cclxuXHJcbldpbmRvdy5zZXRJc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyhpc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/CommonApp.ts\n");

/***/ }),

/***/ "./scripts/app/CommonUI.ts":
/*!*********************************!*\
  !*** ./scripts/app/CommonUI.ts ***!
  \*********************************/
/*! exports provided: initialize, reset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Theme */ \"./scripts/app/Theme.ts\");\n/* harmony import */ var _Screenshot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Screenshot */ \"./scripts/app/Screenshot.ts\");\n/* harmony import */ var _Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Window/DomUtils */ \"./scripts/app/Window/DomUtils.ts\");\n/* harmony import */ var _UI_UiConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UI/UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Utils */ \"./scripts/app/Utils.ts\");\n/**\r\n * CommonUI.ts\r\n *\r\n * Common logic for UI.\r\n */\r\nvar html2canvas = __webpack_require__(/*! ../app/thirdparty/html2canvas/html2canvas */ \"./scripts/app/thirdparty/html2canvas/html2canvas.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has the SDK been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Set ui Strings.\r\n * @param data the ui strings\r\n */\r\nfunction setUIStrings(data) {\r\n    _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"setUIStrings\"](data);\r\n}\r\n;\r\n/**\r\n * Initialize\r\n */\r\nfunction initialize() {\r\n    return new Promise(function (resolve, reject) {\r\n        if (!initialized) {\r\n            var initOptionsCommon = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions();\r\n            if (!initOptionsCommon) {\r\n                reject(\"initOptionsCommon is null\");\r\n            }\r\n            // Check if custom CSS is being passed.\r\n            // tslint:disable-next-line: no-bitwise\r\n            if ((initOptionsCommon.customResourcesSetExternally & _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"CustomResources\"].Css) === _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"CustomResources\"].Css) {\r\n                var selector = \"#\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].TPromptTitle;\r\n                if (!Object(_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCssSelectorToBeSet\"])(selector)) {\r\n                    reject(\"Expected custom Css to be set by host but \" + selector + \" was not found to be set.\");\r\n                }\r\n            }\r\n            else {\r\n                Object(_Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__[\"loadStylesheet\"])(initOptionsCommon.stylesUrl);\r\n            }\r\n            _Theme__WEBPACK_IMPORTED_MODULE_3__[\"initialize\"](initOptionsCommon.primaryColour, initOptionsCommon.secondaryColour);\r\n            // Check if custom strings are being passed.\r\n            // tslint:disable-next-line: no-bitwise\r\n            if ((initOptionsCommon.customResourcesSetExternally & _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"CustomResources\"].Strings) === _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"CustomResources\"].Strings) {\r\n                if (!_UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]()) {\r\n                    reject(\"Expected custom strings to be set by host but UIStrings.getUIStrings() is null or undefined\");\r\n                }\r\n                initialized = true;\r\n                resolve();\r\n            }\r\n            else {\r\n                var intlFileUrl_1 = initOptionsCommon.intlUrl + initOptionsCommon.locale.toLowerCase() + \"/\" +\r\n                    initOptionsCommon.intlFilename;\r\n                Object(_Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__[\"loadScript\"])(intlFileUrl_1)\r\n                    .then(function () {\r\n                    if (!_UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]()) {\r\n                        reject(\"UiStrings were not loaded from \" + intlFileUrl_1);\r\n                        return;\r\n                    }\r\n                    initialized = true;\r\n                    resolve();\r\n                    return;\r\n                }).catch(function (err) {\r\n                    reject(\"Script load failed for \" + intlFileUrl_1 + \". \" + err);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\n/**\r\n * Reset the module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n}\r\n/* Make the setUIStrings method available globally */\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__[\"setSetUiStrings\"](setUIStrings);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__[\"setCreateScreenshot\"](_Screenshot__WEBPACK_IMPORTED_MODULE_4__[\"createScreenshot\"]);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().OfficeBrowserFeedback.html2canvas = html2canvas;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25VSS50cz8wYWIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRUgsSUFBTSxXQUFXLEdBQVEsbUJBQU8sQ0FBQyxzR0FBMkMsQ0FBQyxDQUFDO0FBRTNCO0FBQ1k7QUFDckI7QUFDVDtBQUNVO0FBQ29CO0FBQ3hCO0FBQ1c7QUFFbEQ7O0dBRUc7QUFDSCxJQUFJLFdBQVcsR0FBWSxLQUFLLENBQUM7QUFFakM7OztHQUdHO0FBQ0gsU0FBUyxZQUFZLENBQUMsSUFBUztJQUM5QixpRUFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QixDQUFDO0FBQUEsQ0FBQztBQUVGOztHQUVHO0FBQ0ksU0FBUyxVQUFVO0lBQ3pCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNsQyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2pCLElBQU0saUJBQWlCLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBQ3JFLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtnQkFDdkIsTUFBTSxDQUFDLDJCQUEyQixDQUFDLENBQUM7YUFDcEM7WUFFRCx1Q0FBdUM7WUFDdkMsdUNBQXVDO1lBQ3ZDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyw0QkFBNEIsR0FBRyw0RUFBNkIsQ0FBQyxHQUFHLENBQUMsS0FBSyw0RUFBNkIsQ0FBQyxHQUFHLEVBQUU7Z0JBQy9ILElBQU0sUUFBUSxHQUFHLEdBQUcsR0FBRyxtREFBRyxDQUFDLFlBQVksQ0FBQztnQkFFeEMsSUFBSSxDQUFDLHNFQUF1QixDQUFDLFFBQVEsQ0FBQyxFQUFFO29CQUN2QyxNQUFNLENBQUMsNENBQTRDLEdBQUcsUUFBUSxHQUFHLDJCQUEyQixDQUFDLENBQUM7aUJBQzlGO2FBQ0Q7aUJBQU07Z0JBQ04sdUVBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUM1QztZQUVELGlEQUFnQixDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUVyRiw0Q0FBNEM7WUFDNUMsdUNBQXVDO1lBQ3ZDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyw0QkFBNEIsR0FBRyw0RUFBNkIsQ0FBQyxPQUFPLENBQUMsS0FBSyw0RUFBNkIsQ0FBQyxPQUFPLEVBQUU7Z0JBRXZJLElBQUksQ0FBQyxpRUFBc0IsRUFBRSxFQUFFO29CQUM5QixNQUFNLENBQUMsNkZBQTZGLENBQUMsQ0FBQztpQkFDdEc7Z0JBRUQsV0FBVyxHQUFHLElBQUksQ0FBQztnQkFDbkIsT0FBTyxFQUFFLENBQUM7YUFDVjtpQkFBTTtnQkFFTixJQUFNLGFBQVcsR0FBSSxpQkFBaUIsQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxHQUFHLEdBQUc7b0JBQzVGLGlCQUFpQixDQUFDLFlBQVksQ0FBQztnQkFFaEMsbUVBQVUsQ0FBQyxhQUFXLENBQUM7cUJBQ3RCLElBQUksQ0FDSjtvQkFDQyxJQUFJLENBQUMsaUVBQXNCLEVBQUUsRUFBRTt3QkFDOUIsTUFBTSxDQUFDLGlDQUFpQyxHQUFHLGFBQVcsQ0FBQyxDQUFDO3dCQUN4RCxPQUFPO3FCQUNQO29CQUVELFdBQVcsR0FBRyxJQUFJLENBQUM7b0JBQ25CLE9BQU8sRUFBRSxDQUFDO29CQUNWLE9BQU87Z0JBQ1IsQ0FBQyxDQUNELENBQUMsS0FBSyxDQUNOLFVBQUMsR0FBRztvQkFDSCxNQUFNLENBQUMseUJBQXlCLEdBQUcsYUFBVyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDOUQsQ0FBQyxDQUNELENBQUM7YUFDRjtTQUNEO2FBQU07WUFDTixPQUFPLEVBQUUsQ0FBQztTQUNWO0lBQ0YsQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLEtBQUs7SUFDcEIsV0FBVyxHQUFHLEtBQUssQ0FBQztBQUNyQixDQUFDO0FBRUQscURBQXFEO0FBQ3JELDhEQUFzQixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3JDLGtFQUEwQixDQUFDLDREQUEyQixDQUFDLENBQUM7QUFDeEQsa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db21tb25VSS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb21tb25VSS50c1xyXG4gKlxyXG4gKiBDb21tb24gbG9naWMgZm9yIFVJLlxyXG4gKi9cclxuXHJcbmNvbnN0IGh0bWwyY2FudmFzOiBhbnkgPSByZXF1aXJlKFwiLi4vYXBwL3RoaXJkcGFydHkvaHRtbDJjYW52YXMvaHRtbDJjYW52YXNcIik7XHJcblxyXG5pbXBvcnQgKiBhcyBVSVN0cmluZ3MgZnJvbSBcIi4vVUlTdHJpbmdzL1VJU3RyaW5nc1wiO1xyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgKiBhcyBUaGVtZSBmcm9tIFwiLi9UaGVtZVwiO1xyXG5pbXBvcnQgKiBhcyBTY3JlZW5zaG90IGZyb20gXCIuL1NjcmVlbnNob3RcIjtcclxuaW1wb3J0IHsgbG9hZFN0eWxlc2hlZXQsIGxvYWRTY3JpcHQgfSBmcm9tIFwiLi9XaW5kb3cvRG9tVXRpbHNcIjtcclxuaW1wb3J0IHsgSURzIH0gZnJvbSBcIi4vVUkvVWlDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgY2hlY2tDc3NTZWxlY3RvclRvQmVTZXQgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIEhhcyB0aGUgU0RLIGJlZW4gaW5pdGlhbGl6ZWRcclxuICovXHJcbmxldCBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIFNldCB1aSBTdHJpbmdzLlxyXG4gKiBAcGFyYW0gZGF0YSB0aGUgdWkgc3RyaW5nc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0VUlTdHJpbmdzKGRhdGE6IGFueSk6IHZvaWQge1xyXG5cdFVJU3RyaW5ncy5zZXRVSVN0cmluZ3MoZGF0YSk7XHJcbn07XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0aWYgKCFpbml0aWFsaXplZCkge1xyXG5cdFx0XHRjb25zdCBpbml0T3B0aW9uc0NvbW1vbiA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0aWYgKCFpbml0T3B0aW9uc0NvbW1vbikge1xyXG5cdFx0XHRcdHJlamVjdChcImluaXRPcHRpb25zQ29tbW9uIGlzIG51bGxcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENoZWNrIGlmIGN1c3RvbSBDU1MgaXMgYmVpbmcgcGFzc2VkLlxyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWJpdHdpc2VcclxuXHRcdFx0aWYgKChpbml0T3B0aW9uc0NvbW1vbi5jdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5ICYgQ29uZmlndXJhdGlvbi5DdXN0b21SZXNvdXJjZXMuQ3NzKSA9PT0gQ29uZmlndXJhdGlvbi5DdXN0b21SZXNvdXJjZXMuQ3NzKSB7XHJcblx0XHRcdFx0Y29uc3Qgc2VsZWN0b3IgPSBcIiNcIiArIElEcy5UUHJvbXB0VGl0bGU7XHJcblxyXG5cdFx0XHRcdGlmICghY2hlY2tDc3NTZWxlY3RvclRvQmVTZXQoc2VsZWN0b3IpKSB7XHJcblx0XHRcdFx0XHRyZWplY3QoXCJFeHBlY3RlZCBjdXN0b20gQ3NzIHRvIGJlIHNldCBieSBob3N0IGJ1dCBcIiArIHNlbGVjdG9yICsgXCIgd2FzIG5vdCBmb3VuZCB0byBiZSBzZXQuXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsb2FkU3R5bGVzaGVldChpbml0T3B0aW9uc0NvbW1vbi5zdHlsZXNVcmwpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRUaGVtZS5pbml0aWFsaXplKGluaXRPcHRpb25zQ29tbW9uLnByaW1hcnlDb2xvdXIsIGluaXRPcHRpb25zQ29tbW9uLnNlY29uZGFyeUNvbG91cik7XHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiBjdXN0b20gc3RyaW5ncyBhcmUgYmVpbmcgcGFzc2VkLlxyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWJpdHdpc2VcclxuXHRcdFx0aWYgKChpbml0T3B0aW9uc0NvbW1vbi5jdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5ICYgQ29uZmlndXJhdGlvbi5DdXN0b21SZXNvdXJjZXMuU3RyaW5ncykgPT09IENvbmZpZ3VyYXRpb24uQ3VzdG9tUmVzb3VyY2VzLlN0cmluZ3MpIHtcclxuXHJcblx0XHRcdFx0aWYgKCFVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkpIHtcclxuXHRcdFx0XHRcdHJlamVjdChcIkV4cGVjdGVkIGN1c3RvbSBzdHJpbmdzIHRvIGJlIHNldCBieSBob3N0IGJ1dCBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkgaXMgbnVsbCBvciB1bmRlZmluZWRcIik7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zdCBpbnRsRmlsZVVybCA9ICBpbml0T3B0aW9uc0NvbW1vbi5pbnRsVXJsICsgaW5pdE9wdGlvbnNDb21tb24ubG9jYWxlLnRvTG93ZXJDYXNlKCkgKyBcIi9cIiArXHJcblx0XHRcdFx0XHRpbml0T3B0aW9uc0NvbW1vbi5pbnRsRmlsZW5hbWU7XHJcblxyXG5cdFx0XHRcdGxvYWRTY3JpcHQoaW50bEZpbGVVcmwpXHJcblx0XHRcdFx0LnRoZW4oXHJcblx0XHRcdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVqZWN0KFwiVWlTdHJpbmdzIHdlcmUgbm90IGxvYWRlZCBmcm9tIFwiICsgaW50bEZpbGVVcmwpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdFx0KGVycikgPT4ge1xyXG5cdFx0XHRcdFx0XHRyZWplY3QoXCJTY3JpcHQgbG9hZCBmYWlsZWQgZm9yIFwiICsgaW50bEZpbGVVcmwgKyBcIi4gXCIgKyBlcnIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlc29sdmUoKTtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc2V0IHRoZSBtb2R1bGUuIFVzZWQgaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcclxuXHRpbml0aWFsaXplZCA9IGZhbHNlO1xyXG59XHJcblxyXG4vKiBNYWtlIHRoZSBzZXRVSVN0cmluZ3MgbWV0aG9kIGF2YWlsYWJsZSBnbG9iYWxseSAqL1xyXG5XaW5kb3cuc2V0U2V0VWlTdHJpbmdzKHNldFVJU3RyaW5ncyk7XHJcbldpbmRvdy5zZXRDcmVhdGVTY3JlZW5zaG90KFNjcmVlbnNob3QuY3JlYXRlU2NyZWVuc2hvdCk7XHJcbldpbmRvdy5nZXQoKS5PZmZpY2VCcm93c2VyRmVlZGJhY2suaHRtbDJjYW52YXMgPSBodG1sMmNhbnZhcztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/CommonUI.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/Configuration.ts":
/*!****************************************************!*\
  !*** ./scripts/app/Configuration/Configuration.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Configuration\", function() { return Configuration; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateFeedbackType\", function() { return validateFeedbackType; });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _Localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Localization */ \"./scripts/app/Localization.ts\");\n/* harmony import */ var _IInitOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IInitOptions */ \"./scripts/app/Configuration/IInitOptions.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomResources\", function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AgeGroup\", function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AuthenticationType\", function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"]; });\n\n/* harmony import */ var _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ILaunchOptions */ \"./scripts/app/Configuration/ILaunchOptions.ts\");\n/* harmony import */ var _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__) if([\"default\",\"Configuration\",\"get\",\"validateFeedbackType\",\"CustomResources\",\"AgeGroup\",\"AuthenticationType\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/**\r\n * Configuration.ts\r\n *\r\n * Module for logic relating to the sdk user configuration\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Class representing a configuration (user provided options)\r\n */\r\nvar Configuration = /** @class */ (function () {\r\n    function Configuration() {\r\n        this.feedbackSubmitted = false;\r\n    }\r\n    /**\r\n     * Validate category options, default \"show\" to false if CategoryOptions is not provided.\r\n     * @param categories Category options\r\n     * @returns {ICategoryOptions} the validated CategoryOptions\r\n     */\r\n    Configuration.validateCategoryOptions = function (categories) {\r\n        if (!categories) {\r\n            return { show: false };\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](categories.show, \"categories.show\");\r\n        if (categories.customCategories) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectArray\"](categories.customCategories, \"categories.customCategories\");\r\n            for (var _i = 0, _a = categories.customCategories; _i < _a.length; _i++) {\r\n                var customCategory = _a[_i];\r\n                _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](customCategory, \"custom category '\" + customCategory + \"'\");\r\n                if (customCategory.length > 20) {\r\n                    throw \"custom category '\" + customCategory + \"' too long, max 20 characters.\";\r\n                }\r\n            }\r\n        }\r\n        return categories;\r\n    };\r\n    Configuration.prototype.getFeedbackSubmitted = function () {\r\n        return this.feedbackSubmitted;\r\n    };\r\n    Configuration.prototype.setFeedbackSubmitted = function (value) {\r\n        this.feedbackSubmitted = value;\r\n    };\r\n    Configuration.prototype.getCommonInitOptions = function () {\r\n        return this.commonInitOptions;\r\n    };\r\n    Configuration.prototype.getInAppFeedbackInitOptions = function () {\r\n        return this.inAppFeedbackInitOptions;\r\n    };\r\n    Configuration.prototype.getInAppFeedbackLaunchOptions = function () {\r\n        return this.inAppFeedbackLaunchOptions;\r\n    };\r\n    Configuration.prototype.getFloodgateInitOptions = function () {\r\n        return this.floodgateInitOptions;\r\n    };\r\n    Configuration.prototype.getFloodgateSurvey = function () {\r\n        return this.floodgateSurvey;\r\n    };\r\n    Configuration.prototype.getSdkSessionId = function () {\r\n        if (!this.sdkSessionId) {\r\n            this.sdkSessionId = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"guid\"]();\r\n        }\r\n        return this.sdkSessionId;\r\n    };\r\n    Configuration.prototype.getEventSampling = function () {\r\n        return this.eventSampling;\r\n    };\r\n    /**\r\n     * Set initOptions for common functionality.\r\n     */\r\n    Configuration.prototype.setCommonInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectObject\"](passedInitOptions, \"passedInitOptions\");\r\n        var initOptions = {\r\n            appId: passedInitOptions.appId,\r\n            applicationGroup: passedInitOptions.applicationGroup || {},\r\n            build: passedInitOptions.build,\r\n            cid: passedInitOptions.cid,\r\n            environment: passedInitOptions.environment,\r\n            intlFilename: passedInitOptions.intlFilename,\r\n            intlUrl: passedInitOptions.intlUrl,\r\n            webSurfacesResourceBaseUrl: passedInitOptions.webSurfacesResourceBaseUrl,\r\n            locale: passedInitOptions.locale,\r\n            onError: passedInitOptions.onError,\r\n            originalLocale: passedInitOptions.locale,\r\n            primaryColour: passedInitOptions.primaryColour,\r\n            secondaryColour: passedInitOptions.secondaryColour,\r\n            sessionId: passedInitOptions.sessionId,\r\n            stylesUrl: passedInitOptions.stylesUrl,\r\n            telemetryGroup: passedInitOptions.telemetryGroup || {},\r\n            userEmail: passedInitOptions.userEmail,\r\n            webGroup: passedInitOptions.webGroup || {},\r\n            eventSampling: passedInitOptions.eventSampling,\r\n            petrolTimeout: passedInitOptions.petrolTimeout,\r\n            isCommercialHost: passedInitOptions.isCommercialHost,\r\n            customResourcesSetExternally: passedInitOptions.customResourcesSetExternally,\r\n            emailPolicyValue: passedInitOptions.emailPolicyValue,\r\n            screenshotPolicyValue: passedInitOptions.screenshotPolicyValue,\r\n            ageGroup: passedInitOptions.ageGroup,\r\n            authenticationType: passedInitOptions.authenticationType,\r\n            applicationSettings: passedInitOptions.applicationSettings,\r\n            webSurfacesSettings: passedInitOptions.webSurfacesSettings,\r\n        };\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](initOptions.appId, \"initOptions.appId\");\r\n        if (!(initOptions.appId % 1 === 0 && initOptions.appId > 0)) {\r\n            throw \"initOptions.appId is not a positive integer: \" + initOptions.appId;\r\n        }\r\n        // tslint:disable-next-line: no-bitwise\r\n        var expectedValues = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Strings | _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Css;\r\n        if (initOptions.customResourcesSetExternally === undefined) {\r\n            initOptions.customResourcesSetExternally = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].None;\r\n            // tslint:disable-next-line: no-bitwise\r\n        }\r\n        else if (typeof (initOptions.customResourcesSetExternally) !== \"number\" ||\r\n            // tslint:disable-next-line: no-bitwise\r\n            (initOptions.customResourcesSetExternally | expectedValues) !== expectedValues) {\r\n            throw \"initOptions.customResourcesSetExternally has an invalid value: \" + initOptions.customResourcesSetExternally;\r\n        }\r\n        // tslint:disable-next-line: no-bitwise\r\n        if ((initOptions.customResourcesSetExternally & _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Css) !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Css) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.stylesUrl, \"initOptions.stylesUrl\");\r\n        }\r\n        // tslint:disable-next-line: no-bitwise\r\n        if ((initOptions.customResourcesSetExternally & _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Strings) !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Strings) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.intlUrl, \"initOptions.intlUrl\");\r\n        }\r\n        if (initOptions.intlFilename !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.intlFilename, \"initOptions.intlFilename\");\r\n        }\r\n        else {\r\n            initOptions.intlFilename = \"officebrowserfeedbackstrings.js\";\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](initOptions.environment, \"initOptions.environment\");\r\n        if (!(initOptions.environment === 1 || initOptions.environment === 0)) {\r\n            throw \"initOptions.environment has a bad value: \" + initOptions.environment;\r\n        }\r\n        if (initOptions.userEmail !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.userEmail, \"initOptions.userEmail\");\r\n        }\r\n        else {\r\n            initOptions.userEmail = \"\";\r\n        }\r\n        if (initOptions.sessionId !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.sessionId, \"initOptions.sessionId\");\r\n        }\r\n        else {\r\n            initOptions.sessionId = \"00000000-0000-0000-0000-000000000000\";\r\n        }\r\n        // Copy sessionID over to telemetryGroup\r\n        initOptions.telemetryGroup.processSessionId = initOptions.sessionId;\r\n        if (initOptions.cid !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.cid, \"initOptions.cid\");\r\n            // Copy cid over to extendedManifestData of applicationGroup\r\n            initOptions.applicationGroup.extendedManifestData = JSON.stringify({ cid: initOptions.cid });\r\n        }\r\n        if (initOptions.build !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.build, \"initOptions.build\");\r\n            var buildRegex = \"^[0-9]{1,9}(\\\\.[0-9]{1,9})?(\\\\.[0-9]{1,9})?(\\\\.[0-9]{1,9})?$\";\r\n            if (!new RegExp(buildRegex).test(initOptions.build)) {\r\n                initOptions.build = \"0.0.0.0\";\r\n            }\r\n        }\r\n        else {\r\n            initOptions.build = \"0.0.0.0\";\r\n        }\r\n        // Copy build over to telemetryGroup\r\n        initOptions.telemetryGroup.officeBuild = initOptions.build;\r\n        var hexColourRegex = new RegExp(\"^#[0-9a-f]{3}([0-9a-f]{3})?$\", \"i\");\r\n        if (initOptions.primaryColour !== undefined) {\r\n            if (!hexColourRegex.test(initOptions.primaryColour)) {\r\n                initOptions.primaryColour = undefined;\r\n            }\r\n        }\r\n        if (initOptions.secondaryColour !== undefined) {\r\n            if (!hexColourRegex.test(initOptions.secondaryColour)) {\r\n                initOptions.secondaryColour = undefined;\r\n            }\r\n        }\r\n        if (initOptions.locale !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.locale, \"initOptions.locale\");\r\n            initOptions.locale = _Localization__WEBPACK_IMPORTED_MODULE_2__[\"validate\"](initOptions.locale);\r\n        }\r\n        else {\r\n            initOptions.locale = \"en\";\r\n        }\r\n        if (initOptions.onError === undefined) {\r\n            initOptions.onError = function (err) { return; };\r\n        }\r\n        if (initOptions.petrolTimeout !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](initOptions.petrolTimeout, \"initOptions.petrolTimeout\");\r\n        }\r\n        if (initOptions.authenticationType !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectEnum\"](initOptions.authenticationType, _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"], \"initOptions.authenticationType\");\r\n        }\r\n        else {\r\n            initOptions.authenticationType = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].Unauthenticated;\r\n        }\r\n        // For AAD or Unauthenticated, ageGroup value is unknown, so it's safe to only parse for MSA\r\n        if (initOptions.ageGroup !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectEnum\"](initOptions.ageGroup, _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"], \"initOptions.ageGroup\");\r\n        }\r\n        else {\r\n            initOptions.ageGroup = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Undefined;\r\n        }\r\n        this.eventSampling = this.parseEventSamplingOption(initOptions.eventSampling);\r\n        this.commonInitOptions = initOptions;\r\n        this.commonPolicyAllowAADC = this.determineAADCPolicy(initOptions.authenticationType, initOptions.ageGroup);\r\n        if (initOptions.isCommercialHost === undefined || initOptions.isCommercialHost == null) {\r\n            initOptions.isCommercialHost = false; // By default privacy consent is not shown. (From SDK's perspective)\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.isCommercialHost, \"initOptions.isCommercialHost\");\r\n        }\r\n        if (initOptions.emailPolicyValue === undefined) {\r\n            initOptions.emailPolicyValue = 0 /* NotConfigured */;\r\n        }\r\n        else if (typeof (initOptions.emailPolicyValue) !== \"number\" ||\r\n            (initOptions.emailPolicyValue !== 0 /* NotConfigured */ &&\r\n                initOptions.emailPolicyValue !== 1 /* Enabled */ &&\r\n                initOptions.emailPolicyValue !== 2 /* Disabled */)) {\r\n            throw \"initOptions.emailPolicyValue has an invalid value: \" + initOptions.emailPolicyValue;\r\n        }\r\n        if (initOptions.screenshotPolicyValue === undefined) {\r\n            initOptions.screenshotPolicyValue = 0 /* NotConfigured */;\r\n        }\r\n        else if (typeof (initOptions.screenshotPolicyValue) !== \"number\" ||\r\n            initOptions.screenshotPolicyValue !== 0 /* NotConfigured */ &&\r\n                initOptions.screenshotPolicyValue !== 1 /* Enabled */ &&\r\n                initOptions.screenshotPolicyValue !== 2 /* Disabled */) {\r\n            throw \"initOptions.screenshotPolicyValue has an invalid value: \" + initOptions.screenshotPolicyValue;\r\n        }\r\n    };\r\n    /**\r\n     * Set init options for inAppFeedback\r\n     */\r\n    Configuration.prototype.setInAppFeedbackInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectObject\"](passedInitOptions, \"passedInitOptions\");\r\n        var initOptions = {\r\n            bugForm: passedInitOptions.bugForm,\r\n            onDismiss: passedInitOptions.onDismiss,\r\n            screenshot: passedInitOptions.screenshot,\r\n            showEmailAddress: passedInitOptions.showEmailAddress,\r\n            userEmail: passedInitOptions.userEmail,\r\n            transitionEnabled: passedInitOptions.transitionEnabled,\r\n            isShowThanks: passedInitOptions.isShowThanks,\r\n            sendFeedbackPolicyValue: passedInitOptions.sendFeedbackPolicyValue,\r\n            feedbackForumUrl: passedInitOptions.feedbackForumUrl !== undefined ?\r\n                passedInitOptions.feedbackForumUrl :\r\n                undefined,\r\n            myFeedbackForumUrl: passedInitOptions.myFeedbackForumUrl !== undefined ?\r\n                passedInitOptions.myFeedbackForumUrl :\r\n                undefined,\r\n        };\r\n        if (initOptions.onDismiss === undefined) {\r\n            initOptions.onDismiss = function (submitted) { return; };\r\n        }\r\n        if (initOptions.bugForm !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.bugForm, \"initOptions.bugForm\");\r\n        }\r\n        else {\r\n            initOptions.bugForm = false;\r\n        }\r\n        if (initOptions.userEmail !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.userEmail, \"initOptions.userEmail\");\r\n        }\r\n        if (initOptions.screenshot !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.screenshot, \"initOptions.screenshot\");\r\n        }\r\n        else {\r\n            initOptions.screenshot = true;\r\n        }\r\n        if (initOptions.showEmailAddress !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.showEmailAddress, \"initOptions.showEmailAddress\");\r\n        }\r\n        else {\r\n            initOptions.showEmailAddress = true;\r\n        }\r\n        if (initOptions.feedbackForumUrl !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.feedbackForumUrl, \"initOptions.feedbackForumUrl\");\r\n        }\r\n        else {\r\n            initOptions.feedbackForumUrl = undefined;\r\n        }\r\n        if (initOptions.isShowThanks !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.isShowThanks, \"initOptions.isShowThanks\");\r\n        }\r\n        else {\r\n            initOptions.isShowThanks = true;\r\n        }\r\n        if (initOptions.myFeedbackForumUrl !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.myFeedbackForumUrl, \"initOptions.myFeedbackForumUrl\");\r\n        }\r\n        else {\r\n            initOptions.myFeedbackForumUrl = undefined;\r\n        }\r\n        if (initOptions.transitionEnabled === undefined) {\r\n            initOptions.transitionEnabled = true;\r\n        }\r\n        if (initOptions.sendFeedbackPolicyValue === undefined) {\r\n            initOptions.sendFeedbackPolicyValue = 0 /* NotConfigured */;\r\n        }\r\n        else if (typeof (initOptions.sendFeedbackPolicyValue) !== \"number\" ||\r\n            (initOptions.sendFeedbackPolicyValue !== 0 /* NotConfigured */ &&\r\n                initOptions.sendFeedbackPolicyValue !== 1 /* Enabled */ &&\r\n                initOptions.sendFeedbackPolicyValue !== 2 /* Disabled */)) {\r\n            throw \"initOptions.sendFeedbackPolicyValue has an invalid value: \" + initOptions.sendFeedbackPolicyValue;\r\n        }\r\n        this.inAppFeedbackInitOptions = initOptions;\r\n    };\r\n    /**\r\n     * Set launch options for inAppFeedback\r\n     */\r\n    Configuration.prototype.setInAppFeedbackLaunchOptions = function (launchOptions) {\r\n        if (!this.commonInitOptions) {\r\n            throw \"commonInitOptions not set\";\r\n        }\r\n        if (!launchOptions) {\r\n            launchOptions = {};\r\n        }\r\n        // Override any setting done in LaunchOptions for the metadataGroups\r\n        this.commonInitOptions.applicationGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"overrideValues\"](launchOptions.applicationGroup, this.commonInitOptions.applicationGroup);\r\n        this.commonInitOptions.telemetryGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"overrideValues\"](launchOptions.telemetryGroup, this.commonInitOptions.telemetryGroup);\r\n        this.commonInitOptions.webGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"overrideValues\"](launchOptions.webGroup, this.commonInitOptions.webGroup);\r\n        launchOptions.categories = Configuration.validateCategoryOptions(launchOptions.categories);\r\n        this.inAppFeedbackLaunchOptions = launchOptions;\r\n    };\r\n    /**\r\n     * Set init options for floodgate\r\n     */\r\n    Configuration.prototype.setFloodgateInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectObject\"](passedInitOptions, \"passedInitOptions\");\r\n        var initOptions = {\r\n            autoDismiss: passedInitOptions.autoDismiss,\r\n            campaignDefinitions: passedInitOptions.campaignDefinitions,\r\n            campaignFlights: passedInitOptions.campaignFlights,\r\n            campaignQueryParameters: passedInitOptions.campaignQueryParameters,\r\n            onDismiss: passedInitOptions.onDismiss,\r\n            onSurveyActivatedCallback: passedInitOptions.onSurveyActivatedCallback,\r\n            settingStorageCallback: passedInitOptions.settingStorageCallback,\r\n            uIStringGetter: passedInitOptions.uIStringGetter,\r\n            authTokenCallback: passedInitOptions.authTokenCallback,\r\n            surveyEnabled: passedInitOptions.surveyEnabled,\r\n            showEmailAddress: passedInitOptions.showEmailAddress,\r\n            augLoopCallback: passedInitOptions.augLoopCallback,\r\n            customerVoiceSurveyParams: passedInitOptions.customerVoiceSurveyParams,\r\n            governanceServiceEnabled: passedInitOptions.governanceServiceEnabled,\r\n            governanceServiceConfig: passedInitOptions.governanceServiceConfig,\r\n            personalizerEnabled: passedInitOptions.personalizerEnabled,\r\n            messagingServiceSettings: passedInitOptions.messagingServiceSettings,\r\n        };\r\n        if (initOptions.autoDismiss === undefined) {\r\n            initOptions.autoDismiss = 0 /* NoAutoDismiss */;\r\n        }\r\n        if (initOptions.onDismiss === undefined) {\r\n            initOptions.onDismiss = function (campaignId, submitted) { return; };\r\n        }\r\n        if (initOptions.onSurveyActivatedCallback === undefined) {\r\n            var defaultOnSurveyActivatedCallback = {\r\n                onSurveyActivated: function (launcher, survey, surveyParams) {\r\n                    launcher.launch();\r\n                },\r\n            };\r\n            initOptions.onSurveyActivatedCallback = defaultOnSurveyActivatedCallback;\r\n        }\r\n        if (initOptions.uIStringGetter === undefined) {\r\n            initOptions.uIStringGetter = function (str) { return str; }; // By default return the string as is.\r\n        }\r\n        if (initOptions.surveyEnabled === undefined) {\r\n            initOptions.surveyEnabled = true; // By default surveys are enabled. (From SDK's perspective)\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.surveyEnabled, \"surveyEnabled\");\r\n        }\r\n        if (initOptions.showEmailAddress !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.showEmailAddress, \"initOptionsFloodgate.showEmailAddress\");\r\n        }\r\n        else {\r\n            initOptions.showEmailAddress = true; // By default email field and collection is enabled. (From SDK's perspective)\r\n        }\r\n        if (initOptions.governanceServiceEnabled !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.governanceServiceEnabled, \"initOptionsFloodgate.governanceServiceEnable\");\r\n        }\r\n        else {\r\n            initOptions.governanceServiceEnabled = false; // By default governanceServiceEnable is disabled\r\n        }\r\n        if (initOptions.governanceServiceEnabled) {\r\n            initOptions.governanceServiceConfig = this.parseGovernanceServiceConfig(initOptions.governanceServiceConfig !== undefined ?\r\n                initOptions.governanceServiceConfig :\r\n                {});\r\n        }\r\n        if (initOptions.customerVoiceSurveyParams === undefined) {\r\n            initOptions.customerVoiceSurveyParams = { cvFlights: \"\", isCVSurveyEnabled: false, productName: \"\", uiHost: \"\" };\r\n        }\r\n        if (initOptions.personalizerEnabled !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.personalizerEnabled, \"initOptionsFloodgate.personalizerEnabled\");\r\n        }\r\n        else {\r\n            initOptions.personalizerEnabled = false; // By default personalizerEnabled is disabled\r\n        }\r\n        this.floodgateInitOptions = initOptions;\r\n    };\r\n    /**\r\n     * Set the floodgate survey\r\n     */\r\n    Configuration.prototype.setFloodgateSurvey = function (survey) {\r\n        this.floodgateSurvey = survey;\r\n    };\r\n    // Checks if the surveyEnabled policy is true or false.\r\n    Configuration.prototype.checkIfSurveysEnabled = function () {\r\n        // If no floodgateInitOptions defined, return true for surveyEnabled\r\n        var policyAllowSurvey = this.floodgateInitOptions ? this.floodgateInitOptions.surveyEnabled : true;\r\n        return policyAllowSurvey && this.commonPolicyAllowAADC;\r\n    };\r\n    /**\r\n     * Return the flag the Feedback and Survey enabled by AADC.\r\n     */\r\n    Configuration.prototype.isFeedbackSurveyEnabledByAADC = function () {\r\n        return this.commonPolicyAllowAADC;\r\n    };\r\n    Configuration.prototype.getCVSurveyFlights = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.cvFlights : \"\";\r\n    };\r\n    Configuration.prototype.isCVSurveyEnabled = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.isCVSurveyEnabled : false;\r\n    };\r\n    Configuration.prototype.getProductName = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.productName : \"\";\r\n    };\r\n    Configuration.prototype.getUIHost = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.uiHost : \"\";\r\n    };\r\n    /**\r\n     * Check AADC rule at once since Configuration cannot be set again.\r\n     * So that we don't need to repeat the same process over again.\r\n     */\r\n    Configuration.prototype.determineAADCPolicy = function (authenticationType, ageGroup) {\r\n        // Return Based on authentication first\r\n        if (authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].Unauthenticated ||\r\n            authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].AAD) {\r\n            return true;\r\n        }\r\n        // Return based on AgeGroup\r\n        return ageGroup !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithParentalConsent &&\r\n            ageGroup !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithoutParentalConsent;\r\n    };\r\n    // Keep implementation in sync with %SRCROOT%\\privacy\\idconsentprovider\\IdentityBasedConsentGroupProvider.cpp\r\n    Configuration.prototype.getUserConsentGroup = function () {\r\n        var authenticationType = this.commonInitOptions.authenticationType;\r\n        if (authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].Unauthenticated ||\r\n            authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].AAD) {\r\n            return 1 /* CanConsent */;\r\n        }\r\n        var ageGroup = this.commonInitOptions.ageGroup;\r\n        switch (ageGroup) {\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Undefined:\r\n                return 1 /* CanConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithoutParentalConsent:\r\n                return 3 /* CannotConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithParentalConsent:\r\n                return 3 /* CannotConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Adult:\r\n                return 1 /* CanConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].NotAdult:\r\n                return 2 /* PartialConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorNoParentalConsentRequired:\r\n                return 1 /* CanConsent */;\r\n            default:\r\n                return 3 /* CannotConsent */;\r\n        }\r\n        return 3 /* CannotConsent */;\r\n    };\r\n    Configuration.prototype.parseEventSamplingOption = function (samplingOptions) {\r\n        var eventInitSampling = { event: {} };\r\n        if (samplingOptions !== undefined) {\r\n            // Iterating through init options\r\n            for (var index in samplingOptions) {\r\n                if (samplingOptions.hasOwnProperty(index)) {\r\n                    // Check for correct Type\r\n                    switch (samplingOptions[index].type) {\r\n                        case \"Event\":\r\n                            // Parsing the Name and SampleRate\r\n                            var sampleRate = samplingOptions[index].sampleRate;\r\n                            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](sampleRate, \"initOption.EventSampling.SampleRate\");\r\n                            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](samplingOptions[index].name, \"initOption.EventSampling.Name\");\r\n                            // check the range for sampling percentage\r\n                            if (sampleRate < 0 || sampleRate > 1) {\r\n                                throw \"initOption.EventSampling.\" + samplingOptions[index].name + \".SampleRate is out of range\";\r\n                            }\r\n                            // finally, save the sampling event\r\n                            eventInitSampling.event[samplingOptions[index].name] = sampleRate;\r\n                            break;\r\n                        default:\r\n                            throw \"initOption.EventSampling.Type value is not recognized\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return eventInitSampling;\r\n    };\r\n    Configuration.prototype.parseGovernanceServiceConfig = function (config) {\r\n        var _a, _b, _c, _d;\r\n        return {\r\n            // by default, disable the trigger in failure\r\n            forceServicelessSurveyDisplay: (_a = config.forceServicelessSurveyDisplay) !== null && _a !== void 0 ? _a : false,\r\n            // by default, no retry\r\n            retry: (_b = config.retry) !== null && _b !== void 0 ? _b : 1,\r\n            // by default, timeout is 1000 miliseconds\r\n            timeout: (_c = config.timeout) !== null && _c !== void 0 ? _c : 1000,\r\n            // simple request is default to false\r\n            simpleRequestEnabled: (_d = config.simpleRequestEnabled) !== null && _d !== void 0 ? _d : false,\r\n        };\r\n    };\r\n    return Configuration;\r\n}());\r\n\r\nvar configuration = new Configuration();\r\n/**\r\n * Get the current configuration\r\n */\r\nfunction get() {\r\n    return configuration;\r\n}\r\n/**\r\n * Validate feedbackType\r\n * @param feedbackType feedbackType\r\n * @returns {Constants.FeedbackType} the validated feedbackType\r\n */\r\nfunction validateFeedbackType(feedbackType) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](feedbackType, \"feedbackType\");\r\n    if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"][_Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Smile]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Smile;\r\n    }\r\n    else if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"][_Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Frown]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Frown;\r\n    }\r\n    else if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"][_Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Bug]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Bug;\r\n    }\r\n    else {\r\n        throw \"feedbackType should be one of Smile, Frown or Bug\";\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb24udHM/MWQwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVpQztBQUNRO0FBQ007QUFFSDtBQU1oQjtBQUNFO0FBRWpDOztHQUVHO0FBRUg7SUFBQTtRQXdDUyxzQkFBaUIsR0FBWSxLQUFLLENBQUM7SUEraEI1QyxDQUFDO0lBdGtCQTs7OztPQUlHO0lBQ1kscUNBQXVCLEdBQXRDLFVBQXVDLFVBQTZCO1FBQ25FLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDaEIsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQztTQUN2QjtRQUVELG9EQUFtQixDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUN4RCxJQUFJLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRTtZQUNoQyxrREFBaUIsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztZQUU5RSxLQUEyQixVQUEyQixFQUEzQixlQUFVLENBQUMsZ0JBQWdCLEVBQTNCLGNBQTJCLEVBQTNCLElBQTJCLEVBQUU7Z0JBQW5ELElBQUksY0FBYztnQkFDdEIsbURBQWtCLENBQUMsY0FBYyxFQUFFLG1CQUFtQixHQUFHLGNBQWMsR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDL0UsSUFBSSxjQUFjLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRTtvQkFDL0IsTUFBTSxtQkFBbUIsR0FBRyxjQUFjLEdBQUcsZ0NBQWdDLENBQUM7aUJBQzlFO2FBQ0Q7U0FDRDtRQUVELE9BQU8sVUFBVSxDQUFDO0lBQ25CLENBQUM7SUFrQk0sNENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxJQUFJLENBQUMsaUJBQWlC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QUFJLFlBQVksS0FBSyx1REFBc0IsQ0FBQyx1REFBc0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNqRixPQUFPLHVEQUFzQixDQUFDLEtBQUssQ0FBQztLQUNwQztTQUFNLElBQUksWUFBWSxLQUFLLHVEQUFzQixDQUFDLHVEQUFzQixDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQy9FLE9BQU8sdURBQXNCLENBQUMsR0FBRyxDQUFDO0tBQ2xDO1NBQU07UUFDTixNQUFNLG1EQUFtRCxDQUFDO0tBQzFEO0FBQ0YsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb25maWd1cmF0aW9uLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgbG9naWMgcmVsYXRpbmcgdG8gdGhlIHNkayB1c2VyIGNvbmZpZ3VyYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi8uLi9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIExvY2FsaXphdGlvbiBmcm9tIFwiLi8uLi9Mb2NhbGl6YXRpb25cIjtcclxuaW1wb3J0IHsgSUNhdGVnb3J5T3B0aW9ucyB9IGZyb20gXCIuL0lDYXRlZ29yeU9wdGlvbnNcIjtcclxuaW1wb3J0ICogYXMgSUluaXRPcHRpb25zIGZyb20gXCIuL0lJbml0T3B0aW9uc1wiO1xyXG5pbXBvcnQgKiBhcyBJTGF1bmNoT3B0aW9ucyBmcm9tIFwiLi9JTGF1bmNoT3B0aW9uc1wiO1xyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvSVVJU3VydmV5XCI7XHJcbmltcG9ydCB7IElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLCBJU3VydmV5Rm9ybSwgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlQYXJhbXMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFja1wiO1xyXG5cclxuZXhwb3J0ICogZnJvbSBcIi4vSUluaXRPcHRpb25zXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0lMYXVuY2hPcHRpb25zXCI7XHJcblxyXG4vKipcclxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgY29uZmlndXJhdGlvbiAodXNlciBwcm92aWRlZCBvcHRpb25zKVxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uIHtcclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSBjYXRlZ29yeSBvcHRpb25zLCBkZWZhdWx0IFwic2hvd1wiIHRvIGZhbHNlIGlmIENhdGVnb3J5T3B0aW9ucyBpcyBub3QgcHJvdmlkZWQuXHJcblx0ICogQHBhcmFtIGNhdGVnb3JpZXMgQ2F0ZWdvcnkgb3B0aW9uc1xyXG5cdCAqIEByZXR1cm5zIHtJQ2F0ZWdvcnlPcHRpb25zfSB0aGUgdmFsaWRhdGVkIENhdGVnb3J5T3B0aW9uc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHZhbGlkYXRlQ2F0ZWdvcnlPcHRpb25zKGNhdGVnb3JpZXM/OiBJQ2F0ZWdvcnlPcHRpb25zKTogSUNhdGVnb3J5T3B0aW9ucyB7XHJcblx0XHRpZiAoIWNhdGVnb3JpZXMpIHtcclxuXHRcdFx0cmV0dXJuIHsgc2hvdzogZmFsc2UgfTtcclxuXHRcdH1cclxuXHJcblx0XHRVdGlscy5leHBlY3RCb29sZWFuKGNhdGVnb3JpZXMuc2hvdywgXCJjYXRlZ29yaWVzLnNob3dcIik7XHJcblx0XHRpZiAoY2F0ZWdvcmllcy5jdXN0b21DYXRlZ29yaWVzKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEFycmF5KGNhdGVnb3JpZXMuY3VzdG9tQ2F0ZWdvcmllcywgXCJjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXNcIik7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBjdXN0b21DYXRlZ29yeSBvZiBjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXMpIHtcclxuXHRcdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoY3VzdG9tQ2F0ZWdvcnksIFwiY3VzdG9tIGNhdGVnb3J5ICdcIiArIGN1c3RvbUNhdGVnb3J5ICsgXCInXCIpO1xyXG5cdFx0XHRcdGlmIChjdXN0b21DYXRlZ29yeS5sZW5ndGggPiAyMCkge1xyXG5cdFx0XHRcdFx0dGhyb3cgXCJjdXN0b20gY2F0ZWdvcnkgJ1wiICsgY3VzdG9tQ2F0ZWdvcnkgKyBcIicgdG9vIGxvbmcsIG1heCAyMCBjaGFyYWN0ZXJzLlwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjYXRlZ29yaWVzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb21tb25Jbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0NvbW1vbjtcclxuXHJcblx0cHJpdmF0ZSBpbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrO1xyXG5cdHByaXZhdGUgaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnM6IElMYXVuY2hPcHRpb25zLklMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjaztcclxuXHJcblx0cHJpdmF0ZSBmbG9vZGdhdGVJbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZTtcclxuXHRwcml2YXRlIGZsb29kZ2F0ZVN1cnZleTogSVVJU3VydmV5O1xyXG5cclxuXHRwcml2YXRlIHNka1Nlc3Npb25JZDogc3RyaW5nO1xyXG5cclxuXHRwcml2YXRlIGV2ZW50U2FtcGxpbmc6IElJbml0T3B0aW9ucy5JU2FtcGxpbmdJbml0T3B0aW9uO1xyXG5cclxuXHRwcml2YXRlIGNvbW1vblBvbGljeUFsbG93QUFEQzogYm9vbGVhbjtcclxuXHJcblx0cHJpdmF0ZSBmZWVkYmFja1N1Ym1pdHRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRwdWJsaWMgZ2V0RmVlZGJhY2tTdWJtaXR0ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5mZWVkYmFja1N1Ym1pdHRlZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRGZWVkYmFja1N1Ym1pdHRlZCh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0dGhpcy5mZWVkYmFja1N1Ym1pdHRlZCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbW1vbkluaXRPcHRpb25zKCk6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tbW9uSW5pdE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCk6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxuXHRcdHJldHVybiB0aGlzLmluQXBwRmVlZGJhY2tJbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucygpOiBJTGF1bmNoT3B0aW9ucy5JTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2sge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRGbG9vZGdhdGVTdXJ2ZXkoKTogSVVJU3VydmV5IHtcclxuXHRcdHJldHVybiB0aGlzLmZsb29kZ2F0ZVN1cnZleTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTZGtTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuXHRcdGlmICghdGhpcy5zZGtTZXNzaW9uSWQpIHtcclxuXHRcdFx0dGhpcy5zZGtTZXNzaW9uSWQgPSBVdGlscy5ndWlkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc2RrU2Vzc2lvbklkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEV2ZW50U2FtcGxpbmcoKTogSUluaXRPcHRpb25zLklTYW1wbGluZ0luaXRPcHRpb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZXZlbnRTYW1wbGluZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBpbml0T3B0aW9ucyBmb3IgY29tbW9uIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0cHVibGljIHNldENvbW1vbkluaXRPcHRpb25zKHBhc3NlZEluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zQ29tbW9uKSB7XHJcblx0XHRVdGlscy5leHBlY3RPYmplY3QocGFzc2VkSW5pdE9wdGlvbnMsIFwicGFzc2VkSW5pdE9wdGlvbnNcIik7XHJcblx0XHRsZXQgaW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb24gPSB7XHJcblx0XHRcdGFwcElkOiBwYXNzZWRJbml0T3B0aW9ucy5hcHBJZCxcclxuXHRcdFx0YXBwbGljYXRpb25Hcm91cDogcGFzc2VkSW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cCB8fCB7fSxcclxuXHRcdFx0YnVpbGQ6IHBhc3NlZEluaXRPcHRpb25zLmJ1aWxkLFxyXG5cdFx0XHRjaWQ6IHBhc3NlZEluaXRPcHRpb25zLmNpZCxcclxuXHRcdFx0ZW52aXJvbm1lbnQ6IHBhc3NlZEluaXRPcHRpb25zLmVudmlyb25tZW50LFxyXG5cdFx0XHRpbnRsRmlsZW5hbWU6IHBhc3NlZEluaXRPcHRpb25zLmludGxGaWxlbmFtZSxcclxuXHRcdFx0aW50bFVybDogcGFzc2VkSW5pdE9wdGlvbnMuaW50bFVybCxcclxuXHRcdFx0d2ViU3VyZmFjZXNSZXNvdXJjZUJhc2VVcmw6IHBhc3NlZEluaXRPcHRpb25zLndlYlN1cmZhY2VzUmVzb3VyY2VCYXNlVXJsLFxyXG5cdFx0XHRsb2NhbGU6IHBhc3NlZEluaXRPcHRpb25zLmxvY2FsZSxcclxuXHRcdFx0b25FcnJvcjogcGFzc2VkSW5pdE9wdGlvbnMub25FcnJvcixcclxuXHRcdFx0b3JpZ2luYWxMb2NhbGU6IHBhc3NlZEluaXRPcHRpb25zLmxvY2FsZSxcclxuXHRcdFx0cHJpbWFyeUNvbG91cjogcGFzc2VkSW5pdE9wdGlvbnMucHJpbWFyeUNvbG91cixcclxuXHRcdFx0c2Vjb25kYXJ5Q29sb3VyOiBwYXNzZWRJbml0T3B0aW9ucy5zZWNvbmRhcnlDb2xvdXIsXHJcblx0XHRcdHNlc3Npb25JZDogcGFzc2VkSW5pdE9wdGlvbnMuc2Vzc2lvbklkLFxyXG5cdFx0XHRzdHlsZXNVcmw6IHBhc3NlZEluaXRPcHRpb25zLnN0eWxlc1VybCxcclxuXHRcdFx0dGVsZW1ldHJ5R3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwIHx8IHt9LFxyXG5cdFx0XHR1c2VyRW1haWw6IHBhc3NlZEluaXRPcHRpb25zLnVzZXJFbWFpbCxcclxuXHRcdFx0d2ViR3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLndlYkdyb3VwIHx8IHt9LFxyXG5cdFx0XHRldmVudFNhbXBsaW5nOiBwYXNzZWRJbml0T3B0aW9ucy5ldmVudFNhbXBsaW5nLFxyXG5cdFx0XHRwZXRyb2xUaW1lb3V0OiBwYXNzZWRJbml0T3B0aW9ucy5wZXRyb2xUaW1lb3V0LFxyXG5cdFx0XHRpc0NvbW1lcmNpYWxIb3N0OiBwYXNzZWRJbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0LFxyXG5cdFx0XHRjdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5OiBwYXNzZWRJbml0T3B0aW9ucy5jdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5LFxyXG5cdFx0XHRlbWFpbFBvbGljeVZhbHVlOiBwYXNzZWRJbml0T3B0aW9ucy5lbWFpbFBvbGljeVZhbHVlLFxyXG5cdFx0XHRzY3JlZW5zaG90UG9saWN5VmFsdWU6IHBhc3NlZEluaXRPcHRpb25zLnNjcmVlbnNob3RQb2xpY3lWYWx1ZSxcclxuXHRcdFx0YWdlR3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLmFnZUdyb3VwLFxyXG5cdFx0XHRhdXRoZW50aWNhdGlvblR5cGU6IHBhc3NlZEluaXRPcHRpb25zLmF1dGhlbnRpY2F0aW9uVHlwZSxcclxuXHRcdFx0YXBwbGljYXRpb25TZXR0aW5nczogcGFzc2VkSW5pdE9wdGlvbnMuYXBwbGljYXRpb25TZXR0aW5ncyxcclxuXHRcdFx0d2ViU3VyZmFjZXNTZXR0aW5nczogcGFzc2VkSW5pdE9wdGlvbnMud2ViU3VyZmFjZXNTZXR0aW5ncyxcclxuXHRcdH07XHJcblxyXG5cdFx0VXRpbHMuZXhwZWN0TnVtYmVyKGluaXRPcHRpb25zLmFwcElkLCBcImluaXRPcHRpb25zLmFwcElkXCIpO1xyXG5cdFx0aWYgKCEoaW5pdE9wdGlvbnMuYXBwSWQgJSAxID09PSAwICYmIGluaXRPcHRpb25zLmFwcElkID4gMCkpIHtcclxuXHRcdFx0dGhyb3cgXCJpbml0T3B0aW9ucy5hcHBJZCBpcyBub3QgYSBwb3NpdGl2ZSBpbnRlZ2VyOiBcIiArIGluaXRPcHRpb25zLmFwcElkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYml0d2lzZVxyXG5cdFx0Y29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSBJSW5pdE9wdGlvbnMuQ3VzdG9tUmVzb3VyY2VzLlN0cmluZ3MgfCBJSW5pdE9wdGlvbnMuQ3VzdG9tUmVzb3VyY2VzLkNzcztcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmN1c3RvbVJlc291cmNlc1NldEV4dGVybmFsbHkgPSBJSW5pdE9wdGlvbnMuQ3VzdG9tUmVzb3VyY2VzLk5vbmU7XHJcblx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYml0d2lzZVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgKGluaXRPcHRpb25zLmN1c3RvbVJlc291cmNlc1NldEV4dGVybmFsbHkpICE9PSBcIm51bWJlclwiIHx8XHJcblx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYml0d2lzZVxyXG5cdFx0XHQoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSB8IGV4cGVjdGVkVmFsdWVzKSAhPT0gZXhwZWN0ZWRWYWx1ZXMpIHtcclxuXHRcdFx0dGhyb3cgXCJpbml0T3B0aW9ucy5jdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5IGhhcyBhbiBpbnZhbGlkIHZhbHVlOiBcIiArIGluaXRPcHRpb25zLmN1c3RvbVJlc291cmNlc1NldEV4dGVybmFsbHk7XHJcblx0XHR9XHJcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWJpdHdpc2VcclxuXHRcdGlmICgoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSAmIElJbml0T3B0aW9ucy5DdXN0b21SZXNvdXJjZXMuQ3NzKSAhPT0gSUluaXRPcHRpb25zLkN1c3RvbVJlc291cmNlcy5Dc3MpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLnN0eWxlc1VybCwgXCJpbml0T3B0aW9ucy5zdHlsZXNVcmxcIik7XHJcblx0XHR9XHJcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWJpdHdpc2VcclxuXHRcdGlmICgoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSAmIElJbml0T3B0aW9ucy5DdXN0b21SZXNvdXJjZXMuU3RyaW5ncykgIT09IElJbml0T3B0aW9ucy5DdXN0b21SZXNvdXJjZXMuU3RyaW5ncykge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuaW50bFVybCwgXCJpbml0T3B0aW9ucy5pbnRsVXJsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5pbnRsRmlsZW5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuaW50bEZpbGVuYW1lLCBcImluaXRPcHRpb25zLmludGxGaWxlbmFtZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmludGxGaWxlbmFtZSA9IFwib2ZmaWNlYnJvd3NlcmZlZWRiYWNrc3RyaW5ncy5qc1wiO1xyXG5cdFx0fVxyXG5cclxuXHRcdFV0aWxzLmV4cGVjdE51bWJlcihpbml0T3B0aW9ucy5lbnZpcm9ubWVudCwgXCJpbml0T3B0aW9ucy5lbnZpcm9ubWVudFwiKTtcclxuXHRcdGlmICghKGluaXRPcHRpb25zLmVudmlyb25tZW50ID09PSAxIHx8IGluaXRPcHRpb25zLmVudmlyb25tZW50ID09PSAwKSkge1xyXG5cdFx0XHR0aHJvdyBcImluaXRPcHRpb25zLmVudmlyb25tZW50IGhhcyBhIGJhZCB2YWx1ZTogXCIgKyBpbml0T3B0aW9ucy5lbnZpcm9ubWVudDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudXNlckVtYWlsICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLnVzZXJFbWFpbCwgXCJpbml0T3B0aW9ucy51c2VyRW1haWxcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy51c2VyRW1haWwgPSBcIlwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zZXNzaW9uSWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuc2Vzc2lvbklkLCBcImluaXRPcHRpb25zLnNlc3Npb25JZFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLnNlc3Npb25JZCA9IFwiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ29weSBzZXNzaW9uSUQgb3ZlciB0byB0ZWxlbWV0cnlHcm91cFxyXG5cdFx0aW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXAucHJvY2Vzc1Nlc3Npb25JZCA9IGluaXRPcHRpb25zLnNlc3Npb25JZDtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuY2lkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLmNpZCwgXCJpbml0T3B0aW9ucy5jaWRcIik7XHJcblxyXG5cdFx0XHQvLyBDb3B5IGNpZCBvdmVyIHRvIGV4dGVuZGVkTWFuaWZlc3REYXRhIG9mIGFwcGxpY2F0aW9uR3JvdXBcclxuXHRcdFx0aW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cC5leHRlbmRlZE1hbmlmZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHsgY2lkOiBpbml0T3B0aW9ucy5jaWQgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmJ1aWxkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLmJ1aWxkLCBcImluaXRPcHRpb25zLmJ1aWxkXCIpO1xyXG5cdFx0XHRsZXQgYnVpbGRSZWdleCA9IFwiXlswLTldezEsOX0oXFxcXC5bMC05XXsxLDl9KT8oXFxcXC5bMC05XXsxLDl9KT8oXFxcXC5bMC05XXsxLDl9KT8kXCI7XHJcblx0XHRcdGlmICghbmV3IFJlZ0V4cChidWlsZFJlZ2V4KS50ZXN0KGluaXRPcHRpb25zLmJ1aWxkKSkge1xyXG5cdFx0XHRcdGluaXRPcHRpb25zLmJ1aWxkID0gXCIwLjAuMC4wXCI7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmJ1aWxkID0gXCIwLjAuMC4wXCI7XHJcblx0XHR9XHJcblx0XHQvLyBDb3B5IGJ1aWxkIG92ZXIgdG8gdGVsZW1ldHJ5R3JvdXBcclxuXHRcdGluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwLm9mZmljZUJ1aWxkID0gaW5pdE9wdGlvbnMuYnVpbGQ7XHJcblxyXG5cdFx0bGV0IGhleENvbG91clJlZ2V4ID0gbmV3IFJlZ0V4cChcIl4jWzAtOWEtZl17M30oWzAtOWEtZl17M30pPyRcIiwgXCJpXCIpO1xyXG5cdFx0aWYgKGluaXRPcHRpb25zLnByaW1hcnlDb2xvdXIgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoIWhleENvbG91clJlZ2V4LnRlc3QoaW5pdE9wdGlvbnMucHJpbWFyeUNvbG91cikpIHtcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5wcmltYXJ5Q29sb3VyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNlY29uZGFyeUNvbG91ciAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICghaGV4Q29sb3VyUmVnZXgudGVzdChpbml0T3B0aW9ucy5zZWNvbmRhcnlDb2xvdXIpKSB7XHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuc2Vjb25kYXJ5Q29sb3VyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmxvY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5sb2NhbGUsIFwiaW5pdE9wdGlvbnMubG9jYWxlXCIpO1xyXG5cdFx0XHRpbml0T3B0aW9ucy5sb2NhbGUgPSBMb2NhbGl6YXRpb24udmFsaWRhdGUoaW5pdE9wdGlvbnMubG9jYWxlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmxvY2FsZSA9IFwiZW5cIjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMub25FcnJvciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLm9uRXJyb3IgPSAoZXJyOiBzdHJpbmcpID0+IHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5wZXRyb2xUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0TnVtYmVyKGluaXRPcHRpb25zLnBldHJvbFRpbWVvdXQsIFwiaW5pdE9wdGlvbnMucGV0cm9sVGltZW91dFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0RW51bShpbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGUsIElJbml0T3B0aW9ucy5BdXRoZW50aWNhdGlvblR5cGUsIFwiaW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlID0gSUluaXRPcHRpb25zLkF1dGhlbnRpY2F0aW9uVHlwZS5VbmF1dGhlbnRpY2F0ZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9yIEFBRCBvciBVbmF1dGhlbnRpY2F0ZWQsIGFnZUdyb3VwIHZhbHVlIGlzIHVua25vd24sIHNvIGl0J3Mgc2FmZSB0byBvbmx5IHBhcnNlIGZvciBNU0FcclxuXHRcdGlmIChpbml0T3B0aW9ucy5hZ2VHcm91cCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEVudW0oaW5pdE9wdGlvbnMuYWdlR3JvdXAsIElJbml0T3B0aW9ucy5BZ2VHcm91cCwgXCJpbml0T3B0aW9ucy5hZ2VHcm91cFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmFnZUdyb3VwID0gSUluaXRPcHRpb25zLkFnZUdyb3VwLlVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmV2ZW50U2FtcGxpbmcgPSB0aGlzLnBhcnNlRXZlbnRTYW1wbGluZ09wdGlvbihpbml0T3B0aW9ucy5ldmVudFNhbXBsaW5nKTtcclxuXHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zID0gaW5pdE9wdGlvbnM7XHJcblx0XHR0aGlzLmNvbW1vblBvbGljeUFsbG93QUFEQyA9IHRoaXMuZGV0ZXJtaW5lQUFEQ1BvbGljeShpbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGUsIGluaXRPcHRpb25zLmFnZUdyb3VwKTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuaXNDb21tZXJjaWFsSG9zdCA9PT0gdW5kZWZpbmVkIHx8IGluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3QgPT0gbnVsbCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0ID0gZmFsc2U7IC8vIEJ5IGRlZmF1bHQgcHJpdmFjeSBjb25zZW50IGlzIG5vdCBzaG93bi4gKEZyb20gU0RLJ3MgcGVyc3BlY3RpdmUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3QsIFwiaW5pdE9wdGlvbnMuaXNDb21tZXJjaWFsSG9zdFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuZW1haWxQb2xpY3lWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUgPSBDb25zdGFudHMuT0NQU1ZhbHVlcy5Ob3RDb25maWd1cmVkO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgKGluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUpICE9PSBcIm51bWJlclwiIHx8XHJcblx0XHRcdChpbml0T3B0aW9ucy5lbWFpbFBvbGljeVZhbHVlICE9PSBDb25zdGFudHMuT0NQU1ZhbHVlcy5Ob3RDb25maWd1cmVkICYmXHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuZW1haWxQb2xpY3lWYWx1ZSAhPT0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuRW5hYmxlZCAmJlxyXG5cdFx0XHRcdGluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUgIT09IENvbnN0YW50cy5PQ1BTVmFsdWVzLkRpc2FibGVkKSkge1xyXG5cdFx0XHR0aHJvdyBcImluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUgaGFzIGFuIGludmFsaWQgdmFsdWU6IFwiICsgaW5pdE9wdGlvbnMuZW1haWxQb2xpY3lWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuc2NyZWVuc2hvdFBvbGljeVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2NyZWVuc2hvdFBvbGljeVZhbHVlID0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuTm90Q29uZmlndXJlZDtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIChpbml0T3B0aW9ucy5zY3JlZW5zaG90UG9saWN5VmFsdWUpICE9PSBcIm51bWJlclwiIHx8XHJcblx0XHRcdGluaXRPcHRpb25zLnNjcmVlbnNob3RQb2xpY3lWYWx1ZSAhPT0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuTm90Q29uZmlndXJlZCAmJlxyXG5cdFx0XHRpbml0T3B0aW9ucy5zY3JlZW5zaG90UG9saWN5VmFsdWUgIT09IENvbnN0YW50cy5PQ1BTVmFsdWVzLkVuYWJsZWQgJiZcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2NyZWVuc2hvdFBvbGljeVZhbHVlICE9PSBDb25zdGFudHMuT0NQU1ZhbHVlcy5EaXNhYmxlZCkge1xyXG5cdFx0XHR0aHJvdyBcImluaXRPcHRpb25zLnNjcmVlbnNob3RQb2xpY3lWYWx1ZSBoYXMgYW4gaW52YWxpZCB2YWx1ZTogXCIgKyBpbml0T3B0aW9ucy5zY3JlZW5zaG90UG9saWN5VmFsdWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgaW5pdCBvcHRpb25zIGZvciBpbkFwcEZlZWRiYWNrXHJcblx0ICovXHJcblx0cHVibGljIHNldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucyhwYXNzZWRJbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0luQXBwRmVlZGJhY2spIHtcclxuXHRcdFV0aWxzLmV4cGVjdE9iamVjdChwYXNzZWRJbml0T3B0aW9ucywgXCJwYXNzZWRJbml0T3B0aW9uc1wiKTtcclxuXHJcblx0XHRsZXQgaW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrID0ge1xyXG5cdFx0XHRidWdGb3JtOiBwYXNzZWRJbml0T3B0aW9ucy5idWdGb3JtLFxyXG5cdFx0XHRvbkRpc21pc3M6IHBhc3NlZEluaXRPcHRpb25zLm9uRGlzbWlzcyxcclxuXHRcdFx0c2NyZWVuc2hvdDogcGFzc2VkSW5pdE9wdGlvbnMuc2NyZWVuc2hvdCxcclxuXHRcdFx0c2hvd0VtYWlsQWRkcmVzczogcGFzc2VkSW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyxcclxuXHRcdFx0dXNlckVtYWlsOiBwYXNzZWRJbml0T3B0aW9ucy51c2VyRW1haWwsXHJcblx0XHRcdHRyYW5zaXRpb25FbmFibGVkOiBwYXNzZWRJbml0T3B0aW9ucy50cmFuc2l0aW9uRW5hYmxlZCxcclxuXHRcdFx0aXNTaG93VGhhbmtzOiBwYXNzZWRJbml0T3B0aW9ucy5pc1Nob3dUaGFua3MsXHJcblx0XHRcdHNlbmRGZWVkYmFja1BvbGljeVZhbHVlOiBwYXNzZWRJbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSxcclxuXHRcdFx0ZmVlZGJhY2tGb3J1bVVybDogcGFzc2VkSW5pdE9wdGlvbnMuZmVlZGJhY2tGb3J1bVVybCAhPT0gdW5kZWZpbmVkID9cclxuXHRcdFx0XHRwYXNzZWRJbml0T3B0aW9ucy5mZWVkYmFja0ZvcnVtVXJsIDpcclxuXHRcdFx0XHR1bmRlZmluZWQsXHJcblx0XHRcdG15RmVlZGJhY2tGb3J1bVVybDogcGFzc2VkSW5pdE9wdGlvbnMubXlGZWVkYmFja0ZvcnVtVXJsICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdHBhc3NlZEluaXRPcHRpb25zLm15RmVlZGJhY2tGb3J1bVVybCA6XHJcblx0XHRcdFx0dW5kZWZpbmVkLFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMub25EaXNtaXNzID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMub25EaXNtaXNzID0gZnVuY3Rpb24gKHN1Ym1pdHRlZDogYm9vbGVhbikgeyByZXR1cm47IH07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmJ1Z0Zvcm0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmJ1Z0Zvcm0sIFwiaW5pdE9wdGlvbnMuYnVnRm9ybVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmJ1Z0Zvcm0gPSBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudXNlckVtYWlsICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLnVzZXJFbWFpbCwgXCJpbml0T3B0aW9ucy51c2VyRW1haWxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNjcmVlbnNob3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLnNjcmVlbnNob3QsIFwiaW5pdE9wdGlvbnMuc2NyZWVuc2hvdFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLnNjcmVlbnNob3QgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzLCBcImluaXRPcHRpb25zLnNob3dFbWFpbEFkZHJlc3NcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuZmVlZGJhY2tGb3J1bVVybCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5mZWVkYmFja0ZvcnVtVXJsLCBcImluaXRPcHRpb25zLmZlZWRiYWNrRm9ydW1VcmxcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5mZWVkYmFja0ZvcnVtVXJsID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5pc1Nob3dUaGFua3MgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmlzU2hvd1RoYW5rcywgXCJpbml0T3B0aW9ucy5pc1Nob3dUaGFua3NcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5pc1Nob3dUaGFua3MgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5teUZlZWRiYWNrRm9ydW1VcmwgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMubXlGZWVkYmFja0ZvcnVtVXJsLCBcImluaXRPcHRpb25zLm15RmVlZGJhY2tGb3J1bVVybFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLm15RmVlZGJhY2tGb3J1bVVybCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudHJhbnNpdGlvbkVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy50cmFuc2l0aW9uRW5hYmxlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNlbmRGZWVkYmFja1BvbGljeVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2VuZEZlZWRiYWNrUG9saWN5VmFsdWUgPSBDb25zdGFudHMuT0NQU1ZhbHVlcy5Ob3RDb25maWd1cmVkO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgKGluaXRPcHRpb25zLnNlbmRGZWVkYmFja1BvbGljeVZhbHVlKSAhPT0gXCJudW1iZXJcIiB8fFxyXG5cdFx0XHQoaW5pdE9wdGlvbnMuc2VuZEZlZWRiYWNrUG9saWN5VmFsdWUgIT09IENvbnN0YW50cy5PQ1BTVmFsdWVzLk5vdENvbmZpZ3VyZWQgJiZcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSAhPT0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuRW5hYmxlZCAmJlxyXG5cdFx0XHRcdGluaXRPcHRpb25zLnNlbmRGZWVkYmFja1BvbGljeVZhbHVlICE9PSBDb25zdGFudHMuT0NQU1ZhbHVlcy5EaXNhYmxlZCkpIHtcclxuXHRcdFx0dGhyb3cgXCJpbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSBoYXMgYW4gaW52YWxpZCB2YWx1ZTogXCIgKyBpbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmluQXBwRmVlZGJhY2tJbml0T3B0aW9ucyA9IGluaXRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGxhdW5jaCBvcHRpb25zIGZvciBpbkFwcEZlZWRiYWNrXHJcblx0ICovXHJcblx0cHVibGljIHNldEluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zKGxhdW5jaE9wdGlvbnM/OiBJTGF1bmNoT3B0aW9ucy5JTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spIHtcclxuXHRcdGlmICghdGhpcy5jb21tb25Jbml0T3B0aW9ucykge1xyXG5cdFx0XHR0aHJvdyBcImNvbW1vbkluaXRPcHRpb25zIG5vdCBzZXRcIjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWxhdW5jaE9wdGlvbnMpIHtcclxuXHRcdFx0bGF1bmNoT3B0aW9ucyA9IHt9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE92ZXJyaWRlIGFueSBzZXR0aW5nIGRvbmUgaW4gTGF1bmNoT3B0aW9ucyBmb3IgdGhlIG1ldGFkYXRhR3JvdXBzXHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLmFwcGxpY2F0aW9uR3JvdXAgPSBVdGlscy5vdmVycmlkZVZhbHVlcyhsYXVuY2hPcHRpb25zLmFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdHRoaXMuY29tbW9uSW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cCk7XHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMobGF1bmNoT3B0aW9ucy50ZWxlbWV0cnlHcm91cCxcclxuXHRcdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy50ZWxlbWV0cnlHcm91cCk7XHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLndlYkdyb3VwID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMobGF1bmNoT3B0aW9ucy53ZWJHcm91cCxcclxuXHRcdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy53ZWJHcm91cCk7XHJcblxyXG5cdFx0bGF1bmNoT3B0aW9ucy5jYXRlZ29yaWVzID0gQ29uZmlndXJhdGlvbi52YWxpZGF0ZUNhdGVnb3J5T3B0aW9ucyhsYXVuY2hPcHRpb25zLmNhdGVnb3JpZXMpO1xyXG5cclxuXHRcdHRoaXMuaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnMgPSBsYXVuY2hPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGluaXQgb3B0aW9ucyBmb3IgZmxvb2RnYXRlXHJcblx0ICovXHJcblx0cHVibGljIHNldEZsb29kZ2F0ZUluaXRPcHRpb25zKHBhc3NlZEluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zRmxvb2RnYXRlKSB7XHJcblx0XHRVdGlscy5leHBlY3RPYmplY3QocGFzc2VkSW5pdE9wdGlvbnMsIFwicGFzc2VkSW5pdE9wdGlvbnNcIik7XHJcblxyXG5cdFx0bGV0IGluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zRmxvb2RnYXRlID0ge1xyXG5cdFx0XHRhdXRvRGlzbWlzczogcGFzc2VkSW5pdE9wdGlvbnMuYXV0b0Rpc21pc3MsXHJcblx0XHRcdGNhbXBhaWduRGVmaW5pdGlvbnM6IHBhc3NlZEluaXRPcHRpb25zLmNhbXBhaWduRGVmaW5pdGlvbnMsXHJcblx0XHRcdGNhbXBhaWduRmxpZ2h0czogcGFzc2VkSW5pdE9wdGlvbnMuY2FtcGFpZ25GbGlnaHRzLFxyXG5cdFx0XHRjYW1wYWlnblF1ZXJ5UGFyYW1ldGVyczogcGFzc2VkSW5pdE9wdGlvbnMuY2FtcGFpZ25RdWVyeVBhcmFtZXRlcnMsXHJcblx0XHRcdG9uRGlzbWlzczogcGFzc2VkSW5pdE9wdGlvbnMub25EaXNtaXNzLFxyXG5cdFx0XHRvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLFxyXG5cdFx0XHRzZXR0aW5nU3RvcmFnZUNhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5zZXR0aW5nU3RvcmFnZUNhbGxiYWNrLFxyXG5cdFx0XHR1SVN0cmluZ0dldHRlcjogcGFzc2VkSW5pdE9wdGlvbnMudUlTdHJpbmdHZXR0ZXIsXHJcblx0XHRcdGF1dGhUb2tlbkNhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5hdXRoVG9rZW5DYWxsYmFjayxcclxuXHRcdFx0c3VydmV5RW5hYmxlZDogcGFzc2VkSW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCxcclxuXHRcdFx0c2hvd0VtYWlsQWRkcmVzczogcGFzc2VkSW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyxcclxuXHRcdFx0YXVnTG9vcENhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5hdWdMb29wQ2FsbGJhY2ssXHJcblx0XHRcdGN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXM6IHBhc3NlZEluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMsXHJcblx0XHRcdGdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZDogcGFzc2VkSW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VFbmFibGVkLFxyXG5cdFx0XHRnb3Zlcm5hbmNlU2VydmljZUNvbmZpZzogcGFzc2VkSW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcsXHJcblx0XHRcdHBlcnNvbmFsaXplckVuYWJsZWQ6IHBhc3NlZEluaXRPcHRpb25zLnBlcnNvbmFsaXplckVuYWJsZWQsXHJcblx0XHRcdG1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5nczogcGFzc2VkSW5pdE9wdGlvbnMubWVzc2FnaW5nU2VydmljZVNldHRpbmdzLFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuYXV0b0Rpc21pc3MgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5hdXRvRGlzbWlzcyA9IENvbnN0YW50cy5BdXRvRGlzbWlzc1ZhbHVlcy5Ob0F1dG9EaXNtaXNzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5vbkRpc21pc3MgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5vbkRpc21pc3MgPSAoY2FtcGFpZ25JZDogc3RyaW5nLCBzdWJtaXR0ZWQ6IGJvb2xlYW4pID0+IHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0bGV0IGRlZmF1bHRPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IHtcclxuXHRcdFx0XHRvblN1cnZleUFjdGl2YXRlZChsYXVuY2hlcjogSVN1cnZleUxhdW5jaGVyLCBzdXJ2ZXk/OiBJU3VydmV5Rm9ybSwgc3VydmV5UGFyYW1zPzogSVN1cnZleVBhcmFtcyk6IHZvaWQge1xyXG5cdFx0XHRcdFx0bGF1bmNoZXIubGF1bmNoKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGluaXRPcHRpb25zLm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2sgPSBkZWZhdWx0T25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudUlTdHJpbmdHZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy51SVN0cmluZ0dldHRlciA9IChzdHI6IHN0cmluZykgPT4gc3RyOyAvLyBCeSBkZWZhdWx0IHJldHVybiB0aGUgc3RyaW5nIGFzIGlzLlxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zdXJ2ZXlFbmFibGVkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCA9IHRydWU7IC8vIEJ5IGRlZmF1bHQgc3VydmV5cyBhcmUgZW5hYmxlZC4gKEZyb20gU0RLJ3MgcGVyc3BlY3RpdmUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLnN1cnZleUVuYWJsZWQsIFwic3VydmV5RW5hYmxlZFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEJvb2xlYW4oaW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcywgXCJpbml0T3B0aW9uc0Zsb29kZ2F0ZS5zaG93RW1haWxBZGRyZXNzXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyA9IHRydWU7ICAvLyBCeSBkZWZhdWx0IGVtYWlsIGZpZWxkIGFuZCBjb2xsZWN0aW9uIGlzIGVuYWJsZWQuIChGcm9tIFNESydzIHBlcnNwZWN0aXZlKVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZCwgXCJpbml0T3B0aW9uc0Zsb29kZ2F0ZS5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZCA9IGZhbHNlOyAgLy8gQnkgZGVmYXVsdCBnb3Zlcm5hbmNlU2VydmljZUVuYWJsZSBpcyBkaXNhYmxlZFxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcgPSB0aGlzLnBhcnNlR292ZXJuYW5jZVNlcnZpY2VDb25maWcoXHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcgIT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdFx0XHRpbml0T3B0aW9ucy5nb3Zlcm5hbmNlU2VydmljZUNvbmZpZyA6XHJcblx0XHRcdFx0XHR7fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5jdXN0b21lclZvaWNlU3VydmV5UGFyYW1zID0geyBjdkZsaWdodHM6IFwiXCIsIGlzQ1ZTdXJ2ZXlFbmFibGVkOiBmYWxzZSwgcHJvZHVjdE5hbWU6IFwiXCIsIHVpSG9zdDogXCJcIiB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5wZXJzb25hbGl6ZXJFbmFibGVkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5wZXJzb25hbGl6ZXJFbmFibGVkLCBcImluaXRPcHRpb25zRmxvb2RnYXRlLnBlcnNvbmFsaXplckVuYWJsZWRcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5wZXJzb25hbGl6ZXJFbmFibGVkID0gZmFsc2U7ICAvLyBCeSBkZWZhdWx0IHBlcnNvbmFsaXplckVuYWJsZWQgaXMgZGlzYWJsZWRcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zID0gaW5pdE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdGhlIGZsb29kZ2F0ZSBzdXJ2ZXlcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0Rmxvb2RnYXRlU3VydmV5KHN1cnZleTogSVVJU3VydmV5KTogdm9pZCB7XHJcblx0XHR0aGlzLmZsb29kZ2F0ZVN1cnZleSA9IHN1cnZleTtcclxuXHR9XHJcblxyXG5cdC8vIENoZWNrcyBpZiB0aGUgc3VydmV5RW5hYmxlZCBwb2xpY3kgaXMgdHJ1ZSBvciBmYWxzZS5cclxuXHRwdWJsaWMgY2hlY2tJZlN1cnZleXNFbmFibGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gSWYgbm8gZmxvb2RnYXRlSW5pdE9wdGlvbnMgZGVmaW5lZCwgcmV0dXJuIHRydWUgZm9yIHN1cnZleUVuYWJsZWRcclxuXHRcdGNvbnN0IHBvbGljeUFsbG93U3VydmV5ID0gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyA/IHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCA6IHRydWU7XHJcblx0XHRyZXR1cm4gcG9saWN5QWxsb3dTdXJ2ZXkgJiYgdGhpcy5jb21tb25Qb2xpY3lBbGxvd0FBREM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gdGhlIGZsYWcgdGhlIEZlZWRiYWNrIGFuZCBTdXJ2ZXkgZW5hYmxlZCBieSBBQURDLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBpc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQygpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbW1vblBvbGljeUFsbG93QUFEQztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDVlN1cnZleUZsaWdodHMoKTogc3RyaW5nIHwgbnVsbCB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyAmJiB0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMgP1xyXG5cdFx0XHR0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMuY3ZGbGlnaHRzIDogXCJcIjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBpc0NWU3VydmV5RW5hYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zICYmIHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuY3VzdG9tZXJWb2ljZVN1cnZleVBhcmFtcyA/XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuY3VzdG9tZXJWb2ljZVN1cnZleVBhcmFtcy5pc0NWU3VydmV5RW5hYmxlZCA6IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByb2R1Y3ROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyAmJiB0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMgP1xyXG5cdFx0XHR0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMucHJvZHVjdE5hbWUgOiBcIlwiO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVJSG9zdCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMgJiYgdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucy5jdXN0b21lclZvaWNlU3VydmV5UGFyYW1zID9cclxuXHRcdFx0dGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucy5jdXN0b21lclZvaWNlU3VydmV5UGFyYW1zLnVpSG9zdCA6IFwiXCI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBBQURDIHJ1bGUgYXQgb25jZSBzaW5jZSBDb25maWd1cmF0aW9uIGNhbm5vdCBiZSBzZXQgYWdhaW4uXHJcblx0ICogU28gdGhhdCB3ZSBkb24ndCBuZWVkIHRvIHJlcGVhdCB0aGUgc2FtZSBwcm9jZXNzIG92ZXIgYWdhaW4uXHJcblx0ICovXHJcblx0cHVibGljIGRldGVybWluZUFBRENQb2xpY3koYXV0aGVudGljYXRpb25UeXBlOiBJSW5pdE9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0YWdlR3JvdXA6IElJbml0T3B0aW9ucy5BZ2VHcm91cCk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gUmV0dXJuIEJhc2VkIG9uIGF1dGhlbnRpY2F0aW9uIGZpcnN0XHJcblx0XHRpZiAoYXV0aGVudGljYXRpb25UeXBlID09PSBJSW5pdE9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlLlVuYXV0aGVudGljYXRlZCB8fFxyXG5cdFx0XHRhdXRoZW50aWNhdGlvblR5cGUgPT09IElJbml0T3B0aW9ucy5BdXRoZW50aWNhdGlvblR5cGUuQUFEKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Ly8gUmV0dXJuIGJhc2VkIG9uIEFnZUdyb3VwXHJcblx0XHRyZXR1cm4gYWdlR3JvdXAgIT09IElJbml0T3B0aW9ucy5BZ2VHcm91cC5NaW5vcldpdGhQYXJlbnRhbENvbnNlbnQgJiZcclxuXHRcdFx0YWdlR3JvdXAgIT09IElJbml0T3B0aW9ucy5BZ2VHcm91cC5NaW5vcldpdGhvdXRQYXJlbnRhbENvbnNlbnQ7XHJcblx0fVxyXG5cclxuXHQvLyBLZWVwIGltcGxlbWVudGF0aW9uIGluIHN5bmMgd2l0aCAlU1JDUk9PVCVcXHByaXZhY3lcXGlkY29uc2VudHByb3ZpZGVyXFxJZGVudGl0eUJhc2VkQ29uc2VudEdyb3VwUHJvdmlkZXIuY3BwXHJcblx0cHVibGljIGdldFVzZXJDb25zZW50R3JvdXAoKTogSUluaXRPcHRpb25zLlVzZXJDb25zZW50R3JvdXAge1xyXG5cdFx0Y29uc3QgYXV0aGVudGljYXRpb25UeXBlID0gdGhpcy5jb21tb25Jbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGU7XHJcblx0XHRpZiAoYXV0aGVudGljYXRpb25UeXBlID09PSBJSW5pdE9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlLlVuYXV0aGVudGljYXRlZCB8fFxyXG5cdFx0XHRhdXRoZW50aWNhdGlvblR5cGUgPT09IElJbml0T3B0aW9ucy5BdXRoZW50aWNhdGlvblR5cGUuQUFEKSB7XHJcblx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5Db25zZW50O1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGFnZUdyb3VwID0gdGhpcy5jb21tb25Jbml0T3B0aW9ucy5hZ2VHcm91cDtcclxuXHRcdHN3aXRjaCAoYWdlR3JvdXApIHtcclxuXHRcdFx0Y2FzZSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuVW5kZWZpbmVkOlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5Db25zZW50O1xyXG5cdFx0XHRjYXNlIElJbml0T3B0aW9ucy5BZ2VHcm91cC5NaW5vcldpdGhvdXRQYXJlbnRhbENvbnNlbnQ6XHJcblx0XHRcdFx0cmV0dXJuIElJbml0T3B0aW9ucy5Vc2VyQ29uc2VudEdyb3VwLkNhbm5vdENvbnNlbnQ7XHJcblx0XHRcdGNhc2UgSUluaXRPcHRpb25zLkFnZUdyb3VwLk1pbm9yV2l0aFBhcmVudGFsQ29uc2VudDpcclxuXHRcdFx0XHRyZXR1cm4gSUluaXRPcHRpb25zLlVzZXJDb25zZW50R3JvdXAuQ2Fubm90Q29uc2VudDtcclxuXHRcdFx0Y2FzZSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuQWR1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIElJbml0T3B0aW9ucy5Vc2VyQ29uc2VudEdyb3VwLkNhbkNvbnNlbnQ7XHJcblx0XHRcdGNhc2UgSUluaXRPcHRpb25zLkFnZUdyb3VwLk5vdEFkdWx0OlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5QYXJ0aWFsQ29uc2VudDtcclxuXHRcdFx0Y2FzZSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuTWlub3JOb1BhcmVudGFsQ29uc2VudFJlcXVpcmVkOlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5Db25zZW50O1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5ub3RDb25zZW50O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5ub3RDb25zZW50O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZUV2ZW50U2FtcGxpbmdPcHRpb24oc2FtcGxpbmdPcHRpb25zOiBJSW5pdE9wdGlvbnMuSVNhbXBsaW5nRXZlbnRbXSk6IElJbml0T3B0aW9ucy5JU2FtcGxpbmdJbml0T3B0aW9uIHtcclxuXHRcdGxldCBldmVudEluaXRTYW1wbGluZzogSUluaXRPcHRpb25zLklTYW1wbGluZ0luaXRPcHRpb24gPSB7IGV2ZW50OiB7fSB9O1xyXG5cdFx0aWYgKHNhbXBsaW5nT3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdC8vIEl0ZXJhdGluZyB0aHJvdWdoIGluaXQgb3B0aW9uc1xyXG5cdFx0XHRmb3IgKGNvbnN0IGluZGV4IGluIHNhbXBsaW5nT3B0aW9ucykge1xyXG5cdFx0XHRcdGlmIChzYW1wbGluZ09wdGlvbnMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcblx0XHRcdFx0XHQvLyBDaGVjayBmb3IgY29ycmVjdCBUeXBlXHJcblx0XHRcdFx0XHRzd2l0Y2ggKHNhbXBsaW5nT3B0aW9uc1tpbmRleF0udHlwZSkge1xyXG5cdFx0XHRcdFx0XHRjYXNlIFwiRXZlbnRcIjpcclxuXHRcdFx0XHRcdFx0XHQvLyBQYXJzaW5nIHRoZSBOYW1lIGFuZCBTYW1wbGVSYXRlXHJcblx0XHRcdFx0XHRcdFx0bGV0IHNhbXBsZVJhdGUgPSBzYW1wbGluZ09wdGlvbnNbaW5kZXhdLnNhbXBsZVJhdGU7XHJcblx0XHRcdFx0XHRcdFx0VXRpbHMuZXhwZWN0TnVtYmVyKHNhbXBsZVJhdGUsIFwiaW5pdE9wdGlvbi5FdmVudFNhbXBsaW5nLlNhbXBsZVJhdGVcIik7XHJcblx0XHRcdFx0XHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKHNhbXBsaW5nT3B0aW9uc1tpbmRleF0ubmFtZSwgXCJpbml0T3B0aW9uLkV2ZW50U2FtcGxpbmcuTmFtZVwiKTtcclxuXHRcdFx0XHRcdFx0XHQvLyBjaGVjayB0aGUgcmFuZ2UgZm9yIHNhbXBsaW5nIHBlcmNlbnRhZ2VcclxuXHRcdFx0XHRcdFx0XHRpZiAoc2FtcGxlUmF0ZSA8IDAgfHwgc2FtcGxlUmF0ZSA+IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRocm93IFwiaW5pdE9wdGlvbi5FdmVudFNhbXBsaW5nLlwiICsgc2FtcGxpbmdPcHRpb25zW2luZGV4XS5uYW1lICsgXCIuU2FtcGxlUmF0ZSBpcyBvdXQgb2YgcmFuZ2VcIjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0Ly8gZmluYWxseSwgc2F2ZSB0aGUgc2FtcGxpbmcgZXZlbnRcclxuXHRcdFx0XHRcdFx0XHRldmVudEluaXRTYW1wbGluZy5ldmVudFtzYW1wbGluZ09wdGlvbnNbaW5kZXhdLm5hbWVdID0gc2FtcGxlUmF0ZTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBcImluaXRPcHRpb24uRXZlbnRTYW1wbGluZy5UeXBlIHZhbHVlIGlzIG5vdCByZWNvZ25pemVkXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZXZlbnRJbml0U2FtcGxpbmc7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHBhcnNlR292ZXJuYW5jZVNlcnZpY2VDb25maWcoY29uZmlnOiBJSW5pdE9wdGlvbnMuSUdvdmVybmFuY2VTZXJ2aWNlQ29uZmlnKTogSUluaXRPcHRpb25zLklHb3Zlcm5hbmNlU2VydmljZUNvbmZpZyB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQvLyBieSBkZWZhdWx0LCBkaXNhYmxlIHRoZSB0cmlnZ2VyIGluIGZhaWx1cmVcclxuXHRcdFx0Zm9yY2VTZXJ2aWNlbGVzc1N1cnZleURpc3BsYXk6IGNvbmZpZy5mb3JjZVNlcnZpY2VsZXNzU3VydmV5RGlzcGxheSA/PyBmYWxzZSxcclxuXHJcblx0XHRcdC8vIGJ5IGRlZmF1bHQsIG5vIHJldHJ5XHJcblx0XHRcdHJldHJ5OiBjb25maWcucmV0cnkgPz8gMSxcclxuXHJcblx0XHRcdC8vIGJ5IGRlZmF1bHQsIHRpbWVvdXQgaXMgMTAwMCBtaWxpc2Vjb25kc1xyXG5cdFx0XHR0aW1lb3V0OiBjb25maWcudGltZW91dCA/PyAxMDAwLFxyXG5cclxuXHRcdFx0Ly8gc2ltcGxlIHJlcXVlc3QgaXMgZGVmYXVsdCB0byBmYWxzZVxyXG5cdFx0XHRzaW1wbGVSZXF1ZXN0RW5hYmxlZDogY29uZmlnLnNpbXBsZVJlcXVlc3RFbmFibGVkID8/IGZhbHNlLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmxldCBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldCgpOiBDb25maWd1cmF0aW9uIHtcclxuXHRyZXR1cm4gY29uZmlndXJhdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlIGZlZWRiYWNrVHlwZVxyXG4gKiBAcGFyYW0gZmVlZGJhY2tUeXBlIGZlZWRiYWNrVHlwZVxyXG4gKiBAcmV0dXJucyB7Q29uc3RhbnRzLkZlZWRiYWNrVHlwZX0gdGhlIHZhbGlkYXRlZCBmZWVkYmFja1R5cGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUZlZWRiYWNrVHlwZShmZWVkYmFja1R5cGU6IHN0cmluZyk6IENvbnN0YW50cy5GZWVkYmFja1R5cGUge1xyXG5cdFV0aWxzLmV4cGVjdFN0cmluZyhmZWVkYmFja1R5cGUsIFwiZmVlZGJhY2tUeXBlXCIpO1xyXG5cclxuXHRpZiAoZmVlZGJhY2tUeXBlID09PSBDb25zdGFudHMuRmVlZGJhY2tUeXBlW0NvbnN0YW50cy5GZWVkYmFja1R5cGUuU21pbGVdKSB7XHJcblx0XHRyZXR1cm4gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5TbWlsZTtcclxuXHR9IGVsc2UgaWYgKGZlZWRiYWNrVHlwZSA9PT0gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZVtDb25zdGFudHMuRmVlZGJhY2tUeXBlLkZyb3duXSkge1xyXG5cdFx0cmV0dXJuIENvbnN0YW50cy5GZWVkYmFja1R5cGUuRnJvd247XHJcblx0fSBlbHNlIGlmIChmZWVkYmFja1R5cGUgPT09IENvbnN0YW50cy5GZWVkYmFja1R5cGVbQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5CdWddKSB7XHJcblx0XHRyZXR1cm4gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5CdWc7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IFwiZmVlZGJhY2tUeXBlIHNob3VsZCBiZSBvbmUgb2YgU21pbGUsIEZyb3duIG9yIEJ1Z1wiO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/Configuration.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/DynamicConfiguration.ts":
/*!***********************************************************!*\
  !*** ./scripts/app/Configuration/DynamicConfiguration.ts ***!
  \***********************************************************/
/*! exports provided: getDynamicSetting, resetDynamicSettingsTmsgCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDynamicSetting\", function() { return getDynamicSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetDynamicSettingsTmsgCache\", function() { return resetDynamicSettingsTmsgCache; });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _TargetedMessaging_TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TargetedMessaging/TargetedMessagingCache */ \"./scripts/app/TargetedMessaging/TargetedMessagingCache.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"isNOU\"];\r\nvar dynamicSettingsTmsgCache = null;\r\nfunction getDynamicSetting(key, defaultValue) {\r\n    try {\r\n        if (!dynamicSettingsTmsgCache && _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isStorageAvailable()) {\r\n            dynamicSettingsTmsgCache = new _TargetedMessaging_TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_2__[\"TargetedMessagingCache\"]([\"DynamicSettings\" /* dynamicSettings */]);\r\n        }\r\n        if (!dynamicSettingsTmsgCache) {\r\n            return defaultValue;\r\n        }\r\n        var settingsObj = dynamicSettingsTmsgCache.getItemContent(\"DynamicSettings\" /* dynamicSettings */);\r\n        if (!isNOU(settingsObj)\r\n            && settingsObj.hasOwnProperty(key)\r\n            && !isNOU(settingsObj[key])) {\r\n            var settingValue = settingsObj[key];\r\n            // parse types\r\n            if (typeof defaultValue === \"number\" && typeof settingValue !== \"number\") {\r\n                if (typeof settingValue === \"string\") {\r\n                    var returnValue = settingValue.indexOf(\".\") === -1 ? parseInt(settingValue, 10) : parseFloat(settingValue);\r\n                    return isNaN(returnValue) ? defaultValue : returnValue;\r\n                }\r\n                return defaultValue;\r\n            }\r\n            return settingValue;\r\n        }\r\n    }\r\n    catch (error) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"EventIds\"].Common.Error.VALUE, 2 /* Error */, {\r\n            ErrorMessage: \"Error reading dynamic setting \" + (error && error.message),\r\n            Type: key,\r\n        });\r\n    }\r\n    return defaultValue;\r\n}\r\nfunction resetDynamicSettingsTmsgCache() {\r\n    dynamicSettingsTmsgCache = null;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uLnRzP2RiOGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBa0M7QUFDK0M7QUFDSTtBQUd2QztBQUV0QyxTQUFLLEdBQUssNENBQUwsQ0FBVztBQW9DeEIsSUFBSSx3QkFBd0IsR0FBMkIsSUFBSSxDQUFDO0FBRXJELFNBQVMsaUJBQWlCLENBQUksR0FBZSxFQUFFLFlBQWU7SUFDcEUsSUFBSTtRQUNILElBQUksQ0FBQyx3QkFBd0IsSUFBSSwrRUFBd0IsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO1lBQy9FLHdCQUF3QixHQUFJLElBQUksZ0dBQXNCLENBQUMseUNBQTZCLENBQUMsQ0FBQztTQUN0RjtRQUVELElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUM5QixPQUFPLFlBQVksQ0FBQztTQUNwQjtRQUVELElBQU0sV0FBVyxHQUFHLHdCQUF3QixDQUFDLGNBQWMseUNBQWdELENBQUM7UUFDNUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7ZUFDbkIsV0FBVyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUM7ZUFDL0IsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDN0IsSUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRXRDLGNBQWM7WUFDZCxJQUFJLE9BQU8sWUFBWSxLQUFLLFFBQVEsSUFBSSxPQUFPLFlBQVksS0FBSyxRQUFRLEVBQUU7Z0JBQ3pFLElBQUksT0FBTyxZQUFZLEtBQUssUUFBUSxFQUFFO29CQUNyQyxJQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQzdHLE9BQU8sS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFdBQTJCLENBQUM7aUJBQ3ZFO2dCQUVELE9BQU8sWUFBWSxDQUFDO2FBQ3BCO1lBRUQsT0FBTyxZQUFZLENBQUM7U0FDcEI7S0FDRDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2YsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQzNCLHlEQUFnQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxpQkFFbkM7WUFDQyxZQUFZLEVBQUUsb0NBQWlDLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFFO1lBQ3ZFLElBQUksRUFBRSxHQUFHO1NBQ1QsQ0FBQyxDQUFDO0tBQ0o7SUFFRCxPQUFPLFlBQVksQ0FBQztBQUNyQixDQUFDO0FBRU0sU0FBUyw2QkFBNkI7SUFDNUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDO0FBQ2pDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4uL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUgfSBmcm9tIFwiLi4vVGFyZ2V0ZWRNZXNzYWdpbmcvVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZVwiO1xyXG5pbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuLi9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnRlbnRUeXBlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gU2V0dGluZ0tleSB7XHJcblx0Ly8gR2VuZXJhbFxyXG5cdGxvZ0xldmVsU2V0dGluZ3MgPSBcIkxvZ0xldmVsU2V0dGluZ3NcIixcclxuXHJcblx0Ly8gV2ViIHN1cmZhY2VzXHJcblx0dGVhY2hpbmdNZXNzYWdlQ29vbGRvd24gPSBcIlRlYWNoaW5nTWVzc2FnZUNvb2xkb3duXCIsXHJcblx0d2ViU3VyZmFjZXNJbnRMaW5rID0gXCJXZWJTdXJmYWNlc0ludExpbmtcIixcclxuXHR3ZWJTdXJmYWNlc1Byb2RMaW5rID0gXCJXZWJTdXJmYWNlc1Byb2RMaW5rXCIsXHJcblxyXG5cdC8vIFRNUyBzZXR0aW5nc1xyXG5cdHRtc0FwcElkID0gXCJUbXNBcHBJZFwiLFxyXG5cdHRtc1NlcnZpY2VVcmwgPSBcIlRtc1NlcnZpY2VVcmxcIixcclxuXHR0bXNBY3Rpb25VcmwgPSBcIlRtc0FjdGlvblVybFwiLFxyXG5cdHRtc0xvYWRUaW1lb3V0ID0gXCJUbXNMb2FkVGltZW91dFwiLFxyXG5cdHRtc01lc3NhZ2VNZXRhZGF0YUV4cGlyeSA9IFwiVG1zTWVzc2FnZU1ldGFkYXRhRXhwaXJ5XCIsXHJcblx0dG1zVXNlckdvdmVybmFuY2VSdWxlc0V4cGlyeSA9IFwiVG1zVXNlckdvdmVybmFuY2VSdWxlc0V4cGlyeVwiLFxyXG5cdHRtc0NhbXBhaWduQ29udGVudEV4cGlyeSA9IFwiVG1zQ2FtcGFpZ25Db250ZW50RXhwaXJ5XCIsXHJcblx0dG1zRHluYW1pY1NldHRpbmdzRXhwaXJ5ID0gXCJUbXNEeW5hbWljU2V0dGluZ3NFeHBpcnlcIixcclxuXHR0bXNMb2dMZXZlbFNldHRpbmdzRXhwaXJ5ID0gXCJUbXNMb2dMZXZlbFNldHRpbmdzRXhwaXJ5XCIsXHJcblx0dG1zVXNlckZhY3RzRXhwaXJ5ID0gXCJUbXNVc2VyRmFjdHNFeHBpcnlcIixcclxuXHJcblx0Ly8gVHVsaXBzXHJcblx0dHVsaXBzQXBwSWQgPSBcIlR1bGlwc0FwcElkXCIsXHJcblx0dHVsaXBzTG9hZFRpbWVvdXQgPSBcIlR1bGlwc0xvYWRUaW1lb3V0XCIsXHJcblx0dHVsaXBzU2VydmljZVVybCA9IFwiVHVsaXBzU2VydmljZVVybFwiLFxyXG5cdHR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCA9IFwiVHVsaXBzSW5nZXN0aW9uVGltZUludGVydmFsXCIsXHJcblxyXG5cdC8vIEF1Z0xvb3BcclxuXHR0dWxpcHNBdWdMb29wQW5ub3RhdGlvbk5hbWUgPSBcIlR1bGlwc0F1Z0xvb3BBbm5vdGF0aW9uTmFtZVwiLFxyXG5cdHR1bGlwc0F1Z0xvb3BQYWNrYWdlRGVsYXlMb2FkID0gXCJUdWxpcHNBdWdMb29wUGFja2FnZURlbGF5TG9hZFwiLFxyXG5cdHR1bGlwc0F1Z0xvb3BMb2FkUmV0cnlUaW1lcyA9IFwiVHVsaXBzQXVnTG9vcExvYWRSZXRyeVRpbWVzXCIsXHJcblx0dHVsaXBzQXVnTG9vcExvYWRUaW1lb3V0ID0gXCJUdWxpcHNBdWdMb29wTG9hZFRpbWVvdXRcIixcclxufVxyXG5cclxubGV0IGR5bmFtaWNTZXR0aW5nc1Rtc2dDYWNoZTogVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZSA9IG51bGw7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHluYW1pY1NldHRpbmc8VD4oa2V5OiBTZXR0aW5nS2V5LCBkZWZhdWx0VmFsdWU6IFQpOiBUIHtcclxuXHR0cnlcdHtcclxuXHRcdGlmICghZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlICYmIEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRkeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUgPSAgbmV3IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUoW0NvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5nc10pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2V0dGluZ3NPYmogPSBkeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUuZ2V0SXRlbUNvbnRlbnQ8UmVjb3JkPHN0cmluZywgVD4+KENvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5ncyk7XHJcblx0XHRpZiAoIWlzTk9VKHNldHRpbmdzT2JqKVxyXG5cdFx0XHQmJiBzZXR0aW5nc09iai5oYXNPd25Qcm9wZXJ0eShrZXkpXHJcblx0XHRcdCYmICFpc05PVShzZXR0aW5nc09ialtrZXldKSkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nVmFsdWUgPSBzZXR0aW5nc09ialtrZXldO1xyXG5cclxuXHRcdFx0Ly8gcGFyc2UgdHlwZXNcclxuXHRcdFx0aWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHNldHRpbmdWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IHNldHRpbmdWYWx1ZS5pbmRleE9mKFwiLlwiKSA9PT0gLTEgPyBwYXJzZUludChzZXR0aW5nVmFsdWUsIDEwKSA6IHBhcnNlRmxvYXQoc2V0dGluZ1ZhbHVlKTtcclxuXHRcdFx0XHRcdHJldHVybiBpc05hTihyZXR1cm5WYWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiByZXR1cm5WYWx1ZSBhcyB1bmtub3duIGFzIFQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2V0dGluZ1ZhbHVlO1xyXG5cdFx0fVxyXG5cdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRMb2dnaW5nLkV2ZW50SWRzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogYEVycm9yIHJlYWRpbmcgZHluYW1pYyBzZXR0aW5nICR7ZXJyb3IgJiYgZXJyb3IubWVzc2FnZX1gLFxyXG5cdFx0XHRcdFR5cGU6IGtleSxcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXREeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUoKSB7XHJcblx0ZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlID0gbnVsbDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/DynamicConfiguration.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/IInitOptions.ts":
/*!***************************************************!*\
  !*** ./scripts/app/Configuration/IInitOptions.ts ***!
  \***************************************************/
/*! exports provided: CustomResources, AgeGroup, AuthenticationType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomResources\", function() { return CustomResources; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AgeGroup\", function() { return AgeGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticationType\", function() { return AuthenticationType; });\n// bit mask flag: values should be set 0,1,2,4,8,16, etc...\r\n// Example for Css and Strings both, use 3.\r\nvar CustomResources;\r\n(function (CustomResources) {\r\n    CustomResources[CustomResources[\"None\"] = 0] = \"None\";\r\n    CustomResources[CustomResources[\"Css\"] = 1] = \"Css\";\r\n    CustomResources[CustomResources[\"Strings\"] = 2] = \"Strings\";\r\n})(CustomResources || (CustomResources = {}));\r\nvar AgeGroup;\r\n(function (AgeGroup) {\r\n    AgeGroup[AgeGroup[\"Undefined\"] = 0] = \"Undefined\";\r\n    AgeGroup[AgeGroup[\"MinorWithoutParentalConsent\"] = 1] = \"MinorWithoutParentalConsent\";\r\n    AgeGroup[AgeGroup[\"MinorWithParentalConsent\"] = 2] = \"MinorWithParentalConsent\";\r\n    AgeGroup[AgeGroup[\"Adult\"] = 3] = \"Adult\";\r\n    AgeGroup[AgeGroup[\"NotAdult\"] = 4] = \"NotAdult\";\r\n    AgeGroup[AgeGroup[\"MinorNoParentalConsentRequired\"] = 5] = \"MinorNoParentalConsentRequired\";\r\n})(AgeGroup || (AgeGroup = {}));\r\nvar AuthenticationType;\r\n(function (AuthenticationType) {\r\n    AuthenticationType[AuthenticationType[\"MSA\"] = 0] = \"MSA\";\r\n    AuthenticationType[AuthenticationType[\"AAD\"] = 1] = \"AAD\";\r\n    AuthenticationType[AuthenticationType[\"Unauthenticated\"] = 2] = \"Unauthenticated\";\r\n})(AuthenticationType || (AuthenticationType = {}));\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lJbml0T3B0aW9ucy50cz9iYmE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtOQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDJEQUEyRDtBQUMzRCwyQ0FBMkM7QUFDM0MsSUFBWSxlQUlYO0FBSkQsV0FBWSxlQUFlO0lBQzFCLHFEQUFRO0lBQ1IsbURBQU87SUFDUCwyREFBVztBQUNaLENBQUMsRUFKVyxlQUFlLEtBQWYsZUFBZSxRQUkxQjtBQUVELElBQVksUUFPWDtBQVBELFdBQVksUUFBUTtJQUNuQixpREFBUztJQUNULHFGQUEyQjtJQUMzQiwrRUFBd0I7SUFDeEIseUNBQUs7SUFDTCwrQ0FBUTtJQUNSLDJGQUE4QjtBQUMvQixDQUFDLEVBUFcsUUFBUSxLQUFSLFFBQVEsUUFPbkI7QUFFRCxJQUFZLGtCQUlYO0FBSkQsV0FBWSxrQkFBa0I7SUFDN0IseURBQUc7SUFDSCx5REFBRztJQUNILGlGQUFlO0FBQ2hCLENBQUMsRUFKVyxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBSTdCO0FBY0EsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBJT25EaXNtaXNzRGVsZWdhdGUgfSBmcm9tIFwiLi8uLi9JT25EaXNtaXNzRGVsZWdhdGVcIjtcclxuaW1wb3J0IHsgSUF1Z0xvb3BDYWxsYmFjaywgSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrLCBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaywgSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2sgfVxyXG5cdGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnbkRlZmluaXRpb24gfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYiB9IGZyb20gXCIuLy4uL1RyYW5zcG9ydC9UcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgSVNlc3Npb24gfSBmcm9tIFwiQGF1Z2xvb3AvcnVudGltZS1jbGllbnRcIjtcclxuaW1wb3J0IHsgSUNWU3VydmV5UGFyYW1zIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUNWU3VydmV5XCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBjb21tb24gaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJSW5pdE9wdGlvbnNDb21tb24ge1xyXG5cdC8vIEFuIGlkIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIHRoZSBob3N0IGFwcCBpbiB0aGUgT0NWIHdvcmxkXHJcblx0YXBwSWQ6IG51bWJlcjtcclxuXHQvLyBUaGUgdXJsIGF0IHdoaWNoIHRoZSBzdHlsZXMgcmVzaWRlXHJcblx0c3R5bGVzVXJsPzogc3RyaW5nO1xyXG5cdC8vIFRoZSB1cmwgYXQgd2hpY2ggdGhlIGludGVybmF0aW9uYWxpemF0aW9uIGZpbGVzIHJlc2lkZVxyXG5cdGludGxVcmw/OiBzdHJpbmc7XHJcblx0Ly8gVGhlIGZpbGVuYW1lIGZvciB0aGUgaW50ZXJuYXRpb25hbGl6YXRpb24gc3RyaW5ncywgaWYgZGlmZmVyZW50IHRoYW4gdGhlIGRlZmF1bHQgZmlsZW5hbWVcclxuXHRpbnRsRmlsZW5hbWU/OiBzdHJpbmc7XHJcblx0Ly8gQmFzZSB1cmwgd2hlcmUgYW55IHV4IGFzc2V0cyByZXNpZGUuIE1haW5seSB1c2VkIGJ5IGNvYWNoaW5nIHV4XHJcblx0d2ViU3VyZmFjZXNSZXNvdXJjZUJhc2VVcmw/OiBzdHJpbmc7XHJcblx0Ly8gRW52aXJvbm1lbnRcclxuXHRlbnZpcm9ubWVudDogQ29uc3RhbnRzLkVudmlyb25tZW50O1xyXG5cdC8vIEEgc3RyaW5nIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIHRoZSBjdXJyZW50IHNlc3Npb25cclxuXHRzZXNzaW9uSWQ/OiBzdHJpbmc7XHJcblx0Ly8gY2lkIHN0cmluZyB3aGljaCBpcyBpbi1zY29wZSBmb3IgR0RQUiBjb21wbGlhbmNlIGZvciBleHBvcnQgYW5kIGRlbGV0aW9uIHJlcXVlc3RcclxuXHRjaWQ/OiBzdHJpbmc7XHJcblx0Ly8gQSBidWlsZCB2ZXJzaW9uIGZvciB5b3VyIGFwcFxyXG5cdGJ1aWxkPzogc3RyaW5nO1xyXG5cdC8vIFRoZSBwcmltYXJ5IGNvbG91ciBpbiBoZXggZm9ybSAjWzAtOWEtZl17Nn1cclxuXHRwcmltYXJ5Q29sb3VyPzogc3RyaW5nO1xyXG5cdC8vIFRoZSBzZWNvbmRhcnkgY29sb3VyIGluIGhleCBmb3JtICNbMC05YS1mXXs2fVxyXG5cdHNlY29uZGFyeUNvbG91cj86IHN0cmluZztcclxuXHQvLyBUaGUgVUkgbG9jYWxlIG5hbWUgb2YgdGhlIGNhbGxpbmcgcGFnZVxyXG5cdGxvY2FsZT86IHN0cmluZztcclxuXHQvLyBTeXN0ZW0tVXNlIG9ubHlcclxuXHRvcmlnaW5hbExvY2FsZT86IHN0cmluZztcclxuXHQvLyBBIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIFNESyBlbmNvdW50ZXJzIGVycm9yc1xyXG5cdG9uRXJyb3I/OiAoZXJyOiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0Ly8gQXBwbGljYXRpb24gcmVsYXRlZCBtZXRhZGF0YVxyXG5cdGFwcGxpY2F0aW9uR3JvdXA/OiBJTWFuaWZlc3REYXRhQXBwbGljYXRpb247XHJcblx0Ly8gVGVsZW1ldHJ5IHJlbGF0ZWQgbWV0YWRhdGFcclxuXHR0ZWxlbWV0cnlHcm91cD86IElNYW5pZmVzdERhdGFUZWxlbWV0cnk7XHJcblx0Ly8gV2ViIHJlbGF0ZWQgbWV0YWRhdGFcclxuXHR3ZWJHcm91cD86IElNYW5pZmVzdERhdGFXZWI7XHJcblx0Ly8gVXNlciBFbWFpbCBcclxuXHR1c2VyRW1haWw/OiBzdHJpbmc7XHJcblx0Ly8gVGhlIGpzb24gc3RyaW5nIHRvIGRlZmluZSBldmVudCBzYW1wbGluZ1xyXG5cdGV2ZW50U2FtcGxpbmc/OiBJU2FtcGxpbmdFdmVudFtdO1xyXG5cdC8vIFRoZSB0aW1lb3V0IGZvciBzZW5kaW5nIHJlc3BvbnNlIGluIHBldHJvbFxyXG5cdHBldHJvbFRpbWVvdXQ/OiBudW1iZXI7XHJcblx0Ly8gY2hlY2sgdG8gc2VlIGlmIHVzZXIgaXMgY29uc3VtZXIvY29tbWVyY2lhbCB0byBkeW5hbWljYWxseSBkaXNwbGF5IFVJXHJcblx0aXNDb21tZXJjaWFsSG9zdD86IGJvb2xlYW47XHJcblx0Ly8gT3B0aW9uIHRvIHNlZSBpZiB0aGUgaG9zdCB3aWxsIGJlIHByb3ZpZGluZyB0aGVpciBvd24gcmVzb3VyY2VzIHN1Y2ggYXMgc3RyaW5ncyBvciBDU1NcclxuXHRjdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5PzogQ3VzdG9tUmVzb3VyY2VzO1xyXG5cdC8vIHRoZSBlbWFpbCBwb2xpY3kgdmFsdWUgZnJvbSBPQ1BTIHRvIGRldGVybWluZXMgaWYgdGhlIHVzZXIgY2FuIHNlZSBhbiBvcHRpb24gdG8gaW5jbHVkZSB0aGVpciBlbWFpbCB3aGVuIHRoZXkgc3VibWl0IGZlZWRiYWNrXHJcblx0ZW1haWxQb2xpY3lWYWx1ZT86IENvbnN0YW50cy5PQ1BTVmFsdWVzO1xyXG5cdC8vIHRoZSBzY3JlZW5zaG90IHBvbGljeSB2YWx1ZSBmcm9tIE9DUFMgdG8gZGV0ZXJtaW5lcyBpZiB0aGUgdXNlciBjYW4gc2VlIGFuIG9wdGlvbiB0byBpbmNsdWRlIHRoZWlyIHNjcmVlbnNob3Qgd2hlbiB0aGV5IHN1Ym1pdCBmZWVkYmFja1xyXG5cdHNjcmVlbnNob3RQb2xpY3lWYWx1ZT86IENvbnN0YW50cy5PQ1BTVmFsdWVzO1xyXG5cdC8vIEFnZUdyb3VwIGVudW0gd2hpY2ggdXNlciBpcyBjbGFzc2ZpZWQgYXNcclxuXHRhZ2VHcm91cD86IEFnZUdyb3VwO1xyXG5cdC8vIEF1dGhlbnRpY2F0aW9uIFR5cGUgb2YgdXNlclxyXG5cdGF1dGhlbnRpY2F0aW9uVHlwZT86IEF1dGhlbnRpY2F0aW9uVHlwZTtcclxuXHQvLyBBcHBsaWNhdGlvbiBzZXR0aW5nc1xyXG5cdGFwcGxpY2F0aW9uU2V0dGluZ3M/OiBJQXBwbGljYXRpb25TZXR0aW5ncztcclxuXHQvLyBQYWNrYWdlIHNldHRpbmdzIGZvciB0aGUgbmV3IHdlYiBzdXJmYWNlcyB1cmxzIChhZnRlciBtaWdyYXRpb24gb2YgdGhlIENETilcclxuXHR3ZWJTdXJmYWNlc1NldHRpbmdzPzogSVdlYlN1cmZhY2VzU2V0dGluZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIG1lc3NhZ2luZyBzZXJ2aWNlIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElNZXNzYWdpbmdTZXJ2aWNlU2V0dGluZ3Mge1xyXG5cdC8vIEludGVybmFsIG1lc3NhZ2luZyBzZXJ2aWNlIHVybFxyXG5cdG1lc3NhZ2luZ1NlcnZpY2VJbnRVcmw/OiBzdHJpbmc7XHJcblx0Ly8gUHJvZHVjdGlvbiBtZXNzYWdpbmcgc2VydmljZSB1cmwgXHJcblx0bWVzc2FnaW5nU2VydmljZVByb2RVcmw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHBhY2thZ2Ugc2V0dGluZ3NcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVdlYlN1cmZhY2VzU2V0dGluZ3Mge1xyXG5cdC8vIEludGVybmFsIHdlYiBzdXJmYWNlcyB1cmxcclxuXHR3ZWJTdXJmYWNlc0ludFVybD86IHN0cmluZztcclxuXHQvLyBQcm9kdWN0aW9uIHdlYiBzdXJmYWNlcyB1cmwgXHJcblx0d2ViU3VyZmFjZXNQcm9kVXJsPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBob3N0IGFwcGxpY2F0aW9uIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElBcHBsaWNhdGlvblNldHRpbmdzIHtcclxuXHRyZWFkb25seSBba2V5OiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBpbkFwcEZlZWRiYWNrIGluaXRpYWxpemF0aW9uIG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUluaXRPcHRpb25zSW5BcHBGZWVkYmFjayB7XHJcblx0Ly8gTWV0aG9kIGNhbGxlZCBvbiBmZWVkYmFjayBzdWJtaXNzaW9uXHJcblx0b25EaXNtaXNzPzogSU9uRGlzbWlzc0RlbGVnYXRlO1xyXG5cdC8vIEJ1ZyBmb3JtIHRvZ2dsZVxyXG5cdGJ1Z0Zvcm0/OiBib29sZWFuO1xyXG5cdC8vIGVtYWlsIGVuYWJsZWRcclxuXHRzaG93RW1haWxBZGRyZXNzPzogYm9vbGVhbjtcclxuXHQvLyBVc2VyIGVtYWlsXHJcblx0dXNlckVtYWlsPzogc3RyaW5nO1xyXG5cdC8vIFNjcmVlbnNob3QgdG9nZ2xlXHJcblx0c2NyZWVuc2hvdD86IGJvb2xlYW47XHJcblx0Ly8gVGhlIHN3aXRjaCB0byBzaG93IGEgdGhhbmsgeW91IHBhbmVsXHJcblx0aXNTaG93VGhhbmtzPzogYm9vbGVhbjtcclxuXHQvLyBGbGFnIHRvIGVuYWJsZS9kaXNhYmxlIHRyYW5zaXN0aW9uIG9uIHRoZSBVSS5cclxuXHR0cmFuc2l0aW9uRW5hYmxlZD86IGJvb2xlYW47XHJcblx0Ly8gdGhlIGZlZWRiYWNrIHBvbGljeSB2YWx1ZSBmcm9tIE9DUFMgdG8gZGV0ZXJtaW5lcyBpZiB0aGUgdXNlciBjYW4gc3VibWl0IGZlZWRiYWNrXHJcblx0c2VuZEZlZWRiYWNrUG9saWN5VmFsdWU/OiBDb25zdGFudHMuT0NQU1ZhbHVlcztcclxuXHQvLyBGZWVkYmFjayBGb3J1bSBVUkxcclxuXHRmZWVkYmFja0ZvcnVtVXJsPzogc3RyaW5nO1xyXG5cdC8vIE15IGZlZWRiYWNrIEZvcnVtIFVSTFxyXG5cdG15RmVlZGJhY2tGb3J1bVVybD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgZmxvb2RnYXRlIGluaXRpYWxpemF0aW9uIG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUluaXRPcHRpb25zRmxvb2RnYXRlIHtcclxuXHQvLyBTaG91bGQgdGhlIGZsb29kZ2F0ZSBwcm9tcHQgYXV0b21hdGljYWxseSBkaXNtaXNzIGlmIG5vdCBjbGlja2VkPyBEZWZhdWx0IGlzIGZhbHNlXHJcblx0YXV0b0Rpc21pc3M/OiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXM7XHJcblxyXG5cdC8vIENhbXBhaWduIGRlZmluaXRpb25zXHJcblx0Y2FtcGFpZ25EZWZpbml0aW9ucz86IENhbXBhaWduRGVmaW5pdGlvbltdO1xyXG5cclxuXHQvLyBGbGlnaHRzIGZvciBUTVMgc2VydmljZVxyXG5cdGNhbXBhaWduRmxpZ2h0cz86IHN0cmluZztcclxuXHJcblx0Ly8gQWRkaXRpb25hbCBxdWVyeSBwYXJhbWV0ZXJzIGZvciBUTVMgc2VydmljZVxyXG5cdGNhbXBhaWduUXVlcnlQYXJhbWV0ZXJzPzogc3RyaW5nO1xyXG5cclxuXHQvLyBEZWxlZ2F0ZSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZmxvb2RnYXRlIFVJIGlzIGRpc21pc3NlZCwgd2hldGhlciBvbiBhIHN1Ym1pc3Npb24gb3Igbm90XHJcblx0b25EaXNtaXNzPzogKGNhbXBpYWduSWQ6IHN0cmluZywgc3VibWl0dGVkOiBib29sZWFuKSA9PiB2b2lkO1xyXG5cclxuXHQvLyBUaGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiBhIHN1cnZleSBpcyBhY3RpdmF0ZWRcclxuXHRvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrPzogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2s7XHJcblxyXG5cdC8vIFRoZSBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIGhvc3QtYmFzZWQgZGF0YSBvcGVyYXRpb25zIGFyZSBuZWVkZWRcclxuXHRzZXR0aW5nU3RvcmFnZUNhbGxiYWNrPzogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2s7XHJcblxyXG5cdC8vIE9wdGlvbmFsbHkgcHJvdmlkZSBhIG1ldGhvZCB3aGljaCB3aWxsIGFjY2VwdCB0aGUgY3VzdG9tIHN0cmluZ3MgaW4gQ2FtcGFpZ24gRGVmaW5pdGlvbnMgYW5kIHJldHVybiBhY3R1YWxcclxuXHQvLyBzdHJpbmdzIHRoYXQgbXVzdCBiZSBkaXNwbGF5ZWQuIFVzZWQgZm9yIGxvY2FsaXphdGlvbi5cclxuXHR1SVN0cmluZ0dldHRlcj86IChzdHI6IHN0cmluZykgPT4gc3RyaW5nO1xyXG5cclxuXHQvLyBUaGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiBob3N0LWJhc2VkIGF1dGggdG9rZW4gaXMgbmVlZGVkXHJcblx0YXV0aFRva2VuQ2FsbGJhY2s/OiBJRmxvb2RnYXRlQXV0aFRva2VuQ2FsbGJhY2s7XHJcblxyXG5cdC8vIFRoZSBib29sZWFuIG9wdGlvbiB0byBlbmZvcmNlIGlmIHN1cnZleXMgYXJlIGFsbG93ZWQgYnkgYSBwb2xpY3ksIHN1Y2ggYXMgYW4gT0NQUyBwb2xpY3kgZm9yIGEgdGVuYW50LlxyXG5cdC8vIFRydWU6IFN1cnZleXMgYXJlIGVuYWJsZWQsIGZsb29kZ2F0ZSB3b3JrcyBub3JtYWxseTsgRmFsc2U6IFN1cnZleXMgYXJlIGRpc2FibGVkXHJcblx0c3VydmV5RW5hYmxlZD86IGJvb2xlYW47XHJcblxyXG5cdC8vIFRoZSBib29sZWFuIG9wdGlvbiB0byBlbmZvcmNlIGlmIGVtYWlsIGFkZHJlc3MgY29sbGVjdGlvbiBpbiBhIHN1cnZleSBpcyBhbGxvd2VkIGJ5IGEgcG9saWN5LCBzdWNoIGFzIGFuIE9DUFMgcG9saWN5IGZvciBhIHRlbmFudC5cclxuXHQvLyBUcnVlOiBlbWFpbCBhZGRyZXNzIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCwgZmxvb2RnYXRlIHdvcmtzIG5vcm1hbGx5OyBGYWxzZTogZW1haWwgYWRkcmVzcyBjb2xsZWN0aW9uIGlzIGRpc2FibGVkXHJcblx0c2hvd0VtYWlsQWRkcmVzcz86IGJvb2xlYW47XHJcblxyXG5cdC8vIEludGVyZmFjZSB0byBlbmFibGUvZGlzYWJsZSBhbmQgcGFzcyBhdWdMb29wIGhvc3QgcmVmZXJlbmNlc1xyXG5cdGF1Z0xvb3BDYWxsYmFjaz86IElBdWdMb29wQ2FsbGJhY2s8SVNlc3Npb24+O1xyXG5cclxuXHQvLyBJbnRlcmZhY2UgdG8gcGFzcyB0aGUgcGFyYW1zIGZvciB0aGUgQ3VzdG9tZXIgVm9pY2UgU3VydmV5XHJcblx0Y3VzdG9tZXJWb2ljZVN1cnZleVBhcmFtcz86IElDVlN1cnZleVBhcmFtcztcclxuXHJcblx0Ly8gVGhlIGJvb2xlYW4gb3B0aW9uIHRvIGVuYWJsIHRoZSBnb3Zlcm5hbmNlIHNlcnZpY2VcclxuXHRnb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cclxuXHQvLyBjb25maWd1cmF0aW9uIGZvciBnb3Zlcm5hbmNlIHNlcnZpY2VcclxuXHRnb3Zlcm5hbmNlU2VydmljZUNvbmZpZz86IElHb3Zlcm5hbmNlU2VydmljZUNvbmZpZztcclxuXHJcblx0Ly8gaXMgcGVyc29uYWxpemVyIGVuYWJsZWQgb24gY2xpZW50IHNpZGUuXHJcblx0cGVyc29uYWxpemVyRW5hYmxlZD86IGJvb2xlYW47XHJcblxyXG5cdC8vIE1lc3NhZ2luZyBzZXJ2aWNlIHNldHRpbmdzIGZvciB0aGUgbmV3IGJhc2UgdXJscyAoYWZ0ZXIgbWlncmF0aW9uIG9mIHRoZSBDRE4pXHJcblx0bWVzc2FnaW5nU2VydmljZVNldHRpbmdzPzogSU1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5ncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgZmxvb2RnYXRlIGV2ZW50IHNhbXBsaW5nIG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNhbXBsaW5nRXZlbnQge1xyXG5cdHR5cGU6IHN0cmluZztcclxuXHRuYW1lOiBzdHJpbmc7XHJcblx0c2FtcGxlUmF0ZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTYW1wbGluZ0luaXRPcHRpb24ge1xyXG5cdGV2ZW50PzogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJR292ZXJuYW5jZVNlcnZpY2VDb25maWcge1xyXG5cdC8vIGxpbWl0IG51bWJlciBvZiByZXRyeVxyXG5cdHJldHJ5PzogbnVtYmVyO1xyXG5cclxuXHQvLyB0aW1lb3V0IGluIHNlY29uZFxyXG5cdHRpbWVvdXQ/OiBudW1iZXI7XHJcblxyXG5cdC8vIEluIGNhc2Ugb2YgZmFpbHVyZSBjYWxsLCBvcHRpb24gdG8gd2hldGhlciBjb250aW51ZSBkaXNwbGF5IHN1cnZleSBvciBmYWxsIG9mZlxyXG5cdGZvcmNlU2VydmljZWxlc3NTdXJ2ZXlEaXNwbGF5PzogYm9vbGVhbjtcclxuXHJcblx0Ly8gT3B0aW9uIHRvIHVzZSBzaW1wbGUgcmVxdWVzdFxyXG5cdHNpbXBsZVJlcXVlc3RFbmFibGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuLy8gYml0IG1hc2sgZmxhZzogdmFsdWVzIHNob3VsZCBiZSBzZXQgMCwxLDIsNCw4LDE2LCBldGMuLi5cclxuLy8gRXhhbXBsZSBmb3IgQ3NzIGFuZCBTdHJpbmdzIGJvdGgsIHVzZSAzLlxyXG5leHBvcnQgZW51bSBDdXN0b21SZXNvdXJjZXMge1xyXG5cdE5vbmUgPSAwLFxyXG5cdENzcyA9IDEsXHJcblx0U3RyaW5ncyA9IDIsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEFnZUdyb3VwIHtcclxuXHRVbmRlZmluZWQsIC8vIFVua25vd24gYWdlXHJcblx0TWlub3JXaXRob3V0UGFyZW50YWxDb25zZW50LCAvLyBNaW5vciB1bmRlciB0aGUgYWdlIG9mIGNvbnNlbnRcclxuXHRNaW5vcldpdGhQYXJlbnRhbENvbnNlbnQsIC8vIE1pbm9yIHVuZGVyIGFnZSBvZiBjb25zZW50XHJcblx0QWR1bHQsIC8vIEFkdWx0XHJcblx0Tm90QWR1bHQsIC8vIE1pbm9yIGFib3ZlIGFnZSBvZiBjb25zZW50XHRcclxuXHRNaW5vck5vUGFyZW50YWxDb25zZW50UmVxdWlyZWQsIC8vIE1pbm9yIGFib3ZlIGFnZSBvZiBjb25zZW50XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEF1dGhlbnRpY2F0aW9uVHlwZSB7XHJcblx0TVNBLFxyXG5cdEFBRCxcclxuXHRVbmF1dGhlbnRpY2F0ZWRcclxufVxyXG5cclxuLy8gVGFrZW4gZnJvbSAlU1JDUk9PVCVcXHByaXZhY3lcXG9wdGlvbnNcXHB1YmxpY1xcVXNlckNvbnNlbnRHcm91cC5oXHJcbi8vIEVudW0gdGhhdCBkZXNjcmliZXMgdGhlIGRpZmZlcmVudCBjb25zZW50IGNhdGVnb3JpZXMgb2YgdGhlIHVzZXIuXHJcbmV4cG9ydCBjb25zdCBlbnVtIFVzZXJDb25zZW50R3JvdXAge1xyXG5cdC8vIFVua25vd24gY29uc2VudCBncm91cCwgd2UgZG8gbm90IGhhdmUgaW5mbyB0byBkZXRlcm1pbmUgdGhpc1xyXG5cdFVua25vd24gPSAwLFxyXG5cdC8vIENhbiBnaXZlIGNvbnNlbnQgdG8gZGF0YSBjb2xsZWN0aW9uLCB1cHNlbGwgbWVzc2FnZXNcclxuXHRDYW5Db25zZW50ID0gMSxcclxuXHQvLyBDYW4gc3RpbGwgZ2l2ZSBjb25zZW50IGJ1dCBpcyBvbmx5IGEgbGltaXRlZCBjb25zZW50LlxyXG5cdC8vIEFzIGFuIGV4YW1wbGUsIHVwc2VsbCAvIGNyb3NzIHNlbGwgc2hvdWxkIG5vdCBiZSBzaG93bi5cclxuXHRQYXJ0aWFsQ29uc2VudCA9IDIsXHJcblx0Ly8gVGhleSBjYW5ub3QgcHJvdmlkZSBhbnkgZm9ybSBvZiBjb25zZW50LiBObyBjb25zZW50IGRpYWxvZ3MgLyB1cHNlbGwgc2hvdWxkIG5vdCBiZSBzaG93bi5cclxuXHRDYW5ub3RDb25zZW50ID0gMyxcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/IInitOptions.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/ILaunchOptions.ts":
/*!*****************************************************!*\
  !*** ./scripts/app/Configuration/ILaunchOptions.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * LaunchOptions interfaces\r\n */\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zLnRzP2YyOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUciLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExhdW5jaE9wdGlvbnMgaW50ZXJmYWNlc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7SUNhdGVnb3J5T3B0aW9uc30gZnJvbSBcIi4vSUNhdGVnb3J5T3B0aW9uc1wiO1xyXG5pbXBvcnQge0lNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYn0gZnJvbSBcIi4vLi4vVHJhbnNwb3J0L1RyYW5zcG9ydFwiO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgbGF1bmNoIG9wdGlvbnMgZm9yIGluQXBwRmVlZGJhY2tcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxuXHRhcHBsaWNhdGlvbkdyb3VwPzogSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uO1xyXG5cdHRlbGVtZXRyeUdyb3VwPzogSU1hbmlmZXN0RGF0YVRlbGVtZXRyeTtcclxuXHR3ZWJHcm91cD86IElNYW5pZmVzdERhdGFXZWI7XHJcblx0Y2F0ZWdvcmllcz86IElDYXRlZ29yeU9wdGlvbnM7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/ILaunchOptions.ts\n");

/***/ }),

/***/ "./scripts/app/Constants.ts":
/*!**********************************!*\
  !*** ./scripts/app/Constants.ts ***!
  \**********************************/
/*! exports provided: customerVoiceLauncherType, customerVoiceSurveyUX, FeedbackType, DynamicScriptUrls, GUIDs, SDK_VERSION_PREFIX */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"customerVoiceLauncherType\", function() { return customerVoiceLauncherType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"customerVoiceSurveyUX\", function() { return customerVoiceSurveyUX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FeedbackType\", function() { return FeedbackType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicScriptUrls\", function() { return DynamicScriptUrls; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GUIDs\", function() { return GUIDs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SDK_VERSION_PREFIX\", function() { return SDK_VERSION_PREFIX; });\n/**\r\n * Constants.ts\r\n *\r\n * A module for non-UI constants.\r\n */\r\n/**\r\n * Value for the Customer Voice Launcher Type\r\n */\r\nvar customerVoiceLauncherType = \"customervoice\";\r\n/**\r\n * Value for the Customer Voice Survey text for adding to App data\r\n */\r\nvar customerVoiceSurveyUX = \"Customer Voice Survey UX\";\r\n/**\r\n * Values for types of feedback that go into the json\r\n * Also used to determine the FormTemplate used on each one of the feedback types.\r\n */\r\nvar FeedbackType;\r\n(function (FeedbackType) {\r\n    FeedbackType[FeedbackType[\"Smile\"] = 0] = \"Smile\";\r\n    FeedbackType[FeedbackType[\"Frown\"] = 1] = \"Frown\";\r\n    FeedbackType[FeedbackType[\"Idea\"] = 2] = \"Idea\";\r\n    FeedbackType[FeedbackType[\"Bug\"] = 3] = \"Bug\";\r\n    FeedbackType[FeedbackType[\"IdeaRedirect\"] = 4] = \"IdeaRedirect\";\r\n})(FeedbackType || (FeedbackType = {}));\r\n/**\r\n * Dynamic scripts\r\n */\r\nvar DynamicScriptUrls = /** @class */ (function () {\r\n    function DynamicScriptUrls() {\r\n    }\r\n    /**\r\n     * Link to the Office WebSurfaces UX package\r\n     */\r\n    /* tslint:disable:max-line-length */\r\n    DynamicScriptUrls.WebSurfacesIntLink = \"https://content.growth.office.net/mirrored/resources/programmablesurfaces/int/officewebsurfaces.core.min.js\";\r\n    DynamicScriptUrls.WebSurfacesProdLink = \"https://content.growth.office.net/mirrored/resources/programmablesurfaces/prod/officewebsurfaces.core.min.js\";\r\n    return DynamicScriptUrls;\r\n}());\r\n\r\n/**\r\n * Constant GUIDs\r\n */\r\nvar GUIDs = /** @class */ (function () {\r\n    function GUIDs() {\r\n    }\r\n    GUIDs.TMSAppID = \"4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed\";\r\n    GUIDs.TULIPSAppID = \"05c88d91-956e-46b4-91b0-77a33cc21a4d\";\r\n    return GUIDs;\r\n}());\r\n\r\n/**\r\n * Prefix for SDK version string\r\n */\r\nvar SDK_VERSION_PREFIX = \"Web SDK v\";\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25zdGFudHMudHM/MTBhZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSDs7R0FFRztBQUNJLElBQU0seUJBQXlCLEdBQUcsZUFBZSxDQUFDO0FBRXpEOztHQUVHO0FBQ0ksSUFBTSxxQkFBcUIsR0FBRywwQkFBMEIsQ0FBQztBQUVoRTs7O0dBR0c7QUFDSCxJQUFZLFlBTVg7QUFORCxXQUFZLFlBQVk7SUFDdkIsaURBQUs7SUFDTCxpREFBSztJQUNMLCtDQUFJO0lBQ0osNkNBQUc7SUFDSCwrREFBWTtBQUNiLENBQUMsRUFOVyxZQUFZLEtBQVosWUFBWSxRQU12QjtBQWlDRDs7R0FFRztBQUNIO0lBQUE7SUFPQSxDQUFDO0lBTkE7O09BRUc7SUFDSCxvQ0FBb0M7SUFDdEIsb0NBQWtCLEdBQVcsNkdBQTZHLENBQUM7SUFDM0kscUNBQW1CLEdBQVcsOEdBQThHLENBQUM7SUFDNUosd0JBQUM7Q0FBQTtBQVA2QjtBQVM5Qjs7R0FFRztBQUNIO0lBQUE7SUFHQSxDQUFDO0lBRmMsY0FBUSxHQUFXLHNDQUFzQyxDQUFDO0lBQzFELGlCQUFXLEdBQVcsc0NBQXNDLENBQUM7SUFDNUUsWUFBQztDQUFBO0FBSGlCO0FBaUJsQjs7R0FFRztBQUNJLElBQU0sa0JBQWtCLEdBQUcsV0FBVyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQ29uc3RhbnRzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3Igbm9uLVVJIGNvbnN0YW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogVmFsdWUgZm9yIHRoZSBDdXN0b21lciBWb2ljZSBMYXVuY2hlciBUeXBlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3VzdG9tZXJWb2ljZUxhdW5jaGVyVHlwZSA9IFwiY3VzdG9tZXJ2b2ljZVwiO1xyXG5cclxuLyoqXHJcbiAqIFZhbHVlIGZvciB0aGUgQ3VzdG9tZXIgVm9pY2UgU3VydmV5IHRleHQgZm9yIGFkZGluZyB0byBBcHAgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGN1c3RvbWVyVm9pY2VTdXJ2ZXlVWCA9IFwiQ3VzdG9tZXIgVm9pY2UgU3VydmV5IFVYXCI7XHJcblxyXG4vKipcclxuICogVmFsdWVzIGZvciB0eXBlcyBvZiBmZWVkYmFjayB0aGF0IGdvIGludG8gdGhlIGpzb25cclxuICogQWxzbyB1c2VkIHRvIGRldGVybWluZSB0aGUgRm9ybVRlbXBsYXRlIHVzZWQgb24gZWFjaCBvbmUgb2YgdGhlIGZlZWRiYWNrIHR5cGVzLlxyXG4gKi9cclxuZXhwb3J0IGVudW0gRmVlZGJhY2tUeXBlIHtcclxuXHRTbWlsZSxcclxuXHRGcm93bixcclxuXHRJZGVhLFxyXG5cdEJ1ZyxcclxuXHRJZGVhUmVkaXJlY3QsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHR5cGVzIG9mIHBhbmVscyB0aGF0IGdvIGludG8gdGhlIGpzb25cclxuICogQWxzbyB1c2VkIHRvIGRldGVybWluZSB0aGUgUGFuZWxUZW1wbGF0ZSB1c2VkIG9uIGVhY2ggb25lIG9mIHRoZSBwYW5lbCB0eXBlcy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBlbnVtIFBhbmVsVHlwZSB7XHJcblx0VGhhbmtzXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHRoZSBlbnZpcm9ubWVudFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gRW52aXJvbm1lbnQge1xyXG5cdFByb2R1Y3Rpb24sXHJcblx0SW50XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIGF1dG9kaXNtaXNzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW51bSBBdXRvRGlzbWlzc1ZhbHVlcyB7XHJcblx0Tm9BdXRvRGlzbWlzcyxcclxuXHRTZXZlblNlY29uZHMsXHJcblx0Rm91cnRlZW5TZWNvbmRzLFxyXG5cdFR3ZW50eU9uZVNlY29uZHMsXHJcblx0VHdlbnR5RWlnaHRTZWNvbmRzLFxyXG5cdFNpeHR5U2Vjb25kcyxcclxuXHROaW5ldHlTZWNvbmRzLFxyXG5cdE9uZUh1bmRyZWRBbmRUd2VudHlTZWNvbmRzLFxyXG5cdE9uZUh1bmRyZWRBbmRGaWZ0eVNlY29uZHMsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEeW5hbWljIHNjcmlwdHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEeW5hbWljU2NyaXB0VXJscyB7XHJcblx0LyoqXHJcblx0ICogTGluayB0byB0aGUgT2ZmaWNlIFdlYlN1cmZhY2VzIFVYIHBhY2thZ2VcclxuXHQgKi9cclxuXHQvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuXHRwdWJsaWMgc3RhdGljIFdlYlN1cmZhY2VzSW50TGluazogc3RyaW5nID0gXCJodHRwczovL2NvbnRlbnQuZ3Jvd3RoLm9mZmljZS5uZXQvbWlycm9yZWQvcmVzb3VyY2VzL3Byb2dyYW1tYWJsZXN1cmZhY2VzL2ludC9vZmZpY2V3ZWJzdXJmYWNlcy5jb3JlLm1pbi5qc1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgV2ViU3VyZmFjZXNQcm9kTGluazogc3RyaW5nID0gXCJodHRwczovL2NvbnRlbnQuZ3Jvd3RoLm9mZmljZS5uZXQvbWlycm9yZWQvcmVzb3VyY2VzL3Byb2dyYW1tYWJsZXN1cmZhY2VzL3Byb2Qvb2ZmaWNld2Vic3VyZmFjZXMuY29yZS5taW4uanNcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0YW50IEdVSURzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR1VJRHMge1xyXG5cdHB1YmxpYyBzdGF0aWMgVE1TQXBwSUQ6IHN0cmluZyA9IFwiNGM0ZjU1MGItNDJiMi00YTE2LTkzZjktZmRiOWUwMWJiNmVkXCI7XHJcblx0cHVibGljIHN0YXRpYyBUVUxJUFNBcHBJRDogc3RyaW5nID0gXCIwNWM4OGQ5MS05NTZlLTQ2YjQtOTFiMC03N2EzM2NjMjFhNGRcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gT0NQU1ZhbHVlcyB7XHJcblx0Tm90Q29uZmlndXJlZCA9IDAsXHJcblx0RW5hYmxlZCA9IDEsXHJcblx0RGlzYWJsZWQgPSAyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEZlZWRiYWNrU3RhdHVzIHtcclxuXHRFbmFibGVkLFxyXG5cdERpc2FibGVkQnlBZG1pbixcclxuXHREaXNhYmxlZEJ5QWdlR3JvdXBcclxufVxyXG5cclxuLyoqXHJcbiAqIFByZWZpeCBmb3IgU0RLIHZlcnNpb24gc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgU0RLX1ZFUlNJT05fUFJFRklYID0gXCJXZWIgU0RLIHZcIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Constants.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts":
/*!***************************************************************!*\
  !*** ./scripts/app/FloodgateCore/FloodgateStorageProvider.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * Implementation of IFloodgateStorageProvider for Web SDK\r\n */\r\nvar _a;\r\n\r\n\r\n\r\nvar FileType = _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__[\"IFloodgateStorageProvider\"].FileType;\r\nvar fileTypeToKeyMap = (_a = {},\r\n    _a[FileType.CampaignDefinitions] = \"obf-CampaignDefinitions\",\r\n    _a[FileType.CampaignStates] = \"obf-CampaignStates\",\r\n    _a[FileType.FloodgateSettings] = \"obf-FloodgateSettings\",\r\n    _a[FileType.GovernedChannelStates] = \"obf-GovernedChannelStates\",\r\n    _a[FileType.SurveyActivationStats] = \"obf-SurveyActivationStats\",\r\n    _a[FileType.SurveyEventActivityStats] = \"obf-SurveyEventActivityStats\",\r\n    _a[FileType.TmsCache_CampaignContent] = \"obf-TmsCampaignContent\",\r\n    _a[FileType.TmsCache_MessageMetadata] = \"obf-TmsMessageMetadata\",\r\n    _a[FileType.TmsCache_UserGovernance] = \"obf-TmsUserGovernance\",\r\n    _a[FileType.Tms_DynamicSettings] = \"obf-TmsDynamicSettings\",\r\n    _a[FileType.LogLevelSettings] = \"obf-LogLevelSettings\",\r\n    _a[FileType.UserFacts] = \"obf-UserFacts\",\r\n    _a[FileType.DebugOverrides] = \"obf-DebugOverrides\",\r\n    _a);\r\nvar FloodgateStorageProvider = /** @class */ (function () {\r\n    function FloodgateStorageProvider() {\r\n    }\r\n    /**\r\n     * Code to detect localStorage presence.\r\n     * Copied from MDN: https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\r\n     */\r\n    FloodgateStorageProvider.isStorageAvailable = function () {\r\n        try {\r\n            var x = \"__storage_test__\";\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.setItem(x, x);\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.removeItem(x);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return e instanceof DOMException && (\r\n            // everything except Firefox\r\n            e.code === 22 ||\r\n                // Firefox\r\n                e.code === 1014 ||\r\n                // test name field too, because code might not be present\r\n                // everything except Firefox\r\n                e.name === \"QuotaExceededError\" ||\r\n                // Firefox\r\n                e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\r\n                // acknowledge QuotaExceededError only if there's something already stored\r\n                _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.length !== 0;\r\n        }\r\n    };\r\n    /**\r\n     * Safely read an object\r\n     */\r\n    FloodgateStorageProvider.safeReadObject = function (fileType, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = undefined; }\r\n        if (!(fileType in FileType)) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            var storageKey = fileTypeToKeyMap[fileType];\r\n            var result = _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.getItem(storageKey);\r\n            var parsedObject = result && (result[0] === \"{\" || result[0] === \"[\") ? JSON.parse(result) : result;\r\n            return parsedObject !== null && parsedObject !== void 0 ? parsedObject : defaultValue;\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        return defaultValue;\r\n    };\r\n    /**\r\n     * Lock the file to prevent access from another process.\r\n     */\r\n    FloodgateStorageProvider.prototype.fileLock = function (fileType) {\r\n        // JS runs on a single thread in the browser.\r\n        return;\r\n    };\r\n    /**\r\n     * Unlock the file.\r\n     */\r\n    FloodgateStorageProvider.prototype.fileUnlock = function (fileType) {\r\n        // JS runs on a single thread in the browser.\r\n        return;\r\n    };\r\n    /**\r\n     * Read the file\r\n     */\r\n    FloodgateStorageProvider.prototype.read = function (fileType) {\r\n        if (!(fileType in FileType)) {\r\n            return \"\";\r\n        }\r\n        var storageKey = fileTypeToKeyMap[fileType];\r\n        var result;\r\n        try {\r\n            result = _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.getItem(storageKey);\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].SURVEY_FLOODGATE_FILEREAD_FAILED, 2 /* Error */, {\r\n                ErrorMessage: e.toString(),\r\n                FileName: storageKey,\r\n            });\r\n            return \"\";\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Write to the file\r\n     */\r\n    FloodgateStorageProvider.prototype.write = function (fileType, content) {\r\n        if (!(fileType in FileType)) {\r\n            return;\r\n        }\r\n        var storageKey = fileTypeToKeyMap[fileType];\r\n        try {\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.setItem(storageKey, content);\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].SURVEY_FLOODGATE_FILEWRITE_FAILED, 2 /* Error */, {\r\n                ErrorMessage: e.toString(),\r\n                FileName: storageKey,\r\n            });\r\n            return;\r\n        }\r\n    };\r\n    return FloodgateStorageProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloodgateStorageProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci50cz84YTc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRzs7QUFFc0Y7QUFDNUM7QUFDRztBQUNoRCxJQUFPLFFBQVEsR0FBRyxzR0FBeUIsQ0FBQyxRQUFRLENBQUM7QUFFckQsSUFBTSxnQkFBZ0I7SUFDckIsR0FBQyxRQUFRLENBQUMsbUJBQW1CLElBQUcseUJBQXlCO0lBQ3pELEdBQUMsUUFBUSxDQUFDLGNBQWMsSUFBRyxvQkFBb0I7SUFDL0MsR0FBQyxRQUFRLENBQUMsaUJBQWlCLElBQUcsdUJBQXVCO0lBQ3JELEdBQUMsUUFBUSxDQUFDLHFCQUFxQixJQUFHLDJCQUEyQjtJQUM3RCxHQUFDLFFBQVEsQ0FBQyxxQkFBcUIsSUFBRywyQkFBMkI7SUFDN0QsR0FBQyxRQUFRLENBQUMsd0JBQXdCLElBQUcsOEJBQThCO0lBQ25FLEdBQUMsUUFBUSxDQUFDLHdCQUF3QixJQUFHLHdCQUF3QjtJQUM3RCxHQUFDLFFBQVEsQ0FBQyx3QkFBd0IsSUFBRyx3QkFBd0I7SUFDN0QsR0FBQyxRQUFRLENBQUMsdUJBQXVCLElBQUcsdUJBQXVCO0lBQzNELEdBQUMsUUFBUSxDQUFDLG1CQUFtQixJQUFHLHdCQUF3QjtJQUN4RCxHQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsSUFBRyxzQkFBc0I7SUFDbkQsR0FBQyxRQUFRLENBQUMsU0FBUyxJQUFHLGVBQWU7SUFDckMsR0FBQyxRQUFRLENBQUMsY0FBYyxJQUFHLG9CQUFvQjtPQUMvQyxDQUFDO0FBRUY7SUFBQTtJQTZHQSxDQUFDO0lBNUdBOzs7T0FHRztJQUNXLDJDQUFrQixHQUFoQztRQUNDLElBQUk7WUFDSCxJQUFJLENBQUMsR0FBRyxrQkFBa0IsQ0FBQztZQUMzQix3REFBZ0IsRUFBRSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FB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QUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDN0Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLGlDQUFpQyxpQkFFOUU7Z0JBQ0MsWUFBWSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7Z0JBQzFCLFFBQVEsRUFBRSxVQUFVO2FBQ3BCLENBQUMsQ0FBQztZQUNKLE9BQU87U0FDUDtJQUNGLENBQUM7SUFDRiwrQkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZvciBXZWIgU0RLXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vLi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLy4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5cclxuY29uc3QgZmlsZVR5cGVUb0tleU1hcDogeyBbayBpbiBGaWxlVHlwZV06IHN0cmluZyB9ID0ge1xyXG5cdFtGaWxlVHlwZS5DYW1wYWlnbkRlZmluaXRpb25zXTogXCJvYmYtQ2FtcGFpZ25EZWZpbml0aW9uc1wiLFxyXG5cdFtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc106IFwib2JmLUNhbXBhaWduU3RhdGVzXCIsXHJcblx0W0ZpbGVUeXBlLkZsb29kZ2F0ZVNldHRpbmdzXTogXCJvYmYtRmxvb2RnYXRlU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuR292ZXJuZWRDaGFubmVsU3RhdGVzXTogXCJvYmYtR292ZXJuZWRDaGFubmVsU3RhdGVzXCIsXHJcblx0W0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c106IFwib2JmLVN1cnZleUFjdGl2YXRpb25TdGF0c1wiLFxyXG5cdFtGaWxlVHlwZS5TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHNdOiBcIm9iZi1TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHNcIixcclxuXHRbRmlsZVR5cGUuVG1zQ2FjaGVfQ2FtcGFpZ25Db250ZW50XTogXCJvYmYtVG1zQ2FtcGFpZ25Db250ZW50XCIsXHJcblx0W0ZpbGVUeXBlLlRtc0NhY2hlX01lc3NhZ2VNZXRhZGF0YV06IFwib2JmLVRtc01lc3NhZ2VNZXRhZGF0YVwiLFxyXG5cdFtGaWxlVHlwZS5UbXNDYWNoZV9Vc2VyR292ZXJuYW5jZV06IFwib2JmLVRtc1VzZXJHb3Zlcm5hbmNlXCIsXHJcblx0W0ZpbGVUeXBlLlRtc19EeW5hbWljU2V0dGluZ3NdOiBcIm9iZi1UbXNEeW5hbWljU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5nc106IFwib2JmLUxvZ0xldmVsU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuVXNlckZhY3RzXTogXCJvYmYtVXNlckZhY3RzXCIsXHJcblx0W0ZpbGVUeXBlLkRlYnVnT3ZlcnJpZGVzXTogXCJvYmYtRGVidWdPdmVycmlkZXNcIixcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBpbXBsZW1lbnRzIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIge1xyXG5cdC8qKlxyXG5cdCAqIENvZGUgdG8gZGV0ZWN0IGxvY2FsU3RvcmFnZSBwcmVzZW5jZS5cclxuXHQgKiBDb3BpZWQgZnJvbSBNRE46IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJfU3RvcmFnZV9BUEkvVXNpbmdfdGhlX1dlYl9TdG9yYWdlX0FQSVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgaXNTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHggPSBcIl9fc3RvcmFnZV90ZXN0X19cIjtcclxuXHRcdFx0V2luZG93LmdldEdsb2JhbCgpLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG5cdFx0XHRXaW5kb3cuZ2V0R2xvYmFsKCkubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiAoXHJcblx0XHRcdFx0Ly8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG5cdFx0XHRcdGUuY29kZSA9PT0gMjIgfHxcclxuXHRcdFx0XHQvLyBGaXJlZm94XHJcblx0XHRcdFx0ZS5jb2RlID09PSAxMDE0IHx8XHJcblx0XHRcdFx0Ly8gdGVzdCBuYW1lIGZpZWxkIHRvbywgYmVjYXVzZSBjb2RlIG1pZ2h0IG5vdCBiZSBwcmVzZW50XHJcblx0XHRcdFx0Ly8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG5cdFx0XHRcdGUubmFtZSA9PT0gXCJRdW90YUV4Y2VlZGVkRXJyb3JcIiB8fFxyXG5cdFx0XHRcdC8vIEZpcmVmb3hcclxuXHRcdFx0XHRlLm5hbWUgPT09IFwiTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRURcIikgJiZcclxuXHRcdFx0XHQvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxyXG5cdFx0XHRcdFdpbmRvdy5nZXRHbG9iYWwoKS5sb2NhbFN0b3JhZ2UubGVuZ3RoICE9PSAwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2FmZWx5IHJlYWQgYW4gb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBzYWZlUmVhZE9iamVjdDxUPihmaWxlVHlwZTogRmlsZVR5cGUsIGRlZmF1bHRWYWx1ZTogVCA9IHVuZGVmaW5lZCk6IFQge1xyXG5cdFx0aWYgKCEoZmlsZVR5cGUgaW4gRmlsZVR5cGUpKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHN0b3JhZ2VLZXkgPSBmaWxlVHlwZVRvS2V5TWFwW2ZpbGVUeXBlXTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2luZG93LmdldEdsb2JhbCgpLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG5cdFx0XHRjb25zdCBwYXJzZWRPYmplY3QgPSByZXN1bHQgJiYgKHJlc3VsdFswXSA9PT0gXCJ7XCIgfHwgcmVzdWx0WzBdID09PSBcIltcIikgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiByZXN1bHQ7XHJcblx0XHRcdHJldHVybiBwYXJzZWRPYmplY3QgPz8gZGVmYXVsdFZhbHVlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQvLyBpZ25vcmVcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9jayB0aGUgZmlsZSB0byBwcmV2ZW50IGFjY2VzcyBmcm9tIGFub3RoZXIgcHJvY2Vzcy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZmlsZUxvY2soZmlsZVR5cGU6IEZpbGVUeXBlKTogdm9pZCB7XHJcblx0XHQvLyBKUyBydW5zIG9uIGEgc2luZ2xlIHRocmVhZCBpbiB0aGUgYnJvd3Nlci5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVubG9jayB0aGUgZmlsZS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZmlsZVVubG9jayhmaWxlVHlwZTogRmlsZVR5cGUpOiB2b2lkIHtcclxuXHRcdC8vIEpTIHJ1bnMgb24gYSBzaW5nbGUgdGhyZWFkIGluIHRoZSBicm93c2VyLlxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVhZCB0aGUgZmlsZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyByZWFkKGZpbGVUeXBlOiBGaWxlVHlwZSk6IHN0cmluZyB7XHJcblx0XHRpZiAoIShmaWxlVHlwZSBpbiBGaWxlVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHN0b3JhZ2VLZXkgPSBmaWxlVHlwZVRvS2V5TWFwW2ZpbGVUeXBlXTtcclxuXHRcdGxldCByZXN1bHQ6IHN0cmluZztcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlc3VsdCA9IFdpbmRvdy5nZXRHbG9iYWwoKS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlNVUlZFWV9GTE9PREdBVEVfRklMRVJFQURfRkFJTEVELFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0XHRGaWxlTmFtZTogc3RvcmFnZUtleSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlIHRvIHRoZSBmaWxlXHJcblx0ICovXHJcblx0cHVibGljIHdyaXRlKGZpbGVUeXBlOiBGaWxlVHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAoIShmaWxlVHlwZSBpbiBGaWxlVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBzdG9yYWdlS2V5ID0gZmlsZVR5cGVUb0tleU1hcFtmaWxlVHlwZV07XHJcblx0XHR0cnkge1xyXG5cdFx0XHRXaW5kb3cuZ2V0R2xvYmFsKCkubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgY29udGVudCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfRkxPT0RHQVRFX0ZJTEVXUklURV9GQUlMRUQsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcclxuXHRcdFx0XHRcdEZpbGVOYW1lOiBzdG9yYWdlS2V5LFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\n");

/***/ }),

/***/ "./scripts/app/Localization.ts":
/*!*************************************!*\
  !*** ./scripts/app/Localization.ts ***!
  \*************************************/
/*! exports provided: validate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validate\", function() { return validate; });\n/**\r\n * Localization.ts\r\n *\r\n * Module for Localization\r\n */\r\n/**\r\n * List of supported Locales\r\n * REMINDER: update readme to match the list below if change is made\r\n */\r\nvar supportedLocales = [\r\n    \"af\",\r\n    \"am\",\r\n    \"ar\",\r\n    \"as\",\r\n    \"az\",\r\n    \"be\",\r\n    \"bg\",\r\n    \"bn-BD\",\r\n    \"bn-IN\",\r\n    \"bs\",\r\n    \"ca\",\r\n    \"ca-Es-VALENCIA\",\r\n    \"chr-Cher\",\r\n    \"cs\",\r\n    \"cy\",\r\n    \"da\",\r\n    \"de\",\r\n    \"el\",\r\n    \"en-GB\",\r\n    \"es\",\r\n    \"es-MX\",\r\n    \"et\",\r\n    \"eu\",\r\n    \"fa\",\r\n    \"fi\",\r\n    \"fil\",\r\n    \"fr\",\r\n    \"fr-CA\",\r\n    \"ga\",\r\n    \"gd\",\r\n    \"gl\",\r\n    \"gu\",\r\n    \"ha-Latn-NG\",\r\n    \"he\",\r\n    \"hi\",\r\n    \"hr\",\r\n    \"hu\",\r\n    \"hy\",\r\n    \"id\",\r\n    \"is\",\r\n    \"it\",\r\n    \"ja\",\r\n    \"ka\",\r\n    \"kk\",\r\n    \"km-KH\",\r\n    \"kn\",\r\n    \"ko\",\r\n    \"kok\",\r\n    \"ky\",\r\n    \"lb\",\r\n    \"lo\",\r\n    \"lt\",\r\n    \"lv\",\r\n    \"mi\",\r\n    \"mk\",\r\n    \"ml\",\r\n    \"mn\",\r\n    \"mr\",\r\n    \"ms\",\r\n    \"mt\",\r\n    \"nb-NO\",\r\n    \"ne\",\r\n    \"nl\",\r\n    \"nn-NO\",\r\n    \"or\",\r\n    \"pa\",\r\n    \"pl\",\r\n    \"prs\",\r\n    \"pt-BR\",\r\n    \"pt-PT\",\r\n    \"quz\",\r\n    \"ro\",\r\n    \"ru\",\r\n    \"sd\",\r\n    \"si\",\r\n    \"sk\",\r\n    \"sl\",\r\n    \"sq\",\r\n    \"sr-Cyrl-BA\",\r\n    \"sr-Cyrl-RS\",\r\n    \"sr-Latn-RS\",\r\n    \"sv\",\r\n    \"sw\",\r\n    \"ta\",\r\n    \"te\",\r\n    \"th\",\r\n    \"tk\",\r\n    \"tr\",\r\n    \"tt\",\r\n    \"ug\",\r\n    \"uk\",\r\n    \"ur\",\r\n    \"uz-Latn-UZ\",\r\n    \"vi\",\r\n    \"zh-Hans\",\r\n    \"zh-Hant\",\r\n];\r\nvar localeVariantToSupportedlocaleMap = {\r\n    \"ZH-CN\": \"zh-Hans\",\r\n    \"ZH-HK\": \"zh-Hant\",\r\n    \"ZH-MO\": \"zh-Hant\",\r\n    \"ZH-SG\": \"zh-Hans\",\r\n    \"ZH-TW\": \"zh-Hant\",\r\n};\r\nfunction validate(locale) {\r\n    var localeUpperCase = locale.toLocaleUpperCase();\r\n    // support for Chinese ll-cc, VSO Bug 1583389\r\n    if (localeUpperCase in localeVariantToSupportedlocaleMap) {\r\n        return localeVariantToSupportedlocaleMap[localeUpperCase];\r\n    }\r\n    // return supported locale if exact match found\r\n    for (var _i = 0, supportedLocales_1 = supportedLocales; _i < supportedLocales_1.length; _i++) {\r\n        var supportedLocale = supportedLocales_1[_i];\r\n        if (supportedLocale.toUpperCase() === localeUpperCase) {\r\n            return supportedLocale;\r\n        }\r\n    }\r\n    var localePartOne = localeUpperCase.split(\"-\")[0];\r\n    // return supported \"ll\" if exact match not found, but \"ll\" matches\r\n    for (var _a = 0, supportedLocales_2 = supportedLocales; _a < supportedLocales_2.length; _a++) {\r\n        var supportedLocale = supportedLocales_2[_a];\r\n        if (supportedLocale.toUpperCase() === localePartOne) {\r\n            return supportedLocale;\r\n        }\r\n    }\r\n    // default everything else to en\r\n    return \"en\";\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2NhbGl6YXRpb24udHM/MmNmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVIOzs7R0FHRztBQUNILElBQUksZ0JBQWdCLEdBQWE7SUFDaEMsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLE9BQU87SUFDUCxPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixZQUFZO0lBQ1osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixLQUFLO0lBQ0wsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxPQUFPO0lBQ1AsT0FBTztJQUNQLEtBQUs7SUFDTCxJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osWUFBWTtJQUNaLFlBQVk7SUFDWixZQUFZO0lBQ1osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixZQUFZO0lBQ1osSUFBSTtJQUNKLFNBQVM7SUFDVCxTQUFTO0NBQ1QsQ0FBQztBQUVGLElBQU0saUNBQWlDLEdBQThCO0lBQ3BFLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0NBQ2xCLENBQUM7QUFFSyxTQUFTLFFBQVEsQ0FBQyxNQUFjO0lBQ3RDLElBQUksZUFBZSxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBRWpELDZDQUE2QztJQUM3QyxJQUFJLGVBQWUsSUFBSSxpQ0FBaUMsRUFBRTtRQUN6RCxPQUFPLGlDQUFpQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0tBQzFEO0lBRUQsK0NBQStDO0lBQy9DLEtBQTRCLFVBQWdCLEVBQWhCLHFDQUFnQixFQUFoQiw4QkFBZ0IsRUFBaEIsSUFBZ0IsRUFBRTtRQUF6QyxJQUFJLGVBQWU7UUFDdkIsSUFBSSxlQUFlLENBQUMsV0FBVyxFQUFFLEtBQUssZUFBZSxFQUFFO1lBQ3RELE9BQU8sZUFBZSxDQUFDO1NBQ3ZCO0tBQ0Q7SUFFRCxJQUFJLGFBQWEsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELG1FQUFtRTtJQUNuRSxLQUE0QixVQUFnQixFQUFoQixxQ0FBZ0IsRUFBaEIsOEJBQWdCLEVBQWhCLElBQWdCLEVBQUU7UUFBekMsSUFBSSxlQUFlO1FBQ3ZCLElBQUksZUFBZSxDQUFDLFdBQVcsRUFBRSxLQUFLLGFBQWEsRUFBRTtZQUNwRCxPQUFPLGVBQWUsQ0FBQztTQUN2QjtLQUNEO0lBRUQsZ0NBQWdDO0lBQ2hDLE9BQU8sSUFBSSxDQUFDO0FBQ2IsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvY2FsaXphdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMb2NhbGl6YXRpb24udHNcclxuICpcclxuICogTW9kdWxlIGZvciBMb2NhbGl6YXRpb25cclxuICovXHJcblxyXG4vKipcclxuICogTGlzdCBvZiBzdXBwb3J0ZWQgTG9jYWxlc1xyXG4gKiBSRU1JTkRFUjogdXBkYXRlIHJlYWRtZSB0byBtYXRjaCB0aGUgbGlzdCBiZWxvdyBpZiBjaGFuZ2UgaXMgbWFkZVxyXG4gKi9cclxubGV0IHN1cHBvcnRlZExvY2FsZXM6IHN0cmluZ1tdID0gW1xyXG5cdFwiYWZcIixcclxuXHRcImFtXCIsXHJcblx0XCJhclwiLFxyXG5cdFwiYXNcIixcclxuXHRcImF6XCIsXHJcblx0XCJiZVwiLFxyXG5cdFwiYmdcIixcclxuXHRcImJuLUJEXCIsXHJcblx0XCJibi1JTlwiLFxyXG5cdFwiYnNcIixcclxuXHRcImNhXCIsXHJcblx0XCJjYS1Fcy1WQUxFTkNJQVwiLFxyXG5cdFwiY2hyLUNoZXJcIixcclxuXHRcImNzXCIsXHJcblx0XCJjeVwiLFxyXG5cdFwiZGFcIixcclxuXHRcImRlXCIsXHJcblx0XCJlbFwiLFxyXG5cdFwiZW4tR0JcIixcclxuXHRcImVzXCIsXHJcblx0XCJlcy1NWFwiLFxyXG5cdFwiZXRcIixcclxuXHRcImV1XCIsXHJcblx0XCJmYVwiLFxyXG5cdFwiZmlcIixcclxuXHRcImZpbFwiLFxyXG5cdFwiZnJcIixcclxuXHRcImZyLUNBXCIsXHJcblx0XCJnYVwiLFxyXG5cdFwiZ2RcIixcclxuXHRcImdsXCIsXHJcblx0XCJndVwiLFxyXG5cdFwiaGEtTGF0bi1OR1wiLFxyXG5cdFwiaGVcIixcclxuXHRcImhpXCIsXHJcblx0XCJoclwiLFxyXG5cdFwiaHVcIixcclxuXHRcImh5XCIsXHJcblx0XCJpZFwiLFxyXG5cdFwiaXNcIixcclxuXHRcIml0XCIsXHJcblx0XCJqYVwiLFxyXG5cdFwia2FcIixcclxuXHRcImtrXCIsXHJcblx0XCJrbS1LSFwiLFxyXG5cdFwia25cIixcclxuXHRcImtvXCIsXHJcblx0XCJrb2tcIixcclxuXHRcImt5XCIsXHJcblx0XCJsYlwiLFxyXG5cdFwibG9cIixcclxuXHRcImx0XCIsXHJcblx0XCJsdlwiLFxyXG5cdFwibWlcIixcclxuXHRcIm1rXCIsXHJcblx0XCJtbFwiLFxyXG5cdFwibW5cIixcclxuXHRcIm1yXCIsXHJcblx0XCJtc1wiLFxyXG5cdFwibXRcIixcclxuXHRcIm5iLU5PXCIsXHJcblx0XCJuZVwiLFxyXG5cdFwibmxcIixcclxuXHRcIm5uLU5PXCIsXHJcblx0XCJvclwiLFxyXG5cdFwicGFcIixcclxuXHRcInBsXCIsXHJcblx0XCJwcnNcIixcclxuXHRcInB0LUJSXCIsXHJcblx0XCJwdC1QVFwiLFxyXG5cdFwicXV6XCIsXHJcblx0XCJyb1wiLFxyXG5cdFwicnVcIixcclxuXHRcInNkXCIsXHJcblx0XCJzaVwiLFxyXG5cdFwic2tcIixcclxuXHRcInNsXCIsXHJcblx0XCJzcVwiLFxyXG5cdFwic3ItQ3lybC1CQVwiLFxyXG5cdFwic3ItQ3lybC1SU1wiLFxyXG5cdFwic3ItTGF0bi1SU1wiLFxyXG5cdFwic3ZcIixcclxuXHRcInN3XCIsXHJcblx0XCJ0YVwiLFxyXG5cdFwidGVcIixcclxuXHRcInRoXCIsXHJcblx0XCJ0a1wiLFxyXG5cdFwidHJcIixcclxuXHRcInR0XCIsXHJcblx0XCJ1Z1wiLFxyXG5cdFwidWtcIixcclxuXHRcInVyXCIsXHJcblx0XCJ1ei1MYXRuLVVaXCIsXHJcblx0XCJ2aVwiLFxyXG5cdFwiemgtSGFuc1wiLFxyXG5cdFwiemgtSGFudFwiLFxyXG5dO1xyXG5cclxuY29uc3QgbG9jYWxlVmFyaWFudFRvU3VwcG9ydGVkbG9jYWxlTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG5cdFwiWkgtQ05cIjogXCJ6aC1IYW5zXCIsXHJcblx0XCJaSC1IS1wiOiBcInpoLUhhbnRcIixcclxuXHRcIlpILU1PXCI6IFwiemgtSGFudFwiLFxyXG5cdFwiWkgtU0dcIjogXCJ6aC1IYW5zXCIsXHJcblx0XCJaSC1UV1wiOiBcInpoLUhhbnRcIixcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShsb2NhbGU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0bGV0IGxvY2FsZVVwcGVyQ2FzZSA9IGxvY2FsZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG5cclxuXHQvLyBzdXBwb3J0IGZvciBDaGluZXNlIGxsLWNjLCBWU08gQnVnIDE1ODMzODlcclxuXHRpZiAobG9jYWxlVXBwZXJDYXNlIGluIGxvY2FsZVZhcmlhbnRUb1N1cHBvcnRlZGxvY2FsZU1hcCkge1xyXG5cdFx0cmV0dXJuIGxvY2FsZVZhcmlhbnRUb1N1cHBvcnRlZGxvY2FsZU1hcFtsb2NhbGVVcHBlckNhc2VdO1xyXG5cdH1cclxuXHJcblx0Ly8gcmV0dXJuIHN1cHBvcnRlZCBsb2NhbGUgaWYgZXhhY3QgbWF0Y2ggZm91bmRcclxuXHRmb3IgKGxldCBzdXBwb3J0ZWRMb2NhbGUgb2Ygc3VwcG9ydGVkTG9jYWxlcykge1xyXG5cdFx0aWYgKHN1cHBvcnRlZExvY2FsZS50b1VwcGVyQ2FzZSgpID09PSBsb2NhbGVVcHBlckNhc2UpIHtcclxuXHRcdFx0cmV0dXJuIHN1cHBvcnRlZExvY2FsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGxldCBsb2NhbGVQYXJ0T25lID0gbG9jYWxlVXBwZXJDYXNlLnNwbGl0KFwiLVwiKVswXTtcclxuXHQvLyByZXR1cm4gc3VwcG9ydGVkIFwibGxcIiBpZiBleGFjdCBtYXRjaCBub3QgZm91bmQsIGJ1dCBcImxsXCIgbWF0Y2hlc1xyXG5cdGZvciAobGV0IHN1cHBvcnRlZExvY2FsZSBvZiBzdXBwb3J0ZWRMb2NhbGVzKSB7XHJcblx0XHRpZiAoc3VwcG9ydGVkTG9jYWxlLnRvVXBwZXJDYXNlKCkgPT09IGxvY2FsZVBhcnRPbmUpIHtcclxuXHRcdFx0cmV0dXJuIHN1cHBvcnRlZExvY2FsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGRlZmF1bHQgZXZlcnl0aGluZyBlbHNlIHRvIGVuXHJcblx0cmV0dXJuIFwiZW5cIjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Localization.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Constants.ts":
/*!******************************************!*\
  !*** ./scripts/app/Logging/Constants.ts ***!
  \******************************************/
/*! exports provided: EventIds */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventIds\", function() { return EventIds; });\n/**\r\n * Constants.ts\r\n *\r\n * Module to hold logging-related constants\r\n */\r\nvar EventIds = /** @class */ (function () {\r\n    function EventIds() {\r\n    }\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16;\r\n    EventIds.InApp = (_a = /** @class */ (function () {\r\n            function class_1() {\r\n            }\r\n            return class_1;\r\n        }()),\r\n        _a.UI = (_b = /** @class */ (function () {\r\n                function class_2() {\r\n                }\r\n                return class_2;\r\n            }()),\r\n            _b.Picker = (_c = /** @class */ (function () {\r\n                    function class_3() {\r\n                    }\r\n                    return class_3;\r\n                }()),\r\n                _c.Shown = (_d = /** @class */ (function () {\r\n                        function class_4() {\r\n                        }\r\n                        return class_4;\r\n                    }()),\r\n                    _d.VALUE = { name: \"InApp_UI_Picker_Shown\" },\r\n                    _d),\r\n                _c),\r\n            _b.Form = (_e = /** @class */ (function () {\r\n                    function class_5() {\r\n                    }\r\n                    return class_5;\r\n                }()),\r\n                _e.Shown = (_f = /** @class */ (function () {\r\n                        function class_6() {\r\n                        }\r\n                        return class_6;\r\n                    }()),\r\n                    _f.VALUE = { name: \"InApp_UI_Form_Shown\" },\r\n                    _f),\r\n                _e.Submit = (_g = /** @class */ (function () {\r\n                        function class_7() {\r\n                        }\r\n                        return class_7;\r\n                    }()),\r\n                    _g.VALUE = { name: \"InApp_UI_Form_Submit\" },\r\n                    _g),\r\n                _e),\r\n            _b),\r\n        _a);\r\n    // This saves ~400 bytes (minified) vs nested classes\r\n    EventIds.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED = { name: \"Survey_Floodgate_CampaignLoad_Failed\" };\r\n    EventIds.SURVEY_FLOODGATE_FILEREAD_FAILED = { name: \"Survey_Floodgate_FileRead_Failed\" };\r\n    EventIds.SURVEY_FLOODGATE_FILEWRITE_FAILED = { name: \"Survey_Floodgate_FileWrite_Failed\" };\r\n    EventIds.SURVEY_FLOODGATE_TRIGGERMET = { name: \"Survey_Floodgate_TriggerMet\" };\r\n    EventIds.SURVEY_FLOODGATE_USERSELECTED = { name: \"Survey_Floodgate_UserSelected\" };\r\n    EventIds.SURVEY_UI_FORM_SHOWN = { name: \"Survey_UI_Form_Shown\" };\r\n    EventIds.SURVEY_UI_FORM_SUBMIT = { name: \"Survey_UI_Form_Submit\" };\r\n    EventIds.SURVEY_UI_FORM_SECONDARY_SUBMIT = { name: \"Survey_UI_Form_Secondary_Submit\" };\r\n    EventIds.SURVEY_UI_FORM_SUBMIT_ERROR = { name: \"Survey_UI_Form_Submit_Error\" };\r\n    EventIds.SURVEY_UI_FORM_USERCLOSED = { name: \"Survey_UI_Form_UserClosed\" };\r\n    EventIds.SURVEY_UI_FORM_NO_RETURN_TYPE = { name: \"Survey_UI_Form_No_Return_Type\" };\r\n    EventIds.SURVEY_UI_PROMPT_AUTODISMISSED = { name: \"Survey_UI_Prompt_AutoDismissed\" };\r\n    EventIds.SURVEY_UI_PROMPT_SHOWN = { name: \"Survey_UI_Prompt_Shown\" };\r\n    EventIds.SURVEY_UI_PROMPT_USERCLOSED = { name: \"Survey_UI_Prompt_UserClosed\" };\r\n    EventIds.SURVEY_UI_PROMPT_CLICKED = { name: \"Survey_UI_Prompt_Clicked\" };\r\n    EventIds.SURVEY_UI_REDIRECTIONFAILURE = { name: \"Survey_UI_RedirectionFailure\" };\r\n    EventIds.GOVERNANCE_SERVICEFAILURE = { name: \"Gorvenance_ServiceFailure\" };\r\n    EventIds.GOVERNANCE_SERVICERESULT = { name: \"Gorvenance_ServiceResult\" };\r\n    EventIds.DYNAMICTRANSPORT_POST_ERROR = { name: \"DynamicTransport_Post_Error\" };\r\n    EventIds.FEEDBACK_SURVEYSDISABLED_AADC = { name: \"Feedback_SurveysDisabled_AADC\" };\r\n    EventIds.SURVEY_UI_DISABLED_AADC = { name: \"Survey_UI_Prevented_AADC\" };\r\n    EventIds.PERSONALIZER_SERVICEREWARDRESULT = { name: \"Personalizer_ServiceRewardResult\" };\r\n    EventIds.PERSONALIZER_CLIENTFAILURE = { name: \"Personalizer_ClientFailure\" };\r\n    EventIds.Shared = (_h = /** @class */ (function () {\r\n            function class_8() {\r\n            }\r\n            return class_8;\r\n        }()),\r\n        _h.Upload = (_j = /** @class */ (function () {\r\n                function class_9() {\r\n                }\r\n                return class_9;\r\n            }()),\r\n            _j.Failed = (_k = /** @class */ (function () {\r\n                    function class_10() {\r\n                    }\r\n                    return class_10;\r\n                }()),\r\n                _k.VALUE = { name: \"Shared_Upload_Failed\" },\r\n                _k),\r\n            _j.Prevented = (_l = /** @class */ (function () {\r\n                    function class_11() {\r\n                    }\r\n                    return class_11;\r\n                }()),\r\n                _l.VALUE = { name: \"Shared_Upload_Prevented_AADC\" },\r\n                _l),\r\n            _j),\r\n        _h.Screenshot = (_m = /** @class */ (function () {\r\n                function class_12() {\r\n                }\r\n                return class_12;\r\n            }()),\r\n            _m.Render = (_o = /** @class */ (function () {\r\n                    function class_13() {\r\n                    }\r\n                    return class_13;\r\n                }()),\r\n                _o.Failed = (_p = /** @class */ (function () {\r\n                        function class_14() {\r\n                        }\r\n                        return class_14;\r\n                    }()),\r\n                    _p.VALUE = { name: \"Shared_Screenshot_Render_Failed\" },\r\n                    _p),\r\n                _o.Success = (_q = /** @class */ (function () {\r\n                        function class_15() {\r\n                        }\r\n                        return class_15;\r\n                    }()),\r\n                    _q.VALUE = { name: \"Shared_Screenshot_Render_Success\" },\r\n                    _q),\r\n                _o),\r\n            _m.GetContent = (_r = /** @class */ (function () {\r\n                    function class_16() {\r\n                    }\r\n                    return class_16;\r\n                }()),\r\n                _r.Failed = (_s = /** @class */ (function () {\r\n                        function class_17() {\r\n                        }\r\n                        return class_17;\r\n                    }()),\r\n                    _s.DefaultImage = (_t = /** @class */ (function () {\r\n                            function class_18() {\r\n                            }\r\n                            return class_18;\r\n                        }()),\r\n                        _t.Returned = (_u = /** @class */ (function () {\r\n                                function class_19() {\r\n                                }\r\n                                return class_19;\r\n                            }()),\r\n                            _u.VALUE = { name: \"Shared_Screenshot_GetContent_Failed_DefaultImage_Returned\" },\r\n                            _u),\r\n                        _t),\r\n                    _s),\r\n                _r),\r\n            _m),\r\n        _h);\r\n    EventIds.WebSurfaces = (_v = /** @class */ (function () {\r\n            function class_20() {\r\n            }\r\n            return class_20;\r\n        }()),\r\n        _v.Common = (_w = /** @class */ (function () {\r\n                function class_21() {\r\n                }\r\n                return class_21;\r\n            }()),\r\n            _w.Error = (_x = /** @class */ (function () {\r\n                    function class_22() {\r\n                    }\r\n                    return class_22;\r\n                }()),\r\n                _x.VALUE = { name: \"WebSurfaces_Common_Error\" },\r\n                _x),\r\n            _w.Info = (_y = /** @class */ (function () {\r\n                    function class_23() {\r\n                    }\r\n                    return class_23;\r\n                }()),\r\n                _y.VALUE = { name: \"WebSurfaces_Common_Info\" },\r\n                _y),\r\n            _w),\r\n        _v.Messaging = (_z = /** @class */ (function () {\r\n                function class_24() {\r\n                }\r\n                return class_24;\r\n            }()),\r\n            _z.Requests = (_0 = /** @class */ (function () {\r\n                    function class_25() {\r\n                    }\r\n                    return class_25;\r\n                }()),\r\n                _0.VALUE = { name: \"WebSurfaces_Messaging_Requests\" },\r\n                _0),\r\n            _z),\r\n        _v);\r\n    EventIds.UserFacts = (_1 = /** @class */ (function () {\r\n            function class_26() {\r\n            }\r\n            return class_26;\r\n        }()),\r\n        _1.Common = (_2 = /** @class */ (function () {\r\n                function class_27() {\r\n                }\r\n                return class_27;\r\n            }()),\r\n            _2.Error = (_3 = /** @class */ (function () {\r\n                    function class_28() {\r\n                    }\r\n                    return class_28;\r\n                }()),\r\n                _3.VALUE = { name: \"UserFacts_Common_Error\" },\r\n                _3),\r\n            _2.Info = (_4 = /** @class */ (function () {\r\n                    function class_29() {\r\n                    }\r\n                    return class_29;\r\n                }()),\r\n                _4.VALUE = { name: \"UserFacts_Common_Info\" },\r\n                _4),\r\n            _2),\r\n        _1.LocalFact = (_5 = /** @class */ (function () {\r\n                function class_30() {\r\n                }\r\n                return class_30;\r\n            }()),\r\n            _5.Error = (_6 = /** @class */ (function () {\r\n                    function class_31() {\r\n                    }\r\n                    return class_31;\r\n                }()),\r\n                _6.VALUE = { name: \"UserFacts_LocalFact_Error\" },\r\n                _6),\r\n            _5),\r\n        _1.Messaging = (_7 = /** @class */ (function () {\r\n                function class_32() {\r\n                }\r\n                return class_32;\r\n            }()),\r\n            _7.Requests = (_8 = /** @class */ (function () {\r\n                    function class_33() {\r\n                    }\r\n                    return class_33;\r\n                }()),\r\n                _8.VALUE = { name: \"UserFacts_Messaging_Requests\" },\r\n                _8),\r\n            _7),\r\n        _1.AugLoop = (_9 = /** @class */ (function () {\r\n                function class_34() {\r\n                }\r\n                return class_34;\r\n            }()),\r\n            _9.Requests = (_10 = /** @class */ (function () {\r\n                    function class_35() {\r\n                    }\r\n                    return class_35;\r\n                }()),\r\n                _10.VALUE = { name: \"UserFacts_AugLoop_Requests\" },\r\n                _10),\r\n            _9.Error = (_11 = /** @class */ (function () {\r\n                    function class_36() {\r\n                    }\r\n                    return class_36;\r\n                }()),\r\n                _11.VALUE = { name: \"UserFacts_AugLoop_Error\" },\r\n                _11),\r\n            _9),\r\n        _1.Provider = (_12 = /** @class */ (function () {\r\n                function class_37() {\r\n                }\r\n                return class_37;\r\n            }()),\r\n            _12.Info = (_13 = /** @class */ (function () {\r\n                    function class_38() {\r\n                    }\r\n                    return class_38;\r\n                }()),\r\n                _13.VALUE = { name: \"UserFacts_Provider_Summary\" },\r\n                _13),\r\n            _12),\r\n        _1);\r\n    EventIds.Common = (_14 = /** @class */ (function () {\r\n            function class_39() {\r\n            }\r\n            return class_39;\r\n        }()),\r\n        _14.Error = (_15 = /** @class */ (function () {\r\n                function class_40() {\r\n                }\r\n                return class_40;\r\n            }()),\r\n            _15.VALUE = { name: \"Common_Error\" },\r\n            _15),\r\n        _14.Info = (_16 = /** @class */ (function () {\r\n                function class_41() {\r\n                }\r\n                return class_41;\r\n            }()),\r\n            _16.VALUE = { name: \"Common_Info\" },\r\n            _16),\r\n        _14);\r\n    return EventIds;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0NvbnN0YW50cy50cz9hZmEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBMENIO0lBQUE7SUE4SUEsQ0FBQzs7SUE3SWMsY0FBSztZQUFHO1lBa0J0QixDQUFDO1lBQUQsY0FBQztRQUFELENBQUM7UUFqQmMsS0FBRTtnQkFBRztnQkFnQm5CLENBQUM7Z0JBQUQsY0FBQztZQUFELENBQUM7WUFmYyxTQUFNO29CQUFHO29CQUl2QixDQUFDO29CQUFELGNBQUM7Z0JBQUQsQ0FBQztnQkFIYyxRQUFLO3dCQUFHO3dCQUV0QixDQUFDO3dCQUFELGNBQUM7b0JBQUQsQ0FBQztvQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUc7dUJBQ2pFO21CQUNEO1lBRVksT0FBSTtvQkFBRztvQkFRckIsQ0FBQztvQkFBRCxjQUFDO2dCQUFELENBQUM7Z0JBUGMsUUFBSzt3QkFBRzt3QkFFdEIsQ0FBQzt3QkFBRCxjQUFDO29CQUFELENBQUM7b0JBRGMsUUFBSyxHQUFhLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixFQUFHO3VCQUMvRDtnQkFFWSxTQUFNO3dCQUFHO3dCQUV2QixDQUFDO3dCQUFELGNBQUM7b0JBQUQsQ0FBQztvQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsc0JBQXNCLEVBQUc7dUJBQ2hFO21CQUNEO2VBQ0Q7WUFDRDtJQUVGLHFEQUFxRDtJQUN2Qyw2Q0FBb0MsR0FBYSxFQUFFLElBQUksRUFBRSxzQ0FBc0MsRUFBRSxDQUFDO0lBQ2xHLHlDQUFnQyxHQUFhLEVBQUUsSUFBSSxFQUFFLGtDQUFrQyxFQUFFLENBQUM7SUFDMUYsMENBQWlDLEdBQWEsRUFBRSxJQUFJLEVBQUUsbUNBQW1DLEVBQUUsQ0FBQztJQUM1RixvQ0FBMkIsR0FBYSxFQUFFLElBQUksRUFBRSw2QkFBNkIsRUFBRSxDQUFDO0lBQ2hGLHNDQUE2QixHQUFh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b2dnaW5nL0NvbnN0YW50cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb25zdGFudHMudHNcclxuICpcclxuICogTW9kdWxlIHRvIGhvbGQgbG9nZ2luZy1yZWxhdGVkIGNvbnN0YW50c1xyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUN1c3RvbVByb3BlcnRpZXMge1xyXG5cdENhbXBhaWduSWQ/OiBzdHJpbmc7XHJcblx0Q29ycmVsYXRpb25JZD86IHN0cmluZztcclxuXHRDb3VudD86IG51bWJlcjtcclxuXHREYXRhPzogc3RyaW5nO1xyXG5cdEVycm9yTWVzc2FnZT86IHN0cmluZztcclxuXHRGZWVkYmFja1R5cGU/OiBudW1iZXI7XHJcblx0UGFuZWxUeXBlPzogbnVtYmVyO1xyXG5cdEZpbGVOYW1lPzogc3RyaW5nO1xyXG5cdEZsaWdodHM/OiBzdHJpbmc7XHJcblx0SHR0cFN0YXR1c0NvZGU/OiBudW1iZXI7XHJcblx0SHR0cFN0YXR1c1RleHQ/OiBzdHJpbmc7XHJcblx0SXNCdWdFbmFibGVkPzogYm9vbGVhbjtcclxuXHRJc0RpYWdub3N0aWNzSW5jbHVkZWQ/OiBib29sZWFuO1xyXG5cdElzRW1haWxJbmNsdWRlZD86IGJvb2xlYW47XHJcblx0SXNFbWFpbFBvbGljeUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cdElzSWRlYUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cdElzU2NyZWVuc2hvdEluY2x1ZGVkPzogYm9vbGVhbjtcclxuXHRNZXNzYWdlPzogc3RyaW5nO1xyXG5cdFNlc3Npb25JZD86IHN0cmluZztcclxuXHRTdXJ2ZXlJZD86IHN0cmluZztcclxuXHRTdXJ2ZXlUeXBlPzogbnVtYmVyO1xyXG5cdFRpbWVNaWxsaXNlY29uZHM/OiBudW1iZXI7XHJcblx0VHlwZT86IHN0cmluZztcclxuXHRDbGllbnRGZWVkYmFja0lkPzogc3RyaW5nO1xyXG5cdFByb21wdEF1dG9EaXNtaXNzPzogc3RyaW5nO1xyXG5cdEFkZGl0aW9uYWxTdXJ2ZXlJbmZvPzogc3RyaW5nO1xyXG5cdFN1cnZleUFjdGl2aXR5SW5mbz86IHN0cmluZztcclxuXHRQZXJzb25hbGl6ZXJVc2VyQWN0aW9uPzogbnVtYmVyO1xyXG5cdFBlcnNvbmFsaXplckV2ZW50SWQ/OiBzdHJpbmc7XHJcblx0R292ZXJuYW5jZVJlcXVlc3RCb2R5Pzogc3RyaW5nO1xyXG5cdEdvdmVybmFuY2VSZXNwb25zZVRleHQ/OiBzdHJpbmc7XHJcblx0QWN0dWFsU2V0QXV0b0Rpc21pc3NWYWx1ZT86IG51bWJlcjtcclxuXHRDVkZvcm1JZD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRJZCB7XHJcblx0bmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRXZlbnRJZHMge1xyXG5cdHB1YmxpYyBzdGF0aWMgSW5BcHAgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIFVJID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFBpY2tlciA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFNob3duID0gY2xhc3Mge1xyXG5cdFx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiSW5BcHBfVUlfUGlja2VyX1Nob3duXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cHVibGljIHN0YXRpYyBGb3JtID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgU2hvd24gPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJJbkFwcF9VSV9Gb3JtX1Nob3duXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFN1Ym1pdCA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIkluQXBwX1VJX0Zvcm1fU3VibWl0XCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvLyBUaGlzIHNhdmVzIH40MDAgYnl0ZXMgKG1pbmlmaWVkKSB2cyBuZXN0ZWQgY2xhc3Nlc1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9DQU1QQUlHTkxPQURfRkFJTEVEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfRmxvb2RnYXRlX0NhbXBhaWduTG9hZF9GYWlsZWRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9GSUxFUkVBRF9GQUlMRUQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9GbG9vZGdhdGVfRmlsZVJlYWRfRmFpbGVkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9GTE9PREdBVEVfRklMRVdSSVRFX0ZBSUxFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X0Zsb29kZ2F0ZV9GaWxlV3JpdGVfRmFpbGVkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9GTE9PREdBVEVfVFJJR0dFUk1FVDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X0Zsb29kZ2F0ZV9UcmlnZ2VyTWV0XCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9GTE9PREdBVEVfVVNFUlNFTEVDVEVEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfRmxvb2RnYXRlX1VzZXJTZWxlY3RlZFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9TSE9XTjogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX0Zvcm1fU2hvd25cIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX0ZPUk1fU1VCTUlUOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9TdWJtaXRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX0ZPUk1fU0VDT05EQVJZX1NVQk1JVDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX0Zvcm1fU2Vjb25kYXJ5X1N1Ym1pdFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9TVUJNSVRfRVJST1I6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9Gb3JtX1N1Ym1pdF9FcnJvclwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9VU0VSQ0xPU0VEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9Vc2VyQ2xvc2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9GT1JNX05PX1JFVFVSTl9UWVBFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9Ob19SZXR1cm5fVHlwZVwifTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfUFJPTVBUX0FVVE9ESVNNSVNTRUQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9Qcm9tcHRfQXV0b0Rpc21pc3NlZFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfUFJPTVBUX1NIT1dOOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfUHJvbXB0X1Nob3duXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9QUk9NUFRfVVNFUkNMT1NFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX1Byb21wdF9Vc2VyQ2xvc2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9QUk9NUFRfQ0xJQ0tFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX1Byb21wdF9DbGlja2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9SRURJUkVDVElPTkZBSUxVUkU6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9SZWRpcmVjdGlvbkZhaWx1cmVcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgR09WRVJOQU5DRV9TRVJWSUNFRkFJTFVSRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiR29ydmVuYW5jZV9TZXJ2aWNlRmFpbHVyZVwiIH07XHJcblx0cHVibGljIHN0YXRpYyBHT1ZFUk5BTkNFX1NFUlZJQ0VSRVNVTFQ6IElFdmVudElkID0geyBuYW1lOiBcIkdvcnZlbmFuY2VfU2VydmljZVJlc3VsdFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBEWU5BTUlDVFJBTlNQT1JUX1BPU1RfRVJST1I6IElFdmVudElkID0geyBuYW1lOiBcIkR5bmFtaWNUcmFuc3BvcnRfUG9zdF9FcnJvclwiIH07XHJcblx0cHVibGljIHN0YXRpYyBGRUVEQkFDS19TVVJWRVlTRElTQUJMRURfQUFEQzogSUV2ZW50SWQgPSB7bmFtZTogXCJGZWVkYmFja19TdXJ2ZXlzRGlzYWJsZWRfQUFEQ1wifTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9ESVNBQkxFRF9BQURDOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfUHJldmVudGVkX0FBRENcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgUEVSU09OQUxJWkVSX1NFUlZJQ0VSRVdBUkRSRVNVTFQ6IElFdmVudElkID0geyBuYW1lOiBcIlBlcnNvbmFsaXplcl9TZXJ2aWNlUmV3YXJkUmVzdWx0XCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFBFUlNPTkFMSVpFUl9DTElFTlRGQUlMVVJFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJQZXJzb25hbGl6ZXJfQ2xpZW50RmFpbHVyZVwiIH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU2hhcmVkID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBVcGxvYWQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlNoYXJlZF9VcGxvYWRfRmFpbGVkXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBQcmV2ZW50ZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU2hhcmVkX1VwbG9hZF9QcmV2ZW50ZWRfQUFEQ1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU2NyZWVuc2hvdCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBSZW5kZXIgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTaGFyZWRfU2NyZWVuc2hvdF9SZW5kZXJfRmFpbGVkXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgU3VjY2VzcyA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlNoYXJlZF9TY3JlZW5zaG90X1JlbmRlcl9TdWNjZXNzXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cHVibGljIHN0YXRpYyBHZXRDb250ZW50ID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkID0gY2xhc3Mge1xyXG5cdFx0XHRcdFx0cHVibGljIHN0YXRpYyBEZWZhdWx0SW1hZ2UgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgUmV0dXJuZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU2hhcmVkX1NjcmVlbnNob3RfR2V0Q29udGVudF9GYWlsZWRfRGVmYXVsdEltYWdlX1JldHVybmVkXCIgfTtcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBXZWJTdXJmYWNlcyA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgQ29tbW9uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEVycm9yID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIldlYlN1cmZhY2VzX0NvbW1vbl9FcnJvclwiIH07XHJcblx0XHRcdH07XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgSW5mbyA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJXZWJTdXJmYWNlc19Db21tb25fSW5mb1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgTWVzc2FnaW5nID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFJlcXVlc3RzID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIldlYlN1cmZhY2VzX01lc3NhZ2luZ19SZXF1ZXN0c1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgVXNlckZhY3RzID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBDb21tb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX0NvbW1vbl9FcnJvclwiIH07XHJcblx0XHRcdH07XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgSW5mbyA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfQ29tbW9uX0luZm9cIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIExvY2FsRmFjdCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBFcnJvciA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfTG9jYWxGYWN0X0Vycm9yXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBNZXNzYWdpbmcgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgUmVxdWVzdHMgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX01lc3NhZ2luZ19SZXF1ZXN0c1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgQXVnTG9vcCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBSZXF1ZXN0cyA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfQXVnTG9vcF9SZXF1ZXN0c1wiIH07XHJcblx0XHRcdH07XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX0F1Z0xvb3BfRXJyb3JcIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFByb3ZpZGVyID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEluZm8gPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX1Byb3ZpZGVyX1N1bW1hcnlcIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIENvbW1vbiA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIkNvbW1vbl9FcnJvclwiIH07XHJcblx0XHR9O1xyXG5cdFx0cHVibGljIHN0YXRpYyBJbmZvID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJDb21tb25fSW5mb1wiIH07XHJcblx0XHR9O1xyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Constants.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Logging.ts":
/*!****************************************!*\
  !*** ./scripts/app/Logging/Logging.ts ***!
  \****************************************/
/*! exports provided: EventIds, initialize, getLogger, Logger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLogger\", function() { return getLogger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Logger\", function() { return Logger; });\n/* harmony import */ var _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Telemetry/Contracts */ \"./scripts/app/Logging/Telemetry/Contracts.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Telemetry_TelemetryLoggerFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Telemetry/TelemetryLoggerFactory */ \"./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Constants */ \"./scripts/app/Logging/Constants.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EventIds\", function() { return _Constants__WEBPACK_IMPORTED_MODULE_5__[\"EventIds\"]; });\n\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"isNOU\"];\r\nvar NAMESPACE = \"Office_Feedback\";\r\nvar logger;\r\nvar env;\r\n/**\r\n * Initialize the logging module\r\n * @param initOptionsCommon object contains common init options\r\n * @param appName app name\r\n * @param appVersion app version\r\n * @param logSessionId local SDK session id\r\n */\r\nfunction initialize(initOptionsCommon, appName, appVersion, logSessionId, samplingOption) {\r\n    var telemetryGroup = initOptionsCommon.telemetryGroup ? initOptionsCommon.telemetryGroup : {};\r\n    var webGroup = initOptionsCommon.webGroup ? initOptionsCommon.webGroup : {};\r\n    logger = new Logger(_Telemetry_TelemetryLoggerFactory__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(TokenManager.getTenantToken(initOptionsCommon.environment), NAMESPACE, new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"App\"](appName, appVersion), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Session\"](logSessionId), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Host\"](initOptionsCommon.appId.toString(), initOptionsCommon.originalLocale, initOptionsCommon.sessionId, initOptionsCommon.build), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Release\"](telemetryGroup.audienceGroup), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Browser\"](webGroup.browser, webGroup.browserVersion), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Device\"](telemetryGroup.deviceId), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"User\"](telemetryGroup.loggableUserId ? telemetryGroup.loggableUserId : initOptionsCommon.cid, telemetryGroup.tenantId)), samplingOption, initOptionsCommon);\r\n    env = initOptionsCommon.environment;\r\n}\r\n/**\r\n * Get the logger object\r\n */\r\nfunction getLogger() {\r\n    return logger;\r\n}\r\n;\r\n;\r\n/**\r\n * Class representing a logger for the feedback SDK\r\n */\r\nvar Logger = /** @class */ (function () {\r\n    function Logger(telemetryLogger, samplingOptions, initOptionsCommon) {\r\n        this.SAMPLING_RESULT = Math.random();\r\n        if (!telemetryLogger) {\r\n            throw new Error(\"telemetryLogger must not be null\");\r\n        }\r\n        this.telemetryLogger = telemetryLogger;\r\n        this.eventSampling = samplingOptions;\r\n        this.initOptionsCommon = initOptionsCommon;\r\n    }\r\n    /**\r\n     * Log an event\r\n     * @param eventId event Id\r\n     * @param logSeverity the log level severity for the message\r\n     * @param customProperties custom properties to add to the log\r\n     * @param internalSampleRate sample rate for this event in decimal (example: 0.05 for 5%). (Does not override host set sampleRate)\r\n     */\r\n    Logger.prototype.logEvent = function (eventId, logSeverity, customProperties, internalSampleRate) {\r\n        if (!eventId) {\r\n            throw new Error(\"eventId must not be null\");\r\n        }\r\n        var sampleRate = Logger.DEFAULT_SAMPLE_RATE;\r\n        // Host set sample rate has precedence over internalSampleRate.\r\n        if (this.isEventSampled(eventId.name)) {\r\n            sampleRate = this.getEventSamplingRate(eventId.name);\r\n        }\r\n        else if (internalSampleRate !== undefined) {\r\n            sampleRate = internalSampleRate;\r\n        }\r\n        if (isNOU(logSeverity) || logSeverity === 0 /* None */) {\r\n            if (env === 0 /* Production */) {\r\n                var errorMessage = \"logSeverity must not be null or none\";\r\n                if (this.isConsoleLogEnabled && console) {\r\n                    // tslint:disable:no-console\r\n                    console.log(\"Floodgate event: \", Logger.EVENT_NAME, errorMessage);\r\n                }\r\n                this.telemetryLogger.logEvent(Logger.EVENT_NAME, { ErrorMessage: errorMessage }, sampleRate);\r\n            }\r\n            return false;\r\n        }\r\n        customProperties = customProperties || {};\r\n        customProperties[Logger.EVENT_ID] = eventId.name;\r\n        if (this.isLoggingEnabled(logSeverity, sampleRate) || this.isEventTelemetryEnabled(eventId.name)) {\r\n            this.telemetryLogger.logEvent(Logger.EVENT_NAME, customProperties, sampleRate);\r\n        }\r\n        if (this.isConsoleLogEnabled && console) {\r\n            // tslint:disable:no-console\r\n            console.log(\"Floodgate event: \", Logger.EVENT_NAME, logSeverity, customProperties);\r\n        }\r\n        return true;\r\n    };\r\n    Logger.prototype.logLocal = function (logSeverity) {\r\n        var others = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            others[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.isLoggingEnabled(logSeverity) && this.isConsoleLogEnabled && console) {\r\n            // tslint:disable:no-console\r\n            console.log(\"LPP FG: \", logSeverity, others);\r\n        }\r\n    };\r\n    Logger.prototype.getUserSamplingRate = function () {\r\n        return this.SAMPLING_RESULT;\r\n    };\r\n    Logger.prototype.isEventTelemetryEnabled = function (eventName) {\r\n        var _a, _b, _c, _d;\r\n        try {\r\n            if (!this.dynamicLogSettings) {\r\n                return false;\r\n            }\r\n            var appId = (_b = (_a = this.initOptionsCommon) === null || _a === void 0 ? void 0 : _a.appId) === null || _b === void 0 ? void 0 : _b.toString();\r\n            var locale = (_d = (_c = this.initOptionsCommon) === null || _c === void 0 ? void 0 : _c.originalLocale) === null || _d === void 0 ? void 0 : _d.toLowerCase();\r\n            var settingName = \"content_\" + eventName;\r\n            // try settings from more specific to generic order\r\n            var overrideSettings = this.dynamicLogSettings[settingName + \"_\" + appId + \"_\" + locale] ||\r\n                this.dynamicLogSettings[settingName + \"_\" + appId] ||\r\n                this.dynamicLogSettings[settingName + \"_\" + locale] ||\r\n                this.dynamicLogSettings[settingName];\r\n            return overrideSettings === null || overrideSettings === void 0 ? void 0 : overrideSettings.isEnabled;\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log(\"FG: Error checking for dynamic log settings: \", e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * This method enables logging only if the log severity of the event is less than or equal to the\r\n     * current log level set and within the sample rate. For example, if the log severity of the event is\r\n     * LogLevel.Error and the current log level is set as LogLevel.Critical, then isLoggingEnabled will\r\n     * return false since the condition LogLevel.Error <= LogLevel.Critical is false. Because, the log severity\r\n     * follows the order defined in the LogLevel enum (None < Critical < Error < Info). The sample rate is the\r\n     * percentage of users allow to send the event back. If the random genarated number is less than the sample rate\r\n     * and the sample rate is not full blocking (0 value)\r\n     * If no current log level is set, then the default log level is set as LogLevel.Error so that all events\r\n     * marked with critical and error log severity get logged.\r\n     * @param inputLogLevel the log severity of the event\r\n     */\r\n    Logger.prototype.isLoggingEnabled = function (inputLogLevel, sampleRate) {\r\n        if (sampleRate === void 0) { sampleRate = 1; }\r\n        if (isNOU(this.logLevel)) {\r\n            var currentLogLevel = this.getCurrentLogLevel();\r\n            this.logLevel = isNOU(currentLogLevel) ? 2 /* Error */ : currentLogLevel;\r\n        }\r\n        return (inputLogLevel <= this.logLevel && this.SAMPLING_RESULT <= sampleRate && sampleRate !== 0);\r\n    };\r\n    /**\r\n     * This method returns the current log level if it is set in either url query parameters or floodgate local storage.\r\n     * Following table summarizes whether the log event calls with a log severity will log the events or not according\r\n     * to the current log level set. For example, the first row in the table demonstrates that when the current log level\r\n     * enabled is critical, then the log event will log the events only if the log severity is critical.\r\n     *\r\n     * Current Log Level Enabled | LogSeverity: Critical\t| LogSeverity: Error\t| LogSeverity: Info\r\n     * --------------------------------------------------------------------------------------------\r\n     * Critical Enabled\t\t\t | yes      \t\t\t\t| no    \t\t\t \t| no\r\n     * Error Enabled       \t\t | yes      \t\t\t\t| yes   \t\t\t \t| no\r\n     * Info Enabled        \t\t | yes      \t\t\t\t| yes   \t\t\t \t| yes\r\n     * None Enabled        \t\t | no       \t\t\t\t| no    \t\t\t \t| no\r\n     *\r\n     * Console logging will be enabled when the current log level is set through the url query parameters or\r\n     * when the url query parameter \"obfconsolelog\" is explicitly set to true.\r\n     */\r\n    Logger.prototype.getCurrentLogLevel = function () {\r\n        try {\r\n            // Check if console log is enabled in local browser session with query parameter overrides\r\n            var urlParams = typeof URLSearchParams !== \"undefined\" && new URLSearchParams(window.location.search) || undefined;\r\n            var consoleLogParam = urlParams && urlParams.get(\"obfconsolelog\");\r\n            if (!consoleLogParam) {\r\n                // for getting iframe host url - eg: WAC\r\n                var documentReferrer = typeof document !== \"undefined\" && document.referrer;\r\n                consoleLogParam = documentReferrer && documentReferrer.indexOf(\"obfconsolelog\") !== -1;\r\n            }\r\n            if (consoleLogParam) {\r\n                this.isConsoleLogEnabled = true;\r\n            }\r\n            // Check if log level is set in local browser session with query parameter overrides\r\n            var logLevelParam = urlParams && urlParams.get(\"obfloglevel\");\r\n            if (!isNOU(logLevelParam)) {\r\n                this.isConsoleLogEnabled = true;\r\n                return parseInt(logLevelParam, 10);\r\n            }\r\n            // Check if log level is set in floodgate local storage (manually or with remotely fetched settings)\r\n            if (_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isStorageAvailable()) {\r\n                var floodgateStorageProvider = new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n                var tempStorageItem = floodgateStorageProvider.read(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__[\"FileType\"].LogLevelSettings);\r\n                if (!tempStorageItem) {\r\n                    tempStorageItem = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_6__[\"getDynamicSetting\"])(\"LogLevelSettings\" /* logLevelSettings */, \"\");\r\n                }\r\n                var settingsObj = tempStorageItem && this.parseObject(tempStorageItem);\r\n                if (settingsObj) {\r\n                    this.dynamicLogSettings = settingsObj;\r\n                    var logSettings = settingsObj.content;\r\n                    if (this.initOptionsCommon) {\r\n                        var appId = this.initOptionsCommon.appId && this.initOptionsCommon.appId.toString();\r\n                        var locale = this.initOptionsCommon.originalLocale && this.initOptionsCommon.originalLocale.toLowerCase();\r\n                        // log settings from more specific to generic order\r\n                        logSettings = settingsObj[\"content_\" + appId + \"_\" + locale] ||\r\n                            settingsObj[\"content_\" + appId] ||\r\n                            settingsObj[\"content_\" + locale] ||\r\n                            settingsObj[\"content\"];\r\n                    }\r\n                    if (logSettings) {\r\n                        if (logSettings.consoleLog) {\r\n                            this.isConsoleLogEnabled = true;\r\n                        }\r\n                        return logSettings.logLevel;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log(\"Error while getting the current log level: \", e);\r\n            }\r\n            return undefined;\r\n        }\r\n        return null;\r\n    };\r\n    Logger.prototype.parseObject = function (tempItem) {\r\n        try {\r\n            return JSON.parse(tempItem);\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log(\"Error while parsing the json string for log level: \", e);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    Logger.prototype.getEventSamplingRate = function (eventId) {\r\n        var sampleRate = 1;\r\n        if (this.eventSampling.event) {\r\n            // If the event is init with sample rate\r\n            // check the sampling result against the sample rate\r\n            if (eventId in this.eventSampling.event) {\r\n                sampleRate = this.eventSampling.event[eventId];\r\n            }\r\n        }\r\n        return sampleRate;\r\n    };\r\n    Logger.prototype.isEventSampled = function (eventId) {\r\n        if (this.eventSampling.event) {\r\n            if (eventId in this.eventSampling.event) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Logger.EVENT_NAME = \"SDK\";\r\n    Logger.EVENT_ID = \"EventId\";\r\n    Logger.DEFAULT_SAMPLE_RATE = 1;\r\n    return Logger;\r\n}());\r\n\r\nvar TokenManager = /** @class */ (function () {\r\n    function TokenManager() {\r\n    }\r\n    TokenManager.getTenantToken = function (environment) {\r\n        if (environment === 0 /* Production */) {\r\n            return TokenManager.TENANT_TOKEN_PRODUCTION;\r\n        }\r\n        else {\r\n            return TokenManager.TENANT_TOKEN_PRE_PRODUCTION;\r\n        }\r\n    };\r\n    TokenManager.TENANT_TOKEN_PRODUCTION = \"d79e824386c4441cb8c1d4ae15690526-bd443309-5494-444a-aba9-0af9eef99f84-7360\"; // \"Office Feedback\" Prod Aria tenant\r\n    TokenManager.TENANT_TOKEN_PRE_PRODUCTION = \"2bf6a2ffddca4a80a892a0b182132961-625cb102-8b0c-480e-af53-92e48695d08d-7736\"; // \"Office Feedback\" Sandbox Aria tenant\r\n    return TokenManager;\r\n}());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0xvZ2dpbmcudHM/ZDhlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTJGO0FBQ3ZEO0FBRW9DO0FBQ1M7QUFDYTtBQUUxQjtBQUNrQjtBQUU5RSxTQUFLLEdBQUssNENBQUwsQ0FBVztBQUN4QixJQUFNLFNBQVMsR0FBVyxpQkFBaUIsQ0FBQztBQUU1QyxJQUFJLE1BQWUsQ0FBQztBQUNwQixJQUFJLEdBQWdCLENBQUM7QUFFckI7Ozs7OztHQU1HO0FBQ0ksU0FBUyxVQUFVLENBQUMsaUJBQXFDLEVBQUUsT0FBZSxFQUFFLFVBQWtCLEVBQ3BHLFlBQW9CLEVBQUUsY0FBbUM7SUFFekQsSUFBTSxjQUFjLEdBQUcsaUJBQWlCLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNoRyxJQUFNLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRTlFLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FDbEIseUVBQXNCLENBQUMsTUFBTSxDQUM1QixZQUFZLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxFQUMxRCxTQUFTLEVBQ1QsSUFBSSx3REFBRyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFDNUIsSUFBSSw0REFBTyxDQUFDLFlBQVksQ0FBQyxFQUN6QixJQUFJLHlEQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFLGlCQUFpQixDQUFDLGNBQWMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEVBQ3BJ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QyxDQUFDLHFDQUFxQztJQUNwRyx3Q0FBMkIsR0FDMUMsNEVBQTRFLENBQUMsQ0FBQyx3Q0FBd0M7SUFDdkgsbUJBQUM7Q0FBQSIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvTG9nZ2luZy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElJbml0T3B0aW9uc0NvbW1vbiwgSVNhbXBsaW5nSW5pdE9wdGlvbiB9IGZyb20gXCIuLy4uL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zXCI7XHJcbmltcG9ydCB7IElFdmVudElkLCBJQ3VzdG9tUHJvcGVydGllcyB9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBBcHAsIEJyb3dzZXIsIERldmljZSwgSG9zdCwgUmVsZWFzZSwgU2Vzc2lvbiwgVXNlciB9IGZyb20gXCIuL1RlbGVtZXRyeS9Db250cmFjdHNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0IElUZWxlbWV0cnlMb2dnZXIgZnJvbSBcIi4vVGVsZW1ldHJ5L0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuaW1wb3J0IFRlbGVtZXRyeUxvZ2dlckZhY3RvcnkgZnJvbSBcIi4vVGVsZW1ldHJ5L1RlbGVtZXRyeUxvZ2dlckZhY3RvcnlcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgRmlsZVR5cGUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcblxyXG5leHBvcnQgeyBJQ3VzdG9tUHJvcGVydGllcywgSUV2ZW50SWQsIEV2ZW50SWRzIH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGdldER5bmFtaWNTZXR0aW5nLCBTZXR0aW5nS2V5IH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vRHluYW1pY0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5jb25zdCBOQU1FU1BBQ0U6IHN0cmluZyA9IFwiT2ZmaWNlX0ZlZWRiYWNrXCI7XHJcblxyXG5sZXQgbG9nZ2VyOiBJTG9nZ2VyO1xyXG5sZXQgZW52OiBFbnZpcm9ubWVudDtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIHRoZSBsb2dnaW5nIG1vZHVsZVxyXG4gKiBAcGFyYW0gaW5pdE9wdGlvbnNDb21tb24gb2JqZWN0IGNvbnRhaW5zIGNvbW1vbiBpbml0IG9wdGlvbnNcclxuICogQHBhcmFtIGFwcE5hbWUgYXBwIG5hbWVcclxuICogQHBhcmFtIGFwcFZlcnNpb24gYXBwIHZlcnNpb25cclxuICogQHBhcmFtIGxvZ1Nlc3Npb25JZCBsb2NhbCBTREsgc2Vzc2lvbiBpZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoaW5pdE9wdGlvbnNDb21tb246IElJbml0T3B0aW9uc0NvbW1vbiwgYXBwTmFtZTogc3RyaW5nLCBhcHBWZXJzaW9uOiBzdHJpbmcsXHJcblx0bG9nU2Vzc2lvbklkOiBzdHJpbmcsIHNhbXBsaW5nT3B0aW9uOiBJU2FtcGxpbmdJbml0T3B0aW9uKTogdm9pZCB7XHJcblxyXG5cdGNvbnN0IHRlbGVtZXRyeUdyb3VwID0gaW5pdE9wdGlvbnNDb21tb24udGVsZW1ldHJ5R3JvdXAgPyBpbml0T3B0aW9uc0NvbW1vbi50ZWxlbWV0cnlHcm91cCA6IHt9O1xyXG5cdGNvbnN0IHdlYkdyb3VwID0gaW5pdE9wdGlvbnNDb21tb24ud2ViR3JvdXAgPyBpbml0T3B0aW9uc0NvbW1vbi53ZWJHcm91cCA6IHt9O1xyXG5cclxuXHRsb2dnZXIgPSBuZXcgTG9nZ2VyKFxyXG5cdFx0VGVsZW1ldHJ5TG9nZ2VyRmFjdG9yeS5jcmVhdGUoXHJcblx0XHRcdFRva2VuTWFuYWdlci5nZXRUZW5hbnRUb2tlbihpbml0T3B0aW9uc0NvbW1vbi5lbnZpcm9ubWVudCksXHJcblx0XHRcdE5BTUVTUEFDRSxcclxuXHRcdFx0bmV3IEFwcChhcHBOYW1lLCBhcHBWZXJzaW9uKSxcclxuXHRcdFx0bmV3IFNlc3Npb24obG9nU2Vzc2lvbklkKSxcclxuXHRcdFx0bmV3IEhvc3QoaW5pdE9wdGlvbnNDb21tb24uYXBwSWQudG9TdHJpbmcoKSwgaW5pdE9wdGlvbnNDb21tb24ub3JpZ2luYWxMb2NhbGUsIGluaXRPcHRpb25zQ29tbW9uLnNlc3Npb25JZCwgaW5pdE9wdGlvbnNDb21tb24uYnVpbGQpLFxyXG5cdFx0XHRuZXcgUmVsZWFzZSh0ZWxlbWV0cnlHcm91cC5hdWRpZW5jZUdyb3VwKSxcclxuXHRcdFx0bmV3IEJyb3dzZXIod2ViR3JvdXAuYnJvd3Nlciwgd2ViR3JvdXAuYnJvd3NlclZlcnNpb24pLFxyXG5cdFx0XHRuZXcgRGV2aWNlKHRlbGVtZXRyeUdyb3VwLmRldmljZUlkKSxcclxuXHRcdFx0bmV3IFVzZXIodGVsZW1ldHJ5R3JvdXAubG9nZ2FibGVVc2VySWQgPyB0ZWxlbWV0cnlHcm91cC5sb2dnYWJsZVVzZXJJZCA6IGluaXRPcHRpb25zQ29tbW9uLmNpZCwgdGVsZW1ldHJ5R3JvdXAudGVuYW50SWQpXHJcblx0XHQpLFxyXG5cdFx0c2FtcGxpbmdPcHRpb24sXHJcblx0XHRpbml0T3B0aW9uc0NvbW1vblxyXG5cdCk7XHJcblxyXG5cdGVudiA9IGluaXRPcHRpb25zQ29tbW9uLmVudmlyb25tZW50O1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBsb2dnZXIgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nZ2VyKCk6IElMb2dnZXIge1xyXG5cdHJldHVybiBsb2dnZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGEgbG9nZ2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXIge1xyXG5cdGxvZ0V2ZW50KGV2ZW50SWQ6IElFdmVudElkLCBsb2dTZXZlcml0eTogTG9nTGV2ZWwsIGN1c3RvbVByb3BlcnRpZXM/OiBJQ3VzdG9tUHJvcGVydGllcywgaW50ZXJuYWxTYW1wbGVSYXRlPzogbnVtYmVyKTogdm9pZDtcclxuXHRsb2dMb2NhbD8obG9nU2V2ZXJpdHk6IExvZ0xldmVsLCAuLi5vdGhlcnM6IGFueVtdKTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZyBsZXZlbCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gTG9nTGV2ZWwge1xyXG5cdE5vbmUsXHJcblx0Q3JpdGljYWwsXHJcblx0RXJyb3IsXHJcblx0SW5mb1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUxvZ1NldHRpbmdzIHtcclxuXHRjb25zb2xlTG9nPzogYm9vbGVhbjtcclxuXHRpc0VuYWJsZWQ/OiBib29sZWFuO1xyXG5cdGxvZ0xldmVsPzogTG9nTGV2ZWw7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgSUxvZ0xldmVsU2V0dGluZ3Mge1xyXG5cdGNvbnRlbnQ6IElMb2dTZXR0aW5ncztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBsb2dnZXIgZm9yIHRoZSBmZWVkYmFjayBTREtcclxuICovXHJcbmV4cG9ydCBjbGFzcyBMb2dnZXIgaW1wbGVtZW50cyBJTG9nZ2VyIHtcclxuXHRwcml2YXRlIHN0YXRpYyBFVkVOVF9OQU1FOiBzdHJpbmcgPSBcIlNES1wiO1xyXG5cdHByaXZhdGUgc3RhdGljIEVWRU5UX0lEOiBzdHJpbmcgPSBcIkV2ZW50SWRcIjtcclxuXHRwcml2YXRlIHN0YXRpYyBERUZBVUxUX1NBTVBMRV9SQVRFOiBudW1iZXIgPSAxO1xyXG5cclxuXHRwcml2YXRlIHRlbGVtZXRyeUxvZ2dlcjogSVRlbGVtZXRyeUxvZ2dlcjtcclxuXHRwcml2YXRlIGxvZ0xldmVsOiBMb2dMZXZlbDtcclxuXHRwcml2YXRlIGlzQ29uc29sZUxvZ0VuYWJsZWQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBkeW5hbWljTG9nU2V0dGluZ3M6IElMb2dMZXZlbFNldHRpbmdzO1xyXG5cclxuXHRwcml2YXRlIGV2ZW50U2FtcGxpbmc6IElTYW1wbGluZ0luaXRPcHRpb247XHJcblx0cHJpdmF0ZSBpbml0T3B0aW9uc0NvbW1vbjogSUluaXRPcHRpb25zQ29tbW9uO1xyXG5cclxuXHRwcml2YXRlIHJlYWRvbmx5IFNBTVBMSU5HX1JFU1VMVCA9IE1hdGgucmFuZG9tKCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHRlbGVtZXRyeUxvZ2dlcjogSVRlbGVtZXRyeUxvZ2dlciwgc2FtcGxpbmdPcHRpb25zOiBJU2FtcGxpbmdJbml0T3B0aW9uLCBpbml0T3B0aW9uc0NvbW1vbj86IElJbml0T3B0aW9uc0NvbW1vbikge1xyXG5cdFx0aWYgKCF0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVsZW1ldHJ5TG9nZ2VyIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy50ZWxlbWV0cnlMb2dnZXIgPSB0ZWxlbWV0cnlMb2dnZXI7XHJcblx0XHR0aGlzLmV2ZW50U2FtcGxpbmcgPSBzYW1wbGluZ09wdGlvbnM7XHJcblx0XHR0aGlzLmluaXRPcHRpb25zQ29tbW9uID0gaW5pdE9wdGlvbnNDb21tb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgYW4gZXZlbnRcclxuXHQgKiBAcGFyYW0gZXZlbnRJZCBldmVudCBJZFxyXG5cdCAqIEBwYXJhbSBsb2dTZXZlcml0eSB0aGUgbG9nIGxldmVsIHNldmVyaXR5IGZvciB0aGUgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSBjdXN0b21Qcm9wZXJ0aWVzIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgbG9nXHJcblx0ICogQHBhcmFtIGludGVybmFsU2FtcGxlUmF0ZSBzYW1wbGUgcmF0ZSBmb3IgdGhpcyBldmVudCBpbiBkZWNpbWFsIChleGFtcGxlOiAwLjA1IGZvciA1JSkuIChEb2VzIG5vdCBvdmVycmlkZSBob3N0IHNldCBzYW1wbGVSYXRlKVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBsb2dFdmVudChldmVudElkOiBJRXZlbnRJZCwgbG9nU2V2ZXJpdHk6IExvZ0xldmVsLCBjdXN0b21Qcm9wZXJ0aWVzPzogSUN1c3RvbVByb3BlcnRpZXMsIGludGVybmFsU2FtcGxlUmF0ZT86IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFldmVudElkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImV2ZW50SWQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgc2FtcGxlUmF0ZSA9IExvZ2dlci5ERUZBVUxUX1NBTVBMRV9SQVRFO1xyXG5cclxuXHRcdC8vIEhvc3Qgc2V0IHNhbXBsZSByYXRlIGhhcyBwcmVjZWRlbmNlIG92ZXIgaW50ZXJuYWxTYW1wbGVSYXRlLlxyXG5cdFx0aWYgKHRoaXMuaXNFdmVudFNhbXBsZWQoZXZlbnRJZC5uYW1lKSkge1xyXG5cdFx0XHRzYW1wbGVSYXRlID0gdGhpcy5nZXRFdmVudFNhbXBsaW5nUmF0ZShldmVudElkLm5hbWUpO1xyXG5cdFx0fSBlbHNlIGlmIChpbnRlcm5hbFNhbXBsZVJhdGUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRzYW1wbGVSYXRlID0gaW50ZXJuYWxTYW1wbGVSYXRlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVShsb2dTZXZlcml0eSkgfHwgbG9nU2V2ZXJpdHkgPT09IExvZ0xldmVsLk5vbmUpIHtcclxuXHRcdFx0aWYgKGVudiA9PT0gRW52aXJvbm1lbnQuUHJvZHVjdGlvbikge1xyXG5cdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IFwibG9nU2V2ZXJpdHkgbXVzdCBub3QgYmUgbnVsbCBvciBub25lXCI7XHJcblx0XHRcdFx0aWYgKHRoaXMuaXNDb25zb2xlTG9nRW5hYmxlZCAmJiBjb25zb2xlKSB7XHJcblx0XHRcdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkZsb29kZ2F0ZSBldmVudDogXCIsIExvZ2dlci5FVkVOVF9OQU1FLCBlcnJvck1lc3NhZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnRlbGVtZXRyeUxvZ2dlci5sb2dFdmVudChMb2dnZXIuRVZFTlRfTkFNRSwgeyBFcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSB9LCBzYW1wbGVSYXRlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y3VzdG9tUHJvcGVydGllcyA9IGN1c3RvbVByb3BlcnRpZXMgfHwge307XHJcblx0XHQoPGFueT4gY3VzdG9tUHJvcGVydGllcylbTG9nZ2VyLkVWRU5UX0lEXSA9IGV2ZW50SWQubmFtZTtcclxuXHJcblx0XHRpZiAodGhpcy5pc0xvZ2dpbmdFbmFibGVkKGxvZ1NldmVyaXR5LCBzYW1wbGVSYXRlKSB8fCB0aGlzLmlzRXZlbnRUZWxlbWV0cnlFbmFibGVkKGV2ZW50SWQubmFtZSkpIHtcclxuXHRcdFx0dGhpcy50ZWxlbWV0cnlMb2dnZXIubG9nRXZlbnQoTG9nZ2VyLkVWRU5UX05BTUUsIGN1c3RvbVByb3BlcnRpZXMsIHNhbXBsZVJhdGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgJiYgY29uc29sZSkge1xyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdGNvbnNvbGUubG9nKFwiRmxvb2RnYXRlIGV2ZW50OiBcIiwgTG9nZ2VyLkVWRU5UX05BTUUsIGxvZ1NldmVyaXR5LCBjdXN0b21Qcm9wZXJ0aWVzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsb2dMb2NhbD8obG9nU2V2ZXJpdHk6IExvZ0xldmVsLCAuLi5vdGhlcnM6IGFueVtdKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5pc0xvZ2dpbmdFbmFibGVkKGxvZ1NldmVyaXR5KSAmJiB0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgJiYgY29uc29sZSkge1xyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdGNvbnNvbGUubG9nKFwiTFBQIEZHOiBcIiwgbG9nU2V2ZXJpdHksIG90aGVycyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VXNlclNhbXBsaW5nUmF0ZSgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuU0FNUExJTkdfUkVTVUxUO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzRXZlbnRUZWxlbWV0cnlFbmFibGVkKGV2ZW50TmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIXRoaXMuZHluYW1pY0xvZ1NldHRpbmdzKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBhcHBJZCA9IHRoaXMuaW5pdE9wdGlvbnNDb21tb24/LmFwcElkPy50b1N0cmluZygpO1xyXG5cdFx0XHRjb25zdCBsb2NhbGUgPSB0aGlzLmluaXRPcHRpb25zQ29tbW9uPy5vcmlnaW5hbExvY2FsZT8udG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ05hbWUgPSBgY29udGVudF8ke2V2ZW50TmFtZX1gO1xyXG5cclxuXHRcdFx0Ly8gdHJ5IHNldHRpbmdzIGZyb20gbW9yZSBzcGVjaWZpYyB0byBnZW5lcmljIG9yZGVyXHJcblx0XHRcdGNvbnN0IG92ZXJyaWRlU2V0dGluZ3MgPVxyXG5cdFx0XHRcdHRoaXMuZHluYW1pY0xvZ1NldHRpbmdzW2Ake3NldHRpbmdOYW1lfV8ke2FwcElkfV8ke2xvY2FsZX1gIGFzIGtleW9mIElMb2dMZXZlbFNldHRpbmdzXSB8fFxyXG5cdFx0XHRcdHRoaXMuZHluYW1pY0xvZ1NldHRpbmdzW2Ake3NldHRpbmdOYW1lfV8ke2FwcElkfWAgYXMga2V5b2YgSUxvZ0xldmVsU2V0dGluZ3NdIHx8XHJcblx0XHRcdFx0dGhpcy5keW5hbWljTG9nU2V0dGluZ3NbYCR7c2V0dGluZ05hbWV9XyR7bG9jYWxlfWAgYXMga2V5b2YgSUxvZ0xldmVsU2V0dGluZ3NdIHx8XHJcblx0XHRcdFx0dGhpcy5keW5hbWljTG9nU2V0dGluZ3Nbc2V0dGluZ05hbWUgYXMga2V5b2YgSUxvZ0xldmVsU2V0dGluZ3NdO1xyXG5cclxuXHRcdFx0cmV0dXJuIG92ZXJyaWRlU2V0dGluZ3M/LmlzRW5hYmxlZDtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNDb25zb2xlTG9nRW5hYmxlZCkge1xyXG5cdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlOm5vLWNvbnNvbGVcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkZHOiBFcnJvciBjaGVja2luZyBmb3IgZHluYW1pYyBsb2cgc2V0dGluZ3M6IFwiLCBlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoaXMgbWV0aG9kIGVuYWJsZXMgbG9nZ2luZyBvbmx5IGlmIHRoZSBsb2cgc2V2ZXJpdHkgb2YgdGhlIGV2ZW50IGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGVcclxuXHQgKiBjdXJyZW50IGxvZyBsZXZlbCBzZXQgYW5kIHdpdGhpbiB0aGUgc2FtcGxlIHJhdGUuIEZvciBleGFtcGxlLCBpZiB0aGUgbG9nIHNldmVyaXR5IG9mIHRoZSBldmVudCBpcyBcclxuXHQgKiBMb2dMZXZlbC5FcnJvciBhbmQgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGlzIHNldCBhcyBMb2dMZXZlbC5Dcml0aWNhbCwgdGhlbiBpc0xvZ2dpbmdFbmFibGVkIHdpbGwgXHJcblx0ICogcmV0dXJuIGZhbHNlIHNpbmNlIHRoZSBjb25kaXRpb24gTG9nTGV2ZWwuRXJyb3IgPD0gTG9nTGV2ZWwuQ3JpdGljYWwgaXMgZmFsc2UuIEJlY2F1c2UsIHRoZSBsb2cgc2V2ZXJpdHkgXHJcblx0ICogZm9sbG93cyB0aGUgb3JkZXIgZGVmaW5lZCBpbiB0aGUgTG9nTGV2ZWwgZW51bSAoTm9uZSA8IENyaXRpY2FsIDwgRXJyb3IgPCBJbmZvKS4gVGhlIHNhbXBsZSByYXRlIGlzIHRoZVxyXG5cdCAqIHBlcmNlbnRhZ2Ugb2YgdXNlcnMgYWxsb3cgdG8gc2VuZCB0aGUgZXZlbnQgYmFjay4gSWYgdGhlIHJhbmRvbSBnZW5hcmF0ZWQgbnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgc2FtcGxlIHJhdGVcclxuXHQgKiBhbmQgdGhlIHNhbXBsZSByYXRlIGlzIG5vdCBmdWxsIGJsb2NraW5nICgwIHZhbHVlKVxyXG5cdCAqIElmIG5vIGN1cnJlbnQgbG9nIGxldmVsIGlzIHNldCwgdGhlbiB0aGUgZGVmYXVsdCBsb2cgbGV2ZWwgaXMgc2V0IGFzIExvZ0xldmVsLkVycm9yIHNvIHRoYXQgYWxsIGV2ZW50c1xyXG5cdCAqIG1hcmtlZCB3aXRoIGNyaXRpY2FsIGFuZCBlcnJvciBsb2cgc2V2ZXJpdHkgZ2V0IGxvZ2dlZC5cclxuXHQgKiBAcGFyYW0gaW5wdXRMb2dMZXZlbCB0aGUgbG9nIHNldmVyaXR5IG9mIHRoZSBldmVudFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaXNMb2dnaW5nRW5hYmxlZChpbnB1dExvZ0xldmVsOiBMb2dMZXZlbCwgc2FtcGxlUmF0ZTogbnVtYmVyID0gMSk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMubG9nTGV2ZWwpKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRMb2dMZXZlbCA9IHRoaXMuZ2V0Q3VycmVudExvZ0xldmVsKCk7XHJcblx0XHRcdHRoaXMubG9nTGV2ZWwgPSBpc05PVShjdXJyZW50TG9nTGV2ZWwpID8gTG9nTGV2ZWwuRXJyb3IgOiBjdXJyZW50TG9nTGV2ZWw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChpbnB1dExvZ0xldmVsIDw9IHRoaXMubG9nTGV2ZWwgJiYgdGhpcy5TQU1QTElOR19SRVNVTFQgPD0gc2FtcGxlUmF0ZSAmJiBzYW1wbGVSYXRlICE9PSAwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGlmIGl0IGlzIHNldCBpbiBlaXRoZXIgdXJsIHF1ZXJ5IHBhcmFtZXRlcnMgb3IgZmxvb2RnYXRlIGxvY2FsIHN0b3JhZ2UuXHJcblx0ICogRm9sbG93aW5nIHRhYmxlIHN1bW1hcml6ZXMgd2hldGhlciB0aGUgbG9nIGV2ZW50IGNhbGxzIHdpdGggYSBsb2cgc2V2ZXJpdHkgd2lsbCBsb2cgdGhlIGV2ZW50cyBvciBub3QgYWNjb3JkaW5nXHJcblx0ICogdG8gdGhlIGN1cnJlbnQgbG9nIGxldmVsIHNldC4gRm9yIGV4YW1wbGUsIHRoZSBmaXJzdCByb3cgaW4gdGhlIHRhYmxlIGRlbW9uc3RyYXRlcyB0aGF0IHdoZW4gdGhlIGN1cnJlbnQgbG9nIGxldmVsXHJcblx0ICogZW5hYmxlZCBpcyBjcml0aWNhbCwgdGhlbiB0aGUgbG9nIGV2ZW50IHdpbGwgbG9nIHRoZSBldmVudHMgb25seSBpZiB0aGUgbG9nIHNldmVyaXR5IGlzIGNyaXRpY2FsLlxyXG5cdCAqXHJcblx0ICogQ3VycmVudCBMb2cgTGV2ZWwgRW5hYmxlZCB8IExvZ1NldmVyaXR5OiBDcml0aWNhbFx0fCBMb2dTZXZlcml0eTogRXJyb3JcdHwgTG9nU2V2ZXJpdHk6IEluZm9cclxuXHQgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqIENyaXRpY2FsIEVuYWJsZWRcdFx0XHQgfCB5ZXMgICAgICBcdFx0XHRcdHwgbm8gICAgXHRcdFx0IFx0fCBub1xyXG5cdCAqIEVycm9yIEVuYWJsZWQgICAgICAgXHRcdCB8IHllcyAgICAgIFx0XHRcdFx0fCB5ZXMgICBcdFx0XHQgXHR8IG5vXHJcblx0ICogSW5mbyBFbmFibGVkICAgICAgICBcdFx0IHwgeWVzICAgICAgXHRcdFx0XHR8IHllcyAgIFx0XHRcdCBcdHwgeWVzXHJcblx0ICogTm9uZSBFbmFibGVkICAgICAgICBcdFx0IHwgbm8gICAgICAgXHRcdFx0XHR8IG5vICAgIFx0XHRcdCBcdHwgbm9cclxuXHQgKlxyXG5cdCAqIENvbnNvbGUgbG9nZ2luZyB3aWxsIGJlIGVuYWJsZWQgd2hlbiB0aGUgY3VycmVudCBsb2cgbGV2ZWwgaXMgc2V0IHRocm91Z2ggdGhlIHVybCBxdWVyeSBwYXJhbWV0ZXJzIG9yXHJcblx0ICogd2hlbiB0aGUgdXJsIHF1ZXJ5IHBhcmFtZXRlciBcIm9iZmNvbnNvbGVsb2dcIiBpcyBleHBsaWNpdGx5IHNldCB0byB0cnVlLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0Q3VycmVudExvZ0xldmVsKCk6IExvZ0xldmVsIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIENoZWNrIGlmIGNvbnNvbGUgbG9nIGlzIGVuYWJsZWQgaW4gbG9jYWwgYnJvd3NlciBzZXNzaW9uIHdpdGggcXVlcnkgcGFyYW1ldGVyIG92ZXJyaWRlc1xyXG5cdFx0XHRjb25zdCB1cmxQYXJhbXMgPSB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSBcInVuZGVmaW5lZFwiICYmIG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCkgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRsZXQgY29uc29sZUxvZ1BhcmFtOiBzdHJpbmcgfCBib29sZWFuID0gdXJsUGFyYW1zICYmIHVybFBhcmFtcy5nZXQoXCJvYmZjb25zb2xlbG9nXCIpO1xyXG5cdFx0XHRpZiAoIWNvbnNvbGVMb2dQYXJhbSkge1xyXG5cdFx0XHRcdC8vIGZvciBnZXR0aW5nIGlmcmFtZSBob3N0IHVybCAtIGVnOiBXQUNcclxuXHRcdFx0XHRjb25zdCBkb2N1bWVudFJlZmVycmVyID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LnJlZmVycmVyO1xyXG5cdFx0XHRcdGNvbnNvbGVMb2dQYXJhbSA9IGRvY3VtZW50UmVmZXJyZXIgJiYgZG9jdW1lbnRSZWZlcnJlci5pbmRleE9mKFwib2JmY29uc29sZWxvZ1wiKSAhPT0gLTE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjb25zb2xlTG9nUGFyYW0pIHtcclxuXHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiBsb2cgbGV2ZWwgaXMgc2V0IGluIGxvY2FsIGJyb3dzZXIgc2Vzc2lvbiB3aXRoIHF1ZXJ5IHBhcmFtZXRlciBvdmVycmlkZXNcclxuXHRcdFx0Y29uc3QgbG9nTGV2ZWxQYXJhbSA9IHVybFBhcmFtcyAmJiB1cmxQYXJhbXMuZ2V0KFwib2JmbG9nbGV2ZWxcIik7XHJcblx0XHRcdGlmICghaXNOT1UobG9nTGV2ZWxQYXJhbSkpIHtcclxuXHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHJldHVybiBwYXJzZUludChsb2dMZXZlbFBhcmFtLCAxMCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENoZWNrIGlmIGxvZyBsZXZlbCBpcyBzZXQgaW4gZmxvb2RnYXRlIGxvY2FsIHN0b3JhZ2UgKG1hbnVhbGx5IG9yIHdpdGggcmVtb3RlbHkgZmV0Y2hlZCBzZXR0aW5ncylcclxuXHRcdFx0aWYgKEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRcdGNvbnN0IGZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjogRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyID0gbmV3IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcigpO1xyXG5cdFx0XHRcdGxldCB0ZW1wU3RvcmFnZUl0ZW06IHN0cmluZyA9IGZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5yZWFkKEZpbGVUeXBlLkxvZ0xldmVsU2V0dGluZ3MpO1xyXG5cdFx0XHRcdGlmICghdGVtcFN0b3JhZ2VJdGVtKSB7XHJcblx0XHRcdFx0XHR0ZW1wU3RvcmFnZUl0ZW0gPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LmxvZ0xldmVsU2V0dGluZ3MsIFwiXCIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3NPYmogPSB0ZW1wU3RvcmFnZUl0ZW0gJiYgdGhpcy5wYXJzZU9iamVjdCh0ZW1wU3RvcmFnZUl0ZW0pO1xyXG5cdFx0XHRcdGlmIChzZXR0aW5nc09iaikge1xyXG5cdFx0XHRcdFx0dGhpcy5keW5hbWljTG9nU2V0dGluZ3MgPSBzZXR0aW5nc09iajtcclxuXHRcdFx0XHRcdGxldCBsb2dTZXR0aW5ncyA9IHNldHRpbmdzT2JqLmNvbnRlbnQgYXMgSUxvZ1NldHRpbmdzO1xyXG5cclxuXHRcdFx0XHRcdGlmICh0aGlzLmluaXRPcHRpb25zQ29tbW9uKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFwcElkID0gdGhpcy5pbml0T3B0aW9uc0NvbW1vbi5hcHBJZCAmJiB0aGlzLmluaXRPcHRpb25zQ29tbW9uLmFwcElkLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGxvY2FsZSA9ICB0aGlzLmluaXRPcHRpb25zQ29tbW9uLm9yaWdpbmFsTG9jYWxlICYmIHRoaXMuaW5pdE9wdGlvbnNDb21tb24ub3JpZ2luYWxMb2NhbGUudG9Mb3dlckNhc2UoKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGxvZyBzZXR0aW5ncyBmcm9tIG1vcmUgc3BlY2lmaWMgdG8gZ2VuZXJpYyBvcmRlclxyXG5cdFx0XHRcdFx0XHRsb2dTZXR0aW5ncyA9IHNldHRpbmdzT2JqW2Bjb250ZW50XyR7YXBwSWR9XyR7bG9jYWxlfWBdIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3NPYmpbYGNvbnRlbnRfJHthcHBJZH1gXSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzT2JqW2Bjb250ZW50XyR7bG9jYWxlfWBdIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3NPYmpbYGNvbnRlbnRgXTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAobG9nU2V0dGluZ3MpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGxvZ1NldHRpbmdzLmNvbnNvbGVMb2cpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbG9nU2V0dGluZ3MubG9nTGV2ZWw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGlmICh0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQpIHtcclxuXHRcdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBnZXR0aW5nIHRoZSBjdXJyZW50IGxvZyBsZXZlbDogXCIsIGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHBhcnNlT2JqZWN0KHRlbXBJdGVtOiBzdHJpbmcpOiBhbnkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UodGVtcEl0ZW0pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRpZiAodGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkKSB7XHJcblx0XHRcdFx0Ly8gdHNsaW50OmRpc2FibGU6bm8tY29uc29sZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3Igd2hpbGUgcGFyc2luZyB0aGUganNvbiBzdHJpbmcgZm9yIGxvZyBsZXZlbDogXCIsIGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRFdmVudFNhbXBsaW5nUmF0ZShldmVudElkOiBzdHJpbmcpOiBudW1iZXIge1xyXG5cdFx0bGV0IHNhbXBsZVJhdGUgPSAxO1xyXG5cdFx0aWYgKHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudCkge1xyXG5cdFx0XHQvLyBJZiB0aGUgZXZlbnQgaXMgaW5pdCB3aXRoIHNhbXBsZSByYXRlXHJcblx0XHRcdC8vIGNoZWNrIHRoZSBzYW1wbGluZyByZXN1bHQgYWdhaW5zdCB0aGUgc2FtcGxlIHJhdGVcclxuXHRcdFx0aWYgKGV2ZW50SWQgaW4gdGhpcy5ldmVudFNhbXBsaW5nLmV2ZW50KSB7XHJcblx0XHRcdFx0c2FtcGxlUmF0ZSA9IHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudFtldmVudElkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHNhbXBsZVJhdGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzRXZlbnRTYW1wbGVkKGV2ZW50SWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudCkge1xyXG5cdFx0XHRpZiAoZXZlbnRJZCBpbiB0aGlzLmV2ZW50U2FtcGxpbmcuZXZlbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgVG9rZW5NYW5hZ2VyIHtcclxuXHRwdWJsaWMgc3RhdGljIGdldFRlbmFudFRva2VuKGVudmlyb25tZW50OiBFbnZpcm9ubWVudCk6IHN0cmluZyB7XHJcblx0XHRpZiAoZW52aXJvbm1lbnQgPT09IEVudmlyb25tZW50LlByb2R1Y3Rpb24pIHtcclxuXHRcdFx0cmV0dXJuIFRva2VuTWFuYWdlci5URU5BTlRfVE9LRU5fUFJPRFVDVElPTjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBUb2tlbk1hbmFnZXIuVEVOQU5UX1RPS0VOX1BSRV9QUk9EVUNUSU9OO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgVEVOQU5UX1RPS0VOX1BST0RVQ1RJT046IHN0cmluZyA9XHJcblx0XCJkNzllODI0Mzg2YzQ0NDFjYjhjMWQ0YWUxNTY5MDUyNi1iZDQ0MzMwOS01NDk0LTQ0NGEtYWJhOS0wYWY5ZWVmOTlmODQtNzM2MFwiOyAvLyBcIk9mZmljZSBGZWVkYmFja1wiIFByb2QgQXJpYSB0ZW5hbnRcclxuXHRwcml2YXRlIHN0YXRpYyBURU5BTlRfVE9LRU5fUFJFX1BST0RVQ1RJT046IHN0cmluZyA9XHJcblx0XCIyYmY2YTJmZmRkY2E0YTgwYTg5MmEwYjE4MjEzMjk2MS02MjVjYjEwMi04YjBjLTQ4MGUtYWY1My05MmU0ODY5NWQwOGQtNzczNlwiOyAvLyBcIk9mZmljZSBGZWVkYmFja1wiIFNhbmRib3ggQXJpYSB0ZW5hbnRcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Logging.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/Aria.ts":
/*!***********************************************!*\
  !*** ./scripts/app/Logging/Telemetry/Aria.ts ***!
  \***********************************************/
/*! exports provided: AWT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AWT\", function() { return AWT; });\n/**\r\n * Aria.ts\r\n *\r\n * Module for wrapper around Aria\r\n */\r\nvar aria = __webpack_require__(/*! ./../../thirdparty/aria-webjs-compact-sdk-1.2.2 */ \"./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js\");\r\nfunction AWT() { return aria.AWT; }\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhLnRzP2NhOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSCxJQUFJLElBQUksR0FBUSxtQkFBTyxDQUFDLGlIQUFpRCxDQUFDLENBQUM7QUFFcEUsU0FBUyxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUFBLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEFyaWEudHNcclxuICpcclxuICogTW9kdWxlIGZvciB3cmFwcGVyIGFyb3VuZCBBcmlhXHJcbiAqL1xyXG5cclxubGV0IGFyaWE6IGFueSA9IHJlcXVpcmUoXCIuLy4uLy4uL3RoaXJkcGFydHkvYXJpYS13ZWJqcy1jb21wYWN0LXNkay0xLjIuMlwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBV1QoKSB7IHJldHVybiBhcmlhLkFXVDsgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/Aria.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts":
/*!**************************************************************!*\
  !*** ./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Aria__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Aria */ \"./scripts/app/Logging/Telemetry/Aria.ts\");\n/* harmony import */ var _Contracts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Contracts */ \"./scripts/app/Logging/Telemetry/Contracts.ts\");\n/**\r\n * An Aria-based logger\r\n */\r\n\r\n\r\nvar AriaTelemetryLogger = /** @class */ (function () {\r\n    function AriaTelemetryLogger(tenantToken, namespace, app, session, host, release, browser, device, user) {\r\n        if (!tenantToken) {\r\n            throw new Error(\"tenantToken must not be null\");\r\n        }\r\n        if (!namespace) {\r\n            throw new Error(\"namespace must not be null\");\r\n        }\r\n        if (!app) {\r\n            throw new Error(\"app must not be null\");\r\n        }\r\n        if (!session) {\r\n            throw new Error(\"session must not be null\");\r\n        }\r\n        _Aria__WEBPACK_IMPORTED_MODULE_0__[\"AWT\"]().initialize(tenantToken);\r\n        this.namespace = namespace;\r\n        this.oesApp = app;\r\n        this.oesSession = session;\r\n        this.oesHost = host;\r\n        this.oesRelease = release;\r\n        this.oesBrowser = browser;\r\n        this.oesDevice = device;\r\n        this.oesUser = user;\r\n        this.sequence = 1; // Sequence starts at 1 not 0\r\n    }\r\n    AriaTelemetryLogger.setApp = function (properties, app) {\r\n        properties[\"App.Name\"] = app.getName();\r\n        properties[\"App.Platform\"] = app.getPlatform();\r\n        properties[\"App.Version\"] = app.getVersion();\r\n    };\r\n    AriaTelemetryLogger.setSession = function (properties, session) {\r\n        properties[\"Session.Id\"] = session.getId();\r\n    };\r\n    AriaTelemetryLogger.setHost = function (properties, host) {\r\n        if (host) {\r\n            properties[\"Host.Id\"] = host.getId();\r\n            properties[\"Host.SessionId2\"] = host.getSessionId();\r\n            properties[\"Host.Version\"] = host.getVersion();\r\n            properties[\"Host.Locale\"] = host.getLocale();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setEvent = function (properties, event) {\r\n        properties[\"Event.Name\"] = event.getName();\r\n        properties[\"Event.Id\"] = event.getId();\r\n        properties[\"Event.Source\"] = event.getSource();\r\n        properties[\"Event.SchemaVersion\"] = event.getSchemaVersion();\r\n        properties[\"Event.Sequence\"] = event.getSequence();\r\n        properties[\"Event.SampleRate\"] = event.getSampleRate();\r\n    };\r\n    AriaTelemetryLogger.setRelease = function (properties, release) {\r\n        if (release) {\r\n            properties[\"Release.AudienceGroup\"] = release.getAudienceGroup();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setBrowser = function (properties, browser) {\r\n        if (browser) {\r\n            properties[\"Browser.Name\"] = browser.getName();\r\n            properties[\"Browser.Version\"] = browser.getVersion();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setDevice = function (properties, device) {\r\n        if (device) {\r\n            properties[\"Device.Id\"] = device.getId();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setUser = function (properties, user) {\r\n        if (user) {\r\n            properties[\"User.PrimaryIdentityHash\"] = user.getPrimaryIdentityHash();\r\n            properties[\"User.PrimaryIdentitySpace\"] = user.getPrimaryIdentitySpace();\r\n            properties[\"User.TenantId\"] = user.getTenantId();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.prototype.logEvent = function (eventName, customProperties, sampleRate) {\r\n        if (sampleRate === void 0) { sampleRate = 1; }\r\n        if (!eventName) {\r\n            throw new Error(\"eventName must not be null\");\r\n        }\r\n        var oesEvent = new _Contracts__WEBPACK_IMPORTED_MODULE_1__[\"Event\"](this.namespace + AriaTelemetryLogger.EVENT_NAME_DELIMITER + eventName, this.oesSession.getId(), this.sequence, sampleRate);\r\n        var ariaProperties = {};\r\n        if (customProperties != null) {\r\n            for (var key in customProperties) {\r\n                if (customProperties.hasOwnProperty(key)) {\r\n                    ariaProperties[AriaTelemetryLogger.CUSTOM_PROPERTIES_FIELD_PREFIX + key] = customProperties[key];\r\n                }\r\n            }\r\n        }\r\n        AriaTelemetryLogger.setApp(ariaProperties, this.oesApp);\r\n        AriaTelemetryLogger.setSession(ariaProperties, this.oesSession);\r\n        AriaTelemetryLogger.setHost(ariaProperties, this.oesHost);\r\n        AriaTelemetryLogger.setRelease(ariaProperties, this.oesRelease);\r\n        AriaTelemetryLogger.setEvent(ariaProperties, oesEvent);\r\n        AriaTelemetryLogger.setBrowser(ariaProperties, this.oesBrowser);\r\n        AriaTelemetryLogger.setDevice(ariaProperties, this.oesDevice);\r\n        AriaTelemetryLogger.setUser(ariaProperties, this.oesUser);\r\n        _Aria__WEBPACK_IMPORTED_MODULE_0__[\"AWT\"]().logEvent({\r\n            name: oesEvent.getName(),\r\n            properties: ariaProperties,\r\n        });\r\n        this.sequence++;\r\n    };\r\n    // Event.name is set as namespace<DELIMITER>eventName\r\n    AriaTelemetryLogger.EVENT_NAME_DELIMITER = \"_\";\r\n    AriaTelemetryLogger.CUSTOM_PROPERTIES_FIELD_PREFIX = \"Data.\";\r\n    return AriaTelemetryLogger;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (AriaTelemetryLogger);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhVGVsZW1ldHJ5TG9nZ2VyLnRzPzlhMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFFNEI7QUFDeUQ7QUFHeEY7SUF1RUMsNkJBQVksV0FBbUIsRUFBRSxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFnQixFQUFFLElBQVcsRUFBRSxPQUFpQixFQUM3RyxPQUFpQixFQUFFLE1BQWUsRUFBRSxJQUFXO1FBRS9DLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNmLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztTQUM5QztRQUNELElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDeEM7UUFDRCxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1NBQzVDO1FBRUQseUNBQVEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNw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LG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlELG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTFELHlDQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDbkIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7WUFDeEIsVUFBVSxFQUFFLGNBQWM7U0FDMUIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUF2SUQscURBQXFEO0lBQ3RDLHdDQUFvQixHQUFXLEdBQUcsQ0FBQztJQUNuQyxrREFBOEIsR0FBVyxPQUFPLENBQUM7SUFzSWpFLDBCQUFDO0NBQUE7QUF6SW9CLGtGQUFtQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvVGVsZW1ldHJ5L0FyaWFUZWxlbWV0cnlMb2dnZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQW4gQXJpYS1iYXNlZCBsb2dnZXJcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBBcmlhIGZyb20gXCIuL0FyaWFcIjtcclxuaW1wb3J0IHsgQXBwLCBCcm93c2VyLCBEZXZpY2UsIEV2ZW50LCBIb3N0LCBSZWxlYXNlLCBTZXNzaW9uLCBVc2VyIH0gZnJvbSBcIi4vQ29udHJhY3RzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyaWFUZWxlbWV0cnlMb2dnZXIgaW1wbGVtZW50cyBJVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHQvLyBFdmVudC5uYW1lIGlzIHNldCBhcyBuYW1lc3BhY2U8REVMSU1JVEVSPmV2ZW50TmFtZVxyXG5cdHByaXZhdGUgc3RhdGljIEVWRU5UX05BTUVfREVMSU1JVEVSOiBzdHJpbmcgPSBcIl9cIjtcclxuXHRwcml2YXRlIHN0YXRpYyBDVVNUT01fUFJPUEVSVElFU19GSUVMRF9QUkVGSVg6IHN0cmluZyA9IFwiRGF0YS5cIjtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0QXBwKHByb3BlcnRpZXM6IGFueSwgYXBwOiBBcHApOiB2b2lkIHtcclxuXHRcdHByb3BlcnRpZXNbXCJBcHAuTmFtZVwiXSA9IGFwcC5nZXROYW1lKCk7XHJcblx0XHRwcm9wZXJ0aWVzW1wiQXBwLlBsYXRmb3JtXCJdID0gYXBwLmdldFBsYXRmb3JtKCk7XHJcblx0XHRwcm9wZXJ0aWVzW1wiQXBwLlZlcnNpb25cIl0gPSBhcHAuZ2V0VmVyc2lvbigpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0U2Vzc2lvbihwcm9wZXJ0aWVzOiBhbnksIHNlc3Npb246IFNlc3Npb24pIHtcclxuXHRcdHByb3BlcnRpZXNbXCJTZXNzaW9uLklkXCJdID0gc2Vzc2lvbi5nZXRJZCgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0SG9zdChwcm9wZXJ0aWVzOiBhbnksIGhvc3Q6IEhvc3QpIHtcclxuXHRcdGlmIChob3N0KSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJIb3N0LklkXCJdID0gaG9zdC5nZXRJZCgpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiSG9zdC5TZXNzaW9uSWQyXCJdID0gaG9zdC5nZXRTZXNzaW9uSWQoKTtcclxuXHRcdFx0cHJvcGVydGllc1tcIkhvc3QuVmVyc2lvblwiXSA9IGhvc3QuZ2V0VmVyc2lvbigpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiSG9zdC5Mb2NhbGVcIl0gPSBob3N0LmdldExvY2FsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0RXZlbnQocHJvcGVydGllczogYW55LCBldmVudDogRXZlbnQpIHtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5OYW1lXCJdID0gZXZlbnQuZ2V0TmFtZSgpO1xyXG5cdFx0cHJvcGVydGllc1tcIkV2ZW50LklkXCJdID0gZXZlbnQuZ2V0SWQoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5Tb3VyY2VcIl0gPSBldmVudC5nZXRTb3VyY2UoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5TY2hlbWFWZXJzaW9uXCJdID0gZXZlbnQuZ2V0U2NoZW1hVmVyc2lvbigpO1xyXG5cdFx0cHJvcGVydGllc1tcIkV2ZW50LlNlcXVlbmNlXCJdID0gZXZlbnQuZ2V0U2VxdWVuY2UoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5TYW1wbGVSYXRlXCJdID0gZXZlbnQuZ2V0U2FtcGxlUmF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0UmVsZWFzZShwcm9wZXJ0aWVzOiBhbnksIHJlbGVhc2U6IFJlbGVhc2UpIHtcclxuXHRcdGlmIChyZWxlYXNlKSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJSZWxlYXNlLkF1ZGllbmNlR3JvdXBcIl0gPSByZWxlYXNlLmdldEF1ZGllbmNlR3JvdXAoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldEJyb3dzZXIocHJvcGVydGllczogYW55LCBicm93c2VyOiBCcm93c2VyKSB7XHJcblx0XHRpZiAoYnJvd3Nlcikge1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiQnJvd3Nlci5OYW1lXCJdID0gYnJvd3Nlci5nZXROYW1lKCk7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJCcm93c2VyLlZlcnNpb25cIl0gPSBicm93c2VyLmdldFZlcnNpb24oKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldERldmljZShwcm9wZXJ0aWVzOiBhbnksIGRldmljZTogRGV2aWNlKSB7XHJcblx0XHRpZiAoZGV2aWNlKSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJEZXZpY2UuSWRcIl0gPSBkZXZpY2UuZ2V0SWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldFVzZXIocHJvcGVydGllczogYW55LCB1c2VyOiBVc2VyKSB7XHJcblx0XHRpZiAodXNlcikge1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiVXNlci5QcmltYXJ5SWRlbnRpdHlIYXNoXCJdID0gdXNlci5nZXRQcmltYXJ5SWRlbnRpdHlIYXNoKCk7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJVc2VyLlByaW1hcnlJZGVudGl0eVNwYWNlXCJdID0gdXNlci5nZXRQcmltYXJ5SWRlbnRpdHlTcGFjZSgpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiVXNlci5UZW5hbnRJZFwiXSA9IHVzZXIuZ2V0VGVuYW50SWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb2VzQXBwOiBBcHA7XHJcblx0cHJpdmF0ZSBvZXNTZXNzaW9uOiBTZXNzaW9uO1xyXG5cdHByaXZhdGUgb2VzSG9zdDogSG9zdDtcclxuXHRwcml2YXRlIG9lc1JlbGVhc2U6IFJlbGVhc2U7XHJcblx0cHJpdmF0ZSBvZXNCcm93c2VyOiBCcm93c2VyO1xyXG5cdHByaXZhdGUgb2VzRGV2aWNlOiBEZXZpY2U7XHJcblx0cHJpdmF0ZSBvZXNVc2VyOiBVc2VyO1xyXG5cclxuXHRwcml2YXRlIG5hbWVzcGFjZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgc2VxdWVuY2U6IG51bWJlcjtcclxuXHJcblx0Y29uc3RydWN0b3IodGVuYW50VG9rZW46IHN0cmluZywgbmFtZXNwYWNlOiBzdHJpbmcsIGFwcDogQXBwLCBzZXNzaW9uOiBTZXNzaW9uLCBob3N0PzogSG9zdCwgcmVsZWFzZT86IFJlbGVhc2UsXHJcblx0XHRicm93c2VyPzogQnJvd3NlciwgZGV2aWNlPzogRGV2aWNlLCB1c2VyPzogVXNlcikge1xyXG5cclxuXHRcdGlmICghdGVuYW50VG9rZW4pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVuYW50VG9rZW4gbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghbmFtZXNwYWNlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5hbWVzcGFjZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFhcHApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIXNlc3Npb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbiBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdEFyaWEuQVdUKCkuaW5pdGlhbGl6ZSh0ZW5hbnRUb2tlbik7XHJcblx0XHR0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcclxuXHRcdHRoaXMub2VzQXBwID0gYXBwO1xyXG5cdFx0dGhpcy5vZXNTZXNzaW9uID0gc2Vzc2lvbjtcclxuXHRcdHRoaXMub2VzSG9zdCA9IGhvc3Q7XHJcblx0XHR0aGlzLm9lc1JlbGVhc2UgPSByZWxlYXNlO1xyXG5cdFx0dGhpcy5vZXNCcm93c2VyID0gYnJvd3NlcjtcclxuXHRcdHRoaXMub2VzRGV2aWNlID0gZGV2aWNlO1xyXG5cdFx0dGhpcy5vZXNVc2VyID0gdXNlcjtcclxuXHRcdHRoaXMuc2VxdWVuY2UgPSAxOyAvLyBTZXF1ZW5jZSBzdGFydHMgYXQgMSBub3QgMFxyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0V2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBjdXN0b21Qcm9wZXJ0aWVzPzogeyBbY3VzdG9tRmllbGQ6IHN0cmluZ106IGFueSB9LCBzYW1wbGVSYXRlOiBudW1iZXIgPSAxKSB7XHJcblx0XHRpZiAoIWV2ZW50TmFtZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJldmVudE5hbWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgb2VzRXZlbnQ6IEV2ZW50ID0gbmV3IEV2ZW50KFxyXG5cdFx0XHR0aGlzLm5hbWVzcGFjZSArIEFyaWFUZWxlbWV0cnlMb2dnZXIuRVZFTlRfTkFNRV9ERUxJTUlURVIgKyBldmVudE5hbWUsXHJcblx0XHRcdHRoaXMub2VzU2Vzc2lvbi5nZXRJZCgpLFxyXG5cdFx0XHR0aGlzLnNlcXVlbmNlLFxyXG5cdFx0XHRzYW1wbGVSYXRlXHJcblx0XHQpO1xyXG5cclxuXHRcdGxldCBhcmlhUHJvcGVydGllczogYW55ID0ge307XHJcblxyXG5cdFx0aWYgKGN1c3RvbVByb3BlcnRpZXMgIT0gbnVsbCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBjdXN0b21Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0aWYgKGN1c3RvbVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0YXJpYVByb3BlcnRpZXNbQXJpYVRlbGVtZXRyeUxvZ2dlci5DVVNUT01fUFJPUEVSVElFU19GSUVMRF9QUkVGSVggKyBrZXldID0gY3VzdG9tUHJvcGVydGllc1trZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdEFyaWFUZWxlbWV0cnlMb2dnZXIuc2V0QXBwKGFyaWFQcm9wZXJ0aWVzLCB0aGlzLm9lc0FwcCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldFNlc3Npb24oYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzU2Vzc2lvbik7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEhvc3QoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzSG9zdCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldFJlbGVhc2UoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzUmVsZWFzZSk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEV2ZW50KGFyaWFQcm9wZXJ0aWVzLCBvZXNFdmVudCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEJyb3dzZXIoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzQnJvd3Nlcik7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldERldmljZShhcmlhUHJvcGVydGllcywgdGhpcy5vZXNEZXZpY2UpO1xyXG5cdFx0QXJpYVRlbGVtZXRyeUxvZ2dlci5zZXRVc2VyKGFyaWFQcm9wZXJ0aWVzLCB0aGlzLm9lc1VzZXIpO1xyXG5cclxuXHRcdEFyaWEuQVdUKCkubG9nRXZlbnQoe1xyXG5cdFx0XHRuYW1lOiBvZXNFdmVudC5nZXROYW1lKCksXHJcblx0XHRcdHByb3BlcnRpZXM6IGFyaWFQcm9wZXJ0aWVzLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5zZXF1ZW5jZSsrO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/Contracts.ts":
/*!****************************************************!*\
  !*** ./scripts/app/Logging/Telemetry/Contracts.ts ***!
  \****************************************************/
/*! exports provided: App, Session, Host, Event, Release, Browser, Device, User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"App\", function() { return App; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Session\", function() { return Session; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Host\", function() { return Host; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Event\", function() { return Event; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Release\", function() { return Release; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Browser\", function() { return Browser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Device\", function() { return Device; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"User\", function() { return User; });\n/**\r\n * Contracts enforced by OfficeEventSchema (OES)\r\n */\r\nvar App = /** @class */ (function () {\r\n    function App(name, version) {\r\n        if (!name) {\r\n            throw new Error(\"name must not be null\");\r\n        }\r\n        if (!version) {\r\n            throw new Error(\"version must not be null\");\r\n        }\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    App.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    App.prototype.getPlatform = function () {\r\n        return App.PLATFORM;\r\n    };\r\n    App.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    App.PLATFORM = \"Web\";\r\n    return App;\r\n}());\r\n\r\nvar Session = /** @class */ (function () {\r\n    function Session(id) {\r\n        if (!id) {\r\n            throw new Error(\"id must not be null\");\r\n        }\r\n        this.id = id;\r\n    }\r\n    Session.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return Session;\r\n}());\r\n\r\nvar Host = /** @class */ (function () {\r\n    function Host(id, locale, sessionId, version) {\r\n        this.id = id;\r\n        this.locale = locale;\r\n        this.sessionId = sessionId;\r\n        this.version = version;\r\n    }\r\n    Host.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Host.prototype.getLocale = function () {\r\n        return this.locale;\r\n    };\r\n    Host.prototype.getSessionId = function () {\r\n        return this.sessionId;\r\n    };\r\n    Host.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    return Host;\r\n}());\r\n\r\nvar Event = /** @class */ (function () {\r\n    function Event(name, sessionId, sequence, sampleRate) {\r\n        if (!name) {\r\n            throw new Error(\"name must not be null\");\r\n        }\r\n        if (!sessionId) {\r\n            throw new Error(\"sessionId must not be null\");\r\n        }\r\n        if ((!sequence && sequence !== 0) || sequence < 0) {\r\n            throw new Error(\"sequence must not be negative\");\r\n        }\r\n        this.name = name;\r\n        this.id = sessionId + Event.ID_DELIMITER + sequence;\r\n        this.sequence = sequence;\r\n        this.sampleRate = sampleRate;\r\n    }\r\n    Event.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Event.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Event.prototype.getSource = function () {\r\n        return Event.SOURCE;\r\n    };\r\n    Event.prototype.getSchemaVersion = function () {\r\n        return Event.SCHEMA_VERSION;\r\n    };\r\n    Event.prototype.getSequence = function () {\r\n        return this.sequence;\r\n    };\r\n    Event.prototype.getSampleRate = function () {\r\n        return this.sampleRate;\r\n    };\r\n    // Id is set to sessionId<DELIMITER>sequence\r\n    Event.ID_DELIMITER = \".\";\r\n    Event.SOURCE = \"MsoThin\";\r\n    Event.SCHEMA_VERSION = 1;\r\n    return Event;\r\n}());\r\n\r\nvar Release = /** @class */ (function () {\r\n    function Release(audienceGroup) {\r\n        this.audienceGroup = audienceGroup;\r\n    }\r\n    Release.prototype.getAudienceGroup = function () {\r\n        return this.audienceGroup;\r\n    };\r\n    return Release;\r\n}());\r\n\r\nvar Browser = /** @class */ (function () {\r\n    function Browser(name, version) {\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    Browser.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Browser.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    return Browser;\r\n}());\r\n\r\nvar Device = /** @class */ (function () {\r\n    function Device(id) {\r\n        this.id = id;\r\n    }\r\n    Device.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return Device;\r\n}());\r\n\r\nvar User = /** @class */ (function () {\r\n    function User(primaryIdentityHash, tenantId) {\r\n        this.tenantId = tenantId;\r\n        this.primaryIdentityHash = primaryIdentityHash ? primaryIdentityHash.trim() : primaryIdentityHash;\r\n        this.primaryIdentitySpace = this.generatePrimaryIdentitySpace();\r\n    }\r\n    User.prototype.getTenantId = function () {\r\n        return this.tenantId;\r\n    };\r\n    User.prototype.getPrimaryIdentityHash = function () {\r\n        return this.primaryIdentityHash;\r\n    };\r\n    User.prototype.getPrimaryIdentitySpace = function () {\r\n        return this.primaryIdentitySpace;\r\n    };\r\n    User.prototype.generatePrimaryIdentitySpace = function () {\r\n        if (this.primaryIdentityHash) {\r\n            if (this.primaryIdentityHash.startsWith(\"a:\")) {\r\n                return \"UserObjectId\";\r\n            }\r\n            if (this.primaryIdentityHash.startsWith(\"p:\")) {\r\n                return \"MsaPuid\";\r\n            }\r\n            if (this.primaryIdentityHash.startsWith(\"ap:\")) {\r\n                return \"OrgIdPuid\";\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return User;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9Db250cmFjdHMudHM/Mzc0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUVIO0lBTUMsYUFBbUIsSUFBWSxFQUFFLE9BQWU7UUFDL0MsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRU0scUJBQU8sR0FBZDtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRU0seUJBQVcsR0FBbEI7UUFDQyxPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDckIsQ0FBQztJQUVNLHdCQUFVLEdBQWpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3JCLENBQUM7SUEzQmMsWUFBUSxHQUFXLEtBQUssQ0FBQztJQTRCekMsVUFBQztDQUFBO0FBN0JlO0FBK0JoQjtJQUdDLGlCQUFtQixFQUFVO1FBQzVCLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FDdkM7UUFFRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFTSx1QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRixjQUFDO0FBQUQsQ0FBQzs7QUFFRDtJQU1DLGNBQVksRUFBVSxFQUFFLE1BQWMs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LENBQUM7SUFDRixXQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvVGVsZW1ldHJ5L0NvbnRyYWN0cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb250cmFjdHMgZW5mb3JjZWQgYnkgT2ZmaWNlRXZlbnRTY2hlbWEgKE9FUylcclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuXHRwcml2YXRlIHN0YXRpYyBQTEFURk9STTogc3RyaW5nID0gXCJXZWJcIjtcclxuXHJcblx0cHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZykge1xyXG5cdFx0aWYgKCFuYW1lKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5hbWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghdmVyc2lvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ2ZXJzaW9uIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcclxuXHRcdHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubmFtZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRQbGF0Zm9ybSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIEFwcC5QTEFURk9STTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy52ZXJzaW9uO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlc3Npb24ge1xyXG5cdHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcclxuXHRcdGlmICghaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhvc3Qge1xyXG5cdHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHRwcml2YXRlIGxvY2FsZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGxvY2FsZTogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0XHR0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuXHRcdHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TG9jYWxlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5sb2NhbGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudmVyc2lvbjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudCB7XHJcblx0Ly8gSWQgaXMgc2V0IHRvIHNlc3Npb25JZDxERUxJTUlURVI+c2VxdWVuY2VcclxuXHRwcml2YXRlIHN0YXRpYyBJRF9ERUxJTUlURVIgPSBcIi5cIjtcclxuXHRwcml2YXRlIHN0YXRpYyBTT1VSQ0U6IHN0cmluZyA9IFwiTXNvVGhpblwiO1xyXG5cdHByaXZhdGUgc3RhdGljIFNDSEVNQV9WRVJTSU9OOiBudW1iZXIgPSAxO1xyXG5cclxuXHRwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHRwcml2YXRlIGlkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBzZXF1ZW5jZTogbnVtYmVyO1xyXG5cdHByaXZhdGUgc2FtcGxlUmF0ZTogbnVtYmVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgc2VxdWVuY2U6IG51bWJlciwgc2FtcGxlUmF0ZTogbnVtYmVyKSB7XHJcblx0XHRpZiAoIW5hbWUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibmFtZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFzZXNzaW9uSWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbklkIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoKCFzZXF1ZW5jZSAmJiBzZXF1ZW5jZSAhPT0gMCkgfHwgc2VxdWVuY2UgPCAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInNlcXVlbmNlIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmlkID0gc2Vzc2lvbklkICsgRXZlbnQuSURfREVMSU1JVEVSICsgc2VxdWVuY2U7XHJcblx0XHR0aGlzLnNlcXVlbmNlID0gc2VxdWVuY2U7XHJcblx0XHR0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLm5hbWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNvdXJjZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIEV2ZW50LlNPVVJDRTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTY2hlbWFWZXJzaW9uKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gRXZlbnQuU0NIRU1BX1ZFUlNJT047XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2VxdWVuY2UoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnNlcXVlbmNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNhbXBsZVJhdGUoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnNhbXBsZVJhdGU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVsZWFzZSB7XHJcblx0cHJpdmF0ZSBhdWRpZW5jZUdyb3VwOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihhdWRpZW5jZUdyb3VwOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuYXVkaWVuY2VHcm91cCA9IGF1ZGllbmNlR3JvdXA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QXVkaWVuY2VHcm91cCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuYXVkaWVuY2VHcm91cDtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCcm93c2VyIHtcclxuXHRwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHRwcml2YXRlIHZlcnNpb246IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnZlcnNpb247XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlIHtcclxuXHRwcml2YXRlIGlkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXIge1xyXG5cdHByaXZhdGUgcHJpbWFyeUlkZW50aXR5SGFzaDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcHJpbWFyeUlkZW50aXR5U3BhY2U6IHN0cmluZztcclxuXHRwcml2YXRlIHRlbmFudElkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwcmltYXJ5SWRlbnRpdHlIYXNoOiBzdHJpbmcsIHRlbmFudElkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMudGVuYW50SWQgPSB0ZW5hbnRJZDtcclxuXHRcdHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaCA9IHByaW1hcnlJZGVudGl0eUhhc2ggPyBwcmltYXJ5SWRlbnRpdHlIYXNoLnRyaW0oKSA6IHByaW1hcnlJZGVudGl0eUhhc2g7XHJcblx0XHR0aGlzLnByaW1hcnlJZGVudGl0eVNwYWNlID0gdGhpcy5nZW5lcmF0ZVByaW1hcnlJZGVudGl0eVNwYWNlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VGVuYW50SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnRlbmFudElkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByaW1hcnlJZGVudGl0eUhhc2goKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW1hcnlJZGVudGl0eUhhc2g7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJpbWFyeUlkZW50aXR5U3BhY2UoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW1hcnlJZGVudGl0eVNwYWNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZW5lcmF0ZVByaW1hcnlJZGVudGl0eVNwYWNlKCk6IHN0cmluZyB7XHJcblx0XHRpZiAodGhpcy5wcmltYXJ5SWRlbnRpdHlIYXNoKSB7XHJcblx0XHRcdGlmICh0aGlzLnByaW1hcnlJZGVudGl0eUhhc2guc3RhcnRzV2l0aChcImE6XCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiVXNlck9iamVjdElkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaC5zdGFydHNXaXRoKFwicDpcIikpIHtcclxuXHRcdFx0XHRyZXR1cm4gXCJNc2FQdWlkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaC5zdGFydHNXaXRoKFwiYXA6XCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiT3JnSWRQdWlkXCI7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/Contracts.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts":
/*!*****************************************************************!*\
  !*** ./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _AriaTelemetryLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AriaTelemetryLogger */ \"./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts\");\n/**\r\n * Factory to return ITelemetryLogger objects\r\n */\r\n\r\nvar TelemetryLoggerFactory = /** @class */ (function () {\r\n    function TelemetryLoggerFactory() {\r\n    }\r\n    TelemetryLoggerFactory.create = function (tenantToken, namespace, app, session, host, release, browser, device, user) {\r\n        return new _AriaTelemetryLogger__WEBPACK_IMPORTED_MODULE_0__[\"default\"](tenantToken, namespace, app, session, host, release, browser, device, user);\r\n    };\r\n    return TelemetryLoggerFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TelemetryLoggerFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5LnRzPzA4YmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOztHQUVHO0FBSXFEO0FBRXhEO0lBQUE7SUFLQSxDQUFDO0lBSmMsNkJBQU0sR0FBcEIsVUFBcUIsV0FBbUIsRUFBRSxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFnQixFQUN0RixJQUFVLEVBQUUsT0FBZ0IsRUFBRSxPQUFnQixFQUFFLE1BQWMsRUFBRSxJQUFVO1FBQ3pFLE9BQU8sSUFBSSw0REFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVHLENBQUM7SUFDSCw2QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZhY3RvcnkgdG8gcmV0dXJuIElUZWxlbWV0cnlMb2dnZXIgb2JqZWN0c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwcCwgQnJvd3NlciwgRGV2aWNlLCBIb3N0LCBSZWxlYXNlLCBTZXNzaW9uLCBVc2VyIH0gZnJvbSBcIi4vQ29udHJhY3RzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuaW1wb3J0IEFyaWFUZWxlbWV0cnlMb2dnZXIgZnJvbSBcIi4vQXJpYVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVsZW1ldHJ5TG9nZ2VyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyBjcmVhdGUodGVuYW50VG9rZW46IHN0cmluZywgbmFtZXNwYWNlOiBzdHJpbmcsIGFwcDogQXBwLCBzZXNzaW9uOiBTZXNzaW9uLFxyXG5cdFx0aG9zdDogSG9zdCwgcmVsZWFzZTogUmVsZWFzZSwgYnJvd3NlcjogQnJvd3NlciwgZGV2aWNlOiBEZXZpY2UsIHVzZXI6IFVzZXIpOiBJVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBBcmlhVGVsZW1ldHJ5TG9nZ2VyKHRlbmFudFRva2VuLCBuYW1lc3BhY2UsIGFwcCwgc2Vzc2lvbiwgaG9zdCwgcmVsZWFzZSwgYnJvd3NlciwgZGV2aWNlLCB1c2VyKTtcclxuXHRcdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts\n");

/***/ }),

/***/ "./scripts/app/Polyfills/Promise.ts":
/*!******************************************!*\
  !*** ./scripts/app/Polyfills/Promise.ts ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var es6_promise_auto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! es6-promise/auto */ \"./node_modules/es6-promise/auto.js\");\n/* harmony import */ var es6_promise_auto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(es6_promise_auto__WEBPACK_IMPORTED_MODULE_0__);\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Qb2x5ZmlsbHMvUHJvbWlzZS50cz85Zjg4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEwQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1BvbHlmaWxscy9Qcm9taXNlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiZXM2LXByb21pc2UvYXV0b1wiO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Polyfills/Promise.ts\n");

/***/ }),

/***/ "./scripts/app/Screenshot.ts":
/*!***********************************!*\
  !*** ./scripts/app/Screenshot.ts ***!
  \***********************************/
/*! exports provided: createScreenshot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createScreenshot\", function() { return createScreenshot; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/**\r\n * Screenshot.ts\r\n *\r\n * A module for screenshot. It uses the html2canvas package.\r\n */\r\n\r\nvar html2canvas = __webpack_require__(/*! ../app/thirdparty/html2canvas/html2canvas */ \"./scripts/app/thirdparty/html2canvas/html2canvas.js\");\r\n/**\r\n * Get screenshot\r\n * @param domElement document element or document body\r\n * @param options background color\r\n */\r\nfunction createScreenshot(domElement, options) {\r\n    return html2canvas(domElement || document.body, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ background: \"#ffffff\" }, options));\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9TY3JlZW5zaG90LnRzPzUwMDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRzs7QUFFSCxJQUFNLFdBQVcsR0FBUSxtQkFBTyxDQUFDLHNHQUEyQyxDQUFDLENBQUM7QUFFOUU7Ozs7R0FJRztBQUNJLFNBQVMsZ0JBQWdCLENBQUMsVUFBbUIsRUFBRSxPQUFhO0lBQ2xFLE9BQU8sV0FBVyxDQUFDLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFLHlEQUFFLFVBQVUsRUFBRSxTQUFTLElBQUssT0FBTyxFQUFHLENBQUM7QUFDeEYsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1NjcmVlbnNob3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2NyZWVuc2hvdC50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3Igc2NyZWVuc2hvdC4gSXQgdXNlcyB0aGUgaHRtbDJjYW52YXMgcGFja2FnZS5cclxuICovXHJcblxyXG5jb25zdCBodG1sMmNhbnZhczogYW55ID0gcmVxdWlyZShcIi4uL2FwcC90aGlyZHBhcnR5L2h0bWwyY2FudmFzL2h0bWwyY2FudmFzXCIpO1xyXG5cclxuLyoqXHJcbiAqIEdldCBzY3JlZW5zaG90XHJcbiAqIEBwYXJhbSBkb21FbGVtZW50IGRvY3VtZW50IGVsZW1lbnQgb3IgZG9jdW1lbnQgYm9keSBcclxuICogQHBhcmFtIG9wdGlvbnMgYmFja2dyb3VuZCBjb2xvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjcmVlbnNob3QoZG9tRWxlbWVudD86IG9iamVjdCwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+IHtcclxuXHRyZXR1cm4gaHRtbDJjYW52YXMoZG9tRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LCB7IGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLCAuLi5vcHRpb25zIH0pO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Screenshot.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/TargetedMessagingCache.ts":
/*!*****************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/TargetedMessagingCache.ts ***!
  \*****************************************************************/
/*! exports provided: TargetedMessagingCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TargetedMessagingCache\", function() { return TargetedMessagingCache; });\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"isNOU\"];\r\nvar TargetedMessagingCache = /** @class */ (function () {\r\n    function TargetedMessagingCache(items) {\r\n        this.useLocalStorage = false;\r\n        this.cachedItems = {};\r\n        this.initialize(items);\r\n    }\r\n    TargetedMessagingCache.prototype.setContentItem = function (contentType, content, expiryTime) {\r\n        var cacheItem = this.createItem(contentType, content, expiryTime);\r\n        this.setItem(cacheItem);\r\n        return cacheItem;\r\n    };\r\n    TargetedMessagingCache.prototype.getItemContent = function (contentType) {\r\n        var cacheItem = this.getItem(contentType);\r\n        return cacheItem && cacheItem.content;\r\n    };\r\n    TargetedMessagingCache.prototype.has = function (contentType) {\r\n        return contentType in this.cachedItems;\r\n    };\r\n    TargetedMessagingCache.prototype.isItemExpired = function (contentType) {\r\n        var cacheItem = this.getItem(contentType);\r\n        return !cacheItem\r\n            || !cacheItem.expiryDate\r\n            || cacheItem.expiryDate < new Date();\r\n    };\r\n    TargetedMessagingCache.prototype.createItem = function (contentType, content, expiryTime) {\r\n        var cacheItem = {\r\n            contentType: contentType,\r\n            content: content,\r\n            expiryDate: new Date(Date.now() + expiryTime),\r\n            lastRetrievedDate: new Date(),\r\n        };\r\n        return cacheItem;\r\n    };\r\n    TargetedMessagingCache.prototype.setItem = function (cacheItem) {\r\n        this.cachedItems[cacheItem.contentType] = cacheItem;\r\n        this.updateItemInLocalStorage(cacheItem);\r\n    };\r\n    TargetedMessagingCache.prototype.getItem = function (contentType) {\r\n        return this.cachedItems[contentType];\r\n    };\r\n    TargetedMessagingCache.prototype.initialize = function (items) {\r\n        this.cachedItems = {};\r\n        if (_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isStorageAvailable()) {\r\n            this.floodgateStorage = new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n            this.useLocalStorage = true;\r\n            // try to fetch items from local storage if available from prior sessions\r\n            this.initCachedItemsFromLocalStorage(items);\r\n        }\r\n        else {\r\n            // no LocalStorage support, only active object cache only\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.initCachedItemsFromLocalStorage = function (items) {\r\n        if (this.useLocalStorage) {\r\n            if (!isNOU(items)) {\r\n                for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                    var contentKey = items_1[_i];\r\n                    var tempStorageItem = this.floodgateStorage.read(this.mapContentTypeToFloodgateProviderKey(contentKey));\r\n                    if (!isNOU(tempStorageItem)) {\r\n                        var tempCacheItem = this.parseObjectFromCache(tempStorageItem);\r\n                        if (!isNOU(tempCacheItem)) {\r\n                            tempCacheItem.expiryDate = typeof tempCacheItem.expiryDate === \"string\" ?\r\n                                new Date(tempCacheItem.expiryDate) : tempCacheItem.expiryDate;\r\n                            this.cachedItems[tempCacheItem.contentType] = tempCacheItem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.updateItemInLocalStorage = function (cacheItem) {\r\n        if (this.useLocalStorage) {\r\n            this.floodgateStorage.write(this.mapContentTypeToFloodgateProviderKey(cacheItem.contentType), JSON.stringify(cacheItem));\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.parseObjectFromCache = function (tempItem) {\r\n        try {\r\n            var tempCacheItem = JSON.parse(tempItem);\r\n            return tempCacheItem;\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.mapContentTypeToFloodgateProviderKey = function (contentType) {\r\n        switch (contentType) {\r\n            case \"CampaignContent\" /* campaignContent */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].TmsCache_CampaignContent;\r\n            case \"MessageMetadata\" /* messageMetadata */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].TmsCache_MessageMetadata;\r\n            case \"UserGovernance\" /* userGovernanceRules */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].TmsCache_UserGovernance;\r\n            case \"DynamicSettings\" /* dynamicSettings */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].Tms_DynamicSettings;\r\n            case \"LogLevelSettings\" /* logLevelSettings */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].LogLevelSettings;\r\n            case \"UserFacts\" /* userFacts */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].UserFacts;\r\n            default:\r\n                throw new Error(\"Unmapped ContentType in TmsCache\");\r\n        }\r\n    };\r\n    return TargetedMessagingCache;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NhY2hlLnRzP2I5YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWlGO0FBQy9DO0FBQzREO0FBRXRGLFNBQUssR0FBSyw0Q0FBTCxDQUFXO0FBU3hCO0lBS0MsZ0NBQVksS0FBeUI7UUFKN0Isb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFDakMsZ0JBQVcsR0FBa0MsRUFBRSxDQUFDO1FBSXZELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVNLCtDQUFjLEdBQXJCLFVBQXNCLFdBQXdCLEVBQUUsT0FBWSxFQUFFLFVBQWtCO1FBQy9FLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hCLE9BQU8sU0FBUyxDQUFDO0lBQ2xCLENBQUM7SUFFTSwrQ0FBYyxHQUFyQixVQUF5QixXQUF3QjtRQUNoRCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sU0FBUyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUM7SUFDdkMsQ0FBQztJQUVNLG9DQUFHLEdBQVYsVUFBVyxXQUF3QjtRQUNsQyxPQUFPLFdBQVcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3hDLENBQUM7SUFFTSw4Q0FBYSxHQUFwQixVQUFxQixXQUF3QjtRQUM1QyxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxTQUFTO2VBQ2IsQ0FBQyxTQUFTLENBQUMsVUFBVTtlQUNyQixTQUFTLENBQUMsVUFBVSxHQUFH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QztTQUNaO0lBQ0YsQ0FBQztJQUVPLHFFQUFvQyxHQUE1QyxVQUE2QyxXQUF3QjtRQUNwRSxRQUFRLFdBQVcsRUFBRTtZQUNwQjtnQkFDQyxPQUFPLDJHQUFRLENBQUMsd0JBQXdCLENBQUM7WUFDMUM7Z0JBQ0MsT0FBTywyR0FBUSxDQUFDLHdCQUF3QixDQUFDO1lBQzFDO2dCQUNDLE9BQU8sMkdBQVEsQ0FBQyx1QkFBdUIsQ0FBQztZQUN6QztnQkFDQyxPQUFPLDJHQUFRLENBQUMsbUJBQW1CLENBQUM7WUFDckM7Z0JBQ0MsT0FBTywyR0FBUSxDQUFDLGdCQUFnQixDQUFDO1lBQ2xDO2dCQUNDLE9BQU8sMkdBQVEsQ0FBQyxTQUFTLENBQUM7WUFDM0I7Z0JBQ0MsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1NBQ3JEO0lBQ0YsQ0FBQztJQUNGLDZCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RhcmdldGVkTWVzc2FnaW5nL1RhcmdldGVkTWVzc2FnaW5nQ2FjaGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29udGVudFR5cGVcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IEZpbGVUeXBlIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDYWNoZUl0ZW0ge1xyXG5cdGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZTtcclxuXHRjb250ZW50OiBhbnk7XHJcblx0ZXhwaXJ5RGF0ZTogRGF0ZTtcclxuXHRsYXN0UmV0cmlldmVkRGF0ZTogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUge1xyXG5cdHByaXZhdGUgdXNlTG9jYWxTdG9yYWdlOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBjYWNoZWRJdGVtczogeyBba2V5OiBzdHJpbmddOiBJQ2FjaGVJdGVtIH0gPSB7fTtcclxuXHRwcml2YXRlIGZsb29kZ2F0ZVN0b3JhZ2U6IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoaXRlbXM6IEFycmF5PENvbnRlbnRUeXBlPikge1xyXG5cdFx0dGhpcy5pbml0aWFsaXplKGl0ZW1zKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb250ZW50SXRlbShjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGNvbnRlbnQ6IGFueSwgZXhwaXJ5VGltZTogbnVtYmVyKTogSUNhY2hlSXRlbSB7XHJcblx0XHRjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLmNyZWF0ZUl0ZW0oY29udGVudFR5cGUsIGNvbnRlbnQsIGV4cGlyeVRpbWUpO1xyXG5cdFx0dGhpcy5zZXRJdGVtKGNhY2hlSXRlbSk7XHJcblx0XHRyZXR1cm4gY2FjaGVJdGVtO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEl0ZW1Db250ZW50PFQ+KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IFQge1xyXG5cdFx0Y29uc3QgY2FjaGVJdGVtID0gdGhpcy5nZXRJdGVtKGNvbnRlbnRUeXBlKTtcclxuXHRcdHJldHVybiBjYWNoZUl0ZW0gJiYgY2FjaGVJdGVtLmNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaGFzKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGNvbnRlbnRUeXBlIGluIHRoaXMuY2FjaGVkSXRlbXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNJdGVtRXhwaXJlZChjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMuZ2V0SXRlbShjb250ZW50VHlwZSk7XHJcblx0XHRyZXR1cm4gIWNhY2hlSXRlbVxyXG5cdFx0XHR8fCAhY2FjaGVJdGVtLmV4cGlyeURhdGVcclxuXHRcdFx0fHwgY2FjaGVJdGVtLmV4cGlyeURhdGUgPCBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVJdGVtKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgY29udGVudDogYW55LCBleHBpcnlUaW1lOiBudW1iZXIpOiBJQ2FjaGVJdGVtIHtcclxuXHRcdGNvbnN0IGNhY2hlSXRlbTogSUNhY2hlSXRlbSA9IHtcclxuXHRcdFx0Y29udGVudFR5cGUsXHJcblx0XHRcdGNvbnRlbnQsXHJcblx0XHRcdGV4cGlyeURhdGU6ICBuZXcgRGF0ZShEYXRlLm5vdygpICsgZXhwaXJ5VGltZSksXHJcblx0XHRcdGxhc3RSZXRyaWV2ZWREYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY2FjaGVJdGVtO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXRJdGVtKGNhY2hlSXRlbTogSUNhY2hlSXRlbSk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWNoZWRJdGVtc1tjYWNoZUl0ZW0uY29udGVudFR5cGVdID0gY2FjaGVJdGVtO1xyXG5cdFx0dGhpcy51cGRhdGVJdGVtSW5Mb2NhbFN0b3JhZ2UoY2FjaGVJdGVtKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SXRlbShjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBJQ2FjaGVJdGVtIHtcclxuXHRcdHJldHVybiB0aGlzLmNhY2hlZEl0ZW1zW2NvbnRlbnRUeXBlXTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaW5pdGlhbGl6ZShpdGVtczogQXJyYXk8Q29udGVudFR5cGU+KTogdm9pZCB7XHJcblx0XHR0aGlzLmNhY2hlZEl0ZW1zID0ge307XHJcblx0XHRpZiAoRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmlzU3RvcmFnZUF2YWlsYWJsZSgpKSB7XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU3RvcmFnZSA9IG5ldyBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIoKTtcclxuXHRcdFx0dGhpcy51c2VMb2NhbFN0b3JhZ2UgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gdHJ5IHRvIGZldGNoIGl0ZW1zIGZyb20gbG9jYWwgc3RvcmFnZSBpZiBhdmFpbGFibGUgZnJvbSBwcmlvciBzZXNzaW9uc1xyXG5cdFx0XHR0aGlzLmluaXRDYWNoZWRJdGVtc0Zyb21Mb2NhbFN0b3JhZ2UoaXRlbXMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbm8gTG9jYWxTdG9yYWdlIHN1cHBvcnQsIG9ubHkgYWN0aXZlIG9iamVjdCBjYWNoZSBvbmx5XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGluaXRDYWNoZWRJdGVtc0Zyb21Mb2NhbFN0b3JhZ2UoaXRlbXM6IEFycmF5PENvbnRlbnRUeXBlPik6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XHJcblx0XHRcdGlmICghaXNOT1UoaXRlbXMpKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgY29udGVudEtleSBvZiBpdGVtcykge1xyXG5cdFx0XHRcdFx0bGV0IHRlbXBTdG9yYWdlSXRlbTogc3RyaW5nID0gdGhpcy5mbG9vZGdhdGVTdG9yYWdlLnJlYWQodGhpcy5tYXBDb250ZW50VHlwZVRvRmxvb2RnYXRlUHJvdmlkZXJLZXkoY29udGVudEtleSkpO1xyXG5cdFx0XHRcdFx0aWYgKCFpc05PVSh0ZW1wU3RvcmFnZUl0ZW0pKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRlbXBDYWNoZUl0ZW06IElDYWNoZUl0ZW0gPSB0aGlzLnBhcnNlT2JqZWN0RnJvbUNhY2hlKHRlbXBTdG9yYWdlSXRlbSk7XHJcblx0XHRcdFx0XHRcdGlmICghaXNOT1UodGVtcENhY2hlSXRlbSkpIHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wQ2FjaGVJdGVtLmV4cGlyeURhdGUgPSB0eXBlb2YgdGVtcENhY2hlSXRlbS5leHBpcnlEYXRlID09PSBcInN0cmluZ1wiID9cclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBEYXRlKHRlbXBDYWNoZUl0ZW0uZXhwaXJ5RGF0ZSkgOiB0ZW1wQ2FjaGVJdGVtLmV4cGlyeURhdGU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWNoZWRJdGVtc1t0ZW1wQ2FjaGVJdGVtLmNvbnRlbnRUeXBlXSA9IHRlbXBDYWNoZUl0ZW07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlSXRlbUluTG9jYWxTdG9yYWdlKGNhY2hlSXRlbTogSUNhY2hlSXRlbSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU3RvcmFnZS53cml0ZShcclxuXHRcdFx0XHR0aGlzLm1hcENvbnRlbnRUeXBlVG9GbG9vZGdhdGVQcm92aWRlcktleShjYWNoZUl0ZW0uY29udGVudFR5cGUpLFxyXG5cdFx0XHRcdEpTT04uc3RyaW5naWZ5KGNhY2hlSXRlbSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZU9iamVjdEZyb21DYWNoZSh0ZW1wSXRlbTogc3RyaW5nKTogSUNhY2hlSXRlbSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0ZW1wQ2FjaGVJdGVtOiBJQ2FjaGVJdGVtID0gSlNPTi5wYXJzZSh0ZW1wSXRlbSk7XHJcblx0XHRcdHJldHVybiB0ZW1wQ2FjaGVJdGVtO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbWFwQ29udGVudFR5cGVUb0Zsb29kZ2F0ZVByb3ZpZGVyS2V5KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IEZpbGVUeXBlIHtcclxuXHRcdHN3aXRjaCAoY29udGVudFR5cGUpIHtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQ6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc0NhY2hlX0NhbXBhaWduQ29udGVudDtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5tZXNzYWdlTWV0YWRhdGE6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc0NhY2hlX01lc3NhZ2VNZXRhZGF0YTtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS51c2VyR292ZXJuYW5jZVJ1bGVzOlxyXG5cdFx0XHRcdHJldHVybiBGaWxlVHlwZS5UbXNDYWNoZV9Vc2VyR292ZXJuYW5jZTtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5keW5hbWljU2V0dGluZ3M6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc19EeW5hbWljU2V0dGluZ3M7XHJcblx0XHRcdGNhc2UgQ29udGVudFR5cGUubG9nTGV2ZWxTZXR0aW5nczpcclxuXHRcdFx0XHRyZXR1cm4gRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5ncztcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS51c2VyRmFjdHM6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlVzZXJGYWN0cztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbm1hcHBlZCBDb250ZW50VHlwZSBpbiBUbXNDYWNoZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingCache.ts\n");

/***/ }),

/***/ "./scripts/app/Theme.ts":
/*!******************************!*\
  !*** ./scripts/app/Theme.ts ***!
  \******************************/
/*! exports provided: initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony import */ var _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UI/UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/**\r\n * Theme.ts\r\n *\r\n * Module for the UI Theme\r\n */\r\n\r\nvar defaultPrimaryColour = \"#0167B0\";\r\nvar defaultSecondaryColour = \"#194789\";\r\n/**\r\n * Init\r\n * @param {string} primaryColour Primary Colour\r\n * @param {string} secondaryColour Secondary Colour\r\n */\r\nfunction initialize(primaryColour, secondaryColour) {\r\n    if (primaryColour === void 0) { primaryColour = undefined; }\r\n    if (secondaryColour === void 0) { secondaryColour = undefined; }\r\n    if (!primaryColour) {\r\n        primaryColour = defaultPrimaryColour;\r\n    }\r\n    if (!secondaryColour) {\r\n        secondaryColour = defaultSecondaryColour;\r\n    }\r\n    var sheet = document.createElement(\"style\");\r\n    sheet.textContent =\r\n        \".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].OverallAnchor + \":focus { background-color: \" + primaryColour + \" } \" +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].OverallAnchor + \":hover { background-color: \" + secondaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].OverallAnchorActive + \" { background-color: \" + primaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].SpinnerCircle + \" { background-color: \" + primaryColour + \" } \") +\r\n            (\r\n            // tslint:disable-next-line:max-line-length\r\n            \".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ChoiceGroup + \" input[type=radio]:checked+label>.\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ChoiceGroupIcon + \" { border-color: \" + primaryColour + \" } \") +\r\n            (\r\n            // tslint:disable-next-line:max-line-length\r\n            \".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ChoiceGroup + \" input[type=radio]:hover+label>.\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ChoiceGroupIcon + \" { border-color: \" + secondaryColour + \" } \") +\r\n            (\r\n            // tslint:disable-next-line:max-line-length\r\n            \".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ChoiceGroup + \" input[type=radio]:checked+label>.\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ChoiceGroupIcon + \">span { background-color: \" + primaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].SubmitButton + \" { background-color: \" + primaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].SubmitButton + \":hover { background-color: \" + secondaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].CancelButton + \" { background-color: \" + primaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].CancelButton + \":hover { background-color: \" + secondaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Link + \" { color: \" + primaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Link + \":hover { color: \" + secondaryColour + \" } \") +\r\n            (\".\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].ThanksPanelTitle + \" { color: \" + primaryColour + \" } \") +\r\n            (\"#\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].TPromptTitle + \" { color: \" + primaryColour + \" } \") +\r\n            (\"#\" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].TFormTitle + \" { color: \" + primaryColour + \" } \");\r\n    document.body.appendChild(sheet);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UaGVtZS50cz9mMDRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFNkM7QUFFaEQsSUFBSSxvQkFBb0IsR0FBRyxTQUFTLENBQUM7QUFDckMsSUFBSSxzQkFBc0IsR0FBRyxTQUFTLENBQUM7QUFFdkM7Ozs7R0FJRztBQUNJLFNBQVMsVUFBVSxDQUFDLGFBQWlDLEVBQUUsZUFBbUM7SUFBdEUseURBQWlDO0lBQUUsNkRBQW1DO0lBQ2hHLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDbkIsYUFBYSxHQUFHLG9CQUFvQixDQUFDO0tBQ3JDO0lBRUQsSUFBSSxDQUFDLGVBQWUsRUFBRTtRQUNyQixlQUFlLEdBQUcsc0JBQXNCLENBQUM7S0FDekM7SUFFRCxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRTVDLEtBQUssQ0FBQyxXQUFXO1FBQ2hCLE1BQUksdURBQU8sQ0FBQyxhQUFhLG1DQUE4QixhQUFhLFFBQUs7YUFDekUsTUFBSSx1REFBTyxDQUFDLGFBQWEsbUNBQThCLGVBQWUsUUFBSzthQUMzRSxNQUFJLHVEQUFPLENBQUMsbUJBQW1CLDZCQUF3QixhQUFhLFFBQUs7YUFDekUsTUFBSSx1REFBTyxDQUFDLGFBQWEsNkJBQXdCLGFBQWEsUUFBSzs7WUFDbkUsMkNBQTJDO1lBQzNDLE1BQUksdURBQU8sQ0FBQyxXQUFXLDBDQUFxQyx1REFBTyxDQUFDLGVBQWUseUJBQW9CLGFBQWEsUUFBSzs7WUFDekgsMkNBQTJDO1lBQzNDLE1BQUksdURBQU8sQ0FBQyxXQUFXLHdDQUFtQyx1REFBTyxDQUFDLGVBQWUseUJBQW9CLGVBQWUsUUFBSzs7WUFDekgsMkNBQTJDO1lBQzNDLE1BQUksdURBQU8sQ0FBQyxXQUFXLDBDQUFxQyx1REFBTyxDQUFDLGVBQWUsa0NBQTZCLGFBQWEsUUFBSzthQUNsSSxNQUFJLHVEQUFPLENBQUMsWUFBWSw2QkFBd0IsYUFBYSxRQUFLO2FBQ2xFLE1BQUksdURBQU8sQ0FBQyxZQUFZLG1DQUE4QixlQUFlLFFBQUs7YUFDMUUsTUFBSSx1REFBTyxDQUFDLFlBQVksNkJBQXdCLGFBQWEsUUFBSzthQUNsRSxNQUFJLHVEQUFPLENBQUMsWUFBWSxtQ0FBOEIsZUFBZSxRQUFLO2FBQzFFLE1BQUksdURBQU8sQ0FBQyxJQUFJLGtCQUFhLGFBQWEsUUFBSzthQUMvQyxNQUFJLHVEQUFPLENBQUMsSUFBSSx3QkFBbUIsZUFBZSxRQUFLO2FBQ3ZELE1BQUksdURBQU8sQ0FBQyxnQkFBZ0Isa0JBQWEsYUFBYSxRQUFLO2FBQzNELE1BQUksbURBQUcsQ0FBQyxZQUFZLGtCQUFhLGFBQWEsUUFBSzthQUNuRCxNQUFJLG1EQUFHLENBQUMsVUFBVSxrQkFBYSxhQUFhLFFBQUssRUFBQztJQUVuRCxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsQyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVGhlbWUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGhlbWUudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0aGUgVUkgVGhlbWVcclxuICovXHJcblxyXG5pbXBvcnQgeyBDbGFzc2VzLCBJRHMgfSBmcm9tIFwiLi9VSS9VaUNvbnN0YW50c1wiO1xyXG5cclxubGV0IGRlZmF1bHRQcmltYXJ5Q29sb3VyID0gXCIjMDE2N0IwXCI7XHJcbmxldCBkZWZhdWx0U2Vjb25kYXJ5Q29sb3VyID0gXCIjMTk0Nzg5XCI7XHJcblxyXG4vKipcclxuICogSW5pdFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJpbWFyeUNvbG91ciBQcmltYXJ5IENvbG91clxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2Vjb25kYXJ5Q29sb3VyIFNlY29uZGFyeSBDb2xvdXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKHByaW1hcnlDb2xvdXI6IHN0cmluZyA9IHVuZGVmaW5lZCwgc2Vjb25kYXJ5Q29sb3VyOiBzdHJpbmcgPSB1bmRlZmluZWQpIHtcclxuXHRpZiAoIXByaW1hcnlDb2xvdXIpIHtcclxuXHRcdHByaW1hcnlDb2xvdXIgPSBkZWZhdWx0UHJpbWFyeUNvbG91cjtcclxuXHR9XHJcblxyXG5cdGlmICghc2Vjb25kYXJ5Q29sb3VyKSB7XHJcblx0XHRzZWNvbmRhcnlDb2xvdXIgPSBkZWZhdWx0U2Vjb25kYXJ5Q29sb3VyO1xyXG5cdH1cclxuXHJcblx0bGV0IHNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cclxuXHRzaGVldC50ZXh0Q29udGVudCA9XHJcblx0XHRgLiR7Q2xhc3Nlcy5PdmVyYWxsQW5jaG9yfTpmb2N1cyB7IGJhY2tncm91bmQtY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLk92ZXJhbGxBbmNob3J9OmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogJHtzZWNvbmRhcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5PdmVyYWxsQW5jaG9yQWN0aXZlfSB7IGJhY2tncm91bmQtY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLlNwaW5uZXJDaXJjbGV9IHsgYmFja2dyb3VuZC1jb2xvcjogJHtwcmltYXJ5Q29sb3VyfSB9IGAgK1xyXG5cdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0YC4ke0NsYXNzZXMuQ2hvaWNlR3JvdXB9IGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQrbGFiZWw+LiR7Q2xhc3Nlcy5DaG9pY2VHcm91cEljb259IHsgYm9yZGVyLWNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXHJcblx0XHRgLiR7Q2xhc3Nlcy5DaG9pY2VHcm91cH0gaW5wdXRbdHlwZT1yYWRpb106aG92ZXIrbGFiZWw+LiR7Q2xhc3Nlcy5DaG9pY2VHcm91cEljb259IHsgYm9yZGVyLWNvbG9yOiAke3NlY29uZGFyeUNvbG91cn0gfSBgICtcclxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdGAuJHtDbGFzc2VzLkNob2ljZUdyb3VwfSBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkK2xhYmVsPi4ke0NsYXNzZXMuQ2hvaWNlR3JvdXBJY29ufT5zcGFuIHsgYmFja2dyb3VuZC1jb2xvcjogJHtwcmltYXJ5Q29sb3VyfSB9IGAgK1xyXG5cdFx0YC4ke0NsYXNzZXMuU3VibWl0QnV0dG9ufSB7IGJhY2tncm91bmQtY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLlN1Ym1pdEJ1dHRvbn06aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAke3NlY29uZGFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLkNhbmNlbEJ1dHRvbn0geyBiYWNrZ3JvdW5kLWNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5DYW5jZWxCdXR0b259OmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogJHtzZWNvbmRhcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5MaW5rfSB7IGNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5MaW5rfTpob3ZlciB7IGNvbG9yOiAke3NlY29uZGFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLlRoYW5rc1BhbmVsVGl0bGV9IHsgY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAjJHtJRHMuVFByb21wdFRpdGxlfSB7IGNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgIyR7SURzLlRGb3JtVGl0bGV9IHsgY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgO1xyXG5cclxuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNoZWV0KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Theme.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Files/Manifest.ts":
/*!*************************************************!*\
  !*** ./scripts/app/Transport/Files/Manifest.ts ***!
  \*************************************************/
/*! exports provided: Manifest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Manifest\", function() { return Manifest; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Version__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../Version */ \"./scripts/app/Version.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../Window/Window */ \"./scripts/app/Window/Window.ts\");\n/**\r\n * Manifest.ts\r\n * Module for managing the manifest file\r\n */\r\n\r\n\r\n\r\n\r\nvar Manifest = /** @class */ (function () {\r\n    function Manifest(manifestType, appId, submitTime, type, clientFeedbackId, applicationGroup, telemetryGroup, webGroup) {\r\n        this.manifestData = {\r\n            appId: appId,\r\n            application: applicationGroup,\r\n            clientFeedbackId: clientFeedbackId,\r\n            manifestType: manifestType,\r\n            source: \"Client\",\r\n            submitTime: submitTime,\r\n            telemetry: telemetryGroup,\r\n            type: sanitizeType(type),\r\n            web: webGroup,\r\n            sdkVersion: _Constants__WEBPACK_IMPORTED_MODULE_0__[\"SDK_VERSION_PREFIX\"]\r\n                + (_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.sdkVersion !== undefined ?\r\n                    _Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.sdkVersion : _Version__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\r\n        };\r\n    }\r\n    Manifest.prototype.getExtendedManifestData = function () {\r\n        return this.manifestData.application.extendedManifestData;\r\n    };\r\n    Manifest.prototype.setComment = function (comment) {\r\n        this.manifestData.comment = comment;\r\n    };\r\n    Manifest.prototype.setEmail = function (email) {\r\n        this.manifestData.email = email;\r\n    };\r\n    Manifest.prototype.setCategory = function (category) {\r\n        this.manifestData.telemetry = this.manifestData.telemetry || {};\r\n        this.manifestData.telemetry.featureArea = category;\r\n    };\r\n    Manifest.prototype.setAppData = function (appData) {\r\n        this.manifestData.application = this.manifestData.application || {};\r\n        this.manifestData.application.appData = appData;\r\n    };\r\n    Manifest.prototype.setExtendedManifestData = function (extendedManifestData) {\r\n        this.manifestData.application = this.manifestData.application || {};\r\n        this.manifestData.application.extendedManifestData = extendedManifestData;\r\n    };\r\n    Manifest.prototype.setClientFeedbackId = function (clientFeedbackId) {\r\n        this.manifestData.clientFeedbackId = clientFeedbackId;\r\n    };\r\n    Manifest.prototype.getClientFeedbackId = function () {\r\n        return this.manifestData.clientFeedbackId;\r\n    };\r\n    Manifest.prototype.setComplianceInformation = function (authenticationType, ageGroup, sendFeedbackPolicyValue, sendSurveyPolicyValue, screenshotPolicyValue, emailPolicyValue) {\r\n        this.manifestData.complianceChecks = {\r\n            authenticationType: authenticationType,\r\n            ageGroup: ageGroup,\r\n            policyAllowFeedback: sendFeedbackPolicyValue,\r\n            policyAllowSurvey: sendSurveyPolicyValue,\r\n            policyAllowScreenshot: screenshotPolicyValue,\r\n            policyAllowContact: emailPolicyValue,\r\n        };\r\n    };\r\n    /**\r\n     * Set freeform custom values in manifest. Throws if values are already set.\r\n     * @param values the values as a JS object\r\n     */\r\n    Manifest.prototype.setValues = function (values) {\r\n        if (values) {\r\n            for (var field in values) {\r\n                if (values.hasOwnProperty(field)) {\r\n                    if (this.manifestData.hasOwnProperty(field)) {\r\n                        this.manifestData[field] = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"overrideValues\"](values[field], this.manifestData[field]);\r\n                    }\r\n                    else {\r\n                        this.manifestData[field] = values[field];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Manifest.prototype.getContent = function () {\r\n        return new Blob([JSON.stringify(this.manifestData)], { type: \"application/json\" });\r\n    };\r\n    return Manifest;\r\n}());\r\n\r\nfunction sanitizeType(type) {\r\n    if (type === \"Survey\") {\r\n        return type;\r\n    }\r\n    else {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"][type];\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvRmlsZXMvTWFuaWZlc3QudHM/Y2NmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0dBR0c7QUFHa0U7QUFDOUI7QUFDRDtBQUNVO0FBRWhEO0lBR0Msa0JBQW1CLFlBQW9CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsSUFBMEIsRUFDckcsZ0JBQXdCLEVBQUUsZ0JBQTBDLEVBQUUsY0FBc0MsRUFDNUcsUUFBMEI7UUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNuQixLQUFLLEVBQUUsS0FBSztZQUNaLFdBQVcsRUFBRSxnQkFBZ0I7WUFDN0IsZ0JBQWdCLEVBQUUsZ0JBQWdCO1lBQ2xDLFlBQVksRUFBRSxZQUFZO1lBQzFCLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFNBQVMsRUFBRSxjQUFjO1lBQ3pCLElBQUksRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQ3hCLEdBQUcsRUFBRSxRQUFRO1lBQ2IsVUFBVSxFQUFFLDZEQUFrQjtrQkFDM0IsQ0FBQyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDO29CQUMvRCxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxnREFBTyxDQUFDO1NBQzFELENBQUM7SUFDSCxDQUFDO0lBRU0sMENBQXVCLEdBQTlCO1FBQ0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQztJQUMzRCxDQUFDO0lBRU0sNkJBQVUsR0FBakIsVUFBa0IsT0FBZTtRQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDckMsQ0FBQztJQUVNLDJCQUFRLEdBQWYsVUFBZ0IsS0FBYTtRQUM1QixJQUFJLENBQUMsWUFBWSxD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dHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWFuaWZlc3QudHNcclxuICogTW9kdWxlIGZvciBtYW5hZ2luZyB0aGUgbWFuaWZlc3QgZmlsZVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IElGaWxlIH0gZnJvbSBcIi4vSUZpbGVcIjtcclxuaW1wb3J0IHsgRmVlZGJhY2tUeXBlLCBTREtfVkVSU0lPTl9QUkVGSVggfSBmcm9tIFwiLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0IFZlcnNpb24gZnJvbSBcIi4vLi4vLi4vVmVyc2lvblwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vLi4vLi4vV2luZG93L1dpbmRvd1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hbmlmZXN0IGltcGxlbWVudHMgSUZpbGUge1xyXG5cdHByaXZhdGUgbWFuaWZlc3REYXRhOiBJTWFuaWZlc3REYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IobWFuaWZlc3RUeXBlOiBzdHJpbmcsIGFwcElkOiBudW1iZXIsIHN1Ym1pdFRpbWU6IHN0cmluZywgdHlwZTogTWFuaWZlc3RGZWVkYmFja1R5cGUsXHJcblx0XHRjbGllbnRGZWVkYmFja0lkOiBzdHJpbmcsIGFwcGxpY2F0aW9uR3JvdXA6IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgdGVsZW1ldHJ5R3JvdXA6IElNYW5pZmVzdERhdGFUZWxlbWV0cnksXHJcblx0XHR3ZWJHcm91cDogSU1hbmlmZXN0RGF0YVdlYikge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEgPSB7XHJcblx0XHRcdGFwcElkOiBhcHBJZCxcclxuXHRcdFx0YXBwbGljYXRpb246IGFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdGNsaWVudEZlZWRiYWNrSWQ6IGNsaWVudEZlZWRiYWNrSWQsXHJcblx0XHRcdG1hbmlmZXN0VHlwZTogbWFuaWZlc3RUeXBlLFxyXG5cdFx0XHRzb3VyY2U6IFwiQ2xpZW50XCIsXHJcblx0XHRcdHN1Ym1pdFRpbWU6IHN1Ym1pdFRpbWUsXHJcblx0XHRcdHRlbGVtZXRyeTogdGVsZW1ldHJ5R3JvdXAsXHJcblx0XHRcdHR5cGU6IHNhbml0aXplVHlwZSh0eXBlKSxcclxuXHRcdFx0d2ViOiB3ZWJHcm91cCxcclxuXHRcdFx0c2RrVmVyc2lvbjogU0RLX1ZFUlNJT05fUFJFRklYXHJcblx0XHRcdFx0KyAoV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5zZGtWZXJzaW9uICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdFx0V2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5zZGtWZXJzaW9uIDogVmVyc2lvbiksXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEV4dGVuZGVkTWFuaWZlc3REYXRhKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pZmVzdERhdGEuYXBwbGljYXRpb24uZXh0ZW5kZWRNYW5pZmVzdERhdGE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29tbWVudChjb21tZW50OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmNvbW1lbnQgPSBjb21tZW50O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmVtYWlsID0gZW1haWw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5ID0gdGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5IHx8IHt9O1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5LmZlYXR1cmVBcmVhID0gY2F0ZWdvcnk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0QXBwRGF0YShhcHBEYXRhOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmFwcGxpY2F0aW9uID0gdGhpcy5tYW5pZmVzdERhdGEuYXBwbGljYXRpb24gfHwge307XHJcblx0XHR0aGlzLm1hbmlmZXN0RGF0YS5hcHBsaWNhdGlvbi5hcHBEYXRhID0gYXBwRGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRFeHRlbmRlZE1hbmlmZXN0RGF0YShleHRlbmRlZE1hbmlmZXN0RGF0YTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm1hbmlmZXN0RGF0YS5hcHBsaWNhdGlvbiA9IHRoaXMubWFuaWZlc3REYXRhLmFwcGxpY2F0aW9uIHx8IHt9O1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEuYXBwbGljYXRpb24uZXh0ZW5kZWRNYW5pZmVzdERhdGEgPSBleHRlbmRlZE1hbmlmZXN0RGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDbGllbnRGZWVkYmFja0lkKGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEuY2xpZW50RmVlZGJhY2tJZCA9IGNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2xpZW50RmVlZGJhY2tJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFuaWZlc3REYXRhLmNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29tcGxpYW5jZUluZm9ybWF0aW9uKGF1dGhlbnRpY2F0aW9uVHlwZTogc3RyaW5nLCBhZ2VHcm91cDogc3RyaW5nLCBzZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZTogc3RyaW5nLFxyXG5cdFx0c2VuZFN1cnZleVBvbGljeVZhbHVlOiBzdHJpbmcsIHNjcmVlbnNob3RQb2xpY3lWYWx1ZTogc3RyaW5nLCBlbWFpbFBvbGljeVZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmNvbXBsaWFuY2VDaGVja3MgPSB7XHJcblx0XHRcdGF1dGhlbnRpY2F0aW9uVHlwZTogYXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0XHRhZ2VHcm91cDogYWdlR3JvdXAsXHJcblx0XHRcdHBvbGljeUFsbG93RmVlZGJhY2s6IHNlbmRGZWVkYmFja1BvbGljeVZhbHVlLFxyXG5cdFx0XHRwb2xpY3lBbGxvd1N1cnZleTogc2VuZFN1cnZleVBvbGljeVZhbHVlLFxyXG5cdFx0XHRwb2xpY3lBbGxvd1NjcmVlbnNob3Q6IHNjcmVlbnNob3RQb2xpY3lWYWx1ZSxcclxuXHRcdFx0cG9saWN5QWxsb3dDb250YWN0OiBlbWFpbFBvbGljeVZhbHVlLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmcmVlZm9ybSBjdXN0b20gdmFsdWVzIGluIG1hbmlmZXN0LiBUaHJvd3MgaWYgdmFsdWVzIGFyZSBhbHJlYWR5IHNldC5cclxuXHQgKiBAcGFyYW0gdmFsdWVzIHRoZSB2YWx1ZXMgYXMgYSBKUyBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0VmFsdWVzKHZhbHVlczogb2JqZWN0KSB7XHJcblx0XHRpZiAodmFsdWVzKSB7XHJcblx0XHRcdGZvciAobGV0IGZpZWxkIGluIHZhbHVlcykge1xyXG5cdFx0XHRcdGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5tYW5pZmVzdERhdGEuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0XHRcdCg8YW55PiB0aGlzLm1hbmlmZXN0RGF0YSlbZmllbGRdID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMoKDxhbnk+IHZhbHVlcylbZmllbGRdLCAoPGFueT4gdGhpcy5tYW5pZmVzdERhdGEpW2ZpZWxkXSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQoPGFueT4gdGhpcy5tYW5pZmVzdERhdGEpW2ZpZWxkXSA9ICg8YW55PiB2YWx1ZXMpW2ZpZWxkXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDb250ZW50KCk6IEJsb2Ige1xyXG5cdFx0cmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh0aGlzLm1hbmlmZXN0RGF0YSldLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiIH0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2FuaXRpemVUeXBlKHR5cGU6IE1hbmlmZXN0RmVlZGJhY2tUeXBlKTogc3RyaW5nIHtcclxuXHRpZiAodHlwZSA9PT0gXCJTdXJ2ZXlcIikge1xyXG5cdFx0cmV0dXJuIHR5cGU7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBGZWVkYmFja1R5cGVbdHlwZV07XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBNYW5pZmVzdEZlZWRiYWNrVHlwZSA9IEZlZWRiYWNrVHlwZSB8IFwiU3VydmV5XCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciB0aGUgbWFuaWZlc3QgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhIHtcclxuXHQvLyAjcmVnaW9uIFwiUmVxdWlyZWQgcHJvcGVydGllc1wiXHJcblx0bWFuaWZlc3RUeXBlOiBzdHJpbmc7XHJcblx0YXBwSWQ6IG51bWJlcjtcclxuXHRzdWJtaXRUaW1lOiBzdHJpbmc7XHJcblx0c291cmNlOiBzdHJpbmc7XHJcblx0dHlwZTogc3RyaW5nO1xyXG5cdGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHRzZGtWZXJzaW9uOiBzdHJpbmc7XHJcblx0Ly8gI2VuZHJlZ2lvbiBcIlJlcXVpcmVkIHByb3BlcnRpZXNcIlxyXG5cdGNvbW1lbnQ/OiBzdHJpbmc7XHJcblx0ZW1haWw/OiBzdHJpbmc7XHJcblx0cmF0aW5nPzogbnVtYmVyO1xyXG5cdHN1cnZleT86IElNYW5pZmVzdERhdGFTdXJ2ZXk7XHJcblx0d2ViPzogSU1hbmlmZXN0RGF0YVdlYjtcclxuXHRhcHBsaWNhdGlvbj86IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbjtcclxuXHR0ZWxlbWV0cnk/OiBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5O1xyXG5cdGNvbXBsaWFuY2VDaGVja3M/OiBJTWFuaWZlc3RDb21wbGlhbmNlQ2hlY2tzO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBzdXJ2ZXkgcmVsYXRlZCBwcm9wZXJ0aWVzIGluIG1hbmlmZXN0XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElNYW5pZmVzdERhdGFTdXJ2ZXkge1xyXG5cdHN1cnZleUlkOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGFwcGxpY2F0aW9uIHJlbGF0ZWQgcHJvcGVydGllcyBpbiBtYW5pZmVzdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhQXBwbGljYXRpb24ge1xyXG5cdGFwcERhdGE/OiBzdHJpbmc7XHJcblx0ZXh0ZW5kZWRNYW5pZmVzdERhdGE/OiBzdHJpbmc7XHJcblx0ZmVlZGJhY2tUZW5hbnQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHRlbGVtZXRyeSByZWxhdGVkIHByb3BlcnRpZXMgaW4gbWFuaWZlc3RcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSB7XHJcblx0YXVkaWVuY2U/OiBzdHJpbmc7XHJcblx0YXVkaWVuY2VHcm91cD86IHN0cmluZztcclxuXHRjaGFubmVsPzogc3RyaW5nO1xyXG5cdGRldmljZUlkPzogc3RyaW5nO1xyXG5cdGRldmljZVR5cGU/OiBzdHJpbmc7XHJcblx0ZXJyb3JDbGFzc2lmaWNhdGlvbj86IHN0cmluZztcclxuXHRlcnJvckNvZGU/OiBzdHJpbmc7XHJcblx0ZXJyb3JOYW1lPzogc3RyaW5nO1xyXG5cdGZlYXR1cmVBcmVhPzogc3RyaW5nO1xyXG5cdGZsaWdodHM/OiBzdHJpbmc7XHJcblx0ZmxpZ2h0U291cmNlPzogc3RyaW5nO1xyXG5cdGZ1bmRhbWVudGFsQXJlYT86IHN0cmluZztcclxuXHRpbnN0YWxsYXRpb25UeXBlPzogc3RyaW5nO1xyXG5cdGlzTG9nSW5jbHVkZWQ/OiBib29sZWFuO1xyXG5cdGlzVXNlclN1YnNjcmliZXI/OiBib29sZWFuO1xyXG5cdGxvZ2dhYmxlVXNlcklkPzogc3RyaW5nO1xyXG5cdG9mZmljZUFyY2hpdGVjdHVyZT86IHN0cmluZztcclxuXHRvZmZpY2VCdWlsZD86IHN0cmluZztcclxuXHRvZmZpY2VFZGl0aW5nTGFuZz86IG51bWJlcjtcclxuXHRvZmZpY2VVSUxhbmc/OiBudW1iZXI7XHJcblx0b3NCaXRuZXNzPzogbnVtYmVyO1xyXG5cdG9zQnVpbGQ/OiBzdHJpbmc7XHJcblx0b3NVc2VyTGFuZz86IG51bWJlcjtcclxuXHRwbGF0Zm9ybT86IHN0cmluZztcclxuXHRwcm9jZXNzU2Vzc2lvbklkPzogc3RyaW5nO1xyXG5cdHJpbmdJZD86IG51bWJlcjtcclxuXHRza3U/OiBzdHJpbmc7XHJcblx0c291cmNlQ29udGV4dD86IHN0cmluZztcclxuXHRzeXN0ZW1Qcm9kdWN0TmFtZT86IHN0cmluZztcclxuXHRzeXN0ZW1NYW51ZmFjdHVyZXI/OiBzdHJpbmc7XHJcblx0dGVuYW50SWQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHdlYiByZWxhdGVkIHByb3BlcnRpZXMgaW4gbWFuaWZlc3RcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1hbmlmZXN0RGF0YVdlYiB7XHJcblx0YnJvd3Nlcj86IHN0cmluZztcclxuXHRicm93c2VyVmVyc2lvbj86IHN0cmluZztcclxuXHRkYXRhQ2VudGVyPzogc3RyaW5nO1xyXG5cdHNvdXJjZVBhZ2VOYW1lPzogc3RyaW5nO1xyXG5cdHNvdXJjZVBhZ2VVUkk/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGNvbXBsaWFuY2UgY2hlY2tzIHJlbGF0ZWQgcHJvcGVydGllcyBpbiBtYW5pZmVzdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3RDb21wbGlhbmNlQ2hlY2tzIHtcclxuXHRhdXRoZW50aWNhdGlvblR5cGU/OiBzdHJpbmc7XHJcblx0YWdlR3JvdXA/OiBzdHJpbmc7XHJcblx0cG9saWN5QWxsb3dGZWVkYmFjaz86IHN0cmluZztcclxuXHRwb2xpY3lBbGxvd1N1cnZleT86IHN0cmluZztcclxuXHRwb2xpY3lBbGxvd1NjcmVlbnNob3Q/OiBzdHJpbmc7XHJcblx0cG9saWN5QWxsb3dDb250YWN0Pzogc3RyaW5nO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Files/Manifest.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Files/Screenshot.ts":
/*!***************************************************!*\
  !*** ./scripts/app/Transport/Files/Screenshot.ts ***!
  \***************************************************/
/*! exports provided: Screenshot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Screenshot\", function() { return Screenshot; });\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * Screenshot.ts\r\n * Module for managing the screenshot file\r\n */\r\n\r\nvar Screenshot = /** @class */ (function () {\r\n    function Screenshot(screenshot) {\r\n        this.screenshot = screenshot;\r\n    }\r\n    Screenshot.prototype.getContent = function () {\r\n        var imgString;\r\n        try {\r\n            imgString = this.screenshot.toDataURL(\"image/jpeg\").split(\",\")[1];\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"EventIds\"].Shared.Screenshot.GetContent.Failed.DefaultImage.Returned.VALUE, 2 /* Error */, { ErrorMessage: e.toString() });\r\n            // return an image with \"Screenshot cannot be captured\" message\r\n            imgString = \"iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII=\";\r\n        }\r\n        var blobBin = atob(imgString);\r\n        var array = [];\r\n        for (var i = 0; i < blobBin.length; i++) {\r\n            array.push(blobBin.charCodeAt(i));\r\n        }\r\n        var file = new Blob([new Uint8Array(array)], { type: \"image/jpeg\" });\r\n        return file;\r\n    };\r\n    return Screenshot;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvRmlsZXMvU2NyZWVuc2hvdC50cz83OTlmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7R0FHRztBQUlnRDtBQUVuRDtJQUdDLG9CQUFhLFVBQTZCO1FBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQzlCLENBQUM7SUFFTSwrQkFBVSxHQUFqQjtRQUNDLElBQUksU0FBaUIsQ0FBQztRQUN0QixJQUFJO1lBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsRTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxpQkFDcEYsRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUV6RCwrREFBK0Q7WUFDL0QsU0FBUyxHQUFHLGs1QkFBazVCLENBQUM7U0FDLzVCO1FBRUQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxJQUFJLEdBQVMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxFQUFFLFlBQVksRUFBQyxDQUFDLENBQUM7UUFFekUsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBQ0YsaUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVHJhbnNwb3J0L0ZpbGVzL1NjcmVlbnNob3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2NyZWVuc2hvdC50c1xyXG4gKiBNb2R1bGUgZm9yIG1hbmFnaW5nIHRoZSBzY3JlZW5zaG90IGZpbGVcclxuICovXHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZSBtYXgtbGluZS1sZW5ndGggKi9cclxuaW1wb3J0IHtJRmlsZX0gZnJvbSBcIi4vSUZpbGVcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi8uLi8uLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JlZW5zaG90IGltcGxlbWVudHMgSUZpbGUge1xyXG5cdHByaXZhdGUgc2NyZWVuc2hvdDogSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yIChzY3JlZW5zaG90OiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG5cdFx0dGhpcy5zY3JlZW5zaG90ID0gc2NyZWVuc2hvdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDb250ZW50KCk6IEJsb2Ige1xyXG5cdFx0bGV0IGltZ1N0cmluZzogc3RyaW5nO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aW1nU3RyaW5nID0gdGhpcy5zY3JlZW5zaG90LnRvRGF0YVVSTChcImltYWdlL2pwZWdcIikuc3BsaXQoXCIsXCIpWzFdO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuR2V0Q29udGVudC5GYWlsZWQuRGVmYXVsdEltYWdlLlJldHVybmVkLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsIHsgRXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCkgfSk7XHJcblxyXG5cdFx0XHQvLyByZXR1cm4gYW4gaW1hZ2Ugd2l0aCBcIlNjcmVlbnNob3QgY2Fubm90IGJlIGNhcHR1cmVkXCIgbWVzc2FnZVxyXG5cdFx0XHRpbWdTdHJpbmcgPSBcImlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFOMEFBQUErQVFNQUFBQ1Yyb3gxQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUFaUVRGUkZBQUFBLy8vL3BkbWYzUUFBQUFsd1NGbHpBQUFPd2dBQURzSUJGU2hLZ0FBQUFqdEpSRUZVU01mVjFNMXJFMEVVQUhEQmE1cjhBOXZrTDZnaUZpSTBKSCtJaDlLTHg4VGF1a2tKdWdTaEhnckp6WXZrVlBRa1VxZ3dTZVBMRUVMYVUrekJnOEpLVnZTUVFOeWRsc2Fkd0NRenppUlo4MkVUeFlNZmMzZ0Q4K014anpjZlY4VDgwZjB2a1E4aTY4dEFQU01TUTBQa0k2UURwRVBrWkJIeTFXcDEvempuaTJsclpxMlQydWlrREcxN0E1NEhyMHZzdndYSWwzV1h0MDJ6ZUlIUUJTcTNEeEhrN1ZPNTV6SUZnTExyY21hYVFCR2lxQ3dRQXJCVlFUYk5aT0ROQkI1RWUyRUVyNWVHaURHNGs1bWNxY3krS3NoK044SzIrYlJJMVo2OGZSTVZvVitYbWNGd3BRSlpHb2hwa2RzMVd0anBwR0xhcTUxYTJiOHlwMzEwVVc5L0g4VmZSajY4Q0lLUnNXQ0ZQQ0NFTTQxOVM0YlNBT21QbWRiM1RCclE0bG1udDluNC9IaXY1ZlR1bnNPelhiSmZMUjJyVTNGZDV1Z09lOW13MGx2Tk9DTnh5RGRJSGtwSEN2MFMzYStNUzB5VCs0d2tBS3gxZ0JKZVZ4ZU1SaFNlTlpwWEpmWSt6cUFWbCtnMG1DRlJKTWdzNm95OStNQ01yV1phSkp3aVdGanVXY0lTaGYrV2syVzllNTlPSHUyMVdQZHNzd1pOTEtzOXdWNzdtSmlhTVZiQlErLzFqR1pEb2ZGTHVPQlUvanpHNk9RS25rTE9aNUV2d29sTVgyUTE5VEFYOU1XeXkvYU5hcmV3ZlpwdGVjaGRMbjhCM1RhdEIvWVhCMmo0TUt3M2pUSEtYNEFPMENicWFTZGRNb2tIVWJyMFBwU1htRkc0TzRXSXU4NmFzQ1ZpaGZvTTZuVW1zZTVnR2tiSk95VGhWZXNYNFVJMGQwMExCWU1yNTVWdUlabDhNa1kxdU9pVHk5djNjK1NodVhqNStOZFFkTDhCKzVnbXc4V1p1UkVBQUFBQVNVVk9SSzVDWUlJPVwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBibG9iQmluID0gYXRvYihpbWdTdHJpbmcpO1xyXG5cdFx0bGV0IGFycmF5ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGJsb2JCaW4ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0YXJyYXkucHVzaChibG9iQmluLmNoYXJDb2RlQXQoaSkpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGZpbGU6IEJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXSwge3R5cGU6IFwiaW1hZ2UvanBlZ1wifSk7XHJcblxyXG5cdFx0cmV0dXJuIGZpbGU7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Files/Screenshot.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Petrol.ts":
/*!*****************************************!*\
  !*** ./scripts/app/Transport/Petrol.ts ***!
  \*****************************************/
/*! exports provided: send */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"send\", function() { return send; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n\r\nvar HTTP_TIMEOUT = 8000; // timeout in milliseconds\r\n/**\r\n * Make an http request with retries\r\n * @param method the http method \"GET\", \"POST\" etc\r\n * @param url the url\r\n * @param requestBody the request body\r\n * @param maxRetries the maximum number of retries\r\n * @param onLoad the onload handler\r\n */\r\nfunction makeHttpRequest(method, url, requestBody, maxRetries, onLoad) {\r\n    var makeRequest = function (retries, timeout) {\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(method, url, true);\r\n            xhr.timeout = timeout;\r\n            xhr.onload = function () { onLoad(xhr, resolve, reject); };\r\n            xhr.ontimeout = function () {\r\n                if (retries > 0) {\r\n                    // double the timeout and retry it\r\n                    makeRequest(retries - 1, timeout * 2).then(resolve, reject);\r\n                }\r\n                else {\r\n                    reject(new Error(\"Request to '\" + url + \"' timed out. timeout: \" + xhr.timeout));\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                if (retries > 0) {\r\n                    makeRequest(retries - 1, timeout).then(resolve, reject);\r\n                }\r\n                else {\r\n                    reject(new Error(\"Request to '\" + url + \"' errored. \" + xhr.status + \" - \" + xhr.statusText + \" : \" + xhr.responseText));\r\n                }\r\n            };\r\n            xhr.send(requestBody);\r\n        });\r\n    };\r\n    // get the input timeout or using the default value if timeout is not defined\r\n    var httpTimeout = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getCommonInitOptions().petrolTimeout\r\n        ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getCommonInitOptions().petrolTimeout\r\n        : HTTP_TIMEOUT;\r\n    return makeRequest(maxRetries, httpTimeout);\r\n}\r\nvar uploadEndpointInt = \"https://petrol-int.office.microsoft.com/v1/feedback\";\r\nvar uploadEndpointProd = \"https://petrol.office.microsoft.com/v1/feedback\";\r\n/**\r\n * Send a payload to Petrol\r\n * @param isProduction is production?\r\n * @param manifest manifest content\r\n * @param screenshot screenshot content\r\n * @param diagnostics diagnostics content\r\n */\r\nfunction send(isProduction, manifest, screenshot, diagnostics) {\r\n    if (manifest === undefined) {\r\n        return Promise.reject(new Error(\"Manifest cannot be undefined\"));\r\n    }\r\n    var formData = new FormData();\r\n    formData.append(\"Manifest\", manifest);\r\n    if (screenshot) {\r\n        formData.append(\"Screenshot\", screenshot);\r\n    }\r\n    if (diagnostics) {\r\n        formData.append(\"Diagnostics\", diagnostics);\r\n    }\r\n    return makeHttpRequest(\"POST\", isProduction ? uploadEndpointProd : uploadEndpointInt, formData, 2, function (xhr, resolve, reject) {\r\n        if (xhr.status !== 200) {\r\n            reject(new Error(\"Non-200 response with status code: \" + xhr.status + \", response: \" + xhr.responseText));\r\n        }\r\n        resolve();\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvUGV0cm9sLnRzPzU4NjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQWdFO0FBRWhFLElBQU0sWUFBWSxHQUFXLElBQUksQ0FBQyxDQUFDLDBCQUEwQjtBQUM3RDs7Ozs7OztHQU9HO0FBQ0gsU0FBUyxlQUFlLENBQUksTUFBYyxFQUFFLEdBQVcsRUFBRSxXQUFnQixFQUFFLFVBQWtCLEVBQzVGLE1BQWtHO0lBRWxHLElBQUksV0FBVyxHQUNkLFVBQUMsT0FBZSxFQUFFLE9BQWU7UUFDaEMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xDLElBQUksR0FBRyxHQUFtQixJQUFJLGNBQWMsRUFBRSxDQUFDO1lBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM1QixHQUFHLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUN0QixHQUFHLENBQUMsTUFBTSxHQUFHLGNBQVEsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckQsR0FBRyxDQUFDLFNBQVMsR0FBRztnQkFDZixJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7b0JBQ2hCLGtDQUFrQztvQkFDbEMsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQzVEO3FCQUFNO29CQUNOLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxpQkFBZSxHQUFHLDhCQUF5QixHQUFHLENBQUMsT0FBUyxDQUFDLENBQUMsQ0FBQztpQkFDNUU7WUFDRixDQUFDLENBQUM7WUFDRixHQUFHLENBQUMsT0FBTyxHQUFHO2dCQUNiLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRTtvQkFDaEIsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztpQkFDeEQ7cUJBQU07b0JBQ04sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLGlCQUFlLEdBQUcsbUJBQWMsR0FBRyxDQUFDLE1BQU0sV0FBTSxHQUFHLENBQUMsVUFBVSxXQUFNLEdBQUcsQ0FBQyxZQUFjLENBQUMsQ0FBQyxDQUFDO2lCQUMxRztZQUNGLENBQUMsQ0FBQztZQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFFSCw2RUFBNkU7SUFDN0UsSUFBTSxXQUFXLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLGFBQWE7UUFDdkUsQ0FBQyxDQUFDLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxhQUFhO1FBQzFELENBQUMsQ0FBQyxZQUFZLENBQUM7SUFFcEIsT0FBTyxXQUFXLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzdDLENBQUM7QUFFRCxJQUFNLGlCQUFpQixHQUFXLHFEQUFxRCxDQUFDO0FBQ3hGLElBQU0sa0JBQWtCLEdBQVcsaURBQWlELENBQUM7QUFFckY7Ozs7OztHQU1HO0FBQ0ksU0FBUyxJQUFJLENBQUMsWUFBcUIsRUFBRSxRQUFjLEVBQUUsVUFBaUIsRUFBRSxXQUFrQjtJQUNoRyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7UUFDM0IsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUMsQ0FBQztLQUNqRTtJQUVELElBQUksUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7SUFDOUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFdEMsSUFBSSxVQUFVLEVBQUU7UUFDZixRQUFRLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztLQUMxQztJQUVELElBQUksV0FBVyxFQUFFO1FBQ2hCLFFBQVEsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0tBQzVDO0lBRUQsT0FBTyxlQUFlLENBQU0sTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQ3JHLFVBQ0MsR0FBbUIsRUFDbkIsT0FBOEIsRUFDOUIsTUFBNkI7UUFFN0IsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRTtZQUN2QixNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMscUNBQXFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxjQUFjLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7U0FDMUc7UUFDRCxPQUFPLEVBQUUsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RyYW5zcG9ydC9QZXRyb2wudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmNvbnN0IEhUVFBfVElNRU9VVDogbnVtYmVyID0gODAwMDsgLy8gdGltZW91dCBpbiBtaWxsaXNlY29uZHNcclxuLyoqXHJcbiAqIE1ha2UgYW4gaHR0cCByZXF1ZXN0IHdpdGggcmV0cmllc1xyXG4gKiBAcGFyYW0gbWV0aG9kIHRoZSBodHRwIG1ldGhvZCBcIkdFVFwiLCBcIlBPU1RcIiBldGNcclxuICogQHBhcmFtIHVybCB0aGUgdXJsXHJcbiAqIEBwYXJhbSByZXF1ZXN0Qm9keSB0aGUgcmVxdWVzdCBib2R5XHJcbiAqIEBwYXJhbSBtYXhSZXRyaWVzIHRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzXHJcbiAqIEBwYXJhbSBvbkxvYWQgdGhlIG9ubG9hZCBoYW5kbGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlSHR0cFJlcXVlc3Q8VD4obWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCByZXF1ZXN0Qm9keTogYW55LCBtYXhSZXRyaWVzOiBudW1iZXIsXHJcblx0b25Mb2FkOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVzb2x2ZTogKHZhbHVlPzogVCkgPT4gdm9pZCwgcmVqZWN0OiAoZXJyb3I/OiBhbnkpID0+IHZvaWQpID0+IHZvaWRcclxuKTogUHJvbWlzZTxUPiB7XHJcblx0bGV0IG1ha2VSZXF1ZXN0OiAocmV0cmllczogbnVtYmVyLCB0aW1lb3V0OiBudW1iZXIpID0+IFByb21pc2U8VD4gPVxyXG5cdFx0KHJldHJpZXM6IG51bWJlciwgdGltZW91dDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0bGV0IHhocjogWE1MSHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcblx0XHRcdFx0eGhyLnRpbWVvdXQgPSB0aW1lb3V0O1xyXG5cdFx0XHRcdHhoci5vbmxvYWQgPSAoKSA9PiB7IG9uTG9hZCh4aHIsIHJlc29sdmUsIHJlamVjdCk7IH07XHJcblx0XHRcdFx0eGhyLm9udGltZW91dCA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChyZXRyaWVzID4gMCkge1xyXG5cdFx0XHRcdFx0XHQvLyBkb3VibGUgdGhlIHRpbWVvdXQgYW5kIHJldHJ5IGl0XHJcblx0XHRcdFx0XHRcdG1ha2VSZXF1ZXN0KHJldHJpZXMgLSAxLCB0aW1lb3V0ICogMikudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihgUmVxdWVzdCB0byAnJHt1cmx9JyB0aW1lZCBvdXQuIHRpbWVvdXQ6ICR7eGhyLnRpbWVvdXR9YCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0eGhyLm9uZXJyb3IgPSAoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAocmV0cmllcyA+IDApIHtcclxuXHRcdFx0XHRcdFx0bWFrZVJlcXVlc3QocmV0cmllcyAtIDEsIHRpbWVvdXQpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoYFJlcXVlc3QgdG8gJyR7dXJsfScgZXJyb3JlZC4gJHt4aHIuc3RhdHVzfSAtICR7eGhyLnN0YXR1c1RleHR9IDogJHt4aHIucmVzcG9uc2VUZXh0fWApKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHhoci5zZW5kKHJlcXVlc3RCb2R5KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHQvLyBnZXQgdGhlIGlucHV0IHRpbWVvdXQgb3IgdXNpbmcgdGhlIGRlZmF1bHQgdmFsdWUgaWYgdGltZW91dCBpcyBub3QgZGVmaW5lZFxyXG5cdGNvbnN0IGh0dHBUaW1lb3V0ID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnBldHJvbFRpbWVvdXRcclxuXHRcdFx0XHRcdFx0PyBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkucGV0cm9sVGltZW91dFxyXG5cdFx0XHRcdFx0XHQ6IEhUVFBfVElNRU9VVDtcclxuXHJcblx0cmV0dXJuIG1ha2VSZXF1ZXN0KG1heFJldHJpZXMsIGh0dHBUaW1lb3V0KTtcclxufVxyXG5cclxuY29uc3QgdXBsb2FkRW5kcG9pbnRJbnQ6IHN0cmluZyA9IFwiaHR0cHM6Ly9wZXRyb2wtaW50Lm9mZmljZS5taWNyb3NvZnQuY29tL3YxL2ZlZWRiYWNrXCI7XHJcbmNvbnN0IHVwbG9hZEVuZHBvaW50UHJvZDogc3RyaW5nID0gXCJodHRwczovL3BldHJvbC5vZmZpY2UubWljcm9zb2Z0LmNvbS92MS9mZWVkYmFja1wiO1xyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBwYXlsb2FkIHRvIFBldHJvbFxyXG4gKiBAcGFyYW0gaXNQcm9kdWN0aW9uIGlzIHByb2R1Y3Rpb24/XHJcbiAqIEBwYXJhbSBtYW5pZmVzdCBtYW5pZmVzdCBjb250ZW50XHJcbiAqIEBwYXJhbSBzY3JlZW5zaG90IHNjcmVlbnNob3QgY29udGVudFxyXG4gKiBAcGFyYW0gZGlhZ25vc3RpY3MgZGlhZ25vc3RpY3MgY29udGVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmQoaXNQcm9kdWN0aW9uOiBib29sZWFuLCBtYW5pZmVzdDogQmxvYiwgc2NyZWVuc2hvdD86IEJsb2IsIGRpYWdub3N0aWNzPzogQmxvYik6IFByb21pc2U8YW55PiB7XHJcblx0aWYgKG1hbmlmZXN0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCBjYW5ub3QgYmUgdW5kZWZpbmVkXCIpKTtcclxuXHR9XHJcblxyXG5cdGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdGZvcm1EYXRhLmFwcGVuZChcIk1hbmlmZXN0XCIsIG1hbmlmZXN0KTtcclxuXHJcblx0aWYgKHNjcmVlbnNob3QpIHtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcIlNjcmVlbnNob3RcIiwgc2NyZWVuc2hvdCk7XHJcblx0fVxyXG5cclxuXHRpZiAoZGlhZ25vc3RpY3MpIHtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcIkRpYWdub3N0aWNzXCIsIGRpYWdub3N0aWNzKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBtYWtlSHR0cFJlcXVlc3Q8YW55PihcIlBPU1RcIiwgaXNQcm9kdWN0aW9uID8gdXBsb2FkRW5kcG9pbnRQcm9kIDogdXBsb2FkRW5kcG9pbnRJbnQsIGZvcm1EYXRhLCAyLFxyXG5cdFx0ZnVuY3Rpb24gKFxyXG5cdFx0XHR4aHI6IFhNTEh0dHBSZXF1ZXN0LFxyXG5cdFx0XHRyZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsXHJcblx0XHRcdHJlamVjdDogKGVycm9yPzogYW55KSA9PiB2b2lkXHJcblx0XHQpOiB2b2lkIHtcclxuXHRcdFx0aWYgKHhoci5zdGF0dXMgIT09IDIwMCkge1xyXG5cdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJOb24tMjAwIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgeGhyLnN0YXR1cyArIFwiLCByZXNwb25zZTogXCIgKyB4aHIucmVzcG9uc2VUZXh0KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0fSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Petrol.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Transport.ts":
/*!********************************************!*\
  !*** ./scripts/app/Transport/Transport.ts ***!
  \********************************************/
/*! exports provided: Transporter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Transporter\", function() { return Transporter; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _Petrol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Petrol */ \"./scripts/app/Transport/Petrol.ts\");\n/* harmony import */ var _Files_Screenshot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Files/Screenshot */ \"./scripts/app/Transport/Files/Screenshot.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Files_Manifest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Files/Manifest */ \"./scripts/app/Transport/Files/Manifest.ts\");\n/**\r\n * Feedback.ts\r\n *\r\n * Module for payload transport.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Transporter = /** @class */ (function () {\r\n    function Transporter(environment, manifestType, appId, type, applicationGroup, telemetryGroup, webGroup) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h;\r\n        this.clientFeedbackId = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"guid\"]();\r\n        this.manifest = new _Files_Manifest__WEBPACK_IMPORTED_MODULE_6__[\"Manifest\"](manifestType, appId, new Date().toISOString(), type, this.clientFeedbackId, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, applicationGroup), Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, telemetryGroup), Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, webGroup));\r\n        this.environment = environment;\r\n        this.manifest.setComplianceInformation(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AuthenticationType\"][(_b = ((_a = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _a === void 0 ? void 0 : _a.authenticationType)) !== null && _b !== void 0 ? _b : _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AuthenticationType\"].Unauthenticated], _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AgeGroup\"][(_d = ((_c = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _c === void 0 ? void 0 : _c.ageGroup)) !== null && _d !== void 0 ? _d : _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AgeGroup\"].Undefined], this.ocpsEnumToString((_e = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getInAppFeedbackInitOptions()) === null || _e === void 0 ? void 0 : _e.sendFeedbackPolicyValue), this.ocpsBooleanToString((_f = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getFloodgateInitOptions()) === null || _f === void 0 ? void 0 : _f.surveyEnabled), this.ocpsEnumToString((_g = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _g === void 0 ? void 0 : _g.screenshotPolicyValue), this.ocpsEnumToString((_h = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _h === void 0 ? void 0 : _h.emailPolicyValue));\r\n    }\r\n    Transporter.prototype.getClientFeedbackId = function () {\r\n        return this.clientFeedbackId;\r\n    };\r\n    Transporter.prototype.getExtendedManifestData = function () {\r\n        return this.manifest.getExtendedManifestData();\r\n    };\r\n    Transporter.prototype.setComment = function (comment) {\r\n        this.manifest.setComment(comment);\r\n    };\r\n    Transporter.prototype.setEmail = function (email) {\r\n        this.manifest.setEmail(email);\r\n    };\r\n    Transporter.prototype.setCategory = function (category) {\r\n        this.manifest.setCategory(category);\r\n    };\r\n    Transporter.prototype.setAppData = function (appData) {\r\n        this.manifest.setAppData(appData);\r\n    };\r\n    Transporter.prototype.setExtendedManifestData = function (extendedManifestData) {\r\n        this.manifest.setExtendedManifestData(extendedManifestData);\r\n    };\r\n    Transporter.prototype.setScreenshot = function (screenshot) {\r\n        this.screenshot = new _Files_Screenshot__WEBPACK_IMPORTED_MODULE_4__[\"Screenshot\"](screenshot);\r\n    };\r\n    Transporter.prototype.setClientFeedbackId = function (clientFeedbackId) {\r\n        this.manifest.setClientFeedbackId(clientFeedbackId);\r\n    };\r\n    Transporter.prototype.getManifest = function () {\r\n        return this.manifest;\r\n    };\r\n    /**\r\n     * Set freeform custom values in manifest. Throws if values are already set.\r\n     * @param values the values as a JS object\r\n     */\r\n    Transporter.prototype.setManifestValues = function (values) {\r\n        this.manifest.setValues(values);\r\n    };\r\n    /**\r\n     * Submit the payload\r\n     */\r\n    Transporter.prototype.submit = function () {\r\n        if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().isFeedbackSurveyEnabledByAADC()) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].Shared.Upload.Prevented.VALUE, 2 /* Error */, {\r\n                Data: JSON.stringify({\r\n                    ageGroup: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions().ageGroup,\r\n                    authenticationType: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions().authenticationType,\r\n                }),\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        var manifestContent = this.manifest.getContent();\r\n        var screenshotContent = undefined;\r\n        var clientFeedbackId = this.clientFeedbackId;\r\n        if (this.screenshot) {\r\n            screenshotContent = this.screenshot.getContent();\r\n        }\r\n        return _Petrol__WEBPACK_IMPORTED_MODULE_3__[\"send\"](this.environment === 0 /* Production */, manifestContent, screenshotContent)\r\n            .catch(function onRejected(err) {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().setFeedbackSubmitted(false);\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions().onError(\"Payload submission failed: \" + err.message +\r\n                \". ClientFeedbackId: \" + clientFeedbackId);\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].Shared.Upload.Failed.VALUE, 2 /* Error */, { ErrorMessage: err.message, ClientFeedbackId: clientFeedbackId });\r\n        });\r\n    };\r\n    Transporter.prototype.ocpsBooleanToString = function (policyValue) {\r\n        if (policyValue === undefined) {\r\n            return \"Not Configured\";\r\n        }\r\n        if (policyValue) {\r\n            return \"Enabled\";\r\n        }\r\n        return \"Disabled\";\r\n    };\r\n    Transporter.prototype.ocpsEnumToString = function (policyValue) {\r\n        if (!policyValue) {\r\n            return \"Not Configured\";\r\n        }\r\n        switch (policyValue) {\r\n            case 2 /* Disabled */:\r\n                return \"Disabled\";\r\n            case 1 /* Enabled */:\r\n                return \"Enabled\";\r\n            default:\r\n                return \"Not Configured\";\r\n        }\r\n    };\r\n    return Transporter;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvVHJhbnNwb3J0LnRzPzM1MjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRzs7QUFHaUM7QUFDWTtBQUNiO0FBQ2E7QUFDZ0I7QUFFdkM7QUFHcUQ7QUFJOUU7SUFNQyxxQkFBbUIsV0FBa0MsRUFBRSxZQUFvQixFQUFFLEtBQWEsRUFBRSxJQUEwQixFQUNySCxnQkFBMEMsRUFBRSxjQUFzQyxFQUFFLFFBQTBCOztRQUU5RyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsMkNBQVUsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSx3REFBUSxDQUFDLFlBQVksRUFBRSxLQUFLLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQy9FLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSwyREFBSyxnQkFBZ0IsOERBQVMsY0FBYyw4REFBUyxRQUFRLEVBQUcsQ0FBQztRQUN6RixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUUvQixJQUFJLENBQUMsUUFBUSxDQUFDLHdCQUF3QixDQUFDLCtFQUFrQixPQUFDLE9BQUMsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSwwQ0FBRSxrQkFBa0IsQ0FBQyxtQ0FDekgsK0VBQWtCLENBQUMsZUFBZSxDQUFDLEVBQ25DLHFFQUFRLE9BQUMsT0FBQyxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLDBDQUFFLFFBQVEsQ0FBQyxtQ0FBSSxxRUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUN0RixJQUFJLENBQUMsZ0JBQWdCLE9BQUMsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSwwQ0FBRSx1QkFBdUIsQ0FBQyxFQUNqRyxJQUFJLENBQUMsbUJBQW1CLE9BQUMsZ0VBQWlCLEVBQUUsQ0FBQyx1QkFBdUIs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LEVBQUUsaUJBQWlCLENBQUM7YUFDM0csS0FBSyxDQUNMLFNBQVMsVUFBVSxDQUFDLEdBQVU7WUFDN0IsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNoRCxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsT0FBTyxDQUFDLDZCQUE2QixHQUFHLEdBQUcsQ0FBQyxPQUFPO2dCQUM3RixzQkFBc0IsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzVDLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssaUJBQy9DLEVBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1FBQzdGLENBQUMsQ0FDRCxDQUFDO0lBQ0osQ0FBQztJQUVPLHlDQUFtQixHQUEzQixVQUE0QixXQUFxQjtRQUNoRCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDOUIsT0FBTyxnQkFBZ0IsQ0FBQztTQUN4QjtRQUVELElBQUksV0FBVyxFQUFFO1lBQ2hCLE9BQU8sU0FBUyxDQUFDO1NBQ2pCO1FBRUQsT0FBTyxVQUFVLENBQUM7SUFDbkIsQ0FBQztJQUVPLHNDQUFnQixHQUF4QixVQUF5QixXQUFrQztRQUMxRCxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2pCLE9BQU8sZ0JBQWdCLENBQUM7U0FDeEI7UUFDRCxRQUFRLFdBQVcsRUFBRTtZQUNwQjtnQkFDQyxPQUFPLFVBQVUsQ0FBQztZQUNuQjtnQkFDQyxPQUFPLFNBQVMsQ0FBQztZQUNsQjtnQkFDQyxPQUFPLGdCQUFnQixDQUFDO1NBQ3pCO0lBQ0YsQ0FBQztJQUNGLGtCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RyYW5zcG9ydC9UcmFuc3BvcnQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRmVlZGJhY2sudHNcclxuICpcclxuICogTW9kdWxlIGZvciBwYXlsb2FkIHRyYW5zcG9ydC5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcbmltcG9ydCAqIGFzIFBldHJvbCBmcm9tIFwiLi9QZXRyb2xcIjtcclxuaW1wb3J0IHsgU2NyZWVuc2hvdCB9IGZyb20gXCIuL0ZpbGVzL1NjcmVlbnNob3RcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IE1hbmlmZXN0LCBNYW5pZmVzdEZlZWRiYWNrVHlwZSwgSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uLCBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5LCBJTWFuaWZlc3REYXRhV2ViIH1cclxuXHRmcm9tIFwiLi9GaWxlcy9NYW5pZmVzdFwiO1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgeyBBZ2VHcm91cCwgQXV0aGVudGljYXRpb25UeXBlIH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5cclxuZXhwb3J0IHsgSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uLCBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5LCBJTWFuaWZlc3REYXRhV2ViIH0gZnJvbSBcIi4vRmlsZXMvTWFuaWZlc3RcIlxyXG5cclxuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydGVyIGltcGxlbWVudHMgQXBpLklUcmFuc3BvcnRlciB7XHJcblx0cHJpdmF0ZSBtYW5pZmVzdDogTWFuaWZlc3Q7XHJcblx0cHJpdmF0ZSBzY3JlZW5zaG90OiBTY3JlZW5zaG90O1xyXG5cdHByaXZhdGUgZW52aXJvbm1lbnQ6IENvbnN0YW50cy5FbnZpcm9ubWVudDtcclxuXHRwcml2YXRlIGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGVudmlyb25tZW50OiBDb25zdGFudHMuRW52aXJvbm1lbnQsIG1hbmlmZXN0VHlwZTogc3RyaW5nLCBhcHBJZDogbnVtYmVyLCB0eXBlOiBNYW5pZmVzdEZlZWRiYWNrVHlwZSxcclxuXHRcdGFwcGxpY2F0aW9uR3JvdXA6IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgdGVsZW1ldHJ5R3JvdXA6IElNYW5pZmVzdERhdGFUZWxlbWV0cnksIHdlYkdyb3VwOiBJTWFuaWZlc3REYXRhV2ViKSB7XHJcblxyXG5cdFx0dGhpcy5jbGllbnRGZWVkYmFja0lkID0gVXRpbHMuZ3VpZCgpO1xyXG5cdFx0dGhpcy5tYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChtYW5pZmVzdFR5cGUsIGFwcElkLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIHR5cGUsXHJcblx0XHRcdHRoaXMuY2xpZW50RmVlZGJhY2tJZCwgeyAuLi5hcHBsaWNhdGlvbkdyb3VwIH0sIHsgLi4udGVsZW1ldHJ5R3JvdXAgfSwgeyAuLi53ZWJHcm91cCB9KTtcclxuXHRcdHRoaXMuZW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudDtcclxuXHJcblx0XHR0aGlzLm1hbmlmZXN0LnNldENvbXBsaWFuY2VJbmZvcm1hdGlvbihBdXRoZW50aWNhdGlvblR5cGVbKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKT8uYXV0aGVudGljYXRpb25UeXBlKSA/P1xyXG5cdFx0XHRBdXRoZW50aWNhdGlvblR5cGUuVW5hdXRoZW50aWNhdGVkXSxcclxuXHRcdFx0QWdlR3JvdXBbKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKT8uYWdlR3JvdXApID8/IEFnZUdyb3VwLlVuZGVmaW5lZF0sXHJcblx0XHRcdHRoaXMub2Nwc0VudW1Ub1N0cmluZyhDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpPy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSksXHJcblx0XHRcdHRoaXMub2Nwc0Jvb2xlYW5Ub1N0cmluZyhDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCk/LnN1cnZleUVuYWJsZWQpLFxyXG5cdFx0XHR0aGlzLm9jcHNFbnVtVG9TdHJpbmcoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpPy5zY3JlZW5zaG90UG9saWN5VmFsdWUpLFxyXG5cdFx0XHR0aGlzLm9jcHNFbnVtVG9TdHJpbmcoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpPy5lbWFpbFBvbGljeVZhbHVlKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2xpZW50RmVlZGJhY2tJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2xpZW50RmVlZGJhY2tJZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRFeHRlbmRlZE1hbmlmZXN0RGF0YSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0RXh0ZW5kZWRNYW5pZmVzdERhdGEoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb21tZW50KGNvbW1lbnQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdC5zZXRDb21tZW50KGNvbW1lbnQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0RW1haWwoZW1haWwpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldENhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0Q2F0ZWdvcnkoY2F0ZWdvcnkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEFwcERhdGEoYXBwRGF0YTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm1hbmlmZXN0LnNldEFwcERhdGEoYXBwRGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0RXh0ZW5kZWRNYW5pZmVzdERhdGEoZXh0ZW5kZWRNYW5pZmVzdERhdGE6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdC5zZXRFeHRlbmRlZE1hbmlmZXN0RGF0YShleHRlbmRlZE1hbmlmZXN0RGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0U2NyZWVuc2hvdChzY3JlZW5zaG90OiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG5cdFx0dGhpcy5zY3JlZW5zaG90ID0gbmV3IFNjcmVlbnNob3Qoc2NyZWVuc2hvdCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2xpZW50RmVlZGJhY2tJZChjbGllbnRGZWVkYmFja0lkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0Q2xpZW50RmVlZGJhY2tJZChjbGllbnRGZWVkYmFja0lkKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRNYW5pZmVzdCgpOiBNYW5pZmVzdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pZmVzdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmcmVlZm9ybSBjdXN0b20gdmFsdWVzIGluIG1hbmlmZXN0LiBUaHJvd3MgaWYgdmFsdWVzIGFyZSBhbHJlYWR5IHNldC5cclxuXHQgKiBAcGFyYW0gdmFsdWVzIHRoZSB2YWx1ZXMgYXMgYSBKUyBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0TWFuaWZlc3RWYWx1ZXModmFsdWVzOiBvYmplY3QpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0VmFsdWVzKHZhbHVlcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdWJtaXQgdGhlIHBheWxvYWRcclxuXHQgKi9cclxuXHRwdWJsaWMgc3VibWl0KCk6IFByb21pc2U8YW55PiB7XHJcblx0XHRpZiAoIUNvbmZpZ3VyYXRpb24uZ2V0KCkuaXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREMoKSkge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlVwbG9hZC5QcmV2ZW50ZWQuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHREYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XHRcdGFnZUdyb3VwOiBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYWdlR3JvdXAsXHJcblx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0aW9uVHlwZTogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmF1dGhlbnRpY2F0aW9uVHlwZSxcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1hbmlmZXN0Q29udGVudDogQmxvYiA9IHRoaXMubWFuaWZlc3QuZ2V0Q29udGVudCgpO1xyXG5cdFx0bGV0IHNjcmVlbnNob3RDb250ZW50OiBCbG9iID0gdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgY2xpZW50RmVlZGJhY2tJZDogc3RyaW5nID0gdGhpcy5jbGllbnRGZWVkYmFja0lkO1xyXG5cclxuXHRcdGlmICh0aGlzLnNjcmVlbnNob3QpIHtcclxuXHRcdFx0c2NyZWVuc2hvdENvbnRlbnQgPSB0aGlzLnNjcmVlbnNob3QuZ2V0Q29udGVudCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBQZXRyb2wuc2VuZCh0aGlzLmVudmlyb25tZW50ID09PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUHJvZHVjdGlvbiwgbWFuaWZlc3RDb250ZW50LCBzY3JlZW5zaG90Q29udGVudClcclxuXHRcdFx0LmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyOiBFcnJvcikge1xyXG5cdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5zZXRGZWVkYmFja1N1Ym1pdHRlZChmYWxzZSk7XHJcblx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkub25FcnJvcihcIlBheWxvYWQgc3VibWlzc2lvbiBmYWlsZWQ6IFwiICsgZXJyLm1lc3NhZ2UgK1xyXG5cdFx0XHRcdFx0XHRcIi4gQ2xpZW50RmVlZGJhY2tJZDogXCIgKyBjbGllbnRGZWVkYmFja0lkKTtcclxuXHRcdFx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TaGFyZWQuVXBsb2FkLkZhaWxlZC5WQUxVRSxcclxuXHRcdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvciwgeyBFcnJvck1lc3NhZ2U6IGVyci5tZXNzYWdlLCBDbGllbnRGZWVkYmFja0lkOiBjbGllbnRGZWVkYmFja0lkIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb2Nwc0Jvb2xlYW5Ub1N0cmluZyhwb2xpY3lWYWx1ZT86IGJvb2xlYW4pIHtcclxuXHRcdGlmIChwb2xpY3lWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBcIk5vdCBDb25maWd1cmVkXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHBvbGljeVZhbHVlKSB7XHJcblx0XHRcdHJldHVybiBcIkVuYWJsZWRcIjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gXCJEaXNhYmxlZFwiO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBvY3BzRW51bVRvU3RyaW5nKHBvbGljeVZhbHVlPzogQ29uc3RhbnRzLk9DUFNWYWx1ZXMpIHtcclxuXHRcdGlmICghcG9saWN5VmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIFwiTm90IENvbmZpZ3VyZWRcIjtcclxuXHRcdH1cclxuXHRcdHN3aXRjaCAocG9saWN5VmFsdWUpIHtcclxuXHRcdFx0Y2FzZSBDb25zdGFudHMuT0NQU1ZhbHVlcy5EaXNhYmxlZDpcclxuXHRcdFx0XHRyZXR1cm4gXCJEaXNhYmxlZFwiO1xyXG5cdFx0XHRjYXNlIENvbnN0YW50cy5PQ1BTVmFsdWVzLkVuYWJsZWQ6XHJcblx0XHRcdFx0cmV0dXJuIFwiRW5hYmxlZFwiO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBcIk5vdCBDb25maWd1cmVkXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Transport.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/BellyBand.ts":
/*!***********************************************!*\
  !*** ./scripts/app/UI/BellyBand/BellyBand.ts ***!
  \***********************************************/
/*! exports provided: createMulti, createSingle, dismiss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createMulti\", function() { return createMulti; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createSingle\", function() { return createSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dismiss\", function() { return dismiss; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Events */ \"./scripts/app/UI/BellyBand/Events.ts\");\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Layout */ \"./scripts/app/UI/BellyBand/Layout.ts\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../Renderer */ \"./scripts/app/UI/Renderer.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/UI/Utils.ts\");\n/* harmony import */ var _WindowProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../WindowProperties */ \"./scripts/app/WindowProperties.ts\");\n/* harmony import */ var _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FormTemplates/BasicFormTemplate */ \"./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts\");\n/* harmony import */ var _PanelTemplates_ThanksPanelTemplate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PanelTemplates/ThanksPanelTemplate */ \"./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts\");\n/* harmony import */ var _FormTemplates_FeedbackPortalIdeaTemplate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FormTemplates/FeedbackPortalIdeaTemplate */ \"./scripts/app/UI/BellyBand/FormTemplates/FeedbackPortalIdeaTemplate.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/**\r\n * BellyBand.ts\r\n *\r\n * Module for the BellyBand UI\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * UI initialization for multi, including creating all feedback related HTML elements and setting\r\n * initial visibility of elements\r\n */\r\nfunction createMulti(onClose) {\r\n    // Create the panelType -> IPanelTemplate mapping\r\n    var panelTemplates = {};\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().isShowThanks) {\r\n        panelTemplates[0 /* Thanks */] = _PanelTemplates_ThanksPanelTemplate__WEBPACK_IMPORTED_MODULE_8__;\r\n    }\r\n    // Create the feedbackType -> IFormTemplate mapping\r\n    var formTemplates = {};\r\n    var transitionEnabled = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().transitionEnabled;\r\n    formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Smile] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Frown] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().feedbackForumUrl !== undefined) {\r\n        formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].IdeaRedirect] = _FormTemplates_FeedbackPortalIdeaTemplate__WEBPACK_IMPORTED_MODULE_9__;\r\n    }\r\n    else {\r\n        formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Idea] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    }\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().bugForm) {\r\n        formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Bug] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    }\r\n    create(_Renderer__WEBPACK_IMPORTED_MODULE_4__[\"elementFromJson\"](_Layout__WEBPACK_IMPORTED_MODULE_3__[\"generateMulti\"](formTemplates, panelTemplates)));\r\n    var useNarrowScreenLayout = _WindowProperties__WEBPACK_IMPORTED_MODULE_6__[\"isNarrow\"]();\r\n    _Events__WEBPACK_IMPORTED_MODULE_2__[\"registerMulti\"](formTemplates, panelTemplates, useNarrowScreenLayout, transitionEnabled, function (submitted) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"deleteElementById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground);\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().onDismiss(submitted);\r\n        onClose();\r\n    });\r\n    // If the screen size is narrow, add the Narrow class to the outermost div so that \r\n    // the CSS used corresponds to the small screen UI\r\n    if (useNarrowScreenLayout) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].NarrowLayout);\r\n    }\r\n}\r\n/**\r\n * UI initialization for single, including creating all feedback related HTML elements and setting\r\n * initial visibility of elements\r\n * @return {void}\r\n */\r\nfunction createSingle(onClose, feedbackType) {\r\n    // Create the panelType -> IPanelTemplate mapping\r\n    var panelTemplates = {};\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().isShowThanks) {\r\n        panelTemplates[0 /* Thanks */] = _PanelTemplates_ThanksPanelTemplate__WEBPACK_IMPORTED_MODULE_8__;\r\n    }\r\n    create(_Renderer__WEBPACK_IMPORTED_MODULE_4__[\"elementFromJson\"](_Layout__WEBPACK_IMPORTED_MODULE_3__[\"generateSingle\"](panelTemplates)));\r\n    _Events__WEBPACK_IMPORTED_MODULE_2__[\"registerSingle\"](feedbackType, panelTemplates, function (submitted) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"deleteElementById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground);\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__[\"get\"]().getInAppFeedbackInitOptions().onDismiss(submitted);\r\n        onClose();\r\n    });\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].SingleLayout);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__[\"ScreenshotPreviewByCheckbox\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].SingleFormScreenshotPreview);\r\n}\r\n/**\r\n * Attach the UI element to the DOM.\r\n * @param userInterface the UI element\r\n */\r\nfunction create(userInterface) {\r\n    document.body.insertBefore(userInterface, document.body.firstChild);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground, true);\r\n    if (_Utils__WEBPACK_IMPORTED_MODULE_5__[\"getInternetExplorerVersion\"]() > 9 || _Utils__WEBPACK_IMPORTED_MODULE_5__[\"getInternetExplorerVersion\"]() === -1) {\r\n        // Show the main feedback UI after a certain time to wait for the CSS keyframes animation to finish if \r\n        // the browser is IE10 and above or non-IE\r\n        setTimeout(onMainContainerRender, 900);\r\n    }\r\n    else {\r\n        onMainContainerRender();\r\n    }\r\n}\r\n/**\r\n * Code to run when the main container animation has completed.\r\n */\r\nfunction onMainContainerRender() {\r\n    // Show the MainContentHolder inside the MainContainer\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MainContentHolder, true);\r\n    if (document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallSmileAnchor)) {\r\n        // Multi feedback\r\n        document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallSmileAnchor).focus();\r\n        // If screenshot checkbox is selected, display the preview\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"ScreenshotPreviewByCheckbox\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].BasicFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].BasicFormScreenshotPreview);\r\n    }\r\n    else if (document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].SingleFormComment)) {\r\n        // Single feedback\r\n        document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].SingleFormComment).focus();\r\n        // If screenshot checkbox is selected, display the preview\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__[\"ScreenshotPreviewByCheckbox\"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].SingleFormScreenshotPreview);\r\n    }\r\n}\r\n/**\r\n * UI dismiss. Delete all feedback related HTML elements\r\n * @return {void}\r\n */\r\nfunction dismiss() {\r\n    return;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvQmVsbHlCYW5kLnRzP2FjNWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUV5RDtBQUNaO0FBQ2I7QUFDQTtBQUNPO0FBQ047QUFDeUI7QUFFVTtBQUNLO0FBQ2E7QUFDcEI7QUFHckU7OztHQUdHO0FBQ0ksU0FBUyxXQUFXLENBQUMsT0FBbUI7SUFDOUMsaURBQWlEO0lBQ2pELElBQUksY0FBYyxHQUFzQyxFQUFFLENBQUM7SUFDM0QsSUFBSSxpRUFBaUIsRUFBRSxDQUFDLDJCQUEyQixFQUFFLENBQUMsWUFBWSxFQUFFO1FBQ25FLGNBQWMsZ0JBQWtCLEdBQUcsZ0VBQW1CLENBQUM7S0FDdkQ7SUFFRCxtREFBbUQ7SUFDbkQsSUFBSSxhQUFhLEdBQW1DLEVBQUUsQ0FBQztJQUN2RCxJQUFJLGlCQUFpQixHQUFZLGlFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztJQUNyRyxhQUFhLENBQUMsdURBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyw2REFBaUIsQ0FBQztJQUN0RCxhQUFhLENBQUMsdURBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyw2REFBaUIsQ0FBQztJQUV0RCxJQUFJLGlFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLEVBQUU7UUFDckYsYUFBYSxDQUFDLHVEQUFZLENBQUMsWUFBWSxDQUFDLEdBQUcsc0VBQTBCLENBQUM7S0FDdEU7U0FBTTtRQUNOLGFBQWEsQ0FBQyx1REFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLDZEQUFpQixDQUFDO0tBQ3JEO0lBRUQsSUFBSSxpRUFBaUIsRUFBRSxDQUFDLDJCQUEyQixFQUFFLENBQUMsT0FBTyxFQUFFO1FB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QUFDLGdEQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUV4RCwwREFBMEQ7UUFDMUQsa0VBQWlDLENBQUMsZ0RBQUcsQ0FBQywyQkFBMkIsRUFBRSxnREFBRyxDQUFDLDBCQUEwQixDQUFDLENBQUM7S0FDbkc7U0FBTSxJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsZ0RBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1FBQzFELGtCQUFrQjtRQUNsQixRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUV2RCwwREFBMEQ7UUFDMUQsa0VBQWlDLENBQUMsZ0RBQUcsQ0FBQyw0QkFBNEIsRUFBRSxnREFBRyxDQUFDLDJCQUEyQixDQUFDLENBQUM7S0FDckc7QUFDRixDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxPQUFPO0lBQ3RCLE9BQU87QUFDUixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQmVsbHlCYW5kL0JlbGx5QmFuZC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCZWxseUJhbmQudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0aGUgQmVsbHlCYW5kIFVJXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRmVlZGJhY2tUeXBlLCBQYW5lbFR5cGUgfSBmcm9tIFwiLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQ2xhc3NlcywgSURzIH0gZnJvbSBcIi4vLi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xyXG5pbXBvcnQgKiBhcyBMYXlvdXQgZnJvbSBcIi4vTGF5b3V0XCI7XHJcbmltcG9ydCAqIGFzIFJlbmRlcmVyIGZyb20gXCIuLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvd1Byb3BlcnRpZXMgZnJvbSBcIi4vLi4vLi4vV2luZG93UHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBJRm9ybVRlbXBsYXRlIH0gZnJvbSBcIi4vRm9ybVRlbXBsYXRlcy9JRm9ybVRlbXBsYXRlXCI7XHJcbmltcG9ydCAqIGFzIEJhc2ljRm9ybVRlbXBsYXRlIGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvQmFzaWNGb3JtVGVtcGxhdGVcIjtcclxuaW1wb3J0ICogYXMgVGhhbmtzUGFuZWxUZW1wbGF0ZSBmcm9tIFwiLi9QYW5lbFRlbXBsYXRlcy9UaGFua3NQYW5lbFRlbXBsYXRlXCI7XHJcbmltcG9ydCAqIGFzIEZlZWRiYWNrUG9ydGFsSWRlYVRlbXBsYXRlIGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvRmVlZGJhY2tQb3J0YWxJZGVhVGVtcGxhdGVcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgSVBhbmVsVGVtcGxhdGUgfSBmcm9tIFwiLi9QYW5lbFRlbXBsYXRlcy9JUGFuZWxUZW1wbGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIFVJIGluaXRpYWxpemF0aW9uIGZvciBtdWx0aSwgaW5jbHVkaW5nIGNyZWF0aW5nIGFsbCBmZWVkYmFjayByZWxhdGVkIEhUTUwgZWxlbWVudHMgYW5kIHNldHRpbmdcclxuICogaW5pdGlhbCB2aXNpYmlsaXR5IG9mIGVsZW1lbnRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXVsdGkob25DbG9zZTogKCkgPT4gdm9pZCkge1xyXG5cdC8vIENyZWF0ZSB0aGUgcGFuZWxUeXBlIC0+IElQYW5lbFRlbXBsYXRlIG1hcHBpbmdcclxuXHRsZXQgcGFuZWxUZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSVBhbmVsVGVtcGxhdGUgfSA9IHt9O1xyXG5cdGlmIChDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLmlzU2hvd1RoYW5rcykge1xyXG5cdFx0cGFuZWxUZW1wbGF0ZXNbUGFuZWxUeXBlLlRoYW5rc10gPSBUaGFua3NQYW5lbFRlbXBsYXRlO1xyXG5cdH1cclxuXHJcblx0Ly8gQ3JlYXRlIHRoZSBmZWVkYmFja1R5cGUgLT4gSUZvcm1UZW1wbGF0ZSBtYXBwaW5nXHJcblx0bGV0IGZvcm1UZW1wbGF0ZXM6IHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSA9IHt9O1xyXG5cdGxldCB0cmFuc2l0aW9uRW5hYmxlZDogYm9vbGVhbiA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkudHJhbnNpdGlvbkVuYWJsZWQ7XHJcblx0Zm9ybVRlbXBsYXRlc1tGZWVkYmFja1R5cGUuU21pbGVdID0gQmFzaWNGb3JtVGVtcGxhdGU7XHJcblx0Zm9ybVRlbXBsYXRlc1tGZWVkYmFja1R5cGUuRnJvd25dID0gQmFzaWNGb3JtVGVtcGxhdGU7XHJcblxyXG5cdGlmIChDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLmZlZWRiYWNrRm9ydW1VcmwgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0Zm9ybVRlbXBsYXRlc1tGZWVkYmFja1R5cGUuSWRlYVJlZGlyZWN0XSA9IEZlZWRiYWNrUG9ydGFsSWRlYVRlbXBsYXRlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRmb3JtVGVtcGxhdGVzW0ZlZWRiYWNrVHlwZS5JZGVhXSA9IEJhc2ljRm9ybVRlbXBsYXRlO1xyXG5cdH1cclxuXHJcblx0aWYgKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuYnVnRm9ybSkge1xyXG5cdFx0Zm9ybVRlbXBsYXRlc1tGZWVkYmFja1R5cGUuQnVnXSA9IEJhc2ljRm9ybVRlbXBsYXRlO1xyXG5cdH1cclxuXHJcblx0Y3JlYXRlKFJlbmRlcmVyLmVsZW1lbnRGcm9tSnNvbihMYXlvdXQuZ2VuZXJhdGVNdWx0aShmb3JtVGVtcGxhdGVzLCBwYW5lbFRlbXBsYXRlcykpKTtcclxuXHJcblx0bGV0IHVzZU5hcnJvd1NjcmVlbkxheW91dCA9IFdpbmRvd1Byb3BlcnRpZXMuaXNOYXJyb3coKTtcclxuXHJcblx0RXZlbnRzLnJlZ2lzdGVyTXVsdGkoXHJcblx0XHRmb3JtVGVtcGxhdGVzLFxyXG5cdFx0cGFuZWxUZW1wbGF0ZXMsXHJcblx0XHR1c2VOYXJyb3dTY3JlZW5MYXlvdXQsXHJcblx0XHR0cmFuc2l0aW9uRW5hYmxlZCxcclxuXHRcdGZ1bmN0aW9uIChzdWJtaXR0ZWQ6IGJvb2xlYW4pIHtcclxuXHRcdFx0VXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLk92ZXJsYXlCYWNrZ3JvdW5kLCBmYWxzZSk7XHJcblx0XHRcdFV0aWxzLmRlbGV0ZUVsZW1lbnRCeUlkKElEcy5PdmVybGF5QmFja2dyb3VuZCk7XHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkub25EaXNtaXNzKHN1Ym1pdHRlZCk7XHJcblx0XHRcdG9uQ2xvc2UoKTtcclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHQvLyBJZiB0aGUgc2NyZWVuIHNpemUgaXMgbmFycm93LCBhZGQgdGhlIE5hcnJvdyBjbGFzcyB0byB0aGUgb3V0ZXJtb3N0IGRpdiBzbyB0aGF0IFxyXG5cdC8vIHRoZSBDU1MgdXNlZCBjb3JyZXNwb25kcyB0byB0aGUgc21hbGwgc2NyZWVuIFVJXHJcblx0aWYgKHVzZU5hcnJvd1NjcmVlbkxheW91dCkge1xyXG5cdFx0VXRpbHMuYWRkQ2xhc3NCeUlkKElEcy5PdmVybGF5QmFja2dyb3VuZCwgQ2xhc3Nlcy5OYXJyb3dMYXlvdXQpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFVJIGluaXRpYWxpemF0aW9uIGZvciBzaW5nbGUsIGluY2x1ZGluZyBjcmVhdGluZyBhbGwgZmVlZGJhY2sgcmVsYXRlZCBIVE1MIGVsZW1lbnRzIGFuZCBzZXR0aW5nXHJcbiAqIGluaXRpYWwgdmlzaWJpbGl0eSBvZiBlbGVtZW50c1xyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNpbmdsZShvbkNsb3NlOiAoKSA9PiB2b2lkLCBmZWVkYmFja1R5cGU6IEZlZWRiYWNrVHlwZSkge1xyXG5cdC8vIENyZWF0ZSB0aGUgcGFuZWxUeXBlIC0+IElQYW5lbFRlbXBsYXRlIG1hcHBpbmdcclxuXHRsZXQgcGFuZWxUZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSVBhbmVsVGVtcGxhdGUgfSA9IHt9O1xyXG5cdGlmIChDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLmlzU2hvd1RoYW5rcykge1xyXG5cdFx0cGFuZWxUZW1wbGF0ZXNbUGFuZWxUeXBlLlRoYW5rc10gPSBUaGFua3NQYW5lbFRlbXBsYXRlO1xyXG5cdH1cclxuXHJcblx0Y3JlYXRlKFJlbmRlcmVyLmVsZW1lbnRGcm9tSnNvbihMYXlvdXQuZ2VuZXJhdGVTaW5nbGUocGFuZWxUZW1wbGF0ZXMpKSk7XHJcblxyXG5cdEV2ZW50cy5yZWdpc3RlclNpbmdsZShcclxuXHRcdGZlZWRiYWNrVHlwZSxcclxuXHRcdHBhbmVsVGVtcGxhdGVzLFxyXG5cdFx0ZnVuY3Rpb24gKHN1Ym1pdHRlZDogYm9vbGVhbikge1xyXG5cdFx0XHRVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuT3ZlcmxheUJhY2tncm91bmQsIGZhbHNlKTtcclxuXHRcdFx0VXRpbHMuZGVsZXRlRWxlbWVudEJ5SWQoSURzLk92ZXJsYXlCYWNrZ3JvdW5kKTtcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5vbkRpc21pc3Moc3VibWl0dGVkKTtcclxuXHRcdFx0b25DbG9zZSgpO1xyXG5cdFx0fVxyXG5cdCk7XHJcblxyXG5cdFV0aWxzLmFkZENsYXNzQnlJZChJRHMuT3ZlcmxheUJhY2tncm91bmQsIENsYXNzZXMuU2luZ2xlTGF5b3V0KTtcclxuXHRVdGlscy5TY3JlZW5zaG90UHJldmlld0J5Q2hlY2tib3goSURzLlNpbmdsZUZvcm1TY3JlZW5zaG90Q2hlY2tib3gsIElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdFByZXZpZXcpO1xyXG59XHJcblxyXG4vKipcclxuICogQXR0YWNoIHRoZSBVSSBlbGVtZW50IHRvIHRoZSBET00uXHJcbiAqIEBwYXJhbSB1c2VySW50ZXJmYWNlIHRoZSBVSSBlbGVtZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGUodXNlckludGVyZmFjZTogRWxlbWVudCkge1xyXG5cdGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHVzZXJJbnRlcmZhY2UsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XHJcblxyXG5cdFV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5PdmVybGF5QmFja2dyb3VuZCwgdHJ1ZSk7XHJcblxyXG5cdGlmIChVdGlscy5nZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpID4gOSB8fCBVdGlscy5nZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpID09PSAtMSkge1xyXG5cdFx0Ly8gU2hvdyB0aGUgbWFpbiBmZWVkYmFjayBVSSBhZnRlciBhIGNlcnRhaW4gdGltZSB0byB3YWl0IGZvciB0aGUgQ1NTIGtleWZyYW1lcyBhbmltYXRpb24gdG8gZmluaXNoIGlmIFxyXG5cdFx0Ly8gdGhlIGJyb3dzZXIgaXMgSUUxMCBhbmQgYWJvdmUgb3Igbm9uLUlFXHJcblx0XHRzZXRUaW1lb3V0KG9uTWFpbkNvbnRhaW5lclJlbmRlciwgOTAwKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0b25NYWluQ29udGFpbmVyUmVuZGVyKCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQ29kZSB0byBydW4gd2hlbiB0aGUgbWFpbiBjb250YWluZXIgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBvbk1haW5Db250YWluZXJSZW5kZXIoKTogdm9pZCB7XHJcblx0Ly8gU2hvdyB0aGUgTWFpbkNvbnRlbnRIb2xkZXIgaW5zaWRlIHRoZSBNYWluQ29udGFpbmVyXHJcblx0VXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLk1haW5Db250ZW50SG9sZGVyLCB0cnVlKTtcclxuXHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLk92ZXJhbGxTbWlsZUFuY2hvcikpIHtcclxuXHRcdC8vIE11bHRpIGZlZWRiYWNrXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuT3ZlcmFsbFNtaWxlQW5jaG9yKS5mb2N1cygpO1xyXG5cclxuXHRcdC8vIElmIHNjcmVlbnNob3QgY2hlY2tib3ggaXMgc2VsZWN0ZWQsIGRpc3BsYXkgdGhlIHByZXZpZXdcclxuXHRcdFV0aWxzLlNjcmVlbnNob3RQcmV2aWV3QnlDaGVja2JveChJRHMuQmFzaWNGb3JtU2NyZWVuc2hvdENoZWNrYm94LCBJRHMuQmFzaWNGb3JtU2NyZWVuc2hvdFByZXZpZXcpO1xyXG5cdH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLlNpbmdsZUZvcm1Db21tZW50KSkge1xyXG5cdFx0Ly8gU2luZ2xlIGZlZWRiYWNrXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuU2luZ2xlRm9ybUNvbW1lbnQpLmZvY3VzKCk7XHJcblxyXG5cdFx0Ly8gSWYgc2NyZWVuc2hvdCBjaGVja2JveCBpcyBzZWxlY3RlZCwgZGlzcGxheSB0aGUgcHJldmlld1xyXG5cdFx0VXRpbHMuU2NyZWVuc2hvdFByZXZpZXdCeUNoZWNrYm94KElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdENoZWNrYm94LCBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RQcmV2aWV3KTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVSSBkaXNtaXNzLiBEZWxldGUgYWxsIGZlZWRiYWNrIHJlbGF0ZWQgSFRNTCBlbGVtZW50c1xyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc21pc3MoKTogdm9pZCB7XHJcblx0cmV0dXJuO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/BellyBand.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/Events.ts":
/*!********************************************!*\
  !*** ./scripts/app/UI/BellyBand/Events.ts ***!
  \********************************************/
/*! exports provided: registerSingle, registerMulti */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerSingle\", function() { return registerSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerMulti\", function() { return registerMulti; });\n/* harmony import */ var _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Transport/Transport */ \"./scripts/app/Transport/Transport.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _Screenshot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../Screenshot */ \"./scripts/app/Screenshot.ts\");\n/* harmony import */ var _SpinnerControl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../SpinnerControl */ \"./scripts/app/UI/SpinnerControl.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/UI/Utils.ts\");\n/* harmony import */ var _TabFocus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TabFocus */ \"./scripts/app/UI/BellyBand/TabFocus.ts\");\n/**\r\n * Events.ts\r\n *\r\n * A module for all Event handling.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Whether to use narrow layout\r\n */\r\nvar useNarrowLayout = false;\r\n/**\r\n * Whether transition enabled or not\r\n */\r\nvar transitionEnabled = true;\r\n/**\r\n * Callback for when the feedback dialog is dismissed\r\n */\r\nvar onDismiss;\r\n/**\r\n * The Selected feedback type, undefined if none selected\r\n */\r\nvar selectedFeedbackType = undefined;\r\n/**\r\n * The Selected panel type, undefined if none selected\r\n */\r\nvar selectedPanelType = undefined;\r\n/**\r\n * feedbackType -> IFormTemplate mapping for multi BellyBand\r\n */\r\nvar formTemplates;\r\n/**\r\n * panelType -> IPanelTemplate mapping for multi BellyBand\r\n */\r\nvar panelTemplates;\r\nvar anchors = [_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallSmileAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFrownAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallBugAnchor];\r\nfunction setAriaSelectedAttributes(anchorID) {\r\n    var i;\r\n    for (i = 0; i < anchors.length; i++) {\r\n        if (anchors[i] === anchorID) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](anchors[i], _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaSelected, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeValue\"].True);\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](anchors[i], _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaSelected, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeValue\"].False);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Dismiss all, including networking, UI, and events\r\n * @param submitted Was the control submitted (true), or cancelled (false)?\r\n */\r\nfunction dismissAll() {\r\n    unregister();\r\n    onDismiss(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getFeedbackSubmitted());\r\n    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().setFeedbackSubmitted(false);\r\n}\r\n/**\r\n * List of listeners and the ids they are attached to. This ensures all events are correctly unregistered.\r\n */\r\nvar listenersList = [];\r\nfunction addListener(id, event, listener) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"registerListener\"](id, event, listener);\r\n    listenersList.push({ event: event, id: id, listener: listener });\r\n}\r\nfunction removeListeners() {\r\n    for (var _i = 0, listenersList_1 = listenersList; _i < listenersList_1.length; _i++) {\r\n        var listener = listenersList_1[_i];\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"unregisterListener\"](listener.id, listener.event, listener.listener);\r\n    }\r\n    listenersList = [];\r\n}\r\n/**\r\n * Register events for single belly band\r\n */\r\nfunction registerSingle(feedbackType, PANELTEMPLATES, ON_DISMISS) {\r\n    if (ON_DISMISS === void 0) { ON_DISMISS = function (submitted) { return; }; }\r\n    selectedFeedbackType = feedbackType;\r\n    panelTemplates = PANELTEMPLATES;\r\n    // SingleFormTemplate events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormSubmitButton, \"click\", submitButtonHandlerFactory(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormSubmitButton, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormSubmitButtonSpinner, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormScreenshotPreview, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormCategoriesDropdown));\r\n    // Screenshot checkbox click events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormScreenshotCheckbox, \"click\", ScreenshotCheckboxClickHandler(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormScreenshotPreview));\r\n    // Close button click event.\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].CloseButton, \"click\", function () { dismissAll(); });\r\n    // ThanksPanel events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].ThanksPanelCloseButton, \"click\", function (event) { return CloseButton(event); });\r\n    // cancel button events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormCancelButton, \"click\", CancelButtonHandler);\r\n    registerCommon(ON_DISMISS);\r\n}\r\n/**\r\n * Register events for multi belly band\r\n */\r\nfunction registerMulti(FORMTEMPLATES, PANELTEMPLATES, USE_NARROW_LAYOUT, TRANSITIONENABLED, ON_DISMISS) {\r\n    if (ON_DISMISS === void 0) { ON_DISMISS = function (submitted) { return; }; }\r\n    useNarrowLayout = USE_NARROW_LAYOUT;\r\n    formTemplates = FORMTEMPLATES;\r\n    panelTemplates = PANELTEMPLATES;\r\n    transitionEnabled = TRANSITIONENABLED;\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallSmileAnchor, \"click\", overallSmileHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFrownAnchor, \"click\", overallFrownHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallIdeaAnchor, \"click\", overallIdeaHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallBugAnchor, \"click\", overallBugHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].CloseButton, \"click\", function () { dismissAll(); });\r\n    // BasicFormTemplate events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormSubmitButton, \"click\", submitButtonHandlerFactory(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormSubmitButton, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormSubmitButtonSpinner, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormScreenshotPreview, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormCategoriesDropdown));\r\n    // Screenshot checkbox click events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormScreenshotCheckbox, \"click\", ScreenshotCheckboxClickHandler(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormScreenshotPreview));\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFeedbackPortalIdeaAnchor, \"click\", overallFeedbackPortalIdeaHandler);\r\n    // ThanksPanel events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].ThanksPanelCloseButton, \"click\", function (event) { return CloseButton(event); });\r\n    // cancel button events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormCancelButton, \"click\", CancelButtonHandler);\r\n    registerCommon(ON_DISMISS);\r\n    if (!transitionEnabled) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MainContentHolder, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].MarginLeft180px);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].ColumnSeparatorDiv, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].ShowRightBorder);\r\n    }\r\n}\r\nfunction registerCommon(ON_DISMISS) {\r\n    onDismiss = ON_DISMISS;\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addEventListenerHelper\"](window, \"keyup\", keyEventHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverlayBackground, \"click\", overlayBackgroundHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MainContainer, \"click\", mainContainerHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MainContainer, \"keyup\", tabKeyEventHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].PrivacyStatementLink, \"click\", privacyStatementLinkHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].EmailCheckBox, \"click\", emailCheckBoxHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormComment, \"keyup\", basicFormInputHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormComment, \"keyup\", singleFormInputHandler);\r\n    emailCheckBoxHandler(null); // call the checkbox handler to process the initial state\r\n}\r\n/**\r\n * Listener un-registration\r\n */\r\nfunction unregister() {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"removeEventListenerHelper\"](window, \"keyup\", keyEventHandler);\r\n    removeListeners();\r\n}\r\n/**\r\n * Tab key event handler\r\n * @param event The Event object\r\n */\r\nfunction tabKeyEventHandler(event) {\r\n    var keyCode = event.keyCode || event.which;\r\n    if (keyCode === _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Keys\"].Tab) {\r\n        if ((document.activeElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].FirstTabbable && event.shiftKey) ||\r\n            (document.activeElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LastTabbable && !event.shiftKey)) {\r\n            event.stopPropagation();\r\n            _TabFocus__WEBPACK_IMPORTED_MODULE_8__[\"cycleTabFocus\"](document.activeElement);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Key event handler\r\n * @param event The Event object\r\n */\r\nfunction keyEventHandler(event) {\r\n    // dismiss feedback upon pressing the escape key\r\n    if (event.keyCode === _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Keys\"].Esc) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        dismissAll();\r\n    }\r\n}\r\n/**\r\n * Overlay background event handler. Dismiss feedback upon clicking on the background area\r\n * @param event The Event object\r\n */\r\nfunction overlayBackgroundHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    dismissAll();\r\n}\r\n/**\r\n * Main container event handler. When clicking on main container area, do not propagate the event to lower level.\r\n * @param event The Event object\r\n */\r\nfunction mainContainerHandler(event) {\r\n    event.stopPropagation();\r\n}\r\n/**\r\n * Privacy statement link handler. When clicking on the privacy statement link,\r\n * do not propagate the event to lower level.\r\n * @param event The Event object\r\n */\r\nfunction privacyStatementLinkHandler(event) {\r\n    event.stopPropagation();\r\n}\r\n/**\r\n * Overall button click handler\r\n * @param event The Event object\r\n * @param achorId The id of the anchor html element which was selected\r\n */\r\nfunction overallHandler(event, anchorId) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"replaceClassesById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallSmileAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].OverallAnchorActive);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"replaceClassesById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFrownAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].OverallAnchorActive);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"replaceClassesById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].OverallAnchorActive);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"replaceClassesById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallBugAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].OverallAnchorActive);\r\n    if (anchorId) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addClassById\"](anchorId, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].OverallAnchorActive);\r\n    }\r\n    _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].InApp.UI.Form.Shown.VALUE, 1 /* Critical */, { FeedbackType: selectedFeedbackType, PanelType: selectedPanelType });\r\n    if (typeof (selectedFeedbackType) !== \"undefined\") {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftPanelContainer, false);\r\n        var formTemplate = formTemplates[selectedFeedbackType];\r\n        mainContentHolderSlideLeft(formTemplate.containerId);\r\n        if (transitionEnabled) {\r\n            mainContentHolderSlideLeft(formTemplate.containerId);\r\n        }\r\n        formTemplate.onSelect(selectedFeedbackType);\r\n    }\r\n    if (typeof (selectedPanelType) !== \"undefined\") {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftFormContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftPanelContainer, true);\r\n        for (var panelType in panelTemplates) {\r\n            if (panelTemplates.hasOwnProperty(panelType)) {\r\n                _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](panelTemplates[panelType].containerId, true);\r\n            }\r\n        }\r\n        var panelTemplate = panelTemplates[selectedPanelType];\r\n        panelTemplate.onSelect(selectedPanelType);\r\n    }\r\n}\r\n/**\r\n * Smile button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallSmileHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__[\"FeedbackType\"].Smile;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallSmileAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeValue\"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallSmileAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallSmileAnchor);\r\n}\r\n/**\r\n * Frown button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallFrownHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__[\"FeedbackType\"].Frown;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFrownAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeValue\"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFrownAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallFrownAnchor);\r\n}\r\n/**\r\n * Idea button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallIdeaHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__[\"FeedbackType\"].Idea;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallIdeaAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeValue\"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallIdeaAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallIdeaAnchor);\r\n}\r\n/**\r\n * Bug button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallBugHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__[\"FeedbackType\"].Bug;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallBugAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeValue\"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setAttributeOnHtmlElement\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"AttributeName\"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallBugAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].OverallBugAnchor);\r\n}\r\n/**\r\n * Thanks pane event handler\r\n * @param event The Event object\r\n */\r\nfunction overallThanksHandler(event) {\r\n    selectedFeedbackType = undefined;\r\n    selectedPanelType = 0 /* Thanks */;\r\n    SetVisibilityExceptFor(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].ThanksPanelContainer, false);\r\n    overallHandler(event, undefined);\r\n}\r\n/**\r\n * Sets visibility for all content panes except for specified.\r\n * @param except Pane not to set visibility for.\r\n * @param visible Visibility to be set\r\n */\r\nfunction SetVisibilityExceptFor(except, visible) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftFormContainer, visible);\r\n    var feedbackPanes = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer).children;\r\n    for (var currentFeedbackPane = 0; currentFeedbackPane < feedbackPanes.length; currentFeedbackPane++) {\r\n        if (feedbackPanes[currentFeedbackPane].id !== except) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](feedbackPanes[currentFeedbackPane].id, visible);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Main content holder slide left animation\r\n * @param {string} containerId The id of the container to be made visible\r\n * @return {void}\r\n */\r\nfunction mainContentHolderSlideLeft(containerId) {\r\n    for (var feedbackType in formTemplates) {\r\n        if (formTemplates.hasOwnProperty(feedbackType)) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](formTemplates[feedbackType].containerId, false);\r\n        }\r\n    }\r\n    if (useNarrowLayout) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftFormContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](containerId, true);\r\n    }\r\n    else {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].ColumnSeparatorDiv, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].ShowRightBorder);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](containerId, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].LeftFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].SlideLeft);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"addClassById\"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"Classes\"].SlideLeft);\r\n    }\r\n}\r\n/**\r\n * Submit button event handler factory\r\n * @param event The Event object\r\n */\r\nfunction submitButtonHandlerFactory(submitButtonId, spinnerId, commentInputId, emailInputId, screenshotCheckboxId, screenshotPreviewId, categoriesDropdownId) {\r\n    return function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"setElementVisibility\"](submitButtonId, false);\r\n        var spinner = new _SpinnerControl__WEBPACK_IMPORTED_MODULE_6__[\"Spinner\"](spinnerId);\r\n        var transporter = new _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__[\"Transporter\"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().environment, \"Sas\", _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().appId, selectedFeedbackType, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().applicationGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().telemetryGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().webGroup);\r\n        var commentElement = document.getElementById(commentInputId);\r\n        var commentEntered = (commentElement && !!commentElement.value);\r\n        if (commentEntered) {\r\n            transporter.setComment(commentElement.value);\r\n        }\r\n        var emailCheckBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].EmailCheckBox);\r\n        var emailElement = document.getElementById(emailInputId);\r\n        var isEmailIncluded = (emailElement && !!emailElement.value);\r\n        if (emailCheckBox && emailCheckBox.checked && isEmailIncluded) {\r\n            transporter.setEmail(emailElement.value);\r\n        }\r\n        var screenshotCheckBox = document.getElementById(screenshotCheckboxId);\r\n        var screenshotCheckBoxSelected = screenshotCheckBox && screenshotCheckBox.checked;\r\n        var categoryElement = document.getElementById(categoriesDropdownId);\r\n        var isCategorySelected = (categoryElement && categoryElement.selectedIndex > 0);\r\n        if (isCategorySelected) {\r\n            transporter.setCategory(categoryElement.value);\r\n        }\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].InApp.UI.Form.Submit.VALUE, 1 /* Critical */, {\r\n            FeedbackType: selectedFeedbackType,\r\n            IsEmailIncluded: isEmailIncluded,\r\n            IsScreenshotIncluded: screenshotCheckBoxSelected,\r\n        });\r\n        if (screenshotCheckBoxSelected) {\r\n            var startTime_1 = performance.now();\r\n            _Screenshot__WEBPACK_IMPORTED_MODULE_5__[\"createScreenshot\"](document.body).then(function (canvas) {\r\n                var endTime = performance.now();\r\n                _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].Shared.Screenshot.Render.Success.VALUE, 1 /* Critical */, { TimeMilliseconds: endTime - startTime_1 });\r\n                transporter.setScreenshot(canvas);\r\n                transporter.submit();\r\n            }).catch(function (error) {\r\n                var endTime = performance.now();\r\n                _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].Shared.Screenshot.Render.Failed.VALUE, 2 /* Error */, { ErrorMessage: error, TimeMilliseconds: endTime - startTime_1 });\r\n                transporter.submit();\r\n            });\r\n        }\r\n        else {\r\n            transporter.submit();\r\n        }\r\n        spinner.destroy();\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().setFeedbackSubmitted(true);\r\n        if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getInAppFeedbackInitOptions().isShowThanks) {\r\n            dismissAll();\r\n        }\r\n        else {\r\n            overallThanksHandler(event);\r\n        }\r\n    };\r\n}\r\n/**\r\n * Close button event\r\n */\r\nfunction CloseButton(event) {\r\n    SetVisibilityExceptFor(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].ThanksPanelContainer, true);\r\n    dismissAll();\r\n}\r\nfunction overallFeedbackPortalIdeaHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    window.open(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getInAppFeedbackInitOptions().feedbackForumUrl);\r\n    dismissAll();\r\n}\r\n/**\r\n * ScreenshotCheckbox Click event handler. Populate preview if checkbox is checked\r\n * @param screenshotCheckboxId The Id of screenshot checkbox\r\n * @param screenshotPreviewId The Id of preview\r\n * @param event The Event object\r\n */\r\nfunction ScreenshotCheckboxClickHandler(screenshotCheckboxId, screenshotPreviewId) {\r\n    return function (event) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__[\"ScreenshotPreviewByCheckbox\"](screenshotCheckboxId, screenshotPreviewId);\r\n    };\r\n}\r\n/**\r\n * Cancel button event handler factory\r\n */\r\nfunction CancelButtonHandler() {\r\n    dismissAll();\r\n}\r\nfunction emailCheckBoxHandler(event) {\r\n    // show email if checked and show default string if unchecked\r\n    var emailCheckBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].EmailCheckBox);\r\n    if (emailCheckBox) {\r\n        // multiFeedback form emailTextBox has id  IDs.BasicFormEmailInput\r\n        // singleFeedback form emailTextBox has id IDs.SingleFormEmailInput\r\n        // First we try to get with IDs.SingleFormEmailInput\r\n        // if it does not exists, which means this is a multiFeedback form, then we get it with IDs.BasicFormEmailInput\r\n        var emailTextBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormEmailInput);\r\n        if (!emailTextBox) {\r\n            emailTextBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormEmailInput);\r\n        }\r\n        emailTextBox.value = emailCheckBox.checked ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().userEmail : null;\r\n        emailTextBox.disabled = !emailCheckBox.checked;\r\n    }\r\n}\r\nfunction basicFormInputHandler(event) {\r\n    var commentElement = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormComment);\r\n    var commentEntered = (commentElement && !!commentElement.value);\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].BasicFormSubmitButton).disabled = !commentEntered;\r\n}\r\nfunction singleFormInputHandler(event) {\r\n    var commentElement = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormComment);\r\n    var commentEntered = (commentElement && !!commentElement.value);\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__[\"IDs\"].SingleFormSubmitButton).disabled = !commentEntered;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRXZlbnRzLnRzP2Y5MjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUV1RDtBQUNXO0FBRVQ7QUFDeUI7QUFDbEM7QUFFRjtBQUNIO0FBQ1I7QUFDQztBQUd2Qzs7R0FFRztBQUNILElBQUksZUFBZSxHQUFZLEtBQUssQ0FBQztBQUVyQzs7R0FFRztBQUNILElBQUksaUJBQWlCLEdBQVksSUFBSSxDQUFDO0FBRXRDOztHQUVHO0FBQ0gsSUFBSSxTQUE2QixDQUFDO0FBRWxDOztHQUVHO0FBQ0gsSUFBSSxvQkFBb0IsR0FBaUIsU0FBUyxDQUFDO0FBRW5EOztHQUVHO0FBQ0gsSUFBSSxpQkFBaUIsR0FBYyxTQUFTLENBQUM7QUFFN0M7O0dBRUc7QUFDSCxJQUFJLGFBQStDLENBQUM7QUFFcEQ7O0dBRUc7QUFDSCxJQUFJLGNBQWlELENBQUM7QUFFdEQsSUFBTSxPQUFPLEdBQWEsQ0FBQyxnREFBRyxDQUFDLGtCQUFrQixFQUFFLGdEQUFHLENBQUMsa0JBQWtCLEVBQUUsZ0RBQUcsQ0FBQyxpQkFBaUIsRUFBRSxnREFBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFFeEgsU0FBUyx5QkFBeUIsQ0FBQyxRQUFnQjtJQUNsRCxJQUFJLENBQVMsQ0FBQztJQUNkLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNwQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUU7WUFDNUIsZ0VBQWlDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLDBEQUFhLENBQUMsWUFBWSxFQUFFLDJEQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDL0Y7YUFBTTtZQUNOLGdF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QUFDLEtBQUssR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDekcsWUFBWSxDQUFDLFFBQVEsR0FBRyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7S0FDL0M7QUFDRixDQUFDO0FBRUQsU0FBUyxxQkFBcUIsQ0FBQyxLQUFZO0lBQzFDLElBQUksY0FBYyxHQUE4QyxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5RyxJQUFJLGNBQWMsR0FBWSxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hFLFFBQVEsQ0FBQyxjQUFjLENBQUMsZ0RBQUcsQ0FBQyxxQkFBcUIsQ0FBdUIsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFDdEcsQ0FBQztBQUVELFNBQVMsc0JBQXNCLENBQUMsS0FBWTtJQUMzQyxJQUFJLGNBQWMsR0FBOEMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDL0csSUFBSSxjQUFjLEdBQVksQ0FBQyxjQUFjLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4RSxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsc0JBQXNCLENBQXVCLENBQUMsUUFBUSxHQUFHLENBQUMsY0FBYyxDQUFDO0FBQ3ZHLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRXZlbnRzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEV2ZW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYWxsIEV2ZW50IGhhbmRsaW5nLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFRyYW5zcG9ydGVyIH0gZnJvbSBcIi4vLi4vLi4vVHJhbnNwb3J0L1RyYW5zcG9ydFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLy4uLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBJRm9ybVRlbXBsYXRlIH0gZnJvbSBcIi4vRm9ybVRlbXBsYXRlcy9JRm9ybVRlbXBsYXRlXCI7XHJcbmltcG9ydCB7IEZlZWRiYWNrVHlwZSwgUGFuZWxUeXBlIH0gZnJvbSBcIi4vLi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWUsIEF0dHJpYnV0ZVZhbHVlLCBDbGFzc2VzLCBJRHMsIEtleXMgfSBmcm9tIFwiLi8uLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLy4uLy4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgeyBJT25EaXNtaXNzRGVsZWdhdGUgfSBmcm9tIFwiLi8uLi8uLi9JT25EaXNtaXNzRGVsZWdhdGVcIjtcclxuaW1wb3J0ICogYXMgU2NyZWVuc2hvdCBmcm9tIFwiLi8uLi8uLi9TY3JlZW5zaG90XCI7XHJcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tIFwiLi8uLi9TcGlubmVyQ29udHJvbFwiO1xyXG5pbXBvcnQgKiBhcyBVaVV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIFRhYkZvY3VzIGZyb20gXCIuL1RhYkZvY3VzXCI7XHJcbmltcG9ydCB7IElQYW5lbFRlbXBsYXRlIH0gZnJvbSBcIi4vUGFuZWxUZW1wbGF0ZXMvSVBhbmVsVGVtcGxhdGVcIjtcclxuXHJcbi8qKlxyXG4gKiBXaGV0aGVyIHRvIHVzZSBuYXJyb3cgbGF5b3V0XHJcbiAqL1xyXG5sZXQgdXNlTmFycm93TGF5b3V0OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogV2hldGhlciB0cmFuc2l0aW9uIGVuYWJsZWQgb3Igbm90XHJcbiAqL1xyXG5sZXQgdHJhbnNpdGlvbkVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuLyoqXHJcbiAqIENhbGxiYWNrIGZvciB3aGVuIHRoZSBmZWVkYmFjayBkaWFsb2cgaXMgZGlzbWlzc2VkXHJcbiAqL1xyXG5sZXQgb25EaXNtaXNzOiBJT25EaXNtaXNzRGVsZWdhdGU7XHJcblxyXG4vKipcclxuICogVGhlIFNlbGVjdGVkIGZlZWRiYWNrIHR5cGUsIHVuZGVmaW5lZCBpZiBub25lIHNlbGVjdGVkXHJcbiAqL1xyXG5sZXQgc2VsZWN0ZWRGZWVkYmFja1R5cGU6IEZlZWRiYWNrVHlwZSA9IHVuZGVmaW5lZDtcclxuXHJcbi8qKlxyXG4gKiBUaGUgU2VsZWN0ZWQgcGFuZWwgdHlwZSwgdW5kZWZpbmVkIGlmIG5vbmUgc2VsZWN0ZWRcclxuICovXHJcbmxldCBzZWxlY3RlZFBhbmVsVHlwZTogUGFuZWxUeXBlID0gdW5kZWZpbmVkO1xyXG5cclxuLyoqXHJcbiAqIGZlZWRiYWNrVHlwZSAtPiBJRm9ybVRlbXBsYXRlIG1hcHBpbmcgZm9yIG11bHRpIEJlbGx5QmFuZFxyXG4gKi9cclxubGV0IGZvcm1UZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSUZvcm1UZW1wbGF0ZSB9O1xyXG5cclxuLyoqXHJcbiAqIHBhbmVsVHlwZSAtPiBJUGFuZWxUZW1wbGF0ZSBtYXBwaW5nIGZvciBtdWx0aSBCZWxseUJhbmRcclxuICovXHJcbmxldCBwYW5lbFRlbXBsYXRlczogeyBba2V5OiBudW1iZXJdOiBJUGFuZWxUZW1wbGF0ZSB9O1xyXG5cclxuY29uc3QgYW5jaG9yczogc3RyaW5nW10gPSBbSURzLk92ZXJhbGxTbWlsZUFuY2hvciwgSURzLk92ZXJhbGxGcm93bkFuY2hvciwgSURzLk92ZXJhbGxJZGVhQW5jaG9yLCBJRHMuT3ZlcmFsbEJ1Z0FuY2hvcl07XHJcblxyXG5mdW5jdGlvbiBzZXRBcmlhU2VsZWN0ZWRBdHRyaWJ1dGVzKGFuY2hvcklEOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRsZXQgaTogbnVtYmVyO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBhbmNob3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAoYW5jaG9yc1tpXSA9PT0gYW5jaG9ySUQpIHtcclxuXHRcdFx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KGFuY2hvcnNbaV0sIEF0dHJpYnV0ZU5hbWUuQXJpYVNlbGVjdGVkLCBBdHRyaWJ1dGVWYWx1ZS5UcnVlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChhbmNob3JzW2ldLCBBdHRyaWJ1dGVOYW1lLkFyaWFTZWxlY3RlZCwgQXR0cmlidXRlVmFsdWUuRmFsc2UpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIERpc21pc3MgYWxsLCBpbmNsdWRpbmcgbmV0d29ya2luZywgVUksIGFuZCBldmVudHNcclxuICogQHBhcmFtIHN1Ym1pdHRlZCBXYXMgdGhlIGNvbnRyb2wgc3VibWl0dGVkICh0cnVlKSwgb3IgY2FuY2VsbGVkIChmYWxzZSk/XHJcbiAqL1xyXG5mdW5jdGlvbiBkaXNtaXNzQWxsKCk6IHZvaWQge1xyXG5cdHVucmVnaXN0ZXIoKTtcclxuXHRvbkRpc21pc3MoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRGZWVkYmFja1N1Ym1pdHRlZCgpKTtcclxuXHRDb25maWd1cmF0aW9uLmdldCgpLnNldEZlZWRiYWNrU3VibWl0dGVkKGZhbHNlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExpc3Qgb2YgbGlzdGVuZXJzIGFuZCB0aGUgaWRzIHRoZXkgYXJlIGF0dGFjaGVkIHRvLiBUaGlzIGVuc3VyZXMgYWxsIGV2ZW50cyBhcmUgY29ycmVjdGx5IHVucmVnaXN0ZXJlZC5cclxuICovXHJcbmxldCBsaXN0ZW5lcnNMaXN0OiB7IGlkOiBzdHJpbmcsIGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkIH1bXSA9IFtdO1xyXG5cclxuZnVuY3Rpb24gYWRkTGlzdGVuZXIoaWQ6IHN0cmluZywgZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuXHRVaVV0aWxzLnJlZ2lzdGVyTGlzdGVuZXIoaWQsIGV2ZW50LCBsaXN0ZW5lcik7XHJcblx0bGlzdGVuZXJzTGlzdC5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBpZDogaWQsIGxpc3RlbmVyOiBsaXN0ZW5lciB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKCk6IHZvaWQge1xyXG5cdGZvciAobGV0IGxpc3RlbmVyIG9mIGxpc3RlbmVyc0xpc3QpIHtcclxuXHRcdFVpVXRpbHMudW5yZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyLmlkLCBsaXN0ZW5lci5ldmVudCwgbGlzdGVuZXIubGlzdGVuZXIpO1xyXG5cdH1cclxuXHRsaXN0ZW5lcnNMaXN0ID0gW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBldmVudHMgZm9yIHNpbmdsZSBiZWxseSBiYW5kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTaW5nbGUoZmVlZGJhY2tUeXBlOiBGZWVkYmFja1R5cGUsXHJcblx0UEFORUxURU1QTEFURVM6IHsgW2tleTogbnVtYmVyXTogSVBhbmVsVGVtcGxhdGUgfSxcclxuXHRPTl9ESVNNSVNTOiBJT25EaXNtaXNzRGVsZWdhdGUgPSBmdW5jdGlvbiAoc3VibWl0dGVkOiBib29sZWFuKSB7IHJldHVybjsgfSkge1xyXG5cdHNlbGVjdGVkRmVlZGJhY2tUeXBlID0gZmVlZGJhY2tUeXBlO1xyXG5cdHBhbmVsVGVtcGxhdGVzID0gUEFORUxURU1QTEFURVM7XHJcblxyXG5cdC8vIFNpbmdsZUZvcm1UZW1wbGF0ZSBldmVudHNcclxuXHRhZGRMaXN0ZW5lcihJRHMuU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvbiwgXCJjbGlja1wiLCBzdWJtaXRCdXR0b25IYW5kbGVyRmFjdG9yeShJRHMuU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvbixcclxuXHRcdElEcy5TaW5nbGVGb3JtU3VibWl0QnV0dG9uU3Bpbm5lciwgSURzLlNpbmdsZUZvcm1Db21tZW50LCBJRHMuU2luZ2xlRm9ybUVtYWlsSW5wdXQsXHJcblx0XHRJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCwgSURzLlNpbmdsZUZvcm1TY3JlZW5zaG90UHJldmlldywgSURzLlNpbmdsZUZvcm1DYXRlZ29yaWVzRHJvcGRvd24pKTtcclxuXHJcblx0Ly8gU2NyZWVuc2hvdCBjaGVja2JveCBjbGljayBldmVudHNcclxuXHRhZGRMaXN0ZW5lcihJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCwgXCJjbGlja1wiLCBTY3JlZW5zaG90Q2hlY2tib3hDbGlja0hhbmRsZXJcclxuXHRcdChJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCwgSURzLlNpbmdsZUZvcm1TY3JlZW5zaG90UHJldmlldykpO1xyXG5cclxuXHQvLyBDbG9zZSBidXR0b24gY2xpY2sgZXZlbnQuXHJcblx0YWRkTGlzdGVuZXIoSURzLkNsb3NlQnV0dG9uLCBcImNsaWNrXCIsICgpID0+IHsgZGlzbWlzc0FsbCgpOyB9KTtcclxuXHJcblx0Ly8gVGhhbmtzUGFuZWwgZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLlRoYW5rc1BhbmVsQ2xvc2VCdXR0b24sIFwiY2xpY2tcIiwgKGV2ZW50OiBFdmVudCkgPT4gQ2xvc2VCdXR0b24oZXZlbnQpKTtcclxuXHJcblx0Ly8gY2FuY2VsIGJ1dHRvbiBldmVudHNcclxuXHRhZGRMaXN0ZW5lcihJRHMuU2luZ2xlRm9ybUNhbmNlbEJ1dHRvbiwgXCJjbGlja1wiLCBDYW5jZWxCdXR0b25IYW5kbGVyKTtcclxuXHRyZWdpc3RlckNvbW1vbihPTl9ESVNNSVNTKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVyIGV2ZW50cyBmb3IgbXVsdGkgYmVsbHkgYmFuZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyTXVsdGkoRk9STVRFTVBMQVRFUzogeyBba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlIH0sXHJcblx0UEFORUxURU1QTEFURVM6IHsgW2tleTogbnVtYmVyXTogSVBhbmVsVGVtcGxhdGUgfSxcclxuXHRVU0VfTkFSUk9XX0xBWU9VVDogYm9vbGVhbixcclxuXHRUUkFOU0lUSU9ORU5BQkxFRDogYm9vbGVhbixcclxuXHRPTl9ESVNNSVNTOiBJT25EaXNtaXNzRGVsZWdhdGUgPSBmdW5jdGlvbiAoc3VibWl0dGVkOiBib29sZWFuKSB7IHJldHVybjsgfSkge1xyXG5cdHVzZU5hcnJvd0xheW91dCA9IFVTRV9OQVJST1dfTEFZT1VUO1xyXG5cdGZvcm1UZW1wbGF0ZXMgPSBGT1JNVEVNUExBVEVTO1xyXG5cdHBhbmVsVGVtcGxhdGVzID0gUEFORUxURU1QTEFURVM7XHJcblx0dHJhbnNpdGlvbkVuYWJsZWQgPSBUUkFOU0lUSU9ORU5BQkxFRDtcclxuXHJcblx0YWRkTGlzdGVuZXIoSURzLk92ZXJhbGxTbWlsZUFuY2hvciwgXCJjbGlja1wiLCBvdmVyYWxsU21pbGVIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuT3ZlcmFsbEZyb3duQW5jaG9yLCBcImNsaWNrXCIsIG92ZXJhbGxGcm93bkhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5PdmVyYWxsSWRlYUFuY2hvciwgXCJjbGlja1wiLCBvdmVyYWxsSWRlYUhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5PdmVyYWxsQnVnQW5jaG9yLCBcImNsaWNrXCIsIG92ZXJhbGxCdWdIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuQ2xvc2VCdXR0b24sIFwiY2xpY2tcIiwgKCkgPT4geyBkaXNtaXNzQWxsKCk7IH0pO1xyXG5cclxuXHQvLyBCYXNpY0Zvcm1UZW1wbGF0ZSBldmVudHNcclxuXHRhZGRMaXN0ZW5lcihJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uLCBcImNsaWNrXCIsIHN1Ym1pdEJ1dHRvbkhhbmRsZXJGYWN0b3J5KElEcy5CYXNpY0Zvcm1TdWJtaXRCdXR0b24sXHJcblx0XHRJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uU3Bpbm5lciwgSURzLkJhc2ljRm9ybUNvbW1lbnQsIElEcy5CYXNpY0Zvcm1FbWFpbElucHV0LFxyXG5cdFx0SURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCwgSURzLkJhc2ljRm9ybVNjcmVlbnNob3RQcmV2aWV3LCBJRHMuQmFzaWNGb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duKSk7XHJcblxyXG5cdC8vIFNjcmVlbnNob3QgY2hlY2tib3ggY2xpY2sgZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCwgXCJjbGlja1wiLCBTY3JlZW5zaG90Q2hlY2tib3hDbGlja0hhbmRsZXIoSURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCxcclxuXHRcdElEcy5CYXNpY0Zvcm1TY3JlZW5zaG90UHJldmlldykpO1xyXG5cclxuXHRhZGRMaXN0ZW5lcihJRHMuT3ZlcmFsbEZlZWRiYWNrUG9ydGFsSWRlYUFuY2hvciwgXCJjbGlja1wiLCBvdmVyYWxsRmVlZGJhY2tQb3J0YWxJZGVhSGFuZGxlcik7XHJcblxyXG5cdC8vIFRoYW5rc1BhbmVsIGV2ZW50c1xyXG5cdGFkZExpc3RlbmVyKElEcy5UaGFua3NQYW5lbENsb3NlQnV0dG9uLCBcImNsaWNrXCIsIChldmVudDogRXZlbnQpID0+IENsb3NlQnV0dG9uKGV2ZW50KSk7XHJcblxyXG5cdC8vIGNhbmNlbCBidXR0b24gZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLkJhc2ljRm9ybUNhbmNlbEJ1dHRvbiwgXCJjbGlja1wiLCBDYW5jZWxCdXR0b25IYW5kbGVyKTtcclxuXHJcblx0cmVnaXN0ZXJDb21tb24oT05fRElTTUlTUyk7XHJcblxyXG5cdGlmICghdHJhbnNpdGlvbkVuYWJsZWQpIHtcclxuXHRcdFVpVXRpbHMuYWRkQ2xhc3NCeUlkKElEcy5NYWluQ29udGVudEhvbGRlciwgQ2xhc3Nlcy5NYXJnaW5MZWZ0MTgwcHgpO1xyXG5cdFx0VWlVdGlscy5hZGRDbGFzc0J5SWQoSURzLkNvbHVtblNlcGFyYXRvckRpdiwgQ2xhc3Nlcy5TaG93UmlnaHRCb3JkZXIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJDb21tb24oT05fRElTTUlTUzogSU9uRGlzbWlzc0RlbGVnYXRlKTogdm9pZCB7XHJcblx0b25EaXNtaXNzID0gT05fRElTTUlTUztcclxuXHJcblx0VWlVdGlscy5hZGRFdmVudExpc3RlbmVySGVscGVyKHdpbmRvdywgXCJrZXl1cFwiLCBrZXlFdmVudEhhbmRsZXIpO1xyXG5cclxuXHRhZGRMaXN0ZW5lcihJRHMuT3ZlcmxheUJhY2tncm91bmQsIFwiY2xpY2tcIiwgb3ZlcmxheUJhY2tncm91bmRIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuTWFpbkNvbnRhaW5lciwgXCJjbGlja1wiLCBtYWluQ29udGFpbmVySGFuZGxlcik7XHJcblx0YWRkTGlzdGVuZXIoSURzLk1haW5Db250YWluZXIsIFwia2V5dXBcIiwgdGFiS2V5RXZlbnRIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuUHJpdmFjeVN0YXRlbWVudExpbmssIFwiY2xpY2tcIiwgcHJpdmFjeVN0YXRlbWVudExpbmtIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuRW1haWxDaGVja0JveCwgXCJjbGlja1wiLCBlbWFpbENoZWNrQm94SGFuZGxlcik7XHJcblx0YWRkTGlzdGVuZXIoSURzLkJhc2ljRm9ybUNvbW1lbnQsIFwia2V5dXBcIiwgYmFzaWNGb3JtSW5wdXRIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuU2luZ2xlRm9ybUNvbW1lbnQsIFwia2V5dXBcIiwgc2luZ2xlRm9ybUlucHV0SGFuZGxlcik7XHJcblx0ZW1haWxDaGVja0JveEhhbmRsZXIobnVsbCk7IC8vIGNhbGwgdGhlIGNoZWNrYm94IGhhbmRsZXIgdG8gcHJvY2VzcyB0aGUgaW5pdGlhbCBzdGF0ZVxyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuZXIgdW4tcmVnaXN0cmF0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiB1bnJlZ2lzdGVyKCk6IHZvaWQge1xyXG5cdFVpVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lckhlbHBlcih3aW5kb3csIFwia2V5dXBcIiwga2V5RXZlbnRIYW5kbGVyKTtcclxuXHRyZW1vdmVMaXN0ZW5lcnMoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRhYiBrZXkgZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gdGFiS2V5RXZlbnRIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdGxldCBrZXlDb2RlID0gKDxLZXlib2FyZEV2ZW50PiBldmVudCkua2V5Q29kZSB8fCAoPEtleWJvYXJkRXZlbnQ+IGV2ZW50ICkud2hpY2g7XHJcblxyXG5cdGlmIChrZXlDb2RlID09PSBLZXlzLlRhYikge1xyXG5cdFx0aWYgKChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlkID09PSBJRHMuRmlyc3RUYWJiYWJsZSAmJiAoPEtleWJvYXJkRXZlbnQ+IGV2ZW50KS5zaGlmdEtleSkgfHxcclxuXHRcdFx0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgPT09IElEcy5MYXN0VGFiYmFibGUgJiYgISg8S2V5Ym9hcmRFdmVudD4gZXZlbnQpLnNoaWZ0S2V5KSkge1xyXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0VGFiRm9jdXMuY3ljbGVUYWJGb2N1cyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBLZXkgZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24ga2V5RXZlbnRIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdC8vIGRpc21pc3MgZmVlZGJhY2sgdXBvbiBwcmVzc2luZyB0aGUgZXNjYXBlIGtleVxyXG5cdGlmICgoPEtleWJvYXJkRXZlbnQ+IGV2ZW50KS5rZXlDb2RlID09PSBLZXlzLkVzYykge1xyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdGRpc21pc3NBbGwoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPdmVybGF5IGJhY2tncm91bmQgZXZlbnQgaGFuZGxlci4gRGlzbWlzcyBmZWVkYmFjayB1cG9uIGNsaWNraW5nIG9uIHRoZSBiYWNrZ3JvdW5kIGFyZWFcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG92ZXJsYXlCYWNrZ3JvdW5kSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdGRpc21pc3NBbGwoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1haW4gY29udGFpbmVyIGV2ZW50IGhhbmRsZXIuIFdoZW4gY2xpY2tpbmcgb24gbWFpbiBjb250YWluZXIgYXJlYSwgZG8gbm90IHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gbG93ZXIgbGV2ZWwuXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBtYWluQ29udGFpbmVySGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByaXZhY3kgc3RhdGVtZW50IGxpbmsgaGFuZGxlci4gV2hlbiBjbGlja2luZyBvbiB0aGUgcHJpdmFjeSBzdGF0ZW1lbnQgbGluayxcclxuICogZG8gbm90IHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gbG93ZXIgbGV2ZWwuXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwcml2YWN5U3RhdGVtZW50TGlua0hhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPdmVyYWxsIGJ1dHRvbiBjbGljayBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqIEBwYXJhbSBhY2hvcklkIFRoZSBpZCBvZiB0aGUgYW5jaG9yIGh0bWwgZWxlbWVudCB3aGljaCB3YXMgc2VsZWN0ZWRcclxuICovXHJcbmZ1bmN0aW9uIG92ZXJhbGxIYW5kbGVyKGV2ZW50OiBFdmVudCwgYW5jaG9ySWQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdFVpVXRpbHMucmVwbGFjZUNsYXNzZXNCeUlkKElEcy5PdmVyYWxsU21pbGVBbmNob3IsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblx0VWlVdGlscy5yZXBsYWNlQ2xhc3Nlc0J5SWQoSURzLk92ZXJhbGxGcm93bkFuY2hvciwgQ2xhc3Nlcy5PdmVyYWxsQW5jaG9yQWN0aXZlKTtcclxuXHRVaVV0aWxzLnJlcGxhY2VDbGFzc2VzQnlJZChJRHMuT3ZlcmFsbElkZWFBbmNob3IsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblx0VWlVdGlscy5yZXBsYWNlQ2xhc3Nlc0J5SWQoSURzLk92ZXJhbGxCdWdBbmNob3IsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblxyXG5cdGlmIChhbmNob3JJZCkge1xyXG5cdFx0VWlVdGlscy5hZGRDbGFzc0J5SWQoYW5jaG9ySWQsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblx0fVxyXG5cclxuXHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0TG9nZ2luZy5FdmVudElkcy5JbkFwcC5VSS5Gb3JtLlNob3duLlZBTFVFLFxyXG5cdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdHsgRmVlZGJhY2tUeXBlOiBzZWxlY3RlZEZlZWRiYWNrVHlwZSwgUGFuZWxUeXBlOiBzZWxlY3RlZFBhbmVsVHlwZSB9KTtcclxuXHJcblx0aWYgKHR5cGVvZiAoc2VsZWN0ZWRGZWVkYmFja1R5cGUpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5MZWZ0Rm9ybUNvbnRhaW5lciwgdHJ1ZSk7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCB0cnVlKTtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLkxlZnRQYW5lbENvbnRhaW5lciwgZmFsc2UpO1xyXG5cdFx0bGV0IGZvcm1UZW1wbGF0ZTogSUZvcm1UZW1wbGF0ZSA9IGZvcm1UZW1wbGF0ZXNbc2VsZWN0ZWRGZWVkYmFja1R5cGVdO1xyXG5cdFx0bWFpbkNvbnRlbnRIb2xkZXJTbGlkZUxlZnQoZm9ybVRlbXBsYXRlLmNvbnRhaW5lcklkKTtcclxuXHJcblx0XHRpZiAodHJhbnNpdGlvbkVuYWJsZWQpIHtcclxuXHRcdFx0bWFpbkNvbnRlbnRIb2xkZXJTbGlkZUxlZnQoZm9ybVRlbXBsYXRlLmNvbnRhaW5lcklkKTtcclxuXHRcdH1cclxuXHRcdGZvcm1UZW1wbGF0ZS5vblNlbGVjdChzZWxlY3RlZEZlZWRiYWNrVHlwZSk7XHJcblx0fVxyXG5cclxuXHRpZiAodHlwZW9mIChzZWxlY3RlZFBhbmVsVHlwZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLkxlZnRGb3JtQ29udGFpbmVyLCBmYWxzZSk7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBmYWxzZSk7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5MZWZ0UGFuZWxDb250YWluZXIsIHRydWUpO1xyXG5cdFx0Zm9yIChsZXQgcGFuZWxUeXBlIGluIHBhbmVsVGVtcGxhdGVzKSB7XHJcblx0XHRcdGlmIChwYW5lbFRlbXBsYXRlcy5oYXNPd25Qcm9wZXJ0eShwYW5lbFR5cGUpKSB7XHJcblx0XHRcdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShwYW5lbFRlbXBsYXRlc1twYW5lbFR5cGVdLmNvbnRhaW5lcklkLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0bGV0IHBhbmVsVGVtcGxhdGU6IElQYW5lbFRlbXBsYXRlID0gcGFuZWxUZW1wbGF0ZXNbc2VsZWN0ZWRQYW5lbFR5cGVdO1xyXG5cdFx0cGFuZWxUZW1wbGF0ZS5vblNlbGVjdChzZWxlY3RlZFBhbmVsVHlwZSk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogU21pbGUgYnV0dG9uIGV2ZW50IGhhbmRsZXJcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG92ZXJhbGxTbWlsZUhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0c2VsZWN0ZWRGZWVkYmFja1R5cGUgPSBGZWVkYmFja1R5cGUuU21pbGU7XHJcblx0c2VsZWN0ZWRQYW5lbFR5cGUgPSB1bmRlZmluZWQ7XHJcblx0c2V0QXJpYVNlbGVjdGVkQXR0cmlidXRlcyhJRHMuT3ZlcmFsbFNtaWxlQW5jaG9yKTtcclxuXHRVaVV0aWxzLnNldEF0dHJpYnV0ZU9uSHRtbEVsZW1lbnQoSURzLk1pZGRsZUZvcm1Db250YWluZXIsIEF0dHJpYnV0ZU5hbWUuQXJpYUV4cGFuZGVkLCBBdHRyaWJ1dGVWYWx1ZS5UcnVlKTtcclxuXHRVaVV0aWxzLnNldEF0dHJpYnV0ZU9uSHRtbEVsZW1lbnQoSURzLk1pZGRsZUZvcm1Db250YWluZXIsIEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsbGVkQnksIElEcy5PdmVyYWxsU21pbGVBbmNob3IpO1xyXG5cdG92ZXJhbGxIYW5kbGVyKGV2ZW50LCBJRHMuT3ZlcmFsbFNtaWxlQW5jaG9yKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZyb3duIGJ1dHRvbiBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBvdmVyYWxsRnJvd25IYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdHNlbGVjdGVkRmVlZGJhY2tUeXBlID0gRmVlZGJhY2tUeXBlLkZyb3duO1xyXG5cdHNlbGVjdGVkUGFuZWxUeXBlID0gdW5kZWZpbmVkO1xyXG5cdHNldEFyaWFTZWxlY3RlZEF0dHJpYnV0ZXMoSURzLk92ZXJhbGxGcm93bkFuY2hvcik7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFFeHBhbmRlZCwgQXR0cmlidXRlVmFsdWUuVHJ1ZSk7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbGxlZEJ5LCBJRHMuT3ZlcmFsbEZyb3duQW5jaG9yKTtcclxuXHRvdmVyYWxsSGFuZGxlcihldmVudCwgSURzLk92ZXJhbGxGcm93bkFuY2hvcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJZGVhIGJ1dHRvbiBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBvdmVyYWxsSWRlYUhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0c2VsZWN0ZWRGZWVkYmFja1R5cGUgPSBGZWVkYmFja1R5cGUuSWRlYTtcclxuXHRzZWxlY3RlZFBhbmVsVHlwZSA9IHVuZGVmaW5lZDtcclxuXHRzZXRBcmlhU2VsZWN0ZWRBdHRyaWJ1dGVzKElEcy5PdmVyYWxsSWRlYUFuY2hvcik7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFFeHBhbmRlZCwgQXR0cmlidXRlVmFsdWUuVHJ1ZSk7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbGxlZEJ5LCBJRHMuT3ZlcmFsbElkZWFBbmNob3IpO1xyXG5cdG92ZXJhbGxIYW5kbGVyKGV2ZW50LCBJRHMuT3ZlcmFsbElkZWFBbmNob3IpO1xyXG59XHJcblxyXG4vKipcclxuICogQnVnIGJ1dHRvbiBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBvdmVyYWxsQnVnSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRzZWxlY3RlZEZlZWRiYWNrVHlwZSA9IEZlZWRiYWNrVHlwZS5CdWc7XHJcblx0c2VsZWN0ZWRQYW5lbFR5cGUgPSB1bmRlZmluZWQ7XHJcblx0c2V0QXJpYVNlbGVjdGVkQXR0cmlidXRlcyhJRHMuT3ZlcmFsbEJ1Z0FuY2hvcik7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFFeHBhbmRlZCwgQXR0cmlidXRlVmFsdWUuVHJ1ZSk7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbGxlZEJ5LCBJRHMuT3ZlcmFsbEJ1Z0FuY2hvcik7XHJcblx0b3ZlcmFsbEhhbmRsZXIoZXZlbnQsIElEcy5PdmVyYWxsQnVnQW5jaG9yKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoYW5rcyBwYW5lIGV2ZW50IGhhbmRsZXJcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG92ZXJhbGxUaGFua3NIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdHNlbGVjdGVkRmVlZGJhY2tUeXBlID0gdW5kZWZpbmVkO1xyXG5cdHNlbGVjdGVkUGFuZWxUeXBlID0gUGFuZWxUeXBlLlRoYW5rcztcclxuXHJcblx0U2V0VmlzaWJpbGl0eUV4Y2VwdEZvcihJRHMuVGhhbmtzUGFuZWxDb250YWluZXIsIGZhbHNlKTtcclxuXHJcblx0b3ZlcmFsbEhhbmRsZXIoZXZlbnQsIHVuZGVmaW5lZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXRzIHZpc2liaWxpdHkgZm9yIGFsbCBjb250ZW50IHBhbmVzIGV4Y2VwdCBmb3Igc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0gZXhjZXB0IFBhbmUgbm90IHRvIHNldCB2aXNpYmlsaXR5IGZvci5cclxuICogQHBhcmFtIHZpc2libGUgVmlzaWJpbGl0eSB0byBiZSBzZXRcclxuICovXHJcbmZ1bmN0aW9uIFNldFZpc2liaWxpdHlFeGNlcHRGb3IoZXhjZXB0OiBzdHJpbmcsIHZpc2libGU6IGJvb2xlYW4pIHtcclxuXHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5MZWZ0Rm9ybUNvbnRhaW5lciwgdmlzaWJsZSk7XHJcblx0Y29uc3QgZmVlZGJhY2tQYW5lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5NaWRkbGVGb3JtQ29udGFpbmVyKS5jaGlsZHJlbjtcclxuXHRmb3IgKGxldCBjdXJyZW50RmVlZGJhY2tQYW5lID0gMDsgY3VycmVudEZlZWRiYWNrUGFuZSA8IGZlZWRiYWNrUGFuZXMubGVuZ3RoOyBjdXJyZW50RmVlZGJhY2tQYW5lKyspIHtcclxuXHRcdGlmIChmZWVkYmFja1BhbmVzW2N1cnJlbnRGZWVkYmFja1BhbmVdLmlkICE9PSBleGNlcHQpIHtcclxuXHRcdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShmZWVkYmFja1BhbmVzW2N1cnJlbnRGZWVkYmFja1BhbmVdLmlkLCB2aXNpYmxlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYWluIGNvbnRlbnQgaG9sZGVyIHNsaWRlIGxlZnQgYW5pbWF0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWluZXJJZCBUaGUgaWQgb2YgdGhlIGNvbnRhaW5lciB0byBiZSBtYWRlIHZpc2libGVcclxuICogQHJldHVybiB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIG1haW5Db250ZW50SG9sZGVyU2xpZGVMZWZ0KGNvbnRhaW5lcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRmb3IgKGxldCBmZWVkYmFja1R5cGUgaW4gZm9ybVRlbXBsYXRlcykge1xyXG5cdFx0aWYgKGZvcm1UZW1wbGF0ZXMuaGFzT3duUHJvcGVydHkoZmVlZGJhY2tUeXBlKSkge1xyXG5cdFx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KGZvcm1UZW1wbGF0ZXNbZmVlZGJhY2tUeXBlXS5jb250YWluZXJJZCwgZmFsc2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHVzZU5hcnJvd0xheW91dCkge1xyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuTGVmdEZvcm1Db250YWluZXIsIGZhbHNlKTtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLk1pZGRsZUZvcm1Db250YWluZXIsIHRydWUpO1xyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShjb250YWluZXJJZCwgdHJ1ZSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdFVpVXRpbHMuYWRkQ2xhc3NCeUlkKElEcy5Db2x1bW5TZXBhcmF0b3JEaXYsIENsYXNzZXMuU2hvd1JpZ2h0Qm9yZGVyKTtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLk1pZGRsZUZvcm1Db250YWluZXIsIHRydWUpO1xyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShjb250YWluZXJJZCwgdHJ1ZSk7XHJcblx0XHRVaVV0aWxzLmFkZENsYXNzQnlJZChJRHMuTGVmdEZvcm1Db250YWluZXIsIENsYXNzZXMuU2xpZGVMZWZ0KTtcclxuXHRcdFVpVXRpbHMuYWRkQ2xhc3NCeUlkKElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBDbGFzc2VzLlNsaWRlTGVmdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogU3VibWl0IGJ1dHRvbiBldmVudCBoYW5kbGVyIGZhY3RvcnlcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIHN1Ym1pdEJ1dHRvbkhhbmRsZXJGYWN0b3J5KHN1Ym1pdEJ1dHRvbklkOiBzdHJpbmcsIHNwaW5uZXJJZDogc3RyaW5nLCBjb21tZW50SW5wdXRJZDogc3RyaW5nLFxyXG5cdGVtYWlsSW5wdXRJZDogc3RyaW5nLCBzY3JlZW5zaG90Q2hlY2tib3hJZDogc3RyaW5nLCBzY3JlZW5zaG90UHJldmlld0lkOiBzdHJpbmcsXHJcblx0Y2F0ZWdvcmllc0Ryb3Bkb3duSWQ6IHN0cmluZyk6IChldmVudDogRXZlbnQpID0+IHZvaWQge1xyXG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQ6IEV2ZW50KSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShzdWJtaXRCdXR0b25JZCwgZmFsc2UpO1xyXG5cdFx0bGV0IHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihzcGlubmVySWQpO1xyXG5cclxuXHRcdGxldCB0cmFuc3BvcnRlcjogVHJhbnNwb3J0ZXIgPSBuZXcgVHJhbnNwb3J0ZXIoXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5lbnZpcm9ubWVudCxcclxuXHRcdFx0XCJTYXNcIixcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFwcElkLFxyXG5cdFx0XHRzZWxlY3RlZEZlZWRiYWNrVHlwZSxcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS50ZWxlbWV0cnlHcm91cCxcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLndlYkdyb3VwLFxyXG5cdFx0KTtcclxuXHJcblx0XHRsZXQgY29tbWVudEVsZW1lbnQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQgPSA8SFRNTFRleHRBcmVhRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29tbWVudElucHV0SWQpO1xyXG5cdFx0bGV0IGNvbW1lbnRFbnRlcmVkOiBib29sZWFuID0gKGNvbW1lbnRFbGVtZW50ICYmICEhY29tbWVudEVsZW1lbnQudmFsdWUpO1xyXG5cdFx0aWYgKGNvbW1lbnRFbnRlcmVkKSB7XHJcblx0XHRcdHRyYW5zcG9ydGVyLnNldENvbW1lbnQoY29tbWVudEVsZW1lbnQudmFsdWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBlbWFpbENoZWNrQm94OiBIVE1MSW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5FbWFpbENoZWNrQm94KTtcclxuXHRcdGxldCBlbWFpbEVsZW1lbnQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQgPSA8SFRNTFRleHRBcmVhRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZW1haWxJbnB1dElkKTtcclxuXHRcdGxldCBpc0VtYWlsSW5jbHVkZWQ6IGJvb2xlYW4gPSAoZW1haWxFbGVtZW50ICYmICEhZW1haWxFbGVtZW50LnZhbHVlKTtcclxuXHRcdGlmIChlbWFpbENoZWNrQm94ICYmIGVtYWlsQ2hlY2tCb3guY2hlY2tlZCAmJiBpc0VtYWlsSW5jbHVkZWQpIHtcclxuXHRcdFx0dHJhbnNwb3J0ZXIuc2V0RW1haWwoZW1haWxFbGVtZW50LnZhbHVlKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgc2NyZWVuc2hvdENoZWNrQm94ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNjcmVlbnNob3RDaGVja2JveElkKTtcclxuXHRcdGxldCBzY3JlZW5zaG90Q2hlY2tCb3hTZWxlY3RlZDogYm9vbGVhbiA9IHNjcmVlbnNob3RDaGVja0JveCAmJiBzY3JlZW5zaG90Q2hlY2tCb3guY2hlY2tlZDtcclxuXHJcblx0XHRsZXQgY2F0ZWdvcnlFbGVtZW50OiBIVE1MU2VsZWN0RWxlbWVudCA9IDxIVE1MU2VsZWN0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2F0ZWdvcmllc0Ryb3Bkb3duSWQpO1xyXG5cdFx0bGV0IGlzQ2F0ZWdvcnlTZWxlY3RlZDogYm9vbGVhbiA9IChjYXRlZ29yeUVsZW1lbnQgJiYgY2F0ZWdvcnlFbGVtZW50LnNlbGVjdGVkSW5kZXggPiAwKTtcclxuXHRcdGlmIChpc0NhdGVnb3J5U2VsZWN0ZWQpIHtcclxuXHRcdFx0dHJhbnNwb3J0ZXIuc2V0Q2F0ZWdvcnkoY2F0ZWdvcnlFbGVtZW50LnZhbHVlKTtcclxuXHRcdH1cclxuXHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuSW5BcHAuVUkuRm9ybS5TdWJtaXQuVkFMVUUsXHJcblx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRGZWVkYmFja1R5cGU6IHNlbGVjdGVkRmVlZGJhY2tUeXBlLFxyXG5cdFx0XHRcdElzRW1haWxJbmNsdWRlZDogaXNFbWFpbEluY2x1ZGVkLFxyXG5cdFx0XHRcdElzU2NyZWVuc2hvdEluY2x1ZGVkOiBzY3JlZW5zaG90Q2hlY2tCb3hTZWxlY3RlZCxcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAoc2NyZWVuc2hvdENoZWNrQm94U2VsZWN0ZWQpIHtcclxuXHRcdFx0bGV0IHN0YXJ0VGltZTogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdFNjcmVlbnNob3QuY3JlYXRlU2NyZWVuc2hvdChkb2N1bWVudC5ib2R5KS50aGVuKFxyXG5cdFx0XHRcdChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgZW5kVGltZTogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuUmVuZGVyLlN1Y2Nlc3MuVkFMVUUsXHJcblx0XHRcdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdFx0XHRcdHsgVGltZU1pbGxpc2Vjb25kczogZW5kVGltZSAtIHN0YXJ0VGltZSB9KTtcclxuXHRcdFx0XHRcdHRyYW5zcG9ydGVyLnNldFNjcmVlbnNob3QoY2FudmFzKTtcclxuXHRcdFx0XHRcdHRyYW5zcG9ydGVyLnN1Ym1pdCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KS5jYXRjaCgoZXJyb3I6IGFueSkgPT4ge1xyXG5cdFx0XHRcdGxldCBlbmRUaW1lOiBudW1iZXIgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuUmVuZGVyLkZhaWxlZC5WQUxVRSxcclxuXHRcdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0XHR7IEVycm9yTWVzc2FnZTogZXJyb3IsIFRpbWVNaWxsaXNlY29uZHM6IGVuZFRpbWUgLSBzdGFydFRpbWUgfSk7XHJcblx0XHRcdFx0dHJhbnNwb3J0ZXIuc3VibWl0KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dHJhbnNwb3J0ZXIuc3VibWl0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0c3Bpbm5lci5kZXN0cm95KCk7XHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLnNldEZlZWRiYWNrU3VibWl0dGVkKHRydWUpO1xyXG5cdFx0aWYgKCFDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLmlzU2hvd1RoYW5rcykge1xyXG5cdFx0XHRkaXNtaXNzQWxsKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvdmVyYWxsVGhhbmtzSGFuZGxlcihldmVudCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsb3NlIGJ1dHRvbiBldmVudFxyXG4gKi9cclxuZnVuY3Rpb24gQ2xvc2VCdXR0b24oZXZlbnQ6IEV2ZW50KSB7XHJcblx0U2V0VmlzaWJpbGl0eUV4Y2VwdEZvcihJRHMuVGhhbmtzUGFuZWxDb250YWluZXIsIHRydWUpO1xyXG5cdGRpc21pc3NBbGwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3ZlcmFsbEZlZWRiYWNrUG9ydGFsSWRlYUhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0d2luZG93Lm9wZW4oQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5mZWVkYmFja0ZvcnVtVXJsKTtcclxuXHRkaXNtaXNzQWxsKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTY3JlZW5zaG90Q2hlY2tib3ggQ2xpY2sgZXZlbnQgaGFuZGxlci4gUG9wdWxhdGUgcHJldmlldyBpZiBjaGVja2JveCBpcyBjaGVja2VkIFxyXG4gKiBAcGFyYW0gc2NyZWVuc2hvdENoZWNrYm94SWQgVGhlIElkIG9mIHNjcmVlbnNob3QgY2hlY2tib3hcclxuICogQHBhcmFtIHNjcmVlbnNob3RQcmV2aWV3SWQgVGhlIElkIG9mIHByZXZpZXdcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIFNjcmVlbnNob3RDaGVja2JveENsaWNrSGFuZGxlcihzY3JlZW5zaG90Q2hlY2tib3hJZDogc3RyaW5nLCBzY3JlZW5zaG90UHJldmlld0lkOiBzdHJpbmcpOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50OiBFdmVudCkge1xyXG5cdFx0VWlVdGlscy5TY3JlZW5zaG90UHJldmlld0J5Q2hlY2tib3goc2NyZWVuc2hvdENoZWNrYm94SWQsIHNjcmVlbnNob3RQcmV2aWV3SWQpO1xyXG5cdH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYW5jZWwgYnV0dG9uIGV2ZW50IGhhbmRsZXIgZmFjdG9yeVxyXG4gKi9cclxuZnVuY3Rpb24gQ2FuY2VsQnV0dG9uSGFuZGxlcigpOiB2b2lkIHtcclxuXHRkaXNtaXNzQWxsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtYWlsQ2hlY2tCb3hIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdC8vIHNob3cgZW1haWwgaWYgY2hlY2tlZCBhbmQgc2hvdyBkZWZhdWx0IHN0cmluZyBpZiB1bmNoZWNrZWRcclxuXHRsZXQgZW1haWxDaGVja0JveDogSFRNTElucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuRW1haWxDaGVja0JveCk7XHJcblx0aWYgKGVtYWlsQ2hlY2tCb3gpIHtcclxuXHRcdC8vIG11bHRpRmVlZGJhY2sgZm9ybSBlbWFpbFRleHRCb3ggaGFzIGlkICBJRHMuQmFzaWNGb3JtRW1haWxJbnB1dFxyXG5cdFx0Ly8gc2luZ2xlRmVlZGJhY2sgZm9ybSBlbWFpbFRleHRCb3ggaGFzIGlkIElEcy5TaW5nbGVGb3JtRW1haWxJbnB1dFxyXG5cdFx0Ly8gRmlyc3Qgd2UgdHJ5IHRvIGdldCB3aXRoIElEcy5TaW5nbGVGb3JtRW1haWxJbnB1dFxyXG5cdFx0Ly8gaWYgaXQgZG9lcyBub3QgZXhpc3RzLCB3aGljaCBtZWFucyB0aGlzIGlzIGEgbXVsdGlGZWVkYmFjayBmb3JtLCB0aGVuIHdlIGdldCBpdCB3aXRoIElEcy5CYXNpY0Zvcm1FbWFpbElucHV0XHJcblx0XHRsZXQgZW1haWxUZXh0Qm94OiBIVE1MSW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5TaW5nbGVGb3JtRW1haWxJbnB1dCk7XHJcblx0XHRpZiAoIWVtYWlsVGV4dEJveCkge1xyXG5cdFx0XHRlbWFpbFRleHRCb3ggPSA8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLkJhc2ljRm9ybUVtYWlsSW5wdXQpO1xyXG5cdFx0fVxyXG5cdFx0ZW1haWxUZXh0Qm94LnZhbHVlID0gZW1haWxDaGVja0JveC5jaGVja2VkID8gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnVzZXJFbWFpbCA6IG51bGw7XHJcblx0XHRlbWFpbFRleHRCb3guZGlzYWJsZWQgPSAhZW1haWxDaGVja0JveC5jaGVja2VkO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYmFzaWNGb3JtSW5wdXRIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdGxldCBjb21tZW50RWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudCA9IDxIVE1MVGV4dEFyZWFFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuQmFzaWNGb3JtQ29tbWVudCk7XHJcblx0bGV0IGNvbW1lbnRFbnRlcmVkOiBib29sZWFuID0gKGNvbW1lbnRFbGVtZW50ICYmICEhY29tbWVudEVsZW1lbnQudmFsdWUpO1xyXG5cdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uKSBhcyBIVE1MQnV0dG9uRWxlbWVudCkuZGlzYWJsZWQgPSAhY29tbWVudEVudGVyZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpbmdsZUZvcm1JbnB1dEhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0bGV0IGNvbW1lbnRFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50ID0gPEhUTUxUZXh0QXJlYUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5TaW5nbGVGb3JtQ29tbWVudCk7XHJcblx0bGV0IGNvbW1lbnRFbnRlcmVkOiBib29sZWFuID0gKGNvbW1lbnRFbGVtZW50ICYmICEhY29tbWVudEVsZW1lbnQudmFsdWUpO1xyXG5cdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvbikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpLmRpc2FibGVkID0gIWNvbW1lbnRFbnRlcmVkO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/Events.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts":
/*!*********************************************************************!*\
  !*** ./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts ***!
  \*********************************************************************/
/*! exports provided: generate, containerId, onSelect, isEmailEnabled, isScreenshotEnabled, type */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerId\", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onSelect\", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isEmailEnabled\", function() { return isEmailEnabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isScreenshotEnabled\", function() { return isScreenshotEnabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"type\", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormTemplateType */ \"./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts\");\n/* harmony import */ var _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../CategoriesDropdown */ \"./scripts/app/UI/CategoriesDropdown.ts\");\n/* harmony import */ var _RatingControl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../RatingControl */ \"./scripts/app/UI/RatingControl.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/**\r\n * BasicFormTemplate.ts\r\n *\r\n * A form template with contact info fields.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var categories = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackLaunchOptions().categories;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormComment }],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormQuestionMiddleText],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormQuestionMiddleText,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Label,\r\n                innerText: !_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().transitionEnabled\r\n                    ? _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().SingleForm.Title\r\n                    : \"\",\r\n            },\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Id, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormCategoriesDropdown },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.CategoryPlaceholder }],\r\n                brs: categories.show,\r\n                children: _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__[\"generate\"](categories ? categories.customCategories : null),\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormCategoriesDropdown, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextInput],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Select,\r\n            },\r\n            {\r\n                attributes: [\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Placeholder,\r\n                        value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.CommentPlaceholder,\r\n                    },\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].MaxLength,\r\n                        value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].TextAreaMaxLength,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextInput],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormComment,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].TextArea,\r\n            },\r\n            {\r\n                brs: false,\r\n                children: [\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormRating }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormRatingLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.RatingLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Label,\r\n                    },\r\n                    _RatingControl__WEBPACK_IMPORTED_MODULE_3__[\"generate\"](_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormRating),\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormRatingContainer],\r\n            },\r\n            {\r\n                brs: isEmailEnabled(),\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].Unchecked,\r\n                                value: \"\",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormEmailCheckBox, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].EmailCheckBox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].EmailCheckBox }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormEmailLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.EmailCheckBoxLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].Text,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Placeholder,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].AriaLabel,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Name,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormEmailInput,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].MaxLength,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].TextAreaMaxLength,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Value,\r\n                                value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().userEmail\r\n                                    ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().userEmail\r\n                                    : \"\",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextInput],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormEmailInput,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Input,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormEmailContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Value,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].Unchecked,\r\n                            },\r\n                        ],\r\n                        brs: isScreenshotEnabled(),\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormScreenshotCheckbox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormScreenshotCheckbox }],\r\n                        brs: isScreenshotEnabled(),\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormScreenshotLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.ScreenshotLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Preview,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].ScreenshotPreview,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Alt,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.ScreenshotImgAltText,\r\n                            },\r\n                        ],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().screenshot,\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormScreenshotPreview,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormScreenshotPreview],\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Img,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormScreenshotContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.PrivacyLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft],\r\n                        innerText: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCommonInitOptions().isCommercialHost\r\n                            ? _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.PrivacyConsent + \" \" : \"\",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].HRef,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Urls\"].PrivacyStatementLink,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Target,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].BlankWindow,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Rel,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].NoReferrer,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].Link],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].PrivacyStatementLink,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().PrivacyStatement,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Anchor,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].PrivacyStatementLinkDiv],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].Button },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.Cancel },\r\n                        ],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].CancelButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormCancelButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.Cancel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Button,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeName\"].Disabled,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"AttributeValue\"].True,\r\n                            },\r\n                        ],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].SubmitButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormSubmitButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.Submit,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Button,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].Spinner, _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormSubmitButtonSpinner,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Tags\"].Div,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].FormSubmitButtonContainer],\r\n            },\r\n        ],\r\n        classes: [\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().transitionEnabled ? _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].Hidden : _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].Visible,\r\n            _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"Classes\"].MarginLeft60px,\r\n        ],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormContainer;\r\n/**\r\n * Forms may be used for different feedback types. This method executes form\r\n * specific logic when the feedback type is selected\r\n * @param feedbackType feedback type\r\n */\r\nfunction onSelect(feedbackType) {\r\n    switch (feedbackType) {\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__[\"FeedbackType\"].Smile: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().SmileForm.Title;\r\n            break;\r\n        }\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__[\"FeedbackType\"].Frown: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().FrownForm.Title;\r\n            break;\r\n        }\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__[\"FeedbackType\"].Idea: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().IdeaForm.Title;\r\n            break;\r\n        }\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__[\"FeedbackType\"].Bug: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().BugForm.Title;\r\n            break;\r\n        }\r\n        default: {\r\n            break;\r\n        }\r\n    }\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__[\"IDs\"].BasicFormComment).focus();\r\n}\r\nfunction isEmailEnabled() {\r\n    if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().showEmailAddress) {\r\n        return false;\r\n    }\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCommonInitOptions().isCommercialHost) {\r\n        return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCommonInitOptions().emailPolicyValue === 1 /* Enabled */;\r\n    }\r\n    return true;\r\n}\r\nfunction isScreenshotEnabled() {\r\n    if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().screenshot) {\r\n        return false;\r\n    }\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCommonInitOptions().isCommercialHost) {\r\n        return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCommonInitOptions().screenshotPolicyValue === 1 /* Enabled */;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__[\"FormTemplateType\"].Basic;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9CYXNpY0Zvcm1UZW1wbGF0ZS50cz83NjVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRXlEO0FBQ047QUFFVztBQUNWO0FBQ2lCO0FBQ1I7QUFDOEI7QUFFOUY7OztHQUdHO0FBQ0ksU0FBUyxRQUFRO0lBQ3ZCLElBQUksVUFBVSxHQUFHLGdFQUFpQixFQUFFLENBQUMsNkJBQTZCLEVBQUUsQ0FBQyxVQUFVLENBQUM7SUFDaEYsSUFBSSxVQUFVLEdBQUc7UUFDaEIsUUFBUSxFQUFFO1lBQ1Q7Z0JBQ0MsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLGdEQUFHLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDdEUsT0FBTyxFQUFFLENBQUMsb0RBQU8sQ0FBQyxZQUFZLEVBQUUsb0RBQU8sQ0FBQyxhQUFhLEVBQUUsb0RBQU8sQ0FBQyxzQkFBc0IsQ0FBQztnQkFDdEYsRUFBRSxFQUFFLGdEQUFHLENBQUMsMkJBQTJCO2dCQUNuQyxHQUFHLEVBQUUsaURBQUksQ0FBQyxLQUFLO2dCQUNmLFNBQVMsRUFBRSxDQUFDLGdFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxpQkFBaUI7b0JBQzlFLENBQUMsQ0FBQyxpRUFBc0IsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLO29CQUMzQyxDQUFDLENBQUMsRUFBRTthQUNMO1lBQ0Q7Z0JBQ0MsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLGdEQUFHLENBQUMsMkJBQTJCLEVBQUU7b0JBQy9FLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMs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QUM7WUFDdEIsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLDJCQUEyQixDQUFDLENBQUMsV0FBVyxHQUFHLGlFQUFzQixFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUM5RyxNQUFNO1NBQ047UUFDRCxPQUFPLENBQUMsQ0FBQztZQUNSLE1BQU07U0FDTjtLQUNEO0lBRUQsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDdkQsQ0FBQztBQUVNLFNBQVMsY0FBYztJQUM3QixJQUFJLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLGdCQUFnQixFQUFFO1FBQ3hFLE9BQU8sS0FBSyxDQUFDO0tBQ2I7SUFDRCxJQUFJLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRTtRQUNoRSxPQUFPLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxnQkFBZ0Isb0JBQXVCLENBQUM7S0FDMUY7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNiLENBQUM7QUFFTSxTQUFTLG1CQUFtQjtJQUNsQyxJQUFJLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLFVBQVUsRUFBRTtRQUNsRSxPQUFPLEtBQUssQ0FBQztLQUNiO0lBQ0QsSUFBSSxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsZ0JBQWdCLEVBQUU7UUFDaEUsT0FBTyxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMscUJBQXFCLG9CQUF1QixDQUFDO0tBQy9GO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDO0FBQ0Q7O0dBRUc7QUFDSSxJQUFJLElBQUksR0FBcUIsa0VBQWdCLENBQUMsS0FBSyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQmVsbHlCYW5kL0Zvcm1UZW1wbGF0ZXMvQmFzaWNGb3JtVGVtcGxhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQmFzaWNGb3JtVGVtcGxhdGUudHNcclxuICpcclxuICogQSBmb3JtIHRlbXBsYXRlIHdpdGggY29udGFjdCBpbmZvIGZpZWxkcy5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBVSVN0cmluZ3MgZnJvbSBcIi4vLi4vLi4vLi4vVUlTdHJpbmdzL1VJU3RyaW5nc1wiO1xyXG5pbXBvcnQgeyBGb3JtVGVtcGxhdGVUeXBlIH0gZnJvbSBcIi4vRm9ybVRlbXBsYXRlVHlwZVwiO1xyXG5pbXBvcnQgeyBJVUlBc0pzb24gfSBmcm9tIFwiLi8uLi8uLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgKiBhcyBDYXRlZ29yaWVzRHJvcGRvd24gZnJvbSBcIi4vLi4vLi4vQ2F0ZWdvcmllc0Ryb3Bkb3duXCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbnRyb2wgZnJvbSBcIi4vLi4vLi4vUmF0aW5nQ29udHJvbFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLy4uLy4uLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1R5cGUsIE9DUFNWYWx1ZXMgfSBmcm9tIFwiLi8uLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlTmFtZSwgQXR0cmlidXRlVmFsdWUsIENsYXNzZXMsIElEcywgVGFncywgVXJscyB9IGZyb20gXCIuLy4uLy4uL1VpQ29uc3RhbnRzXCI7XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgdGhlIG1hcmt1cFxyXG4gKiBAcmV0dXJucyB0aGUgbWFya3VwIGFzIGpzb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZSgpOiBJVUlBc0pzb24ge1xyXG5cdGxldCBjYXRlZ29yaWVzID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucygpLmNhdGVnb3JpZXM7XHJcblx0bGV0IGZvcm1TY2hlbWEgPSB7XHJcblx0XHRjaGlsZHJlbjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuQmFzaWNGb3JtQ29tbWVudCB9XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3VidGl0bGUsIENsYXNzZXMuVGV4dEFsaWduTGVmdCwgQ2xhc3Nlcy5Gb3JtUXVlc3Rpb25NaWRkbGVUZXh0XSxcclxuXHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0aW5uZXJUZXh0OiAhQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS50cmFuc2l0aW9uRW5hYmxlZFxyXG5cdFx0XHRcdFx0PyBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuU2luZ2xlRm9ybS5UaXRsZVxyXG5cdFx0XHRcdFx0OiBcIlwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5JZCwgdmFsdWU6IElEcy5CYXNpY0Zvcm1DYXRlZ29yaWVzRHJvcGRvd24gfSxcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uQ2F0ZWdvcnlQbGFjZWhvbGRlciB9XSxcclxuXHRcdFx0XHRicnM6IGNhdGVnb3JpZXMuc2hvdyxcclxuXHRcdFx0XHRjaGlsZHJlbjogQ2F0ZWdvcmllc0Ryb3Bkb3duLmdlbmVyYXRlKGNhdGVnb3JpZXMgPyBjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXMgOiBudWxsKSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5Gb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duLCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLlNlbGVjdCxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5QbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNvbW1lbnRQbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dEFyZWFNYXhMZW5ndGgsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuRm9ybUNvbW1lbnQsIENsYXNzZXMuVGV4dElucHV0XSxcclxuXHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybUNvbW1lbnQsXHJcblx0XHRcdFx0dGFnOiBUYWdzLlRleHRBcmVhLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJzOiBmYWxzZSwgLy8gZGlzYWJsZSByYXRpbmcgZm9yIG5vd1xyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuRm9yLCB2YWx1ZTogSURzLkJhc2ljRm9ybVJhdGluZyB9XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdCwgQ2xhc3Nlcy5Gb3JtUmF0aW5nTGFiZWxdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlJhdGluZ0xhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0UmF0aW5nQ29udHJvbC5nZW5lcmF0ZShJRHMuQmFzaWNGb3JtUmF0aW5nKSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1SYXRpbmdDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJzOiBpc0VtYWlsRW5hYmxlZCgpLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuQ2hlY2tib3gsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVWYWx1ZS5VbmNoZWNrZWQsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJcIixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtRW1haWxDaGVja0JveCwgQ2xhc3Nlcy5DaGVja0JveF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuRW1haWxDaGVja0JveCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuRW1haWxDaGVja0JveCB9XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdCwgQ2xhc3Nlcy5Gb3JtRW1haWxMYWJlbF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uRW1haWxDaGVja0JveExhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRleHQsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkVtYWlsUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5FbWFpbFBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5OYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IElEcy5CYXNpY0Zvcm1FbWFpbElucHV0LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5NYXhMZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dEFyZWFNYXhMZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6XHJcblx0XHRcdFx0XHRcdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkudXNlckVtYWlsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PyBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnVzZXJFbWFpbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDogXCJcIixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5Gb3JtRW1haWxJbnB1dCwgQ2xhc3Nlcy5UZXh0SW5wdXRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybUVtYWlsSW5wdXQsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtRW1haWxDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5DaGVja2JveCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVW5jaGVja2VkLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGJyczogaXNTY3JlZW5zaG90RW5hYmxlZCgpLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtU2NyZWVuc2hvdENoZWNrYm94LCBDbGFzc2VzLkNoZWNrQm94XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5CYXNpY0Zvcm1TY3JlZW5zaG90Q2hlY2tib3gsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuRm9yLCB2YWx1ZTogSURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCB9XSxcclxuXHRcdFx0XHRcdFx0YnJzOiBpc1NjcmVlbnNob3RFbmFibGVkKCksXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnQsIENsYXNzZXMuRm9ybVNjcmVlbnNob3RMYWJlbF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uU2NyZWVuc2hvdExhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5QcmV2aWV3LFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlNjcmVlbnNob3RQcmV2aWV3LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5BbHQsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uU2NyZWVuc2hvdEltZ0FsdFRleHQsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0YnJzOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnNjcmVlbnNob3QsXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuQmFzaWNGb3JtU2NyZWVuc2hvdFByZXZpZXcsXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1TY3JlZW5zaG90UHJldmlld10sXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5JbWcsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVNjcmVlbnNob3RDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46XHJcblx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViU3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0XSxcclxuXHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlByaXZhY3lMYWJlbCxcclxuXHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViU3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0XSxcclxuXHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5pc0NvbW1lcmNpYWxIb3N0XHJcblx0XHRcdFx0XHRcdFx0XHQ/IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlByaXZhY3lDb25zZW50ICsgXCIgXCIgOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5IUmVmLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogVXJscy5Qcml2YWN5U3RhdGVtZW50TGluayxcclxuXHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVGFyZ2V0LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuQmxhbmtXaW5kb3csXHJcblx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlJlbCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLk5vUmVmZXJyZXIsXHJcblx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuTGlua10sXHJcblx0XHRcdFx0XHRcdFx0aWQ6IElEcy5Qcml2YWN5U3RhdGVtZW50TGluayxcclxuXHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Qcml2YWN5U3RhdGVtZW50LFxyXG5cdFx0XHRcdFx0XHRcdHRhZzogVGFncy5BbmNob3IsXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJTdWJUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnQsIENsYXNzZXMuUHJpdmFjeVN0YXRlbWVudExpbmtEaXZdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogQXR0cmlidXRlVmFsdWUuQnV0dG9uIH0sXHJcblx0XHRcdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCwgdmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNhbmNlbCB9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5DYW5jZWxCdXR0b24sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuQmFzaWNGb3JtQ2FuY2VsQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNhbmNlbCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkRpc2FibGVkLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRydWUsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0XHRcdENsYXNzZXMuU3VibWl0QnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybVN1Ym1pdEJ1dHRvbixcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5TdWJtaXQsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5TcGlubmVyLCBDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uU3Bpbm5lcixcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkRpdixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtU3VibWl0QnV0dG9uQ29udGFpbmVyXSxcclxuXHRcdFx0fSxcclxuXHRcdF0sXHJcblx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkudHJhbnNpdGlvbkVuYWJsZWQgPyBDbGFzc2VzLkhpZGRlbiA6IENsYXNzZXMuVmlzaWJsZSxcclxuXHRcdFx0Q2xhc3Nlcy5NYXJnaW5MZWZ0NjBweCxcclxuXHRcdF0sXHJcblx0XHRpZDogY29udGFpbmVySWQsXHJcblx0fTtcclxuXHRyZXR1cm4gZm9ybVNjaGVtYTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBpZCBmb3IgdGhlIGNvbnRhaW5lci4gVGhpcyBpcyB0aGUgaWQgb2YgdGhlIHRvcC1tb3N0IGVsZW1lbnQgYW5kIHNob3VsZFxyXG4gKiBiZSB1bmlxdWUgdG8gZWFjaCBmb3JtXHJcbiAqL1xyXG5leHBvcnQgbGV0IGNvbnRhaW5lcklkOiBzdHJpbmcgPSBJRHMuQmFzaWNGb3JtQ29udGFpbmVyO1xyXG5cclxuLyoqXHJcbiAqIEZvcm1zIG1heSBiZSB1c2VkIGZvciBkaWZmZXJlbnQgZmVlZGJhY2sgdHlwZXMuIFRoaXMgbWV0aG9kIGV4ZWN1dGVzIGZvcm1cclxuICogc3BlY2lmaWMgbG9naWMgd2hlbiB0aGUgZmVlZGJhY2sgdHlwZSBpcyBzZWxlY3RlZFxyXG4gKiBAcGFyYW0gZmVlZGJhY2tUeXBlIGZlZWRiYWNrIHR5cGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBvblNlbGVjdChmZWVkYmFja1R5cGU6IEZlZWRiYWNrVHlwZSk6IHZvaWQge1xyXG5cdHN3aXRjaCAoZmVlZGJhY2tUeXBlKSB7XHJcblx0XHRjYXNlIEZlZWRiYWNrVHlwZS5TbWlsZToge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuQmFzaWNGb3JtUXVlc3Rpb25NaWRkbGVUZXh0KS50ZXh0Q29udGVudCA9IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5TbWlsZUZvcm0uVGl0bGU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdFx0Y2FzZSBGZWVkYmFja1R5cGUuRnJvd246IHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLkJhc2ljRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCkudGV4dENvbnRlbnQgPSBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRnJvd25Gb3JtLlRpdGxlO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHRcdGNhc2UgRmVlZGJhY2tUeXBlLklkZWE6IHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLkJhc2ljRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCkudGV4dENvbnRlbnQgPSBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuSWRlYUZvcm0uVGl0bGU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdFx0Y2FzZSBGZWVkYmFja1R5cGUuQnVnOiB7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5CYXNpY0Zvcm1RdWVzdGlvbk1pZGRsZVRleHQpLnRleHRDb250ZW50ID0gVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkJ1Z0Zvcm0uVGl0bGU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdFx0ZGVmYXVsdDoge1xyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5CYXNpY0Zvcm1Db21tZW50KS5mb2N1cygpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFbWFpbEVuYWJsZWQoKSB7XHJcblx0aWYgKCFDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnNob3dFbWFpbEFkZHJlc3MpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0aWYgKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5pc0NvbW1lcmNpYWxIb3N0KSB7XHJcblx0XHRyZXR1cm4gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmVtYWlsUG9saWN5VmFsdWUgPT09IE9DUFNWYWx1ZXMuRW5hYmxlZDtcclxuXHR9XHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NjcmVlbnNob3RFbmFibGVkKCkge1xyXG5cdGlmICghQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5zY3JlZW5zaG90KSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGlmIChDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuaXNDb21tZXJjaWFsSG9zdCkge1xyXG5cdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5zY3JlZW5zaG90UG9saWN5VmFsdWUgPT09IE9DUFNWYWx1ZXMuRW5hYmxlZDtcclxuXHR9XHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuLyoqXHJcbiAqIEZvcm0gdGVtcGxhdGUgdHlwZVxyXG4gKi9cclxuZXhwb3J0IGxldCB0eXBlOiBGb3JtVGVtcGxhdGVUeXBlID0gRm9ybVRlbXBsYXRlVHlwZS5CYXNpYztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/FormTemplates/FeedbackPortalIdeaTemplate.ts":
/*!******************************************************************************!*\
  !*** ./scripts/app/UI/BellyBand/FormTemplates/FeedbackPortalIdeaTemplate.ts ***!
  \******************************************************************************/
/*! exports provided: generate, containerId, onSelect, type */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerId\", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onSelect\", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"type\", function() { return type; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormTemplateType */ \"./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts\");\n\r\n\r\nfunction generate() {\r\n    return undefined;\r\n}\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].FeedbackPortalIdeaContainer;\r\nfunction onSelect(feedbackType) {\r\n    /* tslint:disable : no-empty */\r\n}\r\nvar type = _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__[\"FormTemplateType\"].FeedbackPortalIdea;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9GZWVkYmFja1BvcnRhbElkZWFUZW1wbGF0ZS50cz8yNWFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXdDO0FBQ2M7QUFFL0MsU0FBUyxRQUFRO0lBQ3ZCLE9BQU8sU0FBUyxDQUFDO0FBQ2xCLENBQUM7QUFFTSxJQUFJLFdBQVcsR0FBVyxnREFBRyxDQUFDLDJCQUEyQixDQUFDO0FBRTFELFNBQVMsUUFBUSxDQUFDLFlBQTBCO0lBQzlDLCtCQUErQjtBQUNwQyxDQUFDO0FBRU0sSUFBSSxJQUFJLEdBQXFCLGtFQUFnQixDQUFDLGtCQUFrQixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQmVsbHlCYW5kL0Zvcm1UZW1wbGF0ZXMvRmVlZGJhY2tQb3J0YWxJZGVhVGVtcGxhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGZWVkYmFja1R5cGUgfSBmcm9tIFwiLi4vLi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IElVSUFzSnNvbiB9IGZyb20gXCIuLi8uLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBJRHMgfSBmcm9tIFwiLi4vLi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgRm9ybVRlbXBsYXRlVHlwZSB9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZVR5cGVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZSgpOiBJVUlBc0pzb24ge1xyXG5cdHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgY29udGFpbmVySWQ6IHN0cmluZyA9IElEcy5GZWVkYmFja1BvcnRhbElkZWFDb250YWluZXI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25TZWxlY3QoZmVlZGJhY2tUeXBlOiBGZWVkYmFja1R5cGUpOiB2b2lkIHtcclxuXHQgICAgLyogdHNsaW50OmRpc2FibGUgOiBuby1lbXB0eSAqL1xyXG59XHJcblxyXG5leHBvcnQgbGV0IHR5cGU6IEZvcm1UZW1wbGF0ZVR5cGUgPSBGb3JtVGVtcGxhdGVUeXBlLkZlZWRiYWNrUG9ydGFsSWRlYTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/FeedbackPortalIdeaTemplate.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts":
/*!********************************************************************!*\
  !*** ./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts ***!
  \********************************************************************/
/*! exports provided: FormTemplateType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FormTemplateType\", function() { return FormTemplateType; });\n/**\r\n * FormTemplateType.ts\r\n *\r\n * An enum for the types of forms available.\r\n */\r\nvar FormTemplateType;\r\n(function (FormTemplateType) {\r\n    FormTemplateType[FormTemplateType[\"Single\"] = 0] = \"Single\";\r\n    FormTemplateType[FormTemplateType[\"Basic\"] = 1] = \"Basic\";\r\n    FormTemplateType[FormTemplateType[\"FeedbackPortalIdea\"] = 2] = \"FeedbackPortalIdea\";\r\n})(FormTemplateType || (FormTemplateType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9Gb3JtVGVtcGxhdGVUeXBlLnRzPzg0MzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSCxJQUFZLGdCQUlYO0FBSkQsV0FBWSxnQkFBZ0I7SUFDM0IsMkRBQVU7SUFDVix5REFBUztJQUNULG1GQUFzQjtBQUN2QixDQUFDLEVBSlcsZ0JBQWdCLEtBQWhCLGdCQUFnQixRQUkzQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL0JlbGx5QmFuZC9Gb3JtVGVtcGxhdGVzL0Zvcm1UZW1wbGF0ZVR5cGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRm9ybVRlbXBsYXRlVHlwZS50c1xyXG4gKlxyXG4gKiBBbiBlbnVtIGZvciB0aGUgdHlwZXMgb2YgZm9ybXMgYXZhaWxhYmxlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBlbnVtIEZvcm1UZW1wbGF0ZVR5cGUge1xyXG5cdFNpbmdsZSA9IDAsXHJcblx0QmFzaWMgPSAxLFxyXG5cdEZlZWRiYWNrUG9ydGFsSWRlYSA9IDIsXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts":
/*!**********************************************************************!*\
  !*** ./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts ***!
  \**********************************************************************/
/*! exports provided: generate, containerId, onSelect, type */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerId\", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onSelect\", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"type\", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormTemplateType */ \"./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts\");\n/* harmony import */ var _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../CategoriesDropdown */ \"./scripts/app/UI/CategoriesDropdown.ts\");\n/* harmony import */ var _RatingControl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../RatingControl */ \"./scripts/app/UI/RatingControl.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _BasicFormTemplate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BasicFormTemplate */ \"./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts\");\n/**\r\n * SingleFormTemplate.ts\r\n *\r\n * A form template with contact info fields.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var categories = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackLaunchOptions().categories;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormComment }],\r\n                classes: [\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubtitle,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormQuestionMiddleText,\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormQuestionMiddleText,\r\n                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().SingleForm.Title,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Label,\r\n            },\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Id, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormCategoriesDropdown }],\r\n                brs: categories.show,\r\n                children: _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__[\"generate\"](categories ? categories.customCategories : null),\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormCategoriesDropdown, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextInput],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Select,\r\n            },\r\n            {\r\n                attributes: [\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Placeholder,\r\n                        value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.CommentPlaceholder,\r\n                    },\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].MaxLength,\r\n                        value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].TextAreaMaxLength,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextInput],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormComment,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].TextArea,\r\n            },\r\n            {\r\n                brs: false,\r\n                children: [\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormRating }],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubText,\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft,\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormRatingLabel,\r\n                        ],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.RatingLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Label,\r\n                    },\r\n                    _RatingControl__WEBPACK_IMPORTED_MODULE_3__[\"generate\"](_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormRating),\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormRatingContainer],\r\n            },\r\n            {\r\n                brs: _BasicFormTemplate__WEBPACK_IMPORTED_MODULE_6__[\"isEmailEnabled\"](),\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].Unchecked,\r\n                                value: \"\",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormEmailCheckBox, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].EmailCheckBox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].EmailCheckBox }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormEmailLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.EmailCheckBoxLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].Text,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Placeholder,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].AriaLabel,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Name,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormEmailInput,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].MaxLength,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].TextAreaMaxLength,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Value,\r\n                                value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().userEmail\r\n                                    ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().userEmail\r\n                                    : \"\",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextInput],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormEmailInput,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Input,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormEmailContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Value,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].Unchecked,\r\n                            },\r\n                        ],\r\n                        brs: _BasicFormTemplate__WEBPACK_IMPORTED_MODULE_6__[\"isScreenshotEnabled\"](),\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormScreenshotCheckbox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormScreenshotCheckbox }],\r\n                        brs: _BasicFormTemplate__WEBPACK_IMPORTED_MODULE_6__[\"isScreenshotEnabled\"](),\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormScreenshotLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.ScreenshotLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Preview,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].ScreenshotPreview,\r\n                            },\r\n                        ],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getInAppFeedbackInitOptions().screenshot,\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormScreenshotPreview,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormScreenshotPreview],\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Img,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormScreenshotContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.PrivacyLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft],\r\n                        innerText: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCommonInitOptions().isCommercialHost\r\n                            ? _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.PrivacyConsent + \" \" : \"\",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].HRef,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Urls\"].PrivacyStatementLink,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Target,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].BlankWindow,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Rel,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].NoReferrer,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].Link],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].PrivacyStatementLink,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().PrivacyStatement,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Anchor,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].PrivacyStatementLinkDiv],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].Button },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.Cancel },\r\n                        ],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].CancelButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormCancelButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.Cancel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Button,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeName\"].Disabled,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"AttributeValue\"].True,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].SubmitButton],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormSubmitButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.Submit,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Button,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].Spinner, _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormSubmitButtonSpinner,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Tags\"].Div,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"Classes\"].FormSubmitButtonContainer],\r\n            },\r\n        ],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormContainer;\r\n/**\r\n * Forms may be used for different feedback types. This method executes form\r\n * specific logic when the feedback type is selected\r\n * @param feedbackType feedback type\r\n */\r\nfunction onSelect(feedbackType) {\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_5__[\"IDs\"].SingleFormComment).focus();\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__[\"FormTemplateType\"].Single;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9TaW5nbGVGb3JtVGVtcGxhdGUudHM/OGFlMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRXlEO0FBQ047QUFFVztBQUNWO0FBQ2lCO0FBRXNCO0FBQzdDO0FBRWpEOzs7R0FHRztBQUNJLFNBQVMsUUFBUTtJQUN2QixJQUFJLFVBQVUsR0FBRyxnRUFBaUIsRUFBRSxDQUFDLDZCQUE2QixFQUFFLENBQUMsVUFBVSxDQUFDO0lBRWhGLElBQUksVUFBVSxHQUFHO1FBQ2hCLFFBQVEsRUFBRTtZQUNUO2dCQUNDLFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxnREFBRyxDQUFDLGlCQUFpQixFQUFFLENBQUM7Z0JBQ3ZFLE9BQU8sRUFBRTtvQkFDUixvREFBTyxDQUFDLFlBQVk7b0JBQ3BCLG9EQUFPLENBQUMsYUFBYTtvQkFDckIsb0RBQU8sQ0FBQyxzQkFBc0I7aUJBQzlCO2dCQUNELEVBQUUsRUFBRSxnREFBRyxDQUFDLDRCQUE0QjtnQkFDcEMsU0FBUyxFQUFFLGlFQUFzQixFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUs7Z0JBQ3BELEdBQUcsRUFBRSxpREFBSSxDQUFDLEtBQUs7YUFDZjtZQUNEO2dCQUNDLFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxnREFBRyxDQUFDLDRCQUE0QixFQUFFLENBQUM7Z0JBQ2pGLEdBQUcsRUFBRSxVQUFVLENBQUMsSUFBSTtnQkFDcEIsUUFBUSxFQUFFLDREQUEyQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJ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QUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3hELENBQUM7QUFFRDs7R0FFRztBQUNJLElBQUksSUFBSSxHQUFxQixrRUFBZ0IsQ0FBQyxNQUFNLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9TaW5nbGVGb3JtVGVtcGxhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2luZ2xlRm9ybVRlbXBsYXRlLnRzXHJcbiAqXHJcbiAqIEEgZm9ybSB0ZW1wbGF0ZSB3aXRoIGNvbnRhY3QgaW5mbyBmaWVsZHMuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgVUlTdHJpbmdzIGZyb20gXCIuLy4uLy4uLy4uL1VJU3RyaW5ncy9VSVN0cmluZ3NcIjtcclxuaW1wb3J0IHsgRm9ybVRlbXBsYXRlVHlwZSB9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZVR5cGVcIjtcclxuaW1wb3J0IHsgSVVJQXNKc29uIH0gZnJvbSBcIi4vLi4vLi4vUmVuZGVyZXJcIjtcclxuaW1wb3J0ICogYXMgQ2F0ZWdvcmllc0Ryb3Bkb3duIGZyb20gXCIuLy4uLy4uL0NhdGVnb3JpZXNEcm9wZG93blwiO1xyXG5pbXBvcnQgKiBhcyBSYXRpbmdDb250cm9sIGZyb20gXCIuLy4uLy4uL1JhdGluZ0NvbnRyb2xcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgRmVlZGJhY2tUeXBlIH0gZnJvbSBcIi4vLi4vLi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWUsIEF0dHJpYnV0ZVZhbHVlLCBDbGFzc2VzLCBJRHMsIFRhZ3MsIFVybHMgfSBmcm9tIFwiLi8uLi8uLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBCYXNpY0Zvcm0gZnJvbSBcIi4vQmFzaWNGb3JtVGVtcGxhdGVcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSB0aGUgbWFya3VwXHJcbiAqIEByZXR1cm5zIHRoZSBtYXJrdXAgYXMganNvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKCk6IElVSUFzSnNvbiB7XHJcblx0bGV0IGNhdGVnb3JpZXMgPSBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zKCkuY2F0ZWdvcmllcztcclxuXHJcblx0bGV0IGZvcm1TY2hlbWEgPSB7XHJcblx0XHRjaGlsZHJlbjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuU2luZ2xlRm9ybUNvbW1lbnQgfV0sXHJcblx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0Q2xhc3Nlcy5Gb250U3VidGl0bGUsXHJcblx0XHRcdFx0XHRDbGFzc2VzLlRleHRBbGlnbkxlZnQsXHJcblx0XHRcdFx0XHRDbGFzc2VzLkZvcm1RdWVzdGlvbk1pZGRsZVRleHQsXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRpZDogSURzLlNpbmdsZUZvcm1RdWVzdGlvbk1pZGRsZVRleHQsXHJcblx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuU2luZ2xlRm9ybS5UaXRsZSxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLklkLCB2YWx1ZTogSURzLlNpbmdsZUZvcm1DYXRlZ29yaWVzRHJvcGRvd24gfV0sXHJcblx0XHRcdFx0YnJzOiBjYXRlZ29yaWVzLnNob3csXHJcblx0XHRcdFx0Y2hpbGRyZW46IENhdGVnb3JpZXNEcm9wZG93bi5nZW5lcmF0ZShjYXRlZ29yaWVzID8gY2F0ZWdvcmllcy5jdXN0b21DYXRlZ29yaWVzIDogbnVsbCksXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuRm9ybUNhdGVnb3JpZXNEcm9wZG93biwgQ2xhc3Nlcy5UZXh0SW5wdXRdLFxyXG5cdFx0XHRcdHRhZzogVGFncy5TZWxlY3QsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5Db21tZW50UGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLk1heExlbmd0aCxcclxuXHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRleHRBcmVhTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJUZXh0LCBDbGFzc2VzLkZvcm1Db21tZW50LCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0aWQ6IElEcy5TaW5nbGVGb3JtQ29tbWVudCxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuVGV4dEFyZWEsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRicnM6IGZhbHNlLCAvLyByYXRpbmdzIGFyZSBkaXNhYmxlZCBmb3Igbm93XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuU2luZ2xlRm9ybVJhdGluZyB9XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9udFN1YlRleHQsXHJcblx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LFxyXG5cdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9ybVJhdGluZ0xhYmVsLFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlJhdGluZ0xhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0UmF0aW5nQ29udHJvbC5nZW5lcmF0ZShJRHMuU2luZ2xlRm9ybVJhdGluZyksXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtUmF0aW5nQ29udGFpbmVyXSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJyczogQmFzaWNGb3JtLmlzRW1haWxFbmFibGVkKCksXHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5DaGVja2JveCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZVZhbHVlLlVuY2hlY2tlZCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1FbWFpbENoZWNrQm94LCBDbGFzc2VzLkNoZWNrQm94XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5FbWFpbENoZWNrQm94LFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkZvciwgdmFsdWU6IElEcy5FbWFpbENoZWNrQm94IH1dLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLkZvcm1FbWFpbExhYmVsXSxcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5FbWFpbENoZWNrQm94TGFiZWwsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uRW1haWxQbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkVtYWlsUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLk5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogSURzLlNpbmdsZUZvcm1FbWFpbElucHV0LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5NYXhMZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dEFyZWFNYXhMZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6XHJcblx0XHRcdFx0XHRcdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkudXNlckVtYWlsXHJcblx0XHRcdFx0XHRcdFx0XHRcdD8gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS51c2VyRW1haWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0OiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJUZXh0LCBDbGFzc2VzLkZvcm1FbWFpbElucHV0LCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybUVtYWlsSW5wdXQsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtRW1haWxDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5DaGVja2JveCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVW5jaGVja2VkLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGJyczogQmFzaWNGb3JtLmlzU2NyZWVuc2hvdEVuYWJsZWQoKSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVNjcmVlbnNob3RDaGVja2JveCwgQ2xhc3Nlcy5DaGVja0JveF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCB9XSxcclxuXHRcdFx0XHRcdFx0YnJzOiBCYXNpY0Zvcm0uaXNTY3JlZW5zaG90RW5hYmxlZCgpLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250VGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLkZvcm1TY3JlZW5zaG90TGFiZWxdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlNjcmVlbnNob3RMYWJlbCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkxhYmVsLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUHJldmlldyxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5TY3JlZW5zaG90UHJldmlldyxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRicnM6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuc2NyZWVuc2hvdCxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdFByZXZpZXcsXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1TY3JlZW5zaG90UHJldmlld10sXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5JbWcsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVNjcmVlbnNob3RDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46XHJcblx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViU3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0XSxcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5Qcml2YWN5TGFiZWwsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJTdWJUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnRdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5pc0NvbW1lcmNpYWxIb3N0XHJcblx0XHRcdFx0XHRcdD8gVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uUHJpdmFjeUNvbnNlbnQgKyBcIiBcIiA6IFwiXCIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkhSZWYsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogVXJscy5Qcml2YWN5U3RhdGVtZW50TGluayxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVGFyZ2V0LFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJsYW5rV2luZG93LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5SZWwsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuTm9SZWZlcnJlcixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5MaW5rXSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5Qcml2YWN5U3RhdGVtZW50TGluayxcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuUHJpdmFjeVN0YXRlbWVudCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkFuY2hvcixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViU3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLlByaXZhY3lTdGF0ZW1lbnRMaW5rRGl2XSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbn0sXHJcblx0XHRcdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCwgdmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNhbmNlbCB9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5DYW5jZWxCdXR0b24sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybUNhbmNlbEJ1dHRvbixcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5DYW5jZWwsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuRGlzYWJsZWQsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVHJ1ZSxcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuU3VibWl0QnV0dG9uXSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5TaW5nbGVGb3JtU3VibWl0QnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlN1Ym1pdCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLlNwaW5uZXIsIENsYXNzZXMuSGlkZGVuXSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5TaW5nbGVGb3JtU3VibWl0QnV0dG9uU3Bpbm5lcixcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkRpdixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtU3VibWl0QnV0dG9uQ29udGFpbmVyXSxcclxuXHRcdFx0fSxcclxuXHRcdF0sXHJcblx0XHRpZDogY29udGFpbmVySWQsXHJcblx0fTtcclxuXHRyZXR1cm4gZm9ybVNjaGVtYTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBpZCBmb3IgdGhlIGNvbnRhaW5lci4gVGhpcyBpcyB0aGUgaWQgb2YgdGhlIHRvcC1tb3N0IGVsZW1lbnQgYW5kIHNob3VsZFxyXG4gKiBiZSB1bmlxdWUgdG8gZWFjaCBmb3JtXHJcbiAqL1xyXG5leHBvcnQgbGV0IGNvbnRhaW5lcklkOiBzdHJpbmcgPSBJRHMuU2luZ2xlRm9ybUNvbnRhaW5lcjtcclxuXHJcbi8qKlxyXG4gKiBGb3JtcyBtYXkgYmUgdXNlZCBmb3IgZGlmZmVyZW50IGZlZWRiYWNrIHR5cGVzLiBUaGlzIG1ldGhvZCBleGVjdXRlcyBmb3JtXHJcbiAqIHNwZWNpZmljIGxvZ2ljIHdoZW4gdGhlIGZlZWRiYWNrIHR5cGUgaXMgc2VsZWN0ZWRcclxuICogQHBhcmFtIGZlZWRiYWNrVHlwZSBmZWVkYmFjayB0eXBlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gb25TZWxlY3QoZmVlZGJhY2tUeXBlOiBGZWVkYmFja1R5cGUpOiB2b2lkIHtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuU2luZ2xlRm9ybUNvbW1lbnQpLmZvY3VzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtIHRlbXBsYXRlIHR5cGVcclxuICovXHJcbmV4cG9ydCBsZXQgdHlwZTogRm9ybVRlbXBsYXRlVHlwZSA9IEZvcm1UZW1wbGF0ZVR5cGUuU2luZ2xlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/Layout.ts":
/*!********************************************!*\
  !*** ./scripts/app/UI/BellyBand/Layout.ts ***!
  \********************************************/
/*! exports provided: generateMulti, generateSingle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateMulti\", function() { return generateMulti; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateSingle\", function() { return generateSingle; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/UI/Utils.ts\");\n/* harmony import */ var _FormTemplates_SingleFormTemplate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FormTemplates/SingleFormTemplate */ \"./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/**\r\n * Layout.ts\r\n *\r\n * Module for the layout\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generates the multi layout as a Renderer.IUIAsJson object\r\n *\r\n * The TabFocus.ts has a dependency in the mainContainer. All tabbable elements\r\n * should be placed inside the mainContainer otherwise TabFocus.ts will not\r\n * function as expected.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @param {[key: number]: IPanelTemplate} panelTemplates PanelType -> PanelTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateMulti(formTemplates, panelTemplates) {\r\n    var schema = {\r\n        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].DataHtml2CanvasIgnore, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].True }],\r\n        children: [\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Dialog },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaModal, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].True },\r\n                ],\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].TabList },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaDescribedBy, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].QuestionLeftText },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().FeedbackSubtitle },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaOrientation, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].AriaOrientationValueVertical },\r\n                        ],\r\n                        children: [\r\n                            {\r\n                                // This adds a \"first\" dummy tabbable div to the mainContainer. It's used as a marker\r\n                                // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                                // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Zero }],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].FirstTabbable,\r\n                            },\r\n                            {\r\n                                attributes: [\r\n                                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Button },\r\n                                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().CloseLabel },\r\n                                ],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].CloseButton,\r\n                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].CloseButton],\r\n                                // tslint:disable-next-line:max-line-length\r\n                                innerHTML: '<svg viewBox=\"4 4 16 16\" width=\"16px\" height=\"16px\" focusable=\"false\"><path d=\"M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z\"/></svg>',\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Button,\r\n                            },\r\n                            {\r\n                                children: [\r\n                                    {\r\n                                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].FormWideContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Hidden],\r\n                                        children: generateMultiPanels(panelTemplates),\r\n                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].LeftPanelContainer,\r\n                                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Div,\r\n                                    },\r\n                                    {\r\n                                        children: [\r\n                                            {\r\n                                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].TextAlignLeft],\r\n                                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].QuestionLeftText,\r\n                                                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().FeedbackSubtitle,\r\n                                            },\r\n                                            {\r\n                                                children: [\r\n                                                    {\r\n                                                        children: generateOverallAnchors(formTemplates),\r\n                                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallAnchorsContainer,\r\n                                                    },\r\n                                                ],\r\n                                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].ColumnSeparatorDiv,\r\n                                            },\r\n                                        ],\r\n                                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].FormContainer],\r\n                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].LeftFormContainer,\r\n                                    },\r\n                                    {\r\n                                        children: generateMultiForms(formTemplates),\r\n                                        classes: [\r\n                                            _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].FormContainer,\r\n                                            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getInAppFeedbackInitOptions().transitionEnabled ? _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Hidden : _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Visible,\r\n                                        ],\r\n                                        attributes: [\r\n                                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].TabPanel },\r\n                                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaExpanded, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].False },\r\n                                        ],\r\n                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MiddleFormContainer,\r\n                                    },\r\n                                ],\r\n                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Hidden],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MainContentHolder,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Form,\r\n                            },\r\n                            {\r\n                                // This adds a \"last\" dummy tabbable div to the mainContainer. It's used as a marker\r\n                                // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                                // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Zero }],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].LastTabbable,\r\n                            },\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MainContainer,\r\n                    },\r\n                ],\r\n                classes: [_Utils__WEBPACK_IMPORTED_MODULE_3__[\"isRightToLeft\"]() ? _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Rtl : \"\"],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground,\r\n            },\r\n        ],\r\n    };\r\n    return schema;\r\n}\r\n/**\r\n * Generates the single layout as a Renderer.IUIAsJson object\r\n *\r\n * The TabFocus.ts has a dependency in the mainContainer. All tabbable elements\r\n * should be placed inside the mainContainer otherwise TabFocus.ts will not\r\n * function as expected.\r\n * @param {[key: number]: IPanelTemplate} panelTemplates PanelType -> PanelTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateSingle(panelTemplates) {\r\n    var schema = {\r\n        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].DataHtml2CanvasIgnore, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].True }],\r\n        children: [\r\n            {\r\n                children: [\r\n                    {\r\n                        // This adds a \"first\" dummy tabbable div to the mainContainer. It's used as a marker\r\n                        // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                        // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Zero }],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].FirstTabbable,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Button },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().CloseLabel },\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].CloseButton,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].CloseButton],\r\n                        // tslint:disable-next-line:max-line-length\r\n                        innerHTML: '<svg viewBox=\"4 4 16 16\" width=\"16px\" height=\"16px\" focusable=\"false\"><path d=\"M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z\"/></svg>',\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Button,\r\n                    },\r\n                    {\r\n                        children: [\r\n                            {\r\n                                children: [_FormTemplates_SingleFormTemplate__WEBPACK_IMPORTED_MODULE_4__[\"generate\"]()],\r\n                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].FormContainer],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MiddleFormContainer,\r\n                            },\r\n                        ].concat(generateMultiPanels(panelTemplates)),\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MainContentHolder,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Form,\r\n                    },\r\n                    {\r\n                        // This adds a \"last\" dummy tabbable div to the mainContainer. It's used as a marker\r\n                        // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                        // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Zero }],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].LastTabbable,\r\n                    },\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].MainContainer,\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].SingleLayout, _Utils__WEBPACK_IMPORTED_MODULE_3__[\"isRightToLeft\"]() ? _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].Rtl : \"\"],\r\n        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverlayBackground,\r\n    };\r\n    return schema;\r\n}\r\n/**\r\n * Generate Renderer.IUIAsJson objects that holds the different forms that will be used on the bellyband.\r\n * This is used to generate just one form of each one of the templates that are actually going to be used.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateMultiForms(formTemplates) {\r\n    var wrapper = {\r\n        children: [],\r\n    };\r\n    var pushedContainers = {};\r\n    for (var feedbackType in formTemplates) {\r\n        if (formTemplates.hasOwnProperty(feedbackType)) {\r\n            var notExists = !(formTemplates[feedbackType].containerId in pushedContainers);\r\n            if (notExists) {\r\n                wrapper.children.push(formTemplates[feedbackType].generate());\r\n                pushedContainers[formTemplates[feedbackType].containerId] = true;\r\n            }\r\n        }\r\n    }\r\n    return wrapper.children;\r\n}\r\n/**\r\n * Generate Renderer.IUIAsJson objects that holds the different forms that will be used on the bellyband.\r\n * This is used to generate just one form of each one of the templates that are actually going to be used.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateMultiPanels(panelTemplates) {\r\n    var wrapper = {\r\n        children: [],\r\n    };\r\n    var pushedContainers = {};\r\n    for (var panelType in panelTemplates) {\r\n        if (panelTemplates.hasOwnProperty(panelType)) {\r\n            var notExists = !(panelTemplates[panelType].containerId in pushedContainers);\r\n            if (notExists) {\r\n                wrapper.children.push(panelTemplates[panelType].generate());\r\n                pushedContainers[panelTemplates[panelType].containerId] = true;\r\n            }\r\n        }\r\n    }\r\n    return wrapper.children;\r\n}\r\n/**\r\n * Generates Renderer.IUIAsJson object that holds the different anchors that will be used on the bellyband.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateOverallAnchors(formTemplates) {\r\n    var wrapper = {\r\n        children: [],\r\n    };\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Smile in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallSmileAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallSmileImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        '<svg viewBox=\"0 0 72 72\" width=\"24px\" height=\"24px\" focusable=\"false\"><path d=\"M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM36 58.6c-8.5 0-16-4.1-20.9-10.4l3.5-3.6c3.5 4.5 9.9 7.6 17.4 7.6 7.4 0 13.9-3.1 17.4-7.6l3.6 3.6C52.1 54.4 44.4 58.6 36 58.6Z\"/></svg>', _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallSmileText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().SmileForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Frown in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallFrownAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallFrownImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        '<svg viewBox=\"0 0 72 72\" width=\"24px\" height=\"24px\" focusable=\"false\"><path d=\"M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM52.8 57.9c-3.3-4.4-9.6-7.3-16.7-7.3 -7.2 0-13.4 3-16.7 7.3l-3.4-3.4c4.7-6.1 11.9-10 20.1-10 8.2 0 15.5 4 20.2 10L52.8 57.9Z\"/></svg>', _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallFrownText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().FrownForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].IdeaRedirect in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallFeedbackPortalIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallIdeaImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" focusable=\"false\" viewBox=\"0,0,2048,2048\"><path fill=\"#FAFAFA\" fill-opacity=\"1.000\" d=\"M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z\" /><path fill=\"#3A3A38\" fill-opacity=\"1.000\" d=\"M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z\" /><path fill=\"#FAFAFA\" fill-opacity=\"1.000\" d=\"M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z\" /><path fill=\"#797774\" fill-opacity=\"1.000\" d=\"M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z\" /><path fill=\"#1E8BCD\" fill-opacity=\"1.000\" d=\"M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z\" /><path fill=\"#3A3A38\" fill-opacity=\"1.000\" d=\"M 1451 1109 h -854 v -85 h 854 z\" /></svg>', _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallIdeaText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().IdeaForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Idea in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallIdeaImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" focusable=\"false\" viewBox=\"0,0,2048,2048\"><path fill=\"#FAFAFA\" fill-opacity=\"1.000\" d=\"M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z\" /><path fill=\"#3A3A38\" fill-opacity=\"1.000\" d=\"M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z\" /><path fill=\"#FAFAFA\" fill-opacity=\"1.000\" d=\"M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z\" /><path fill=\"#797774\" fill-opacity=\"1.000\" d=\"M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z\" /><path fill=\"#1E8BCD\" fill-opacity=\"1.000\" d=\"M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z\" /><path fill=\"#3A3A38\" fill-opacity=\"1.000\" d=\"M 1451 1109 h -854 v -85 h 854 z\" /></svg>', _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallIdeaText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().IdeaForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"].Bug in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallBugAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallBugImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        '<svg viewBox=\"150 100 1748 1748\" width=\"24px\" height=\"24px\" focusable=\"false\"><path d=\"M1824 1088q0 26-19 45t-45 19h-224q0 171-67 290l208 209q19 19 19 45t-19 45q-18 19-45 19t-45-19l-198-197q-5 5-15 13t-42 28.5-65 36.5-82 29-97 13v-896h-128v896q-51 0-101.5-13.5t-87-33-66-39-43.5-32.5l-15-14-183 207q-20 21-48 21-24 0-43-16-19-18-20.5-44.5t15.5-46.5l202-227q-58-114-58-274h-224q-26 0-45-19t-19-45 19-45 45-19h224v-294l-173-173q-19-19-19-45t19-45 45-19 45 19l173 173h844l173-173q19-19 45-19t45 19 19 45-19 45l-173 173v294h224q26 0 45 19t19 45zm-480-576h-640q0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5z\"/></svg>', _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"IDs\"].OverallBugText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__[\"getUIStrings\"]().BugForm.Anchor));\r\n    }\r\n    return wrapper.children;\r\n}\r\n/**\r\n * Generates a Renderer.IUIAsJson object that holds an anchor that will be used on the bellyband.\r\n * @param overallAnchorID the overall anchor id\r\n * @param overallImageID the image id\r\n * @param imageClass the image class (icon)\r\n * @param overallTextID the id for text box\r\n * @param uiString the string to display\r\n */\r\nfunction generateOverallAnchor(overallAnchorID, overallImageID, svgImage, overallTextID, uiString) {\r\n    return {\r\n        attributes: [\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Button },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].Tab },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaLabel, value: uiString },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeName\"].AriaSelected, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"AttributeValue\"].False },\r\n        ],\r\n        children: [\r\n            {\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].OverallImage],\r\n                id: overallImageID,\r\n                innerHTML: svgImage,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Div,\r\n            },\r\n            {\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].OverallText],\r\n                id: overallTextID,\r\n                innerText: uiString,\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].OverallAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Classes\"].TextAlignLeft],\r\n        id: overallAnchorID,\r\n        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Button,\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvTGF5b3V0LnRzPzQ1NDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUc4QztBQUNvQztBQUU1QjtBQUNyQjtBQUNxQztBQUdKO0FBSXJFOzs7Ozs7Ozs7R0FTRztBQUNJLFNBQVMsYUFBYSxDQUM1QixhQUErQyxFQUMvQyxjQUFpRDtJQUVqRCxJQUFJLE1BQU0sR0FBdUI7UUFDaEMsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxxQkFBcUIsRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN2RixRQUFRLEVBQ1I7WUFDQztnQkFDQyxVQUFVLEVBQ1Y7b0JBQ0MsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLDJEQUFjLENBQUMsTUFBTSxFQUFFO29CQUMxRCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxJQUFJLEVBQUU7aUJBQzdEO2dCQUNELFFBQVEsRUFDUjtvQkFDQzt3QkFDQyxVQUFVLEVBQ1Y7NEJBQ0MsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLDJEQUFjLENBQUMsT0FBTyxFQUFFOzRCQUMzRCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLGVBQWUsRUFBRSxLQUFLLEVBQUUsZ0RBQUcsQ0FBQyxnQkFBZ0IsRUFBRTs0QkFDcEUsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLGlFQUFzQixFQUFFLENBQUMsZ0JBQWdCLEVBQUU7NEJBQ25GLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsZUFBZSxFQUFFLEtBQUssRUFBRSwyREFBYyxDQUFDLDRCQUE0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LFFBQVEsRUFBRTtZQUNsRCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLFlBQVksRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxLQUFLLEVBQUU7U0FDakU7UUFDRCxRQUFRLEVBQ1I7WUFDQztnQkFDQyxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLFlBQVksQ0FBQztnQkFDL0IsRUFBRSxFQUFFLGNBQWM7Z0JBQ2xCLFNBQVMsRUFBRSxRQUFRO2dCQUNuQixHQUFHLEVBQUUsaURBQUksQ0FBQyxHQUFHO2FBQ2I7WUFDRDtnQkFDQyxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLFlBQVksRUFBRSxvREFBTyxDQUFDLFdBQVcsQ0FBQztnQkFDcEQsRUFBRSxFQUFFLGFBQWE7Z0JBQ2pCLFNBQVMsRUFBRSxRQUFRO2FBQ25CO1NBQ0Q7UUFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLGFBQWEsRUFBRSxvREFBTyxDQUFDLGFBQWEsQ0FBQztRQUN2RCxFQUFFLEVBQUUsZUFBZTtRQUNuQixHQUFHLEVBQUUsaURBQUksQ0FBQyxNQUFNO0tBQ2hCLENBQUM7QUFDSCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQmVsbHlCYW5kL0xheW91dC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMYXlvdXQudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0aGUgbGF5b3V0XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSUZvcm1UZW1wbGF0ZSB9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvSUZvcm1UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1R5cGUgfSBmcm9tIFwiLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlTmFtZSwgQXR0cmlidXRlVmFsdWUsIENsYXNzZXMsIElEcywgVGFncyB9IGZyb20gXCIuLy4uL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIFJlbmRlcmVyIGZyb20gXCIuLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIFNpbmdsZUZvcm1UZW1wbGF0ZSBmcm9tIFwiLi9Gb3JtVGVtcGxhdGVzL1NpbmdsZUZvcm1UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBJUGFuZWxUZW1wbGF0ZSB9IGZyb20gXCIuL1BhbmVsVGVtcGxhdGVzL0lQYW5lbFRlbXBsYXRlXCI7XHJcbmltcG9ydCB7IElVSUFzSnNvbiB9IGZyb20gXCIuLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG5leHBvcnQge0lGb3JtVGVtcGxhdGV9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvSUZvcm1UZW1wbGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyB0aGUgbXVsdGkgbGF5b3V0IGFzIGEgUmVuZGVyZXIuSVVJQXNKc29uIG9iamVjdFxyXG4gKlxyXG4gKiBUaGUgVGFiRm9jdXMudHMgaGFzIGEgZGVwZW5kZW5jeSBpbiB0aGUgbWFpbkNvbnRhaW5lci4gQWxsIHRhYmJhYmxlIGVsZW1lbnRzXHJcbiAqIHNob3VsZCBiZSBwbGFjZWQgaW5zaWRlIHRoZSBtYWluQ29udGFpbmVyIG90aGVyd2lzZSBUYWJGb2N1cy50cyB3aWxsIG5vdFxyXG4gKiBmdW5jdGlvbiBhcyBleHBlY3RlZC5cclxuICogQHBhcmFtIHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSBmb3JtVGVtcGxhdGVzIEZlZWRiYWNrVHlwZSAtPiBGb3JtVGVtcGxhdGUgbWFwcGluZ1xyXG4gKiBAcGFyYW0ge1trZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlfSBwYW5lbFRlbXBsYXRlcyBQYW5lbFR5cGUgLT4gUGFuZWxUZW1wbGF0ZSBtYXBwaW5nXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJlci5JVUlBc0pzb259IFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU11bHRpKFxyXG5cdGZvcm1UZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSUZvcm1UZW1wbGF0ZSB9LFxyXG5cdHBhbmVsVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlIH1cclxuKTogUmVuZGVyZXIuSVVJQXNKc29uIHtcclxuXHRsZXQgc2NoZW1hOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkRhdGFIdG1sMkNhbnZhc0lnbm9yZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRydWUgfV0sXHJcblx0XHRjaGlsZHJlbjpcclxuXHRcdFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6XHJcblx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlJvbGUsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5EaWFsb2cgfSxcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5BcmlhTW9kYWwsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5UcnVlIH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjaGlsZHJlbjpcclxuXHRcdFx0XHRbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6XHJcblx0XHRcdFx0XHRcdFtcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuUm9sZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRhYkxpc3QgfSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYURlc2NyaWJlZEJ5LCB2YWx1ZTogSURzLlF1ZXN0aW9uTGVmdFRleHQgfSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZlZWRiYWNrU3VidGl0bGUgfSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYU9yaWVudGF0aW9uLCB2YWx1ZTogQXR0cmlidXRlVmFsdWUuQXJpYU9yaWVudGF0aW9uVmFsdWVWZXJ0aWNhbH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFx0XHRbXHJcblxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFRoaXMgYWRkcyBhIFwiZmlyc3RcIiBkdW1teSB0YWJiYWJsZSBkaXYgdG8gdGhlIG1haW5Db250YWluZXIuIEl0J3MgdXNlZCBhcyBhIG1hcmtlclxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdG8gaGFuZGxlIHRhYnMgYW5kIHNoaWZ0IHRhYnMgc28gZm9jdXMgd2lsbCBzdGF5IHdpdGggZWxlbWVudHMgb24ganVzdCB0aGUgZmVlZGJhY2tcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVGFiSW5kZXgsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5aZXJvIH1dLFxyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5GaXJzdFRhYmJhYmxlLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbiB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkNsb3NlTGFiZWwgfSxcclxuXHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLkNsb3NlQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuQ2xvc2VCdXR0b25dLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdFx0aW5uZXJIVE1MOiAnPHN2ZyB2aWV3Qm94PVwiNCA0IDE2IDE2XCIgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMTZweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0xOSw2LjQxTDE3LjU5LDUgMTIsMTAuNTkgNi40MSw1IDUsNi40MSAxMC41OSwxMiA1LDE3LjU5IDYuNDEsMTkgMTIsMTMuNDEgMTcuNTksMTkgMTksMTcuNTkgMTMuNDEsMTJ6XCIvPjwvc3ZnPicsXHJcblx0XHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46XHJcblx0XHRcdFx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtV2lkZUNvbnRhaW5lciwgQ2xhc3Nlcy5IaWRkZW5dLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBnZW5lcmF0ZU11bHRpUGFuZWxzKHBhbmVsVGVtcGxhdGVzKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZDogSURzLkxlZnRQYW5lbENvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3VidGl0bGUsIENsYXNzZXMuVGV4dEFsaWduTGVmdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBJRHMuUXVlc3Rpb25MZWZ0VGV4dCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRmVlZGJhY2tTdWJ0aXRsZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IGdlbmVyYXRlT3ZlcmFsbEFuY2hvcnMoZm9ybVRlbXBsYXRlcyksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZDogSURzLk92ZXJhbGxBbmNob3JzQ29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBJRHMuQ29sdW1uU2VwYXJhdG9yRGl2LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1Db250YWluZXJdLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBJRHMuTGVmdEZvcm1Db250YWluZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogZ2VuZXJhdGVNdWx0aUZvcm1zKGZvcm1UZW1wbGF0ZXMpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9ybUNvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS50cmFuc2l0aW9uRW5hYmxlZCA/IENsYXNzZXMuSGlkZGVuIDogQ2xhc3Nlcy5WaXNpYmxlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuUm9sZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRhYlBhbmVsfSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFFeHBhbmRlZCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkZhbHNlfSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLk1haW5Db250ZW50SG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGFnOiBUYWdzLkZvcm0sXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBUaGlzIGFkZHMgYSBcImxhc3RcIiBkdW1teSB0YWJiYWJsZSBkaXYgdG8gdGhlIG1haW5Db250YWluZXIuIEl0J3MgdXNlZCBhcyBhIG1hcmtlclxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdG8gaGFuZGxlIHRhYnMgYW5kIHNoaWZ0IHRhYnMgc28gZm9jdXMgd2lsbCBzdGF5IHdpdGggZWxlbWVudHMgb24ganVzdCB0aGUgZmVlZGJhY2tcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVGFiSW5kZXgsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5aZXJvIH1dLFxyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5MYXN0VGFiYmFibGUsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5NYWluQ29udGFpbmVyLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtVdGlscy5pc1JpZ2h0VG9MZWZ0KCkgPyBDbGFzc2VzLlJ0bCA6IFwiXCIgXSxcclxuXHRcdFx0XHRpZDogSURzLk92ZXJsYXlCYWNrZ3JvdW5kLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHR9O1xyXG5cdHJldHVybiBzY2hlbWE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgdGhlIHNpbmdsZSBsYXlvdXQgYXMgYSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0XHJcbiAqXHJcbiAqIFRoZSBUYWJGb2N1cy50cyBoYXMgYSBkZXBlbmRlbmN5IGluIHRoZSBtYWluQ29udGFpbmVyLiBBbGwgdGFiYmFibGUgZWxlbWVudHNcclxuICogc2hvdWxkIGJlIHBsYWNlZCBpbnNpZGUgdGhlIG1haW5Db250YWluZXIgb3RoZXJ3aXNlIFRhYkZvY3VzLnRzIHdpbGwgbm90XHJcbiAqIGZ1bmN0aW9uIGFzIGV4cGVjdGVkLlxyXG4gKiBAcGFyYW0ge1trZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlfSBwYW5lbFRlbXBsYXRlcyBQYW5lbFR5cGUgLT4gUGFuZWxUZW1wbGF0ZSBtYXBwaW5nXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJlci5JVUlBc0pzb259IFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZShwYW5lbFRlbXBsYXRlczogeyBba2V5OiBudW1iZXJdOiBJUGFuZWxUZW1wbGF0ZSB9KTogUmVuZGVyZXIuSVVJQXNKc29uIHtcclxuXHRsZXQgc2NoZW1hOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkRhdGFIdG1sMkNhbnZhc0lnbm9yZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRydWUgfV0sXHJcblx0XHRjaGlsZHJlbjpcclxuXHRcdFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBhZGRzIGEgXCJmaXJzdFwiIGR1bW15IHRhYmJhYmxlIGRpdiB0byB0aGUgbWFpbkNvbnRhaW5lci4gSXQncyB1c2VkIGFzIGEgbWFya2VyXHJcblx0XHRcdFx0XHRcdC8vIHRvIGhhbmRsZSB0YWJzIGFuZCBzaGlmdCB0YWJzIHNvIGZvY3VzIHdpbGwgc3RheSB3aXRoIGVsZW1lbnRzIG9uIGp1c3QgdGhlIGZlZWRiYWNrXHJcblx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5UYWJJbmRleCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlplcm8gfV0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuRmlyc3RUYWJiYWJsZSxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbiB9LFxyXG5cdFx0XHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5BcmlhTGFiZWwsIHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuQ2xvc2VMYWJlbCB9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLkNsb3NlQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5DbG9zZUJ1dHRvbl0sXHJcblx0XHRcdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdFx0XHRcdFx0aW5uZXJIVE1MOiAnPHN2ZyB2aWV3Qm94PVwiNCA0IDE2IDE2XCIgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMTZweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0xOSw2LjQxTDE3LjU5LDUgMTIsMTAuNTkgNi40MSw1IDUsNi40MSAxMC41OSwxMiA1LDE3LjU5IDYuNDEsMTkgMTIsMTMuNDEgMTcuNTksMTkgMTksMTcuNTkgMTMuNDEsMTJ6XCIvPjwvc3ZnPicsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjaGlsZHJlbjpcclxuXHRcdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbU2luZ2xlRm9ybVRlbXBsYXRlLmdlbmVyYXRlKCldLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybUNvbnRhaW5lcl0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLk1pZGRsZUZvcm1Db250YWluZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XS5jb25jYXQoKGdlbmVyYXRlTXVsdGlQYW5lbHMocGFuZWxUZW1wbGF0ZXMpIGFzXHJcblx0XHRcdFx0XHRcdFx0Q29uY2F0QXJyYXk8eyBjaGlsZHJlbjogSVVJQXNKc29uW10sIGNsYXNzZXM6IHN0cmluZ1tdLCBpZDogc3RyaW5nIH0+KSksXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuTWFpbkNvbnRlbnRIb2xkZXIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5Gb3JtLFxyXG5cdFx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8vIFRoaXMgYWRkcyBhIFwibGFzdFwiIGR1bW15IHRhYmJhYmxlIGRpdiB0byB0aGUgbWFpbkNvbnRhaW5lci4gSXQncyB1c2VkIGFzIGEgbWFya2VyXHJcblx0XHRcdFx0XHRcdC8vIHRvIGhhbmRsZSB0YWJzIGFuZCBzaGlmdCB0YWJzIHNvIGZvY3VzIHdpbGwgc3RheSB3aXRoIGVsZW1lbnRzIG9uIGp1c3QgdGhlIGZlZWRiYWNrXHJcblx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5UYWJJbmRleCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlplcm8gfV0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuTGFzdFRhYmJhYmxlLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGlkOiBJRHMuTWFpbkNvbnRhaW5lcixcclxuXHRcdFx0fSxcclxuXHRcdF0sXHJcblx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5TaW5nbGVMYXlvdXQsIFV0aWxzLmlzUmlnaHRUb0xlZnQoKSA/IENsYXNzZXMuUnRsIDogXCJcIiBdLFxyXG5cdFx0aWQ6IElEcy5PdmVybGF5QmFja2dyb3VuZCxcclxuXHR9O1xyXG5cdHJldHVybiBzY2hlbWE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0cyB0aGF0IGhvbGRzIHRoZSBkaWZmZXJlbnQgZm9ybXMgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIGJlbGx5YmFuZC5cclxuICogVGhpcyBpcyB1c2VkIHRvIGdlbmVyYXRlIGp1c3Qgb25lIGZvcm0gb2YgZWFjaCBvbmUgb2YgdGhlIHRlbXBsYXRlcyB0aGF0IGFyZSBhY3R1YWxseSBnb2luZyB0byBiZSB1c2VkLlxyXG4gKiBAcGFyYW0ge1trZXk6IG51bWJlcl06IElGb3JtVGVtcGxhdGV9IGZvcm1UZW1wbGF0ZXMgRmVlZGJhY2tUeXBlIC0+IEZvcm1UZW1wbGF0ZSBtYXBwaW5nXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJlci5JVUlBc0pzb259IFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTXVsdGlGb3Jtcyhmb3JtVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElGb3JtVGVtcGxhdGUgfSk6IFJlbmRlcmVyLklVSUFzSnNvbltdIHtcclxuXHRsZXQgd3JhcHBlcjogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdFx0Y2hpbGRyZW46IFtdLFxyXG5cdH07XHJcblxyXG5cdGxldCBwdXNoZWRDb250YWluZXJzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuXHRmb3IgKGxldCBmZWVkYmFja1R5cGUgaW4gZm9ybVRlbXBsYXRlcykge1xyXG5cdFx0aWYgKGZvcm1UZW1wbGF0ZXMuaGFzT3duUHJvcGVydHkoZmVlZGJhY2tUeXBlKSkge1xyXG5cdFx0XHRsZXQgbm90RXhpc3RzOiBib29sZWFuID0gIShmb3JtVGVtcGxhdGVzW2ZlZWRiYWNrVHlwZV0uY29udGFpbmVySWQgaW4gcHVzaGVkQ29udGFpbmVycyk7XHJcblx0XHRcdGlmIChub3RFeGlzdHMpIHtcclxuXHRcdFx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZm9ybVRlbXBsYXRlc1tmZWVkYmFja1R5cGVdLmdlbmVyYXRlKCkpO1xyXG5cdFx0XHRcdHB1c2hlZENvbnRhaW5lcnNbZm9ybVRlbXBsYXRlc1tmZWVkYmFja1R5cGVdLmNvbnRhaW5lcklkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB3cmFwcGVyLmNoaWxkcmVuO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgUmVuZGVyZXIuSVVJQXNKc29uIG9iamVjdHMgdGhhdCBob2xkcyB0aGUgZGlmZmVyZW50IGZvcm1zIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSBiZWxseWJhbmQuXHJcbiAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBqdXN0IG9uZSBmb3JtIG9mIGVhY2ggb25lIG9mIHRoZSB0ZW1wbGF0ZXMgdGhhdCBhcmUgYWN0dWFsbHkgZ29pbmcgdG8gYmUgdXNlZC5cclxuICogQHBhcmFtIHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSBmb3JtVGVtcGxhdGVzIEZlZWRiYWNrVHlwZSAtPiBGb3JtVGVtcGxhdGUgbWFwcGluZ1xyXG4gKiBAcmV0dXJucyB7UmVuZGVyZXIuSVVJQXNKc29ufSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZU11bHRpUGFuZWxzKHBhbmVsVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlIH0pOiBSZW5kZXJlci5JVUlBc0pzb25bXSB7XHJcblx0bGV0IHdyYXBwZXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXSxcclxuXHR9O1xyXG5cclxuXHRsZXQgcHVzaGVkQ29udGFpbmVyczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcclxuXHJcblx0Zm9yIChsZXQgcGFuZWxUeXBlIGluIHBhbmVsVGVtcGxhdGVzKSB7XHJcblx0XHRpZiAocGFuZWxUZW1wbGF0ZXMuaGFzT3duUHJvcGVydHkocGFuZWxUeXBlKSkge1xyXG5cdFx0XHRsZXQgbm90RXhpc3RzOiBib29sZWFuID0gIShwYW5lbFRlbXBsYXRlc1twYW5lbFR5cGVdLmNvbnRhaW5lcklkIGluIHB1c2hlZENvbnRhaW5lcnMpO1xyXG5cdFx0XHRpZiAobm90RXhpc3RzKSB7XHJcblx0XHRcdFx0d3JhcHBlci5jaGlsZHJlbi5wdXNoKHBhbmVsVGVtcGxhdGVzW3BhbmVsVHlwZV0uZ2VuZXJhdGUoKSk7XHJcblx0XHRcdFx0cHVzaGVkQ29udGFpbmVyc1twYW5lbFRlbXBsYXRlc1twYW5lbFR5cGVdLmNvbnRhaW5lcklkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB3cmFwcGVyLmNoaWxkcmVuO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3QgdGhhdCBob2xkcyB0aGUgZGlmZmVyZW50IGFuY2hvcnMgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIGJlbGx5YmFuZC5cclxuICogQHBhcmFtIHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSBmb3JtVGVtcGxhdGVzIEZlZWRiYWNrVHlwZSAtPiBGb3JtVGVtcGxhdGUgbWFwcGluZ1xyXG4gKiBAcmV0dXJucyB7UmVuZGVyZXIuSVVJQXNKc29ufSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZU92ZXJhbGxBbmNob3JzKGZvcm1UZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSUZvcm1UZW1wbGF0ZSB9KTogUmVuZGVyZXIuSVVJQXNKc29uW10ge1xyXG5cdGxldCB3cmFwcGVyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0XHRjaGlsZHJlbjogW10sXHJcblx0fTtcclxuXHJcblx0aWYgKEZlZWRiYWNrVHlwZS5TbWlsZSBpbiBmb3JtVGVtcGxhdGVzKSB7XHJcblx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZ2VuZXJhdGVPdmVyYWxsQW5jaG9yKElEcy5PdmVyYWxsU21pbGVBbmNob3IsIElEcy5PdmVyYWxsU21pbGVJbWFnZSxcclxuXHRcdFx0Ly8gVGhlIHN2ZyBjb2RlIGZvciB0aGUgaW1hZ2VcclxuXHRcdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0XHQnPHN2ZyB2aWV3Qm94PVwiMCAwIDcyIDcyXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0zNiAxQzE2LjcgMSAxIDE2LjcgMSAzNnMxNS43IDM1IDM1IDM1YzE5LjMgMCAzNS0xNS43IDM1LTM1UzU1LjMgMSAzNiAxWk00OS4zIDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkM0NS4xIDIxIDQ3IDE4LjMgNDkuMyAxOC4zWk0yMi45IDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkMxOC43IDIxIDIwLjYgMTguMyAyMi45IDE4LjNaTTM2IDU4LjZjLTguNSAwLTE2LTQuMS0yMC45LTEwLjRsMy41LTMuNmMzLjUgNC41IDkuOSA3LjYgMTcuNCA3LjYgNy40IDAgMTMuOS0zLjEgMTcuNC03LjZsMy42IDMuNkM1Mi4xIDU0LjQgNDQuNCA1OC42IDM2IDU4LjZaXCIvPjwvc3ZnPicsXHJcblx0XHRcdElEcy5PdmVyYWxsU21pbGVUZXh0LCBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuU21pbGVGb3JtLkFuY2hvcikpO1xyXG5cdH1cclxuXHJcblx0aWYgKEZlZWRiYWNrVHlwZS5Gcm93biBpbiBmb3JtVGVtcGxhdGVzKSB7XHJcblx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZ2VuZXJhdGVPdmVyYWxsQW5jaG9yKElEcy5PdmVyYWxsRnJvd25BbmNob3IsIElEcy5PdmVyYWxsRnJvd25JbWFnZSxcclxuXHRcdFx0Ly8gVGhlIHN2ZyBjb2RlIGZvciB0aGUgaW1hZ2VcclxuXHRcdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0XHQnPHN2ZyB2aWV3Qm94PVwiMCAwIDcyIDcyXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0zNiAxQzE2LjcgMSAxIDE2LjcgMSAzNnMxNS43IDM1IDM1IDM1YzE5LjMgMCAzNS0xNS43IDM1LTM1UzU1LjMgMSAzNiAxWk00OS4zIDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkM0NS4xIDIxIDQ3IDE4LjMgNDkuMyAxOC4zWk0yMi45IDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkMxOC43IDIxIDIwLjYgMTguMyAyMi45IDE4LjNaTTUyLjggNTcuOWMtMy4zLTQuNC05LjYtNy4zLTE2LjctNy4zIC03LjIgMC0xMy40IDMtMTYuNyA3LjNsLTMuNC0zLjRjNC43LTYuMSAxMS45LTEwIDIwLjEtMTAgOC4yIDAgMTUuNSA0IDIwLjIgMTBMNTIuOCA1Ny45WlwiLz48L3N2Zz4nLFxyXG5cdFx0XHRJRHMuT3ZlcmFsbEZyb3duVGV4dCwgVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZyb3duRm9ybS5BbmNob3IpKTtcclxuXHR9XHJcblxyXG5cdGlmIChGZWVkYmFja1R5cGUuSWRlYVJlZGlyZWN0IGluIGZvcm1UZW1wbGF0ZXMpIHtcclxuXHRcdHdyYXBwZXIuY2hpbGRyZW4ucHVzaChnZW5lcmF0ZU92ZXJhbGxBbmNob3IoSURzLk92ZXJhbGxGZWVkYmFja1BvcnRhbElkZWFBbmNob3IsIElEcy5PdmVyYWxsSWRlYUltYWdlLFxyXG5cdFx0XHQvLyBUaGUgc3ZnIGNvZGUgZm9yIHRoZSBpbWFnZVxyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXHJcblx0XHRcdCc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmb2N1c2FibGU9XCJmYWxzZVwiIHZpZXdCb3g9XCIwLDAsMjA0OCwyMDQ4XCI+PHBhdGggZmlsbD1cIiNGQUZBRkFcIiBmaWxsLW9wYWNpdHk9XCIxLjAwMFwiIGQ9XCJNIDIxMyAxOTIwIHYgLTU0NiBsIDI3NSAtNjQ5IGggMTA3MiBsIDI3NSA2NDkgdiA1NDYgelwiIC8+PHBhdGggZmlsbD1cIiMzQTNBMzhcIiBmaWxsLW9wYWNpdHk9XCIxLjAwMFwiIGQ9XCJNIDE4NzcgMTM2NSB2IDU5OCBoIC0xNzA2IHYgLTU5OCBsIDI4OSAtNjgyIGggMjg4IGwgLTQxIDQxIGwgNDQgNDQgaCAtMjM5IGwgLTI0OCA1OTcgaCAxNTIwIGwgLTIyMSAtNTMyIGwgNjMgLTYyIG0gMTY2IDY4MCBoIC0xNTM2IHYgNDI2IGggMTUzNiB6XCIgLz48cGF0aCBmaWxsPVwiI0ZBRkFGQVwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMTA0OSAxMDY3IGwgLTM0MiAtMzQzIGwgNjY0IC02NjQgbCA0ODIgNDgzIGwgLTUyMyA1MjQgelwiIC8+PHBhdGggZmlsbD1cIiM3OTc3NzRcIiBmaWxsLW9wYWNpdHk9XCIxLjAwMFwiIGQ9XCJNIDE1MzYgNjQ5IGwgLTI3MSAtMjcyIGwgNjAgLTYwIGwgMjcyIDI3MSBtIC0yMTEgMjEyIGwgLTI3MiAtMjcyIGwgNjAgLTYwIGwgMjcyIDI3MSBtIC0yMTEgMjExIGwgLTI3MiAtMjcxIGwgNjEgLTYxIGwgMjcxIDI3MiB6XCIgLz48cGF0aCBmaWxsPVwiIzFFOEJDRFwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gOTg5IDEwNjcgbCAtMzQzIC0zNDMgbCA3MjUgLTcyNCBsIDU0MyA1NDMgbCAtNTI0IDUyNCBoIC0xMjEgbCA1MjQgLTUyNCBsIC00MjIgLTQyMiBsIC02MDQgNjAzIGwgMzQzIDM0MyB6XCIgLz48cGF0aCBmaWxsPVwiIzNBM0EzOFwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMTQ1MSAxMTA5IGggLTg1NCB2IC04NSBoIDg1NCB6XCIgLz48L3N2Zz4nLFxyXG5cdFx0XHRJRHMuT3ZlcmFsbElkZWFUZXh0LCBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuSWRlYUZvcm0uQW5jaG9yKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoRmVlZGJhY2tUeXBlLklkZWEgaW4gZm9ybVRlbXBsYXRlcykge1xyXG5cdFx0d3JhcHBlci5jaGlsZHJlbi5wdXNoKGdlbmVyYXRlT3ZlcmFsbEFuY2hvcihJRHMuT3ZlcmFsbElkZWFBbmNob3IsIElEcy5PdmVyYWxsSWRlYUltYWdlLFxyXG5cdFx0XHQvLyBUaGUgc3ZnIGNvZGUgZm9yIHRoZSBpbWFnZVxyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXHJcblx0XHRcdCc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmb2N1c2FibGU9XCJmYWxzZVwiIHZpZXdCb3g9XCIwLDAsMjA0OCwyMDQ4XCI+PHBhdGggZmlsbD1cIiNGQUZBRkFcIiBmaWxsLW9wYWNpdHk9XCIxLjAwMFwiIGQ9XCJNIDIxMyAxOTIwIHYgLTU0NiBsIDI3NSAtNjQ5IGggMTA3MiBsIDI3NSA2NDkgdiA1NDYgelwiIC8+PHBhdGggZmlsbD1cIiMzQTNBMzhcIiBmaWxsLW9wYWNpdHk9XCIxLjAwMFwiIGQ9XCJNIDE4NzcgMTM2NSB2IDU5OCBoIC0xNzA2IHYgLTU5OCBsIDI4OSAtNjgyIGggMjg4IGwgLTQxIDQxIGwgNDQgNDQgaCAtMjM5IGwgLTI0OCA1OTcgaCAxNTIwIGwgLTIyMSAtNTMyIGwgNjMgLTYyIG0gMTY2IDY4MCBoIC0xNTM2IHYgNDI2IGggMTUzNiB6XCIgLz48cGF0aCBmaWxsPVwiI0ZBRkFGQVwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMTA0OSAxMDY3IGwgLTM0MiAtMzQzIGwgNjY0IC02NjQgbCA0ODIgNDgzIGwgLTUyMyA1MjQgelwiIC8+PHBhdGggZmlsbD1cIiM3OTc3NzRcIiBmaWxsLW9wYWNpdHk9XCIxLjAwMFwiIGQ9XCJNIDE1MzYgNjQ5IGwgLTI3MSAtMjcyIGwgNjAgLTYwIGwgMjcyIDI3MSBtIC0yMTEgMjEyIGwgLTI3MiAtMjcyIGwgNjAgLTYwIGwgMjcyIDI3MSBtIC0yMTEgMjExIGwgLTI3MiAtMjcxIGwgNjEgLTYxIGwgMjcxIDI3MiB6XCIgLz48cGF0aCBmaWxsPVwiIzFFOEJDRFwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gOTg5IDEwNjcgbCAtMzQzIC0zNDMgbCA3MjUgLTcyNCBsIDU0MyA1NDMgbCAtNTI0IDUyNCBoIC0xMjEgbCA1MjQgLTUyNCBsIC00MjIgLTQyMiBsIC02MDQgNjAzIGwgMzQzIDM0MyB6XCIgLz48cGF0aCBmaWxsPVwiIzNBM0EzOFwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMTQ1MSAxMTA5IGggLTg1NCB2IC04NSBoIDg1NCB6XCIgLz48L3N2Zz4nLFxyXG5cdFx0XHRJRHMuT3ZlcmFsbElkZWFUZXh0LCBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuSWRlYUZvcm0uQW5jaG9yKSk7XHJcblx0fVxyXG5cclxuXHRpZiAoRmVlZGJhY2tUeXBlLkJ1ZyBpbiBmb3JtVGVtcGxhdGVzKSB7XHJcblx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZ2VuZXJhdGVPdmVyYWxsQW5jaG9yKElEcy5PdmVyYWxsQnVnQW5jaG9yLCBJRHMuT3ZlcmFsbEJ1Z0ltYWdlLFxyXG5cdFx0XHQvLyBUaGUgc3ZnIGNvZGUgZm9yIHRoZSBpbWFnZVxyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXHJcblx0XHRcdCc8c3ZnIHZpZXdCb3g9XCIxNTAgMTAwIDE3NDggMTc0OFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiBmb2N1c2FibGU9XCJmYWxzZVwiPjxwYXRoIGQ9XCJNMTgyNCAxMDg4cTAgMjYtMTkgNDV0LTQ1IDE5aC0yMjRxMCAxNzEtNjcgMjkwbDIwOCAyMDlxMTkgMTkgMTkgNDV0LTE5IDQ1cS0xOCAxOS00NSAxOXQtNDUtMTlsLTE5OC0xOTdxLTUgNS0xNSAxM3QtNDIgMjguNS02NSAzNi41LTgyIDI5LTk3IDEzdi04OTZoLTEyOHY4OTZxLTUxIDAtMTAxLjUtMTMuNXQtODctMzMtNjYtMzktNDMuNS0zMi41bC0xNS0xNC0xODMgMjA3cS0yMCAyMS00OCAyMS0yNCAwLTQzLTE2LTE5LTE4LTIwLjUtNDQuNXQxNS41LTQ2LjVsMjAyLTIyN3EtNTgtMTE0LTU4LTI3NGgtMjI0cS0yNiAwLTQ1LTE5dC0xOS00NSAxOS00NSA0NS0xOWgyMjR2LTI5NGwtMTczLTE3M3EtMTktMTktMTktNDV0MTktNDUgNDUtMTkgNDUgMTlsMTczIDE3M2g4NDRsMTczLTE3M3ExOS0xOSA0NS0xOXQ0NSAxOSAxOSA0NS0xOSA0NWwtMTczIDE3M3YyOTRoMjI0cTI2IDAgNDUgMTl0MTkgNDV6bS00ODAtNTc2aC02NDBxMC0xMzMgOTMuNS0yMjYuNXQyMjYuNS05My41IDIyNi41IDkzLjUgOTMuNSAyMjYuNXpcIi8+PC9zdmc+JyxcclxuXHRcdFx0SURzLk92ZXJhbGxCdWdUZXh0LCBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuQnVnRm9ybS5BbmNob3IpKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB3cmFwcGVyLmNoaWxkcmVuO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgUmVuZGVyZXIuSVVJQXNKc29uIG9iamVjdCB0aGF0IGhvbGRzIGFuIGFuY2hvciB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgYmVsbHliYW5kLlxyXG4gKiBAcGFyYW0gb3ZlcmFsbEFuY2hvcklEIHRoZSBvdmVyYWxsIGFuY2hvciBpZFxyXG4gKiBAcGFyYW0gb3ZlcmFsbEltYWdlSUQgdGhlIGltYWdlIGlkXHJcbiAqIEBwYXJhbSBpbWFnZUNsYXNzIHRoZSBpbWFnZSBjbGFzcyAoaWNvbilcclxuICogQHBhcmFtIG92ZXJhbGxUZXh0SUQgdGhlIGlkIGZvciB0ZXh0IGJveFxyXG4gKiBAcGFyYW0gdWlTdHJpbmcgdGhlIHN0cmluZyB0byBkaXNwbGF5XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZU92ZXJhbGxBbmNob3IoXHJcblx0b3ZlcmFsbEFuY2hvcklEOiBzdHJpbmcsIG92ZXJhbGxJbWFnZUlEOiBzdHJpbmcsIHN2Z0ltYWdlOiBzdHJpbmcsXHJcblx0b3ZlcmFsbFRleHRJRDogc3RyaW5nLCB1aVN0cmluZzogc3RyaW5nKTogUmVuZGVyZXIuSVVJQXNKc29uIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0YXR0cmlidXRlczpcclxuXHRcdFtcclxuXHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5CdXR0b24gfSxcclxuXHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlJvbGUsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5UYWIgfSxcclxuXHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCwgdmFsdWU6IHVpU3RyaW5nIH0sXHJcblx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5BcmlhU2VsZWN0ZWQsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5GYWxzZSB9LFxyXG5cdFx0XSxcclxuXHRcdGNoaWxkcmVuOlxyXG5cdFx0W1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuT3ZlcmFsbEltYWdlXSxcclxuXHRcdFx0XHRpZDogb3ZlcmFsbEltYWdlSUQsXHJcblx0XHRcdFx0aW5uZXJIVE1MOiBzdmdJbWFnZSxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YnRpdGxlLCBDbGFzc2VzLk92ZXJhbGxUZXh0XSxcclxuXHRcdFx0XHRpZDogb3ZlcmFsbFRleHRJRCxcclxuXHRcdFx0XHRpbm5lclRleHQ6IHVpU3RyaW5nLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHRcdGNsYXNzZXM6IFtDbGFzc2VzLk92ZXJhbGxBbmNob3IsIENsYXNzZXMuVGV4dEFsaWduTGVmdF0sXHJcblx0XHRpZDogb3ZlcmFsbEFuY2hvcklELFxyXG5cdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHR9O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/Layout.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts":
/*!************************************************************************!*\
  !*** ./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts ***!
  \************************************************************************/
/*! exports provided: generate, containerId, onSelect, type */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"containerId\", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onSelect\", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"type\", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _Configuration_IInitOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../../Configuration/IInitOptions */ \"./scripts/app/Configuration/IInitOptions.ts\");\n/**\r\n * ThanksPanelTemplate.ts\r\n *\r\n * A panel rendering a Thank you-message.\r\n */\r\n\r\n\r\n\r\n\r\n/**\r\n * Function to create a Link Url\r\n * @param url to which the click will be redireced\r\n * @param text display text\r\n * @returns HTML Link with clickable Text based on URL  provided\r\n */\r\nfunction makeLinkText(url, text) {\r\n    return \"<a target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" href=\\\"\" + url + \"\\\">\" + text + \"</a>\";\r\n}\r\n/**\r\n * Function to create Thank you Page paragraph\r\n * Based on the init parameters, the paragraph is constructed in HTML view which is rendred in innerHTML tag of UIasJSON function.\r\n */\r\nfunction GetThankYouPageText() {\r\n    var _a, _b, _c, _d, _e;\r\n    // Add a page break to make the paragraph readable\r\n    var thankYouPageText = ((_a = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _a === void 0 ? void 0 : _a.AppreciateText) + \"<br><br>\";\r\n    // if the age Group is not defined or adult , then only show the link\r\n    var ageGroupEnabledForFeedbackUrls = (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().ageGroup === _Configuration_IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Undefined\r\n        || _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().ageGroup === _Configuration_IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Adult) ? true : false;\r\n    // First check if the age group is enabled\r\n    if (ageGroupEnabledForFeedbackUrls) {\r\n        // if the My Feedback Portal is enable by the consumer product(office-wac/mso)\r\n        if (!!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getInAppFeedbackInitOptions().myFeedbackForumUrl) {\r\n            var MyFeedbackString = ((_b = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _b === void 0 ? void 0 : _b.MyFeedbackDescription) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\" + makeLinkText(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getInAppFeedbackInitOptions().myFeedbackForumUrl, (_c = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _c === void 0 ? void 0 : _c.MyFeedbackLinkText) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<br><br>\";\r\n            thankYouPageText = thankYouPageText + \" \" + MyFeedbackString;\r\n        }\r\n        // if the Feedback Forum Link is provided by the consumer product\r\n        if (!!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getInAppFeedbackInitOptions().feedbackForumUrl) {\r\n            var FeedbackPortalText = ((_d = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _d === void 0 ? void 0 : _d.FeedbackPortalDescription) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\" + makeLinkText(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getInAppFeedbackInitOptions().feedbackForumUrl, (_e = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _e === void 0 ? void 0 : _e.FeedbackPortalLinkText) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<br><br>\";\r\n            thankYouPageText = thankYouPageText + \" \" + FeedbackPortalText;\r\n        }\r\n    }\r\n    return thankYouPageText;\r\n}\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    var primaryColor = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().primaryColour;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelInnerContainer,\r\n                children: [\r\n                    {\r\n                        innerHTML: \"<br>\",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                    },\r\n                    {\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelDiscussion,\r\n                        innerHTML: \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 30.4 25.3\\\"\\n\\trole=\\\"presentation\\\" alt=\\\"\\\" tabindex=\\\"-1\\\" focusable=\\\"false\\\">\\n\\t<defs>\\n\\t\\t<style>\\n\\t\\t\\t.cls-1,.cls-3{isolation:isolate;}\\n\\t\\t\\t.cls-2{fill:#e1dfdd;}\\n\\t\\t\\t.cls-3{fill:\" + primaryColor + \";opacity:0.4;}\\n\\t\\t\\t.cls-4{fill:#c8c6c4;mix-blend-mode:multiply;}\\n\\t\\t\\t.cls-5{fill:#fff;}</style>\\n\\t</defs>\\n\\t<title>commentsOffice</title>\\n\\t<g class=\\\"cls-1\\\">\\n\\t\\t<g id=\\\"Layer_1\\\" data-name=\\\"Layer 1\\\">\\n\\t\\t\\t<path class=\\\"cls-2\\\" d=\\\"M17.8,0H1.2A1.216,1.216,0,0,0,0,1.2V15.3a1.1554,1.1554,0,0,0,1.2,1.2H7l.1,\\n\\t\\t\\t\\t4.1L10,16.5h7.9a1.1554,1.1554,0,0,0,1.2-1.2V1.2A1.305,1.305,0,0,0,17.8,0Z\\\"/>\\n\\t\\t\\t<path class=\\\"cls-3\\\" d=\\\"M28.5,10.8a6.0429,6.0429,0,0,0-3.2-2,7.1943,7.1943,0,0,0-6.4,1,7.4884,\\n\\t\\t\\t\\t7.4884,0,0,0-3.1,5.7,6.016,6.016,0,0,0,.9,3.7,6.9394,6.9394,0,0,0,5,3.7l2.9,2.4L24.4,23a7.8372,\\n\\t\\t\\t\\t7.8372,0,0,0,3-1.3,7.4574,7.4574,0,0,0,3-4.7A7.5076,7.5076,0,0,0,28.5,10.8Z\\\"/>\\n\\t\\t\\t<path id=\\\"Layer2_1_MEMBER_1_FILL\\\" data-name=\\\"Layer2 1 MEMBER 1 FILL\\\" class=\\\"cls-4\\\" d=\\\"M11.9885,\\n\\t\\t\\t\\t8.0154a.8939.8939,0,1,0,.6371-.2589.8653.8653,0,0,0-.6371.2589M6.8115,9.24A.8977.8977,0,1,0,\\n\\t\\t\\t\\t5.5532,7.9589.8977.8977,0,1,0,6.8115,9.24m3.2259-1.2412a.894.894,0,1,0,.2588.637A.8653.8653,\\n\\t\\t\\t\\t0,0,0,10.0374,7.9983Z\\\"/>\\n\\t\\t\\t<path class=\\\"cls-5\\\" d=\\\"M20.9019,16.3243a.8008.8008,0,0,0,.2586-.5659.8371.8371,0,0,\\n\\t\\t\\t\\t0-.21-.5919.7693.7693,0,0,0-1.1091-.05.8379.8379,0,0,0-.2627.5706.8012.8012,0,0,0,\\n\\t\\t\\t\\t.2066.5869.77.77,0,0,0,1.1167.05m1.51-.51a.8014.8014,0,0,0,.2066.5874.7695.7695,0,0,0,\\n\\t\\t\\t\\t1.1127.0541.8379.8379,0,0,0,.2627-.57.8009.8009,0,0,0-.2066-.5869.7694.7694,0,0,\\n\\t\\t\\t\\t0-1.1167-.05.8011.8011,0,0,0-.2587.5663m2.8279.1272a.8371.8371,0,0,0,.21.5919.7693.7693,0,0,\\n\\t\\t\\t\\t0,1.1091.05.8379.8379,0,0,0,.2627-.5706.8012.8012,0,0,0-.2066-.5869.77.77,0,0,\\n\\t\\t\\t\\t0-1.1167-.05A.8008.8008,0,0,0,25.24,15.9416Z\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                    },\r\n                    {\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelVerticalContainer,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                        children: [\r\n                            {\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].FontTitle,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].TextAlignLeft,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].FormQuestionMiddleText,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].ThanksPanelTitle,\r\n                                ],\r\n                                innerText: (_a = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _a === void 0 ? void 0 : _a.Title,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                            },\r\n                            {\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].FontSubText,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].TextAlignLeft,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].ThanksPanelMessage,\r\n                                ],\r\n                                // changed from innerText to innerHTML for rendering clickable Links\r\n                                innerHTML: GetThankYouPageText(),\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelParagraph,\r\n                            },\r\n                            {\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].SubmitButton,\r\n                                ],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelCloseButton,\r\n                                innerText: (_b = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _b === void 0 ? void 0 : _b.Close,\r\n                                ariaLabel: (_c = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _c === void 0 ? void 0 : _c.Close,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Button,\r\n                                role: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Roles\"].Button,\r\n                                attributes: [\r\n                                    {\r\n                                        name: \"aria-label\",\r\n                                        value: ((_d = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _d === void 0 ? void 0 : _d.Title) + \" \" + ((_e = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _e === void 0 ? void 0 : _e.AppreciateText) + \" \" + ((_f = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().ThanksPanel) === null || _f === void 0 ? void 0 : _f.Close),\r\n                                    },\r\n                                    {\r\n                                        name: \"type\",\r\n                                        value: \"button\",\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                    {\r\n                        innerHTML: \"<br>\",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Tags\"].Div,\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"Classes\"].Hidden],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelContainer;\r\n/**\r\n * This method executes form\r\n * specific logic when the pane is opened\r\n * @param panelType panel type\r\n */\r\nfunction onSelect(panelType) {\r\n    if (panelType !== 0 /* Thanks */) {\r\n        return;\r\n    }\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_2__[\"IDs\"].ThanksPanelCloseButton).focus();\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = 0 /* Thanks */;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvUGFuZWxUZW1wbGF0ZXMvVGhhbmtzUGFuZWxUZW1wbGF0ZS50cz8zZWFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFeUQ7QUFFWTtBQUVWO0FBRVE7QUFFdEU7Ozs7O0dBS0c7QUFDSCxTQUFTLFlBQVksQ0FBQyxHQUFXLEVBQUUsSUFBWTtJQUM5QyxPQUFPLDZEQUFzRCxHQUFHLFdBQUssSUFBSSxTQUFNLENBQUM7QUFDakYsQ0FBQztBQUVEOzs7R0FHRztBQUNILFNBQVMsbUJBQW1COztJQUUzQixrREFBa0Q7SUFDbEQsSUFBSSxnQkFBZ0IsR0FBVyxPQUFHLGlFQUFzQixFQUFFLENBQUMsV0FBVywwQ0FBRSxjQUFjLGNBQVUsQ0FBQztJQUVqRyxxRUFBcUU7SUFDckUsSUFBTSw4QkFBOEIsR0FBWSxDQUFDLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxRQUFRLEtBQUssb0VBQXFCLENBQUMsU0FBUztXQUNwSSxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsUUFBUSxLQUFLLG9FQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUV4RywwQ0FBMEM7SUFDMUMsSUFBSSw4QkFBOEIsRUFBRTtRQUVuQyw4RUFBOEU7UUFDOUUsSUFBSSxDQUFDLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLGtCQUFrQixFQUFFO1lBQzNFLElBQU0sZ0JBQWdCLEdBQUcsT0FBRyxpRUFBc0IsRUFBRSxDQUFDLFdBQVcsMENBQUUscUJBQXFCLGlEQUVoRixZQUFZLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLGtCQUFrQixRQUN2RixpRUFBc0IsRUFB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cUNBQzVDO29DQUNEO3dDQUNDLElBQUksRUFBRSxNQUFNO3dDQUNaLEtBQUssRUFBRSxRQUFRO3FDQUNmO2lDQUNEOzZCQUNEO3lCQUNEO3FCQUNEO29CQUNEO3dCQUNDLFNBQVMsRUFBRSxNQUFNO3dCQUNqQixHQUFHLEVBQUUsaURBQUksQ0FBQyxHQUFHO3FCQUNiO2lCQUNEO2FBQ0Q7U0FDRDtRQUNELE9BQU8sRUFBRSxDQUFDLG9EQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3pCLEVBQUUsRUFBRSxXQUFXO0tBQ2YsQ0FBQztJQUNGLE9BQU8sVUFBVSxDQUFDO0FBQ25CLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxJQUFJLFdBQVcsR0FBVyxnREFBRyxDQUFDLG9CQUFvQixDQUFDO0FBRTFEOzs7O0dBSUc7QUFDSSxTQUFTLFFBQVEsQ0FBQyxTQUFvQjtJQUM1QyxJQUFJLFNBQVMsbUJBQXFCLEVBQUU7UUFDbkMsT0FBTztLQUNQO0lBRUQsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLHNCQUFzQixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDN0QsQ0FBQztBQUVEOztHQUVHO0FBQ0ksSUFBSSxJQUFJLGlCQUE4QyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQmVsbHlCYW5kL1BhbmVsVGVtcGxhdGVzL1RoYW5rc1BhbmVsVGVtcGxhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGhhbmtzUGFuZWxUZW1wbGF0ZS50c1xyXG4gKlxyXG4gKiBBIHBhbmVsIHJlbmRlcmluZyBhIFRoYW5rIHlvdS1tZXNzYWdlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi8uLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCB7IElVSUFzSnNvbiB9IGZyb20gXCIuLy4uLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vLi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IFBhbmVsVHlwZSB9IGZyb20gXCIuLy4uLy4uLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBJRHMsIFRhZ3MsIENsYXNzZXMsIFJvbGVzIH0gZnJvbSBcIi4uLy4uL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFBhbmVsVGVtcGxhdGVUeXBlIH0gZnJvbSBcIi4vUGFuZWxUZW1wbGF0ZVR5cGVcIjtcclxuaW1wb3J0ICogYXMgSUluaXRPcHRpb25zIGZyb20gXCIuLy4uLy4uLy4uL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zXCI7XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gdG8gY3JlYXRlIGEgTGluayBVcmxcclxuICogQHBhcmFtIHVybCB0byB3aGljaCB0aGUgY2xpY2sgd2lsbCBiZSByZWRpcmVjZWRcclxuICogQHBhcmFtIHRleHQgZGlzcGxheSB0ZXh0XHJcbiAqIEByZXR1cm5zIEhUTUwgTGluayB3aXRoIGNsaWNrYWJsZSBUZXh0IGJhc2VkIG9uIFVSTCAgcHJvdmlkZWRcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VMaW5rVGV4dCh1cmw6IHN0cmluZywgdGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gYDxhIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiBocmVmPVwiJHt1cmx9XCI+JHt0ZXh0fTwvYT5gO1xyXG59XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gdG8gY3JlYXRlIFRoYW5rIHlvdSBQYWdlIHBhcmFncmFwaFxyXG4gKiBCYXNlZCBvbiB0aGUgaW5pdCBwYXJhbWV0ZXJzLCB0aGUgcGFyYWdyYXBoIGlzIGNvbnN0cnVjdGVkIGluIEhUTUwgdmlldyB3aGljaCBpcyByZW5kcmVkIGluIGlubmVySFRNTCB0YWcgb2YgVUlhc0pTT04gZnVuY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRUaGFua1lvdVBhZ2VUZXh0KCk6IHN0cmluZyB7XHJcblxyXG5cdC8vIEFkZCBhIHBhZ2UgYnJlYWsgdG8gbWFrZSB0aGUgcGFyYWdyYXBoIHJlYWRhYmxlXHJcblx0bGV0IHRoYW5rWW91UGFnZVRleHQ6IHN0cmluZyA9IGAke1VJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uQXBwcmVjaWF0ZVRleHR9PGJyPjxicj5gO1xyXG5cclxuXHQvLyBpZiB0aGUgYWdlIEdyb3VwIGlzIG5vdCBkZWZpbmVkIG9yIGFkdWx0ICwgdGhlbiBvbmx5IHNob3cgdGhlIGxpbmtcclxuXHRjb25zdCBhZ2VHcm91cEVuYWJsZWRGb3JGZWVkYmFja1VybHM6IGJvb2xlYW4gPSAoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFnZUdyb3VwID09PSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuVW5kZWZpbmVkXHJcblx0XHR8fCBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYWdlR3JvdXAgPT09IElJbml0T3B0aW9ucy5BZ2VHcm91cC5BZHVsdCkgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdC8vIEZpcnN0IGNoZWNrIGlmIHRoZSBhZ2UgZ3JvdXAgaXMgZW5hYmxlZFxyXG5cdGlmIChhZ2VHcm91cEVuYWJsZWRGb3JGZWVkYmFja1VybHMpIHtcclxuXHJcblx0XHQvLyBpZiB0aGUgTXkgRmVlZGJhY2sgUG9ydGFsIGlzIGVuYWJsZSBieSB0aGUgY29uc3VtZXIgcHJvZHVjdChvZmZpY2Utd2FjL21zbylcclxuXHRcdGlmICghIUNvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkubXlGZWVkYmFja0ZvcnVtVXJsKSB7XHJcblx0XHRcdGNvbnN0IE15RmVlZGJhY2tTdHJpbmcgPSBgJHtVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVGhhbmtzUGFuZWw/Lk15RmVlZGJhY2tEZXNjcmlwdGlvbn1cclxuXHRcdFx0XHRcdFx0XHRcdDxicj5cclxuXHRcdFx0XHRcdFx0XHRcdCR7bWFrZUxpbmtUZXh0KENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkubXlGZWVkYmFja0ZvcnVtVXJsLFxyXG5cdFx0XHRcdFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uTXlGZWVkYmFja0xpbmtUZXh0KX1cclxuXHRcdFx0XHRcdFx0XHRcdDxicj48YnI+YDtcclxuXHRcdFx0dGhhbmtZb3VQYWdlVGV4dCA9IGAke3RoYW5rWW91UGFnZVRleHR9ICR7TXlGZWVkYmFja1N0cmluZ31gO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIHRoZSBGZWVkYmFjayBGb3J1bSBMaW5rIGlzIHByb3ZpZGVkIGJ5IHRoZSBjb25zdW1lciBwcm9kdWN0XHJcblx0XHRpZiAoISFDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLmZlZWRiYWNrRm9ydW1VcmwpIHtcclxuXHRcdFx0Y29uc3QgRmVlZGJhY2tQb3J0YWxUZXh0ID0gYCR7VUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlRoYW5rc1BhbmVsPy5GZWVkYmFja1BvcnRhbERlc2NyaXB0aW9ufVxyXG5cdFx0XHRcdFx0XHRcdFx0PGJyPlxyXG5cdFx0XHRcdFx0XHRcdFx0JHttYWtlTGlua1RleHQoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5mZWVkYmFja0ZvcnVtVXJsLFxyXG5cdFx0XHRcdFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uRmVlZGJhY2tQb3J0YWxMaW5rVGV4dCl9XHJcblx0XHRcdFx0XHRcdFx0XHQ8YnI+PGJyPmA7XHJcblx0XHRcdHRoYW5rWW91UGFnZVRleHQgPSBgJHt0aGFua1lvdVBhZ2VUZXh0fSAke0ZlZWRiYWNrUG9ydGFsVGV4dH1gO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoYW5rWW91UGFnZVRleHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSB0aGUgbWFya3VwXHJcbiAqIEByZXR1cm5zIHRoZSBtYXJrdXAgYXMganNvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKCk6IElVSUFzSnNvbiB7XHJcblx0bGV0IHByaW1hcnlDb2xvciA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5wcmltYXJ5Q29sb3VyO1xyXG5cclxuXHRsZXQgZm9ybVNjaGVtYSA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHRcdGlkOiBJRHMuVGhhbmtzUGFuZWxJbm5lckNvbnRhaW5lcixcclxuXHRcdFx0XHRjaGlsZHJlbjogW1xyXG5cdFx0XHRcdFx0e1x0Ly8gYWRkZWQgdG8gY3JlYXRlIG1hcmdpbnMgYmVmb3JlIGZlZWRiYWNrIGltYWdlXHJcblx0XHRcdFx0XHRcdGlubmVySFRNTDogXCI8YnI+XCIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZDogSURzLlRoYW5rc1BhbmVsRGlzY3Vzc2lvbixcclxuXHRcdFx0XHRcdFx0aW5uZXJIVE1MOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAzMC40IDI1LjNcIlxyXG5cdHJvbGU9XCJwcmVzZW50YXRpb25cIiBhbHQ9XCJcIiB0YWJpbmRleD1cIi0xXCIgZm9jdXNhYmxlPVwiZmFsc2VcIj5cclxuXHQ8ZGVmcz5cclxuXHRcdDxzdHlsZT5cclxuXHRcdFx0LmNscy0xLC5jbHMtM3tpc29sYXRpb246aXNvbGF0ZTt9XHJcblx0XHRcdC5jbHMtMntmaWxsOiNlMWRmZGQ7fVxyXG5cdFx0XHQuY2xzLTN7ZmlsbDpgICsgcHJpbWFyeUNvbG9yICsgYDtvcGFjaXR5OjAuNDt9XHJcblx0XHRcdC5jbHMtNHtmaWxsOiNjOGM2YzQ7bWl4LWJsZW5kLW1vZGU6bXVsdGlwbHk7fVxyXG5cdFx0XHQuY2xzLTV7ZmlsbDojZmZmO308L3N0eWxlPlxyXG5cdDwvZGVmcz5cclxuXHQ8dGl0bGU+Y29tbWVudHNPZmZpY2U8L3RpdGxlPlxyXG5cdDxnIGNsYXNzPVwiY2xzLTFcIj5cclxuXHRcdDxnIGlkPVwiTGF5ZXJfMVwiIGRhdGEtbmFtZT1cIkxheWVyIDFcIj5cclxuXHRcdFx0PHBhdGggY2xhc3M9XCJjbHMtMlwiIGQ9XCJNMTcuOCwwSDEuMkExLjIxNiwxLjIxNiwwLDAsMCwwLDEuMlYxNS4zYTEuMTU1NCwxLjE1NTQsMCwwLDAsMS4yLDEuMkg3bC4xLFxyXG5cdFx0XHRcdDQuMUwxMCwxNi41aDcuOWExLjE1NTQsMS4xNTU0LDAsMCwwLDEuMi0xLjJWMS4yQTEuMzA1LDEuMzA1LDAsMCwwLDE3LjgsMFpcIi8+XHJcblx0XHRcdDxwYXRoIGNsYXNzPVwiY2xzLTNcIiBkPVwiTTI4LjUsMTAuOGE2LjA0MjksNi4wNDI5LDAsMCwwLTMuMi0yLDcuMTk0Myw3LjE5NDMsMCwwLDAtNi40LDEsNy40ODg0LFxyXG5cdFx0XHRcdDcuNDg4NCwwLDAsMC0zLjEsNS43LDYuMDE2LDYuMDE2LDAsMCwwLC45LDMuNyw2LjkzOTQsNi45Mzk0LDAsMCwwLDUsMy43bDIuOSwyLjRMMjQuNCwyM2E3LjgzNzIsXHJcblx0XHRcdFx0Ny44MzcyLDAsMCwwLDMtMS4zLDcuNDU3NCw3LjQ1NzQsMCwwLDAsMy00LjdBNy41MDc2LDcuNTA3NiwwLDAsMCwyOC41LDEwLjhaXCIvPlxyXG5cdFx0XHQ8cGF0aCBpZD1cIkxheWVyMl8xX01FTUJFUl8xX0ZJTExcIiBkYXRhLW5hbWU9XCJMYXllcjIgMSBNRU1CRVIgMSBGSUxMXCIgY2xhc3M9XCJjbHMtNFwiIGQ9XCJNMTEuOTg4NSxcclxuXHRcdFx0XHQ4LjAxNTRhLjg5MzkuODkzOSwwLDEsMCwuNjM3MS0uMjU4OS44NjUzLjg2NTMsMCwwLDAtLjYzNzEuMjU4OU02LjgxMTUsOS4yNEEuODk3Ny44OTc3LDAsMSwwLFxyXG5cdFx0XHRcdDUuNTUzMiw3Ljk1ODkuODk3Ny44OTc3LDAsMSwwLDYuODExNSw5LjI0bTMuMjI1OS0xLjI0MTJhLjg5NC44OTQsMCwxLDAsLjI1ODguNjM3QS44NjUzLjg2NTMsXHJcblx0XHRcdFx0MCwwLDAsMTAuMDM3NCw3Ljk5ODNaXCIvPlxyXG5cdFx0XHQ8cGF0aCBjbGFzcz1cImNscy01XCIgZD1cIk0yMC45MDE5LDE2LjMyNDNhLjgwMDguODAwOCwwLDAsMCwuMjU4Ni0uNTY1OS44MzcxLjgzNzEsMCwwLFxyXG5cdFx0XHRcdDAtLjIxLS41OTE5Ljc2OTMuNzY5MywwLDAsMC0xLjEwOTEtLjA1LjgzNzkuODM3OSwwLDAsMC0uMjYyNy41NzA2LjgwMTIuODAxMiwwLDAsMCxcclxuXHRcdFx0XHQuMjA2Ni41ODY5Ljc3Ljc3LDAsMCwwLDEuMTE2Ny4wNW0xLjUxLS41MWEuODAxNC44MDE0LDAsMCwwLC4yMDY2LjU4NzQuNzY5NS43Njk1LDAsMCwwLFxyXG5cdFx0XHRcdDEuMTEyNy4wNTQxLjgzNzkuODM3OSwwLDAsMCwuMjYyNy0uNTcuODAwOS44MDA5LDAsMCwwLS4yMDY2LS41ODY5Ljc2OTQuNzY5NCwwLDAsXHJcblx0XHRcdFx0MC0xLjExNjctLjA1LjgwMTEuODAxMSwwLDAsMC0uMjU4Ny41NjYzbTIuODI3OS4xMjcyYS44MzcxLjgzNzEsMCwwLDAsLjIxLjU5MTkuNzY5My43NjkzLDAsMCxcclxuXHRcdFx0XHQwLDEuMTA5MS4wNS44Mzc5LjgzNzksMCwwLDAsLjI2MjctLjU3MDYuODAxMi44MDEyLDAsMCwwLS4yMDY2LS41ODY5Ljc3Ljc3LDAsMCxcclxuXHRcdFx0XHQwLTEuMTE2Ny0uMDVBLjgwMDguODAwOCwwLDAsMCwyNS4yNCwxNS45NDE2WlwiLz5cclxuXHRcdDwvZz5cclxuXHQ8L2c+XHJcbjwvc3ZnPmAsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZDogSURzLlRoYW5rc1BhbmVsVmVydGljYWxDb250YWluZXIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRDbGFzc2VzLkZvbnRUaXRsZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRDbGFzc2VzLkZvcm1RdWVzdGlvbk1pZGRsZVRleHQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuVGhhbmtzUGFuZWxUaXRsZSxcclxuXHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uVGl0bGUsXHJcblx0XHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRDbGFzc2VzLkZvbnRTdWJUZXh0LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRDbGFzc2VzLlRleHRBbGlnbkxlZnQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuVGhhbmtzUGFuZWxNZXNzYWdlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGNoYW5nZWQgZnJvbSBpbm5lclRleHQgdG8gaW5uZXJIVE1MIGZvciByZW5kZXJpbmcgY2xpY2thYmxlIExpbmtzXHJcblx0XHRcdFx0XHRcdFx0XHRpbm5lckhUTUw6IEdldFRoYW5rWW91UGFnZVRleHQoKSxcclxuXHRcdFx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLlRoYW5rc1BhbmVsUGFyYWdyYXBoLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRDbGFzc2VzLlN1Ym1pdEJ1dHRvbixcclxuXHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLlRoYW5rc1BhbmVsQ2xvc2VCdXR0b24sXHJcblx0XHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uQ2xvc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRhcmlhTGFiZWw6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uQ2xvc2UsXHJcblx0XHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0cm9sZTogUm9sZXMuQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogXCJhcmlhLWxhYmVsXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uVGl0bGUgKyBcIiBcIiArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVGhhbmtzUGFuZWw/LkFwcHJlY2lhdGVUZXh0ICsgXCIgXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0VUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlRoYW5rc1BhbmVsPy5DbG9zZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IFwidHlwZVwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcImJ1dHRvblwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcdC8vIGFkZGVkIHRvIGNyZWF0ZSBtYXJnaW5zIGFmdGVyIENsb3NlIGJ1dHRvblxyXG5cdFx0XHRcdFx0XHRpbm5lckhUTUw6IFwiPGJyPlwiLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHRcdGNsYXNzZXM6IFtDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRpZDogY29udGFpbmVySWQsXHJcblx0fTtcclxuXHRyZXR1cm4gZm9ybVNjaGVtYTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBpZCBmb3IgdGhlIGNvbnRhaW5lci4gVGhpcyBpcyB0aGUgaWQgb2YgdGhlIHRvcC1tb3N0IGVsZW1lbnQgYW5kIHNob3VsZFxyXG4gKiBiZSB1bmlxdWUgdG8gZWFjaCBmb3JtXHJcbiAqL1xyXG5leHBvcnQgbGV0IGNvbnRhaW5lcklkOiBzdHJpbmcgPSBJRHMuVGhhbmtzUGFuZWxDb250YWluZXI7XHJcblxyXG4vKipcclxuICogVGhpcyBtZXRob2QgZXhlY3V0ZXMgZm9ybVxyXG4gKiBzcGVjaWZpYyBsb2dpYyB3aGVuIHRoZSBwYW5lIGlzIG9wZW5lZFxyXG4gKiBAcGFyYW0gcGFuZWxUeXBlIHBhbmVsIHR5cGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBvblNlbGVjdChwYW5lbFR5cGU6IFBhbmVsVHlwZSk6IHZvaWQge1xyXG5cdGlmIChwYW5lbFR5cGUgIT09IFBhbmVsVHlwZS5UaGFua3MpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5UaGFua3NQYW5lbENsb3NlQnV0dG9uKS5mb2N1cygpO1xyXG59XHJcblxyXG4vKipcclxuICogRm9ybSB0ZW1wbGF0ZSB0eXBlXHJcbiAqL1xyXG5leHBvcnQgbGV0IHR5cGU6IFBhbmVsVGVtcGxhdGVUeXBlID0gUGFuZWxUZW1wbGF0ZVR5cGUuVGhhbmtzO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts\n");

/***/ }),

/***/ "./scripts/app/UI/BellyBand/TabFocus.ts":
/*!**********************************************!*\
  !*** ./scripts/app/UI/BellyBand/TabFocus.ts ***!
  \**********************************************/
/*! exports provided: cycleTabFocus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cycleTabFocus\", function() { return cycleTabFocus; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/**\r\n * TabFocus.ts\r\n *\r\n * Module to handle tab and shift tab focus\r\n */\r\n\r\n/**\r\n * Keeps tabs and shift tabs focus on visible elements of the feedback dialog\r\n * This prevents tabs and shift tabs cycle focus to elements of the background main page.\r\n * @param focusedElement The in-focus element object\r\n */\r\nfunction cycleTabFocus(focusedElement) {\r\n    var elements = getTabbableElements();\r\n    // when a tab lands on the last dummy tabbable element, set focus to the first\r\n    // visible element which is the one after the first dummy tabbable element\r\n    if (focusedElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].LastTabbable) {\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var element = elements[i];\r\n            if (element.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].FirstTabbable || !checkVisible(element)) {\r\n                continue;\r\n            }\r\n            element.focus();\r\n            return;\r\n        }\r\n        // when a shift tab lands on the first dummy tabbable element, set focus to the last\r\n        // visible element which is the one before the last dummy tabbable element\r\n    }\r\n    else if (focusedElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].FirstTabbable) {\r\n        for (var i = elements.length - 1; i >= 0; i--) {\r\n            var element = elements[i];\r\n            if (element.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].LastTabbable || !checkVisible(element)) {\r\n                continue;\r\n            }\r\n            element.focus();\r\n            return;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns a list of tabbable elements.\r\n * @returns {NodeListOf<Element>} list of tabbable elements\r\n */\r\nfunction getTabbableElements() {\r\n    var tabbableSelector = \"a[href], area[href], input:not([disabled]):not([tabindex=\\'-1\\']), \" +\r\n        \"button:not([disabled]):not([tabindex=\\'-1\\']), select:not([disabled]):not([tabindex=\\'-1\\']), \" +\r\n        \"textarea:not([disabled]):not([tabindex =\\'-1\\']), \" +\r\n        \"object, *[tabindex]:not([tabindex=\\'-1\\']), *[contenteditable=true]\";\r\n    return document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"IDs\"].MainContainer).querySelectorAll(tabbableSelector);\r\n}\r\n/**\r\n * Returns visibility of an element by inspecting the element's parent class name for visible/hidden value.\r\n * Walk up the parent chain if needed.\r\n * @param element The element object\r\n * @returns {Boolean} whether the element is visible\r\n */\r\nfunction checkVisible(element) {\r\n    if (!element.parentElement) {\r\n        return false;\r\n    }\r\n    // don't bother if parent element id is just whitespace or empty\r\n    if (/\\S/.test(element.parentElement.id)) {\r\n        if (element.parentElement.className.indexOf(_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Visible) >= 0) {\r\n            return true;\r\n        }\r\n        if (element.parentElement.className.indexOf(_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Hidden) >= 0) {\r\n            return false;\r\n        }\r\n    }\r\n    return checkVisible(element.parentElement);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvVGFiRm9jdXMudHM/NTQxYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRTZDO0FBRWhEOzs7O0dBSUc7QUFDSSxTQUFTLGFBQWEsQ0FBQyxjQUF1QjtJQUNwRCxJQUFJLFFBQVEsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBRXJDLDhFQUE4RTtJQUM5RSwwRUFBMEU7SUFDMUUsSUFBSSxjQUFjLENBQUMsRUFBRSxLQUFLLGdEQUFHLENBQUMsWUFBWSxFQUFFO1FBQzNDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3pDLElBQUksT0FBTyxHQUFrQixRQUFRLENBQUMsQ0FBQyxDQUFFLENBQUM7WUFFMUMsSUFBSSxPQUFPLENBQUMsRUFBRSxLQUFLLGdEQUFHLENBQUMsYUFBYSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUMvRCxTQUFTO2FBQ1Q7WUFFRCxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDaEIsT0FBTztTQUNQO1FBQ0Qsb0ZBQW9GO1FBQ3BGLDBFQUEwRTtLQUMxRTtTQUFNLElBQUksY0FBYyxDQUFDLEVBQUUsS0FBSyxnREFBRyxDQUFDLGFBQWEsRUFBRTtRQUNuRCxLQUFLLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsSUFBSSxPQUFPLEdBQWtCLFFBQVEsQ0FBQyxDQUFDLENBQUUsQ0FBQztZQUUxQyxJQUFJLE9BQU8sQ0FBQyxFQUFFLEtBQUssZ0RBQUcsQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQzlELFNBQVM7YUFDVDtZQUVELE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNoQixPQUFPO1NBQ1A7S0FDRDtBQUNGLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLG1CQUFtQjtJQUMzQixJQUFNLGdCQUFnQixHQUFHLHFFQUFxRTtRQUM3RixnR0FBZ0c7UUFDaEcsb0RBQW9EO1FBQ3BELHFFQUFxRSxDQUFDO0lBRXZFLE9BQU8sUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDdEYsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyxZQUFZLENBQUMsT0FBb0I7SUFDekMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUU7UUFDM0IsT0FBTyxLQUFLLENBQUM7S0FDYjtJQUVELGdFQUFnRTtJQUNoRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUN4QyxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxvREFBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNsRSxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsb0RBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakUsT0FBTyxLQUFLLENBQUM7U0FDYjtLQUNEO0lBRUQsT0FBTyxZQUFZLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzVDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvVGFiRm9jdXMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGFiRm9jdXMudHNcclxuICpcclxuICogTW9kdWxlIHRvIGhhbmRsZSB0YWIgYW5kIHNoaWZ0IHRhYiBmb2N1c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IENsYXNzZXMsIElEcyB9IGZyb20gXCIuLy4uL1VpQ29uc3RhbnRzXCI7XHJcblxyXG4vKipcclxuICogS2VlcHMgdGFicyBhbmQgc2hpZnQgdGFicyBmb2N1cyBvbiB2aXNpYmxlIGVsZW1lbnRzIG9mIHRoZSBmZWVkYmFjayBkaWFsb2dcclxuICogVGhpcyBwcmV2ZW50cyB0YWJzIGFuZCBzaGlmdCB0YWJzIGN5Y2xlIGZvY3VzIHRvIGVsZW1lbnRzIG9mIHRoZSBiYWNrZ3JvdW5kIG1haW4gcGFnZS5cclxuICogQHBhcmFtIGZvY3VzZWRFbGVtZW50IFRoZSBpbi1mb2N1cyBlbGVtZW50IG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGN5Y2xlVGFiRm9jdXMoZm9jdXNlZEVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcclxuXHRsZXQgZWxlbWVudHMgPSBnZXRUYWJiYWJsZUVsZW1lbnRzKCk7XHJcblxyXG5cdC8vIHdoZW4gYSB0YWIgbGFuZHMgb24gdGhlIGxhc3QgZHVtbXkgdGFiYmFibGUgZWxlbWVudCwgc2V0IGZvY3VzIHRvIHRoZSBmaXJzdFxyXG5cdC8vIHZpc2libGUgZWxlbWVudCB3aGljaCBpcyB0aGUgb25lIGFmdGVyIHRoZSBmaXJzdCBkdW1teSB0YWJiYWJsZSBlbGVtZW50XHJcblx0aWYgKGZvY3VzZWRFbGVtZW50LmlkID09PSBJRHMuTGFzdFRhYmJhYmxlKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCBlbGVtZW50ID0gKDxIVE1MRWxlbWVudD4gZWxlbWVudHNbaV0pO1xyXG5cclxuXHRcdFx0aWYgKGVsZW1lbnQuaWQgPT09IElEcy5GaXJzdFRhYmJhYmxlIHx8ICFjaGVja1Zpc2libGUoZWxlbWVudCkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxlbWVudC5mb2N1cygpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHQvLyB3aGVuIGEgc2hpZnQgdGFiIGxhbmRzIG9uIHRoZSBmaXJzdCBkdW1teSB0YWJiYWJsZSBlbGVtZW50LCBzZXQgZm9jdXMgdG8gdGhlIGxhc3RcclxuXHRcdC8vIHZpc2libGUgZWxlbWVudCB3aGljaCBpcyB0aGUgb25lIGJlZm9yZSB0aGUgbGFzdCBkdW1teSB0YWJiYWJsZSBlbGVtZW50XHJcblx0fSBlbHNlIGlmIChmb2N1c2VkRWxlbWVudC5pZCA9PT0gSURzLkZpcnN0VGFiYmFibGUpIHtcclxuXHRcdGZvciAobGV0IGkgPSBlbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRsZXQgZWxlbWVudCA9ICg8SFRNTEVsZW1lbnQ+IGVsZW1lbnRzW2ldKTtcclxuXHJcblx0XHRcdGlmIChlbGVtZW50LmlkID09PSBJRHMuTGFzdFRhYmJhYmxlIHx8ICFjaGVja1Zpc2libGUoZWxlbWVudCkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxlbWVudC5mb2N1cygpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIGxpc3Qgb2YgdGFiYmFibGUgZWxlbWVudHMuXHJcbiAqIEByZXR1cm5zIHtOb2RlTGlzdE9mPEVsZW1lbnQ+fSBsaXN0IG9mIHRhYmJhYmxlIGVsZW1lbnRzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUYWJiYWJsZUVsZW1lbnRzKCk6IE5vZGVMaXN0T2Y8RWxlbWVudD4ge1xyXG5cdGNvbnN0IHRhYmJhYmxlU2VsZWN0b3IgPSBcImFbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PVxcJy0xXFwnXSksIFwiICtcclxuXHRcdFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PVxcJy0xXFwnXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFt0YWJpbmRleD1cXCctMVxcJ10pLCBcIiArXHJcblx0XHRcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4ID1cXCctMVxcJ10pLCBcIiArXHJcblx0XHRcIm9iamVjdCwgKlt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cXCctMVxcJ10pLCAqW2NvbnRlbnRlZGl0YWJsZT10cnVlXVwiO1xyXG5cclxuXHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLk1haW5Db250YWluZXIpLnF1ZXJ5U2VsZWN0b3JBbGwodGFiYmFibGVTZWxlY3Rvcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHZpc2liaWxpdHkgb2YgYW4gZWxlbWVudCBieSBpbnNwZWN0aW5nIHRoZSBlbGVtZW50J3MgcGFyZW50IGNsYXNzIG5hbWUgZm9yIHZpc2libGUvaGlkZGVuIHZhbHVlLlxyXG4gKiBXYWxrIHVwIHRoZSBwYXJlbnQgY2hhaW4gaWYgbmVlZGVkLlxyXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBvYmplY3RcclxuICogQHJldHVybnMge0Jvb2xlYW59IHdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZVxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tWaXNpYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XHJcblx0aWYgKCFlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8vIGRvbid0IGJvdGhlciBpZiBwYXJlbnQgZWxlbWVudCBpZCBpcyBqdXN0IHdoaXRlc3BhY2Ugb3IgZW1wdHlcclxuXHRpZiAoL1xcUy8udGVzdChlbGVtZW50LnBhcmVudEVsZW1lbnQuaWQpKSB7XHJcblx0XHRpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKENsYXNzZXMuVmlzaWJsZSkgPj0gMCkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKENsYXNzZXMuSGlkZGVuKSA+PSAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBjaGVja1Zpc2libGUoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/TabFocus.ts\n");

/***/ }),

/***/ "./scripts/app/UI/CategoriesDropdown.ts":
/*!**********************************************!*\
  !*** ./scripts/app/UI/CategoriesDropdown.ts ***!
  \**********************************************/
/*! exports provided: generate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/**\r\n * CategoriesDropdown.ts\r\n *\r\n * A module to render the categories dropdown\r\n */\r\n\r\n\r\n/**\r\n * Generate custom categories drop-down list. The list will contain just the\r\n * placeholder string if customCategories contains no value.\r\n * @param customCategories category values\r\n */\r\nfunction generate(customCategories) {\r\n    var categories = customCategories ? customCategories : [];\r\n    var result = [{\r\n            attributes: [{ name: \"selected\", value: \"true\" }],\r\n            innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__[\"getUIStrings\"]().Form.CategoryPlaceholder,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Option,\r\n        }];\r\n    for (var _i = 0, categories_1 = categories; _i < categories_1.length; _i++) {\r\n        var category = categories_1[_i];\r\n        result.push({\r\n            innerText: category,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__[\"Tags\"].Option,\r\n        });\r\n    }\r\n    return result;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9DYXRlZ29yaWVzRHJvcGRvd24udHM/Mzc3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFbUQ7QUFDaEI7QUFHdEM7Ozs7R0FJRztBQUNJLFNBQVMsUUFBUSxDQUFDLGdCQUEwQjtJQUNsRCxJQUFJLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUUxRCxJQUFJLE1BQU0sR0FBZ0IsQ0FBQztZQUMxQixVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ2pELFNBQVMsRUFBRSxpRUFBc0IsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUI7WUFDNUQsR0FBRyxFQUFFLGlEQUFJLENBQUMsTUFBTTtTQUNoQixDQUFDLENBQUM7SUFFSCxLQUFxQixVQUFVLEVBQVYseUJBQVUsRUFBVix3QkFBVSxFQUFWLElBQVUsRUFBRTtRQUE1QixJQUFJLFFBQVE7UUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNYLFNBQVMsRUFBRSxRQUFRO1lBQ25CLEdBQUcsRUFBRSxpREFBSSxDQUFDLE1BQU07U0FDaEIsQ0FBQyxDQUFDO0tBQ0g7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNmLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9DYXRlZ29yaWVzRHJvcGRvd24udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ2F0ZWdvcmllc0Ryb3Bkb3duLnRzXHJcbiAqXHJcbiAqIEEgbW9kdWxlIHRvIHJlbmRlciB0aGUgY2F0ZWdvcmllcyBkcm9wZG93blxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCB7IFRhZ3MgfSAgZnJvbSBcIi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSVVJQXNKc29uIH0gZnJvbSBcIi4vUmVuZGVyZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBjdXN0b20gY2F0ZWdvcmllcyBkcm9wLWRvd24gbGlzdC4gVGhlIGxpc3Qgd2lsbCBjb250YWluIGp1c3QgdGhlXHJcbiAqIHBsYWNlaG9sZGVyIHN0cmluZyBpZiBjdXN0b21DYXRlZ29yaWVzIGNvbnRhaW5zIG5vIHZhbHVlLlxyXG4gKiBAcGFyYW0gY3VzdG9tQ2F0ZWdvcmllcyBjYXRlZ29yeSB2YWx1ZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZShjdXN0b21DYXRlZ29yaWVzOiBzdHJpbmdbXSk6IElVSUFzSnNvbltdIHtcclxuXHRsZXQgY2F0ZWdvcmllcyA9IGN1c3RvbUNhdGVnb3JpZXMgPyBjdXN0b21DYXRlZ29yaWVzIDogW107XHJcblxyXG5cdGxldCByZXN1bHQ6IElVSUFzSnNvbltdID0gW3tcclxuXHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IFwic2VsZWN0ZWRcIiwgdmFsdWU6IFwidHJ1ZVwiIH1dLFxyXG5cdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5DYXRlZ29yeVBsYWNlaG9sZGVyLFxyXG5cdFx0dGFnOiBUYWdzLk9wdGlvbixcclxuXHR9XTtcclxuXHJcblx0Zm9yIChsZXQgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xyXG5cdFx0cmVzdWx0LnB1c2goe1xyXG5cdFx0XHRpbm5lclRleHQ6IGNhdGVnb3J5LFxyXG5cdFx0XHR0YWc6IFRhZ3MuT3B0aW9uLFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmVzdWx0O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/CategoriesDropdown.ts\n");

/***/ }),

/***/ "./scripts/app/UI/RatingControl.ts":
/*!*****************************************!*\
  !*** ./scripts/app/UI/RatingControl.ts ***!
  \*****************************************/
/*! exports provided: generate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/**\r\n * RatingControl.ts\r\n *\r\n * A module for a rating control.\r\n */\r\n\r\nvar starId = \"obf-star\";\r\nvar starDefinition = {\r\n    children: [\r\n        {\r\n            attributes: [\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Id, value: starId },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].X, value: \"0\" },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Y, value: \"0\" },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Width, value: \"105\" },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Height, value: \"100\" },\r\n                {\r\n                    name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Points,\r\n                    value: \"52.5, 80.3 84, 100 76.3, 63 105, 38 67.2, 35 52.5, 0 37.8, 35 0, 38 28.7, 63 20, 100 52.5, 80.3\",\r\n                },\r\n            ],\r\n            id: starId,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Polygon,\r\n        },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Defs,\r\n};\r\nvar firstStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].xlinkHref, value: \"#\" + starId }],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Use,\r\n};\r\nvar secondStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].xlinkHref, value: \"#\" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Transform, value: \"translate(105 0)\" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Use,\r\n};\r\nvar thirdStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].xlinkHref, value: \"#\" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Transform, value: \"translate(210 0)\" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Use,\r\n};\r\nvar fourthStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].xlinkHref, value: \"#\" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Transform, value: \"translate(315 0)\" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Use,\r\n};\r\nvar fifthStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].xlinkHref, value: \"#\" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Transform, value: \"translate(420 0)\" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Use,\r\n};\r\nvar emptyStars = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].ViewBox, value: \"0 0 525 100\" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar, fourthStar, fifthStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphic],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg,\r\n};\r\nvar oneFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].ViewBox, value: \"0 0 105 100\" }],\r\n    children: [starDefinition, firstStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg,\r\n};\r\nvar twoFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].ViewBox, value: \"0 0 210 100\" }],\r\n    children: [starDefinition, firstStar, secondStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg,\r\n};\r\nvar threeFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].ViewBox, value: \"0 0 315 100\" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg,\r\n};\r\nvar fourFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].ViewBox, value: \"0 0 420 100\" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar, fourthStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg,\r\n};\r\nvar fiveFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].ViewBox, value: \"0 0 525 100\" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar, fourthStar, fifthStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg,\r\n};\r\nfunction generate(id) {\r\n    return {\r\n        children: [\r\n            emptyStars,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Type, value: \"radio\" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Value, value: \"1\" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Input,\r\n            },\r\n            oneFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Type, value: \"radio\" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Value, value: \"2\" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Input,\r\n            },\r\n            twoFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Type, value: \"radio\" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Value, value: \"3\" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Input,\r\n            },\r\n            threeFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Type, value: \"radio\" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Value, value: \"4\" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Input,\r\n            },\r\n            fourFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Type, value: \"radio\" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Value, value: \"5\" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Input,\r\n            },\r\n            fiveFilledStar,\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Rating],\r\n        id: id,\r\n        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Span,\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9SYXRpbmdDb250cm9sLnRzP2Q0YzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUUwRDtBQUc3RCxJQUFJLE1BQU0sR0FBVyxVQUFVLENBQUM7QUFFaEMsSUFBSSxjQUFjLEdBQXVCO0lBQ3hDLFFBQVEsRUFBRTtRQUNUO1lBQ0MsVUFBVSxFQUFFO2dCQUNYLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7Z0JBQ3pDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQ3JDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQ3JDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Z0JBQzNDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Z0JBQzVDO29CQUNDLElBQUksRUFBRSwwREFBYSxDQUFDLE1BQU07b0JBQzFCLEtBQUssRUFBRSxpR0FBaUc7aUJBQ3hHO2FBQ0Q7WUFDRCxFQUFFLEVBQUUsTUFBTTtZQUNWLEdBQUcsRUFBRSxpREFBSSxDQUFDLE9BQU87U0FDakI7S0FDRDtJQUNELEdBQUcsRUFBRSxpREFBSSxDQUFDLElBQUk7Q0FDZCxDQUFDO0FBRUYsSUFBSSxTQUFTLEdBQXVCO0lBQ25DLFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFJLE1BQVEsRUFBRSxDQUFDO0lBQ3BFLEdBQUcsRUFBRSxpREFBSSxDQUFDLEdBQUc7Q0FDYixDQUFDO0FBRUYsSUFBSSxVQUFVLEdBQXVCO0lBQ3BDLFVBQVUsRUFB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REFBYSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO29CQUM1QyxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO29CQUN2QyxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFO2lCQUN6QztnQkFDRCxHQUFHLEVBQUUsaURBQUksQ0FBQyxLQUFLO2FBQ2Y7WUFDRCxjQUFjO1NBQ2Q7UUFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLE1BQU0sQ0FBQztRQUN6QixFQUFFLEVBQUUsRUFBRTtRQUNOLEdBQUcsRUFBRSxpREFBSSxDQUFDLElBQUk7S0FDZCxDQUFDO0FBQ0gsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL1JhdGluZ0NvbnRyb2wudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmF0aW5nQ29udHJvbC50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYSByYXRpbmcgY29udHJvbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBdHRyaWJ1dGVOYW1lLCBDbGFzc2VzLCBUYWdzIH0gZnJvbSBcIi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgUmVuZGVyZXIgZnJvbSBcIi4vUmVuZGVyZXJcIjtcclxuXHJcbmxldCBzdGFySWQ6IHN0cmluZyA9IFwib2JmLXN0YXJcIjtcclxuXHJcbmxldCBzdGFyRGVmaW5pdGlvbjogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdGNoaWxkcmVuOiBbXHJcblx0XHR7XHJcblx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuSWQsIHZhbHVlOiBzdGFySWQgfSxcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuWCwgdmFsdWU6IFwiMFwiIH0sXHJcblx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlksIHZhbHVlOiBcIjBcIiB9LFxyXG5cdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5XaWR0aCwgdmFsdWU6IFwiMTA1XCIgfSxcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuSGVpZ2h0LCB2YWx1ZTogXCIxMDBcIiB9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUG9pbnRzLFxyXG5cdFx0XHRcdFx0dmFsdWU6IFwiNTIuNSwgODAuMyA4NCwgMTAwIDc2LjMsIDYzIDEwNSwgMzggNjcuMiwgMzUgNTIuNSwgMCAzNy44LCAzNSAwLCAzOCAyOC43LCA2MyAyMCwgMTAwIDUyLjUsIDgwLjNcIixcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRdLFxyXG5cdFx0XHRpZDogc3RhcklkLFxyXG5cdFx0XHR0YWc6IFRhZ3MuUG9seWdvbixcclxuXHRcdH0sXHJcblx0XSxcclxuXHR0YWc6IFRhZ3MuRGVmcyxcclxufTtcclxuXHJcbmxldCBmaXJzdFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZiwgdmFsdWU6IGAjJHtzdGFySWR9YCB9XSxcclxuXHR0YWc6IFRhZ3MuVXNlLFxyXG59O1xyXG5cclxubGV0IHNlY29uZFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUueGxpbmtIcmVmLCB2YWx1ZTogYCMke3N0YXJJZH1gIH0sXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHJhbnNmb3JtLCB2YWx1ZTogXCJ0cmFuc2xhdGUoMTA1IDApXCIgfSxcclxuXHRdLFxyXG5cdHRhZzogVGFncy5Vc2UsXHJcbn07XHJcblxyXG5sZXQgdGhpcmRTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW1xyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZiwgdmFsdWU6IGAjJHtzdGFySWR9YCB9LFxyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlRyYW5zZm9ybSwgdmFsdWU6IFwidHJhbnNsYXRlKDIxMCAwKVwiIH0sXHJcblx0XSxcclxuXHR0YWc6IFRhZ3MuVXNlLFxyXG59O1xyXG5cclxubGV0IGZvdXJ0aFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUueGxpbmtIcmVmLCB2YWx1ZTogYCMke3N0YXJJZH1gIH0sXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHJhbnNmb3JtLCB2YWx1ZTogXCJ0cmFuc2xhdGUoMzE1IDApXCIgfSxcclxuXHRdLFxyXG5cdHRhZzogVGFncy5Vc2UsXHJcbn07XHJcblxyXG5sZXQgZmlmdGhTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW1xyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZiwgdmFsdWU6IGAjJHtzdGFySWR9YCB9LFxyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlRyYW5zZm9ybSwgdmFsdWU6IFwidHJhbnNsYXRlKDQyMCAwKVwiIH0sXHJcblx0XSxcclxuXHR0YWc6IFRhZ3MuVXNlLFxyXG59O1xyXG5cclxubGV0IGVtcHR5U3RhcnM6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZpZXdCb3gsIHZhbHVlOiBcIjAgMCA1MjUgMTAwXCIgfV0sXHJcblx0Y2hpbGRyZW46IFtzdGFyRGVmaW5pdGlvbiwgZmlyc3RTdGFyLCBzZWNvbmRTdGFyLCB0aGlyZFN0YXIsIGZvdXJ0aFN0YXIsIGZpZnRoU3Rhcl0sXHJcblx0Y2xhc3NlczogW0NsYXNzZXMuUmF0aW5nR3JhcGhpY10sXHJcblx0dGFnOiBUYWdzLlN2ZyxcclxufTtcclxuXHJcbmxldCBvbmVGaWxsZWRTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5WaWV3Qm94LCB2YWx1ZTogXCIwIDAgMTA1IDEwMFwiIH1dLFxyXG5cdGNoaWxkcmVuOiBbc3RhckRlZmluaXRpb24sIGZpcnN0U3Rhcl0sXHJcblx0Y2xhc3NlczogW0NsYXNzZXMuUmF0aW5nR3JhcGhpYywgQ2xhc3Nlcy5SYXRpbmdHcmFwaGljRmlsbGVkXSxcclxuXHR0YWc6IFRhZ3MuU3ZnLFxyXG59O1xyXG5cclxubGV0IHR3b0ZpbGxlZFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZpZXdCb3gsIHZhbHVlOiBcIjAgMCAyMTAgMTAwXCIgfV0sXHJcblx0Y2hpbGRyZW46IFtzdGFyRGVmaW5pdGlvbiwgZmlyc3RTdGFyLCBzZWNvbmRTdGFyXSxcclxuXHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmdHcmFwaGljLCBDbGFzc2VzLlJhdGluZ0dyYXBoaWNGaWxsZWRdLFxyXG5cdHRhZzogVGFncy5TdmcsXHJcbn07XHJcblxyXG5sZXQgdGhyZWVGaWxsZWRTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5WaWV3Qm94LCB2YWx1ZTogXCIwIDAgMzE1IDEwMFwiIH1dLFxyXG5cdGNoaWxkcmVuOiBbc3RhckRlZmluaXRpb24sIGZpcnN0U3Rhciwgc2Vjb25kU3RhciwgdGhpcmRTdGFyXSxcclxuXHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmdHcmFwaGljLCBDbGFzc2VzLlJhdGluZ0dyYXBoaWNGaWxsZWRdLFxyXG5cdHRhZzogVGFncy5TdmcsXHJcbn07XHJcblxyXG5sZXQgZm91ckZpbGxlZFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZpZXdCb3gsIHZhbHVlOiBcIjAgMCA0MjAgMTAwXCIgfV0sXHJcblx0Y2hpbGRyZW46IFtzdGFyRGVmaW5pdGlvbiwgZmlyc3RTdGFyLCBzZWNvbmRTdGFyLCB0aGlyZFN0YXIsIGZvdXJ0aFN0YXJdLFxyXG5cdGNsYXNzZXM6IFtDbGFzc2VzLlJhdGluZ0dyYXBoaWMsIENsYXNzZXMuUmF0aW5nR3JhcGhpY0ZpbGxlZF0sXHJcblx0dGFnOiBUYWdzLlN2ZyxcclxufTtcclxuXHJcbmxldCBmaXZlRmlsbGVkU3RhcjogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmlld0JveCwgdmFsdWU6IFwiMCAwIDUyNSAxMDBcIiB9XSxcclxuXHRjaGlsZHJlbjogW3N0YXJEZWZpbml0aW9uLCBmaXJzdFN0YXIsIHNlY29uZFN0YXIsIHRoaXJkU3RhciwgZm91cnRoU3RhciwgZmlmdGhTdGFyXSxcclxuXHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmdHcmFwaGljLCBDbGFzc2VzLlJhdGluZ0dyYXBoaWNGaWxsZWRdLFxyXG5cdHRhZzogVGFncy5TdmcsXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoaWQ6IHN0cmluZyk6IFJlbmRlcmVyLklVSUFzSnNvbiB7XHJcblx0cmV0dXJuIHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdGVtcHR5U3RhcnMsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IFwicmFkaW9cIiB9LFxyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLk5hbWUsIHZhbHVlOiBpZCB9LFxyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLCB2YWx1ZTogXCIxXCIgfSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdFx0fSxcclxuXHRcdFx0b25lRmlsbGVkU3RhcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogXCJyYWRpb1wiIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuTmFtZSwgdmFsdWU6IGlkIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsIHZhbHVlOiBcIjJcIiB9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR0d29GaWxsZWRTdGFyLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsIHZhbHVlOiBcInJhZGlvXCIgfSxcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5OYW1lLCB2YWx1ZTogaWQgfSxcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5WYWx1ZSwgdmFsdWU6IFwiM1wiIH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdH0sXHJcblx0XHRcdHRocmVlRmlsbGVkU3RhcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogXCJyYWRpb1wiIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuTmFtZSwgdmFsdWU6IGlkIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsIHZhbHVlOiBcIjRcIiB9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmb3VyRmlsbGVkU3RhcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogXCJyYWRpb1wiIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuTmFtZSwgdmFsdWU6IGlkIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsIHZhbHVlOiBcIjVcIiB9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmaXZlRmlsbGVkU3RhcixcclxuXHRcdF0sXHJcblx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmddLFxyXG5cdFx0aWQ6IGlkLFxyXG5cdFx0dGFnOiBUYWdzLlNwYW4sXHJcblx0fTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/RatingControl.ts\n");

/***/ }),

/***/ "./scripts/app/UI/Renderer.ts":
/*!************************************!*\
  !*** ./scripts/app/UI/Renderer.ts ***!
  \************************************/
/*! exports provided: elementFromJson */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"elementFromJson\", function() { return elementFromJson; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* eslint @microsoft/sdl/no-inner-html: \"off\" */\r\n/**\r\n * Renderer.ts\r\n *\r\n * Module for rendering the markup\r\n */\r\n\r\n/**\r\n * Create DOM elements from Json structure\r\n * @param {UiAsJson} schema The Json structure\r\n * @param {boolean} svg Create svg element instead of html?\r\n * @return {HTMLElement} HTML elements with tree structure\r\n */\r\nfunction elementFromJson(schema, svg) {\r\n    if (typeof schema.brs === \"undefined\") {\r\n        schema.brs = true;\r\n    }\r\n    if (!schema.brs) {\r\n        return null;\r\n    }\r\n    if (!schema.tag) {\r\n        schema.tag = _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Div;\r\n    }\r\n    var element;\r\n    if (schema.tag === _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Tags\"].Svg) {\r\n        svg = true;\r\n    }\r\n    if (svg) {\r\n        element = document.createElementNS(\"http://www.w3.org/2000/svg\", schema.tag);\r\n    }\r\n    else {\r\n        element = document.createElement(schema.tag);\r\n    }\r\n    if (schema.attributes) {\r\n        var attribute = void 0;\r\n        for (var i = 0; i < schema.attributes.length; i++) {\r\n            attribute = schema.attributes[i];\r\n            if (attribute.name === _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].xlinkHref) {\r\n                element.setAttributeNS(\"http://www.w3.org/1999/xlink\", _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].HRef, attribute.value);\r\n            }\r\n            else {\r\n                element.setAttribute(attribute.name, attribute.value);\r\n            }\r\n        }\r\n    }\r\n    if (schema.id) {\r\n        element.id = schema.id;\r\n    }\r\n    if (schema.classes) {\r\n        var concatClasses = schema.classes.join(\" \");\r\n        if (svg) {\r\n            element.setAttribute(_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"AttributeName\"].Class, concatClasses);\r\n        }\r\n        else {\r\n            element.className = concatClasses;\r\n        }\r\n    }\r\n    if (schema.innerText && !svg) {\r\n        element.textContent = schema.innerText;\r\n    }\r\n    if (schema.innerHTML && !svg) {\r\n        element.innerHTML = schema.innerHTML;\r\n    }\r\n    if (schema.children) {\r\n        for (var i = 0; i < schema.children.length; i++) {\r\n            // Sometimes IE mis-reports length\r\n            var cur = schema.children[i];\r\n            if (cur) {\r\n                var child = elementFromJson(cur, svg);\r\n                if (child) {\r\n                    element.appendChild(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return element;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9SZW5kZXJlci50cz8xZWRjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBLGdEQUFnRDtBQUVoRDs7OztHQUlHO0FBRWlEO0FBd0JwRDs7Ozs7R0FLRztBQUNJLFNBQVMsZUFBZSxDQUFDLE1BQWlCLEVBQUUsR0FBYTtJQUMvRCxJQUFJLE9BQU8sTUFBTSxDQUFDLEdBQUcsS0FBSyxXQUFXLEVBQUU7UUFDdEMsTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7S0FDbEI7SUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtRQUNoQixPQUFPLElBQUksQ0FBQztLQUNaO0lBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7UUFDaEIsTUFBTSxDQUFDLEdBQUcsR0FBRyxpREFBSSxDQUFDLEdBQUcsQ0FBQztLQUN0QjtJQUVELElBQUksT0FBZ0IsQ0FBQztJQUVyQixJQUFJLE1BQU0sQ0FBQyxHQUFHLEtBQUssaURBQUksQ0FBQyxHQUFHLEVBQUU7UUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQztLQUNYO0lBRUQsSUFBSSxHQUFHLEVBQUU7UUFDUixPQUFPLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyw0QkFBNEIsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDN0U7U0FBTTtRQUNOLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUM3QztJQUVELElBQUksTUFBTSxDQUFDLFVBQVUsRUFBRTtRQUN0QixJQUFJLFNBQVMsU0FBWSxDQUFDO1FBQzFCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsRCxTQUFTLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssMERBQWEsQ0FBQyxTQUFTLEVBQUU7Z0JBQy9DLE9BQU8sQ0FBQyxjQUFjLENBQUMsOEJBQThCLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzVGO2lCQUFNO2dCQUNOLE9BQU8sQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDdEQ7U0FDRDtLQUNEO0lBRUQsSUFBSSxNQUFNLENBQUMsRUFBRSxFQUFFO1FBQ2QsT0FBTyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO0tBQ3ZCO0lBRUQsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO1FBQ25CLElBQUksYUFBYSxHQUFXLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELElBQUksR0FBRyxFQUFFO1lBQ1IsT0FBTyxDQUFDLFlBQVksQ0FBQywwREFBYSxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQztTQUN6RDthQUFNO1lBQ04sT0FBTyxDQUFDLFNBQVMsR0FBRyxhQUFhLENBQUM7U0FDbEM7S0FDRDtJQUVELElBQUksTUFBTSxDQUFDLFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUM3QixPQUFPLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7S0FDdkM7SUFFRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDN0IsT0FBTyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO0tBQ3JDO0lBRUQsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO1FBQ3BCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoRCxrQ0FBa0M7WUFDbEMsSUFBSSxHQUFHLEdBQWMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV4QyxJQUFJLEdBQUcsRUFBRTtnQkFDUixJQUFJLEtBQUssR0FBWSxlQUFlLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUUvQyxJQUFJLEtBQUssRUFBRTtvQkFDVixPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUMzQjthQUNEO1NBQ0Q7S0FDRDtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2hCLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9SZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBAbWljcm9zb2Z0L3NkbC9uby1pbm5lci1odG1sOiBcIm9mZlwiICovXHJcblxyXG4vKipcclxuICogUmVuZGVyZXIudHNcclxuICpcclxuICogTW9kdWxlIGZvciByZW5kZXJpbmcgdGhlIG1hcmt1cFxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWUsIFRhZ3MgfSBmcm9tIFwiLi9VaUNvbnN0YW50c1wiO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgYW4gYXR0cmlidXRlXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElBdHRyaWJ1dGUge1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHR2YWx1ZTogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBVSShIVE1MIG1hcmt1cCkgYXMganNvblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJVUlBc0pzb24ge1xyXG5cdGlkPzogc3RyaW5nO1xyXG5cdHRhZz86IHN0cmluZzsgLy8gZGl2IGJ5IGRlZmF1bHRcclxuXHRjbGFzc2VzPzogc3RyaW5nW107IC8vIENTUyBjbGFzc1xyXG5cdGF0dHJpYnV0ZXM/OiBJQXR0cmlidXRlW107XHJcblx0Y2hpbGRyZW4/OiBJVUlBc0pzb25bXTtcclxuXHRpbm5lclRleHQ/OiBzdHJpbmc7XHJcblx0aW5uZXJIVE1MPzogc3RyaW5nO1xyXG5cdGJycz86IGFueTsgLy8gc2hvdWxkIHRoZSBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4gYmUgY3JlYXRlZD8gdHJ1ZSBieSBkZWZhdWx0XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgRE9NIGVsZW1lbnRzIGZyb20gSnNvbiBzdHJ1Y3R1cmVcclxuICogQHBhcmFtIHtVaUFzSnNvbn0gc2NoZW1hIFRoZSBKc29uIHN0cnVjdHVyZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN2ZyBDcmVhdGUgc3ZnIGVsZW1lbnQgaW5zdGVhZCBvZiBodG1sP1xyXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gSFRNTCBlbGVtZW50cyB3aXRoIHRyZWUgc3RydWN0dXJlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudEZyb21Kc29uKHNjaGVtYTogSVVJQXNKc29uLCBzdmc/OiBib29sZWFuKTogRWxlbWVudCB7XHJcblx0aWYgKHR5cGVvZiBzY2hlbWEuYnJzID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRzY2hlbWEuYnJzID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGlmICghc2NoZW1hLmJycykge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoIXNjaGVtYS50YWcpIHtcclxuXHRcdHNjaGVtYS50YWcgPSBUYWdzLkRpdjtcclxuXHR9XHJcblxyXG5cdGxldCBlbGVtZW50OiBFbGVtZW50O1xyXG5cclxuXHRpZiAoc2NoZW1hLnRhZyA9PT0gVGFncy5TdmcpIHtcclxuXHRcdHN2ZyA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRpZiAoc3ZnKSB7XHJcblx0XHRlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgc2NoZW1hLnRhZyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNjaGVtYS50YWcpO1xyXG5cdH1cclxuXHJcblx0aWYgKHNjaGVtYS5hdHRyaWJ1dGVzKSB7XHJcblx0XHRsZXQgYXR0cmlidXRlOiBJQXR0cmlidXRlO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRhdHRyaWJ1dGUgPSBzY2hlbWEuYXR0cmlidXRlc1tpXTtcclxuXHRcdFx0aWYgKGF0dHJpYnV0ZS5uYW1lID09PSBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZikge1xyXG5cdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsIEF0dHJpYnV0ZU5hbWUuSFJlZiwgYXR0cmlidXRlLnZhbHVlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUubmFtZSwgYXR0cmlidXRlLnZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHNjaGVtYS5pZCkge1xyXG5cdFx0ZWxlbWVudC5pZCA9IHNjaGVtYS5pZDtcclxuXHR9XHJcblxyXG5cdGlmIChzY2hlbWEuY2xhc3Nlcykge1xyXG5cdFx0bGV0IGNvbmNhdENsYXNzZXM6IHN0cmluZyA9IHNjaGVtYS5jbGFzc2VzLmpvaW4oXCIgXCIpO1xyXG5cdFx0aWYgKHN2Zykge1xyXG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVOYW1lLkNsYXNzLCBjb25jYXRDbGFzc2VzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVsZW1lbnQuY2xhc3NOYW1lID0gY29uY2F0Q2xhc3NlcztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChzY2hlbWEuaW5uZXJUZXh0ICYmICFzdmcpIHtcclxuXHRcdGVsZW1lbnQudGV4dENvbnRlbnQgPSBzY2hlbWEuaW5uZXJUZXh0O1xyXG5cdH1cclxuXHJcblx0aWYgKHNjaGVtYS5pbm5lckhUTUwgJiYgIXN2Zykge1xyXG5cdFx0ZWxlbWVudC5pbm5lckhUTUwgPSBzY2hlbWEuaW5uZXJIVE1MO1xyXG5cdH1cclxuXHJcblx0aWYgKHNjaGVtYS5jaGlsZHJlbikge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Ly8gU29tZXRpbWVzIElFIG1pcy1yZXBvcnRzIGxlbmd0aFxyXG5cdFx0XHRsZXQgY3VyOiBJVUlBc0pzb24gPSBzY2hlbWEuY2hpbGRyZW5baV07XHJcblxyXG5cdFx0XHRpZiAoY3VyKSB7XHJcblx0XHRcdFx0bGV0IGNoaWxkOiBFbGVtZW50ID0gZWxlbWVudEZyb21Kc29uKGN1ciwgc3ZnKTtcclxuXHJcblx0XHRcdFx0aWYgKGNoaWxkKSB7XHJcblx0XHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBlbGVtZW50O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/Renderer.ts\n");

/***/ }),

/***/ "./scripts/app/UI/SpinnerControl.ts":
/*!******************************************!*\
  !*** ./scripts/app/UI/SpinnerControl.ts ***!
  \******************************************/
/*! exports provided: Spinner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Spinner\", function() { return Spinner; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"./scripts/app/UI/Utils.ts\");\n/**\r\n * Spinner.ts\r\n *\r\n * A module for a spinner.\r\n */\r\n\r\n\r\nvar animationSpeed = 90;\r\nvar numCircles = 8;\r\nvar offsetSize = 0.2;\r\nvar parentSize = 34;\r\nvar fadeIncrement = 1 / numCircles;\r\nvar Spinner = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     * @param id id of the element to attach the spinner to\r\n     */\r\n    function Spinner(id) {\r\n        this.circleObjects = [];\r\n        this.spinnerId = id;\r\n        this.spinner = document.getElementById(this.spinnerId);\r\n        this.createCirclesAndArrange();\r\n        this.initializeOpacities();\r\n        this.start();\r\n        _Utils__WEBPACK_IMPORTED_MODULE_1__[\"setElementVisibility\"](id, true);\r\n    }\r\n    /**\r\n     * Destroys the spinner\r\n     */\r\n    Spinner.prototype.destroy = function () {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_1__[\"setElementVisibility\"](this.spinnerId, false);\r\n        this.stop();\r\n    };\r\n    /**\r\n     * Starts the animation\r\n     */\r\n    Spinner.prototype.start = function () {\r\n        var _this = this;\r\n        this.stop();\r\n        this.interval = setInterval(function () {\r\n            var i = _this.circleObjects.length;\r\n            while (i--) {\r\n                fade(_this.circleObjects[i]);\r\n            }\r\n        }, animationSpeed);\r\n    };\r\n    /**\r\n     * Stops the animation\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        clearInterval(this.interval);\r\n    };\r\n    Spinner.prototype.createCirclesAndArrange = function () {\r\n        var angle = 0;\r\n        var offset = parentSize * offsetSize;\r\n        var step = (2 * Math.PI) / numCircles;\r\n        var i = numCircles;\r\n        var circleObject;\r\n        var radius = (parentSize - offset) * 0.5;\r\n        while (i--) {\r\n            var circle = createCircle();\r\n            var x = Math.round(parentSize * 0.5 + radius * Math.cos(angle) - circle.clientWidth * 0.5) - offset * 0.5;\r\n            var y = Math.round(parentSize * 0.5 + radius * Math.sin(angle) - circle.clientHeight * 0.5) - offset * 0.5;\r\n            this.spinner.appendChild(circle);\r\n            circle.style.left = x + \"px\";\r\n            circle.style.top = y + \"px\";\r\n            angle += step;\r\n            circleObject = { element: circle, j: i };\r\n            this.circleObjects.push(circleObject);\r\n        }\r\n    };\r\n    Spinner.prototype.initializeOpacities = function () {\r\n        var i = 0;\r\n        var j = 1;\r\n        var opacity;\r\n        for (i; i < numCircles; i++) {\r\n            var circleObject = this.circleObjects[i];\r\n            opacity = (fadeIncrement * j++);\r\n            setOpacity(circleObject.element, opacity);\r\n        }\r\n    };\r\n    return Spinner;\r\n}());\r\n\r\nfunction fade(circleObject) {\r\n    var opacity = getOpacity(circleObject.element) - fadeIncrement;\r\n    if (opacity <= 0) {\r\n        opacity = 1;\r\n    }\r\n    setOpacity(circleObject.element, opacity);\r\n}\r\nfunction getOpacity(element) {\r\n    return parseFloat(window.getComputedStyle(element).getPropertyValue(\"opacity\"));\r\n}\r\nfunction setOpacity(element, opacity) {\r\n    element.style.opacity = opacity.toString();\r\n}\r\nfunction createCircle() {\r\n    var circle = document.createElement(\"div\");\r\n    circle.classList.add(_UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].SpinnerCircle);\r\n    circle.style.width = circle.style.height = parentSize * offsetSize + \"px\";\r\n    return circle;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9TcGlubmVyQ29udHJvbC50cz8xMzdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVxQztBQUNQO0FBT2pDLElBQU0sY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUMxQixJQUFNLFVBQVUsR0FBRyxDQUFDLENBQUM7QUFDckIsSUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDO0FBQ3ZCLElBQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUN0QixJQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBRXJDO0lBTUM7OztPQUdHO0lBQ0gsaUJBQVksRUFBVTtRQVRkLGtCQUFhLEdBQW9CLEVBQUUsQ0FBQztRQVUzQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLDJEQUEwQixDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQ7O09BRUc7SUFDSSx5QkFBTyxHQUFkO1FBQ0MsMkRBQTBCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDYixDQUFDO0lBRUQ7O09BRUc7SUFDSyx1QkFBSyxHQUFiO1FBQUEsaUJBU0M7UUFSQSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsQ0FBQztZQUMzQixJQUFJLENBQUMsR0FBRyxLQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FB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QU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQ2pGLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxPQUF1QixFQUFFLE9BQWU7SUFDM0QsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQzVDLENBQUM7QUFFRCxTQUFTLFlBQVk7SUFDcEIsSUFBSSxNQUFNLEdBQW1CLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsb0RBQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQztJQUMxRSxPQUFPLE1BQU0sQ0FBQztBQUNmLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9TcGlubmVyQ29udHJvbC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTcGlubmVyLnRzXHJcbiAqXHJcbiAqIEEgbW9kdWxlIGZvciBhIHNwaW5uZXIuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2xhc3NlcyB9IGZyb20gXCIuL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5pbnRlcmZhY2UgSUNpcmNsZU9iamVjdCB7XHJcblx0ZWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XHJcblx0ajogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBhbmltYXRpb25TcGVlZCA9IDkwO1xyXG5jb25zdCBudW1DaXJjbGVzID0gODtcclxuY29uc3Qgb2Zmc2V0U2l6ZSA9IDAuMjtcclxuY29uc3QgcGFyZW50U2l6ZSA9IDM0O1xyXG5jb25zdCBmYWRlSW5jcmVtZW50ID0gMSAvIG51bUNpcmNsZXM7XHJcblxyXG5leHBvcnQgY2xhc3MgU3Bpbm5lciB7XHJcblx0cHJpdmF0ZSBjaXJjbGVPYmplY3RzOiBJQ2lyY2xlT2JqZWN0W10gPSBbXTtcclxuXHRwcml2YXRlIGludGVydmFsOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD47XHJcblx0cHJpdmF0ZSBzcGlubmVySWQ6IHN0cmluZztcclxuXHRwcml2YXRlIHNwaW5uZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHQvKipcclxuXHQgKiBDb25zdHJ1Y3RvclxyXG5cdCAqIEBwYXJhbSBpZCBpZCBvZiB0aGUgZWxlbWVudCB0byBhdHRhY2ggdGhlIHNwaW5uZXIgdG9cclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNwaW5uZXJJZCA9IGlkO1xyXG5cdFx0dGhpcy5zcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zcGlubmVySWQpO1xyXG5cdFx0dGhpcy5jcmVhdGVDaXJjbGVzQW5kQXJyYW5nZSgpO1xyXG5cdFx0dGhpcy5pbml0aWFsaXplT3BhY2l0aWVzKCk7XHJcblx0XHR0aGlzLnN0YXJ0KCk7XHJcblx0XHRVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShpZCwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZXN0cm95cyB0aGUgc3Bpbm5lclxyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXN0cm95KCkge1xyXG5cdFx0VXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkodGhpcy5zcGlubmVySWQsIGZhbHNlKTtcclxuXHRcdHRoaXMuc3RvcCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnRzIHRoZSBhbmltYXRpb25cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXJ0KCkge1xyXG5cdFx0dGhpcy5zdG9wKCk7XHJcblx0XHR0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRsZXQgaSA9IHRoaXMuY2lyY2xlT2JqZWN0cy5sZW5ndGg7XHJcblx0XHRcdHdoaWxlIChpLS0pIHtcclxuXHRcdFx0XHRmYWRlKHRoaXMuY2lyY2xlT2JqZWN0c1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcdGFuaW1hdGlvblNwZWVkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3BzIHRoZSBhbmltYXRpb25cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0b3AoKSB7XHJcblx0XHRjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVDaXJjbGVzQW5kQXJyYW5nZSgpIHtcclxuXHRcdGxldCBhbmdsZSA9IDA7XHJcblx0XHRsZXQgb2Zmc2V0ID0gcGFyZW50U2l6ZSAqIG9mZnNldFNpemU7XHJcblx0XHRsZXQgc3RlcCA9ICgyICogTWF0aC5QSSkgLyBudW1DaXJjbGVzO1xyXG5cdFx0bGV0IGkgPSBudW1DaXJjbGVzO1xyXG5cdFx0bGV0IGNpcmNsZU9iamVjdDogSUNpcmNsZU9iamVjdDtcclxuXHRcdGxldCByYWRpdXMgPSAocGFyZW50U2l6ZSAtIG9mZnNldCkgKiAwLjU7XHJcblxyXG5cdFx0d2hpbGUgKGktLSkge1xyXG5cdFx0XHRsZXQgY2lyY2xlOiBIVE1MRGl2RWxlbWVudCA9IGNyZWF0ZUNpcmNsZSgpO1xyXG5cdFx0XHRsZXQgeCA9IE1hdGgucm91bmQocGFyZW50U2l6ZSAqIDAuNSArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSAtIGNpcmNsZS5jbGllbnRXaWR0aCAqIDAuNSkgLSBvZmZzZXQgKiAwLjU7XHJcblx0XHRcdGxldCB5ID0gTWF0aC5yb3VuZChwYXJlbnRTaXplICogMC41ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpIC0gY2lyY2xlLmNsaWVudEhlaWdodCAqIDAuNSkgLSBvZmZzZXQgKiAwLjU7XHJcblx0XHRcdHRoaXMuc3Bpbm5lci5hcHBlbmRDaGlsZChjaXJjbGUpO1xyXG5cdFx0XHRjaXJjbGUuc3R5bGUubGVmdCA9IHggKyBcInB4XCI7XHJcblx0XHRcdGNpcmNsZS5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xyXG5cdFx0XHRhbmdsZSArPSBzdGVwO1xyXG5cdFx0XHRjaXJjbGVPYmplY3QgPSB7IGVsZW1lbnQ6IGNpcmNsZSwgajogaSB9O1xyXG5cdFx0XHR0aGlzLmNpcmNsZU9iamVjdHMucHVzaChjaXJjbGVPYmplY3QpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbml0aWFsaXplT3BhY2l0aWVzKCkge1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IGogPSAxO1xyXG5cdFx0bGV0IG9wYWNpdHk6IG51bWJlcjtcclxuXHJcblx0XHRmb3IgKGk7IGkgPCBudW1DaXJjbGVzOyBpKyspIHtcclxuXHRcdFx0bGV0IGNpcmNsZU9iamVjdCA9IHRoaXMuY2lyY2xlT2JqZWN0c1tpXTtcclxuXHRcdFx0b3BhY2l0eSA9IChmYWRlSW5jcmVtZW50ICogaisrKTtcclxuXHRcdFx0c2V0T3BhY2l0eShjaXJjbGVPYmplY3QuZWxlbWVudCwgb3BhY2l0eSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBmYWRlKGNpcmNsZU9iamVjdDogYW55KSB7XHJcblx0bGV0IG9wYWNpdHkgPSBnZXRPcGFjaXR5KGNpcmNsZU9iamVjdC5lbGVtZW50KSAtIGZhZGVJbmNyZW1lbnQ7XHJcblxyXG5cdGlmIChvcGFjaXR5IDw9IDApIHtcclxuXHRcdG9wYWNpdHkgPSAxO1xyXG5cdH1cclxuXHJcblx0c2V0T3BhY2l0eShjaXJjbGVPYmplY3QuZWxlbWVudCwgb3BhY2l0eSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE9wYWNpdHkoZWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRyZXR1cm4gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKFwib3BhY2l0eVwiKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE9wYWNpdHkoZWxlbWVudDogSFRNTERpdkVsZW1lbnQsIG9wYWNpdHk6IG51bWJlcikge1xyXG5cdGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHkudG9TdHJpbmcoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2lyY2xlKCk6IEhUTUxEaXZFbGVtZW50IHtcclxuXHRsZXQgY2lyY2xlOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y2lyY2xlLmNsYXNzTGlzdC5hZGQoQ2xhc3Nlcy5TcGlubmVyQ2lyY2xlKTtcclxuXHRjaXJjbGUuc3R5bGUud2lkdGggPSBjaXJjbGUuc3R5bGUuaGVpZ2h0ID0gcGFyZW50U2l6ZSAqIG9mZnNldFNpemUgKyBcInB4XCI7XHJcblx0cmV0dXJuIGNpcmNsZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/SpinnerControl.ts\n");

/***/ }),

/***/ "./scripts/app/UI/UiConstants.ts":
/*!***************************************!*\
  !*** ./scripts/app/UI/UiConstants.ts ***!
  \***************************************/
/*! exports provided: AttributeName, AttributeValue, UrlParameters, Classes, IDs, Keys, Tags, Roles, Urls, PromptConstants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AttributeName\", function() { return AttributeName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AttributeValue\", function() { return AttributeValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UrlParameters\", function() { return UrlParameters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Classes\", function() { return Classes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IDs\", function() { return IDs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Keys\", function() { return Keys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tags\", function() { return Tags; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Roles\", function() { return Roles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Urls\", function() { return Urls; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PromptConstants\", function() { return PromptConstants; });\n/**\r\n * Constants.ts\r\n *\r\n * A module for all UI constants.\r\n */\r\n/**\r\n * HTML attribute names\r\n */\r\nvar AttributeName = /** @class */ (function () {\r\n    function AttributeName() {\r\n    }\r\n    AttributeName.Alt = \"alt\";\r\n    AttributeName.AriaLabel = \"aria-label\";\r\n    AttributeName.AriaSelected = \"aria-selected\";\r\n    AttributeName.AriaOrientation = \"aria-orientation\";\r\n    AttributeName.AriaExpanded = \"aria-expanded\";\r\n    AttributeName.AriaControls = \"aria-controls\";\r\n    AttributeName.AriaHasPopups = \"aria-haspopup\";\r\n    AttributeName.AriaModal = \"aria-modal\";\r\n    AttributeName.AriaLabelledBy = \"aria-labelledby\";\r\n    AttributeName.AriaDescribedBy = \"aria-describedby\";\r\n    AttributeName.Class = \"class\";\r\n    AttributeName.DataHtml2CanvasIgnore = \"data-html2canvas-ignore\";\r\n    AttributeName.Disabled = \"disabled\";\r\n    AttributeName.Fill = \"fill\";\r\n    AttributeName.For = \"for\";\r\n    AttributeName.Preview = \"preview\";\r\n    AttributeName.Form = \"form\";\r\n    AttributeName.Height = \"height\";\r\n    AttributeName.HRef = \"href\";\r\n    AttributeName.Id = \"id\";\r\n    AttributeName.MaxLength = \"maxlength\";\r\n    AttributeName.Name = \"name\";\r\n    AttributeName.Placeholder = \"placeholder\";\r\n    AttributeName.Points = \"points\";\r\n    AttributeName.Rel = \"rel\";\r\n    AttributeName.Role = \"role\";\r\n    AttributeName.Source = \"src\";\r\n    AttributeName.Stroke = \"stroke\";\r\n    AttributeName.TabIndex = \"tabindex\";\r\n    AttributeName.Target = \"target\";\r\n    AttributeName.Transform = \"transform\";\r\n    AttributeName.Type = \"type\";\r\n    AttributeName.Value = \"value\";\r\n    AttributeName.ViewBox = \"viewBox\";\r\n    AttributeName.Width = \"width\";\r\n    AttributeName.xlinkHref = \"xlink:href\";\r\n    AttributeName.X = \"x\";\r\n    AttributeName.Y = \"y\";\r\n    return AttributeName;\r\n}());\r\n\r\n/**\r\n * HTML attribute values\r\n */\r\nvar AttributeValue = /** @class */ (function () {\r\n    function AttributeValue() {\r\n    }\r\n    AttributeValue.BlankWindow = \"_blank\";\r\n    AttributeValue.Button = \"button\";\r\n    AttributeValue.Dialog = \"dialog\";\r\n    AttributeValue.Tab = \"tab\";\r\n    AttributeValue.TabList = \"tablist\";\r\n    AttributeValue.TabPanel = \"tabpanel\";\r\n    AttributeValue.Checkbox = \"checkbox\";\r\n    AttributeValue.Checked = \"checked\";\r\n    AttributeValue.False = \"false\";\r\n    AttributeValue.Zero = \"0\";\r\n    AttributeValue.Polite = \"polite\";\r\n    AttributeValue.Radio = \"radio\";\r\n    AttributeValue.Submit = \"submit\";\r\n    AttributeValue.ScreenshotPreview = \"ScreenshotPreview\";\r\n    AttributeValue.Text = \"text\";\r\n    AttributeValue.TextAreaMaxLength = \"1000\";\r\n    AttributeValue.True = \"true\";\r\n    AttributeValue.Unchecked = \"unchecked\";\r\n    AttributeValue.NoReferrer = \"noreferrer\";\r\n    AttributeValue.AriaOrientationValueVertical = \"vertical\";\r\n    return AttributeValue;\r\n}());\r\n\r\n/**\r\n * URL Parameters\r\n */\r\nvar UrlParameters = /** @class */ (function () {\r\n    function UrlParameters() {\r\n    }\r\n    UrlParameters.CLCID = \"CLCID\";\r\n    return UrlParameters;\r\n}());\r\n\r\n/**\r\n * CSS classes\r\n */\r\nvar Classes = /** @class */ (function () {\r\n    function Classes() {\r\n    }\r\n    Classes.AriaLiveTemplate = \"obf-AriaLiveTemplate\";\r\n    Classes.CheckBox = \"obf-CheckBox\";\r\n    Classes.FontTitle = \"obf-FontTitle\";\r\n    Classes.CloseButton = \"obf-CloseButton\";\r\n    Classes.FontSubtitle = \"obf-FontSubtitle\";\r\n    Classes.FontText = \"obf-FontText\";\r\n    Classes.FontSubText = \"obf-FontSubText\";\r\n    Classes.FontSubSubText = \"obf-FontSubSubText\";\r\n    Classes.Hidden = \"obf-Hidden\";\r\n    Classes.Link = \"obf-Link\";\r\n    Classes.MarginLeft60px = \"obf-MarginLeft60px\";\r\n    Classes.MarginLeft180px = \"obf-MarginLeft180px\";\r\n    Classes.NarrowLayout = \"obf-NarrowLayout\";\r\n    Classes.PrivacyStatementLinkDiv = \"obf-PrivacyStatementLinkDiv\";\r\n    Classes.Rtl = \"obf-Rtl\";\r\n    Classes.Spinner = \"obf-Spinner\";\r\n    Classes.SpinnerCircle = \"obf-SpinnerCircle\";\r\n    Classes.SubmitButton = \"obf-SubmitButton\";\r\n    Classes.CancelButton = \"obf-CancelButton\";\r\n    Classes.TextInput = \"obf-TextInput\";\r\n    Classes.Visible = \"obf-Visible\";\r\n    // rating control\r\n    Classes.Rating = \"obf-Rating\";\r\n    Classes.RatingGraphic = \"obf-RatingGraphic\";\r\n    Classes.RatingGraphicFilled = \"obf-RatingGraphic-Filled\";\r\n    // choice group control\r\n    Classes.ChoiceGroup = \"obf-ChoiceGroup\";\r\n    Classes.ChoiceGroupIcon = \"obf-ChoiceGroupIcon\";\r\n    // region BellyBand\r\n    Classes.OverallAnchor = \"obf-OverallAnchor\";\r\n    Classes.OverallAnchorActive = \"obf-OverallAnchorActive\";\r\n    Classes.OverallImage = \"obf-OverallImage\";\r\n    Classes.OverallText = \"obf-OverallText\";\r\n    Classes.SingleLayout = \"obf-SingleLayout\";\r\n    Classes.ShowRightBorder = \"obf-ShowRightBorder\";\r\n    Classes.SlideLeft = \"obf-slideLeft\";\r\n    Classes.TextAlignLeft = \"obf-TextAlignLeft\";\r\n    Classes.FormContainer = \"obf-FormContainer\";\r\n    Classes.FormWideContainer = \"obf-FormWideContainer\";\r\n    // region ThanksPanel\r\n    Classes.ThanksPanelTitle = \"obf-ThanksPanelTitle\";\r\n    Classes.ThanksPanelMessage = \"obf-ThanksPanelMessage\";\r\n    // form classes\r\n    Classes.FormQuestionMiddleText = \"obf-FormQuestionMiddleText\";\r\n    Classes.FormMiddleText = \"obf-FormMiddleText\";\r\n    Classes.FormCategoriesDropdown = \"obf-FormCategoriesDropdown\";\r\n    Classes.FormComment = \"obf-FormComment\";\r\n    Classes.FormRatingContainer = \"obf-FormRatingContainer\";\r\n    Classes.FormRatingLabel = \"obf-FormRatingLabel\";\r\n    Classes.FormRating = \"obf-FormRating\";\r\n    Classes.FormEmailContainer = \"obf-FormEmailContainer\";\r\n    Classes.FormEmailInput = \"obf-FormEmailInput\";\r\n    Classes.FormEmailTextBox = \"obf-FormEmailTextBox\";\r\n    Classes.FormEmailCheckBox = \"obf-FormEmailCheckBox\";\r\n    Classes.FormEmailLabel = \"obf-FormEmailLabel\";\r\n    Classes.FormBottomContainer = \"obf-FormBottomContainer\";\r\n    Classes.FormSubmitButtonContainer = \"obf-FormSubmitButtonContainer\";\r\n    Classes.FormScreenshotContainer = \"obf-FormScreenshotContainer\";\r\n    Classes.FormScreenshotLabel = \"obf-FormScreenshotLabel\";\r\n    Classes.FormScreenshotCheckbox = \"obf-FormScreenshotCheckbox\";\r\n    Classes.FormScreenshotPreview = \"obf-FormScreenshotPreview\";\r\n    // email textbox classes\r\n    Classes.TFormEmailCheckbox = \"obf-TFormEmailCheckbox\";\r\n    Classes.TFormEmailLabel = \"obf-TFormEmailLabel \";\r\n    // email checkbox classes\r\n    Classes.EmailCheckBoxLabel = \"obf-EmailCheckBoxLabel\";\r\n    // endregion\r\n    // region Toast\r\n    Classes.Toast = \"obf-Toast\";\r\n    Classes.ToastZoom = \"obf-ToastZoom\";\r\n    return Classes;\r\n}());\r\n\r\n/**\r\n * HTML element ids\r\n */\r\nvar IDs = /** @class */ (function () {\r\n    function IDs() {\r\n    }\r\n    // region BellyBand\r\n    IDs.CloseButton = \"obf-CloseButton\";\r\n    IDs.ColumnSeparatorDiv = \"obf-ColumnSeparatorDiv\";\r\n    IDs.OverallAnchorsContainer = \"obf-OverallAnchorsContainer\";\r\n    IDs.OverallFrownAnchor = \"obf-OverallFrownAnchor\";\r\n    IDs.OverallFrownDiv = \"obf-OverallFrownDiv\";\r\n    IDs.OverallFrownImage = \"obf-OverallFrownImage\";\r\n    IDs.OverallFrownText = \"obf-OverallFrownText\";\r\n    IDs.OverallSmileAnchor = \"obf-OverallSmileAnchor\";\r\n    IDs.OverallSmileDiv = \"obf-OverallSmileDiv\";\r\n    IDs.OverallSmileImage = \"obf-OverallSmileImage\";\r\n    IDs.OverallSmileText = \"obf-OverallSmileText\";\r\n    IDs.OverallIdeaAnchor = \"obf-OverallIdeaAnchor\";\r\n    IDs.OverallIdeaDiv = \"obf-OverallIdeaDiv\";\r\n    IDs.OverallIdeaImage = \"obf-OverallIdeaImage\";\r\n    IDs.OverallIdeaText = \"obf-OverallIdeaText\";\r\n    IDs.OverallBugAnchor = \"obf-OverallBugAnchor\";\r\n    IDs.OverallBugDiv = \"obf-OverallBugDiv\";\r\n    IDs.OverallBugImage = \"obf-OverallBugImage\";\r\n    IDs.OverallBugText = \"obf-OverallBugText\";\r\n    IDs.QuestionLeftText = \"obf-QuestionLeftText\";\r\n    IDs.LeftFormContainer = \"obf-LeftFormContainer\";\r\n    IDs.LeftPanelContainer = \"obf-LeftPanelContainer\";\r\n    IDs.MainContainer = \"obf-MainContainer\";\r\n    IDs.MainContentHolder = \"obf-MainContentHolder\";\r\n    IDs.MiddleFormContainer = \"obf-MiddleFormContainer\";\r\n    IDs.OverlayBackground = \"obf-OverlayBackground\";\r\n    IDs.PrivacyStatementLink = \"obf-PrivacyStatementLink\";\r\n    IDs.FirstTabbable = \"obf-FirstTabbable\";\r\n    IDs.LastTabbable = \"obf-LastTabbable\";\r\n    IDs.EmailCheckBox = \"obf-EmailCheckBox\";\r\n    // Single form ids\r\n    IDs.SingleFormContainer = \"obf-SingleFormContainer\";\r\n    IDs.SingleFormQuestionMiddleText = \"obf-SingleFormQuestionMiddleText\";\r\n    IDs.SingleFormCategoriesDropdown = \"obf-SingleFormCategoriesDropdown\";\r\n    IDs.SingleFormComment = \"obf-SingleFormComment\";\r\n    IDs.SingleFormEmailInput = \"obf-SingleFormEmailInput\";\r\n    IDs.SingleFormRating = \"obf-SingleFormRating\";\r\n    IDs.SingleFormScreenshotCheckbox = \"obf-SingleFormScreenshotCheckbox\";\r\n    IDs.SingleFormScreenshotPreview = \"obf-SingleFormScreenshotPreview\";\r\n    IDs.SingleFormSubmitButton = \"obf-SingleFormSubmitButton\";\r\n    IDs.SingleFormCancelButton = \"obf-SingleFormCancelButton\";\r\n    IDs.SingleFormSubmitButtonSpinner = \"obf-SingleFormSubmitButtonSpinner\";\r\n    // Basic form ids\r\n    IDs.BasicFormContainer = \"obf-BasicFormContainer\";\r\n    IDs.BasicFormQuestionMiddleText = \"obf-BasicFormQuestionMiddleText\";\r\n    IDs.BasicFormCategoriesDropdown = \"obf-BasicFormCategoriesDropdown\";\r\n    IDs.BasicFormComment = \"obf-BasicFormComment\";\r\n    IDs.BasicFormEmailInput = \"obf-BasicFormEmailInput\";\r\n    IDs.BasicFormRating = \"obf-BasicFormRating\";\r\n    IDs.BasicFormScreenshotCheckbox = \"obf-BasicFormScreenshotCheckbox\";\r\n    IDs.BasicFormScreenshotPreview = \"obf-BasicFormScreenshotPreview\";\r\n    IDs.BasicFormSubmitButton = \"obf-BasicFormSubmitButton\";\r\n    IDs.BasicFormCancelButton = \"obf-BasicFormCancelButton\";\r\n    IDs.BasicFormSubmitButtonSpinner = \"obf-BasicFormSubmitButtonSpinner\";\r\n    // Thanks Panel ids\r\n    IDs.ThanksPanelContainer = \"obf-ThanksPanelContainer\";\r\n    IDs.ThanksPanelCloseButton = \"obf-ThanksPanelCloseButton\";\r\n    IDs.ThanksPanelDiscussion = \"obf-ThanksPanelDiscussion\";\r\n    IDs.ThanksPanelVerticalContainer = \"obf-ThanksPanelVerticalContainer\";\r\n    IDs.ThanksPanelInnerContainer = \"obf-ThanksPanelInnerContainer\";\r\n    IDs.ThanksPanelParagraph = \"obf-ThanksPanelParagraph\";\r\n    // Feedback Portal Idea Id\r\n    IDs.FeedbackPortalIdeaContainer = \"obf-FeedbackPortalIdeaContainer\";\r\n    IDs.OverallFeedbackPortalIdeaAnchor = \"obf-OverallFeedbackPortalIdeaAnchor\";\r\n    // endregion\r\n    // region Toast\r\n    IDs.ToastContainer = \"obf-ToastContainer\";\r\n    IDs.ToastCancel = \"obf-ToastCancel\";\r\n    // Prompt ids\r\n    IDs.TPromptContainer = \"obf-TPromptContainer\";\r\n    IDs.TPromptTitle = \"obf-TPromptTitle\";\r\n    IDs.TPromptText = \"obf-TPromptText\";\r\n    // Survey ids\r\n    IDs.TFormContainer = \"obf-TFormContainer\";\r\n    IDs.TFormTitle = \"obf-TFormTitle\";\r\n    IDs.TFormRating = \"obf-TFormRating\";\r\n    IDs.TFormRatingQuestion = \"obf-TFormRatingQuestion\";\r\n    IDs.TFormComment = \"obf-TFormComment\";\r\n    IDs.TFormEmailTextBox = \"obf-TFormEmailTextBox\";\r\n    IDs.TFormEmailCheckBox = \"obf-TFormEmailCheckBox\";\r\n    IDs.TFormEmailLabel = \"obf-TFormEmailLabel\";\r\n    IDs.TFormSubmitButton = \"obf-TFormSubmitButton\";\r\n    IDs.TFormSubmitButtonSpinner = \"obf-TFormSubmitButtonSpinner\";\r\n    IDs.TFormSubmitButtonContainer = \"obf-TFormSubmitButtonContainer\";\r\n    return IDs;\r\n}());\r\n\r\n/**\r\n * Keys\r\n */\r\nvar Keys = /** @class */ (function () {\r\n    function Keys() {\r\n    }\r\n    Keys.Esc = 27;\r\n    Keys.Tab = 9;\r\n    return Keys;\r\n}());\r\n\r\n/**\r\n * HTML tags\r\n */\r\nvar Tags = /** @class */ (function () {\r\n    function Tags() {\r\n    }\r\n    Tags.Anchor = \"A\";\r\n    Tags.Button = \"button\";\r\n    Tags.Defs = \"defs\";\r\n    Tags.Div = \"div\";\r\n    Tags.FieldSet = \"fieldset\";\r\n    Tags.Form = \"form\";\r\n    Tags.Img = \"img\";\r\n    Tags.Input = \"input\";\r\n    Tags.Label = \"label\";\r\n    Tags.Legend = \"legend\";\r\n    Tags.Option = \"option\";\r\n    Tags.Polygon = \"polygon\";\r\n    Tags.Select = \"select\";\r\n    Tags.Span = \"span\";\r\n    Tags.Svg = \"svg\";\r\n    Tags.TextArea = \"textarea\";\r\n    Tags.Use = \"use\";\r\n    return Tags;\r\n}());\r\n\r\n/**\r\n * HTML roles\r\n */\r\nvar Roles = /** @class */ (function () {\r\n    function Roles() {\r\n    }\r\n    Roles.Button = \"Button\";\r\n    return Roles;\r\n}());\r\n\r\n/**\r\n * URLs\r\n */\r\nvar Urls = /** @class */ (function () {\r\n    function Urls() {\r\n    }\r\n    /**\r\n     * Link to the feedback Privacy Statement\r\n     */\r\n    Urls.PrivacyStatementLink = \"https://go.microsoft.com/fwlink/?LinkId=521839\";\r\n    return Urls;\r\n}());\r\n\r\n/**\r\n * prompt constants\r\n */\r\nvar PromptConstants = /** @class */ (function () {\r\n    function PromptConstants() {\r\n    }\r\n    PromptConstants.No = \"1\";\r\n    PromptConstants.Yes = \"2\";\r\n    return PromptConstants;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9VaUNvbnN0YW50cy50cz8wMzdmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRUg7O0dBRUc7QUFDSDtJQUFBO0lBdUNBLENBQUM7SUF0Q2MsaUJBQUcsR0FBVyxLQUFLLENBQUM7SUFDcEIsdUJBQVMsR0FBVyxZQUFZLENBQUM7SUFDakMsMEJBQVksR0FBVyxlQUFlLENBQUM7SUFDdkMsNkJBQWUsR0FBVyxrQkFBa0IsQ0FBQztJQUM3QywwQkFBWSxHQUFXLGVBQWUsQ0FBQztJQUN2QywwQkFBWSxHQUFXLGVBQWUsQ0FBQztJQUN2QywyQkFBYSxHQUFXLGVBQWUsQ0FBQztJQUN4Qyx1QkFBUyxHQUFXLFlBQVksQ0FBQztJQUNqQyw0QkFBYyxHQUFXLGlCQUFpQixDQUFDO0lBQzNDLDZCQUFlLEdBQVcsa0JBQWtCLENBQUM7SUFDN0MsbUJBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsbUNBQXFCLEdBQVcseUJBQXlCLENBQUM7SUFDMUQsc0JBQVEsR0FBVyxVQUFVLENBQUM7SUFDOUIsa0JBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUcsR0FBVyxLQUFLLENBQUM7SUFDcEIscUJBQU8sR0FBVyxTQUFTLENBQUM7SUFDNUIsa0JBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsb0JBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsa0JBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsZ0JBQUUsR0FBVyxJQUFJLENBQUM7SUFDbEIsdUJBQVMsR0FBVyxXQUFXLENBQUM7SUFDaEMsa0JBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIseUJBQVcsR0FBVyxhQUFhLENBQUM7SUFDcEMsb0JBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsaUJBQUcsR0FBVyxLQUFLLENBQUM7SUFDcEIsa0JBQUksR0FBVyxN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Y2VzQ29udGVudCI6WyIvKipcclxuICogQ29uc3RhbnRzLnRzXHJcbiAqXHJcbiAqIEEgbW9kdWxlIGZvciBhbGwgVUkgY29uc3RhbnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBIVE1MIGF0dHJpYnV0ZSBuYW1lc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZU5hbWUge1xyXG5cdHB1YmxpYyBzdGF0aWMgQWx0OiBzdHJpbmcgPSBcImFsdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQXJpYUxhYmVsOiBzdHJpbmcgPSBcImFyaWEtbGFiZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFTZWxlY3RlZDogc3RyaW5nID0gXCJhcmlhLXNlbGVjdGVkXCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhT3JpZW50YXRpb246IHN0cmluZyA9IFwiYXJpYS1vcmllbnRhdGlvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQXJpYUV4cGFuZGVkOiBzdHJpbmcgPSBcImFyaWEtZXhwYW5kZWRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFDb250cm9sczogc3RyaW5nID0gXCJhcmlhLWNvbnRyb2xzXCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhSGFzUG9wdXBzOiBzdHJpbmcgPSBcImFyaWEtaGFzcG9wdXBcIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFNb2RhbDogc3RyaW5nID0gXCJhcmlhLW1vZGFsXCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhTGFiZWxsZWRCeTogc3RyaW5nID0gXCJhcmlhLWxhYmVsbGVkYnlcIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFEZXNjcmliZWRCeTogc3RyaW5nID0gXCJhcmlhLWRlc2NyaWJlZGJ5XCI7XHJcblx0cHVibGljIHN0YXRpYyBDbGFzczogc3RyaW5nID0gXCJjbGFzc1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRGF0YUh0bWwyQ2FudmFzSWdub3JlOiBzdHJpbmcgPSBcImRhdGEtaHRtbDJjYW52YXMtaWdub3JlXCI7XHJcblx0cHVibGljIHN0YXRpYyBEaXNhYmxlZDogc3RyaW5nID0gXCJkaXNhYmxlZFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRmlsbDogc3RyaW5nID0gXCJmaWxsXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3I6IHN0cmluZyA9IFwiZm9yXCI7XHJcblx0cHVibGljIHN0YXRpYyBQcmV2aWV3OiBzdHJpbmcgPSBcInByZXZpZXdcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm06IHN0cmluZyA9IFwiZm9ybVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgSGVpZ2h0OiBzdHJpbmcgPSBcImhlaWdodFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgSFJlZjogc3RyaW5nID0gXCJocmVmXCI7XHJcblx0cHVibGljIHN0YXRpYyBJZDogc3RyaW5nID0gXCJpZFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTWF4TGVuZ3RoOiBzdHJpbmcgPSBcIm1heGxlbmd0aFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTmFtZTogc3RyaW5nID0gXCJuYW1lXCI7XHJcblx0cHVibGljIHN0YXRpYyBQbGFjZWhvbGRlcjogc3RyaW5nID0gXCJwbGFjZWhvbGRlclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUG9pbnRzOiBzdHJpbmcgPSBcInBvaW50c1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUmVsOiBzdHJpbmcgPSBcInJlbFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUm9sZTogc3RyaW5nID0gXCJyb2xlXCI7XHJcblx0cHVibGljIHN0YXRpYyBTb3VyY2U6IHN0cmluZyA9IFwic3JjXCI7XHJcblx0cHVibGljIHN0YXRpYyBTdHJva2U6IHN0cmluZyA9IFwic3Ryb2tlXCI7XHJcblx0cHVibGljIHN0YXRpYyBUYWJJbmRleDogc3RyaW5nID0gXCJ0YWJpbmRleFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGFyZ2V0OiBzdHJpbmcgPSBcInRhcmdldFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVHJhbnNmb3JtOiBzdHJpbmcgPSBcInRyYW5zZm9ybVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVHlwZTogc3RyaW5nID0gXCJ0eXBlXCI7XHJcblx0cHVibGljIHN0YXRpYyBWYWx1ZTogc3RyaW5nID0gXCJ2YWx1ZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVmlld0JveDogc3RyaW5nID0gXCJ2aWV3Qm94XCI7XHJcblx0cHVibGljIHN0YXRpYyBXaWR0aDogc3RyaW5nID0gXCJ3aWR0aFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgeGxpbmtIcmVmOiBzdHJpbmcgPSBcInhsaW5rOmhyZWZcIjtcclxuXHRwdWJsaWMgc3RhdGljIFg6IHN0cmluZyA9IFwieFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgWTogc3RyaW5nID0gXCJ5XCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIVE1MIGF0dHJpYnV0ZSB2YWx1ZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVWYWx1ZSB7XHJcblx0cHVibGljIHN0YXRpYyBCbGFua1dpbmRvdzogc3RyaW5nID0gXCJfYmxhbmtcIjtcclxuXHRwdWJsaWMgc3RhdGljIEJ1dHRvbjogc3RyaW5nID0gXCJidXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIERpYWxvZzogc3RyaW5nID0gXCJkaWFsb2dcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRhYjogc3RyaW5nID0gXCJ0YWJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRhYkxpc3Q6IHN0cmluZyA9IFwidGFibGlzdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGFiUGFuZWw6IHN0cmluZyA9IFwidGFicGFuZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIENoZWNrYm94OiBzdHJpbmcgPSBcImNoZWNrYm94XCI7XHJcblx0cHVibGljIHN0YXRpYyBDaGVja2VkOiBzdHJpbmcgPSBcImNoZWNrZWRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZhbHNlOiBzdHJpbmcgPSBcImZhbHNlXCI7XHJcblx0cHVibGljIHN0YXRpYyBaZXJvOiBzdHJpbmcgPSBcIjBcIjtcclxuXHRwdWJsaWMgc3RhdGljIFBvbGl0ZTogc3RyaW5nID0gXCJwb2xpdGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFJhZGlvOiBzdHJpbmcgPSBcInJhZGlvXCI7XHJcblx0cHVibGljIHN0YXRpYyBTdWJtaXQ6IHN0cmluZyA9IFwic3VibWl0XCI7XHJcblx0cHVibGljIHN0YXRpYyBTY3JlZW5zaG90UHJldmlldzogc3RyaW5nID0gXCJTY3JlZW5zaG90UHJldmlld1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGV4dDogc3RyaW5nID0gXCJ0ZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBUZXh0QXJlYU1heExlbmd0aDogc3RyaW5nID0gXCIxMDAwXCI7XHJcblx0cHVibGljIHN0YXRpYyBUcnVlOiBzdHJpbmcgPSBcInRydWVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFVuY2hlY2tlZDogc3RyaW5nID0gXCJ1bmNoZWNrZWRcIjtcclxuXHRwdWJsaWMgc3RhdGljIE5vUmVmZXJyZXI6IHN0cmluZyA9IFwibm9yZWZlcnJlclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQXJpYU9yaWVudGF0aW9uVmFsdWVWZXJ0aWNhbCA9IFwidmVydGljYWxcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVSTCBQYXJhbWV0ZXJzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVXJsUGFyYW1ldGVycyB7XHJcblx0cHVibGljIHN0YXRpYyBDTENJRDogc3RyaW5nID0gXCJDTENJRFwiO1xyXG59XHJcblxyXG4vKipcclxuICogQ1NTIGNsYXNzZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGFzc2VzIHtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFMaXZlVGVtcGxhdGU6IHN0cmluZyA9IFwib2JmLUFyaWFMaXZlVGVtcGxhdGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIENoZWNrQm94OiBzdHJpbmcgPSBcIm9iZi1DaGVja0JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9udFRpdGxlOiBzdHJpbmcgPSBcIm9iZi1Gb250VGl0bGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIENsb3NlQnV0dG9uOiBzdHJpbmcgPSBcIm9iZi1DbG9zZUJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9udFN1YnRpdGxlOiBzdHJpbmcgPSBcIm9iZi1Gb250U3VidGl0bGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvbnRUZXh0OiBzdHJpbmcgPSBcIm9iZi1Gb250VGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9udFN1YlRleHQ6IHN0cmluZyA9IFwib2JmLUZvbnRTdWJUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBGb250U3ViU3ViVGV4dDogc3RyaW5nID0gXCJvYmYtRm9udFN1YlN1YlRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEhpZGRlbjogc3RyaW5nID0gXCJvYmYtSGlkZGVuXCI7XHJcblx0cHVibGljIHN0YXRpYyBMaW5rOiBzdHJpbmcgPSBcIm9iZi1MaW5rXCI7XHJcblx0cHVibGljIHN0YXRpYyBNYXJnaW5MZWZ0NjBweDogc3RyaW5nID0gXCJvYmYtTWFyZ2luTGVmdDYwcHhcIjtcclxuXHRwdWJsaWMgc3RhdGljIE1hcmdpbkxlZnQxODBweDogc3RyaW5nID0gXCJvYmYtTWFyZ2luTGVmdDE4MHB4XCI7XHJcblx0cHVibGljIHN0YXRpYyBOYXJyb3dMYXlvdXQ6IHN0cmluZyA9IFwib2JmLU5hcnJvd0xheW91dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUHJpdmFjeVN0YXRlbWVudExpbmtEaXY6IHN0cmluZyA9IFwib2JmLVByaXZhY3lTdGF0ZW1lbnRMaW5rRGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBSdGw6IHN0cmluZyA9IFwib2JmLVJ0bFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3Bpbm5lcjogc3RyaW5nID0gXCJvYmYtU3Bpbm5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3Bpbm5lckNpcmNsZTogc3RyaW5nID0gXCJvYmYtU3Bpbm5lckNpcmNsZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3VibWl0QnV0dG9uOiBzdHJpbmcgPSBcIm9iZi1TdWJtaXRCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIENhbmNlbEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtQ2FuY2VsQnV0dG9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBUZXh0SW5wdXQ6IHN0cmluZyA9IFwib2JmLVRleHRJbnB1dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVmlzaWJsZTogc3RyaW5nID0gXCJvYmYtVmlzaWJsZVwiO1xyXG5cclxuXHQvLyByYXRpbmcgY29udHJvbFxyXG5cdHB1YmxpYyBzdGF0aWMgUmF0aW5nOiBzdHJpbmcgPSBcIm9iZi1SYXRpbmdcIjtcclxuXHRwdWJsaWMgc3RhdGljIFJhdGluZ0dyYXBoaWM6IHN0cmluZyA9IFwib2JmLVJhdGluZ0dyYXBoaWNcIjtcclxuXHRwdWJsaWMgc3RhdGljIFJhdGluZ0dyYXBoaWNGaWxsZWQ6IHN0cmluZyA9IFwib2JmLVJhdGluZ0dyYXBoaWMtRmlsbGVkXCI7XHJcblxyXG5cdC8vIGNob2ljZSBncm91cCBjb250cm9sXHJcblx0cHVibGljIHN0YXRpYyBDaG9pY2VHcm91cDogc3RyaW5nID0gXCJvYmYtQ2hvaWNlR3JvdXBcIjtcclxuXHRwdWJsaWMgc3RhdGljIENob2ljZUdyb3VwSWNvbjogc3RyaW5nID0gXCJvYmYtQ2hvaWNlR3JvdXBJY29uXCI7XHJcblxyXG5cdC8vIHJlZ2lvbiBCZWxseUJhbmRcclxuXHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsQW5jaG9yOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsQW5jaG9yXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsQW5jaG9yQWN0aXZlOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsQW5jaG9yQWN0aXZlXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsSW1hZ2U6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxJbWFnZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbFRleHQ6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVMYXlvdXQ6IHN0cmluZyA9IFwib2JmLVNpbmdsZUxheW91dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2hvd1JpZ2h0Qm9yZGVyOiBzdHJpbmcgPSBcIm9iZi1TaG93UmlnaHRCb3JkZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNsaWRlTGVmdDogc3RyaW5nID0gXCJvYmYtc2xpZGVMZWZ0XCI7XHJcblx0cHVibGljIHN0YXRpYyBUZXh0QWxpZ25MZWZ0OiBzdHJpbmcgPSBcIm9iZi1UZXh0QWxpZ25MZWZ0XCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1Gb3JtQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtV2lkZUNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtRm9ybVdpZGVDb250YWluZXJcIjtcclxuXHJcblx0Ly8gcmVnaW9uIFRoYW5rc1BhbmVsXHJcblx0cHVibGljIHN0YXRpYyBUaGFua3NQYW5lbFRpdGxlOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbFRpdGxlXCI7XHJcblx0cHVibGljIHN0YXRpYyBUaGFua3NQYW5lbE1lc3NhZ2U6IHN0cmluZyA9IFwib2JmLVRoYW5rc1BhbmVsTWVzc2FnZVwiO1xyXG5cclxuXHQvLyBmb3JtIGNsYXNzZXNcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1RdWVzdGlvbk1pZGRsZVRleHQ6IHN0cmluZyA9IFwib2JmLUZvcm1RdWVzdGlvbk1pZGRsZVRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1NaWRkbGVUZXh0OiBzdHJpbmcgPSBcIm9iZi1Gb3JtTWlkZGxlVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUNhdGVnb3JpZXNEcm9wZG93bjogc3RyaW5nID0gXCJvYmYtRm9ybUNhdGVnb3JpZXNEcm9wZG93blwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUNvbW1lbnQ6IHN0cmluZyA9IFwib2JmLUZvcm1Db21tZW50XCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtUmF0aW5nQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1Gb3JtUmF0aW5nQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtUmF0aW5nTGFiZWw6IHN0cmluZyA9IFwib2JmLUZvcm1SYXRpbmdMYWJlbFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVJhdGluZzogc3RyaW5nID0gXCJvYmYtRm9ybVJhdGluZ1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUVtYWlsQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1Gb3JtRW1haWxDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1FbWFpbElucHV0OiBzdHJpbmcgPSBcIm9iZi1Gb3JtRW1haWxJbnB1dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUVtYWlsVGV4dEJveDogc3RyaW5nID0gXCJvYmYtRm9ybUVtYWlsVGV4dEJveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUVtYWlsQ2hlY2tCb3g6IHN0cmluZyA9IFwib2JmLUZvcm1FbWFpbENoZWNrQm94XCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtRW1haWxMYWJlbDogc3RyaW5nID0gXCJvYmYtRm9ybUVtYWlsTGFiZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1Cb3R0b21Db250YWluZXI6IHN0cmluZyA9IFwib2JmLUZvcm1Cb3R0b21Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1TdWJtaXRCdXR0b25Db250YWluZXI6IHN0cmluZyA9IFwib2JmLUZvcm1TdWJtaXRCdXR0b25Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1TY3JlZW5zaG90Q29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1Gb3JtU2NyZWVuc2hvdENvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVNjcmVlbnNob3RMYWJlbDogc3RyaW5nID0gXCJvYmYtRm9ybVNjcmVlbnNob3RMYWJlbFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVNjcmVlbnNob3RDaGVja2JveDogc3RyaW5nID0gXCJvYmYtRm9ybVNjcmVlbnNob3RDaGVja2JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVNjcmVlbnNob3RQcmV2aWV3OiBzdHJpbmcgPSBcIm9iZi1Gb3JtU2NyZWVuc2hvdFByZXZpZXdcIjtcclxuXHQvLyBlbWFpbCB0ZXh0Ym94IGNsYXNzZXNcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtRW1haWxDaGVja2JveDogc3RyaW5nID0gXCJvYmYtVEZvcm1FbWFpbENoZWNrYm94XCI7XHJcblx0cHVibGljIHN0YXRpYyBURm9ybUVtYWlsTGFiZWw6IHN0cmluZyA9IFwib2JmLVRGb3JtRW1haWxMYWJlbCBcIjtcclxuXHJcblx0Ly8gZW1haWwgY2hlY2tib3ggY2xhc3Nlc1xyXG5cdHB1YmxpYyBzdGF0aWMgRW1haWxDaGVja0JveExhYmVsOiBzdHJpbmcgPSBcIm9iZi1FbWFpbENoZWNrQm94TGFiZWxcIjtcclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcblxyXG5cdC8vIHJlZ2lvbiBUb2FzdFxyXG5cclxuXHRwdWJsaWMgc3RhdGljIFRvYXN0OiBzdHJpbmcgPSBcIm9iZi1Ub2FzdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVG9hc3Rab29tOiBzdHJpbmcgPSBcIm9iZi1Ub2FzdFpvb21cIjtcclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIVE1MIGVsZW1lbnQgaWRzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSURzIHtcclxuXHQvLyByZWdpb24gQmVsbHlCYW5kXHJcblx0cHVibGljIHN0YXRpYyBDbG9zZUJ1dHRvbjogc3RyaW5nID0gXCJvYmYtQ2xvc2VCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIENvbHVtblNlcGFyYXRvckRpdjogc3RyaW5nID0gXCJvYmYtQ29sdW1uU2VwYXJhdG9yRGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsQW5jaG9yc0NvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEFuY2hvcnNDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxGcm93bkFuY2hvcjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEZyb3duQW5jaG9yXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsRnJvd25EaXY6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxGcm93bkRpdlwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEZyb3duSW1hZ2U6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxGcm93bkltYWdlXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsRnJvd25UZXh0OiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsRnJvd25UZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsU21pbGVBbmNob3I6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxTbWlsZUFuY2hvclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbFNtaWxlRGl2OiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsU21pbGVEaXZcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxTbWlsZUltYWdlOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsU21pbGVJbWFnZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbFNtaWxlVGV4dDogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbFNtaWxlVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbElkZWFBbmNob3I6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxJZGVhQW5jaG9yXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsSWRlYURpdjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbElkZWFEaXZcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxJZGVhSW1hZ2U6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxJZGVhSW1hZ2VcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxJZGVhVGV4dDogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbElkZWFUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsQnVnQW5jaG9yOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsQnVnQW5jaG9yXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsQnVnRGl2OiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsQnVnRGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsQnVnSW1hZ2U6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxCdWdJbWFnZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEJ1Z1RleHQ6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxCdWdUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBRdWVzdGlvbkxlZnRUZXh0OiBzdHJpbmcgPSBcIm9iZi1RdWVzdGlvbkxlZnRUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBMZWZ0Rm9ybUNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtTGVmdEZvcm1Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIExlZnRQYW5lbENvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtTGVmdFBhbmVsQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBNYWluQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1NYWluQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBNYWluQ29udGVudEhvbGRlcjogc3RyaW5nID0gXCJvYmYtTWFpbkNvbnRlbnRIb2xkZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIE1pZGRsZUZvcm1Db250YWluZXI6IHN0cmluZyA9IFwib2JmLU1pZGRsZUZvcm1Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJsYXlCYWNrZ3JvdW5kOiBzdHJpbmcgPSBcIm9iZi1PdmVybGF5QmFja2dyb3VuZFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUHJpdmFjeVN0YXRlbWVudExpbms6IHN0cmluZyA9IFwib2JmLVByaXZhY3lTdGF0ZW1lbnRMaW5rXCI7XHJcblx0cHVibGljIHN0YXRpYyBGaXJzdFRhYmJhYmxlOiBzdHJpbmcgPSBcIm9iZi1GaXJzdFRhYmJhYmxlXCI7XHJcblx0cHVibGljIHN0YXRpYyBMYXN0VGFiYmFibGU6IHN0cmluZyA9IFwib2JmLUxhc3RUYWJiYWJsZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRW1haWxDaGVja0JveDogc3RyaW5nID0gXCJvYmYtRW1haWxDaGVja0JveFwiO1xyXG5cclxuXHQvLyBTaW5nbGUgZm9ybSBpZHNcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1Db250YWluZXI6IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1RdWVzdGlvbk1pZGRsZVRleHQ6IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1RdWVzdGlvbk1pZGRsZVRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1DYXRlZ29yaWVzRHJvcGRvd246IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1DYXRlZ29yaWVzRHJvcGRvd25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1Db21tZW50OiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtQ29tbWVudFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybUVtYWlsSW5wdXQ6IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1FbWFpbElucHV0XCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtUmF0aW5nOiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtUmF0aW5nXCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtU2NyZWVuc2hvdENoZWNrYm94OiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtU2NyZWVuc2hvdENoZWNrYm94XCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtU2NyZWVuc2hvdFByZXZpZXc6IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1TY3JlZW5zaG90UHJldmlld1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybUNhbmNlbEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtU2luZ2xlRm9ybUNhbmNlbEJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvblNwaW5uZXI6IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1TdWJtaXRCdXR0b25TcGlubmVyXCI7XHJcblxyXG5cdC8vIEJhc2ljIGZvcm0gaWRzXHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1Db250YWluZXI6IHN0cmluZyA9IFwib2JmLUJhc2ljRm9ybUNvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtUXVlc3Rpb25NaWRkbGVUZXh0OiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1RdWVzdGlvbk1pZGRsZVRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEJhc2ljRm9ybUNhdGVnb3JpZXNEcm9wZG93bjogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duXCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1Db21tZW50OiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1Db21tZW50XCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1FbWFpbElucHV0OiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1FbWFpbElucHV0XCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1SYXRpbmc6IHN0cmluZyA9IFwib2JmLUJhc2ljRm9ybVJhdGluZ1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtU2NyZWVuc2hvdENoZWNrYm94OiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1TY3JlZW5zaG90Q2hlY2tib3hcIjtcclxuXHRwdWJsaWMgc3RhdGljIEJhc2ljRm9ybVNjcmVlbnNob3RQcmV2aWV3OiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1TY3JlZW5zaG90UHJldmlld1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtU3VibWl0QnV0dG9uOiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1TdWJtaXRCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIEJhc2ljRm9ybUNhbmNlbEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtQ2FuY2VsQnV0dG9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1TdWJtaXRCdXR0b25TcGlubmVyOiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1TdWJtaXRCdXR0b25TcGlubmVyXCI7XHJcblxyXG5cdC8vIFRoYW5rcyBQYW5lbCBpZHNcclxuXHRwdWJsaWMgc3RhdGljIFRoYW5rc1BhbmVsQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbENvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGhhbmtzUGFuZWxDbG9zZUJ1dHRvbjogc3RyaW5nID0gXCJvYmYtVGhhbmtzUGFuZWxDbG9zZUJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGhhbmtzUGFuZWxEaXNjdXNzaW9uOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbERpc2N1c3Npb25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFRoYW5rc1BhbmVsVmVydGljYWxDb250YWluZXI6IHN0cmluZyA9IFwib2JmLVRoYW5rc1BhbmVsVmVydGljYWxDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRoYW5rc1BhbmVsSW5uZXJDb250YWluZXI6IHN0cmluZyA9IFwib2JmLVRoYW5rc1BhbmVsSW5uZXJDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRoYW5rc1BhbmVsUGFyYWdyYXBoOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbFBhcmFncmFwaFwiO1xyXG5cclxuXHQvLyBGZWVkYmFjayBQb3J0YWwgSWRlYSBJZFxyXG5cdHB1YmxpYyBzdGF0aWMgRmVlZGJhY2tQb3J0YWxJZGVhQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1GZWVkYmFja1BvcnRhbElkZWFDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxGZWVkYmFja1BvcnRhbElkZWFBbmNob3I6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxGZWVkYmFja1BvcnRhbElkZWFBbmNob3JcIjtcclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcblxyXG5cdC8vIHJlZ2lvbiBUb2FzdFxyXG5cdHB1YmxpYyBzdGF0aWMgVG9hc3RDb250YWluZXI6IHN0cmluZyA9IFwib2JmLVRvYXN0Q29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBUb2FzdENhbmNlbDogc3RyaW5nID0gXCJvYmYtVG9hc3RDYW5jZWxcIjtcclxuXHJcblx0Ly8gUHJvbXB0IGlkc1xyXG5cdHB1YmxpYyBzdGF0aWMgVFByb21wdENvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVFByb21wdENvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVFByb21wdFRpdGxlOiBzdHJpbmcgPSBcIm9iZi1UUHJvbXB0VGl0bGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRQcm9tcHRUZXh0OiBzdHJpbmcgPSBcIm9iZi1UUHJvbXB0VGV4dFwiO1xyXG5cclxuXHQvLyBTdXJ2ZXkgaWRzXHJcblx0cHVibGljIHN0YXRpYyBURm9ybUNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVEZvcm1Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtVGl0bGU6IHN0cmluZyA9IFwib2JmLVRGb3JtVGl0bGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtUmF0aW5nOiBzdHJpbmcgPSBcIm9iZi1URm9ybVJhdGluZ1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1SYXRpbmdRdWVzdGlvbjogc3RyaW5nID0gXCJvYmYtVEZvcm1SYXRpbmdRdWVzdGlvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1Db21tZW50OiBzdHJpbmcgPSBcIm9iZi1URm9ybUNvbW1lbnRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtRW1haWxUZXh0Qm94OiBzdHJpbmcgPSBcIm9iZi1URm9ybUVtYWlsVGV4dEJveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1FbWFpbENoZWNrQm94OiBzdHJpbmcgPSBcIm9iZi1URm9ybUVtYWlsQ2hlY2tCb3hcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtRW1haWxMYWJlbDogc3RyaW5nID0gXCJvYmYtVEZvcm1FbWFpbExhYmVsXCI7XHJcblx0cHVibGljIHN0YXRpYyBURm9ybVN1Ym1pdEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtVEZvcm1TdWJtaXRCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtU3VibWl0QnV0dG9uU3Bpbm5lcjogc3RyaW5nID0gXCJvYmYtVEZvcm1TdWJtaXRCdXR0b25TcGlubmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBURm9ybVN1Ym1pdEJ1dHRvbkNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVEZvcm1TdWJtaXRCdXR0b25Db250YWluZXJcIjtcclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBLZXlzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgS2V5cyB7XHJcblx0cHVibGljIHN0YXRpYyBFc2M6IG51bWJlciA9IDI3O1xyXG5cdHB1YmxpYyBzdGF0aWMgVGFiOiBudW1iZXIgPSA5O1xyXG59XHJcblxyXG4vKipcclxuICogSFRNTCB0YWdzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGFncyB7XHJcblx0cHVibGljIHN0YXRpYyBBbmNob3I6IHN0cmluZyA9IFwiQVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQnV0dG9uOiBzdHJpbmcgPSBcImJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRGVmczogc3RyaW5nID0gXCJkZWZzXCI7XHJcblx0cHVibGljIHN0YXRpYyBEaXY6IHN0cmluZyA9IFwiZGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBGaWVsZFNldDogc3RyaW5nID0gXCJmaWVsZHNldFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybTogc3RyaW5nID0gXCJmb3JtXCI7XHJcblx0cHVibGljIHN0YXRpYyBJbWc6IHN0cmluZyA9IFwiaW1nXCI7XHJcblx0cHVibGljIHN0YXRpYyBJbnB1dDogc3RyaW5nID0gXCJpbnB1dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTGFiZWw6IHN0cmluZyA9IFwibGFiZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIExlZ2VuZDogc3RyaW5nID0gXCJsZWdlbmRcIjtcclxuXHRwdWJsaWMgc3RhdGljIE9wdGlvbjogc3RyaW5nID0gXCJvcHRpb25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFBvbHlnb246IHN0cmluZyA9IFwicG9seWdvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2VsZWN0OiBzdHJpbmcgPSBcInNlbGVjdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3Bhbjogc3RyaW5nID0gXCJzcGFuXCI7XHJcblx0cHVibGljIHN0YXRpYyBTdmc6IHN0cmluZyA9IFwic3ZnXCI7XHJcblx0cHVibGljIHN0YXRpYyBUZXh0QXJlYTogc3RyaW5nID0gXCJ0ZXh0YXJlYVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVXNlOiBzdHJpbmcgPSBcInVzZVwiO1xyXG59XHJcblxyXG4vKipcclxuICogSFRNTCByb2xlc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJvbGVzIHtcclxuXHRwdWJsaWMgc3RhdGljIEJ1dHRvbjogc3RyaW5nID0gXCJCdXR0b25cIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVSTHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBVcmxzIHtcclxuXHQvKipcclxuXHQgKiBMaW5rIHRvIHRoZSBmZWVkYmFjayBQcml2YWN5IFN0YXRlbWVudFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgUHJpdmFjeVN0YXRlbWVudExpbms6IHN0cmluZyA9IFwiaHR0cHM6Ly9nby5taWNyb3NvZnQuY29tL2Z3bGluay8/TGlua0lkPTUyMTgzOVwiO1xyXG59XHJcblxyXG4vKipcclxuICogcHJvbXB0IGNvbnN0YW50c1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFByb21wdENvbnN0YW50cyB7XHJcblx0cHVibGljIHN0YXRpYyBObzogc3RyaW5nID0gXCIxXCI7XHJcblx0cHVibGljIHN0YXRpYyBZZXM6IHN0cmluZyA9IFwiMlwiO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/UiConstants.ts\n");

/***/ }),

/***/ "./scripts/app/UI/Utils.ts":
/*!*********************************!*\
  !*** ./scripts/app/UI/Utils.ts ***!
  \*********************************/
/*! exports provided: setElementVisibility, deleteElementById, addClassById, deleteClassById, replaceClassesById, setAttributeOnHtmlElement, addEventListenerHelper, removeEventListenerHelper, registerListener, registerListenerToElement, unregisterListener, getInternetExplorerVersion, isRightToLeft, ScreenshotPreviewByCheckbox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setElementVisibility\", function() { return setElementVisibility; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteElementById\", function() { return deleteElementById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addClassById\", function() { return addClassById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteClassById\", function() { return deleteClassById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceClassesById\", function() { return replaceClassesById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAttributeOnHtmlElement\", function() { return setAttributeOnHtmlElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addEventListenerHelper\", function() { return addEventListenerHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeEventListenerHelper\", function() { return removeEventListenerHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerListener\", function() { return registerListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerListenerToElement\", function() { return registerListenerToElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unregisterListener\", function() { return unregisterListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getInternetExplorerVersion\", function() { return getInternetExplorerVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isRightToLeft\", function() { return isRightToLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenshotPreviewByCheckbox\", function() { return ScreenshotPreviewByCheckbox; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ \"./scripts/app/UI/UiConstants.ts\");\n/* harmony import */ var _Screenshot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Screenshot */ \"./scripts/app/Screenshot.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * Utils.ts\r\n *\r\n * Module for utility functions\r\n */\r\n\r\n\r\n\r\n/**\r\n * Set HTML element visibility\r\n * @param {string} id The Id of the HTML element\r\n * @param {any} vis The visibility to be set (true or false)\r\n * @return {void}\r\n */\r\nfunction setElementVisibility(id, vis) {\r\n    var oldClassName = vis ? _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Hidden : _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Visible;\r\n    var newClassName = vis ? _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Visible : _UiConstants__WEBPACK_IMPORTED_MODULE_0__[\"Classes\"].Hidden;\r\n    replaceClassesById(id, oldClassName, newClassName);\r\n}\r\n/**\r\n * Delete HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @return {void}\r\n */\r\nfunction deleteElementById(id) {\r\n    var element = document.getElementById(id);\r\n    if (element != null && element.parentNode != null) {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n/**\r\n * Add a CSS class to an HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} newClassName The name of CSS class to be added\r\n * @return {void}\r\n */\r\nfunction addClassById(id, newClass) {\r\n    var element = document.getElementById(id);\r\n    if (!element) {\r\n        return;\r\n    }\r\n    // check is the class already exists, if not add it\r\n    if (!element.className.match(new RegExp(\"\\\\b\" + newClass + \"\\\\b\"))) {\r\n        // we use className instead of classList to support IE9\r\n        element.className = element.className + \" \" + newClass;\r\n    }\r\n}\r\n/**\r\n * Delete a CSS class of an HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} oldClassName The name of CSS class to be deleted\r\n * @return {void}\r\n */\r\nfunction deleteClassById(id, oldClass) {\r\n    var element = document.getElementById(id);\r\n    if (!element) {\r\n        return;\r\n    }\r\n    // we use className instead of classList to support IE9\r\n    // get rid of any occurrences of the class we don\"t want\r\n    element.className = element.className.split(new RegExp(\"\\\\b\" + oldClass + \"\\\\b\", \"i\")).join(\" \");\r\n    // get rid of extra whitespaces\r\n    element.className = element.className.split(/\\s+/).join(\" \");\r\n}\r\n/**\r\n * Delete an CSS class and (or) add an CSS class to an HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} oldClassName The name of CSS class to be deleted\r\n * @param {string} newClassName The name of CSS class to be added\r\n * @return {void}\r\n */\r\nfunction replaceClassesById(id, oldClassName, newClassName) {\r\n    deleteClassById(id, oldClassName);\r\n    addClassById(id, newClassName);\r\n}\r\n/**\r\n * Set attribute on an HTML element\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} attriName The attribute name\r\n * @param {string} attriValue The attribute value\r\n * @return {void}\r\n */\r\nfunction setAttributeOnHtmlElement(id, attriName, attriValue) {\r\n    var htmlElement = document.getElementById(id);\r\n    if (htmlElement) {\r\n        htmlElement.setAttribute(attriName, attriValue);\r\n    }\r\n}\r\n/**\r\n * Add event listener helper function (wrapper) that deals with IE 8 compatability\r\n * @param object The object to add event listener to\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction addEventListenerHelper(object, type, listener) {\r\n    if (object.addEventListener) {\r\n        object.addEventListener(type, listener, false);\r\n    }\r\n    else if (object.attachEvent) {\r\n        object.attachEvent(\"on\" + type, listener);\r\n    }\r\n}\r\n/**\r\n * Remove event listener helper function (wrapper) that deals with IE 8 compatability\r\n * @param object The object to remove event listener from\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction removeEventListenerHelper(object, type, listener) {\r\n    if (object.removeEventListener) {\r\n        object.removeEventListener(type, listener, false);\r\n    }\r\n    else if (object.detachEvent) {\r\n        object.detachEvent(\"on\" + type, listener);\r\n    }\r\n}\r\n/**\r\n * Register event listener\r\n * @param id The Id of the HTML element\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction registerListener(id, type, listener) {\r\n    var element = document.getElementById(id);\r\n    if (element) {\r\n        addEventListenerHelper(element, type, listener);\r\n    }\r\n}\r\n/**\r\n * Register event listener\r\n * @param element The HTML element\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction registerListenerToElement(element, type, listener) {\r\n    if (element) {\r\n        addEventListenerHelper(element, type, listener);\r\n    }\r\n}\r\n/**\r\n * Un-register event listener\r\n * @param id The Id of the HTML element\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction unregisterListener(id, type, listener) {\r\n    var element = document.getElementById(id);\r\n    if (element) {\r\n        removeEventListenerHelper(element, type, listener);\r\n    }\r\n}\r\n/**\r\n * Returns the version of Internet Explorer or -1 for non-IE browser\r\n * @return {number} The IE version\r\n */\r\nfunction getInternetExplorerVersion() {\r\n    var rv = -1;\r\n    var ua = window.navigator.userAgent;\r\n    // since IE 11, 'MSIE' is not a keyword in its user agent string anymore\r\n    // determine whether the browser is IE or not, and the version of IE based on Trident keyword and its version\r\n    if (ua.indexOf(\"Trident\") > -1) {\r\n        var re = new RegExp(\"Trident/([0-9]{1,}[\\.0-9]{0,})\");\r\n        if (re.exec(ua) != null) {\r\n            rv = parseFloat(RegExp.$1);\r\n            rv += 4; // trident version + 4 is the IE version\r\n        }\r\n    }\r\n    return rv;\r\n}\r\n/**\r\n * Check if the current text direction is right to left\r\n */\r\nfunction isRightToLeft() {\r\n    return getComputedStyle(document.documentElement).direction === \"rtl\";\r\n}\r\n/**\r\n * Screenshot preview is control by screenshot check box. Populate preview if checkbox is checked\r\n * @param screenshotCheckboxId The Id of screenshot checkbox\r\n * @param screenshotPreviewId The Id of preview\r\n */\r\nfunction ScreenshotPreviewByCheckbox(screenshotCheckboxId, screenshotPreviewId) {\r\n    var screenshotCheckBox = document.getElementById(screenshotCheckboxId);\r\n    var screenshotCheckBoxSelected = screenshotCheckBox && screenshotCheckBox.checked;\r\n    var preview = document.getElementById(screenshotPreviewId);\r\n    if (screenshotCheckBoxSelected) {\r\n        setElementVisibility(screenshotPreviewId, true);\r\n        var startTime_1 = performance.now();\r\n        _Screenshot__WEBPACK_IMPORTED_MODULE_1__[\"createScreenshot\"](document.body).then(function (canvas) {\r\n            var endTime = performance.now();\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].Shared.Screenshot.Render.Success.VALUE, 1 /* Critical */, { TimeMilliseconds: endTime - startTime_1 });\r\n            preview.src = canvas.toDataURL();\r\n        }).catch(function (error) {\r\n            var endTime = performance.now();\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].Shared.Screenshot.Render.Failed.VALUE, 2 /* Error */, { ErrorMessage: error, TimeMilliseconds: endTime - startTime_1 });\r\n        });\r\n    }\r\n    else {\r\n        setElementVisibility(screenshotPreviewId, false);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9VdGlscy50cz9iYWY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFcUM7QUFDTTtBQUNFO0FBRWhEOzs7OztHQUtHO0FBQ0ksU0FBUyxvQkFBb0IsQ0FBQyxFQUFVLEVBQUUsR0FBWTtJQUM1RCxJQUFJLFlBQVksR0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLG9EQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxvREFBTyxDQUFDLE9BQU8sQ0FBQztJQUNsRSxJQUFJLFlBQVksR0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLG9EQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxvREFBTyxDQUFDLE1BQU0sQ0FBQztJQUVsRSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3BELENBQUM7QUFFRDs7OztHQUlHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FBQyxFQUFVO0lBQzNDLElBQUksT0FBTyxHQUFnQixRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZELElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsVUFBVSxJQUFJLElBQUksRUFBRTtRQUNsRCxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUN4QztBQUNGLENBQUM7QUFFRDs7Ozs7R0FLRztBQUNJLFNBQVMsWUFBWSxDQUFDLEVBQVUsRUFBRSxRQUFnQjtJQUN4RCxJQUFJLE9BQU8sR0FBZ0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUV2RCxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ2IsT0FBTztLQUNQO0lBRUQsbURBQW1EO0lB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LENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakQ7QUFDRixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVXRpbHMudHNcclxuICpcclxuICogTW9kdWxlIGZvciB1dGlsaXR5IGZ1bmN0aW9uc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IENsYXNzZXMgfSBmcm9tIFwiLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBTY3JlZW5zaG90IGZyb20gXCIuLy4uL1NjcmVlbnNob3RcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi8uLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbi8qKlxyXG4gKiBTZXQgSFRNTCBlbGVtZW50IHZpc2liaWxpdHlcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJZCBvZiB0aGUgSFRNTCBlbGVtZW50XHJcbiAqIEBwYXJhbSB7YW55fSB2aXMgVGhlIHZpc2liaWxpdHkgdG8gYmUgc2V0ICh0cnVlIG9yIGZhbHNlKVxyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEVsZW1lbnRWaXNpYmlsaXR5KGlkOiBzdHJpbmcsIHZpczogYm9vbGVhbik6IHZvaWQge1xyXG5cdGxldCBvbGRDbGFzc05hbWU6IHN0cmluZyA9IHZpcyA/IENsYXNzZXMuSGlkZGVuIDogQ2xhc3Nlcy5WaXNpYmxlO1xyXG5cdGxldCBuZXdDbGFzc05hbWU6IHN0cmluZyA9IHZpcyA/IENsYXNzZXMuVmlzaWJsZSA6IENsYXNzZXMuSGlkZGVuO1xyXG5cclxuXHRyZXBsYWNlQ2xhc3Nlc0J5SWQoaWQsIG9sZENsYXNzTmFtZSwgbmV3Q2xhc3NOYW1lKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBIVE1MIGVsZW1lbnQgYnkgSWRcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJZCBvZiB0aGUgSFRNTCBlbGVtZW50XHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRWxlbWVudEJ5SWQoaWQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRpZiAoZWxlbWVudCAhPSBudWxsICYmIGVsZW1lbnQucGFyZW50Tm9kZSAhPSBudWxsKSB7XHJcblx0XHRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQWRkIGEgQ1NTIGNsYXNzIHRvIGFuIEhUTUwgZWxlbWVudCBieSBJZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElkIG9mIHRoZSBIVE1MIGVsZW1lbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0NsYXNzTmFtZSBUaGUgbmFtZSBvZiBDU1MgY2xhc3MgdG8gYmUgYWRkZWRcclxuICogQHJldHVybiB7dm9pZH1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzc0J5SWQoaWQ6IHN0cmluZywgbmV3Q2xhc3M6IHN0cmluZyk6IHZvaWQge1xyXG5cdGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcblx0aWYgKCFlbGVtZW50KSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvLyBjaGVjayBpcyB0aGUgY2xhc3MgYWxyZWFkeSBleGlzdHMsIGlmIG5vdCBhZGQgaXRcclxuXHRpZiAoIWVsZW1lbnQuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgbmV3Q2xhc3MgKyBcIlxcXFxiXCIpKSkge1xyXG5cdFx0Ly8gd2UgdXNlIGNsYXNzTmFtZSBpbnN0ZWFkIG9mIGNsYXNzTGlzdCB0byBzdXBwb3J0IElFOVxyXG5cdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArIFwiIFwiICsgbmV3Q2xhc3M7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGVsZXRlIGEgQ1NTIGNsYXNzIG9mIGFuIEhUTUwgZWxlbWVudCBieSBJZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElkIG9mIHRoZSBIVE1MIGVsZW1lbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IG9sZENsYXNzTmFtZSBUaGUgbmFtZSBvZiBDU1MgY2xhc3MgdG8gYmUgZGVsZXRlZFxyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNsYXNzQnlJZChpZDogc3RyaW5nLCBvbGRDbGFzczogc3RyaW5nKTogdm9pZCB7XHJcblx0bGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cclxuXHRpZiAoIWVsZW1lbnQpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8vIHdlIHVzZSBjbGFzc05hbWUgaW5zdGVhZCBvZiBjbGFzc0xpc3QgdG8gc3VwcG9ydCBJRTlcclxuXHQvLyBnZXQgcmlkIG9mIGFueSBvY2N1cnJlbmNlcyBvZiB0aGUgY2xhc3Mgd2UgZG9uXCJ0IHdhbnRcclxuXHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgb2xkQ2xhc3MgKyBcIlxcXFxiXCIsIFwiaVwiKSkuam9pbihcIiBcIik7XHJcblxyXG5cdC8vIGdldCByaWQgb2YgZXh0cmEgd2hpdGVzcGFjZXNcclxuXHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykuam9pbihcIiBcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYW4gQ1NTIGNsYXNzIGFuZCAob3IpIGFkZCBhbiBDU1MgY2xhc3MgdG8gYW4gSFRNTCBlbGVtZW50IGJ5IElkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb2xkQ2xhc3NOYW1lIFRoZSBuYW1lIG9mIENTUyBjbGFzcyB0byBiZSBkZWxldGVkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdDbGFzc05hbWUgVGhlIG5hbWUgb2YgQ1NTIGNsYXNzIHRvIGJlIGFkZGVkXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUNsYXNzZXNCeUlkKGlkOiBzdHJpbmcsIG9sZENsYXNzTmFtZT86IHN0cmluZywgbmV3Q2xhc3NOYW1lPzogc3RyaW5nKTogdm9pZCB7XHJcblx0ZGVsZXRlQ2xhc3NCeUlkKGlkLCBvbGRDbGFzc05hbWUpO1xyXG5cdGFkZENsYXNzQnlJZChpZCwgbmV3Q2xhc3NOYW1lKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCBhdHRyaWJ1dGUgb24gYW4gSFRNTCBlbGVtZW50XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlOYW1lIFRoZSBhdHRyaWJ1dGUgbmFtZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlWYWx1ZSBUaGUgYXR0cmlidXRlIHZhbHVlXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChpZDogc3RyaW5nLCBhdHRyaU5hbWU6IHN0cmluZywgYXR0cmlWYWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcblx0bGV0IGh0bWxFbGVtZW50OiBIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cdGlmIChodG1sRWxlbWVudCkge1xyXG5cdFx0aHRtbEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpTmFtZSwgYXR0cmlWYWx1ZSk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQWRkIGV2ZW50IGxpc3RlbmVyIGhlbHBlciBmdW5jdGlvbiAod3JhcHBlcikgdGhhdCBkZWFscyB3aXRoIElFIDggY29tcGF0YWJpbGl0eVxyXG4gKiBAcGFyYW0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlXHJcbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVySGVscGVyKG9iamVjdDogYW55LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0aWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKSB7XHJcblx0XHRvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAob2JqZWN0LmF0dGFjaEV2ZW50KSB7XHJcblx0XHRvYmplY3QuYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lciBoZWxwZXIgZnVuY3Rpb24gKHdyYXBwZXIpIHRoYXQgZGVhbHMgd2l0aCBJRSA4IGNvbXBhdGFiaWxpdHlcclxuICogQHBhcmFtIG9iamVjdCBUaGUgb2JqZWN0IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlXHJcbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVySGVscGVyKG9iamVjdDogYW55LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0aWYgKG9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XHJcblx0XHRvYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAob2JqZWN0LmRldGFjaEV2ZW50KSB7XHJcblx0XHRvYmplY3QuZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVyXHJcbiAqIEBwYXJhbSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgZXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0ZW5lcihpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0bGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cdGlmIChlbGVtZW50KSB7XHJcblx0XHRhZGRFdmVudExpc3RlbmVySGVscGVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBldmVudCBsaXN0ZW5lclxyXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50XHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlXHJcbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVyVG9FbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0aWYgKGVsZW1lbnQpIHtcclxuXHRcdGFkZEV2ZW50TGlzdGVuZXJIZWxwZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFVuLXJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVyXHJcbiAqIEBwYXJhbSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgZXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdW5yZWdpc3Rlckxpc3RlbmVyKGlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuXHRsZXQgZWxlbWVudDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcblx0aWYgKGVsZW1lbnQpIHtcclxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXJIZWxwZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgSW50ZXJuZXQgRXhwbG9yZXIgb3IgLTEgZm9yIG5vbi1JRSBicm93c2VyXHJcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIElFIHZlcnNpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpOiBudW1iZXIge1xyXG5cdGxldCBydjogbnVtYmVyID0gLTE7XHJcblx0bGV0IHVhOiBzdHJpbmcgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuXHJcblx0Ly8gc2luY2UgSUUgMTEsICdNU0lFJyBpcyBub3QgYSBrZXl3b3JkIGluIGl0cyB1c2VyIGFnZW50IHN0cmluZyBhbnltb3JlXHJcblx0Ly8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGJyb3dzZXIgaXMgSUUgb3Igbm90LCBhbmQgdGhlIHZlcnNpb24gb2YgSUUgYmFzZWQgb24gVHJpZGVudCBrZXl3b3JkIGFuZCBpdHMgdmVyc2lvblxyXG5cdGlmICh1YS5pbmRleE9mKFwiVHJpZGVudFwiKSA+IC0xKSB7XHJcblx0XHRsZXQgcmU6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJUcmlkZW50LyhbMC05XXsxLH1bXFwuMC05XXswLH0pXCIpO1xyXG5cdFx0aWYgKHJlLmV4ZWModWEpICE9IG51bGwpIHtcclxuXHRcdFx0cnYgPSBwYXJzZUZsb2F0KFJlZ0V4cC4kMSk7XHJcblx0XHRcdHJ2ICs9IDQ7IC8vIHRyaWRlbnQgdmVyc2lvbiArIDQgaXMgdGhlIElFIHZlcnNpb25cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHJ2O1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdGV4dCBkaXJlY3Rpb24gaXMgcmlnaHQgdG8gbGVmdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmlnaHRUb0xlZnQoKTogYm9vbGVhbiB7XHJcblx0cmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTY3JlZW5zaG90IHByZXZpZXcgaXMgY29udHJvbCBieSBzY3JlZW5zaG90IGNoZWNrIGJveC4gUG9wdWxhdGUgcHJldmlldyBpZiBjaGVja2JveCBpcyBjaGVja2VkIFxyXG4gKiBAcGFyYW0gc2NyZWVuc2hvdENoZWNrYm94SWQgVGhlIElkIG9mIHNjcmVlbnNob3QgY2hlY2tib3ggXHJcbiAqIEBwYXJhbSBzY3JlZW5zaG90UHJldmlld0lkIFRoZSBJZCBvZiBwcmV2aWV3IFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFNjcmVlbnNob3RQcmV2aWV3QnlDaGVja2JveChzY3JlZW5zaG90Q2hlY2tib3hJZDogc3RyaW5nLCBzY3JlZW5zaG90UHJldmlld0lkOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRsZXQgc2NyZWVuc2hvdENoZWNrQm94ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNjcmVlbnNob3RDaGVja2JveElkKTtcclxuXHRsZXQgc2NyZWVuc2hvdENoZWNrQm94U2VsZWN0ZWQ6IGJvb2xlYW4gPSBzY3JlZW5zaG90Q2hlY2tCb3ggJiYgc2NyZWVuc2hvdENoZWNrQm94LmNoZWNrZWQ7XHJcblx0bGV0IHByZXZpZXcgPSA8SFRNTEltYWdlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2NyZWVuc2hvdFByZXZpZXdJZCk7XHJcblxyXG5cdGlmIChzY3JlZW5zaG90Q2hlY2tCb3hTZWxlY3RlZCkge1xyXG5cdFx0c2V0RWxlbWVudFZpc2liaWxpdHkoc2NyZWVuc2hvdFByZXZpZXdJZCwgdHJ1ZSk7XHJcblx0XHRsZXQgc3RhcnRUaW1lOiBudW1iZXIgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdFNjcmVlbnNob3QuY3JlYXRlU2NyZWVuc2hvdChkb2N1bWVudC5ib2R5KS50aGVuKFxyXG5cdFx0XHQoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdGxldCBlbmRUaW1lOiBudW1iZXIgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuUmVuZGVyLlN1Y2Nlc3MuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHRcdFx0eyBUaW1lTWlsbGlzZWNvbmRzOiBlbmRUaW1lIC0gc3RhcnRUaW1lIH0pO1xyXG5cclxuXHRcdFx0XHRwcmV2aWV3LnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuXHRcdFx0fVxyXG5cdFx0KS5jYXRjaCgoZXJyb3I6IGFueSkgPT4ge1xyXG5cdFx0XHRsZXQgZW5kVGltZTogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TaGFyZWQuU2NyZWVuc2hvdC5SZW5kZXIuRmFpbGVkLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGVycm9yLCBUaW1lTWlsbGlzZWNvbmRzOiBlbmRUaW1lIC0gc3RhcnRUaW1lIH0pO1xyXG5cdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNldEVsZW1lbnRWaXNpYmlsaXR5KHNjcmVlbnNob3RQcmV2aWV3SWQsIGZhbHNlKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/Utils.ts\n");

/***/ }),

/***/ "./scripts/app/UIStrings/UIStrings.ts":
/*!********************************************!*\
  !*** ./scripts/app/UIStrings/UIStrings.ts ***!
  \********************************************/
/*! exports provided: setUIStrings, getUIStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setUIStrings\", function() { return setUIStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUIStrings\", function() { return getUIStrings; });\n/**\r\n * UIStrings.ts\r\n *\r\n * Module for the strings to display\r\n */\r\n/**\r\n * Localized UI strings\r\n */\r\nvar uIStrings;\r\n/**\r\n * Set UI strings\r\n * @param {string} data List of localized UI strings\r\n */\r\nfunction setUIStrings(data) {\r\n    uIStrings = data;\r\n}\r\n/**\r\n * Get UI strings\r\n * @returns the UIStrings\r\n */\r\nfunction getUIStrings() {\r\n    return uIStrings;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSVN0cmluZ3MvVUlTdHJpbmdzLnRzPzlkY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQTZGSDs7R0FFRztBQUNILElBQUksU0FBcUIsQ0FBQztBQUUxQjs7O0dBR0c7QUFDSSxTQUFTLFlBQVksQ0FBQyxJQUFnQjtJQUM1QyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ2xCLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLFlBQVk7SUFDM0IsT0FBTyxTQUFTLENBQUM7QUFDbEIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJU3RyaW5ncy9VSVN0cmluZ3MudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVUlTdHJpbmdzLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGhlIHN0cmluZ3MgdG8gZGlzcGxheVxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVJU3RyaW5ncyB7XHJcblx0RmVlZGJhY2tTdWJ0aXRsZTogc3RyaW5nO1xyXG5cdFByaXZhY3lTdGF0ZW1lbnQ6IHN0cmluZztcclxuXHJcblx0Rm9ybToge1xyXG5cdFx0Q29tbWVudFBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRDYXRlZ29yeVBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRFbWFpbFBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRSYXRpbmdMYWJlbDogc3RyaW5nO1xyXG5cdFx0U2NyZWVuc2hvdExhYmVsOiBzdHJpbmc7XHJcblx0XHRFbWFpbENoZWNrQm94TGFiZWw6IHN0cmluZztcclxuXHRcdFN1Ym1pdDogc3RyaW5nO1xyXG5cdFx0QmFzaWNGb3JtVGl0bGU6IHN0cmluZztcclxuXHRcdENhbmNlbDogc3RyaW5nO1xyXG5cdFx0U2NyZWVuc2hvdEltZ0FsdFRleHQ6IHN0cmluZztcclxuXHRcdFByaXZhY3lMYWJlbDogc3RyaW5nO1xyXG5cdFx0UHJpdmFjeUNvbnNlbnQ6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRTaW5nbGVGb3JtOiB7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdFNtaWxlRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdEZyb3duRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdElkZWFGb3JtOiB7XHJcblx0XHRBbmNob3I6IHN0cmluZztcclxuXHRcdFRpdGxlOiBzdHJpbmc7XHJcblx0fTtcclxuXHJcblx0QnVnRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdFRoYW5rc1BhbmVsOiB7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdFx0QXBwcmVjaWF0ZVRleHQ6IHN0cmluZztcclxuXHRcdE15RmVlZGJhY2tEZXNjcmlwdGlvbjogc3RyaW5nO1xyXG5cdFx0TXlGZWVkYmFja0xpbmtUZXh0OiBzdHJpbmc7XHJcblx0XHRGZWVkYmFja1BvcnRhbERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcblx0XHRGZWVkYmFja1BvcnRhbExpbmtUZXh0OiBzdHJpbmc7XHJcblx0XHRDbG9zZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdEZsb29kZ2F0ZToge1xyXG5cdFx0TnBzOiB7XHJcblx0XHRcdFByb21wdDoge1xyXG5cdFx0XHRcdFRpdGxlOiBzdHJpbmc7XHJcblx0XHRcdFx0UXVlc3Rpb246IHN0cmluZztcclxuXHRcdFx0XHRZZXM6IHN0cmluZztcclxuXHRcdFx0XHRObzogc3RyaW5nO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Q29tbWVudDoge1xyXG5cdFx0XHRcdFF1ZXN0aW9uOiBzdHJpbmc7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRSYXRpbmc6IHtcclxuXHRcdFx0XHRRdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWUwOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTE6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlMjogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWUzOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTQ6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlNTogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWU2OiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTc6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlODogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWU5OiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTEwOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzNVZhbHVlMTogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czVWYWx1ZTI6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHM1VmFsdWUzOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzNVZhbHVlNDogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czVWYWx1ZTU6IHN0cmluZztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdENsb3NlTGFiZWw6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIExvY2FsaXplZCBVSSBzdHJpbmdzXHJcbiAqL1xyXG5sZXQgdUlTdHJpbmdzOiBJVUlTdHJpbmdzO1xyXG5cclxuLyoqXHJcbiAqIFNldCBVSSBzdHJpbmdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIExpc3Qgb2YgbG9jYWxpemVkIFVJIHN0cmluZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRVSVN0cmluZ3MoZGF0YTogSVVJU3RyaW5ncykge1xyXG5cdHVJU3RyaW5ncyA9IGRhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgVUkgc3RyaW5nc1xyXG4gKiBAcmV0dXJucyB0aGUgVUlTdHJpbmdzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUlTdHJpbmdzKCk6IElVSVN0cmluZ3Mge1xyXG5cdHJldHVybiB1SVN0cmluZ3M7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UIStrings/UIStrings.ts\n");

/***/ }),

/***/ "./scripts/app/Utils.ts":
/*!******************************!*\
  !*** ./scripts/app/Utils.ts ***!
  \******************************/
/*! exports provided: guid, overrideValues, isNOU, isBoolean, isInteger, expectObject, expectNumber, expectString, expectBoolean, expectGuid, expectArray, expectEnum, createTimeoutPromise, checkCssSelectorToBeSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return guid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"overrideValues\", function() { return overrideValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNOU\", function() { return isNOU; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBoolean\", function() { return isBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isInteger\", function() { return isInteger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectObject\", function() { return expectObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectNumber\", function() { return expectNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectString\", function() { return expectString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectBoolean\", function() { return expectBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectGuid\", function() { return expectGuid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectArray\", function() { return expectArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectEnum\", function() { return expectEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTimeoutPromise\", function() { return createTimeoutPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCssSelectorToBeSet\", function() { return checkCssSelectorToBeSet; });\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__);\n/*\r\n * Utils.ts\r\n *\r\n * Module for utility functions\r\n */\r\n\r\nvar guid = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].guid, overrideValues = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].overrideValues, isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isNOU, isBoolean = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isBoolean, isString = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isString, isObject = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isObject, isEnumValue = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isEnumValue;\r\n\r\n/**\r\n * Check if given value is a number\r\n * @param {any} value value\r\n */\r\nfunction isNumber(value) {\r\n    return (typeof value === \"number\");\r\n}\r\n/**\r\n * Check if given value is an integer\r\n * @param {any} value value\r\n */\r\nfunction isInteger(value) {\r\n    return typeof value === \"number\" &&\r\n        isFinite(value) &&\r\n        Math.floor(value) === value;\r\n}\r\n/**\r\n * Check if value is a valid guid\r\n * @param {any} value value\r\n */\r\nfunction isGuid(value) {\r\n    return (isString(value) &&\r\n        /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(value));\r\n}\r\n/**\r\n * Throw if not object\r\n */\r\nfunction expectObject(value, name) {\r\n    if (!isObject(value)) {\r\n        throw name + \" is not an object: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not number\r\n */\r\nfunction expectNumber(value, name) {\r\n    if (!isNumber(value)) {\r\n        throw name + \" is not a number: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not string\r\n */\r\nfunction expectString(value, name) {\r\n    if (!isString(value)) {\r\n        throw name + \" is not a string: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not boolean\r\n */\r\nfunction expectBoolean(value, name) {\r\n    if (!isBoolean(value)) {\r\n        throw name + \" is not a boolean: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not guid\r\n */\r\nfunction expectGuid(value, name) {\r\n    if (!isGuid(value)) {\r\n        throw name + \" is not a guid: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not array\r\n */\r\nfunction expectArray(value, name) {\r\n    if (!Array.isArray(value)) {\r\n        throw name + \" is not an array: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not valid enum\r\n * Note: this won't work with const enum\r\n */\r\nfunction expectEnum(value, enumType, name) {\r\n    if (!isNumber(value) || !isEnumValue(value, enumType)) {\r\n        throw name + \" is not an enum: \" + value;\r\n    }\r\n}\r\n// Creates a promise that rejects in <ms> milliseconds and\r\n// returns the race between the created timeout promise and the passed in promise\r\nfunction createTimeoutPromise(ms, promise) {\r\n    // Create a promise that rejects in <ms> milliseconds\r\n    var timeout = new Promise(function (resolve, reject) {\r\n        var id = setTimeout(function () {\r\n            clearTimeout(id);\r\n            reject(\"Timed out in \" + ms + \"ms.\");\r\n        }, ms);\r\n    });\r\n    // Returns a race between our timeout and the passed in promise\r\n    return Promise.race([promise, timeout]);\r\n}\r\n/**\r\n * Checks to see if a passed CSS selector is set as a rule in one of the document's stylesheets.\r\n *\r\n * @param cssSelector : a Css selector string such as '#obf-TPromptTitle'\r\n */\r\nfunction checkCssSelectorToBeSet(cssSelector) {\r\n    try {\r\n        for (var sheetIndex = 0; sheetIndex < document.styleSheets.length; sheetIndex++) {\r\n            var currentStyleSheet = document.styleSheets[sheetIndex];\r\n            for (var rulesIndex = 0; rulesIndex < currentStyleSheet.rules.length; rulesIndex++) {\r\n                var currentRule = currentStyleSheet.rules[rulesIndex];\r\n                if (!isNOU(currentRule.selectorText) && currentRule.selectorText.includes(cssSelector)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        // tslint:disable-next-line: no-empty\r\n    }\r\n    catch (error) { }\r\n    return false;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VdGlscy50cz9jZDliIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRWlEO0FBQzVDLFFBQUksR0FBd0UsaUVBQUssS0FBN0UsRUFBRSxjQUFjLEdBQXdELGlFQUFLLGVBQTdELEVBQUUsS0FBSyxHQUFpRCxpRUFBSyxNQUF0RCxFQUFFLFNBQVMsR0FBc0MsaUVBQUssVUFBM0MsRUFBRSxRQUFRLEdBQTRCLGlFQUFLLFNBQWpDLEVBQUUsUUFBUSxHQUFrQixpRUFBSyxTQUF2QixFQUFFLFdBQVcsR0FBSyxpRUFBSyxZQUFWLENBQVc7QUFDekM7QUFFakQ7OztHQUdHO0FBQ0gsU0FBUyxRQUFRLENBQUMsS0FBVTtJQUMzQixPQUFPLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUM7QUFDcEMsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsU0FBUyxDQUFDLEtBQVU7SUFDbkMsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQy9CLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssQ0FBQztBQUM5QixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxNQUFNLENBQUMsS0FBVTtJQUN6QixPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUN0QiwrRUFBK0UsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMvRixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLFlBQVksQ0FBQyxLQUFVLEVBQUUsSUFBWTtJQUNwRCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE1BQU0sSUFBSSxHQUFHLHFCQUFxQixHQUFH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b0JBQ3ZGLE9BQU8sSUFBSSxDQUFDO2lCQUNaO2FBQ0Q7U0FDRDtRQUNELHFDQUFxQztLQUNyQztJQUFDLE9BQU8sS0FBSyxFQUFFLEdBQUU7SUFFbEIsT0FBTyxLQUFLLENBQUM7QUFDZCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBVdGlscy50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHV0aWxpdHkgZnVuY3Rpb25zXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmNvbnN0IHsgZ3VpZCwgb3ZlcnJpZGVWYWx1ZXMsIGlzTk9VLCBpc0Jvb2xlYW4sIGlzU3RyaW5nLCBpc09iamVjdCwgaXNFbnVtVmFsdWUgfSA9IFV0aWxzO1xyXG5leHBvcnQgeyBndWlkLCBvdmVycmlkZVZhbHVlcywgaXNOT1UsIGlzQm9vbGVhbiB9XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYSBudW1iZXJcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIHZhbHVlXHJcbiAqL1xyXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYW4gaW50ZWdlclxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiZcclxuXHRcdGlzRmluaXRlKHZhbHVlKSAmJlxyXG5cdFx0TWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYSB2YWxpZCBndWlkXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gaXNHdWlkKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKGlzU3RyaW5nKHZhbHVlKSAmJlxyXG5cdFx0L15bMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXsxMn0kLy50ZXN0KHZhbHVlKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3Qgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0T2JqZWN0KHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNPYmplY3QodmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGFuIG9iamVjdDogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgbnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0TnVtYmVyKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNOdW1iZXIodmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGEgbnVtYmVyOiBcIiArIHZhbHVlO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRocm93IGlmIG5vdCBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RTdHJpbmcodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFpc1N0cmluZyh2YWx1ZSkpIHtcclxuXHRcdHRocm93IG5hbWUgKyBcIiBpcyBub3QgYSBzdHJpbmc6IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IGJvb2xlYW5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RCb29sZWFuKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNCb29sZWFuKHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhIGJvb2xlYW46IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IGd1aWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RHdWlkKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNHdWlkKHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhIGd1aWQ6IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0QXJyYXkodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhbiBhcnJheTogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgdmFsaWQgZW51bVxyXG4gKiBOb3RlOiB0aGlzIHdvbid0IHdvcmsgd2l0aCBjb25zdCBlbnVtXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0RW51bSh2YWx1ZTogYW55LCBlbnVtVHlwZTogYW55LCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNFbnVtVmFsdWUodmFsdWUsIGVudW1UeXBlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhbiBlbnVtOiBcIiArIHZhbHVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQ3JlYXRlcyBhIHByb21pc2UgdGhhdCByZWplY3RzIGluIDxtcz4gbWlsbGlzZWNvbmRzIGFuZFxyXG4vLyByZXR1cm5zIHRoZSByYWNlIGJldHdlZW4gdGhlIGNyZWF0ZWQgdGltZW91dCBwcm9taXNlIGFuZCB0aGUgcGFzc2VkIGluIHByb21pc2VcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVvdXRQcm9taXNlPFQ+KG1zOiBudW1iZXIsIHByb21pc2U6IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcclxuXHQvLyBDcmVhdGUgYSBwcm9taXNlIHRoYXQgcmVqZWN0cyBpbiA8bXM+IG1pbGxpc2Vjb25kc1xyXG5cdGNvbnN0IHRpbWVvdXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoaWQpO1xyXG5cdFx0XHRyZWplY3QoXCJUaW1lZCBvdXQgaW4gXCIgKyBtcyArIFwibXMuXCIpO1xyXG5cdFx0fSwgbXMpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBSZXR1cm5zIGEgcmFjZSBiZXR3ZWVuIG91ciB0aW1lb3V0IGFuZCB0aGUgcGFzc2VkIGluIHByb21pc2VcclxuXHRyZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCB0aW1lb3V0XSkgYXMgUHJvbWlzZTxUPjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyB0byBzZWUgaWYgYSBwYXNzZWQgQ1NTIHNlbGVjdG9yIGlzIHNldCBhcyBhIHJ1bGUgaW4gb25lIG9mIHRoZSBkb2N1bWVudCdzIHN0eWxlc2hlZXRzLlxyXG4gKiBcclxuICogQHBhcmFtIGNzc1NlbGVjdG9yIDogYSBDc3Mgc2VsZWN0b3Igc3RyaW5nIHN1Y2ggYXMgJyNvYmYtVFByb21wdFRpdGxlJ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ3NzU2VsZWN0b3JUb0JlU2V0IChjc3NTZWxlY3Rvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG5cdHRyeSB7XHJcblx0XHRmb3IgKGxldCBzaGVldEluZGV4ID0gMDsgc2hlZXRJbmRleCA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgc2hlZXRJbmRleCsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbc2hlZXRJbmRleF07XHJcblxyXG5cdFx0XHRmb3IgKGxldCBydWxlc0luZGV4ID0gMDsgcnVsZXNJbmRleCA8IGN1cnJlbnRTdHlsZVNoZWV0LnJ1bGVzLmxlbmd0aDsgcnVsZXNJbmRleCsrKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudFJ1bGUgPSBjdXJyZW50U3R5bGVTaGVldC5ydWxlc1tydWxlc0luZGV4XSBhcyBDU1NTdHlsZVJ1bGU7XHJcblxyXG5cdFx0XHRcdGlmICghaXNOT1UoY3VycmVudFJ1bGUuc2VsZWN0b3JUZXh0KSAmJiBjdXJyZW50UnVsZS5zZWxlY3RvclRleHQuaW5jbHVkZXMoY3NzU2VsZWN0b3IpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tZW1wdHlcclxuXHR9IGNhdGNoIChlcnJvcikge31cclxuXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Utils.ts\n");

/***/ }),

/***/ "./scripts/app/Version.ts":
/*!********************************!*\
  !*** ./scripts/app/Version.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\r\n * Version.ts\r\n *\r\n * Module for package version\r\n */\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"0.0.0\");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9WZXJzaW9uLnRzPzA3OTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7OztHQUlHO0FBQ1ksc0VBQU8sRUFBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1ZlcnNpb24udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVmVyc2lvbi50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHBhY2thZ2UgdmVyc2lvblxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgXCIwLjAuMFwiO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Version.ts\n");

/***/ }),

/***/ "./scripts/app/Window/DomUtils.ts":
/*!****************************************!*\
  !*** ./scripts/app/Window/DomUtils.ts ***!
  \****************************************/
/*! exports provided: loadStylesheet, loadScript */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadStylesheet\", function() { return loadStylesheet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadScript\", function() { return loadScript; });\n/*\r\n * DomUtils.ts\r\n *\r\n * Module for page document utility functions\r\n */\r\n/**\r\n * Load the style sheet\r\n * @param url The url of the stylesheet\r\n */\r\nfunction loadStylesheet(url) {\r\n    var link = document.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.type = \"text/css\";\r\n    link.href = url;\r\n    var entry = document.getElementsByTagName(\"script\")[0];\r\n    entry.parentNode.insertBefore(link, entry);\r\n}\r\n/**\r\n * Load the script and callback after it is loaded\r\n * @param url The url of the script\r\n * @param pageOrigin Optional - Origin of the page\r\n */\r\nfunction loadScript(url, pageOrigin) {\r\n    if (pageOrigin === void 0) { pageOrigin = window.origin; }\r\n    return new Promise(function (resolve, reject) {\r\n        var script = document.createElement(\"script\");\r\n        script.async = true;\r\n        if (script.readyState) { // IE\r\n            script.onreadystatechange = function () {\r\n                if (script.readyState === \"loaded\" || script.readyState === \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    resolve();\r\n                }\r\n            };\r\n        }\r\n        else { // Others\r\n            script.onload = function () {\r\n                resolve();\r\n            };\r\n        }\r\n        script.onerror = function () {\r\n            reject();\r\n        };\r\n        script.src = url;\r\n        // don't add if origin is not available or when containing \"null\". This is to mitigate possible\r\n        // unexpected behavior with Chrome when a page hosting this SDK is being tested as a local file.\r\n        // The behavior depends on Chrome.exe's --allow-file-access-from-files setting.\r\n        if (pageOrigin && pageOrigin !== \"null\") {\r\n            script.crossOrigin = \"anonymous\";\r\n        }\r\n        var entry = document.getElementsByTagName(\"script\")[0];\r\n        entry.parentNode.insertBefore(script, entry);\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3cvRG9tVXRpbHMudHM/ZWViMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRUg7OztHQUdHO0FBQ0ksU0FBUyxjQUFjLENBQUMsR0FBVztJQUN6QyxJQUFNLElBQUksR0FBb0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3RCxJQUFJLENBQUMsR0FBRyxHQUFHLFlBQVksQ0FBQztJQUN4QixJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQztJQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUVoQixJQUFNLEtBQUssR0FBc0IsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVFLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNJLFNBQVMsVUFBVSxDQUFDLEdBQVcsRUFBRSxVQUEyQztJQUEzQywwQ0FBc0IsTUFBYyxDQUFDLE1BQU07SUFDbEYsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQU0sTUFBTSxHQUFRLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFcEIsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUUsS0FBSztZQUM3QixNQUFNLENBQUMsa0JBQWtCLEdBQUc7Z0JBQzNCLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxRQUFRLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7b0JBQ3ZFLE1BQU0sQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7b0JBQ2pDLE9BQU8sRUFBRSxDQUFDO2lCQUNWO1lBQ0YsQ0FBQyxDQUFDO1NBQ0Y7YUFBTSxFQUFHLFNBQVM7WUFDbEIsTUFBTSxDQUFDLE1BQU0sR0FBRztnQkFDZixPQUFPLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FBQztTQUNGO1FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRztZQUNoQixNQUFNLEVBQUUsQ0FBQztRQUNWLENBQUMsQ0FBQztRQUVGLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBRWpCLCtGQUErRjtRQUMvRixnR0FBZ0c7UUFDaEcsK0VBQStFO1FBQy9FLElBQUksVUFBVSxJQUFJLFVBQVUsS0FBSyxNQUFNLEVBQUU7WUFDeEMsTUFBTSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7U0FDakM7UUFFRCxJQUFNLEtBQUssR0FBc0IsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM5QyxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9XaW5kb3cvRG9tVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBEb21VdGlscy50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHBhZ2UgZG9jdW1lbnQgdXRpbGl0eSBmdW5jdGlvbnNcclxuICovXHJcblxyXG4vKipcclxuICogTG9hZCB0aGUgc3R5bGUgc2hlZXRcclxuICogQHBhcmFtIHVybCBUaGUgdXJsIG9mIHRoZSBzdHlsZXNoZWV0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFN0eWxlc2hlZXQodXJsOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRjb25zdCBsaW5rOiBIVE1MTGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rLnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRsaW5rLmhyZWYgPSB1cmw7XHJcblxyXG5cdGNvbnN0IGVudHJ5OiBIVE1MU2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO1xyXG5cdGVudHJ5LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpbmssIGVudHJ5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWQgdGhlIHNjcmlwdCBhbmQgY2FsbGJhY2sgYWZ0ZXIgaXQgaXMgbG9hZGVkXHJcbiAqIEBwYXJhbSB1cmwgVGhlIHVybCBvZiB0aGUgc2NyaXB0XHJcbiAqIEBwYXJhbSBwYWdlT3JpZ2luIE9wdGlvbmFsIC0gT3JpZ2luIG9mIHRoZSBwYWdlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNjcmlwdCh1cmw6IHN0cmluZywgcGFnZU9yaWdpbjogc3RyaW5nID0gKHdpbmRvdyBhcyBhbnkpLm9yaWdpbik6IFByb21pc2U8dm9pZD4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCBzY3JpcHQ6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcblx0XHRzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG5cclxuXHRcdGlmIChzY3JpcHQucmVhZHlTdGF0ZSkgeyAvLyBJRVxyXG5cdFx0XHRzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKHNjcmlwdC5yZWFkeVN0YXRlID09PSBcImxvYWRlZFwiIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcclxuXHRcdFx0XHRcdHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7ICAvLyBPdGhlcnNcclxuXHRcdFx0c2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZWplY3QoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcclxuXHJcblx0XHQvLyBkb24ndCBhZGQgaWYgb3JpZ2luIGlzIG5vdCBhdmFpbGFibGUgb3Igd2hlbiBjb250YWluaW5nIFwibnVsbFwiLiBUaGlzIGlzIHRvIG1pdGlnYXRlIHBvc3NpYmxlXHJcblx0XHQvLyB1bmV4cGVjdGVkIGJlaGF2aW9yIHdpdGggQ2hyb21lIHdoZW4gYSBwYWdlIGhvc3RpbmcgdGhpcyBTREsgaXMgYmVpbmcgdGVzdGVkIGFzIGEgbG9jYWwgZmlsZS5cclxuXHRcdC8vIFRoZSBiZWhhdmlvciBkZXBlbmRzIG9uIENocm9tZS5leGUncyAtLWFsbG93LWZpbGUtYWNjZXNzLWZyb20tZmlsZXMgc2V0dGluZy5cclxuXHRcdGlmIChwYWdlT3JpZ2luICYmIHBhZ2VPcmlnaW4gIT09IFwibnVsbFwiKSB7XHJcblx0XHRcdHNjcmlwdC5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZW50cnk6IEhUTUxTY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07XHJcblx0XHRlbnRyeS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGVudHJ5KTtcclxuXHR9KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Window/DomUtils.ts\n");

/***/ }),

/***/ "./scripts/app/Window/Window.ts":
/*!**************************************!*\
  !*** ./scripts/app/Window/Window.ts ***!
  \**************************************/
/*! exports provided: get, getGlobal, setSetUiStrings, setSingleFeedback, setMultiFeedback, setFeedbackStatus, setCreateScreenshot, setIsFeedbackSurveyEnabledByAADC, setFloodgateShowSurvey, setFloodgateShowCustomSurvey, setFloodgateInitialize, setFloodgateStart, setFloodgateStop, setFloodgateGetEngine, getSettingIdMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGlobal\", function() { return getGlobal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSetUiStrings\", function() { return setSetUiStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSingleFeedback\", function() { return setSingleFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMultiFeedback\", function() { return setMultiFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFeedbackStatus\", function() { return setFeedbackStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreateScreenshot\", function() { return setCreateScreenshot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setIsFeedbackSurveyEnabledByAADC\", function() { return setIsFeedbackSurveyEnabledByAADC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateShowSurvey\", function() { return setFloodgateShowSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateShowCustomSurvey\", function() { return setFloodgateShowCustomSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateInitialize\", function() { return setFloodgateInitialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateStart\", function() { return setFloodgateStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateStop\", function() { return setFloodgateStop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateGetEngine\", function() { return setFloodgateGetEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSettingIdMap\", function() { return getSettingIdMap; });\n/**\r\n * Window.ts\r\n *\r\n * Module wrapping around the global window object\r\n */\r\nvar w = window;\r\nvar officeBrowserFeedback = w.OfficeBrowserFeedback = w.OfficeBrowserFeedback || {};\r\nvar floodgate = officeBrowserFeedback.floodgate = officeBrowserFeedback.floodgate || {};\r\n/**\r\n * Get the IWindow object\r\n */\r\nfunction get() { return w; }\r\n/**\r\n * Get the IWindow object\r\n */\r\nfunction getGlobal() { return w; }\r\n/**\r\n * Set the setUiStrings() method\r\n * @param setUiStrings the method\r\n */\r\nfunction setSetUiStrings(setUiStrings) {\r\n    officeBrowserFeedback.setUiStrings = setUiStrings;\r\n}\r\n/**\r\n * Set the singleFeedback() method\r\n * @param singleFeedback the method\r\n */\r\nfunction setSingleFeedback(singleFeedback) {\r\n    officeBrowserFeedback.singleFeedback = singleFeedback;\r\n}\r\n/**\r\n * Set the multiFeedback() method\r\n * @param multiFeedback the method\r\n */\r\nfunction setMultiFeedback(multiFeedback) {\r\n    officeBrowserFeedback.multiFeedback = multiFeedback;\r\n}\r\n/**\r\n * Set the getFeedbackStatus() method\r\n * @param getFeedbackStatus the method\r\n */\r\nfunction setFeedbackStatus(getFeedbackStatus) {\r\n    officeBrowserFeedback.getFeedbackStatus = getFeedbackStatus;\r\n}\r\n/**\r\n * Set the createScreenshot() method\r\n * @param createScreenshot the method\r\n */\r\nfunction setCreateScreenshot(createScreenshot) {\r\n    officeBrowserFeedback.createScreenshot = createScreenshot;\r\n}\r\n/**\r\n * Set the isFeedbackSurveyEnabledByAADC() method\r\n * @param isFeedbackSurveyEnabledByAADC the method\r\n */\r\nfunction setIsFeedbackSurveyEnabledByAADC(isFeedbackSurveyEnabledByAADC) {\r\n    officeBrowserFeedback.isFeedbackSurveyEnabledByAADC = isFeedbackSurveyEnabledByAADC;\r\n}\r\n/**\r\n * Set the floodgate showSurvey() method\r\n * @param floodgateShowSurvey the method\r\n */\r\nfunction setFloodgateShowSurvey(floodgateShowSurvey) {\r\n    floodgate.showSurvey = floodgateShowSurvey;\r\n}\r\n/**\r\n * Set the floodgate showCustomSurvey() method\r\n * @param floodgateShowSurvey the method\r\n */\r\nfunction setFloodgateShowCustomSurvey(floodgateShowCustomSurvey) {\r\n    floodgate.showCustomSurvey = floodgateShowCustomSurvey;\r\n}\r\n/**\r\n * Set the floodgate initialize() method\r\n * @param floodgateInitialize the method\r\n */\r\nfunction setFloodgateInitialize(floodgateInitialize) {\r\n    floodgate.initialize = floodgateInitialize;\r\n}\r\n/**\r\n * Set the floodgate start() method\r\n * @param floodgateStart the method\r\n */\r\nfunction setFloodgateStart(floodgateStart) {\r\n    floodgate.start = floodgateStart;\r\n}\r\n/**\r\n * Set the floodgate stop() method\r\n * @param floodgateStop the method\r\n */\r\nfunction setFloodgateStop(floodgateStop) {\r\n    floodgate.stop = floodgateStop;\r\n}\r\n/**\r\n * Set the floodgate getEngine() method\r\n * @param floodgateGetEngine the method\r\n */\r\nfunction setFloodgateGetEngine(floodgateGetEngine) {\r\n    floodgate.getEngine = floodgateGetEngine;\r\n}\r\n/**\r\n * Set the floodgate getSettingIdMap() method\r\n * @param floodgateSettingIdMap the method\r\n */\r\nfunction getSettingIdMap(floodgateSettingIdMap) {\r\n    floodgate.getSettingIdMap = floodgateSettingIdMap;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3cvV2luZG93LnRzPzc1NzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBVUgsSUFBTSxDQUFDLEdBQUcsTUFBYSxDQUFDO0FBQ3hCLElBQU0scUJBQXFCLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixHQUFHLENBQUMsQ0FBQyxxQkFBcUIsSUFBSSxFQUFFLENBQUM7QUFDdEYsSUFBTSxTQUFTLEdBQUcscUJBQXFCLENBQUMsU0FBUyxHQUFHLHFCQUFxQixDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7QUFFMUY7O0dBRUc7QUFDSSxTQUFTLEdBQUcsS0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFNUM7O0dBRUc7QUFDSSxTQUFTLFNBQVMsS0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFbEQ7OztHQUdHO0FBQ0ksU0FBUyxlQUFlLENBQUMsWUFBaUM7SUFDaEUscUJBQXFCLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztBQUNuRCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FDaEMsY0FBa0c7SUFDakcscUJBQXFCLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztBQUN4RCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxnQkFBZ0IsQ0FDL0IsYUFBMkU7SUFDMUUscUJBQXFCLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztBQUN0RCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FDaEMsaUJBQXVDO0lBQ3RDLHFCQUFxQixDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0FBQzlELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLG1CQUFtQixDQUNsQyxnQkFBc0U7SUFDckUscUJBQXFCLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7QUFDNUQsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsZ0NBQWdDLENBQy9DLDZCQUE0QztJQUMzQyxxQkFBcUIsQ0FBQyw2QkFBNkIsR0FBRyw2QkFBNkIsQ0FBQztBQUN0RixDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxzQkFBc0IsQ0FBQyxtQkFBd0Q7SUFDOUYsU0FBUyxDQUFDLFVBQVUsR0FBRyxtQkFBbUIsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyw0QkFBNEIsQ0FBQyx5QkFBa0U7SUFDOUcsU0FBUyxDQUFDLGdCQUFnQixHQUFHLHlCQUF5QixDQUFDO0FBQ3hELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLHNCQUFzQixDQUFDLG1CQUF1QztJQUM3RSxTQUFTLENBQUMsVUFBVSxHQUFHLG1CQUFtQixDQUFDO0FBQzVDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGlCQUFpQixDQUFDLGNBQWtDO0lBQ25FLFNBQVMsQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDO0FBQ2xDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGdCQUFnQixDQUFDLGFBQXlCO0lBQ3pELFNBQVMsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDO0FBQ2hDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLHFCQUFxQixDQUFDLGtCQUF5QztJQUM5RSxTQUFTLENBQUMsU0FBUyxHQUFHLGtCQUFrQixDQUFDO0FBQzFDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGVBQWUsQ0FBQyxxQkFBbUQ7SUFDbEYsU0FBUyxDQUFDLGVBQWUsR0FBRyxxQkFBcUIsQ0FBQztBQUNuRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvV2luZG93L1dpbmRvdy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBXaW5kb3cudHNcclxuICpcclxuICogTW9kdWxlIHdyYXBwaW5nIGFyb3VuZCB0aGUgZ2xvYmFsIHdpbmRvdyBvYmplY3RcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2sgfSBmcm9tIFwiLi8uLi9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zXCI7XHJcbmltcG9ydCBJQ3VzdG9tU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvSUN1c3RvbVN1cnZleVwiO1xyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvSVVJU3VydmV5XCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1N0YXR1cyB9IGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5cclxuY29uc3QgdyA9IHdpbmRvdyBhcyBhbnk7XHJcbmNvbnN0IG9mZmljZUJyb3dzZXJGZWVkYmFjayA9IHcuT2ZmaWNlQnJvd3NlckZlZWRiYWNrID0gdy5PZmZpY2VCcm93c2VyRmVlZGJhY2sgfHwge307XHJcbmNvbnN0IGZsb29kZ2F0ZSA9IG9mZmljZUJyb3dzZXJGZWVkYmFjay5mbG9vZGdhdGUgPSBvZmZpY2VCcm93c2VyRmVlZGJhY2suZmxvb2RnYXRlIHx8IHt9O1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgSVdpbmRvdyBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQoKTogSVdpbmRvdyB7IHJldHVybiB3OyB9XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBJV2luZG93IG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbCgpOiBJV2luZG93IHsgcmV0dXJuIHc7IH1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIHNldFVpU3RyaW5ncygpIG1ldGhvZFxyXG4gKiBAcGFyYW0gc2V0VWlTdHJpbmdzIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXRVaVN0cmluZ3Moc2V0VWlTdHJpbmdzOiAoZGF0YTogYW55KSA9PiB2b2lkKSB7XHJcblx0b2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNldFVpU3RyaW5ncyA9IHNldFVpU3RyaW5ncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgc2luZ2xlRmVlZGJhY2soKSBtZXRob2RcclxuICogQHBhcmFtIHNpbmdsZUZlZWRiYWNrIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTaW5nbGVGZWVkYmFjayhcclxuXHRzaW5nbGVGZWVkYmFjazogKGZlZWRiYWNrVHlwZTogc3RyaW5nLCBsYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spID0+IFByb21pc2U8YW55Pikge1xyXG5cdFx0b2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNpbmdsZUZlZWRiYWNrID0gc2luZ2xlRmVlZGJhY2s7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIG11bHRpRmVlZGJhY2soKSBtZXRob2RcclxuICogQHBhcmFtIG11bHRpRmVlZGJhY2sgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE11bHRpRmVlZGJhY2soXHJcblx0bXVsdGlGZWVkYmFjazogKGxhdW5jaE9wdGlvbnM6IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjaykgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0XHRvZmZpY2VCcm93c2VyRmVlZGJhY2subXVsdGlGZWVkYmFjayA9IG11bHRpRmVlZGJhY2s7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGdldEZlZWRiYWNrU3RhdHVzKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBnZXRGZWVkYmFja1N0YXR1cyB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmVlZGJhY2tTdGF0dXMoXHJcblx0Z2V0RmVlZGJhY2tTdGF0dXM6ICgpID0+IEZlZWRiYWNrU3RhdHVzKSB7XHJcblx0XHRvZmZpY2VCcm93c2VyRmVlZGJhY2suZ2V0RmVlZGJhY2tTdGF0dXMgPSBnZXRGZWVkYmFja1N0YXR1cztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgY3JlYXRlU2NyZWVuc2hvdCgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gY3JlYXRlU2NyZWVuc2hvdCB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3JlYXRlU2NyZWVuc2hvdChcclxuXHRjcmVhdGVTY3JlZW5zaG90OiAoZG9tRWxlbWVudD86IG9iamVjdCwgb3B0aW9ucz86IGFueSkgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0XHRvZmZpY2VCcm93c2VyRmVlZGJhY2suY3JlYXRlU2NyZWVuc2hvdCA9IGNyZWF0ZVNjcmVlbnNob3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGlzRmVlZGJhY2tTdXJ2ZXlFbmFibGVkQnlBQURDKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBpc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0SXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREMoXHJcblx0aXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREM6ICgpID0+IGJvb2xlYW4pIHtcclxuXHRcdG9mZmljZUJyb3dzZXJGZWVkYmFjay5pc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyA9IGlzRmVlZGJhY2tTdXJ2ZXlFbmFibGVkQnlBQURDO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgc2hvd1N1cnZleSgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlU2hvd1N1cnZleSB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmxvb2RnYXRlU2hvd1N1cnZleShmbG9vZGdhdGVTaG93U3VydmV5OiAoc3VydmV5OiBJVUlTdXJ2ZXkpID0+IFByb21pc2U8YW55Pikge1xyXG5cdGZsb29kZ2F0ZS5zaG93U3VydmV5ID0gZmxvb2RnYXRlU2hvd1N1cnZleTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIHNob3dDdXN0b21TdXJ2ZXkoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZVNob3dTdXJ2ZXkgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVNob3dDdXN0b21TdXJ2ZXkoZmxvb2RnYXRlU2hvd0N1c3RvbVN1cnZleTogKHN1cnZleTogSUN1c3RvbVN1cnZleSkgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0Zmxvb2RnYXRlLnNob3dDdXN0b21TdXJ2ZXkgPSBmbG9vZGdhdGVTaG93Q3VzdG9tU3VydmV5O1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgaW5pdGlhbGl6ZSgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlSW5pdGlhbGl6ZSB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmxvb2RnYXRlSW5pdGlhbGl6ZShmbG9vZGdhdGVJbml0aWFsaXplOiAoKSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRmbG9vZGdhdGUuaW5pdGlhbGl6ZSA9IGZsb29kZ2F0ZUluaXRpYWxpemU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGZsb29kZ2F0ZSBzdGFydCgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlU3RhcnQgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVN0YXJ0KGZsb29kZ2F0ZVN0YXJ0OiAoKSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRmbG9vZGdhdGUuc3RhcnQgPSBmbG9vZGdhdGVTdGFydDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIHN0b3AoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZVN0b3AgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVN0b3AoZmxvb2RnYXRlU3RvcDogKCkgPT4gdm9pZCkge1xyXG5cdGZsb29kZ2F0ZS5zdG9wID0gZmxvb2RnYXRlU3RvcDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIGdldEVuZ2luZSgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlR2V0RW5naW5lIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGbG9vZGdhdGVHZXRFbmdpbmUoZmxvb2RnYXRlR2V0RW5naW5lOiAoKSA9PiBGbG9vZGdhdGVFbmdpbmUpIHtcclxuXHRmbG9vZGdhdGUuZ2V0RW5naW5lID0gZmxvb2RnYXRlR2V0RW5naW5lO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgZ2V0U2V0dGluZ0lkTWFwKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBmbG9vZGdhdGVTZXR0aW5nSWRNYXAgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRpbmdJZE1hcChmbG9vZGdhdGVTZXR0aW5nSWRNYXA6ICgpID0+IElGbG9vZGdhdGVTZXR0aW5nSWRNYXApIHtcclxuXHRmbG9vZGdhdGUuZ2V0U2V0dGluZ0lkTWFwID0gZmxvb2RnYXRlU2V0dGluZ0lkTWFwO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElJbml0T3B0aW9ucyBleHRlbmRzIENvbmZpZ3VyYXRpb24uSUluaXRPcHRpb25zQ29tbW9uLCBDb25maWd1cmF0aW9uLklJbml0T3B0aW9uc0luQXBwRmVlZGJhY2sge1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG9vZGdhdGUge1xyXG5cdGluaXRPcHRpb25zOiBDb25maWd1cmF0aW9uLklJbml0T3B0aW9uc0Zsb29kZ2F0ZTtcclxuXHRzaG93U3VydmV5OiAoc3VydmV5OiBJVUlTdXJ2ZXkpID0+IFByb21pc2U8YW55PjtcclxuXHRpbml0aWFsaXplOiAoKSA9PiBQcm9taXNlPGFueT47XHJcblx0c3RhcnQ6ICgpID0+IFByb21pc2U8YW55PjtcclxuXHRzdG9wOiAoKSA9PiB2b2lkO1xyXG5cdGdldEVuZ2luZTogKCkgPT4gRmxvb2RnYXRlRW5naW5lO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElXaW5kb3cgZXh0ZW5kcyBXaW5kb3dMb2NhbFN0b3JhZ2Uge1xyXG5cdE9mZmljZUJyb3dzZXJGZWVkYmFjazoge1xyXG5cdFx0aW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucztcclxuXHRcdG11bHRpRmVlZGJhY2s6IChsYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spID0+IFByb21pc2U8YW55PjtcclxuXHRcdHNka1ZlcnNpb246IHN0cmluZztcclxuXHRcdHNpbmdsZUZlZWRiYWNrOiAoZmVlZGJhY2tUeXBlOiBzdHJpbmcsIGxhdW5jaE9wdGlvbnM6IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjaykgPT4gUHJvbWlzZTxhbnk+O1xyXG5cdFx0c2V0VWlTdHJpbmdzOiAoZGF0YTogYW55KSA9PiB2b2lkO1xyXG5cdFx0aHRtbDJjYW52YXM6ICgpID0+ICgoZG9tRWxlbWVudD86IG9iamVjdCwgb3B0aW9ucz86IGFueSkgPT4gUHJvbWlzZTxIVE1MQ2FudmFzRWxlbWVudD4pO1xyXG5cdFx0Y3JlYXRlU2NyZWVuc2hvdDogKGRvbUVsZW1lbnQ/OiBvYmplY3QsIG9wdGlvbnM/OiBhbnkpID0+IFByb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+O1xyXG5cdFx0Zmxvb2RnYXRlOiBJRmxvb2RnYXRlO1xyXG5cdFx0aXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREM6ICgpID0+IGJvb2xlYW47XHJcblx0XHRnZXRGZWVkYmFja1N0YXR1czogKCkgPT4gRmVlZGJhY2tTdGF0dXM7XHJcblx0fTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Window/Window.ts\n");

/***/ }),

/***/ "./scripts/app/WindowProperties.ts":
/*!*****************************************!*\
  !*** ./scripts/app/WindowProperties.ts ***!
  \*****************************************/
/*! exports provided: isNarrow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNarrow\", function() { return isNarrow; });\n/**\r\n * WindowProperties.ts\r\n *\r\n * Module to track window properties.\r\n */\r\n/**\r\n * Is the window narrow?\r\n * @returns True if it is, false otherwise\r\n */\r\nfunction isNarrow() {\r\n    var narrowScreenBoundary = 800;\r\n    if (window.innerWidth) {\r\n        return window.innerWidth < narrowScreenBoundary;\r\n    }\r\n    // if we can't find the width; go with narrow.\r\n    return true;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3dQcm9wZXJ0aWVzLnRzP2VkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSDs7O0dBR0c7QUFDSSxTQUFTLFFBQVE7SUFDdkIsSUFBSSxvQkFBb0IsR0FBVyxHQUFHLENBQUM7SUFFdkMsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFO1FBQ3RCLE9BQU8sTUFBTSxDQUFDLFVBQVUsR0FBRyxvQkFBb0IsQ0FBQztLQUNoRDtJQUVELDhDQUE4QztJQUM5QyxPQUFPLElBQUksQ0FBQztBQUNiLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9XaW5kb3dQcm9wZXJ0aWVzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFdpbmRvd1Byb3BlcnRpZXMudHNcclxuICpcclxuICogTW9kdWxlIHRvIHRyYWNrIHdpbmRvdyBwcm9wZXJ0aWVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBJcyB0aGUgd2luZG93IG5hcnJvdz9cclxuICogQHJldHVybnMgVHJ1ZSBpZiBpdCBpcywgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOYXJyb3coKTogYm9vbGVhbiB7XHJcblx0bGV0IG5hcnJvd1NjcmVlbkJvdW5kYXJ5OiBudW1iZXIgPSA4MDA7XHJcblxyXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG5cdFx0cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgbmFycm93U2NyZWVuQm91bmRhcnk7XHJcblx0fVxyXG5cclxuXHQvLyBpZiB3ZSBjYW4ndCBmaW5kIHRoZSB3aWR0aDsgZ28gd2l0aCBuYXJyb3cuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/WindowProperties.ts\n");

/***/ }),

/***/ "./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js":
/*!****************************************************************!*\
  !*** ./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(true)\r\n\t\tmodule.exports = factory();\r\n\telse { var i, a; }\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// identity function for calling harmony imports with the correct context\r\n/******/ \t__webpack_require__.i = function(value) { return value; };\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.primitives.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Int64 = /** @class */ (function () {\r\n    // BUG!!: need implement, currently, just handle 32bits number\r\n    function Int64(numberStr) {\r\n        this.low = 0;\r\n        this.high = 0;\r\n        this.low = parseInt(numberStr, 10);\r\n        if (this.low < 0) {\r\n            this.high = -1;\r\n        }\r\n    }\r\n    Int64.prototype.Equals = function (numberStr) {\r\n        var tmp = new Int64(numberStr);\r\n        return this.low === tmp.low && this.high === tmp.high;\r\n    };\r\n    return Int64;\r\n}());\r\nexports.Int64 = Int64;\r\nvar UInt64 = /** @class */ (function () {\r\n    // BUG!!: need implement, currently, just handle 32bits number\r\n    function UInt64(numberStr) {\r\n        this.low = 0;\r\n        this.high = 0;\r\n        this.low = parseInt(numberStr, 10);\r\n    }\r\n    UInt64.prototype.Equals = function (numberStr) {\r\n        var tmp = new UInt64(numberStr);\r\n        return this.low === tmp.low && this.high === tmp.high;\r\n    };\r\n    return UInt64;\r\n}());\r\nexports.UInt64 = UInt64;\r\nvar Number = /** @class */ (function () {\r\n    function Number() {\r\n    }\r\n    Number.ToByte = function (value) {\r\n        return this.ToUInt8(value);\r\n    };\r\n    Number.ToInt16 = function (value) {\r\n        var signMask = (value & 0x8000) << 16 >> 16;\r\n        return (value & 0x7fff) | signMask;\r\n    };\r\n    Number.ToInt32 = function (value) {\r\n        var signMask = (value & 0x80000000);\r\n        return (value & 0x7fffffff) | signMask;\r\n    };\r\n    Number.ToUInt8 = function (value) {\r\n        return value & 0xff;\r\n    };\r\n    Number.ToUInt32 = function (value) {\r\n        return value & 0xffffffff;\r\n    };\r\n    return Number;\r\n}());\r\nexports.Number = Number;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* Enums.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Common enum values used in the SDK.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AWTPiiKind;\r\n(function (AWTPiiKind) {\r\n    AWTPiiKind[AWTPiiKind[\"NotSet\"] = 0] = \"NotSet\";\r\n    AWTPiiKind[AWTPiiKind[\"DistinguishedName\"] = 1] = \"DistinguishedName\";\r\n    AWTPiiKind[AWTPiiKind[\"GenericData\"] = 2] = \"GenericData\";\r\n    AWTPiiKind[AWTPiiKind[\"IPV4Address\"] = 3] = \"IPV4Address\";\r\n    AWTPiiKind[AWTPiiKind[\"IPv6Address\"] = 4] = \"IPv6Address\";\r\n    AWTPiiKind[AWTPiiKind[\"MailSubject\"] = 5] = \"MailSubject\";\r\n    AWTPiiKind[AWTPiiKind[\"PhoneNumber\"] = 6] = \"PhoneNumber\";\r\n    AWTPiiKind[AWTPiiKind[\"QueryString\"] = 7] = \"QueryString\";\r\n    AWTPiiKind[AWTPiiKind[\"SipAddress\"] = 8] = \"SipAddress\";\r\n    AWTPiiKind[AWTPiiKind[\"SmtpAddress\"] = 9] = \"SmtpAddress\";\r\n    AWTPiiKind[AWTPiiKind[\"Identity\"] = 10] = \"Identity\";\r\n    AWTPiiKind[AWTPiiKind[\"Uri\"] = 11] = \"Uri\";\r\n    AWTPiiKind[AWTPiiKind[\"Fqdn\"] = 12] = \"Fqdn\";\r\n    // Supports scrubbing of the last octet in a IPV4 address. E.g. 10.121.227.147 becomes 10.121.227.*\r\n    AWTPiiKind[AWTPiiKind[\"IPV4AddressLegacy\"] = 13] = \"IPV4AddressLegacy\";\r\n})(AWTPiiKind = exports.AWTPiiKind || (exports.AWTPiiKind = {}));\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* AWTBondSerializer.ts\r\n* Author: Brent Erickson (brericks) and Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class to handler bond serialization.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Bond = __webpack_require__(9);\r\nvar Enums_1 = __webpack_require__(1);\r\nvar Utils = __webpack_require__(3);\r\nvar AWTBondSerializer = /** @class */ (function () {\r\n    function AWTBondSerializer() {\r\n    }\r\n    AWTBondSerializer.getPayloadBlob = function (requestDictionary, tokenCount) {\r\n        var stream = new Bond.IO.MemoryStream();\r\n        var writer = new Bond.CompactBinaryProtocolWriter(stream);\r\n        // Begin ClientCollector request\r\n        //Write TokenToDataPackagesMap\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 3);\r\n        writer.WriteMapContainerBegin(tokenCount, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_LIST);\r\n        Object.keys(requestDictionary).forEach(function (token) {\r\n            //write token\r\n            writer.WriteString(token);\r\n            var dataPackage = requestDictionary[token];\r\n            // Write list of DataPackages\r\n            writer.WriteContainerBegin(1, Bond.BondDataType.BT_STRUCT);\r\n            // Source\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 2);\r\n            writer.WriteString('act_default_source');\r\n            // DataPackageId\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 5);\r\n            writer.WriteString(Utils.newGuid());\r\n            // Timestamp\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_INT64, 6);\r\n            writer.WriteInt64(Utils.numberToBondInt64(Date.now()));\r\n            // Records\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_LIST, 8);\r\n            writer.WriteContainerBegin(dataPackage.length, Bond.BondDataType.BT_STRUCT);\r\n            for (var i = 0; i < dataPackage.length; ++i) {\r\n                writer.WriteBlob(dataPackage[i]);\r\n            }\r\n            writer.WriteStructEnd(false);\r\n        });\r\n        // End ClientCollector\r\n        writer.WriteStructEnd(false);\r\n        return stream.GetBuffer();\r\n    };\r\n    // As per mappings at https://skype.visualstudio.com/SCC/F.S4L.FUNDAMENTALS/_git/infrastructure_data_clienttelemetry?\r\n    // path=%2Fclienttelemetry%2Fsrc%2Fbond%2FDataPackage.bond&version=GBdev2&_a=contents\r\n    // Requires that the values of AWTEventData.properties must all be AWTEventProperty\r\n    AWTBondSerializer.getEventBlob = function (eventData) {\r\n        var stream = new Bond.IO.MemoryStream();\r\n        var writer = new Bond.CompactBinaryProtocolWriter(stream);\r\n        // ID\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 1);\r\n        writer.WriteString(eventData.id);\r\n        // Timestamp\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_INT64, 3);\r\n        writer.WriteInt64(Utils.numberToBondInt64(eventData.timestamp));\r\n        // Type\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 5);\r\n        writer.WriteString(eventData.type);\r\n        // Event Type\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 6);\r\n        writer.WriteString(eventData.name);\r\n        var propsString = [];\r\n        var piiProps = [];\r\n        // Iterate across event data properties and separate based on pii\r\n        Object.keys(eventData.properties).forEach(function (key) {\r\n            var property = eventData.properties[key];\r\n            if (property.pii === Enums_1.AWTPiiKind.NotSet) {\r\n                propsString.push(key);\r\n            }\r\n            else {\r\n                piiProps.push(key);\r\n            }\r\n        });\r\n        //Extension map\r\n        if (propsString.length) {\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 13);\r\n            writer.WriteMapContainerBegin(propsString.length, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_STRING);\r\n            propsString.forEach(function (name) {\r\n                writer.WriteString(name);\r\n                writer.WriteString(eventData.properties[name].value);\r\n            });\r\n        }\r\n        // Pii\r\n        if (piiProps.length) {\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 30);\r\n            writer.WriteMapContainerBegin(piiProps.length, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_STRUCT);\r\n            piiProps.forEach(function (name) {\r\n                writer.WriteString(name);\r\n                // PII Data\r\n                // O365 scrubber type\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_INT32, 1);\r\n                writer.WriteInt32(1);\r\n                // PII Kind\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_INT32, 2);\r\n                writer.WriteInt32(eventData.properties[name].pii);\r\n                // Value\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 3);\r\n                writer.WriteString(eventData.properties[name].value);\r\n                writer.WriteStructEnd(false);\r\n            });\r\n        }\r\n        writer.WriteStructEnd(false);\r\n        return stream.GetBuffer();\r\n    };\r\n    AWTBondSerializer.base64Encode = function (data) {\r\n        return Bond.Encoding.Base64.GetString(data);\r\n    };\r\n    return AWTBondSerializer;\r\n}());\r\nexports.default = AWTBondSerializer;\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* Utils.ts\r\n* Author: Brent Erickson (brericks) and Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Common functions used in the SDK.\r\n*/\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar GuidRegex = /[xy]/g;\r\nfunction numberToBondInt64(value) {\r\n    // Construct bond timestamp for aria\r\n    var bond_value = new microsoft_bond_primitives_1.Int64('0');\r\n    bond_value.low = value & 0xffffffff;\r\n    bond_value.high = Math.floor(value / 0x100000000);\r\n    return bond_value;\r\n}\r\nexports.numberToBondInt64 = numberToBondInt64;\r\nfunction newGuid() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(GuidRegex, function (c) {\r\n        var r = (Math.random() * 16 | 0), v = (c === 'x' ? r : r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\nexports.newGuid = newGuid;\r\nfunction isPii(value) {\r\n    if (!isNaN(value) && value !== null && value >= 0 && value <= 13) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isPii = isPii;\r\n\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* Version.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class for SDK version.\r\n*/\r\nexports.Version = '1.2.2';\r\nexports.FullVersionString = 'AWT-Web-CJS-' + exports.Version;\r\n\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* AriaSDK.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n*/\r\nvar Enums_1 = __webpack_require__(1);\r\nexports.AWTPiiKind = Enums_1.AWTPiiKind;\r\nvar AWT_1 = __webpack_require__(13);\r\nexports.AWT = AWT_1.default;\r\nexports.AWT_COLLECTOR_URL_UNITED_STATES = 'https://us.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_GERMANY = 'https://de.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_JAPAN = 'https://jp.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_AUSTRALIA = 'https://au.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_EUROPE = 'https://eu.pipe.aria.microsoft.com/Collector/3.0/';\r\n\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* bond_const.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//------------------------------------------------------------------------------\r\n// <auto-generated>\r\n//     This code was generated by a tool.\r\n//\r\n//     Tool     : bondc, Version=3.0.1, Build=bond-git.debug.not\r\n//     Template : Microsoft.Bond.Rules.dll#TypeScript.tt\r\n//     File     : bond_const.ts\r\n//\r\n//     Changes to this file may cause incorrect behavior and will be lost when\r\n//     the code is regenerated.\r\n// </auto-generated>\r\n//------------------------------------------------------------------------------\r\nvar BondDataType;\r\n(function (BondDataType) {\r\n    BondDataType[BondDataType[\"BT_STOP\"] = 0] = \"BT_STOP\";\r\n    BondDataType[BondDataType[\"BT_STOP_BASE\"] = 1] = \"BT_STOP_BASE\";\r\n    BondDataType[BondDataType[\"BT_UINT8\"] = 3] = \"BT_UINT8\";\r\n    BondDataType[BondDataType[\"BT_UINT32\"] = 5] = \"BT_UINT32\";\r\n    BondDataType[BondDataType[\"BT_UINT64\"] = 6] = \"BT_UINT64\";\r\n    BondDataType[BondDataType[\"BT_STRING\"] = 9] = \"BT_STRING\";\r\n    BondDataType[BondDataType[\"BT_STRUCT\"] = 10] = \"BT_STRUCT\";\r\n    BondDataType[BondDataType[\"BT_LIST\"] = 11] = \"BT_LIST\";\r\n    BondDataType[BondDataType[\"BT_MAP\"] = 13] = \"BT_MAP\";\r\n    BondDataType[BondDataType[\"BT_INT32\"] = 16] = \"BT_INT32\";\r\n    BondDataType[BondDataType[\"BT_INT64\"] = 17] = \"BT_INT64\";\r\n    BondDataType[BondDataType[\"BT_UNAVAILABLE\"] = 127] = \"BT_UNAVAILABLE\";\r\n})(BondDataType = exports.BondDataType || (exports.BondDataType = {}));\r\n\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.encoding.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar Utf8 = /** @class */ (function () {\r\n    function Utf8() {\r\n    }\r\n    Utf8.GetBytes = function (value) {\r\n        var array = [];\r\n        for (var i = 0; i < value.length; ++i) {\r\n            var char = value.charCodeAt(i);\r\n            if (char < 0x80) {\r\n                array.push(char);\r\n            }\r\n            else if (char < 0x800) {\r\n                array.push(0xc0 | (char >> 6), 0x80 | (char & 0x3f));\r\n            }\r\n            else if (char < 0xd800 || char >= 0xe000) {\r\n                array.push(0xe0 | (char >> 12), 0x80 | ((char >> 6) & 0x3f), 0x80 | (char & 0x3f));\r\n            }\r\n            else {\r\n                char = 0x10000 + (((char & 0x3ff) << 10) | (value.charCodeAt(++i) & 0x3ff));\r\n                array.push(0xf0 | (char >> 18), 0x80 | ((char >> 12) & 0x3f), 0x80 | ((char >> 6) & 0x3f), 0x80 | (char & 0x3f));\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    return Utf8;\r\n}());\r\nexports.Utf8 = Utf8;\r\nvar Base64 = /** @class */ (function () {\r\n    function Base64() {\r\n    }\r\n    Base64.GetString = function (inArray) {\r\n        var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n        var output = [];\r\n        var paddingBytes = inArray.length % 3;\r\n        var toBase64 = function (num) {\r\n            return [lookup.charAt((num >> 18) & 0x3F),\r\n                lookup.charAt((num >> 12) & 0x3F),\r\n                lookup.charAt((num >> 6) & 0x3F),\r\n                lookup.charAt(num & 0x3F)].join('');\r\n        };\r\n        for (var i = 0, length_1 = inArray.length - paddingBytes; i < length_1; i += 3) {\r\n            var temp = (inArray[i] << 16) + (inArray[i + 1] << 8) + (inArray[i + 2]);\r\n            output.push(toBase64(temp));\r\n        }\r\n        switch (paddingBytes) {\r\n            case 1:\r\n                var temp = inArray[inArray.length - 1];\r\n                output.push(lookup.charAt(temp >> 2));\r\n                output.push(lookup.charAt((temp << 4) & 0x3F));\r\n                output.push('==');\r\n                break;\r\n            case 2:\r\n                var temp2 = (inArray[inArray.length - 2] << 8) + (inArray[inArray.length - 1]);\r\n                output.push(lookup.charAt(temp2 >> 10));\r\n                output.push(lookup.charAt((temp2 >> 4) & 0x3F));\r\n                output.push(lookup.charAt((temp2 << 2) & 0x3F));\r\n                output.push('=');\r\n                break;\r\n        }\r\n        return output.join('');\r\n    };\r\n    return Base64;\r\n}());\r\nexports.Base64 = Base64;\r\nvar Varint = /** @class */ (function () {\r\n    function Varint() {\r\n    }\r\n    Varint.GetBytes = function (value) {\r\n        var array = [];\r\n        while (value & 0xffffff80) {\r\n            array.push((value & 0x7f) | 0x80);\r\n            value >>>= 7;\r\n        }\r\n        array.push(value & 0x7f);\r\n        return array;\r\n    };\r\n    return Varint;\r\n}());\r\nexports.Varint = Varint;\r\nvar Varint64 = /** @class */ (function () {\r\n    function Varint64() {\r\n    }\r\n    Varint64.GetBytes = function (value) {\r\n        var low = value.low;\r\n        var high = value.high;\r\n        var array = [];\r\n        while (high || (0xffffff80 & low)) {\r\n            array.push((low & 0x7f) | 0x80);\r\n            low = ((high & 0x7f) << 25) | (low >>> 7);\r\n            high >>>= 7;\r\n        }\r\n        array.push(low & 0x7f);\r\n        return array;\r\n    };\r\n    return Varint64;\r\n}());\r\nexports.Varint64 = Varint64;\r\nvar Zigzag = /** @class */ (function () {\r\n    function Zigzag() {\r\n    }\r\n    Zigzag.EncodeZigzag32 = function (value) {\r\n        value = microsoft_bond_primitives_1.Number.ToInt32(value);\r\n        return ((value << 1) ^ (value >> (4 /*sizeof(int)*/ * 8 - 1)));\r\n    };\r\n    Zigzag.EncodeZigzag64 = function (value) {\r\n        var low = value.low;\r\n        var high = value.high;\r\n        var tmpH = (high << 1) | (low >>> 31);\r\n        var tmpL = low << 1;\r\n        if (high & 0x80000000) {\r\n            tmpH = ~tmpH;\r\n            tmpL = ~tmpL;\r\n        }\r\n        var res = new microsoft_bond_primitives_1.UInt64('0');\r\n        res.low = tmpL;\r\n        res.high = tmpH;\r\n        return res;\r\n    };\r\n    return Zigzag;\r\n}());\r\nexports.Zigzag = Zigzag;\r\n\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.io.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar MemoryStream = /** @class */ (function () {\r\n    function MemoryStream() {\r\n        this._buffer = [];\r\n    }\r\n    /*override*/\r\n    MemoryStream.prototype.WriteByte = function (byte) {\r\n        this._buffer.push(microsoft_bond_primitives_1.Number.ToByte(byte));\r\n    };\r\n    /*override*/\r\n    MemoryStream.prototype.Write = function (buffer, offset, count) {\r\n        while (count--) {\r\n            this.WriteByte(buffer[offset++]);\r\n        }\r\n    };\r\n    /**\r\n     * Returns the array of unsigned bytes from which this stream was created.\r\n     */\r\n    MemoryStream.prototype.GetBuffer = function () {\r\n        return this._buffer;\r\n    };\r\n    return MemoryStream;\r\n}());\r\nexports.MemoryStream = MemoryStream;\r\n\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bond_const_1 = __webpack_require__(6);\r\nexports.BondDataType = bond_const_1.BondDataType;\r\nvar Encoding = __webpack_require__(7);\r\nexports.Encoding = Encoding;\r\nvar IO = __webpack_require__(8);\r\nexports.IO = IO;\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nexports.Int64 = microsoft_bond_primitives_1.Int64;\r\nexports.UInt64 = microsoft_bond_primitives_1.UInt64;\r\nexports.Number = microsoft_bond_primitives_1.Number;\r\nvar CompactBinaryProtocolWriter = /** @class */ (function () {\r\n    function CompactBinaryProtocolWriter(stream) {\r\n        this._stream = stream;\r\n    }\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteBlob = function (blob) {\r\n        this._stream.Write(blob, 0, blob.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteContainerBegin = function (size, elementType) {\r\n        this.WriteUInt8(elementType);\r\n        this.WriteUInt32(size);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteMapContainerBegin = function (size, keyType, valueType) {\r\n        this.WriteUInt8(keyType);\r\n        this.WriteUInt8(valueType);\r\n        this.WriteUInt32(size);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteFieldBegin = function (type, id) {\r\n        if (id <= 5) {\r\n            this._stream.WriteByte(type | (id << 5));\r\n        }\r\n        else if (id <= 0xff) {\r\n            this._stream.WriteByte(type | (6 << 5));\r\n            this._stream.WriteByte(id);\r\n        }\r\n        else {\r\n            this._stream.WriteByte(type | (7 << 5));\r\n            this._stream.WriteByte(id);\r\n            this._stream.WriteByte(id >> 8);\r\n        }\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteInt32 = function (value) {\r\n        value = Encoding.Zigzag.EncodeZigzag32(value);\r\n        this.WriteUInt32(value);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteInt64 = function (value) {\r\n        this.WriteUInt64(Encoding.Zigzag.EncodeZigzag64(value));\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteString = function (value) {\r\n        if (value === '') {\r\n            this.WriteUInt32(0 /*length*/);\r\n        }\r\n        else {\r\n            var array = Encoding.Utf8.GetBytes(value);\r\n            this.WriteUInt32(array.length);\r\n            this._stream.Write(array, 0, array.length);\r\n        }\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteStructEnd = function (isBase) {\r\n        this.WriteUInt8(isBase ? bond_const_1.BondDataType.BT_STOP_BASE : bond_const_1.BondDataType.BT_STOP);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt32 = function (value) {\r\n        var array = Encoding.Varint.GetBytes(microsoft_bond_primitives_1.Number.ToUInt32(value));\r\n        this._stream.Write(array, 0, array.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt64 = function (value) {\r\n        var array = Encoding.Varint64.GetBytes(value);\r\n        this._stream.Write(array, 0, array.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt8 = function (value) {\r\n        this._stream.WriteByte(microsoft_bond_primitives_1.Number.ToUInt8(value));\r\n    };\r\n    return CompactBinaryProtocolWriter;\r\n}());\r\nexports.CompactBinaryProtocolWriter = CompactBinaryProtocolWriter;\r\n\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SecToMsMultiplier = 1000;\r\nvar AWTKillSwitch = /** @class */ (function () {\r\n    function AWTKillSwitch() {\r\n        this._killedTokenDictionary = {};\r\n    }\r\n    AWTKillSwitch.prototype.setKillSwitchTenants = function (killTokens, killDuration) {\r\n        var _this = this;\r\n        if (killTokens && killDuration) {\r\n            try {\r\n                var killedTokens = killTokens.split(',');\r\n                if (killDuration === 'this-request-only') {\r\n                    return killedTokens;\r\n                }\r\n                var durationMs_1 = parseInt(killDuration, 10) * SecToMsMultiplier;\r\n                killedTokens.forEach(function (token) {\r\n                    _this._killedTokenDictionary[token] = Date.now() + durationMs_1;\r\n                });\r\n            }\r\n            catch (ex) {\r\n                return [];\r\n            }\r\n        }\r\n        return [];\r\n    };\r\n    AWTKillSwitch.prototype.isTenantKilled = function (tenantToken) {\r\n        if (this._killedTokenDictionary[tenantToken] !== undefined && this._killedTokenDictionary[tenantToken] > Date.now()) {\r\n            return true;\r\n        }\r\n        delete this._killedTokenDictionary[tenantToken];\r\n        return false;\r\n    };\r\n    return AWTKillSwitch;\r\n}());\r\nexports.default = AWTKillSwitch;\r\n\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AWTBondSerializer_1 = __webpack_require__(2);\r\nvar AWTRecordBatcher = /** @class */ (function () {\r\n    function AWTRecordBatcher(_maxRequestSize, _outboundQueue) {\r\n        this._maxRequestSize = _maxRequestSize;\r\n        this._outboundQueue = _outboundQueue;\r\n        this._currentBatch = {};\r\n        this._currentBatchSize = 0;\r\n    }\r\n    AWTRecordBatcher.prototype.addEventToBatch = function (event) {\r\n        var serializedEvent = AWTBondSerializer_1.default.getEventBlob(event);\r\n        if (serializedEvent.length > this._maxRequestSize) {\r\n            //single event too big\r\n            return;\r\n        }\r\n        if (this._currentBatchSize + serializedEvent.length > this._maxRequestSize) {\r\n            this.flushBatch();\r\n        }\r\n        else {\r\n            if (this._currentBatch[event.tenantToken] === undefined) {\r\n                this._currentBatch[event.tenantToken] = [];\r\n            }\r\n            this._currentBatch[event.tenantToken].push(serializedEvent);\r\n            this._currentBatchSize += serializedEvent.length;\r\n        }\r\n    };\r\n    AWTRecordBatcher.prototype.flushBatch = function () {\r\n        if (this._currentBatchSize > 0) {\r\n            this._outboundQueue.push(this._currentBatch);\r\n            this._currentBatch = {};\r\n            this._currentBatchSize = 0;\r\n        }\r\n    };\r\n    return AWTRecordBatcher;\r\n}());\r\nexports.default = AWTRecordBatcher;\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* AWTRetryPolicy.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class for retry policy.\r\n*/\r\nvar RandomizationLowerThreshold = 0.8;\r\nvar RandomizationUpperThreshold = 1.2;\r\nvar BaseBackoff = 3000;\r\nvar MaxBackoff = 120000;\r\nvar AWTRetryPolicy = /** @class */ (function () {\r\n    function AWTRetryPolicy() {\r\n    }\r\n    AWTRetryPolicy.shouldRetryForStatus = function (httpStatusCode) {\r\n        /* The below expression reads that we should only retry for:\r\n            - HttpStatusCodes that are smaller than 300.\r\n            - HttpStatusCodes greater or equal to 500 (except for 501-NotImplement\r\n              and 505-HttpVersionNotSupport).\r\n            - HttpStatusCode 408-RequestTimeout.\r\n           This is based on Microsoft.WindowsAzure.Storage.RetryPolicies.ExponentialRetry class */\r\n        return !((httpStatusCode >= 300 && httpStatusCode < 500 && httpStatusCode !== 408)\r\n            || (httpStatusCode === 501)\r\n            || (httpStatusCode === 505));\r\n    };\r\n    AWTRetryPolicy.getMillisToBackoffForRetry = function (retriesSoFar) {\r\n        var waitDuration = 0;\r\n        var minBackoff = BaseBackoff * RandomizationLowerThreshold;\r\n        var maxBackoff = BaseBackoff * RandomizationUpperThreshold;\r\n        var randomBackoff = Math.floor(Math.random() * (maxBackoff - minBackoff)) + minBackoff;\r\n        waitDuration = Math.pow(4, retriesSoFar) * randomBackoff;\r\n        return Math.min(waitDuration, MaxBackoff);\r\n    };\r\n    return AWTRetryPolicy;\r\n}());\r\nexports.default = AWTRetryPolicy;\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Enums_1 = __webpack_require__(1);\r\nvar AWTTransmissionManager_1 = __webpack_require__(14);\r\nvar Utils = __webpack_require__(3);\r\nvar Version = __webpack_require__(4);\r\nvar AllTokens = 'allTkns';\r\nvar EventNameAndTypeRegex = /^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/;\r\nvar EventNameDotRegex = /\\./g;\r\nvar PropertyNameRegex = /^[a-zA-Z0-9](([a-zA-Z0-9|_|\\.]){0,98}[a-zA-Z0-9])?$/;\r\nvar AWT = /** @class */ (function () {\r\n    function AWT() {\r\n    }\r\n    AWT.initialize = function (tenantToken, configuration) {\r\n        if (configuration === void 0) { configuration = {}; }\r\n        if (this._isInitialized) {\r\n            // tslint:disable-next-line\r\n            throw 'Already Initialized';\r\n        }\r\n        this._defaultTenantToken = tenantToken;\r\n        this._overrideValuesFromConfig(configuration);\r\n        //Create sender\r\n        AWTTransmissionManager_1.default.initialize(this._config);\r\n        this._isInitialized = true;\r\n    };\r\n    AWT.flush = function (callback) {\r\n        if (this._isInitialized && !this._isDestroyed) {\r\n            AWTTransmissionManager_1.default.flush(callback);\r\n        }\r\n    };\r\n    AWT.flushAndTeardown = function () {\r\n        if (this._isInitialized && !this._isDestroyed) {\r\n            this._isDestroyed = true;\r\n            AWTTransmissionManager_1.default.flushAndTeardown();\r\n        }\r\n    };\r\n    AWT.setContext = function (name, property, tenantToken) {\r\n        if (tenantToken === void 0) { tenantToken = AllTokens; }\r\n        property = this._sanitizeProperty(name, property);\r\n        if (property === null) {\r\n            return;\r\n        }\r\n        if (!this._contextProperties[tenantToken]) {\r\n            this._contextProperties[tenantToken] = {};\r\n        }\r\n        this._contextProperties[tenantToken][name] = property;\r\n    };\r\n    AWT.logEvent = function (event) {\r\n        var _this = this;\r\n        if (this._isInitialized) {\r\n            if (!event.name || !event.properties) {\r\n                return;\r\n            }\r\n            event.name = event.name.toLowerCase();\r\n            event.name.replace(EventNameDotRegex, '_');\r\n            var typePrefix = '';\r\n            if (!event.type) {\r\n                event.type = 'custom';\r\n            }\r\n            else {\r\n                event.type.toLowerCase();\r\n                typePrefix = 'custom.';\r\n            }\r\n            if (!EventNameAndTypeRegex.test(event.name) || !EventNameAndTypeRegex.test(event.type)) {\r\n                return;\r\n            }\r\n            event.type = typePrefix + event.type;\r\n            if (isNaN(event.timestamp)) {\r\n                event.timestamp = (new Date()).getTime();\r\n            }\r\n            if (!event.tenantToken) {\r\n                event.tenantToken = this._defaultTenantToken;\r\n            }\r\n            event.id = Utils.newGuid();\r\n            Object.keys(event.properties).forEach(function (name) {\r\n                event.properties[name] = _this._sanitizeProperty(name, event.properties[name]);\r\n                if (event.properties[name] === null) {\r\n                    delete event.properties[name];\r\n                }\r\n            });\r\n            this._addContextIfAbsent(event, event.tenantToken);\r\n            this._addContextIfAbsent(event, AllTokens);\r\n            if (Object.keys(event.properties).length === 0) {\r\n                return;\r\n            }\r\n            this._setDefaultProperty(event, 'EventInfo.InitId', this._getInitId(event.tenantToken));\r\n            this._setDefaultProperty(event, 'EventInfo.Sequence', this._getSequenceId(event.tenantToken));\r\n            this._setDefaultProperty(event, 'EventInfo.SdkVersion', Version.FullVersionString);\r\n            this._setDefaultProperty(event, 'EventInfo.Name', event.name);\r\n            this._setDefaultProperty(event, 'EventInfo.Time', (new Date(event.timestamp)).toISOString());\r\n            AWTTransmissionManager_1.default.sendEvent(event);\r\n        }\r\n    };\r\n    AWT._overrideValuesFromConfig = function (config) {\r\n        if (config.collectorUrl) {\r\n            this._config.collectorUrl = config.collectorUrl;\r\n        }\r\n        if (config.sendingTimer > 1000) {\r\n            this._config.sendingTimer = config.sendingTimer;\r\n        }\r\n    };\r\n    AWT._getInitId = function (tenantToken) {\r\n        if (this._initIdMap[tenantToken] === undefined) {\r\n            this._initIdMap[tenantToken] = Utils.newGuid();\r\n        }\r\n        return this._initIdMap[tenantToken];\r\n    };\r\n    AWT._getSequenceId = function (tenantToken) {\r\n        if (this._sequenceIdMap[tenantToken] === undefined) {\r\n            this._sequenceIdMap[tenantToken] = 0;\r\n        }\r\n        return (++this._sequenceIdMap[tenantToken]).toString();\r\n    };\r\n    AWT._setDefaultProperty = function (event, name, value) {\r\n        event.properties[name] = { value: value, pii: Enums_1.AWTPiiKind.NotSet };\r\n    };\r\n    AWT._addContextIfAbsent = function (event, tenantToken) {\r\n        if (this._contextProperties[tenantToken]) {\r\n            var context_1 = this._contextProperties[tenantToken];\r\n            Object.keys(context_1).forEach(function (name) {\r\n                if (!event.properties[name]) {\r\n                    event.properties[name] = context_1[name];\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AWT._sanitizeProperty = function (name, property) {\r\n        if (typeof property === 'string' || typeof property === 'number' || typeof property === 'boolean') {\r\n            property = { value: property };\r\n        }\r\n        if (!PropertyNameRegex.test(name) || property === undefined || property === null\r\n            || property.value === null || property.value === undefined || property.value === '') {\r\n            return null;\r\n        }\r\n        if (typeof property.pii === 'undefined') {\r\n            property.pii = Enums_1.AWTPiiKind.NotSet;\r\n        }\r\n        property.value = property.value.toString();\r\n        return Utils.isPii(property.pii) ? property : null;\r\n    };\r\n    AWT._isInitialized = false;\r\n    AWT._isDestroyed = false;\r\n    AWT._contextProperties = {};\r\n    AWT._sequenceIdMap = {};\r\n    AWT._initIdMap = {};\r\n    AWT._config = {\r\n        collectorUrl: 'https://browser.pipe.aria.microsoft.com/Collector/3.0/',\r\n        sendingTimer: 1000\r\n    };\r\n    return AWT;\r\n}());\r\nexports.default = AWT;\r\n\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AWTRecordBatcher_1 = __webpack_require__(11);\r\nvar AWTBondSerializer_1 = __webpack_require__(2);\r\nvar AWTRetryPolicy_1 = __webpack_require__(12);\r\nvar AWTKillSwitch_1 = __webpack_require__(10);\r\nvar Version = __webpack_require__(4);\r\nvar FlushCheckTimer = 250;\r\nvar RequestSizeLimitBytes = 2936012; //approx 2.8 Mb\r\nvar MaxRetries = 4;\r\nvar AWTTransmissionManager = /** @class */ (function () {\r\n    function AWTTransmissionManager() {\r\n    }\r\n    AWTTransmissionManager.initialize = function (config) {\r\n        this._inboundQueues.push([]);\r\n        this._recordBatcher = new AWTRecordBatcher_1.default(RequestSizeLimitBytes, this._outboundQueue);\r\n        this._newEventsAllowed = true;\r\n        if (typeof Uint8Array === 'undefined') {\r\n            this._urlString += '&content-encoding=base64';\r\n        }\r\n        this._sendingTimer = config.sendingTimer;\r\n        this._urlString = config.collectorUrl + this._urlString + '&x-apikey=';\r\n    };\r\n    //Push the event into the inbound queue and return\r\n    AWTTransmissionManager.sendEvent = function (event) {\r\n        var _this = this;\r\n        if (this._newEventsAllowed) {\r\n            //Add event to the last inbound queue\r\n            this._inboundQueues[this._inboundQueues.length - 1].push(event);\r\n            if (!this._running && this._timeout < 0 && !this._isCurrentlyFlushing) {\r\n                this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, this._sendingTimer);\r\n            }\r\n        }\r\n    };\r\n    AWTTransmissionManager.flushAndTeardown = function () {\r\n        this._newEventsAllowed = false;\r\n        this._batchAndSendEvents(true);\r\n    };\r\n    AWTTransmissionManager.flush = function (callback) {\r\n        this._inboundQueues.push([]);\r\n        if (!this._isCurrentlyFlushing) {\r\n            this._isCurrentlyFlushing = true;\r\n            this._flush(callback);\r\n        }\r\n        else {\r\n            this._flushQueue.push(callback);\r\n        }\r\n    };\r\n    AWTTransmissionManager._batchAndSendEvents = function (isTeardown) {\r\n        this._running = true;\r\n        while (this._inboundQueues[0].length > 0 && this._outboundQueue.length < 1) {\r\n            this._recordBatcher.addEventToBatch(this._inboundQueues[0].pop());\r\n        }\r\n        if (this._outboundQueue.length === 0) {\r\n            this._recordBatcher.flushBatch();\r\n        }\r\n        this._sendRequest(this._outboundQueue.pop(), 0, isTeardown);\r\n    };\r\n    AWTTransmissionManager._retryRequestIfNeeded = function (conn, request, tokenCount, apikey, retryCount) {\r\n        var _this = this;\r\n        var shouldRetry = true;\r\n        if (conn && typeof conn.status !== 'undefined') {\r\n            var killedTokens = this._killSwitch.setKillSwitchTenants(conn.getResponseHeader('kill-tokens'), conn.getResponseHeader('kill-duration-seconds'));\r\n            killedTokens.forEach(function (key) {\r\n                delete request[key];\r\n                tokenCount--;\r\n            });\r\n            if (!AWTRetryPolicy_1.default.shouldRetryForStatus(conn.status) || tokenCount <= 0) {\r\n                shouldRetry = false;\r\n            }\r\n        }\r\n        if (shouldRetry && retryCount < MaxRetries) {\r\n            setTimeout(function () { return _this._sendRequest(request, retryCount + 1, false); }, AWTRetryPolicy_1.default.getMillisToBackoffForRetry(retryCount));\r\n        }\r\n        else {\r\n            this._handleRequestFinished(null);\r\n        }\r\n    };\r\n    AWTTransmissionManager._sendRequest = function (request, retryCount, isTeardown) {\r\n        var _this = this;\r\n        try {\r\n            var conn_1 = new XMLHttpRequest();\r\n            var tokenCount_1 = 0;\r\n            var apikey_1 = '';\r\n            Object.keys(request).forEach(function (token) {\r\n                if (!_this._killSwitch.isTenantKilled(token)) {\r\n                    if (apikey_1.length > 0) {\r\n                        apikey_1 += ',';\r\n                    }\r\n                    apikey_1 += token;\r\n                    tokenCount_1++;\r\n                }\r\n                else {\r\n                    delete request[token];\r\n                }\r\n            });\r\n            conn_1.open('POST', this._urlString + apikey_1, !isTeardown);\r\n            if (!isTeardown) {\r\n                conn_1.ontimeout = function () {\r\n                    _this._retryRequestIfNeeded(conn_1, request, tokenCount_1, apikey_1, retryCount);\r\n                };\r\n                conn_1.onerror = function () {\r\n                    _this._retryRequestIfNeeded(conn_1, request, tokenCount_1, apikey_1, retryCount);\r\n                };\r\n                conn_1.onload = function () {\r\n                    _this._handleRequestFinished(conn_1);\r\n                };\r\n            }\r\n            if (tokenCount_1 > 0) {\r\n                var blob = AWTBondSerializer_1.default.getPayloadBlob(request, tokenCount_1);\r\n                if (typeof Uint8Array === 'undefined') {\r\n                    conn_1.send(AWTBondSerializer_1.default.base64Encode(blob));\r\n                }\r\n                else {\r\n                    conn_1.send(new Uint8Array(blob));\r\n                }\r\n            }\r\n            else if (isTeardown) {\r\n                this._handleRequestFinished(null);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._handleRequestFinished(null);\r\n        }\r\n    };\r\n    AWTTransmissionManager._handleRequestFinished = function (conn) {\r\n        var _this = this;\r\n        if (conn) {\r\n            this._killSwitch.setKillSwitchTenants(conn.getResponseHeader('kill-tokens'), conn.getResponseHeader('kill-duration-seconds'));\r\n        }\r\n        if (this._inboundQueues[0].length > 0) {\r\n            this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, this._sendingTimer);\r\n        }\r\n        else {\r\n            this._timeout = -1;\r\n            this._running = false;\r\n        }\r\n    };\r\n    AWTTransmissionManager._flush = function (callback) {\r\n        var _this = this;\r\n        if (!this._running) {\r\n            if (this._timeout > -1) {\r\n                clearTimeout(this._timeout);\r\n                this._timeout = -1;\r\n            }\r\n            if (this._inboundQueues[0].length > 0) {\r\n                this._batchAndSendEvents(false);\r\n            }\r\n        }\r\n        this._checkPrimaryInboundQueueEmpty(function () {\r\n            //Move the next queue to be primary\r\n            _this._inboundQueues.shift();\r\n            if (callback !== null && callback !== undefined) {\r\n                callback();\r\n            }\r\n            if (_this._flushQueue.length > 0) {\r\n                setTimeout(function () { return _this._flush(_this._flushQueue.shift()); }, _this._sendingTimer);\r\n            }\r\n            else {\r\n                _this._isCurrentlyFlushing = false;\r\n                if (_this._inboundQueues[0].length > 0) {\r\n                    _this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, _this._sendingTimer);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    AWTTransmissionManager._checkPrimaryInboundQueueEmpty = function (callback) {\r\n        var _this = this;\r\n        if (this._inboundQueues[0].length === 0) {\r\n            this._checkOutboundQueueEmptyAndSent(callback);\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this._checkPrimaryInboundQueueEmpty(callback); }, FlushCheckTimer);\r\n        }\r\n    };\r\n    AWTTransmissionManager._checkOutboundQueueEmptyAndSent = function (callback) {\r\n        var _this = this;\r\n        if (!this._running) {\r\n            callback();\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this._checkOutboundQueueEmptyAndSent(callback); }, FlushCheckTimer);\r\n        }\r\n    };\r\n    AWTTransmissionManager._outboundQueue = [];\r\n    AWTTransmissionManager._inboundQueues = [];\r\n    AWTTransmissionManager._newEventsAllowed = false;\r\n    AWTTransmissionManager._killSwitch = new AWTKillSwitch_1.default();\r\n    AWTTransmissionManager._isCurrentlyFlushing = false;\r\n    AWTTransmissionManager._flushQueue = [];\r\n    AWTTransmissionManager._running = false;\r\n    AWTTransmissionManager._timeout = -1;\r\n    AWTTransmissionManager._urlString = '?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version='\r\n        + Version.FullVersionString;\r\n    return AWTTransmissionManager;\r\n}());\r\nexports.default = AWTTransmissionManager;\r\n\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nmodule.exports = __webpack_require__(5);\r\n\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=aria-webjs-compact-sdk-1.2.2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2FyaWEtd2VianMtY29tcGFjdC1zZGstMS4yLjIuanM/YzRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLElBQUksSUFBeUQ7QUFDN0Q7QUFDQSxNQUFNLGFBS0o7QUFDRixDQUFDO0FBQ0Qsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEIsRUFBRTtBQUMvRCx5Q0FBeUMsZUFBZTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELCtEQUErRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUEsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7O0FBR0EsT0FB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QUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx5Q0FBeUMsRUFBRTtBQUN4RztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVEQUF1RCxFQUFFO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQXdELEVBQUU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2FyaWEtd2VianMtY29tcGFjdC1zZGstMS4yLjIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xyXG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JylcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxyXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcclxuXHRlbHNlIHtcclxuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xyXG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xyXG5cdH1cclxufSkodGhpcywgZnVuY3Rpb24oKSB7XHJcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXHJcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxyXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cclxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcclxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcclxuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxyXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXHJcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxyXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xyXG4vKioqKioqL1xyXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXHJcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XHJcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH07XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xyXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcclxuLyoqKioqKi8gXHR9O1xyXG4vKioqKioqL1xyXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXHJcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTUpO1xyXG4vKioqKioqLyB9KVxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKioqKioqLyAoW1xyXG4vKiAwICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogbWljcm9zb2Z0LmJvbmQucHJpbWl0aXZlcy50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSW50NjQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBCVUchITogbmVlZCBpbXBsZW1lbnQsIGN1cnJlbnRseSwganVzdCBoYW5kbGUgMzJiaXRzIG51bWJlclxyXG4gICAgZnVuY3Rpb24gSW50NjQobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdGhpcy5sb3cgPSAwO1xyXG4gICAgICAgIHRoaXMuaGlnaCA9IDA7XHJcbiAgICAgICAgdGhpcy5sb3cgPSBwYXJzZUludChudW1iZXJTdHIsIDEwKTtcclxuICAgICAgICBpZiAodGhpcy5sb3cgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEludDY0LnByb3RvdHlwZS5FcXVhbHMgPSBmdW5jdGlvbiAobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IG5ldyBJbnQ2NChudW1iZXJTdHIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvdyA9PT0gdG1wLmxvdyAmJiB0aGlzLmhpZ2ggPT09IHRtcC5oaWdoO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnQ2NDtcclxufSgpKTtcclxuZXhwb3J0cy5JbnQ2NCA9IEludDY0O1xyXG52YXIgVUludDY0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gQlVHISE6IG5lZWQgaW1wbGVtZW50LCBjdXJyZW50bHksIGp1c3QgaGFuZGxlIDMyYml0cyBudW1iZXJcclxuICAgIGZ1bmN0aW9uIFVJbnQ2NChudW1iZXJTdHIpIHtcclxuICAgICAgICB0aGlzLmxvdyA9IDA7XHJcbiAgICAgICAgdGhpcy5oaWdoID0gMDtcclxuICAgICAgICB0aGlzLmxvdyA9IHBhcnNlSW50KG51bWJlclN0ciwgMTApO1xyXG4gICAgfVxyXG4gICAgVUludDY0LnByb3RvdHlwZS5FcXVhbHMgPSBmdW5jdGlvbiAobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IG5ldyBVSW50NjQobnVtYmVyU3RyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb3cgPT09IHRtcC5sb3cgJiYgdGhpcy5oaWdoID09PSB0bXAuaGlnaDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVUludDY0O1xyXG59KCkpO1xyXG5leHBvcnRzLlVJbnQ2NCA9IFVJbnQ2NDtcclxudmFyIE51bWJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE51bWJlcigpIHtcclxuICAgIH1cclxuICAgIE51bWJlci5Ub0J5dGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Ub1VJbnQ4KHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9JbnQxNiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaWduTWFzayA9ICh2YWx1ZSAmIDB4ODAwMCkgPDwgMTYgPj4gMTY7XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmIDB4N2ZmZikgfCBzaWduTWFzaztcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9JbnQzMiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaWduTWFzayA9ICh2YWx1ZSAmIDB4ODAwMDAwMDApO1xyXG4gICAgICAgIHJldHVybiAodmFsdWUgJiAweDdmZmZmZmZmKSB8IHNpZ25NYXNrO1xyXG4gICAgfTtcclxuICAgIE51bWJlci5Ub1VJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICYgMHhmZjtcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9VSW50MzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgJiAweGZmZmZmZmZmO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBOdW1iZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuTnVtYmVyID0gTnVtYmVyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogRW51bXMudHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENvbW1vbiBlbnVtIHZhbHVlcyB1c2VkIGluIHRoZSBTREsuXHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEFXVFBpaUtpbmQ7XHJcbihmdW5jdGlvbiAoQVdUUGlpS2luZCkge1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiTm90U2V0XCJdID0gMF0gPSBcIk5vdFNldFwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiRGlzdGluZ3Vpc2hlZE5hbWVcIl0gPSAxXSA9IFwiRGlzdGluZ3Vpc2hlZE5hbWVcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIkdlbmVyaWNEYXRhXCJdID0gMl0gPSBcIkdlbmVyaWNEYXRhXCI7XHJcbiAgICBBV1RQaWlLaW5kW0FXVFBpaUtpbmRbXCJJUFY0QWRkcmVzc1wiXSA9IDNdID0gXCJJUFY0QWRkcmVzc1wiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiSVB2NkFkZHJlc3NcIl0gPSA0XSA9IFwiSVB2NkFkZHJlc3NcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIk1haWxTdWJqZWN0XCJdID0gNV0gPSBcIk1haWxTdWJqZWN0XCI7XHJcbiAgICBBV1RQaWlLaW5kW0FXVFBpaUtpbmRbXCJQaG9uZU51bWJlclwiXSA9IDZdID0gXCJQaG9uZU51bWJlclwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiUXVlcnlTdHJpbmdcIl0gPSA3XSA9IFwiUXVlcnlTdHJpbmdcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIlNpcEFkZHJlc3NcIl0gPSA4XSA9IFwiU2lwQWRkcmVzc1wiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiU210cEFkZHJlc3NcIl0gPSA5XSA9IFwiU210cEFkZHJlc3NcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIklkZW50aXR5XCJdID0gMTBdID0gXCJJZGVudGl0eVwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiVXJpXCJdID0gMTFdID0gXCJVcmlcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIkZxZG5cIl0gPSAxMl0gPSBcIkZxZG5cIjtcclxuICAgIC8vIFN1cHBvcnRzIHNjcnViYmluZyBvZiB0aGUgbGFzdCBvY3RldCBpbiBhIElQVjQgYWRkcmVzcy4gRS5nLiAxMC4xMjEuMjI3LjE0NyBiZWNvbWVzIDEwLjEyMS4yMjcuKlxyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiSVBWNEFkZHJlc3NMZWdhY3lcIl0gPSAxM10gPSBcIklQVjRBZGRyZXNzTGVnYWN5XCI7XHJcbn0pKEFXVFBpaUtpbmQgPSBleHBvcnRzLkFXVFBpaUtpbmQgfHwgKGV4cG9ydHMuQVdUUGlpS2luZCA9IHt9KSk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDIgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBBV1RCb25kU2VyaWFsaXplci50c1xyXG4qIEF1dGhvcjogQnJlbnQgRXJpY2tzb24gKGJyZXJpY2tzKSBhbmQgQWJoaWxhc2ggUGFud2FyIChhYnBhbndhcilcclxuKiBDb3B5cmlnaHQ6IE1pY3Jvc29mdCAyMDE2XHJcbiogQ2xhc3MgdG8gaGFuZGxlciBib25kIHNlcmlhbGl6YXRpb24uXHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEJvbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgRW51bXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbnZhciBBV1RCb25kU2VyaWFsaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFXVEJvbmRTZXJpYWxpemVyKCkge1xyXG4gICAgfVxyXG4gICAgQVdUQm9uZFNlcmlhbGl6ZXIuZ2V0UGF5bG9hZEJsb2IgPSBmdW5jdGlvbiAocmVxdWVzdERpY3Rpb25hcnksIHRva2VuQ291bnQpIHtcclxuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IEJvbmQuSU8uTWVtb3J5U3RyZWFtKCk7XHJcbiAgICAgICAgdmFyIHdyaXRlciA9IG5ldyBCb25kLkNvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcihzdHJlYW0pO1xyXG4gICAgICAgIC8vIEJlZ2luIENsaWVudENvbGxlY3RvciByZXF1ZXN0XHJcbiAgICAgICAgLy9Xcml0ZSBUb2tlblRvRGF0YVBhY2thZ2VzTWFwXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9NQVAsIDMpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZU1hcENvbnRhaW5lckJlZ2luKHRva2VuQ291bnQsIEJvbmQuQm9uZERhdGFUeXBlLkJUX1NUUklORywgQm9uZC5Cb25kRGF0YVR5cGUuQlRfTElTVCk7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocmVxdWVzdERpY3Rpb25hcnkpLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIC8vd3JpdGUgdG9rZW5cclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKHRva2VuKTtcclxuICAgICAgICAgICAgdmFyIGRhdGFQYWNrYWdlID0gcmVxdWVzdERpY3Rpb25hcnlbdG9rZW5dO1xyXG4gICAgICAgICAgICAvLyBXcml0ZSBsaXN0IG9mIERhdGFQYWNrYWdlc1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVDb250YWluZXJCZWdpbigxLCBCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJVQ1QpO1xyXG4gICAgICAgICAgICAvLyBTb3VyY2VcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDIpO1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoJ2FjdF9kZWZhdWx0X3NvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBEYXRhUGFja2FnZUlkXHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCA1KTtcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKFV0aWxzLm5ld0d1aWQoKSk7XHJcbiAgICAgICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX0lOVDY0LCA2KTtcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlSW50NjQoVXRpbHMubnVtYmVyVG9Cb25kSW50NjQoRGF0ZS5ub3coKSkpO1xyXG4gICAgICAgICAgICAvLyBSZWNvcmRzXHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfTElTVCwgOCk7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUNvbnRhaW5lckJlZ2luKGRhdGFQYWNrYWdlLmxlbmd0aCwgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSVUNUKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUGFja2FnZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlQmxvYihkYXRhUGFja2FnZVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RydWN0RW5kKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBFbmQgQ2xpZW50Q29sbGVjdG9yXHJcbiAgICAgICAgd3JpdGVyLldyaXRlU3RydWN0RW5kKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gc3RyZWFtLkdldEJ1ZmZlcigpO1xyXG4gICAgfTtcclxuICAgIC8vIEFzIHBlciBtYXBwaW5ncyBhdCBodHRwczovL3NreXBlLnZpc3VhbHN0dWRpby5jb20vU0NDL0YuUzRMLkZVTkRBTUVOVEFMUy9fZ2l0L2luZnJhc3RydWN0dXJlX2RhdGFfY2xpZW50dGVsZW1ldHJ5P1xyXG4gICAgLy8gcGF0aD0lMkZjbGllbnR0ZWxlbWV0cnklMkZzcmMlMkZib25kJTJGRGF0YVBhY2thZ2UuYm9uZCZ2ZXJzaW9uPUdCZGV2MiZfYT1jb250ZW50c1xyXG4gICAgLy8gUmVxdWlyZXMgdGhhdCB0aGUgdmFsdWVzIG9mIEFXVEV2ZW50RGF0YS5wcm9wZXJ0aWVzIG11c3QgYWxsIGJlIEFXVEV2ZW50UHJvcGVydHlcclxuICAgIEFXVEJvbmRTZXJpYWxpemVyLmdldEV2ZW50QmxvYiA9IGZ1bmN0aW9uIChldmVudERhdGEpIHtcclxuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IEJvbmQuSU8uTWVtb3J5U3RyZWFtKCk7XHJcbiAgICAgICAgdmFyIHdyaXRlciA9IG5ldyBCb25kLkNvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcihzdHJlYW0pO1xyXG4gICAgICAgIC8vIElEXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDEpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZVN0cmluZyhldmVudERhdGEuaWQpO1xyXG4gICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfSU5UNjQsIDMpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZUludDY0KFV0aWxzLm51bWJlclRvQm9uZEludDY0KGV2ZW50RGF0YS50aW1lc3RhbXApKTtcclxuICAgICAgICAvLyBUeXBlXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDUpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZVN0cmluZyhldmVudERhdGEudHlwZSk7XHJcbiAgICAgICAgLy8gRXZlbnQgVHlwZVxyXG4gICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCA2KTtcclxuICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoZXZlbnREYXRhLm5hbWUpO1xyXG4gICAgICAgIHZhciBwcm9wc1N0cmluZyA9IFtdO1xyXG4gICAgICAgIHZhciBwaWlQcm9wcyA9IFtdO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgYWNyb3NzIGV2ZW50IGRhdGEgcHJvcGVydGllcyBhbmQgc2VwYXJhdGUgYmFzZWQgb24gcGlpXHJcbiAgICAgICAgT2JqZWN0LmtleXMoZXZlbnREYXRhLnByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBldmVudERhdGEucHJvcGVydGllc1trZXldO1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkucGlpID09PSBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0KSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1N0cmluZy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwaWlQcm9wcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL0V4dGVuc2lvbiBtYXBcclxuICAgICAgICBpZiAocHJvcHNTdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfTUFQLCAxMyk7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZU1hcENvbnRhaW5lckJlZ2luKHByb3BzU3RyaW5nLmxlbmd0aCwgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCBCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcpO1xyXG4gICAgICAgICAgICBwcm9wc1N0cmluZy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoZXZlbnREYXRhLnByb3BlcnRpZXNbbmFtZV0udmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGlpXHJcbiAgICAgICAgaWYgKHBpaVByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX01BUCwgMzApO1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVNYXBDb250YWluZXJCZWdpbihwaWlQcm9wcy5sZW5ndGgsIEJvbmQuQm9uZERhdGFUeXBlLkJUX1NUUklORywgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSVUNUKTtcclxuICAgICAgICAgICAgcGlpUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gUElJIERhdGFcclxuICAgICAgICAgICAgICAgIC8vIE8zNjUgc2NydWJiZXIgdHlwZVxyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9JTlQzMiwgMSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVJbnQzMigxKTtcclxuICAgICAgICAgICAgICAgIC8vIFBJSSBLaW5kXHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX0lOVDMyLCAyKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlci5Xcml0ZUludDMyKGV2ZW50RGF0YS5wcm9wZXJ0aWVzW25hbWVdLnBpaSk7XHJcbiAgICAgICAgICAgICAgICAvLyBWYWx1ZVxyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDMpO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKGV2ZW50RGF0YS5wcm9wZXJ0aWVzW25hbWVdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlci5Xcml0ZVN0cnVjdEVuZChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3cml0ZXIuV3JpdGVTdHJ1Y3RFbmQoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiBzdHJlYW0uR2V0QnVmZmVyKCk7XHJcbiAgICB9O1xyXG4gICAgQVdUQm9uZFNlcmlhbGl6ZXIuYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gQm9uZC5FbmNvZGluZy5CYXNlNjQuR2V0U3RyaW5nKGRhdGEpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RCb25kU2VyaWFsaXplcjtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQVdUQm9uZFNlcmlhbGl6ZXI7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDMgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4qIFV0aWxzLnRzXHJcbiogQXV0aG9yOiBCcmVudCBFcmlja3NvbiAoYnJlcmlja3MpIGFuZCBBYmhpbGFzaCBQYW53YXIgKGFicGFud2FyKVxyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKiBDb21tb24gZnVuY3Rpb25zIHVzZWQgaW4gdGhlIFNESy5cclxuKi9cclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBHdWlkUmVnZXggPSAvW3h5XS9nO1xyXG5mdW5jdGlvbiBudW1iZXJUb0JvbmRJbnQ2NCh2YWx1ZSkge1xyXG4gICAgLy8gQ29uc3RydWN0IGJvbmQgdGltZXN0YW1wIGZvciBhcmlhXHJcbiAgICB2YXIgYm9uZF92YWx1ZSA9IG5ldyBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuSW50NjQoJzAnKTtcclxuICAgIGJvbmRfdmFsdWUubG93ID0gdmFsdWUgJiAweGZmZmZmZmZmO1xyXG4gICAgYm9uZF92YWx1ZS5oaWdoID0gTWF0aC5mbG9vcih2YWx1ZSAvIDB4MTAwMDAwMDAwKTtcclxuICAgIHJldHVybiBib25kX3ZhbHVlO1xyXG59XHJcbmV4cG9ydHMubnVtYmVyVG9Cb25kSW50NjQgPSBudW1iZXJUb0JvbmRJbnQ2NDtcclxuZnVuY3Rpb24gbmV3R3VpZCgpIHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKEd1aWRSZWdleCwgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYgfCAwKSwgdiA9IChjID09PSAneCcgPyByIDogciAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy5uZXdHdWlkID0gbmV3R3VpZDtcclxuZnVuY3Rpb24gaXNQaWkodmFsdWUpIHtcclxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gMTMpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLmlzUGlpID0gaXNQaWk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDQgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4qIFZlcnNpb24udHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENsYXNzIGZvciBTREsgdmVyc2lvbi5cclxuKi9cclxuZXhwb3J0cy5WZXJzaW9uID0gJzEuMi4yJztcclxuZXhwb3J0cy5GdWxsVmVyc2lvblN0cmluZyA9ICdBV1QtV2ViLUNKUy0nICsgZXhwb3J0cy5WZXJzaW9uO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiA1ICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuKiBBcmlhU0RLLnRzXHJcbiogQXV0aG9yOiBBYmhpbGFzaCBQYW53YXIgKGFicGFud2FyKVxyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxudmFyIEVudW1zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5leHBvcnRzLkFXVFBpaUtpbmQgPSBFbnVtc18xLkFXVFBpaUtpbmQ7XHJcbnZhciBBV1RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xyXG5leHBvcnRzLkFXVCA9IEFXVF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuQVdUX0NPTExFQ1RPUl9VUkxfVU5JVEVEX1NUQVRFUyA9ICdodHRwczovL3VzLnBpcGUuYXJpYS5taWNyb3NvZnQuY29tL0NvbGxlY3Rvci8zLjAvJztcclxuZXhwb3J0cy5BV1RfQ09MTEVDVE9SX1VSTF9HRVJNQU5ZID0gJ2h0dHBzOi8vZGUucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nO1xyXG5leHBvcnRzLkFXVF9DT0xMRUNUT1JfVVJMX0pBUEFOID0gJ2h0dHBzOi8vanAucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nO1xyXG5leHBvcnRzLkFXVF9DT0xMRUNUT1JfVVJMX0FVU1RSQUxJQSA9ICdodHRwczovL2F1LnBpcGUuYXJpYS5taWNyb3NvZnQuY29tL0NvbGxlY3Rvci8zLjAvJztcclxuZXhwb3J0cy5BV1RfQ09MTEVDVE9SX1VSTF9FVVJPUEUgPSAnaHR0cHM6Ly9ldS5waXBlLmFyaWEubWljcm9zb2Z0LmNvbS9Db2xsZWN0b3IvMy4wLyc7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDYgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBib25kX2NvbnN0LnRzXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gICAgIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IGEgdG9vbC5cclxuLy9cclxuLy8gICAgIFRvb2wgICAgIDogYm9uZGMsIFZlcnNpb249My4wLjEsIEJ1aWxkPWJvbmQtZ2l0LmRlYnVnLm5vdFxyXG4vLyAgICAgVGVtcGxhdGUgOiBNaWNyb3NvZnQuQm9uZC5SdWxlcy5kbGwjVHlwZVNjcmlwdC50dFxyXG4vLyAgICAgRmlsZSAgICAgOiBib25kX2NvbnN0LnRzXHJcbi8vXHJcbi8vICAgICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yIGFuZCB3aWxsIGJlIGxvc3Qgd2hlblxyXG4vLyAgICAgdGhlIGNvZGUgaXMgcmVnZW5lcmF0ZWQuXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBCb25kRGF0YVR5cGU7XHJcbihmdW5jdGlvbiAoQm9uZERhdGFUeXBlKSB7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RPUFwiXSA9IDBdID0gXCJCVF9TVE9QXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RPUF9CQVNFXCJdID0gMV0gPSBcIkJUX1NUT1BfQkFTRVwiO1xyXG4gICAgQm9uZERhdGFUeXBlW0JvbmREYXRhVHlwZVtcIkJUX1VJTlQ4XCJdID0gM10gPSBcIkJUX1VJTlQ4XCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfVUlOVDMyXCJdID0gNV0gPSBcIkJUX1VJTlQzMlwiO1xyXG4gICAgQm9uZERhdGFUeXBlW0JvbmREYXRhVHlwZVtcIkJUX1VJTlQ2NFwiXSA9IDZdID0gXCJCVF9VSU5UNjRcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9TVFJJTkdcIl0gPSA5XSA9IFwiQlRfU1RSSU5HXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RSVUNUXCJdID0gMTBdID0gXCJCVF9TVFJVQ1RcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9MSVNUXCJdID0gMTFdID0gXCJCVF9MSVNUXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfTUFQXCJdID0gMTNdID0gXCJCVF9NQVBcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9JTlQzMlwiXSA9IDE2XSA9IFwiQlRfSU5UMzJcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9JTlQ2NFwiXSA9IDE3XSA9IFwiQlRfSU5UNjRcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9VTkFWQUlMQUJMRVwiXSA9IDEyN10gPSBcIkJUX1VOQVZBSUxBQkxFXCI7XHJcbn0pKEJvbmREYXRhVHlwZSA9IGV4cG9ydHMuQm9uZERhdGFUeXBlIHx8IChleHBvcnRzLkJvbmREYXRhVHlwZSA9IHt9KSk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDcgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBtaWNyb3NvZnQuYm9uZC5lbmNvZGluZy50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFV0ZjggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBVdGY4KCkge1xyXG4gICAgfVxyXG4gICAgVXRmOC5HZXRCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIGNoYXIgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBpZiAoY2hhciA8IDB4ODApIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goY2hhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA8IDB4ODAwKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKDB4YzAgfCAoY2hhciA+PiA2KSwgMHg4MCB8IChjaGFyICYgMHgzZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPCAweGQ4MDAgfHwgY2hhciA+PSAweGUwMDApIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goMHhlMCB8IChjaGFyID4+IDEyKSwgMHg4MCB8ICgoY2hhciA+PiA2KSAmIDB4M2YpLCAweDgwIHwgKGNoYXIgJiAweDNmKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyID0gMHgxMDAwMCArICgoKGNoYXIgJiAweDNmZikgPDwgMTApIHwgKHZhbHVlLmNoYXJDb2RlQXQoKytpKSAmIDB4M2ZmKSk7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKDB4ZjAgfCAoY2hhciA+PiAxOCksIDB4ODAgfCAoKGNoYXIgPj4gMTIpICYgMHgzZiksIDB4ODAgfCAoKGNoYXIgPj4gNikgJiAweDNmKSwgMHg4MCB8IChjaGFyICYgMHgzZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVXRmODtcclxufSgpKTtcclxuZXhwb3J0cy5VdGY4ID0gVXRmODtcclxudmFyIEJhc2U2NCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcclxuICAgIH1cclxuICAgIEJhc2U2NC5HZXRTdHJpbmcgPSBmdW5jdGlvbiAoaW5BcnJheSkge1xyXG4gICAgICAgIHZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBpbkFycmF5Lmxlbmd0aCAlIDM7XHJcbiAgICAgICAgdmFyIHRvQmFzZTY0ID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW2xvb2t1cC5jaGFyQXQoKG51bSA+PiAxOCkgJiAweDNGKSxcclxuICAgICAgICAgICAgICAgIGxvb2t1cC5jaGFyQXQoKG51bSA+PiAxMikgJiAweDNGKSxcclxuICAgICAgICAgICAgICAgIGxvb2t1cC5jaGFyQXQoKG51bSA+PiA2KSAmIDB4M0YpLFxyXG4gICAgICAgICAgICAgICAgbG9va3VwLmNoYXJBdChudW0gJiAweDNGKV0uam9pbignJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBpbkFycmF5Lmxlbmd0aCAtIHBhZGRpbmdCeXRlczsgaSA8IGxlbmd0aF8xOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgdmFyIHRlbXAgPSAoaW5BcnJheVtpXSA8PCAxNikgKyAoaW5BcnJheVtpICsgMV0gPDwgOCkgKyAoaW5BcnJheVtpICsgMl0pO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaCh0b0Jhc2U2NCh0ZW1wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gaW5BcnJheVtpbkFycmF5Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gobG9va3VwLmNoYXJBdCh0ZW1wID4+IDIpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGxvb2t1cC5jaGFyQXQoKHRlbXAgPDwgNCkgJiAweDNGKSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgnPT0nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcDIgPSAoaW5BcnJheVtpbkFycmF5Lmxlbmd0aCAtIDJdIDw8IDgpICsgKGluQXJyYXlbaW5BcnJheS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb29rdXAuY2hhckF0KHRlbXAyID4+IDEwKSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb29rdXAuY2hhckF0KCh0ZW1wMiA+PiA0KSAmIDB4M0YpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGxvb2t1cC5jaGFyQXQoKHRlbXAyIDw8IDIpICYgMHgzRikpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goJz0nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlNjQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQmFzZTY0ID0gQmFzZTY0O1xyXG52YXIgVmFyaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmFyaW50KCkge1xyXG4gICAgfVxyXG4gICAgVmFyaW50LkdldEJ5dGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgd2hpbGUgKHZhbHVlICYgMHhmZmZmZmY4MCkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKCh2YWx1ZSAmIDB4N2YpIHwgMHg4MCk7XHJcbiAgICAgICAgICAgIHZhbHVlID4+Pj0gNztcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSAmIDB4N2YpO1xyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmFyaW50O1xyXG59KCkpO1xyXG5leHBvcnRzLlZhcmludCA9IFZhcmludDtcclxudmFyIFZhcmludDY0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmFyaW50NjQoKSB7XHJcbiAgICB9XHJcbiAgICBWYXJpbnQ2NC5HZXRCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB2YWx1ZS5sb3c7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB2YWx1ZS5oaWdoO1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChoaWdoIHx8ICgweGZmZmZmZjgwICYgbG93KSkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKChsb3cgJiAweDdmKSB8IDB4ODApO1xyXG4gICAgICAgICAgICBsb3cgPSAoKGhpZ2ggJiAweDdmKSA8PCAyNSkgfCAobG93ID4+PiA3KTtcclxuICAgICAgICAgICAgaGlnaCA+Pj49IDc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFycmF5LnB1c2gobG93ICYgMHg3Zik7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWYXJpbnQ2NDtcclxufSgpKTtcclxuZXhwb3J0cy5WYXJpbnQ2NCA9IFZhcmludDY0O1xyXG52YXIgWmlnemFnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gWmlnemFnKCkge1xyXG4gICAgfVxyXG4gICAgWmlnemFnLkVuY29kZVppZ3phZzMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyLlRvSW50MzIodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiAoKHZhbHVlIDw8IDEpIF4gKHZhbHVlID4+ICg0IC8qc2l6ZW9mKGludCkqLyAqIDggLSAxKSkpO1xyXG4gICAgfTtcclxuICAgIFppZ3phZy5FbmNvZGVaaWd6YWc2NCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB2YWx1ZS5sb3c7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB2YWx1ZS5oaWdoO1xyXG4gICAgICAgIHZhciB0bXBIID0gKGhpZ2ggPDwgMSkgfCAobG93ID4+PiAzMSk7XHJcbiAgICAgICAgdmFyIHRtcEwgPSBsb3cgPDwgMTtcclxuICAgICAgICBpZiAoaGlnaCAmIDB4ODAwMDAwMDApIHtcclxuICAgICAgICAgICAgdG1wSCA9IH50bXBIO1xyXG4gICAgICAgICAgICB0bXBMID0gfnRtcEw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXMgPSBuZXcgbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLlVJbnQ2NCgnMCcpO1xyXG4gICAgICAgIHJlcy5sb3cgPSB0bXBMO1xyXG4gICAgICAgIHJlcy5oaWdoID0gdG1wSDtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBaaWd6YWc7XHJcbn0oKSk7XHJcbmV4cG9ydHMuWmlnemFnID0gWmlnemFnO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiA4ICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogbWljcm9zb2Z0LmJvbmQuaW8udHNcclxuKiBDb3B5cmlnaHQ6IE1pY3Jvc29mdCAyMDE2XHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBNZW1vcnlTdHJlYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNZW1vcnlTdHJlYW0oKSB7XHJcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gW107XHJcbiAgICB9XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIE1lbW9yeVN0cmVhbS5wcm90b3R5cGUuV3JpdGVCeXRlID0gZnVuY3Rpb24gKGJ5dGUpIHtcclxuICAgICAgICB0aGlzLl9idWZmZXIucHVzaChtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyLlRvQnl0ZShieXRlKSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBNZW1vcnlTdHJlYW0ucHJvdG90eXBlLldyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBjb3VudCkge1xyXG4gICAgICAgIHdoaWxlIChjb3VudC0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVCeXRlKGJ1ZmZlcltvZmZzZXQrK10pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IG9mIHVuc2lnbmVkIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyBzdHJlYW0gd2FzIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIE1lbW9yeVN0cmVhbS5wcm90b3R5cGUuR2V0QnVmZmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1lbW9yeVN0cmVhbTtcclxufSgpKTtcclxuZXhwb3J0cy5NZW1vcnlTdHJlYW0gPSBNZW1vcnlTdHJlYW07XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDkgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBtaWNyb3NvZnQuYm9uZC50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYm9uZF9jb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuZXhwb3J0cy5Cb25kRGF0YVR5cGUgPSBib25kX2NvbnN0XzEuQm9uZERhdGFUeXBlO1xyXG52YXIgRW5jb2RpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5leHBvcnRzLkVuY29kaW5nID0gRW5jb2Rpbmc7XHJcbnZhciBJTyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbmV4cG9ydHMuSU8gPSBJTztcclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmV4cG9ydHMuSW50NjQgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuSW50NjQ7XHJcbmV4cG9ydHMuVUludDY0ID0gbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLlVJbnQ2NDtcclxuZXhwb3J0cy5OdW1iZXIgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyO1xyXG52YXIgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyKHN0cmVhbSkge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcclxuICAgIH1cclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUJsb2IgPSBmdW5jdGlvbiAoYmxvYikge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShibG9iLCAwLCBibG9iLmxlbmd0aCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlQ29udGFpbmVyQmVnaW4gPSBmdW5jdGlvbiAoc2l6ZSwgZWxlbWVudFR5cGUpIHtcclxuICAgICAgICB0aGlzLldyaXRlVUludDgoZWxlbWVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIoc2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlTWFwQ29udGFpbmVyQmVnaW4gPSBmdW5jdGlvbiAoc2l6ZSwga2V5VHlwZSwgdmFsdWVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5Xcml0ZVVJbnQ4KGtleVR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50OCh2YWx1ZVR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIoc2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlRmllbGRCZWdpbiA9IGZ1bmN0aW9uICh0eXBlLCBpZCkge1xyXG4gICAgICAgIGlmIChpZCA8PSA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUodHlwZSB8IChpZCA8PCA1KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlkIDw9IDB4ZmYpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RyZWFtLldyaXRlQnl0ZSh0eXBlIHwgKDYgPDwgNSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdHJlYW0uV3JpdGVCeXRlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUodHlwZSB8ICg3IDw8IDUpKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RyZWFtLldyaXRlQnl0ZShpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUoaWQgPj4gOCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUludDMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBFbmNvZGluZy5aaWd6YWcuRW5jb2RlWmlnemFnMzIodmFsdWUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIodmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUludDY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5Xcml0ZVVJbnQ2NChFbmNvZGluZy5aaWd6YWcuRW5jb2RlWmlnemFnNjQodmFsdWUpKTtcclxuICAgIH07XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlci5wcm90b3R5cGUuV3JpdGVTdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVVSW50MzIoMCAvKmxlbmd0aCovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhcnJheSA9IEVuY29kaW5nLlV0ZjguR2V0Qnl0ZXModmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLldyaXRlVUludDMyKGFycmF5Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShhcnJheSwgMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlU3RydWN0RW5kID0gZnVuY3Rpb24gKGlzQmFzZSkge1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50OChpc0Jhc2UgPyBib25kX2NvbnN0XzEuQm9uZERhdGFUeXBlLkJUX1NUT1BfQkFTRSA6IGJvbmRfY29uc3RfMS5Cb25kRGF0YVR5cGUuQlRfU1RPUCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlVUludDMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gRW5jb2RpbmcuVmFyaW50LkdldEJ5dGVzKG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMS5OdW1iZXIuVG9VSW50MzIodmFsdWUpKTtcclxuICAgICAgICB0aGlzLl9zdHJlYW0uV3JpdGUoYXJyYXksIDAsIGFycmF5Lmxlbmd0aCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlVUludDY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gRW5jb2RpbmcuVmFyaW50NjQuR2V0Qnl0ZXModmFsdWUpO1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShhcnJheSwgMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgIH07XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlci5wcm90b3R5cGUuV3JpdGVVSW50OCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUobWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLk51bWJlci5Ub1VJbnQ4KHZhbHVlKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcjtcclxufSgpKTtcclxuZXhwb3J0cy5Db21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIgPSBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXI7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDEwICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2VjVG9Nc011bHRpcGxpZXIgPSAxMDAwO1xyXG52YXIgQVdUS2lsbFN3aXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFXVEtpbGxTd2l0Y2goKSB7XHJcbiAgICAgICAgdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5ID0ge307XHJcbiAgICB9XHJcbiAgICBBV1RLaWxsU3dpdGNoLnByb3RvdHlwZS5zZXRLaWxsU3dpdGNoVGVuYW50cyA9IGZ1bmN0aW9uIChraWxsVG9rZW5zLCBraWxsRHVyYXRpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChraWxsVG9rZW5zICYmIGtpbGxEdXJhdGlvbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtpbGxlZFRva2VucyA9IGtpbGxUb2tlbnMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChraWxsRHVyYXRpb24gPT09ICd0aGlzLXJlcXVlc3Qtb25seScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2lsbGVkVG9rZW5zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uTXNfMSA9IHBhcnNlSW50KGtpbGxEdXJhdGlvbiwgMTApICogU2VjVG9Nc011bHRpcGxpZXI7XHJcbiAgICAgICAgICAgICAgICBraWxsZWRUb2tlbnMuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3Rva2VuXSA9IERhdGUubm93KCkgKyBkdXJhdGlvbk1zXzE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG4gICAgQVdUS2lsbFN3aXRjaC5wcm90b3R5cGUuaXNUZW5hbnRLaWxsZWQgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3RlbmFudFRva2VuXSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2tpbGxlZFRva2VuRGljdGlvbmFyeVt0ZW5hbnRUb2tlbl0gPiBEYXRlLm5vdygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3RlbmFudFRva2VuXTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFXVEtpbGxTd2l0Y2g7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFXVEtpbGxTd2l0Y2g7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDExICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQVdUQm9uZFNlcmlhbGl6ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBBV1RSZWNvcmRCYXRjaGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUUmVjb3JkQmF0Y2hlcihfbWF4UmVxdWVzdFNpemUsIF9vdXRib3VuZFF1ZXVlKSB7XHJcbiAgICAgICAgdGhpcy5fbWF4UmVxdWVzdFNpemUgPSBfbWF4UmVxdWVzdFNpemU7XHJcbiAgICAgICAgdGhpcy5fb3V0Ym91bmRRdWV1ZSA9IF9vdXRib3VuZFF1ZXVlO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaCA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaFNpemUgPSAwO1xyXG4gICAgfVxyXG4gICAgQVdUUmVjb3JkQmF0Y2hlci5wcm90b3R5cGUuYWRkRXZlbnRUb0JhdGNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWRFdmVudCA9IEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5nZXRFdmVudEJsb2IoZXZlbnQpO1xyXG4gICAgICAgIGlmIChzZXJpYWxpemVkRXZlbnQubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdFNpemUpIHtcclxuICAgICAgICAgICAgLy9zaW5nbGUgZXZlbnQgdG9vIGJpZ1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50QmF0Y2hTaXplICsgc2VyaWFsaXplZEV2ZW50Lmxlbmd0aCA+IHRoaXMuX21heFJlcXVlc3RTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmx1c2hCYXRjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRCYXRjaFtldmVudC50ZW5hbnRUb2tlbl0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEJhdGNoW2V2ZW50LnRlbmFudFRva2VuXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaFtldmVudC50ZW5hbnRUb2tlbl0ucHVzaChzZXJpYWxpemVkRXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QmF0Y2hTaXplICs9IHNlcmlhbGl6ZWRFdmVudC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFJlY29yZEJhdGNoZXIucHJvdG90eXBlLmZsdXNoQmF0Y2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRCYXRjaFNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX291dGJvdW5kUXVldWUucHVzaCh0aGlzLl9jdXJyZW50QmF0Y2gpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QmF0Y2ggPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEJhdGNoU2l6ZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RSZWNvcmRCYXRjaGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBV1RSZWNvcmRCYXRjaGVyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxMiAqL1xyXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiogQVdUUmV0cnlQb2xpY3kudHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENsYXNzIGZvciByZXRyeSBwb2xpY3kuXHJcbiovXHJcbnZhciBSYW5kb21pemF0aW9uTG93ZXJUaHJlc2hvbGQgPSAwLjg7XHJcbnZhciBSYW5kb21pemF0aW9uVXBwZXJUaHJlc2hvbGQgPSAxLjI7XHJcbnZhciBCYXNlQmFja29mZiA9IDMwMDA7XHJcbnZhciBNYXhCYWNrb2ZmID0gMTIwMDAwO1xyXG52YXIgQVdUUmV0cnlQb2xpY3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBV1RSZXRyeVBvbGljeSgpIHtcclxuICAgIH1cclxuICAgIEFXVFJldHJ5UG9saWN5LnNob3VsZFJldHJ5Rm9yU3RhdHVzID0gZnVuY3Rpb24gKGh0dHBTdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgLyogVGhlIGJlbG93IGV4cHJlc3Npb24gcmVhZHMgdGhhdCB3ZSBzaG91bGQgb25seSByZXRyeSBmb3I6XHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGVzIHRoYXQgYXJlIHNtYWxsZXIgdGhhbiAzMDAuXHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGVzIGdyZWF0ZXIgb3IgZXF1YWwgdG8gNTAwIChleGNlcHQgZm9yIDUwMS1Ob3RJbXBsZW1lbnRcclxuICAgICAgICAgICAgICBhbmQgNTA1LUh0dHBWZXJzaW9uTm90U3VwcG9ydCkuXHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGUgNDA4LVJlcXVlc3RUaW1lb3V0LlxyXG4gICAgICAgICAgIFRoaXMgaXMgYmFzZWQgb24gTWljcm9zb2Z0LldpbmRvd3NBenVyZS5TdG9yYWdlLlJldHJ5UG9saWNpZXMuRXhwb25lbnRpYWxSZXRyeSBjbGFzcyAqL1xyXG4gICAgICAgIHJldHVybiAhKChodHRwU3RhdHVzQ29kZSA+PSAzMDAgJiYgaHR0cFN0YXR1c0NvZGUgPCA1MDAgJiYgaHR0cFN0YXR1c0NvZGUgIT09IDQwOClcclxuICAgICAgICAgICAgfHwgKGh0dHBTdGF0dXNDb2RlID09PSA1MDEpXHJcbiAgICAgICAgICAgIHx8IChodHRwU3RhdHVzQ29kZSA9PT0gNTA1KSk7XHJcbiAgICB9O1xyXG4gICAgQVdUUmV0cnlQb2xpY3kuZ2V0TWlsbGlzVG9CYWNrb2ZmRm9yUmV0cnkgPSBmdW5jdGlvbiAocmV0cmllc1NvRmFyKSB7XHJcbiAgICAgICAgdmFyIHdhaXREdXJhdGlvbiA9IDA7XHJcbiAgICAgICAgdmFyIG1pbkJhY2tvZmYgPSBCYXNlQmFja29mZiAqIFJhbmRvbWl6YXRpb25Mb3dlclRocmVzaG9sZDtcclxuICAgICAgICB2YXIgbWF4QmFja29mZiA9IEJhc2VCYWNrb2ZmICogUmFuZG9taXphdGlvblVwcGVyVGhyZXNob2xkO1xyXG4gICAgICAgIHZhciByYW5kb21CYWNrb2ZmID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heEJhY2tvZmYgLSBtaW5CYWNrb2ZmKSkgKyBtaW5CYWNrb2ZmO1xyXG4gICAgICAgIHdhaXREdXJhdGlvbiA9IE1hdGgucG93KDQsIHJldHJpZXNTb0ZhcikgKiByYW5kb21CYWNrb2ZmO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbih3YWl0RHVyYXRpb24sIE1heEJhY2tvZmYpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RSZXRyeVBvbGljeTtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQVdUUmV0cnlQb2xpY3k7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDEzICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRW51bXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBBV1RUcmFuc21pc3Npb25NYW5hZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxudmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZlcnNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgQWxsVG9rZW5zID0gJ2FsbFRrbnMnO1xyXG52YXIgRXZlbnROYW1lQW5kVHlwZVJlZ2V4ID0gL15bYS16QS1aMC05XShbYS16QS1aMC05XXxfKXsyLDk4fVthLXpBLVowLTldJC87XHJcbnZhciBFdmVudE5hbWVEb3RSZWdleCA9IC9cXC4vZztcclxudmFyIFByb3BlcnR5TmFtZVJlZ2V4ID0gL15bYS16QS1aMC05XSgoW2EtekEtWjAtOXxffFxcLl0pezAsOTh9W2EtekEtWjAtOV0pPyQvO1xyXG52YXIgQVdUID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUKCkge1xyXG4gICAgfVxyXG4gICAgQVdULmluaXRpYWxpemUgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4sIGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdm9pZCAwKSB7IGNvbmZpZ3VyYXRpb24gPSB7fTsgfVxyXG4gICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICB0aHJvdyAnQWxyZWFkeSBJbml0aWFsaXplZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRUZW5hbnRUb2tlbiA9IHRlbmFudFRva2VuO1xyXG4gICAgICAgIHRoaXMuX292ZXJyaWRlVmFsdWVzRnJvbUNvbmZpZyhjb25maWd1cmF0aW9uKTtcclxuICAgICAgICAvL0NyZWF0ZSBzZW5kZXJcclxuICAgICAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyXzEuZGVmYXVsdC5pbml0aWFsaXplKHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgQVdULmZsdXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXJfMS5kZWZhdWx0LmZsdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULmZsdXNoQW5kVGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlcl8xLmRlZmF1bHQuZmx1c2hBbmRUZWFyZG93bigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1Quc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChuYW1lLCBwcm9wZXJ0eSwgdGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGVuYW50VG9rZW4gPT09IHZvaWQgMCkgeyB0ZW5hbnRUb2tlbiA9IEFsbFRva2VuczsgfVxyXG4gICAgICAgIHByb3BlcnR5ID0gdGhpcy5fc2FuaXRpemVQcm9wZXJ0eShuYW1lLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb250ZXh0UHJvcGVydGllc1t0ZW5hbnRUb2tlbl0pIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udGV4dFByb3BlcnRpZXNbdGVuYW50VG9rZW5dID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzW3RlbmFudFRva2VuXVtuYW1lXSA9IHByb3BlcnR5O1xyXG4gICAgfTtcclxuICAgIEFXVC5sb2dFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgaWYgKCFldmVudC5uYW1lIHx8ICFldmVudC5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQubmFtZSA9IGV2ZW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgZXZlbnQubmFtZS5yZXBsYWNlKEV2ZW50TmFtZURvdFJlZ2V4LCAnXycpO1xyXG4gICAgICAgICAgICB2YXIgdHlwZVByZWZpeCA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnY3VzdG9tJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHR5cGVQcmVmaXggPSAnY3VzdG9tLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFFdmVudE5hbWVBbmRUeXBlUmVnZXgudGVzdChldmVudC5uYW1lKSB8fCAhRXZlbnROYW1lQW5kVHlwZVJlZ2V4LnRlc3QoZXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC50eXBlID0gdHlwZVByZWZpeCArIGV2ZW50LnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChpc05hTihldmVudC50aW1lc3RhbXApKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC50aW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQudGVuYW50VG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRlbmFudFRva2VuID0gdGhpcy5fZGVmYXVsdFRlbmFudFRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LmlkID0gVXRpbHMubmV3R3VpZCgpO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhldmVudC5wcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcm9wZXJ0aWVzW25hbWVdID0gX3RoaXMuX3Nhbml0aXplUHJvcGVydHkobmFtZSwgZXZlbnQucHJvcGVydGllc1tuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucHJvcGVydGllc1tuYW1lXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudC5wcm9wZXJ0aWVzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dElmQWJzZW50KGV2ZW50LCBldmVudC50ZW5hbnRUb2tlbik7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRJZkFic2VudChldmVudCwgQWxsVG9rZW5zKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGV2ZW50LnByb3BlcnRpZXMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3NldERlZmF1bHRQcm9wZXJ0eShldmVudCwgJ0V2ZW50SW5mby5Jbml0SWQnLCB0aGlzLl9nZXRJbml0SWQoZXZlbnQudGVuYW50VG9rZW4pKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnR5KGV2ZW50LCAnRXZlbnRJbmZvLlNlcXVlbmNlJywgdGhpcy5fZ2V0U2VxdWVuY2VJZChldmVudC50ZW5hbnRUb2tlbikpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uU2RrVmVyc2lvbicsIFZlcnNpb24uRnVsbFZlcnNpb25TdHJpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uTmFtZScsIGV2ZW50Lm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uVGltZScsIChuZXcgRGF0ZShldmVudC50aW1lc3RhbXApKS50b0lTT1N0cmluZygpKTtcclxuICAgICAgICAgICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlcl8xLmRlZmF1bHQuc2VuZEV2ZW50KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULl9vdmVycmlkZVZhbHVlc0Zyb21Db25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5jb2xsZWN0b3JVcmwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmNvbGxlY3RvclVybCA9IGNvbmZpZy5jb2xsZWN0b3JVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb25maWcuc2VuZGluZ1RpbWVyID4gMTAwMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcuc2VuZGluZ1RpbWVyID0gY29uZmlnLnNlbmRpbmdUaW1lcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULl9nZXRJbml0SWQgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGhpcy5faW5pdElkTWFwW3RlbmFudFRva2VuXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRJZE1hcFt0ZW5hbnRUb2tlbl0gPSBVdGlscy5uZXdHdWlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0SWRNYXBbdGVuYW50VG9rZW5dO1xyXG4gICAgfTtcclxuICAgIEFXVC5fZ2V0U2VxdWVuY2VJZCA9IGZ1bmN0aW9uICh0ZW5hbnRUb2tlbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXF1ZW5jZUlkTWFwW3RlbmFudFRva2VuXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcXVlbmNlSWRNYXBbdGVuYW50VG9rZW5dID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgrK3RoaXMuX3NlcXVlbmNlSWRNYXBbdGVuYW50VG9rZW5dKS50b1N0cmluZygpO1xyXG4gICAgfTtcclxuICAgIEFXVC5fc2V0RGVmYXVsdFByb3BlcnR5ID0gZnVuY3Rpb24gKGV2ZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGV2ZW50LnByb3BlcnRpZXNbbmFtZV0gPSB7IHZhbHVlOiB2YWx1ZSwgcGlpOiBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0IH07XHJcbiAgICB9O1xyXG4gICAgQVdULl9hZGRDb250ZXh0SWZBYnNlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHRlbmFudFRva2VuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzW3RlbmFudFRva2VuXSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dF8xID0gdGhpcy5fY29udGV4dFByb3BlcnRpZXNbdGVuYW50VG9rZW5dO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0XzEpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZXZlbnQucHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByb3BlcnRpZXNbbmFtZV0gPSBjb250ZXh0XzFbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1QuX3Nhbml0aXplUHJvcGVydHkgPSBmdW5jdGlvbiAobmFtZSwgcHJvcGVydHkpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcGVydHkgPT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5ID0geyB2YWx1ZTogcHJvcGVydHkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFQcm9wZXJ0eU5hbWVSZWdleC50ZXN0KG5hbWUpIHx8IHByb3BlcnR5ID09PSB1bmRlZmluZWQgfHwgcHJvcGVydHkgPT09IG51bGxcclxuICAgICAgICAgICAgfHwgcHJvcGVydHkudmFsdWUgPT09IG51bGwgfHwgcHJvcGVydHkudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkucGlpID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5waWkgPSBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHByb3BlcnR5LnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmlzUGlpKHByb3BlcnR5LnBpaSkgPyBwcm9wZXJ0eSA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgQVdULl9pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBBV1QuX2lzRGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICBBV1QuX2NvbnRleHRQcm9wZXJ0aWVzID0ge307XHJcbiAgICBBV1QuX3NlcXVlbmNlSWRNYXAgPSB7fTtcclxuICAgIEFXVC5faW5pdElkTWFwID0ge307XHJcbiAgICBBV1QuX2NvbmZpZyA9IHtcclxuICAgICAgICBjb2xsZWN0b3JVcmw6ICdodHRwczovL2Jyb3dzZXIucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nLFxyXG4gICAgICAgIHNlbmRpbmdUaW1lcjogMTAwMFxyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1Q7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFXVDtcclxuXHJcblxyXG4vKioqLyB9KSxcclxuLyogMTQgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBV1RSZWNvcmRCYXRjaGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIEFXVEJvbmRTZXJpYWxpemVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgQVdUUmV0cnlQb2xpY3lfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG52YXIgQVdUS2lsbFN3aXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbnZhciBWZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIEZsdXNoQ2hlY2tUaW1lciA9IDI1MDtcclxudmFyIFJlcXVlc3RTaXplTGltaXRCeXRlcyA9IDI5MzYwMTI7IC8vYXBwcm94IDIuOCBNYlxyXG52YXIgTWF4UmV0cmllcyA9IDQ7XHJcbnZhciBBV1RUcmFuc21pc3Npb25NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUVHJhbnNtaXNzaW9uTWFuYWdlcigpIHtcclxuICAgIH1cclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB0aGlzLl9pbmJvdW5kUXVldWVzLnB1c2goW10pO1xyXG4gICAgICAgIHRoaXMuX3JlY29yZEJhdGNoZXIgPSBuZXcgQVdUUmVjb3JkQmF0Y2hlcl8xLmRlZmF1bHQoUmVxdWVzdFNpemVMaW1pdEJ5dGVzLCB0aGlzLl9vdXRib3VuZFF1ZXVlKTtcclxuICAgICAgICB0aGlzLl9uZXdFdmVudHNBbGxvd2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VybFN0cmluZyArPSAnJmNvbnRlbnQtZW5jb2Rpbmc9YmFzZTY0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2VuZGluZ1RpbWVyID0gY29uZmlnLnNlbmRpbmdUaW1lcjtcclxuICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSBjb25maWcuY29sbGVjdG9yVXJsICsgdGhpcy5fdXJsU3RyaW5nICsgJyZ4LWFwaWtleT0nO1xyXG4gICAgfTtcclxuICAgIC8vUHVzaCB0aGUgZXZlbnQgaW50byB0aGUgaW5ib3VuZCBxdWV1ZSBhbmQgcmV0dXJuXHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLnNlbmRFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX25ld0V2ZW50c0FsbG93ZWQpIHtcclxuICAgICAgICAgICAgLy9BZGQgZXZlbnQgdG8gdGhlIGxhc3QgaW5ib3VuZCBxdWV1ZVxyXG4gICAgICAgICAgICB0aGlzLl9pbmJvdW5kUXVldWVzW3RoaXMuX2luYm91bmRRdWV1ZXMubGVuZ3RoIC0gMV0ucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fcnVubmluZyAmJiB0aGlzLl90aW1lb3V0IDwgMCAmJiAhdGhpcy5faXNDdXJyZW50bHlGbHVzaGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2JhdGNoQW5kU2VuZEV2ZW50cyhmYWxzZSk7IH0sIHRoaXMuX3NlbmRpbmdUaW1lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlci5mbHVzaEFuZFRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX25ld0V2ZW50c0FsbG93ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9iYXRjaEFuZFNlbmRFdmVudHModHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlci5mbHVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2luYm91bmRRdWV1ZXMucHVzaChbXSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0N1cnJlbnRseUZsdXNoaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzQ3VycmVudGx5Rmx1c2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9mbHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9mbHVzaFF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9iYXRjaEFuZFNlbmRFdmVudHMgPSBmdW5jdGlvbiAoaXNUZWFyZG93bikge1xyXG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLl9pbmJvdW5kUXVldWVzWzBdLmxlbmd0aCA+IDAgJiYgdGhpcy5fb3V0Ym91bmRRdWV1ZS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29yZEJhdGNoZXIuYWRkRXZlbnRUb0JhdGNoKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ucG9wKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fb3V0Ym91bmRRdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb3JkQmF0Y2hlci5mbHVzaEJhdGNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NlbmRSZXF1ZXN0KHRoaXMuX291dGJvdW5kUXVldWUucG9wKCksIDAsIGlzVGVhcmRvd24pO1xyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX3JldHJ5UmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKGNvbm4sIHJlcXVlc3QsIHRva2VuQ291bnQsIGFwaWtleSwgcmV0cnlDb3VudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNob3VsZFJldHJ5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAoY29ubiAmJiB0eXBlb2YgY29ubi5zdGF0dXMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHZhciBraWxsZWRUb2tlbnMgPSB0aGlzLl9raWxsU3dpdGNoLnNldEtpbGxTd2l0Y2hUZW5hbnRzKGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtdG9rZW5zJyksIGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtZHVyYXRpb24tc2Vjb25kcycpKTtcclxuICAgICAgICAgICAga2lsbGVkVG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3Rba2V5XTtcclxuICAgICAgICAgICAgICAgIHRva2VuQ291bnQtLTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghQVdUUmV0cnlQb2xpY3lfMS5kZWZhdWx0LnNob3VsZFJldHJ5Rm9yU3RhdHVzKGNvbm4uc3RhdHVzKSB8fCB0b2tlbkNvdW50IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHNob3VsZFJldHJ5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNob3VsZFJldHJ5ICYmIHJldHJ5Q291bnQgPCBNYXhSZXRyaWVzKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QsIHJldHJ5Q291bnQgKyAxLCBmYWxzZSk7IH0sIEFXVFJldHJ5UG9saWN5XzEuZGVmYXVsdC5nZXRNaWxsaXNUb0JhY2tvZmZGb3JSZXRyeShyZXRyeUNvdW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZXF1ZXN0RmluaXNoZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QsIHJldHJ5Q291bnQsIGlzVGVhcmRvd24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjb25uXzEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgdmFyIHRva2VuQ291bnRfMSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBhcGlrZXlfMSA9ICcnO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhyZXF1ZXN0KS5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fa2lsbFN3aXRjaC5pc1RlbmFudEtpbGxlZCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBpa2V5XzEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXlfMSArPSAnLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFwaWtleV8xICs9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuQ291bnRfMSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3RbdG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29ubl8xLm9wZW4oJ1BPU1QnLCB0aGlzLl91cmxTdHJpbmcgKyBhcGlrZXlfMSwgIWlzVGVhcmRvd24pO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGVhcmRvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbm5fMS5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5UmVxdWVzdElmTmVlZGVkKGNvbm5fMSwgcmVxdWVzdCwgdG9rZW5Db3VudF8xLCBhcGlrZXlfMSwgcmV0cnlDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubl8xLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5UmVxdWVzdElmTmVlZGVkKGNvbm5fMSwgcmVxdWVzdCwgdG9rZW5Db3VudF8xLCBhcGlrZXlfMSwgcmV0cnlDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubl8xLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUmVxdWVzdEZpbmlzaGVkKGNvbm5fMSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbkNvdW50XzEgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5nZXRQYXlsb2FkQmxvYihyZXF1ZXN0LCB0b2tlbkNvdW50XzEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5fMS5zZW5kKEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5iYXNlNjRFbmNvZGUoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubl8xLnNlbmQobmV3IFVpbnQ4QXJyYXkoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGVhcmRvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlcXVlc3RGaW5pc2hlZChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZXF1ZXN0RmluaXNoZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX2hhbmRsZVJlcXVlc3RGaW5pc2hlZCA9IGZ1bmN0aW9uIChjb25uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoY29ubikge1xyXG4gICAgICAgICAgICB0aGlzLl9raWxsU3dpdGNoLnNldEtpbGxTd2l0Y2hUZW5hbnRzKGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtdG9rZW5zJyksIGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtZHVyYXRpb24tc2Vjb25kcycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmF0Y2hBbmRTZW5kRXZlbnRzKGZhbHNlKTsgfSwgdGhpcy5fc2VuZGluZ1RpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9mbHVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5ib3VuZFF1ZXVlc1swXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXRjaEFuZFNlbmRFdmVudHMoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NoZWNrUHJpbWFyeUluYm91bmRRdWV1ZUVtcHR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy9Nb3ZlIHRoZSBuZXh0IHF1ZXVlIHRvIGJlIHByaW1hcnlcclxuICAgICAgICAgICAgX3RoaXMuX2luYm91bmRRdWV1ZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9PSBudWxsICYmIGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl9mbHVzaFF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2ZsdXNoKF90aGlzLl9mbHVzaFF1ZXVlLnNoaWZ0KCkpOyB9LCBfdGhpcy5fc2VuZGluZ1RpbWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9pc0N1cnJlbnRseUZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmF0Y2hBbmRTZW5kRXZlbnRzKGZhbHNlKTsgfSwgX3RoaXMuX3NlbmRpbmdUaW1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9jaGVja1ByaW1hcnlJbmJvdW5kUXVldWVFbXB0eSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrT3V0Ym91bmRRdWV1ZUVtcHR5QW5kU2VudChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja1ByaW1hcnlJbmJvdW5kUXVldWVFbXB0eShjYWxsYmFjayk7IH0sIEZsdXNoQ2hlY2tUaW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX2NoZWNrT3V0Ym91bmRRdWV1ZUVtcHR5QW5kU2VudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja091dGJvdW5kUXVldWVFbXB0eUFuZFNlbnQoY2FsbGJhY2spOyB9LCBGbHVzaENoZWNrVGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9vdXRib3VuZFF1ZXVlID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9pbmJvdW5kUXVldWVzID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9uZXdFdmVudHNBbGxvd2VkID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9raWxsU3dpdGNoID0gbmV3IEFXVEtpbGxTd2l0Y2hfMS5kZWZhdWx0KCk7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9pc0N1cnJlbnRseUZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9mbHVzaFF1ZXVlID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9ydW5uaW5nID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl90aW1lb3V0ID0gLTE7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl91cmxTdHJpbmcgPSAnP3FzcD10cnVlJmNvbnRlbnQtdHlwZT1hcHBsaWNhdGlvbiUyRmJvbmQtY29tcGFjdC1iaW5hcnkmY2xpZW50LWlkPU5PX0FVVEgmc2RrLXZlcnNpb249J1xyXG4gICAgICAgICsgVmVyc2lvbi5GdWxsVmVyc2lvblN0cmluZztcclxuICAgIHJldHVybiBBV1RUcmFuc21pc3Npb25NYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBV1RUcmFuc21pc3Npb25NYW5hZ2VyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxNSAqL1xyXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcblxyXG5cclxuLyoqKi8gfSlcclxuLyoqKioqKi8gXSk7XHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmlhLXdlYmpzLWNvbXBhY3Qtc2RrLTEuMi4yLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js\n");

/***/ }),

/***/ "./scripts/app/thirdparty/html2canvas/html2canvas.js":
/*!***********************************************************!*\
  !*** ./scripts/app/thirdparty/html2canvas/html2canvas.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\r\n * html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>\r\n * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\r\n * Released under MIT License\r\n */\r\n\r\n(function (global, factory) {\r\n     true ? module.exports = factory() :\r\n        undefined;\r\n}(this, function () {\r\n    'use strict';\r\n\r\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function () {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function () { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    var Bounds = /** @class */ (function () {\r\n        function Bounds(x, y, w, h) {\r\n            this.left = x;\r\n            this.top = y;\r\n            this.width = w;\r\n            this.height = h;\r\n        }\r\n        Bounds.prototype.add = function (x, y, w, h) {\r\n            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\r\n        };\r\n        Bounds.fromClientRect = function (clientRect) {\r\n            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\r\n        };\r\n        return Bounds;\r\n    }());\r\n    var parseBounds = function (node) {\r\n        return Bounds.fromClientRect(node.getBoundingClientRect());\r\n    };\r\n    var parseDocumentSize = function (document) {\r\n        var body = document.body;\r\n        var documentElement = document.documentElement;\r\n        if (!body || !documentElement) {\r\n            throw new Error(\"Unable to get document size\");\r\n        }\r\n        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\r\n        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\r\n        return new Bounds(0, 0, width, height);\r\n    };\r\n\r\n    /*\r\n     * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>\r\n     * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var toCodePoints = function (str) {\r\n        var codePoints = [];\r\n        var i = 0;\r\n        var length = str.length;\r\n        while (i < length) {\r\n            var value = str.charCodeAt(i++);\r\n            if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n                var extra = str.charCodeAt(i++);\r\n                if ((extra & 0xfc00) === 0xdc00) {\r\n                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n                }\r\n                else {\r\n                    codePoints.push(value);\r\n                    i--;\r\n                }\r\n            }\r\n            else {\r\n                codePoints.push(value);\r\n            }\r\n        }\r\n        return codePoints;\r\n    };\r\n    var fromCodePoint = function () {\r\n        var codePoints = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            codePoints[_i] = arguments[_i];\r\n        }\r\n        if (String.fromCodePoint) {\r\n            return String.fromCodePoint.apply(String, codePoints);\r\n        }\r\n        var length = codePoints.length;\r\n        if (!length) {\r\n            return '';\r\n        }\r\n        var codeUnits = [];\r\n        var index = -1;\r\n        var result = '';\r\n        while (++index < length) {\r\n            var codePoint = codePoints[index];\r\n            if (codePoint <= 0xffff) {\r\n                codeUnits.push(codePoint);\r\n            }\r\n            else {\r\n                codePoint -= 0x10000;\r\n                codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\r\n            }\r\n            if (index + 1 === length || codeUnits.length > 0x4000) {\r\n                result += String.fromCharCode.apply(String, codeUnits);\r\n                codeUnits.length = 0;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i = 0; i < chars.length; i++) {\r\n        lookup[chars.charCodeAt(i)] = i;\r\n    }\r\n    var decode = function (base64) {\r\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\r\n        if (base64[base64.length - 1] === '=') {\r\n            bufferLength--;\r\n            if (base64[base64.length - 2] === '=') {\r\n                bufferLength--;\r\n            }\r\n        }\r\n        var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n            typeof Uint8Array !== 'undefined' &&\r\n            typeof Uint8Array.prototype.slice !== 'undefined'\r\n            ? new ArrayBuffer(bufferLength)\r\n            : new Array(bufferLength);\r\n        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n        for (i = 0; i < len; i += 4) {\r\n            encoded1 = lookup[base64.charCodeAt(i)];\r\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n        }\r\n        return buffer;\r\n    };\r\n    var polyUint16Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 2) {\r\n            bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n    var polyUint32Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 4) {\r\n            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n\r\n    /** Shift size for getting the index-2 table offset. */\r\n    var UTRIE2_SHIFT_2 = 5;\r\n    /** Shift size for getting the index-1 table offset. */\r\n    var UTRIE2_SHIFT_1 = 6 + 5;\r\n    /**\r\n     * Shift size for shifting left the index array values.\r\n     * Increases possible data size with 16-bit index values at the cost\r\n     * of compactability.\r\n     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n     */\r\n    var UTRIE2_INDEX_SHIFT = 2;\r\n    /**\r\n     * Difference between the two shift sizes,\r\n     * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n     */\r\n    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\r\n    /**\r\n     * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n     * lead surrogate code _units_ not code _points_.\r\n     * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n     */\r\n    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\r\n    /** Number of entries in a data block. 32=0x20 */\r\n    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\r\n    /** Mask for getting the lower bits for the in-data-block offset. */\r\n    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\r\n    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\r\n    /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\r\n    /**\r\n     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n     */\r\n    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\r\n    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n    /**\r\n     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n     * Variable length, for code points up to highStart, where the last single-value range starts.\r\n     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n     * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n     *\r\n     * The part of the index-2 table for supplementary code points starts\r\n     * after this index-1 table.\r\n     *\r\n     * Both the index-1 table and the following part of the index-2 table\r\n     * are omitted completely if there is only BMP data.\r\n     */\r\n    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\r\n    /**\r\n     * Number of index-1 entries for the BMP. 32=0x20\r\n     * This part of the index-1 table is omitted from the serialized form.\r\n     */\r\n    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\r\n    /** Number of entries in an index-2 block. 64=0x40 */\r\n    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\r\n    /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\r\n    var slice16 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var slice32 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var createTrieFromBase64 = function (base64) {\r\n        var buffer = decode(base64);\r\n        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\r\n        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\r\n        var headerLength = 24;\r\n        var index = slice16(view16, headerLength / 2, view32[4] / 2);\r\n        var data = view32[5] === 2\r\n            ? slice16(view16, (headerLength + view32[4]) / 2)\r\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\r\n    };\r\n    var Trie = /** @class */ (function () {\r\n        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n            this.initialValue = initialValue;\r\n            this.errorValue = errorValue;\r\n            this.highStart = highStart;\r\n            this.highValueIndex = highValueIndex;\r\n            this.index = index;\r\n            this.data = data;\r\n        }\r\n        /**\r\n         * Get the value for a code point as stored in the Trie.\r\n         *\r\n         * @param codePoint the code point\r\n         * @return the value\r\n         */\r\n        Trie.prototype.get = function (codePoint) {\r\n            var ix;\r\n            if (codePoint >= 0) {\r\n                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n                    // Ordinary BMP code point, excluding leading surrogates.\r\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n                    // 16 bit data is stored in the index array itself.\r\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0xffff) {\r\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\r\n                    // lead surrogate code units and code points.\r\n                    //   The main index has the code unit data.\r\n                    //   For this function, we need the code point data.\r\n                    // Note: this expression could be refactored for slightly improved efficiency, but\r\n                    //       surrogate code points will be so rare in practice that it's not worth it.\r\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint < this.highStart) {\r\n                    // Supplemental code point, use two-level lookup.\r\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\r\n                    ix = this.index[ix];\r\n                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\r\n                    ix = this.index[ix];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0x10ffff) {\r\n                    return this.data[this.highValueIndex];\r\n                }\r\n            }\r\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n            return this.errorValue;\r\n        };\r\n        return Trie;\r\n    }());\r\n\r\n    var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\r\n\r\n    /* @flow */\r\n    var LETTER_NUMBER_MODIFIER = 50;\r\n    // Non-tailorable Line Breaking Classes\r\n    var BK = 1; //  Cause a line break (after)\r\n    var CR = 2; //  Cause a line break (after), except between CR and LF\r\n    var LF = 3; //  Cause a line break (after)\r\n    var CM = 4; //  Prohibit a line break between the character and the preceding character\r\n    var NL = 5; //  Cause a line break (after)\r\n    var WJ = 7; //  Prohibit line breaks before and after\r\n    var ZW = 8; //  Provide a break opportunity\r\n    var GL = 9; //  Prohibit line breaks before and after\r\n    var SP = 10; // Enable indirect line breaks\r\n    var ZWJ = 11; // Prohibit line breaks within joiner sequences\r\n    // Break Opportunities\r\n    var B2 = 12; //  Provide a line break opportunity before and after the character\r\n    var BA = 13; //  Generally provide a line break opportunity after the character\r\n    var BB = 14; //  Generally provide a line break opportunity before the character\r\n    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context\r\n    var CB = 16; //   Provide a line break opportunity contingent on additional information\r\n    // Characters Prohibiting Certain Breaks\r\n    var CL = 17; //  Prohibit line breaks before\r\n    var CP = 18; //  Prohibit line breaks before\r\n    var EX = 19; //  Prohibit line breaks before\r\n    var IN = 20; //  Allow only indirect line breaks between pairs\r\n    var NS = 21; //  Allow only indirect line breaks before\r\n    var OP = 22; //  Prohibit line breaks after\r\n    var QU = 23; //  Act like they are both opening and closing\r\n    // Numeric Context\r\n    var IS = 24; //  Prevent breaks after any and before numeric\r\n    var NU = 25; //  Form numeric expressions for line breaking purposes\r\n    var PO = 26; //  Do not break following a numeric expression\r\n    var PR = 27; //  Do not break in front of a numeric expression\r\n    var SY = 28; //  Prevent a break before; and allow a break after\r\n    // Other Characters\r\n    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\r\n    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\r\n    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.\r\n    var EB = 32; //  Do not break from following Emoji Modifier\r\n    var EM = 33; //  Do not break from preceding Emoji Base\r\n    var H2 = 34; //  Form Korean syllable blocks\r\n    var H3 = 35; //  Form Korean syllable blocks\r\n    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\r\n    var ID = 37; //  Break before or after; except in some numeric context\r\n    var JL = 38; //  Form Korean syllable blocks\r\n    var JV = 39; //  Form Korean syllable blocks\r\n    var JT = 40; //  Form Korean syllable blocks\r\n    var RI = 41; //  Keep pairs together. For pairs; break before and after other classes\r\n    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\r\n    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\r\n    var BREAK_MANDATORY = '!';\r\n    var BREAK_NOT_ALLOWED = '×';\r\n    var BREAK_ALLOWED = '÷';\r\n    var UnicodeTrie = createTrieFromBase64(base64);\r\n    var ALPHABETICS = [AL, HL];\r\n    var HARD_LINE_BREAKS = [BK, CR, LF, NL];\r\n    var SPACE = [SP, ZW];\r\n    var PREFIX_POSTFIX = [PR, PO];\r\n    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\r\n    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\r\n    var HYPHEN = [HY, BA];\r\n    var codePointsToCharacterClasses = function (codePoints, lineBreak) {\r\n        if (lineBreak === void 0) { lineBreak = 'strict'; }\r\n        var types = [];\r\n        var indicies = [];\r\n        var categories = [];\r\n        codePoints.forEach(function (codePoint, index) {\r\n            var classType = UnicodeTrie.get(codePoint);\r\n            if (classType > LETTER_NUMBER_MODIFIER) {\r\n                categories.push(true);\r\n                classType -= LETTER_NUMBER_MODIFIER;\r\n            }\r\n            else {\r\n                categories.push(false);\r\n            }\r\n            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\r\n                // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0\r\n                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\r\n                    indicies.push(index);\r\n                    return types.push(CB);\r\n                }\r\n            }\r\n            if (classType === CM || classType === ZWJ) {\r\n                // LB10 Treat any remaining combining mark or ZWJ as AL.\r\n                if (index === 0) {\r\n                    indicies.push(index);\r\n                    return types.push(AL);\r\n                }\r\n                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\r\n                // the base character in all of the following rules. Treat ZWJ as if it were CM.\r\n                var prev = types[index - 1];\r\n                if (LINE_BREAKS.indexOf(prev) === -1) {\r\n                    indicies.push(indicies[index - 1]);\r\n                    return types.push(prev);\r\n                }\r\n                indicies.push(index);\r\n                return types.push(AL);\r\n            }\r\n            indicies.push(index);\r\n            if (classType === CJ) {\r\n                return types.push(lineBreak === 'strict' ? NS : ID);\r\n            }\r\n            if (classType === SA) {\r\n                return types.push(AL);\r\n            }\r\n            if (classType === AI) {\r\n                return types.push(AL);\r\n            }\r\n            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\r\n            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\r\n            // to take into account the actual line breaking properties for these characters.\r\n            if (classType === XX) {\r\n                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\r\n                    return types.push(ID);\r\n                }\r\n                else {\r\n                    return types.push(AL);\r\n                }\r\n            }\r\n            types.push(classType);\r\n        });\r\n        return [indicies, types, categories];\r\n    };\r\n    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {\r\n        var current = classTypes[currentIndex];\r\n        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\r\n            var i = currentIndex;\r\n            while (i <= classTypes.length) {\r\n                i++;\r\n                var next = classTypes[i];\r\n                if (next === b) {\r\n                    return true;\r\n                }\r\n                if (next !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (current === SP) {\r\n            var i = currentIndex;\r\n            while (i > 0) {\r\n                i--;\r\n                var prev = classTypes[i];\r\n                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\r\n                    var n = currentIndex;\r\n                    while (n <= classTypes.length) {\r\n                        n++;\r\n                        var next = classTypes[n];\r\n                        if (next === b) {\r\n                            return true;\r\n                        }\r\n                        if (next !== SP) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (prev !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var previousNonSpaceClassType = function (currentIndex, classTypes) {\r\n        var i = currentIndex;\r\n        while (i >= 0) {\r\n            var type = classTypes[i];\r\n            if (type === SP) {\r\n                i--;\r\n            }\r\n            else {\r\n                return type;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {\r\n        if (indicies[index] === 0) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var currentIndex = index - 1;\r\n        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var beforeIndex = currentIndex - 1;\r\n        var afterIndex = currentIndex + 1;\r\n        var current = classTypes[currentIndex];\r\n        // LB4 Always break after hard line breaks.\r\n        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\r\n        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\r\n        var next = classTypes[afterIndex];\r\n        if (current === CR && next === LF) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\r\n            return BREAK_MANDATORY;\r\n        }\r\n        // LB6 Do not break before hard line breaks.\r\n        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB7 Do not break before spaces or zero width space.\r\n        if (SPACE.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\r\n        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB11 Do not break before or after Word joiner and related characters.\r\n        if (current === WJ || next === WJ) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12 Do not break after NBSP and related characters.\r\n        if (current === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\r\n        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.\r\n        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB14 Do not break after ‘[’, even after spaces.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB15 Do not break within ‘”[’, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB17 Do not break within ‘——’, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB18 Break after spaces.\r\n        if (current === SP) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB19 Do not break before or after quotation marks, such as ‘ ” ’.\r\n        if (current === QU || next === QU) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB20 Break before and after unresolved CB.\r\n        if (next === CB || current === CB) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\r\n        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21a Don't break after Hebrew + Hyphen.\r\n        if (before === HL && HYPHEN.indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21b Don’t break between Solidus and Hebrew letters.\r\n        if (current === SY && next === HL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\r\n        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23 Do not break between digits and letters.\r\n        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\r\n        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\r\n            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\r\n        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\r\n            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB25 Do not break between the following pairs of classes relevant to numbers:\r\n        if (\r\n            // (PR | PO) × ( OP | HY )? NU\r\n            ([PR, PO].indexOf(current) !== -1 &&\r\n                (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\r\n            // ( OP | HY ) × NU\r\n            ([OP, HY].indexOf(current) !== -1 && next === NU) ||\r\n            // NU ×\t(NU | SY | IS)\r\n            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)\r\n        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\r\n            var prevIndex = currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))\r\n        if ([PR, PO].indexOf(next) !== -1) {\r\n            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // LB26 Do not break a Korean syllable.\r\n        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\r\n            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\r\n            ([JT, H3].indexOf(current) !== -1 && next === JT)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB27 Treat a Korean Syllable Block the same as ID.\r\n        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\r\n            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB28 Do not break between alphabetics (“at”).\r\n        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).\r\n        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\r\n        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||\r\n            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\r\n        // indicators preceding the position of the break.\r\n        if (current === RI && next === RI) {\r\n            var i = indicies[currentIndex];\r\n            var count = 1;\r\n            while (i > 0) {\r\n                i--;\r\n                if (classTypes[i] === RI) {\r\n                    count++;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            if (count % 2 !== 0) {\r\n                return BREAK_NOT_ALLOWED;\r\n            }\r\n        }\r\n        // LB30b Do not break between an emoji base and an emoji modifier.\r\n        if (current === EB && next === EM) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        return BREAK_ALLOWED;\r\n    };\r\n    var cssFormattedClasses = function (codePoints, options) {\r\n        if (!options) {\r\n            options = { lineBreak: 'normal', wordBreak: 'normal' };\r\n        }\r\n        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];\r\n        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\r\n            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });\r\n        }\r\n        var forbiddenBreakpoints = options.wordBreak === 'keep-all'\r\n            ? isLetterNumber.map(function (letterNumber, i) {\r\n                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\r\n            })\r\n            : undefined;\r\n        return [indicies, classTypes, forbiddenBreakpoints];\r\n    };\r\n    var Break = /** @class */ (function () {\r\n        function Break(codePoints, lineBreak, start, end) {\r\n            this.codePoints = codePoints;\r\n            this.required = lineBreak === BREAK_MANDATORY;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        Break.prototype.slice = function () {\r\n            return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));\r\n        };\r\n        return Break;\r\n    }());\r\n    var LineBreaker = function (str, options) {\r\n        var codePoints = toCodePoints(str);\r\n        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];\r\n        var length = codePoints.length;\r\n        var lastEnd = 0;\r\n        var nextIndex = 0;\r\n        return {\r\n            next: function () {\r\n                if (nextIndex >= length) {\r\n                    return { done: true, value: null };\r\n                }\r\n                var lineBreak = BREAK_NOT_ALLOWED;\r\n                while (nextIndex < length &&\r\n                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\r\n                    BREAK_NOT_ALLOWED) { }\r\n                if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\r\n                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\r\n                    lastEnd = nextIndex;\r\n                    return { value: value, done: false };\r\n                }\r\n                return { done: true, value: null };\r\n            },\r\n        };\r\n    };\r\n\r\n    // https://www.w3.org/TR/css-syntax-3\r\n    var TokenType;\r\n    (function (TokenType) {\r\n        TokenType[TokenType[\"STRING_TOKEN\"] = 0] = \"STRING_TOKEN\";\r\n        TokenType[TokenType[\"BAD_STRING_TOKEN\"] = 1] = \"BAD_STRING_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_PARENTHESIS_TOKEN\"] = 2] = \"LEFT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_PARENTHESIS_TOKEN\"] = 3] = \"RIGHT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"COMMA_TOKEN\"] = 4] = \"COMMA_TOKEN\";\r\n        TokenType[TokenType[\"HASH_TOKEN\"] = 5] = \"HASH_TOKEN\";\r\n        TokenType[TokenType[\"DELIM_TOKEN\"] = 6] = \"DELIM_TOKEN\";\r\n        TokenType[TokenType[\"AT_KEYWORD_TOKEN\"] = 7] = \"AT_KEYWORD_TOKEN\";\r\n        TokenType[TokenType[\"PREFIX_MATCH_TOKEN\"] = 8] = \"PREFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DASH_MATCH_TOKEN\"] = 9] = \"DASH_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"INCLUDE_MATCH_TOKEN\"] = 10] = \"INCLUDE_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_CURLY_BRACKET_TOKEN\"] = 11] = \"LEFT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_CURLY_BRACKET_TOKEN\"] = 12] = \"RIGHT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"SUFFIX_MATCH_TOKEN\"] = 13] = \"SUFFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"SUBSTRING_MATCH_TOKEN\"] = 14] = \"SUBSTRING_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DIMENSION_TOKEN\"] = 15] = \"DIMENSION_TOKEN\";\r\n        TokenType[TokenType[\"PERCENTAGE_TOKEN\"] = 16] = \"PERCENTAGE_TOKEN\";\r\n        TokenType[TokenType[\"NUMBER_TOKEN\"] = 17] = \"NUMBER_TOKEN\";\r\n        TokenType[TokenType[\"FUNCTION\"] = 18] = \"FUNCTION\";\r\n        TokenType[TokenType[\"FUNCTION_TOKEN\"] = 19] = \"FUNCTION_TOKEN\";\r\n        TokenType[TokenType[\"IDENT_TOKEN\"] = 20] = \"IDENT_TOKEN\";\r\n        TokenType[TokenType[\"COLUMN_TOKEN\"] = 21] = \"COLUMN_TOKEN\";\r\n        TokenType[TokenType[\"URL_TOKEN\"] = 22] = \"URL_TOKEN\";\r\n        TokenType[TokenType[\"BAD_URL_TOKEN\"] = 23] = \"BAD_URL_TOKEN\";\r\n        TokenType[TokenType[\"CDC_TOKEN\"] = 24] = \"CDC_TOKEN\";\r\n        TokenType[TokenType[\"CDO_TOKEN\"] = 25] = \"CDO_TOKEN\";\r\n        TokenType[TokenType[\"COLON_TOKEN\"] = 26] = \"COLON_TOKEN\";\r\n        TokenType[TokenType[\"SEMICOLON_TOKEN\"] = 27] = \"SEMICOLON_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_SQUARE_BRACKET_TOKEN\"] = 28] = \"LEFT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_SQUARE_BRACKET_TOKEN\"] = 29] = \"RIGHT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"UNICODE_RANGE_TOKEN\"] = 30] = \"UNICODE_RANGE_TOKEN\";\r\n        TokenType[TokenType[\"WHITESPACE_TOKEN\"] = 31] = \"WHITESPACE_TOKEN\";\r\n        TokenType[TokenType[\"EOF_TOKEN\"] = 32] = \"EOF_TOKEN\";\r\n    })(TokenType || (TokenType = {}));\r\n    var FLAG_UNRESTRICTED = 1 << 0;\r\n    var FLAG_ID = 1 << 1;\r\n    var FLAG_INTEGER = 1 << 2;\r\n    var FLAG_NUMBER = 1 << 3;\r\n    var LINE_FEED = 0x000a;\r\n    var SOLIDUS = 0x002f;\r\n    var REVERSE_SOLIDUS = 0x005c;\r\n    var CHARACTER_TABULATION = 0x0009;\r\n    var SPACE$1 = 0x0020;\r\n    var QUOTATION_MARK = 0x0022;\r\n    var EQUALS_SIGN = 0x003d;\r\n    var NUMBER_SIGN = 0x0023;\r\n    var DOLLAR_SIGN = 0x0024;\r\n    var PERCENTAGE_SIGN = 0x0025;\r\n    var APOSTROPHE = 0x0027;\r\n    var LEFT_PARENTHESIS = 0x0028;\r\n    var RIGHT_PARENTHESIS = 0x0029;\r\n    var LOW_LINE = 0x005f;\r\n    var HYPHEN_MINUS = 0x002d;\r\n    var EXCLAMATION_MARK = 0x0021;\r\n    var LESS_THAN_SIGN = 0x003c;\r\n    var GREATER_THAN_SIGN = 0x003e;\r\n    var COMMERCIAL_AT = 0x0040;\r\n    var LEFT_SQUARE_BRACKET = 0x005b;\r\n    var RIGHT_SQUARE_BRACKET = 0x005d;\r\n    var CIRCUMFLEX_ACCENT = 0x003d;\r\n    var LEFT_CURLY_BRACKET = 0x007b;\r\n    var QUESTION_MARK = 0x003f;\r\n    var RIGHT_CURLY_BRACKET = 0x007d;\r\n    var VERTICAL_LINE = 0x007c;\r\n    var TILDE = 0x007e;\r\n    var CONTROL = 0x0080;\r\n    var REPLACEMENT_CHARACTER = 0xfffd;\r\n    var ASTERISK = 0x002a;\r\n    var PLUS_SIGN = 0x002b;\r\n    var COMMA = 0x002c;\r\n    var COLON = 0x003a;\r\n    var SEMICOLON = 0x003b;\r\n    var FULL_STOP = 0x002e;\r\n    var NULL = 0x0000;\r\n    var BACKSPACE = 0x0008;\r\n    var LINE_TABULATION = 0x000b;\r\n    var SHIFT_OUT = 0x000e;\r\n    var INFORMATION_SEPARATOR_ONE = 0x001f;\r\n    var DELETE = 0x007f;\r\n    var EOF = -1;\r\n    var ZERO = 0x0030;\r\n    var a = 0x0061;\r\n    var e = 0x0065;\r\n    var f = 0x0066;\r\n    var u = 0x0075;\r\n    var z = 0x007a;\r\n    var A = 0x0041;\r\n    var E = 0x0045;\r\n    var F = 0x0046;\r\n    var U = 0x0055;\r\n    var Z = 0x005a;\r\n    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };\r\n    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };\r\n    var isHex = function (codePoint) {\r\n        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\r\n    };\r\n    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };\r\n    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };\r\n    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };\r\n    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };\r\n    var isWhiteSpace = function (codePoint) {\r\n        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;\r\n    };\r\n    var isNameStartCodePoint = function (codePoint) {\r\n        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\r\n    };\r\n    var isNameCodePoint = function (codePoint) {\r\n        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\r\n    };\r\n    var isNonPrintableCodePoint = function (codePoint) {\r\n        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||\r\n            codePoint === LINE_TABULATION ||\r\n            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\r\n            codePoint === DELETE);\r\n    };\r\n    var isValidEscape = function (c1, c2) {\r\n        if (c1 !== REVERSE_SOLIDUS) {\r\n            return false;\r\n        }\r\n        return c2 !== LINE_FEED;\r\n    };\r\n    var isIdentifierStart = function (c1, c2, c3) {\r\n        if (c1 === HYPHEN_MINUS) {\r\n            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\r\n        }\r\n        else if (isNameStartCodePoint(c1)) {\r\n            return true;\r\n        }\r\n        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var isNumberStart = function (c1, c2, c3) {\r\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n            if (isDigit(c2)) {\r\n                return true;\r\n            }\r\n            return c2 === FULL_STOP && isDigit(c3);\r\n        }\r\n        if (c1 === FULL_STOP) {\r\n            return isDigit(c2);\r\n        }\r\n        return isDigit(c1);\r\n    };\r\n    var stringToNumber = function (codePoints) {\r\n        var c = 0;\r\n        var sign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                sign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var integers = [];\r\n        while (isDigit(codePoints[c])) {\r\n            integers.push(codePoints[c++]);\r\n        }\r\n        var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;\r\n        if (codePoints[c] === FULL_STOP) {\r\n            c++;\r\n        }\r\n        var fraction = [];\r\n        while (isDigit(codePoints[c])) {\r\n            fraction.push(codePoints[c++]);\r\n        }\r\n        var fracd = fraction.length;\r\n        var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;\r\n        if (codePoints[c] === E || codePoints[c] === e) {\r\n            c++;\r\n        }\r\n        var expsign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                expsign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var exponent = [];\r\n        while (isDigit(codePoints[c])) {\r\n            exponent.push(codePoints[c++]);\r\n        }\r\n        var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;\r\n        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\r\n    };\r\n    var LEFT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.LEFT_PARENTHESIS_TOKEN\r\n    };\r\n    var RIGHT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.RIGHT_PARENTHESIS_TOKEN\r\n    };\r\n    var COMMA_TOKEN = { type: TokenType.COMMA_TOKEN };\r\n    var SUFFIX_MATCH_TOKEN = { type: TokenType.SUFFIX_MATCH_TOKEN };\r\n    var PREFIX_MATCH_TOKEN = { type: TokenType.PREFIX_MATCH_TOKEN };\r\n    var COLUMN_TOKEN = { type: TokenType.COLUMN_TOKEN };\r\n    var DASH_MATCH_TOKEN = { type: TokenType.DASH_MATCH_TOKEN };\r\n    var INCLUDE_MATCH_TOKEN = { type: TokenType.INCLUDE_MATCH_TOKEN };\r\n    var LEFT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var SUBSTRING_MATCH_TOKEN = { type: TokenType.SUBSTRING_MATCH_TOKEN };\r\n    var BAD_URL_TOKEN = { type: TokenType.BAD_URL_TOKEN };\r\n    var BAD_STRING_TOKEN = { type: TokenType.BAD_STRING_TOKEN };\r\n    var CDO_TOKEN = { type: TokenType.CDO_TOKEN };\r\n    var CDC_TOKEN = { type: TokenType.CDC_TOKEN };\r\n    var COLON_TOKEN = { type: TokenType.COLON_TOKEN };\r\n    var SEMICOLON_TOKEN = { type: TokenType.SEMICOLON_TOKEN };\r\n    var LEFT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var WHITESPACE_TOKEN = { type: TokenType.WHITESPACE_TOKEN };\r\n    var EOF_TOKEN = { type: TokenType.EOF_TOKEN };\r\n    var Tokenizer = /** @class */ (function () {\r\n        function Tokenizer() {\r\n            this._value = [];\r\n        }\r\n        Tokenizer.prototype.write = function (chunk) {\r\n            this._value = this._value.concat(toCodePoints(chunk));\r\n        };\r\n        Tokenizer.prototype.read = function () {\r\n            var tokens = [];\r\n            var token = this.consumeToken();\r\n            while (token !== EOF_TOKEN) {\r\n                tokens.push(token);\r\n                token = this.consumeToken();\r\n            }\r\n            return tokens;\r\n        };\r\n        Tokenizer.prototype.consumeToken = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            switch (codePoint) {\r\n                case QUOTATION_MARK:\r\n                    return this.consumeStringToken(QUOTATION_MARK);\r\n                case NUMBER_SIGN:\r\n                    var c1 = this.peekCodePoint(0);\r\n                    var c2 = this.peekCodePoint(1);\r\n                    var c3 = this.peekCodePoint(2);\r\n                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\r\n                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.HASH_TOKEN, value: value, flags: flags };\r\n                    }\r\n                    break;\r\n                case DOLLAR_SIGN:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUFFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case APOSTROPHE:\r\n                    return this.consumeStringToken(APOSTROPHE);\r\n                case LEFT_PARENTHESIS:\r\n                    return LEFT_PARENTHESIS_TOKEN;\r\n                case RIGHT_PARENTHESIS:\r\n                    return RIGHT_PARENTHESIS_TOKEN;\r\n                case ASTERISK:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUBSTRING_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case PLUS_SIGN:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case COMMA:\r\n                    return COMMA_TOKEN;\r\n                case HYPHEN_MINUS:\r\n                    var e1 = codePoint;\r\n                    var e2 = this.peekCodePoint(0);\r\n                    var e3 = this.peekCodePoint(1);\r\n                    if (isNumberStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    if (isIdentifierStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDC_TOKEN;\r\n                    }\r\n                    break;\r\n                case FULL_STOP:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case SOLIDUS:\r\n                    if (this.peekCodePoint(0) === ASTERISK) {\r\n                        this.consumeCodePoint();\r\n                        while (true) {\r\n                            var c = this.consumeCodePoint();\r\n                            if (c === ASTERISK) {\r\n                                c = this.consumeCodePoint();\r\n                                if (c === SOLIDUS) {\r\n                                    return this.consumeToken();\r\n                                }\r\n                            }\r\n                            if (c === EOF) {\r\n                                return this.consumeToken();\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case COLON:\r\n                    return COLON_TOKEN;\r\n                case SEMICOLON:\r\n                    return SEMICOLON_TOKEN;\r\n                case LESS_THAN_SIGN:\r\n                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&\r\n                        this.peekCodePoint(1) === HYPHEN_MINUS &&\r\n                        this.peekCodePoint(2) === HYPHEN_MINUS) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDO_TOKEN;\r\n                    }\r\n                    break;\r\n                case COMMERCIAL_AT:\r\n                    var a1 = this.peekCodePoint(0);\r\n                    var a2 = this.peekCodePoint(1);\r\n                    var a3 = this.peekCodePoint(2);\r\n                    if (isIdentifierStart(a1, a2, a3)) {\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.AT_KEYWORD_TOKEN, value: value };\r\n                    }\r\n                    break;\r\n                case LEFT_SQUARE_BRACKET:\r\n                    return LEFT_SQUARE_BRACKET_TOKEN;\r\n                case REVERSE_SOLIDUS:\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    break;\r\n                case RIGHT_SQUARE_BRACKET:\r\n                    return RIGHT_SQUARE_BRACKET_TOKEN;\r\n                case CIRCUMFLEX_ACCENT:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return PREFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case LEFT_CURLY_BRACKET:\r\n                    return LEFT_CURLY_BRACKET_TOKEN;\r\n                case RIGHT_CURLY_BRACKET:\r\n                    return RIGHT_CURLY_BRACKET_TOKEN;\r\n                case u:\r\n                case U:\r\n                    var u1 = this.peekCodePoint(0);\r\n                    var u2 = this.peekCodePoint(1);\r\n                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeUnicodeRangeToken();\r\n                    }\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return this.consumeIdentLikeToken();\r\n                case VERTICAL_LINE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return DASH_MATCH_TOKEN;\r\n                    }\r\n                    if (this.peekCodePoint(0) === VERTICAL_LINE) {\r\n                        this.consumeCodePoint();\r\n                        return COLUMN_TOKEN;\r\n                    }\r\n                    break;\r\n                case TILDE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return INCLUDE_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case EOF:\r\n                    return EOF_TOKEN;\r\n            }\r\n            if (isWhiteSpace(codePoint)) {\r\n                this.consumeWhiteSpace();\r\n                return WHITESPACE_TOKEN;\r\n            }\r\n            if (isDigit(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeNumericToken();\r\n            }\r\n            if (isNameStartCodePoint(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeIdentLikeToken();\r\n            }\r\n            return { type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint) };\r\n        };\r\n        Tokenizer.prototype.consumeCodePoint = function () {\r\n            var value = this._value.shift();\r\n            return typeof value === 'undefined' ? -1 : value;\r\n        };\r\n        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {\r\n            this._value.unshift(codePoint);\r\n        };\r\n        Tokenizer.prototype.peekCodePoint = function (delta) {\r\n            if (delta >= this._value.length) {\r\n                return -1;\r\n            }\r\n            return this._value[delta];\r\n        };\r\n        Tokenizer.prototype.consumeUnicodeRangeToken = function () {\r\n            var digits = [];\r\n            var codePoint = this.consumeCodePoint();\r\n            while (isHex(codePoint) && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n            }\r\n            var questionMarks = false;\r\n            while (codePoint === QUESTION_MARK && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n                questionMarks = true;\r\n            }\r\n            if (questionMarks) {\r\n                var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);\r\n                var end = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start_1, end: end };\r\n            }\r\n            var start = parseInt(fromCodePoint.apply(void 0, digits), 16);\r\n            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\r\n                this.consumeCodePoint();\r\n                codePoint = this.consumeCodePoint();\r\n                var endDigits = [];\r\n                while (isHex(codePoint) && endDigits.length < 6) {\r\n                    endDigits.push(codePoint);\r\n                    codePoint = this.consumeCodePoint();\r\n                }\r\n                var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: end };\r\n            }\r\n            else {\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: start };\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeIdentLikeToken = function () {\r\n            var value = this.consumeName();\r\n            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return this.consumeUrlToken();\r\n            }\r\n            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.FUNCTION_TOKEN, value: value };\r\n            }\r\n            return { type: TokenType.IDENT_TOKEN, value: value };\r\n        };\r\n        Tokenizer.prototype.consumeUrlToken = function () {\r\n            var value = [];\r\n            this.consumeWhiteSpace();\r\n            if (this.peekCodePoint(0) === EOF) {\r\n                return { type: TokenType.URL_TOKEN, value: '' };\r\n            }\r\n            var next = this.peekCodePoint(0);\r\n            if (next === APOSTROPHE || next === QUOTATION_MARK) {\r\n                var stringToken = this.consumeStringToken(this.consumeCodePoint());\r\n                if (stringToken.type === TokenType.STRING_TOKEN) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: stringToken.value };\r\n                    }\r\n                }\r\n                this.consumeBadUrlRemnants();\r\n                return BAD_URL_TOKEN;\r\n            }\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\r\n                    return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                }\r\n                else if (isWhiteSpace(codePoint)) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                    }\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === QUOTATION_MARK ||\r\n                    codePoint === APOSTROPHE ||\r\n                    codePoint === LEFT_PARENTHESIS ||\r\n                    isNonPrintableCodePoint(codePoint)) {\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === REVERSE_SOLIDUS) {\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        value.push(this.consumeEscapedCodePoint());\r\n                    }\r\n                    else {\r\n                        this.consumeBadUrlRemnants();\r\n                        return BAD_URL_TOKEN;\r\n                    }\r\n                }\r\n                else {\r\n                    value.push(codePoint);\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeWhiteSpace = function () {\r\n            while (isWhiteSpace(this.peekCodePoint(0))) {\r\n                this.consumeCodePoint();\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeBadUrlRemnants = function () {\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\r\n                    return;\r\n                }\r\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    this.consumeEscapedCodePoint();\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeStringSlice = function (count) {\r\n            var SLICE_STACK_SIZE = 60000;\r\n            var value = '';\r\n            while (count > 0) {\r\n                var amount = Math.min(SLICE_STACK_SIZE, count);\r\n                value += fromCodePoint.apply(void 0, this._value.splice(0, amount));\r\n                count -= amount;\r\n            }\r\n            this._value.shift();\r\n            return value;\r\n        };\r\n        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {\r\n            var value = '';\r\n            var i = 0;\r\n            do {\r\n                var codePoint = this._value[i];\r\n                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\r\n                    value += this.consumeStringSlice(i);\r\n                    return { type: TokenType.STRING_TOKEN, value: value };\r\n                }\r\n                if (codePoint === LINE_FEED) {\r\n                    this._value.splice(0, i);\r\n                    return BAD_STRING_TOKEN;\r\n                }\r\n                if (codePoint === REVERSE_SOLIDUS) {\r\n                    var next = this._value[i + 1];\r\n                    if (next !== EOF && next !== undefined) {\r\n                        if (next === LINE_FEED) {\r\n                            value += this.consumeStringSlice(i);\r\n                            i = -1;\r\n                            this._value.shift();\r\n                        }\r\n                        else if (isValidEscape(codePoint, next)) {\r\n                            value += this.consumeStringSlice(i);\r\n                            value += fromCodePoint(this.consumeEscapedCodePoint());\r\n                            i = -1;\r\n                        }\r\n                    }\r\n                }\r\n                i++;\r\n            } while (true);\r\n        };\r\n        Tokenizer.prototype.consumeNumber = function () {\r\n            var repr = [];\r\n            var type = FLAG_INTEGER;\r\n            var c1 = this.peekCodePoint(0);\r\n            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            while (isDigit(this.peekCodePoint(0))) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            if (c1 === FULL_STOP && isDigit(c2)) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            return [stringToNumber(repr), type];\r\n        };\r\n        Tokenizer.prototype.consumeNumericToken = function () {\r\n            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];\r\n            var c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if (isIdentifierStart(c1, c2, c3)) {\r\n                var unit = this.consumeName();\r\n                return { type: TokenType.DIMENSION_TOKEN, number: number, flags: flags, unit: unit };\r\n            }\r\n            if (c1 === PERCENTAGE_SIGN) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.PERCENTAGE_TOKEN, number: number, flags: flags };\r\n            }\r\n            return { type: TokenType.NUMBER_TOKEN, number: number, flags: flags };\r\n        };\r\n        Tokenizer.prototype.consumeEscapedCodePoint = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            if (isHex(codePoint)) {\r\n                var hex = fromCodePoint(codePoint);\r\n                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\r\n                    hex += fromCodePoint(this.consumeCodePoint());\r\n                }\r\n                if (isWhiteSpace(this.peekCodePoint(0))) {\r\n                    this.consumeCodePoint();\r\n                }\r\n                var hexCodePoint = parseInt(hex, 16);\r\n                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\r\n                    return REPLACEMENT_CHARACTER;\r\n                }\r\n                return hexCodePoint;\r\n            }\r\n            if (codePoint === EOF) {\r\n                return REPLACEMENT_CHARACTER;\r\n            }\r\n            return codePoint;\r\n        };\r\n        Tokenizer.prototype.consumeName = function () {\r\n            var result = '';\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (isNameCodePoint(codePoint)) {\r\n                    result += fromCodePoint(codePoint);\r\n                }\r\n                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    result += fromCodePoint(this.consumeEscapedCodePoint());\r\n                }\r\n                else {\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return result;\r\n                }\r\n            }\r\n        };\r\n        return Tokenizer;\r\n    }());\r\n\r\n    var Parser = /** @class */ (function () {\r\n        function Parser(tokens) {\r\n            this._tokens = tokens;\r\n        }\r\n        Parser.create = function (value) {\r\n            var tokenizer = new Tokenizer();\r\n            tokenizer.write(value);\r\n            return new Parser(tokenizer.read());\r\n        };\r\n        Parser.parseValue = function (value) {\r\n            return Parser.create(value).parseComponentValue();\r\n        };\r\n        Parser.parseValues = function (value) {\r\n            return Parser.create(value).parseComponentValues();\r\n        };\r\n        Parser.prototype.parseComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            while (token.type === TokenType.WHITESPACE_TOKEN) {\r\n                token = this.consumeToken();\r\n            }\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");\r\n            }\r\n            this.reconsumeToken(token);\r\n            var value = this.consumeComponentValue();\r\n            do {\r\n                token = this.consumeToken();\r\n            } while (token.type === TokenType.WHITESPACE_TOKEN);\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                return value;\r\n            }\r\n            throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\");\r\n        };\r\n        Parser.prototype.parseComponentValues = function () {\r\n            var values = [];\r\n            while (true) {\r\n                var value = this.consumeComponentValue();\r\n                if (value.type === TokenType.EOF_TOKEN) {\r\n                    return values;\r\n                }\r\n                values.push(value);\r\n                values.push();\r\n            }\r\n        };\r\n        Parser.prototype.consumeComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            switch (token.type) {\r\n                case TokenType.LEFT_CURLY_BRACKET_TOKEN:\r\n                case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\r\n                case TokenType.LEFT_PARENTHESIS_TOKEN:\r\n                    return this.consumeSimpleBlock(token.type);\r\n                case TokenType.FUNCTION_TOKEN:\r\n                    return this.consumeFunction(token);\r\n            }\r\n            return token;\r\n        };\r\n        Parser.prototype.consumeSimpleBlock = function (type) {\r\n            var block = { type: type, values: [] };\r\n            var token = this.consumeToken();\r\n            while (true) {\r\n                if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\r\n                    return block;\r\n                }\r\n                this.reconsumeToken(token);\r\n                block.values.push(this.consumeComponentValue());\r\n                token = this.consumeToken();\r\n            }\r\n        };\r\n        Parser.prototype.consumeFunction = function (functionToken) {\r\n            var cssFunction = {\r\n                name: functionToken.value,\r\n                values: [],\r\n                type: TokenType.FUNCTION\r\n            };\r\n            while (true) {\r\n                var token = this.consumeToken();\r\n                if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\r\n                    return cssFunction;\r\n                }\r\n                this.reconsumeToken(token);\r\n                cssFunction.values.push(this.consumeComponentValue());\r\n            }\r\n        };\r\n        Parser.prototype.consumeToken = function () {\r\n            var token = this._tokens.shift();\r\n            return typeof token === 'undefined' ? EOF_TOKEN : token;\r\n        };\r\n        Parser.prototype.reconsumeToken = function (token) {\r\n            this._tokens.unshift(token);\r\n        };\r\n        return Parser;\r\n    }());\r\n    var isDimensionToken = function (token) { return token.type === TokenType.DIMENSION_TOKEN; };\r\n    var isNumberToken = function (token) { return token.type === TokenType.NUMBER_TOKEN; };\r\n    var isIdentToken = function (token) { return token.type === TokenType.IDENT_TOKEN; };\r\n    var isStringToken = function (token) { return token.type === TokenType.STRING_TOKEN; };\r\n    var isIdentWithValue = function (token, value) {\r\n        return isIdentToken(token) && token.value === value;\r\n    };\r\n    var nonWhiteSpace = function (token) { return token.type !== TokenType.WHITESPACE_TOKEN; };\r\n    var nonFunctionArgSeparator = function (token) {\r\n        return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\r\n    };\r\n    var parseFunctionArgs = function (tokens) {\r\n        var args = [];\r\n        var arg = [];\r\n        tokens.forEach(function (token) {\r\n            if (token.type === TokenType.COMMA_TOKEN) {\r\n                if (arg.length === 0) {\r\n                    throw new Error(\"Error parsing function args, zero tokens for arg\");\r\n                }\r\n                args.push(arg);\r\n                arg = [];\r\n                return;\r\n            }\r\n            if (token.type !== TokenType.WHITESPACE_TOKEN) {\r\n                arg.push(token);\r\n            }\r\n        });\r\n        if (arg.length) {\r\n            args.push(arg);\r\n        }\r\n        return args;\r\n    };\r\n    var isEndingTokenFor = function (token, type) {\r\n        if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\r\n    };\r\n\r\n    var isLength = function (token) {\r\n        return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\r\n    };\r\n\r\n    var isLengthPercentage = function (token) {\r\n        return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\r\n    };\r\n    var parseLengthPercentageTuple = function (tokens) {\r\n        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\r\n    };\r\n    var ZERO_LENGTH = {\r\n        type: TokenType.NUMBER_TOKEN,\r\n        number: 0,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var FIFTY_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var HUNDRED_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 100,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var getAbsoluteValueForTuple = function (tuple, width, height) {\r\n        var x = tuple[0], y = tuple[1];\r\n        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\r\n    };\r\n    var getAbsoluteValue = function (token, parent) {\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            return (token.number / 100) * parent;\r\n        }\r\n        if (isDimensionToken(token)) {\r\n            switch (token.unit) {\r\n                case 'rem':\r\n                case 'em':\r\n                    return 16 * token.number; // TODO use correct font-size\r\n                case 'px':\r\n                default:\r\n                    return token.number;\r\n            }\r\n        }\r\n        return token.number;\r\n    };\r\n\r\n    var DEG = 'deg';\r\n    var GRAD = 'grad';\r\n    var RAD = 'rad';\r\n    var TURN = 'turn';\r\n    var angle = {\r\n        name: 'angle',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.DIMENSION_TOKEN) {\r\n                switch (value.unit) {\r\n                    case DEG:\r\n                        return (Math.PI * value.number) / 180;\r\n                    case GRAD:\r\n                        return (Math.PI / 200) * value.number;\r\n                    case RAD:\r\n                        return value.number;\r\n                    case TURN:\r\n                        return Math.PI * 2 * value.number;\r\n                }\r\n            }\r\n            throw new Error(\"Unsupported angle type\");\r\n        }\r\n    };\r\n    var isAngle = function (value) {\r\n        if (value.type === TokenType.DIMENSION_TOKEN) {\r\n            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var parseNamedSide = function (tokens) {\r\n        var sideOrCorner = tokens\r\n            .filter(isIdentToken)\r\n            .map(function (ident) { return ident.value; })\r\n            .join(' ');\r\n        switch (sideOrCorner) {\r\n            case 'to bottom right':\r\n            case 'to right bottom':\r\n            case 'left top':\r\n            case 'top left':\r\n                return [ZERO_LENGTH, ZERO_LENGTH];\r\n            case 'to top':\r\n            case 'bottom':\r\n                return deg(0);\r\n            case 'to bottom left':\r\n            case 'to left bottom':\r\n            case 'right top':\r\n            case 'top right':\r\n                return [ZERO_LENGTH, HUNDRED_PERCENT];\r\n            case 'to right':\r\n            case 'left':\r\n                return deg(90);\r\n            case 'to top left':\r\n            case 'to left top':\r\n            case 'right bottom':\r\n            case 'bottom right':\r\n                return [HUNDRED_PERCENT, HUNDRED_PERCENT];\r\n            case 'to bottom':\r\n            case 'top':\r\n                return deg(180);\r\n            case 'to top right':\r\n            case 'to right top':\r\n            case 'left bottom':\r\n            case 'bottom left':\r\n                return [HUNDRED_PERCENT, ZERO_LENGTH];\r\n            case 'to left':\r\n            case 'right':\r\n                return deg(270);\r\n        }\r\n        return 0;\r\n    };\r\n    var deg = function (deg) { return (Math.PI * deg) / 180; };\r\n\r\n    var color = {\r\n        name: 'color',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\r\n                if (typeof colorFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported color function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return colorFunction(value.values);\r\n            }\r\n            if (value.type === TokenType.HASH_TOKEN) {\r\n                if (value.value.length === 3) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\r\n                }\r\n                if (value.value.length === 4) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    var a = value.value.substring(3, 4);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\r\n                }\r\n                if (value.value.length === 6) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\r\n                }\r\n                if (value.value.length === 8) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    var a = value.value.substring(6, 8);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\r\n                }\r\n            }\r\n            if (value.type === TokenType.IDENT_TOKEN) {\r\n                var namedColor = COLORS[value.value.toUpperCase()];\r\n                if (typeof namedColor !== 'undefined') {\r\n                    return namedColor;\r\n                }\r\n            }\r\n            return COLORS.TRANSPARENT;\r\n        }\r\n    };\r\n    var isTransparent = function (color) { return (0xff & color) === 0; };\r\n    var asString = function (color) {\r\n        var alpha = 0xff & color;\r\n        var blue = 0xff & (color >> 8);\r\n        var green = 0xff & (color >> 16);\r\n        var red = 0xff & (color >> 24);\r\n        return alpha < 255 ? \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha / 255 + \")\" : \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\r\n    };\r\n    var pack = function (r, g, b, a) {\r\n        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\r\n    };\r\n    var getTokenColorValue = function (token, i) {\r\n        if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return token.number;\r\n        }\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            var max = i === 3 ? 1 : 255;\r\n            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\r\n        }\r\n        return 0;\r\n    };\r\n    var rgb = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        if (tokens.length === 3) {\r\n            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];\r\n            return pack(r, g, b, 1);\r\n        }\r\n        if (tokens.length === 4) {\r\n            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];\r\n            return pack(r, g, b, a);\r\n        }\r\n        return 0;\r\n    };\r\n    function hue2rgb(t1, t2, hue) {\r\n        if (hue < 0) {\r\n            hue += 1;\r\n        }\r\n        if (hue >= 1) {\r\n            hue -= 1;\r\n        }\r\n        if (hue < 1 / 6) {\r\n            return (t2 - t1) * hue * 6 + t1;\r\n        }\r\n        else if (hue < 1 / 2) {\r\n            return t2;\r\n        }\r\n        else if (hue < 2 / 3) {\r\n            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\r\n        }\r\n        else {\r\n            return t1;\r\n        }\r\n    }\r\n    var hsl = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];\r\n        var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);\r\n        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\r\n        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\r\n        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\r\n        if (s === 0) {\r\n            return pack(l * 255, l * 255, l * 255, 1);\r\n        }\r\n        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n        var t1 = l * 2 - t2;\r\n        var r = hue2rgb(t1, t2, h + 1 / 3);\r\n        var g = hue2rgb(t1, t2, h);\r\n        var b = hue2rgb(t1, t2, h - 1 / 3);\r\n        return pack(r * 255, g * 255, b * 255, a);\r\n    };\r\n    var SUPPORTED_COLOR_FUNCTIONS = {\r\n        hsl: hsl,\r\n        hsla: hsl,\r\n        rgb: rgb,\r\n        rgba: rgb\r\n    };\r\n    var COLORS = {\r\n        ALICEBLUE: 0xf0f8ffff,\r\n        ANTIQUEWHITE: 0xfaebd7ff,\r\n        AQUA: 0x00ffffff,\r\n        AQUAMARINE: 0x7fffd4ff,\r\n        AZURE: 0xf0ffffff,\r\n        BEIGE: 0xf5f5dcff,\r\n        BISQUE: 0xffe4c4ff,\r\n        BLACK: 0x000000ff,\r\n        BLANCHEDALMOND: 0xffebcdff,\r\n        BLUE: 0x0000ffff,\r\n        BLUEVIOLET: 0x8a2be2ff,\r\n        BROWN: 0xa52a2aff,\r\n        BURLYWOOD: 0xdeb887ff,\r\n        CADETBLUE: 0x5f9ea0ff,\r\n        CHARTREUSE: 0x7fff00ff,\r\n        CHOCOLATE: 0xd2691eff,\r\n        CORAL: 0xff7f50ff,\r\n        CORNFLOWERBLUE: 0x6495edff,\r\n        CORNSILK: 0xfff8dcff,\r\n        CRIMSON: 0xdc143cff,\r\n        CYAN: 0x00ffffff,\r\n        DARKBLUE: 0x00008bff,\r\n        DARKCYAN: 0x008b8bff,\r\n        DARKGOLDENROD: 0xb886bbff,\r\n        DARKGRAY: 0xa9a9a9ff,\r\n        DARKGREEN: 0x006400ff,\r\n        DARKGREY: 0xa9a9a9ff,\r\n        DARKKHAKI: 0xbdb76bff,\r\n        DARKMAGENTA: 0x8b008bff,\r\n        DARKOLIVEGREEN: 0x556b2fff,\r\n        DARKORANGE: 0xff8c00ff,\r\n        DARKORCHID: 0x9932ccff,\r\n        DARKRED: 0x8b0000ff,\r\n        DARKSALMON: 0xe9967aff,\r\n        DARKSEAGREEN: 0x8fbc8fff,\r\n        DARKSLATEBLUE: 0x483d8bff,\r\n        DARKSLATEGRAY: 0x2f4f4fff,\r\n        DARKSLATEGREY: 0x2f4f4fff,\r\n        DARKTURQUOISE: 0x00ced1ff,\r\n        DARKVIOLET: 0x9400d3ff,\r\n        DEEPPINK: 0xff1493ff,\r\n        DEEPSKYBLUE: 0x00bfffff,\r\n        DIMGRAY: 0x696969ff,\r\n        DIMGREY: 0x696969ff,\r\n        DODGERBLUE: 0x1e90ffff,\r\n        FIREBRICK: 0xb22222ff,\r\n        FLORALWHITE: 0xfffaf0ff,\r\n        FORESTGREEN: 0x228b22ff,\r\n        FUCHSIA: 0xff00ffff,\r\n        GAINSBORO: 0xdcdcdcff,\r\n        GHOSTWHITE: 0xf8f8ffff,\r\n        GOLD: 0xffd700ff,\r\n        GOLDENROD: 0xdaa520ff,\r\n        GRAY: 0x808080ff,\r\n        GREEN: 0x008000ff,\r\n        GREENYELLOW: 0xadff2fff,\r\n        GREY: 0x808080ff,\r\n        HONEYDEW: 0xf0fff0ff,\r\n        HOTPINK: 0xff69b4ff,\r\n        INDIANRED: 0xcd5c5cff,\r\n        INDIGO: 0x4b0082ff,\r\n        IVORY: 0xfffff0ff,\r\n        KHAKI: 0xf0e68cff,\r\n        LAVENDER: 0xe6e6faff,\r\n        LAVENDERBLUSH: 0xfff0f5ff,\r\n        LAWNGREEN: 0x7cfc00ff,\r\n        LEMONCHIFFON: 0xfffacdff,\r\n        LIGHTBLUE: 0xadd8e6ff,\r\n        LIGHTCORAL: 0xf08080ff,\r\n        LIGHTCYAN: 0xe0ffffff,\r\n        LIGHTGOLDENRODYELLOW: 0xfafad2ff,\r\n        LIGHTGRAY: 0xd3d3d3ff,\r\n        LIGHTGREEN: 0x90ee90ff,\r\n        LIGHTGREY: 0xd3d3d3ff,\r\n        LIGHTPINK: 0xffb6c1ff,\r\n        LIGHTSALMON: 0xffa07aff,\r\n        LIGHTSEAGREEN: 0x20b2aaff,\r\n        LIGHTSKYBLUE: 0x87cefaff,\r\n        LIGHTSLATEGRAY: 0x778899ff,\r\n        LIGHTSLATEGREY: 0x778899ff,\r\n        LIGHTSTEELBLUE: 0xb0c4deff,\r\n        LIGHTYELLOW: 0xffffe0ff,\r\n        LIME: 0x00ff00ff,\r\n        LIMEGREEN: 0x32cd32ff,\r\n        LINEN: 0xfaf0e6ff,\r\n        MAGENTA: 0xff00ffff,\r\n        MAROON: 0x800000ff,\r\n        MEDIUMAQUAMARINE: 0x66cdaaff,\r\n        MEDIUMBLUE: 0x0000cdff,\r\n        MEDIUMORCHID: 0xba55d3ff,\r\n        MEDIUMPURPLE: 0x9370dbff,\r\n        MEDIUMSEAGREEN: 0x3cb371ff,\r\n        MEDIUMSLATEBLUE: 0x7b68eeff,\r\n        MEDIUMSPRINGGREEN: 0x00fa9aff,\r\n        MEDIUMTURQUOISE: 0x48d1ccff,\r\n        MEDIUMVIOLETRED: 0xc71585ff,\r\n        MIDNIGHTBLUE: 0x191970ff,\r\n        MINTCREAM: 0xf5fffaff,\r\n        MISTYROSE: 0xffe4e1ff,\r\n        MOCCASIN: 0xffe4b5ff,\r\n        NAVAJOWHITE: 0xffdeadff,\r\n        NAVY: 0x000080ff,\r\n        OLDLACE: 0xfdf5e6ff,\r\n        OLIVE: 0x808000ff,\r\n        OLIVEDRAB: 0x6b8e23ff,\r\n        ORANGE: 0xffa500ff,\r\n        ORANGERED: 0xff4500ff,\r\n        ORCHID: 0xda70d6ff,\r\n        PALEGOLDENROD: 0xeee8aaff,\r\n        PALEGREEN: 0x98fb98ff,\r\n        PALETURQUOISE: 0xafeeeeff,\r\n        PALEVIOLETRED: 0xdb7093ff,\r\n        PAPAYAWHIP: 0xffefd5ff,\r\n        PEACHPUFF: 0xffdab9ff,\r\n        PERU: 0xcd853fff,\r\n        PINK: 0xffc0cbff,\r\n        PLUM: 0xdda0ddff,\r\n        POWDERBLUE: 0xb0e0e6ff,\r\n        PURPLE: 0x800080ff,\r\n        REBECCAPURPLE: 0x663399ff,\r\n        RED: 0xff0000ff,\r\n        ROSYBROWN: 0xbc8f8fff,\r\n        ROYALBLUE: 0x4169e1ff,\r\n        SADDLEBROWN: 0x8b4513ff,\r\n        SALMON: 0xfa8072ff,\r\n        SANDYBROWN: 0xf4a460ff,\r\n        SEAGREEN: 0x2e8b57ff,\r\n        SEASHELL: 0xfff5eeff,\r\n        SIENNA: 0xa0522dff,\r\n        SILVER: 0xc0c0c0ff,\r\n        SKYBLUE: 0x87ceebff,\r\n        SLATEBLUE: 0x6a5acdff,\r\n        SLATEGRAY: 0x708090ff,\r\n        SLATEGREY: 0x708090ff,\r\n        SNOW: 0xfffafaff,\r\n        SPRINGGREEN: 0x00ff7fff,\r\n        STEELBLUE: 0x4682b4ff,\r\n        TAN: 0xd2b48cff,\r\n        TEAL: 0x008080ff,\r\n        THISTLE: 0xd8bfd8ff,\r\n        TOMATO: 0xff6347ff,\r\n        TRANSPARENT: 0x00000000,\r\n        TURQUOISE: 0x40e0d0ff,\r\n        VIOLET: 0xee82eeff,\r\n        WHEAT: 0xf5deb3ff,\r\n        WHITE: 0xffffffff,\r\n        WHITESMOKE: 0xf5f5f5ff,\r\n        YELLOW: 0xffff00ff,\r\n        YELLOWGREEN: 0x9acd32ff\r\n    };\r\n\r\n    var PropertyDescriptorParsingType;\r\n    (function (PropertyDescriptorParsingType) {\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"VALUE\"] = 0] = \"VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"LIST\"] = 1] = \"LIST\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"IDENT_VALUE\"] = 2] = \"IDENT_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TYPE_VALUE\"] = 3] = \"TYPE_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TOKEN_VALUE\"] = 4] = \"TOKEN_VALUE\";\r\n    })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));\r\n\r\n    var BACKGROUND_CLIP;\r\n    (function (BACKGROUND_CLIP) {\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"BORDER_BOX\"] = 0] = \"BORDER_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"PADDING_BOX\"] = 1] = \"PADDING_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"CONTENT_BOX\"] = 2] = \"CONTENT_BOX\";\r\n    })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));\r\n    var backgroundClip = {\r\n        name: 'background-clip',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return BACKGROUND_CLIP.PADDING_BOX;\r\n                        case 'content-box':\r\n                            return BACKGROUND_CLIP.CONTENT_BOX;\r\n                    }\r\n                }\r\n                return BACKGROUND_CLIP.BORDER_BOX;\r\n            });\r\n        }\r\n    };\r\n\r\n    var backgroundColor = {\r\n        name: \"background-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\r\n\r\n    var parseColorStop = function (args) {\r\n        var color$1 = color.parse(args[0]);\r\n        var stop = args[1];\r\n        return stop && isLengthPercentage(stop) ? { color: color$1, stop: stop } : { color: color$1, stop: null };\r\n    };\r\n    var processColorStops = function (stops, lineLength) {\r\n        var first = stops[0];\r\n        var last = stops[stops.length - 1];\r\n        if (first.stop === null) {\r\n            first.stop = ZERO_LENGTH;\r\n        }\r\n        if (last.stop === null) {\r\n            last.stop = HUNDRED_PERCENT;\r\n        }\r\n        var processStops = [];\r\n        var previous = 0;\r\n        for (var i = 0; i < stops.length; i++) {\r\n            var stop_1 = stops[i].stop;\r\n            if (stop_1 !== null) {\r\n                var absoluteValue = getAbsoluteValue(stop_1, lineLength);\r\n                if (absoluteValue > previous) {\r\n                    processStops.push(absoluteValue);\r\n                }\r\n                else {\r\n                    processStops.push(previous);\r\n                }\r\n                previous = absoluteValue;\r\n            }\r\n            else {\r\n                processStops.push(null);\r\n            }\r\n        }\r\n        var gapBegin = null;\r\n        for (var i = 0; i < processStops.length; i++) {\r\n            var stop_2 = processStops[i];\r\n            if (stop_2 === null) {\r\n                if (gapBegin === null) {\r\n                    gapBegin = i;\r\n                }\r\n            }\r\n            else if (gapBegin !== null) {\r\n                var gapLength = i - gapBegin;\r\n                var beforeGap = processStops[gapBegin - 1];\r\n                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);\r\n                for (var g = 1; g <= gapLength; g++) {\r\n                    processStops[gapBegin + g - 1] = gapValue * g;\r\n                }\r\n                gapBegin = null;\r\n            }\r\n        }\r\n        return stops.map(function (_a, i) {\r\n            var color = _a.color;\r\n            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };\r\n        });\r\n    };\r\n    var getAngleFromCorner = function (corner, width, height) {\r\n        var centerX = width / 2;\r\n        var centerY = height / 2;\r\n        var x = getAbsoluteValue(corner[0], width) - centerX;\r\n        var y = centerY - getAbsoluteValue(corner[1], height);\r\n        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\r\n    };\r\n    var calculateGradientDirection = function (angle, width, height) {\r\n        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\r\n        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\r\n        var halfWidth = width / 2;\r\n        var halfHeight = height / 2;\r\n        var halfLineLength = lineLength / 2;\r\n        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\r\n        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\r\n        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\r\n    };\r\n    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };\r\n    var findCorner = function (width, height, x, y, closest) {\r\n        var corners = [[0, 0], [0, height], [width, 0], [width, height]];\r\n        return corners.reduce(function (stat, corner) {\r\n            var cx = corner[0], cy = corner[1];\r\n            var d = distance(x - cx, y - cy);\r\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\r\n                return {\r\n                    optimumCorner: corner,\r\n                    optimumDistance: d\r\n                };\r\n            }\r\n            return stat;\r\n        }, {\r\n            optimumDistance: closest ? Infinity : -Infinity,\r\n            optimumCorner: null\r\n        }).optimumCorner;\r\n    };\r\n    var calculateRadius = function (gradient, x, y, width, height) {\r\n        var rx = 0;\r\n        var ry = 0;\r\n        switch (gradient.size) {\r\n            case CSSRadialExtent.CLOSEST_SIDE:\r\n                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.\r\n                // If the shape is an ellipse, it exactly meets the closest side in each dimension.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.min(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.min(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.CLOSEST_CORNER:\r\n                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\r\n                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\r\n                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_SIDE:\r\n                // Same as closest-side, except the ending shape is sized based on the farthest side(s)\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.max(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.max(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_CORNER:\r\n                // Same as closest-corner, except the ending shape is sized based on the farthest corner.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\r\n                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\r\n                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n        }\r\n        if (Array.isArray(gradient.size)) {\r\n            rx = getAbsoluteValue(gradient.size[0], width);\r\n            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\r\n        }\r\n        return [rx, ry];\r\n    };\r\n\r\n    var linearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = angle.parse(firstToken);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return { angle: angle$1, stops: stops, type: CSSImageType.LINEAR_GRADIENT };\r\n    };\r\n\r\n    var prefixLinearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN &&\r\n                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return {\r\n            angle: angle$1,\r\n            stops: stops,\r\n            type: CSSImageType.LINEAR_GRADIENT\r\n        };\r\n    };\r\n\r\n    var testRangeBounds = function (document) {\r\n        var TEST_HEIGHT = 123;\r\n        if (document.createRange) {\r\n            var range = document.createRange();\r\n            if (range.getBoundingClientRect) {\r\n                var testElement = document.createElement('boundtest');\r\n                testElement.style.height = TEST_HEIGHT + \"px\";\r\n                testElement.style.display = 'block';\r\n                document.body.appendChild(testElement);\r\n                range.selectNode(testElement);\r\n                var rangeBounds = range.getBoundingClientRect();\r\n                var rangeHeight = Math.round(rangeBounds.height);\r\n                document.body.removeChild(testElement);\r\n                if (rangeHeight === TEST_HEIGHT) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };\r\n    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };\r\n    var testSVG = function (document) {\r\n        var img = new Image();\r\n        var canvas = document.createElement('canvas');\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return false;\r\n        }\r\n        img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n        try {\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toDataURL();\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    var isGreenPixel = function (data) {\r\n        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\r\n    };\r\n    var testForeignObject = function (document) {\r\n        var canvas = document.createElement('canvas');\r\n        var size = 100;\r\n        canvas.width = size;\r\n        canvas.height = size;\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return Promise.reject(false);\r\n        }\r\n        ctx.fillStyle = 'rgb(0, 255, 0)';\r\n        ctx.fillRect(0, 0, size, size);\r\n        var img = new Image();\r\n        var greenImageSrc = canvas.toDataURL();\r\n        img.src = greenImageSrc;\r\n        var svg = createForeignObjectSVG(size, size, 0, 0, img);\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(0, 0, size, size);\r\n        return loadSerializedSVG(svg)\r\n            .then(function (img) {\r\n                ctx.drawImage(img, 0, 0);\r\n                var data = ctx.getImageData(0, 0, size, size).data;\r\n                ctx.fillStyle = 'red';\r\n                ctx.fillRect(0, 0, size, size);\r\n                var node = document.createElement('div');\r\n                node.style.backgroundImage = \"url(\" + greenImageSrc + \")\";\r\n                node.style.height = size + \"px\";\r\n                // Firefox 55 does not render inline <img /> tags\r\n                return isGreenPixel(data)\r\n                    ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\r\n                    : Promise.reject(false);\r\n            })\r\n            .then(function (img) {\r\n                ctx.drawImage(img, 0, 0);\r\n                // Edge does not render background-images\r\n                return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\r\n            })\r\n            .catch(function () { return false; });\r\n    };\r\n    var createForeignObjectSVG = function (width, height, x, y, node) {\r\n        var xmlns = 'http://www.w3.org/2000/svg';\r\n        var svg = document.createElementNS(xmlns, 'svg');\r\n        var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n        svg.setAttributeNS(null, 'width', width.toString());\r\n        svg.setAttributeNS(null, 'height', height.toString());\r\n        foreignObject.setAttributeNS(null, 'width', '100%');\r\n        foreignObject.setAttributeNS(null, 'height', '100%');\r\n        foreignObject.setAttributeNS(null, 'x', x.toString());\r\n        foreignObject.setAttributeNS(null, 'y', y.toString());\r\n        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n        svg.appendChild(foreignObject);\r\n        foreignObject.appendChild(node);\r\n        return svg;\r\n    };\r\n    var loadSerializedSVG = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () { return resolve(img); };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n    var FEATURES = {\r\n        get SUPPORT_RANGE_BOUNDS() {\r\n            var value = testRangeBounds(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_SVG_DRAWING() {\r\n            var value = testSVG(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_FOREIGNOBJECT_DRAWING() {\r\n            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'\r\n                ? testForeignObject(document)\r\n                : Promise.resolve(false);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_IMAGES() {\r\n            var value = testCORS();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_RESPONSE_TYPE() {\r\n            var value = testResponseType();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_XHR() {\r\n            var value = 'withCredentials' in new XMLHttpRequest();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\r\n            return value;\r\n        }\r\n    };\r\n\r\n    var Logger = /** @class */ (function () {\r\n        function Logger(_a) {\r\n            var id = _a.id, enabled = _a.enabled;\r\n            this.id = id;\r\n            this.enabled = enabled;\r\n            this.start = Date.now();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.debug = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.debug.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.getTime = function () {\r\n            return Date.now() - this.start;\r\n        };\r\n        Logger.create = function (options) {\r\n            Logger.instances[options.id] = new Logger(options);\r\n        };\r\n        Logger.destroy = function (id) {\r\n            delete Logger.instances[id];\r\n        };\r\n        Logger.getInstance = function (id) {\r\n            var instance = Logger.instances[id];\r\n            if (typeof instance === 'undefined') {\r\n                throw new Error(\"No logger instance found with id \" + id);\r\n            }\r\n            return instance;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.info = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.info.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.error = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.error.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.instances = {};\r\n        return Logger;\r\n    }());\r\n\r\n    var CacheStorage = /** @class */ (function () {\r\n        function CacheStorage() {\r\n        }\r\n        CacheStorage.create = function (name, options) {\r\n            return (CacheStorage._caches[name] = new Cache(name, options));\r\n        };\r\n        CacheStorage.destroy = function (name) {\r\n            delete CacheStorage._caches[name];\r\n        };\r\n        CacheStorage.open = function (name) {\r\n            var cache = CacheStorage._caches[name];\r\n            if (typeof cache !== 'undefined') {\r\n                return cache;\r\n            }\r\n            throw new Error(\"Cache with key \\\"\" + name + \"\\\" not found\");\r\n        };\r\n        CacheStorage.getOrigin = function (url) {\r\n            var link = CacheStorage._link;\r\n            if (!link) {\r\n                return 'about:blank';\r\n            }\r\n            link.href = url;\r\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n            return link.protocol + link.hostname + link.port;\r\n        };\r\n        CacheStorage.isSameOrigin = function (src) {\r\n            return CacheStorage.getOrigin(src) === CacheStorage._origin;\r\n        };\r\n        CacheStorage.setContext = function (window) {\r\n            CacheStorage._link = window.document.createElement('a');\r\n            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\r\n        };\r\n        CacheStorage.getInstance = function () {\r\n            var current = CacheStorage._current;\r\n            if (current === null) {\r\n                throw new Error(\"No cache instance attached\");\r\n            }\r\n            return current;\r\n        };\r\n        CacheStorage.attachInstance = function (cache) {\r\n            CacheStorage._current = cache;\r\n        };\r\n        CacheStorage.detachInstance = function () {\r\n            CacheStorage._current = null;\r\n        };\r\n        CacheStorage._caches = {};\r\n        CacheStorage._origin = 'about:blank';\r\n        CacheStorage._current = null;\r\n        return CacheStorage;\r\n    }());\r\n    var Cache = /** @class */ (function () {\r\n        function Cache(id, options) {\r\n            this.id = id;\r\n            this._options = options;\r\n            this._cache = {};\r\n        }\r\n        Cache.prototype.addImage = function (src) {\r\n            var result = Promise.resolve();\r\n            if (this.has(src)) {\r\n                return result;\r\n            }\r\n            if (isBlobImage(src) || isRenderable(src)) {\r\n                this._cache[src] = this.loadImage(src);\r\n                return result;\r\n            }\r\n            return result;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Cache.prototype.match = function (src) {\r\n            return this._cache[src];\r\n        };\r\n        Cache.prototype.loadImage = function (key) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var isSameOrigin, useCORS, useProxy, src;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            isSameOrigin = CacheStorage.isSameOrigin(key);\r\n                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\r\n                            useProxy = !isInlineImage(key) &&\r\n                                !isSameOrigin &&\r\n                                typeof this._options.proxy === 'string' &&\r\n                                FEATURES.SUPPORT_CORS_XHR &&\r\n                                !useCORS;\r\n                            if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            src = key;\r\n                            if (!useProxy) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.proxy(src)];\r\n                        case 1:\r\n                            src = _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            Logger.getInstance(this.id).debug(\"Added image \" + key.substring(0, 256));\r\n                            return [4 /*yield*/, new Promise(function (resolve, reject) {\r\n                                var img = new Image();\r\n                                img.onload = function () { return resolve(img); };\r\n                                img.onerror = reject;\r\n                                //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\r\n                                if (isInlineBase64Image(src) || useCORS) {\r\n                                    img.crossOrigin = 'anonymous';\r\n                                }\r\n                                img.src = src;\r\n                                if (img.complete === true) {\r\n                                    // Inline XML images may fail to parse, throwing an Error later on\r\n                                    setTimeout(function () { return resolve(img); }, 500);\r\n                                }\r\n                                if (_this._options.imageTimeout > 0) {\r\n                                    setTimeout(function () { return reject(\"Timed out (\" + _this._options.imageTimeout + \"ms) loading image\"); }, _this._options.imageTimeout);\r\n                                }\r\n                            })];\r\n                        case 3: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Cache.prototype.has = function (key) {\r\n            return typeof this._cache[key] !== 'undefined';\r\n        };\r\n        Cache.prototype.keys = function () {\r\n            return Promise.resolve(Object.keys(this._cache));\r\n        };\r\n        Cache.prototype.proxy = function (src) {\r\n            var _this = this;\r\n            var proxy = this._options.proxy;\r\n            if (!proxy) {\r\n                throw new Error('No proxy defined');\r\n            }\r\n            var key = src.substring(0, 256);\r\n            return new Promise(function (resolve, reject) {\r\n                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        if (responseType === 'text') {\r\n                            resolve(xhr.response);\r\n                        }\r\n                        else {\r\n                            var reader_1 = new FileReader();\r\n                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);\r\n                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);\r\n                            reader_1.readAsDataURL(xhr.response);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(\"Failed to proxy resource \" + key + \" with status code \" + xhr.status);\r\n                    }\r\n                };\r\n                xhr.onerror = reject;\r\n                xhr.open('GET', proxy + \"?url=\" + encodeURIComponent(src) + \"&responseType=\" + responseType);\r\n                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\r\n                    xhr.responseType = responseType;\r\n                }\r\n                if (_this._options.imageTimeout) {\r\n                    var timeout_1 = _this._options.imageTimeout;\r\n                    xhr.timeout = timeout_1;\r\n                    xhr.ontimeout = function () { return reject(\"Timed out (\" + timeout_1 + \"ms) proxying \" + key); };\r\n                }\r\n                xhr.send();\r\n            });\r\n        };\r\n        return Cache;\r\n    }());\r\n    var INLINE_SVG = /^data:image\\/svg\\+xml/i;\r\n    var INLINE_BASE64 = /^data:image\\/.*;base64,/i;\r\n    var INLINE_IMG = /^data:image\\/.*/i;\r\n    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };\r\n    var isInlineImage = function (src) { return INLINE_IMG.test(src); };\r\n    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };\r\n    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };\r\n    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };\r\n\r\n    var webkitGradient = function (tokens) {\r\n        var angle = deg(180);\r\n        var stops = [];\r\n        var type = CSSImageType.LINEAR_GRADIENT;\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var firstToken = arg[0];\r\n            if (i === 0) {\r\n                if (isIdentToken(firstToken) && firstToken.value === 'linear') {\r\n                    type = CSSImageType.LINEAR_GRADIENT;\r\n                    return;\r\n                }\r\n                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\r\n                    type = CSSImageType.RADIAL_GRADIENT;\r\n                    return;\r\n                }\r\n            }\r\n            if (firstToken.type === TokenType.FUNCTION) {\r\n                if (firstToken.name === 'from') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: ZERO_LENGTH, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'to') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: HUNDRED_PERCENT, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'color-stop') {\r\n                    var values = firstToken.values.filter(nonFunctionArgSeparator);\r\n                    if (values.length === 2) {\r\n                        var color$1 = color.parse(values[1]);\r\n                        var stop_1 = values[0];\r\n                        if (isNumberToken(stop_1)) {\r\n                            stops.push({\r\n                                stop: { type: TokenType.PERCENTAGE_TOKEN, number: stop_1.number * 100, flags: stop_1.flags },\r\n                                color: color$1\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return type === CSSImageType.LINEAR_GRADIENT\r\n            ? {\r\n                angle: (angle + deg(180)) % deg(360),\r\n                stops: stops,\r\n                type: type\r\n            }\r\n            : { size: size, shape: shape, stops: stops, position: position, type: type };\r\n    };\r\n\r\n    var CLOSEST_SIDE = 'closest-side';\r\n    var FARTHEST_SIDE = 'farthest-side';\r\n    var CLOSEST_CORNER = 'closest-corner';\r\n    var FARTHEST_CORNER = 'farthest-corner';\r\n    var CIRCLE = 'circle';\r\n    var ELLIPSE = 'ellipse';\r\n    var COVER = 'cover';\r\n    var CONTAIN = 'contain';\r\n    var radialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                var isAtPosition_1 = false;\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isAtPosition_1) {\r\n                        if (isIdentToken(token)) {\r\n                            switch (token.value) {\r\n                                case 'center':\r\n                                    position.push(FIFTY_PERCENT);\r\n                                    return acc;\r\n                                case 'top':\r\n                                case 'left':\r\n                                    position.push(ZERO_LENGTH);\r\n                                    return acc;\r\n                                case 'right':\r\n                                case 'bottom':\r\n                                    position.push(HUNDRED_PERCENT);\r\n                                    return acc;\r\n                            }\r\n                        }\r\n                        else if (isLengthPercentage(token) || isLength(token)) {\r\n                            position.push(token);\r\n                        }\r\n                    }\r\n                    else if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case 'at':\r\n                                isAtPosition_1 = true;\r\n                                return false;\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\r\n\r\n    var prefixRadialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case 'center':\r\n                                position.push(FIFTY_PERCENT);\r\n                                return false;\r\n                            case 'top':\r\n                            case 'left':\r\n                                position.push(ZERO_LENGTH);\r\n                                return false;\r\n                            case 'right':\r\n                            case 'bottom':\r\n                                position.push(HUNDRED_PERCENT);\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLengthPercentage(token) || isLength(token)) {\r\n                        position.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            else if (i === 1) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\r\n\r\n    var CSSImageType;\r\n    (function (CSSImageType) {\r\n        CSSImageType[CSSImageType[\"URL\"] = 0] = \"URL\";\r\n        CSSImageType[CSSImageType[\"LINEAR_GRADIENT\"] = 1] = \"LINEAR_GRADIENT\";\r\n        CSSImageType[CSSImageType[\"RADIAL_GRADIENT\"] = 2] = \"RADIAL_GRADIENT\";\r\n    })(CSSImageType || (CSSImageType = {}));\r\n    var isLinearGradient = function (background) {\r\n        return background.type === CSSImageType.LINEAR_GRADIENT;\r\n    };\r\n    var isRadialGradient = function (background) {\r\n        return background.type === CSSImageType.RADIAL_GRADIENT;\r\n    };\r\n    var CSSRadialShape;\r\n    (function (CSSRadialShape) {\r\n        CSSRadialShape[CSSRadialShape[\"CIRCLE\"] = 0] = \"CIRCLE\";\r\n        CSSRadialShape[CSSRadialShape[\"ELLIPSE\"] = 1] = \"ELLIPSE\";\r\n    })(CSSRadialShape || (CSSRadialShape = {}));\r\n    var CSSRadialExtent;\r\n    (function (CSSRadialExtent) {\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_SIDE\"] = 0] = \"CLOSEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_SIDE\"] = 1] = \"FARTHEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_CORNER\"] = 2] = \"CLOSEST_CORNER\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_CORNER\"] = 3] = \"FARTHEST_CORNER\";\r\n    })(CSSRadialExtent || (CSSRadialExtent = {}));\r\n    var image = {\r\n        name: 'image',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.URL_TOKEN) {\r\n                var image_1 = { url: value.value, type: CSSImageType.URL };\r\n                CacheStorage.getInstance().addImage(value.value);\r\n                return image_1;\r\n            }\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n                if (typeof imageFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported image function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return imageFunction(value.values);\r\n            }\r\n            throw new Error(\"Unsupported image type\");\r\n        }\r\n    };\r\n    function isSupportedImage(value) {\r\n        return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n    }\r\n    var SUPPORTED_IMAGE_FUNCTIONS = {\r\n        'linear-gradient': linearGradient,\r\n        '-moz-linear-gradient': prefixLinearGradient,\r\n        '-ms-linear-gradient': prefixLinearGradient,\r\n        '-o-linear-gradient': prefixLinearGradient,\r\n        '-webkit-linear-gradient': prefixLinearGradient,\r\n        'radial-gradient': radialGradient,\r\n        '-moz-radial-gradient': prefixRadialGradient,\r\n        '-ms-radial-gradient': prefixRadialGradient,\r\n        '-o-radial-gradient': prefixRadialGradient,\r\n        '-webkit-radial-gradient': prefixRadialGradient,\r\n        '-webkit-gradient': webkitGradient\r\n    };\r\n\r\n    var backgroundImage = {\r\n        name: 'background-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens.filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); }).map(image.parse);\r\n        }\r\n    };\r\n\r\n    var backgroundOrigin = {\r\n        name: 'background-origin',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return 1 /* PADDING_BOX */;\r\n                        case 'content-box':\r\n                            return 2 /* CONTENT_BOX */;\r\n                    }\r\n                }\r\n                return 0 /* BORDER_BOX */;\r\n            });\r\n        }\r\n    };\r\n\r\n    var backgroundPosition = {\r\n        name: 'background-position',\r\n        initialValue: '0% 0%',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) { return values.filter(isLengthPercentage); })\r\n                .map(parseLengthPercentageTuple);\r\n        }\r\n    };\r\n\r\n    var BACKGROUND_REPEAT;\r\n    (function (BACKGROUND_REPEAT) {\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT\"] = 0] = \"REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"NO_REPEAT\"] = 1] = \"NO_REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_X\"] = 2] = \"REPEAT_X\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_Y\"] = 3] = \"REPEAT_Y\";\r\n    })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));\r\n    var backgroundRepeat = {\r\n        name: 'background-repeat',\r\n        initialValue: 'repeat',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) {\r\n                    return values\r\n                        .filter(isIdentToken)\r\n                        .map(function (token) { return token.value; })\r\n                        .join(' ');\r\n                })\r\n                .map(parseBackgroundRepeat);\r\n        }\r\n    };\r\n    var parseBackgroundRepeat = function (value) {\r\n        switch (value) {\r\n            case 'no-repeat':\r\n                return BACKGROUND_REPEAT.NO_REPEAT;\r\n            case 'repeat-x':\r\n            case 'repeat no-repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_X;\r\n            case 'repeat-y':\r\n            case 'no-repeat repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_Y;\r\n            case 'repeat':\r\n            default:\r\n                return BACKGROUND_REPEAT.REPEAT;\r\n        }\r\n    };\r\n\r\n    var BACKGROUND_SIZE;\r\n    (function (BACKGROUND_SIZE) {\r\n        BACKGROUND_SIZE[\"AUTO\"] = \"auto\";\r\n        BACKGROUND_SIZE[\"CONTAIN\"] = \"contain\";\r\n        BACKGROUND_SIZE[\"COVER\"] = \"cover\";\r\n    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));\r\n    var backgroundSize = {\r\n        name: 'background-size',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });\r\n        }\r\n    };\r\n    var isBackgroundSizeInfoToken = function (value) {\r\n        return isIdentToken(value) || isLengthPercentage(value);\r\n    };\r\n\r\n    var borderColorForSide = function (side) {\r\n        return ({\r\n            name: \"border-\" + side + \"-color\",\r\n            initialValue: 'transparent',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n            format: 'color'\r\n        });\r\n    };\r\n    var borderTopColor = borderColorForSide('top');\r\n    var borderRightColor = borderColorForSide('right');\r\n    var borderBottomColor = borderColorForSide('bottom');\r\n    var borderLeftColor = borderColorForSide('left');\r\n\r\n    var borderRadiusForSide = function (side) {\r\n        return ({\r\n            name: \"border-radius-\" + side,\r\n            initialValue: '0 0',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.LIST,\r\n            parse: function (tokens) { return parseLengthPercentageTuple(tokens.filter(isLengthPercentage)); }\r\n        });\r\n    };\r\n    var borderTopLeftRadius = borderRadiusForSide('top-left');\r\n    var borderTopRightRadius = borderRadiusForSide('top-right');\r\n    var borderBottomRightRadius = borderRadiusForSide('bottom-right');\r\n    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');\r\n\r\n    var BORDER_STYLE;\r\n    (function (BORDER_STYLE) {\r\n        BORDER_STYLE[BORDER_STYLE[\"NONE\"] = 0] = \"NONE\";\r\n        BORDER_STYLE[BORDER_STYLE[\"SOLID\"] = 1] = \"SOLID\";\r\n    })(BORDER_STYLE || (BORDER_STYLE = {}));\r\n    var borderStyleForSide = function (side) {\r\n        return ({\r\n            name: \"border-\" + side + \"-style\",\r\n            initialValue: 'solid',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n            parse: function (style) {\r\n                switch (style) {\r\n                    case 'none':\r\n                        return BORDER_STYLE.NONE;\r\n                }\r\n                return BORDER_STYLE.SOLID;\r\n            }\r\n        });\r\n    };\r\n    var borderTopStyle = borderStyleForSide('top');\r\n    var borderRightStyle = borderStyleForSide('right');\r\n    var borderBottomStyle = borderStyleForSide('bottom');\r\n    var borderLeftStyle = borderStyleForSide('left');\r\n\r\n    var borderWidthForSide = function (side) {\r\n        return ({\r\n            name: \"border-\" + side + \"-width\",\r\n            initialValue: '0',\r\n            type: PropertyDescriptorParsingType.VALUE,\r\n            prefix: false,\r\n            parse: function (token) {\r\n                if (isDimensionToken(token)) {\r\n                    return token.number;\r\n                }\r\n                return 0;\r\n            }\r\n        });\r\n    };\r\n    var borderTopWidth = borderWidthForSide('top');\r\n    var borderRightWidth = borderWidthForSide('right');\r\n    var borderBottomWidth = borderWidthForSide('bottom');\r\n    var borderLeftWidth = borderWidthForSide('left');\r\n\r\n    var color$1 = {\r\n        name: \"color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\r\n\r\n    var display = {\r\n        name: 'display',\r\n        initialValue: 'inline-block',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).reduce(function (bit, token) {\r\n                return bit | parseDisplayValue(token.value);\r\n            }, 0 /* NONE */);\r\n        }\r\n    };\r\n    var parseDisplayValue = function (display) {\r\n        switch (display) {\r\n            case 'block':\r\n                return 2 /* BLOCK */;\r\n            case 'inline':\r\n                return 4 /* INLINE */;\r\n            case 'run-in':\r\n                return 8 /* RUN_IN */;\r\n            case 'flow':\r\n                return 16 /* FLOW */;\r\n            case 'flow-root':\r\n                return 32 /* FLOW_ROOT */;\r\n            case 'table':\r\n                return 64 /* TABLE */;\r\n            case 'flex':\r\n            case '-webkit-flex':\r\n                return 128 /* FLEX */;\r\n            case 'grid':\r\n            case '-ms-grid':\r\n                return 256 /* GRID */;\r\n            case 'ruby':\r\n                return 512 /* RUBY */;\r\n            case 'subgrid':\r\n                return 1024 /* SUBGRID */;\r\n            case 'list-item':\r\n                return 2048 /* LIST_ITEM */;\r\n            case 'table-row-group':\r\n                return 4096 /* TABLE_ROW_GROUP */;\r\n            case 'table-header-group':\r\n                return 8192 /* TABLE_HEADER_GROUP */;\r\n            case 'table-footer-group':\r\n                return 16384 /* TABLE_FOOTER_GROUP */;\r\n            case 'table-row':\r\n                return 32768 /* TABLE_ROW */;\r\n            case 'table-cell':\r\n                return 65536 /* TABLE_CELL */;\r\n            case 'table-column-group':\r\n                return 131072 /* TABLE_COLUMN_GROUP */;\r\n            case 'table-column':\r\n                return 262144 /* TABLE_COLUMN */;\r\n            case 'table-caption':\r\n                return 524288 /* TABLE_CAPTION */;\r\n            case 'ruby-base':\r\n                return 1048576 /* RUBY_BASE */;\r\n            case 'ruby-text':\r\n                return 2097152 /* RUBY_TEXT */;\r\n            case 'ruby-base-container':\r\n                return 4194304 /* RUBY_BASE_CONTAINER */;\r\n            case 'ruby-text-container':\r\n                return 8388608 /* RUBY_TEXT_CONTAINER */;\r\n            case 'contents':\r\n                return 16777216 /* CONTENTS */;\r\n            case 'inline-block':\r\n                return 33554432 /* INLINE_BLOCK */;\r\n            case 'inline-list-item':\r\n                return 67108864 /* INLINE_LIST_ITEM */;\r\n            case 'inline-table':\r\n                return 134217728 /* INLINE_TABLE */;\r\n            case 'inline-flex':\r\n                return 268435456 /* INLINE_FLEX */;\r\n            case 'inline-grid':\r\n                return 536870912 /* INLINE_GRID */;\r\n        }\r\n        return 0 /* NONE */;\r\n    };\r\n\r\n    var FLOAT;\r\n    (function (FLOAT) {\r\n        FLOAT[FLOAT[\"NONE\"] = 0] = \"NONE\";\r\n        FLOAT[FLOAT[\"LEFT\"] = 1] = \"LEFT\";\r\n        FLOAT[FLOAT[\"RIGHT\"] = 2] = \"RIGHT\";\r\n        FLOAT[FLOAT[\"INLINE_START\"] = 3] = \"INLINE_START\";\r\n        FLOAT[FLOAT[\"INLINE_END\"] = 4] = \"INLINE_END\";\r\n    })(FLOAT || (FLOAT = {}));\r\n    var float = {\r\n        name: 'float',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (float) {\r\n            switch (float) {\r\n                case 'left':\r\n                    return FLOAT.LEFT;\r\n                case 'right':\r\n                    return FLOAT.RIGHT;\r\n                case 'inline-start':\r\n                    return FLOAT.INLINE_START;\r\n                case 'inline-end':\r\n                    return FLOAT.INLINE_END;\r\n            }\r\n            return FLOAT.NONE;\r\n        }\r\n    };\r\n\r\n    var letterSpacing = {\r\n        name: 'letter-spacing',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\r\n                return 0;\r\n            }\r\n            if (token.type === TokenType.NUMBER_TOKEN) {\r\n                return token.number;\r\n            }\r\n            if (token.type === TokenType.DIMENSION_TOKEN) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    var LINE_BREAK;\r\n    (function (LINE_BREAK) {\r\n        LINE_BREAK[\"NORMAL\"] = \"normal\";\r\n        LINE_BREAK[\"STRICT\"] = \"strict\";\r\n    })(LINE_BREAK || (LINE_BREAK = {}));\r\n    var lineBreak = {\r\n        name: 'line-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (lineBreak) {\r\n            switch (lineBreak) {\r\n                case 'strict':\r\n                    return LINE_BREAK.STRICT;\r\n                case 'normal':\r\n                default:\r\n                    return LINE_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var lineHeight = {\r\n        name: 'line-height',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    };\r\n    var computeLineHeight = function (token, fontSize) {\r\n        if (isIdentToken(token) && token.value === 'normal') {\r\n            return 1.2 * fontSize;\r\n        }\r\n        else if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return fontSize * token.number;\r\n        }\r\n        else if (isLengthPercentage(token)) {\r\n            return getAbsoluteValue(token, fontSize);\r\n        }\r\n        return fontSize;\r\n    };\r\n\r\n    var listStyleImage = {\r\n        name: 'list-style-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            return image.parse(token);\r\n        }\r\n    };\r\n\r\n    var LIST_STYLE_POSITION;\r\n    (function (LIST_STYLE_POSITION) {\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"INSIDE\"] = 0] = \"INSIDE\";\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"OUTSIDE\"] = 1] = \"OUTSIDE\";\r\n    })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));\r\n    var listStylePosition = {\r\n        name: 'list-style-position',\r\n        initialValue: 'outside',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'inside':\r\n                    return LIST_STYLE_POSITION.INSIDE;\r\n                case 'outside':\r\n                default:\r\n                    return LIST_STYLE_POSITION.OUTSIDE;\r\n            }\r\n        }\r\n    };\r\n\r\n    var LIST_STYLE_TYPE;\r\n    (function (LIST_STYLE_TYPE) {\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"NONE\"] = -1] = \"NONE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISC\"] = 0] = \"DISC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CIRCLE\"] = 1] = \"CIRCLE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SQUARE\"] = 2] = \"SQUARE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL\"] = 3] = \"DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_DECIMAL\"] = 4] = \"CJK_DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL_LEADING_ZERO\"] = 5] = \"DECIMAL_LEADING_ZERO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ROMAN\"] = 6] = \"LOWER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ROMAN\"] = 7] = \"UPPER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_GREEK\"] = 8] = \"LOWER_GREEK\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ALPHA\"] = 9] = \"LOWER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ALPHA\"] = 10] = \"UPPER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARABIC_INDIC\"] = 11] = \"ARABIC_INDIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARMENIAN\"] = 12] = \"ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"BENGALI\"] = 13] = \"BENGALI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CAMBODIAN\"] = 14] = \"CAMBODIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_EARTHLY_BRANCH\"] = 15] = \"CJK_EARTHLY_BRANCH\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_HEAVENLY_STEM\"] = 16] = \"CJK_HEAVENLY_STEM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_IDEOGRAPHIC\"] = 17] = \"CJK_IDEOGRAPHIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DEVANAGARI\"] = 18] = \"DEVANAGARI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ETHIOPIC_NUMERIC\"] = 19] = \"ETHIOPIC_NUMERIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GEORGIAN\"] = 20] = \"GEORGIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GUJARATI\"] = 21] = \"GUJARATI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GURMUKHI\"] = 22] = \"GURMUKHI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HEBREW\"] = 22] = \"HEBREW\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA\"] = 23] = \"HIRAGANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA_IROHA\"] = 24] = \"HIRAGANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_FORMAL\"] = 25] = \"JAPANESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_INFORMAL\"] = 26] = \"JAPANESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KANNADA\"] = 27] = \"KANNADA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA\"] = 28] = \"KATAKANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA_IROHA\"] = 29] = \"KATAKANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KHMER\"] = 30] = \"KHMER\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANGUL_FORMAL\"] = 31] = \"KOREAN_HANGUL_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_FORMAL\"] = 32] = \"KOREAN_HANJA_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_INFORMAL\"] = 33] = \"KOREAN_HANJA_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LAO\"] = 34] = \"LAO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ARMENIAN\"] = 35] = \"LOWER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MALAYALAM\"] = 36] = \"MALAYALAM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MONGOLIAN\"] = 37] = \"MONGOLIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MYANMAR\"] = 38] = \"MYANMAR\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ORIYA\"] = 39] = \"ORIYA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"PERSIAN\"] = 40] = \"PERSIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_FORMAL\"] = 41] = \"SIMP_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_INFORMAL\"] = 42] = \"SIMP_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TAMIL\"] = 43] = \"TAMIL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TELUGU\"] = 44] = \"TELUGU\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"THAI\"] = 45] = \"THAI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TIBETAN\"] = 46] = \"TIBETAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_FORMAL\"] = 47] = \"TRAD_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_INFORMAL\"] = 48] = \"TRAD_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ARMENIAN\"] = 49] = \"UPPER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_OPEN\"] = 50] = \"DISCLOSURE_OPEN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_CLOSED\"] = 51] = \"DISCLOSURE_CLOSED\";\r\n    })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));\r\n    var listStyleType = {\r\n        name: 'list-style-type',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (type) {\r\n            switch (type) {\r\n                case 'disc':\r\n                    return LIST_STYLE_TYPE.DISC;\r\n                case 'circle':\r\n                    return LIST_STYLE_TYPE.CIRCLE;\r\n                case 'square':\r\n                    return LIST_STYLE_TYPE.SQUARE;\r\n                case 'decimal':\r\n                    return LIST_STYLE_TYPE.DECIMAL;\r\n                case 'cjk-decimal':\r\n                    return LIST_STYLE_TYPE.CJK_DECIMAL;\r\n                case 'decimal-leading-zero':\r\n                    return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\r\n                case 'lower-roman':\r\n                    return LIST_STYLE_TYPE.LOWER_ROMAN;\r\n                case 'upper-roman':\r\n                    return LIST_STYLE_TYPE.UPPER_ROMAN;\r\n                case 'lower-greek':\r\n                    return LIST_STYLE_TYPE.LOWER_GREEK;\r\n                case 'lower-alpha':\r\n                    return LIST_STYLE_TYPE.LOWER_ALPHA;\r\n                case 'upper-alpha':\r\n                    return LIST_STYLE_TYPE.UPPER_ALPHA;\r\n                case 'arabic-indic':\r\n                    return LIST_STYLE_TYPE.ARABIC_INDIC;\r\n                case 'armenian':\r\n                    return LIST_STYLE_TYPE.ARMENIAN;\r\n                case 'bengali':\r\n                    return LIST_STYLE_TYPE.BENGALI;\r\n                case 'cambodian':\r\n                    return LIST_STYLE_TYPE.CAMBODIAN;\r\n                case 'cjk-earthly-branch':\r\n                    return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\r\n                case 'cjk-heavenly-stem':\r\n                    return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\r\n                case 'cjk-ideographic':\r\n                    return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\r\n                case 'devanagari':\r\n                    return LIST_STYLE_TYPE.DEVANAGARI;\r\n                case 'ethiopic-numeric':\r\n                    return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\r\n                case 'georgian':\r\n                    return LIST_STYLE_TYPE.GEORGIAN;\r\n                case 'gujarati':\r\n                    return LIST_STYLE_TYPE.GUJARATI;\r\n                case 'gurmukhi':\r\n                    return LIST_STYLE_TYPE.GURMUKHI;\r\n                case 'hebrew':\r\n                    return LIST_STYLE_TYPE.HEBREW;\r\n                case 'hiragana':\r\n                    return LIST_STYLE_TYPE.HIRAGANA;\r\n                case 'hiragana-iroha':\r\n                    return LIST_STYLE_TYPE.HIRAGANA_IROHA;\r\n                case 'japanese-formal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_FORMAL;\r\n                case 'japanese-informal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\r\n                case 'kannada':\r\n                    return LIST_STYLE_TYPE.KANNADA;\r\n                case 'katakana':\r\n                    return LIST_STYLE_TYPE.KATAKANA;\r\n                case 'katakana-iroha':\r\n                    return LIST_STYLE_TYPE.KATAKANA_IROHA;\r\n                case 'khmer':\r\n                    return LIST_STYLE_TYPE.KHMER;\r\n                case 'korean-hangul-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\r\n                case 'korean-hanja-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\r\n                case 'korean-hanja-informal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\r\n                case 'lao':\r\n                    return LIST_STYLE_TYPE.LAO;\r\n                case 'lower-armenian':\r\n                    return LIST_STYLE_TYPE.LOWER_ARMENIAN;\r\n                case 'malayalam':\r\n                    return LIST_STYLE_TYPE.MALAYALAM;\r\n                case 'mongolian':\r\n                    return LIST_STYLE_TYPE.MONGOLIAN;\r\n                case 'myanmar':\r\n                    return LIST_STYLE_TYPE.MYANMAR;\r\n                case 'oriya':\r\n                    return LIST_STYLE_TYPE.ORIYA;\r\n                case 'persian':\r\n                    return LIST_STYLE_TYPE.PERSIAN;\r\n                case 'simp-chinese-formal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\r\n                case 'simp-chinese-informal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\r\n                case 'tamil':\r\n                    return LIST_STYLE_TYPE.TAMIL;\r\n                case 'telugu':\r\n                    return LIST_STYLE_TYPE.TELUGU;\r\n                case 'thai':\r\n                    return LIST_STYLE_TYPE.THAI;\r\n                case 'tibetan':\r\n                    return LIST_STYLE_TYPE.TIBETAN;\r\n                case 'trad-chinese-formal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\r\n                case 'trad-chinese-informal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\r\n                case 'upper-armenian':\r\n                    return LIST_STYLE_TYPE.UPPER_ARMENIAN;\r\n                case 'disclosure-open':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\r\n                case 'disclosure-closed':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\r\n                case 'none':\r\n                default:\r\n                    return LIST_STYLE_TYPE.NONE;\r\n            }\r\n        }\r\n    };\r\n\r\n    var marginForSide = function (side) {\r\n        return ({\r\n            name: \"margin-\" + side,\r\n            initialValue: '0',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n        });\r\n    };\r\n    var marginTop = marginForSide('top');\r\n    var marginRight = marginForSide('right');\r\n    var marginBottom = marginForSide('bottom');\r\n    var marginLeft = marginForSide('left');\r\n\r\n    var OVERFLOW;\r\n    (function (OVERFLOW) {\r\n        OVERFLOW[OVERFLOW[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        OVERFLOW[OVERFLOW[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        OVERFLOW[OVERFLOW[\"SCROLL\"] = 2] = \"SCROLL\";\r\n        OVERFLOW[OVERFLOW[\"AUTO\"] = 3] = \"AUTO\";\r\n    })(OVERFLOW || (OVERFLOW = {}));\r\n    var overflow = {\r\n        name: 'overflow',\r\n        initialValue: 'visible',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (overflow) {\r\n                switch (overflow.value) {\r\n                    case 'hidden':\r\n                        return OVERFLOW.HIDDEN;\r\n                    case 'scroll':\r\n                        return OVERFLOW.SCROLL;\r\n                    case 'auto':\r\n                        return OVERFLOW.AUTO;\r\n                    case 'visible':\r\n                    default:\r\n                        return OVERFLOW.VISIBLE;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    var OVERFLOW_WRAP;\r\n    (function (OVERFLOW_WRAP) {\r\n        OVERFLOW_WRAP[\"NORMAL\"] = \"normal\";\r\n        OVERFLOW_WRAP[\"BREAK_WORD\"] = \"break-word\";\r\n    })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));\r\n    var overflowWrap = {\r\n        name: 'overflow-wrap',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'break-word':\r\n                    return OVERFLOW_WRAP.BREAK_WORD;\r\n                case 'normal':\r\n                default:\r\n                    return OVERFLOW_WRAP.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var paddingForSide = function (side) {\r\n        return ({\r\n            name: \"padding-\" + side,\r\n            initialValue: '0',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n            format: 'length-percentage'\r\n        });\r\n    };\r\n    var paddingTop = paddingForSide('top');\r\n    var paddingRight = paddingForSide('right');\r\n    var paddingBottom = paddingForSide('bottom');\r\n    var paddingLeft = paddingForSide('left');\r\n\r\n    var TEXT_ALIGN;\r\n    (function (TEXT_ALIGN) {\r\n        TEXT_ALIGN[TEXT_ALIGN[\"LEFT\"] = 0] = \"LEFT\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"CENTER\"] = 1] = \"CENTER\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"RIGHT\"] = 2] = \"RIGHT\";\r\n    })(TEXT_ALIGN || (TEXT_ALIGN = {}));\r\n    var textAlign = {\r\n        name: 'text-align',\r\n        initialValue: 'left',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textAlign) {\r\n            switch (textAlign) {\r\n                case 'right':\r\n                    return TEXT_ALIGN.RIGHT;\r\n                case 'center':\r\n                case 'justify':\r\n                    return TEXT_ALIGN.CENTER;\r\n                case 'left':\r\n                default:\r\n                    return TEXT_ALIGN.LEFT;\r\n            }\r\n        }\r\n    };\r\n\r\n    var POSITION;\r\n    (function (POSITION) {\r\n        POSITION[POSITION[\"STATIC\"] = 0] = \"STATIC\";\r\n        POSITION[POSITION[\"RELATIVE\"] = 1] = \"RELATIVE\";\r\n        POSITION[POSITION[\"ABSOLUTE\"] = 2] = \"ABSOLUTE\";\r\n        POSITION[POSITION[\"FIXED\"] = 3] = \"FIXED\";\r\n        POSITION[POSITION[\"STICKY\"] = 4] = \"STICKY\";\r\n    })(POSITION || (POSITION = {}));\r\n    var position = {\r\n        name: 'position',\r\n        initialValue: 'static',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'relative':\r\n                    return POSITION.RELATIVE;\r\n                case 'absolute':\r\n                    return POSITION.ABSOLUTE;\r\n                case 'fixed':\r\n                    return POSITION.FIXED;\r\n                case 'sticky':\r\n                    return POSITION.STICKY;\r\n            }\r\n            return POSITION.STATIC;\r\n        }\r\n    };\r\n\r\n    var textShadow = {\r\n        name: 'text-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: COLORS.TRANSPARENT,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else {\r\n                            shadow.blur = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\r\n\r\n    var TEXT_TRANSFORM;\r\n    (function (TEXT_TRANSFORM) {\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"NONE\"] = 0] = \"NONE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"LOWERCASE\"] = 1] = \"LOWERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"UPPERCASE\"] = 2] = \"UPPERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"CAPITALIZE\"] = 3] = \"CAPITALIZE\";\r\n    })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));\r\n    var textTransform = {\r\n        name: 'text-transform',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textTransform) {\r\n            switch (textTransform) {\r\n                case 'uppercase':\r\n                    return TEXT_TRANSFORM.UPPERCASE;\r\n                case 'lowercase':\r\n                    return TEXT_TRANSFORM.LOWERCASE;\r\n                case 'capitalize':\r\n                    return TEXT_TRANSFORM.CAPITALIZE;\r\n            }\r\n            return TEXT_TRANSFORM.NONE;\r\n        }\r\n    };\r\n\r\n    var transform = {\r\n        name: 'transform',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            if (token.type === TokenType.FUNCTION) {\r\n                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\r\n                if (typeof transformFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported transform function \\\"\" + token.name + \"\\\"\");\r\n                }\r\n                return transformFunction(token.values);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    var matrix = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        return values.length === 6 ? values : null;\r\n    };\r\n    // doesn't support 3D transforms at the moment\r\n    var matrix3d = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        var a1 = values[0], b1 = values[1], _a = values[2], _b = values[3], a2 = values[4], b2 = values[5], _c = values[6], _d = values[7], _e = values[8], _f = values[9], _g = values[10], _h = values[11], a4 = values[12], b4 = values[13], _j = values[14], _k = values[15];\r\n        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\r\n    };\r\n    var SUPPORTED_TRANSFORM_FUNCTIONS = {\r\n        matrix: matrix,\r\n        matrix3d: matrix3d\r\n    };\r\n\r\n    var DEFAULT_VALUE = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];\r\n    var transformOrigin = {\r\n        name: 'transform-origin',\r\n        initialValue: '50% 50%',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            var origins = tokens.filter(isLengthPercentage);\r\n            if (origins.length !== 2) {\r\n                return DEFAULT;\r\n            }\r\n            return [origins[0], origins[1]];\r\n        }\r\n    };\r\n\r\n    var VISIBILITY;\r\n    (function (VISIBILITY) {\r\n        VISIBILITY[VISIBILITY[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        VISIBILITY[VISIBILITY[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        VISIBILITY[VISIBILITY[\"COLLAPSE\"] = 2] = \"COLLAPSE\";\r\n    })(VISIBILITY || (VISIBILITY = {}));\r\n    var visibility = {\r\n        name: 'visible',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (visibility) {\r\n            switch (visibility) {\r\n                case 'hidden':\r\n                    return VISIBILITY.HIDDEN;\r\n                case 'collapse':\r\n                    return VISIBILITY.COLLAPSE;\r\n                case 'visible':\r\n                default:\r\n                    return VISIBILITY.VISIBLE;\r\n            }\r\n        }\r\n    };\r\n\r\n    var WORD_BREAK;\r\n    (function (WORD_BREAK) {\r\n        WORD_BREAK[\"NORMAL\"] = \"normal\";\r\n        WORD_BREAK[\"BREAK_ALL\"] = \"break-all\";\r\n        WORD_BREAK[\"KEEP_ALL\"] = \"keep-all\";\r\n    })(WORD_BREAK || (WORD_BREAK = {}));\r\n    var wordBreak = {\r\n        name: 'word-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (wordBreak) {\r\n            switch (wordBreak) {\r\n                case 'break-all':\r\n                    return WORD_BREAK.BREAK_ALL;\r\n                case 'keep-all':\r\n                    return WORD_BREAK.KEEP_ALL;\r\n                case 'normal':\r\n                default:\r\n                    return WORD_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var zIndex = {\r\n        name: 'z-index',\r\n        initialValue: 'auto',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN) {\r\n                return { auto: true, order: 0 };\r\n            }\r\n            if (isNumberToken(token)) {\r\n                return { auto: false, order: token.number };\r\n            }\r\n            throw new Error(\"Invalid z-index number parsed\");\r\n        }\r\n    };\r\n\r\n    var opacity = {\r\n        name: 'opacity',\r\n        initialValue: '1',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 1;\r\n        }\r\n    };\r\n\r\n    var textDecorationColor = {\r\n        name: \"text-decoration-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\r\n\r\n    var textDecorationLine = {\r\n        name: 'text-decoration-line',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens\r\n                .filter(isIdentToken)\r\n                .map(function (token) {\r\n                    switch (token.value) {\r\n                        case 'underline':\r\n                            return 1 /* UNDERLINE */;\r\n                        case 'overline':\r\n                            return 2 /* OVERLINE */;\r\n                        case 'line-through':\r\n                            return 3 /* LINE_THROUGH */;\r\n                        case 'none':\r\n                            return 4 /* BLINK */;\r\n                    }\r\n                    return 0 /* NONE */;\r\n                })\r\n                .filter(function (line) { return line !== 0 /* NONE */; });\r\n        }\r\n    };\r\n\r\n    var fontFamily = {\r\n        name: \"font-family\",\r\n        initialValue: '',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isStringToken$1).map(function (token) { return token.value; });\r\n        }\r\n    };\r\n    var isStringToken$1 = function (token) {\r\n        return token.type === TokenType.STRING_TOKEN || token.type === TokenType.IDENT_TOKEN;\r\n    };\r\n\r\n    var fontSize = {\r\n        name: \"font-size\",\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'length'\r\n    };\r\n\r\n    var fontWeight = {\r\n        name: 'font-weight',\r\n        initialValue: 'normal',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            if (isIdentToken(token)) {\r\n                switch (token.value) {\r\n                    case 'bold':\r\n                        return 700;\r\n                    case 'normal':\r\n                    default:\r\n                        return 400;\r\n                }\r\n            }\r\n            return 400;\r\n        }\r\n    };\r\n\r\n    var fontVariant = {\r\n        name: 'font-variant',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (token) { return token.value; });\r\n        }\r\n    };\r\n\r\n    var FONT_STYLE;\r\n    (function (FONT_STYLE) {\r\n        FONT_STYLE[\"NORMAL\"] = \"normal\";\r\n        FONT_STYLE[\"ITALIC\"] = \"italic\";\r\n        FONT_STYLE[\"OBLIQUE\"] = \"oblique\";\r\n    })(FONT_STYLE || (FONT_STYLE = {}));\r\n    var fontStyle = {\r\n        name: 'font-style',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'oblique':\r\n                    return FONT_STYLE.OBLIQUE;\r\n                case 'italic':\r\n                    return FONT_STYLE.ITALIC;\r\n                case 'normal':\r\n                default:\r\n                    return FONT_STYLE.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var contains = function (bit, value) { return (bit & value) !== 0; };\r\n\r\n    var content = {\r\n        name: 'content',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens;\r\n        }\r\n    };\r\n\r\n    var counterIncrement = {\r\n        name: 'counter-increment',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var increments = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (counter.type === TokenType.IDENT_TOKEN) {\r\n                    var increment = next && isNumberToken(next) ? next.number : 1;\r\n                    increments.push({ counter: counter.value, increment: increment });\r\n                }\r\n            }\r\n            return increments;\r\n        }\r\n    };\r\n\r\n    var counterReset = {\r\n        name: 'counter-reset',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var resets = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (isIdentToken(counter) && counter.value !== 'none') {\r\n                    var reset = next && isNumberToken(next) ? next.number : 0;\r\n                    resets.push({ counter: counter.value, reset: reset });\r\n                }\r\n            }\r\n            return resets;\r\n        }\r\n    };\r\n\r\n    var quotes = {\r\n        name: 'quotes',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var quotes = [];\r\n            var filtered = tokens.filter(isStringToken);\r\n            if (filtered.length % 2 !== 0) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < filtered.length; i += 2) {\r\n                var open_1 = filtered[i].value;\r\n                var close_1 = filtered[i + 1].value;\r\n                quotes.push({ open: open_1, close: close_1 });\r\n            }\r\n            return quotes;\r\n        }\r\n    };\r\n    var getQuote = function (quotes, depth, open) {\r\n        if (!quotes) {\r\n            return '';\r\n        }\r\n        var quote = quotes[Math.min(depth, quotes.length - 1)];\r\n        if (!quote) {\r\n            return '';\r\n        }\r\n        return open ? quote.open : quote.close;\r\n    };\r\n\r\n    var boxShadow = {\r\n        name: 'box-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: 0x000000ff,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH,\r\n                    spread: ZERO_LENGTH,\r\n                    inset: false\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isIdentWithValue(token, 'inset')) {\r\n                        shadow.inset = true;\r\n                    }\r\n                    else if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else if (c === 2) {\r\n                            shadow.blur = token;\r\n                        }\r\n                        else {\r\n                            shadow.spread = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\r\n\r\n    var CSSParsedDeclaration = /** @class */ (function () {\r\n        function CSSParsedDeclaration(declaration) {\r\n            this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);\r\n            this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);\r\n            this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);\r\n            this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);\r\n            this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);\r\n            this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);\r\n            this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);\r\n            this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);\r\n            this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);\r\n            this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);\r\n            this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);\r\n            this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);\r\n            this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);\r\n            this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);\r\n            this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);\r\n            this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);\r\n            this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);\r\n            this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);\r\n            this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);\r\n            this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);\r\n            this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);\r\n            this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);\r\n            this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);\r\n            this.boxShadow = parse(boxShadow, declaration.boxShadow);\r\n            this.color = parse(color$1, declaration.color);\r\n            this.display = parse(display, declaration.display);\r\n            this.float = parse(float, declaration.cssFloat);\r\n            this.fontFamily = parse(fontFamily, declaration.fontFamily);\r\n            this.fontSize = parse(fontSize, declaration.fontSize);\r\n            this.fontStyle = parse(fontStyle, declaration.fontStyle);\r\n            this.fontVariant = parse(fontVariant, declaration.fontVariant);\r\n            this.fontWeight = parse(fontWeight, declaration.fontWeight);\r\n            this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);\r\n            this.lineBreak = parse(lineBreak, declaration.lineBreak);\r\n            this.lineHeight = parse(lineHeight, declaration.lineHeight);\r\n            this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);\r\n            this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);\r\n            this.listStyleType = parse(listStyleType, declaration.listStyleType);\r\n            this.marginTop = parse(marginTop, declaration.marginTop);\r\n            this.marginRight = parse(marginRight, declaration.marginRight);\r\n            this.marginBottom = parse(marginBottom, declaration.marginBottom);\r\n            this.marginLeft = parse(marginLeft, declaration.marginLeft);\r\n            this.opacity = parse(opacity, declaration.opacity);\r\n            var overflowTuple = parse(overflow, declaration.overflow);\r\n            this.overflowX = overflowTuple[0];\r\n            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\r\n            this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);\r\n            this.paddingTop = parse(paddingTop, declaration.paddingTop);\r\n            this.paddingRight = parse(paddingRight, declaration.paddingRight);\r\n            this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);\r\n            this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);\r\n            this.position = parse(position, declaration.position);\r\n            this.textAlign = parse(textAlign, declaration.textAlign);\r\n            this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);\r\n            this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);\r\n            this.textShadow = parse(textShadow, declaration.textShadow);\r\n            this.textTransform = parse(textTransform, declaration.textTransform);\r\n            this.transform = parse(transform, declaration.transform);\r\n            this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);\r\n            this.visibility = parse(visibility, declaration.visibility);\r\n            this.wordBreak = parse(wordBreak, declaration.wordBreak);\r\n            this.zIndex = parse(zIndex, declaration.zIndex);\r\n        }\r\n        CSSParsedDeclaration.prototype.isVisible = function () {\r\n            return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransparent = function () {\r\n            return isTransparent(this.backgroundColor);\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransformed = function () {\r\n            return this.transform !== null;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositioned = function () {\r\n            return this.position !== POSITION.STATIC;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {\r\n            return this.isPositioned() && !this.zIndex.auto;\r\n        };\r\n        CSSParsedDeclaration.prototype.isFloating = function () {\r\n            return this.float !== FLOAT.NONE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isInlineLevel = function () {\r\n            return (contains(this.display, 4 /* INLINE */) ||\r\n                contains(this.display, 33554432 /* INLINE_BLOCK */) ||\r\n                contains(this.display, 268435456 /* INLINE_FLEX */) ||\r\n                contains(this.display, 536870912 /* INLINE_GRID */) ||\r\n                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||\r\n                contains(this.display, 134217728 /* INLINE_TABLE */));\r\n        };\r\n        return CSSParsedDeclaration;\r\n    }());\r\n    var CSSParsedPseudoDeclaration = /** @class */ (function () {\r\n        function CSSParsedPseudoDeclaration(declaration) {\r\n            this.content = parse(content, declaration.content);\r\n            this.quotes = parse(quotes, declaration.quotes);\r\n        }\r\n        return CSSParsedPseudoDeclaration;\r\n    }());\r\n    var CSSParsedCounterDeclaration = /** @class */ (function () {\r\n        function CSSParsedCounterDeclaration(declaration) {\r\n            this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);\r\n            this.counterReset = parse(counterReset, declaration.counterReset);\r\n        }\r\n        return CSSParsedCounterDeclaration;\r\n    }());\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    var parse = function (descriptor, style) {\r\n        var tokenizer = new Tokenizer();\r\n        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\r\n        tokenizer.write(value);\r\n        var parser = new Parser(tokenizer.read());\r\n        switch (descriptor.type) {\r\n            case PropertyDescriptorParsingType.IDENT_VALUE:\r\n                var token = parser.parseComponentValue();\r\n                return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);\r\n            case PropertyDescriptorParsingType.VALUE:\r\n                return descriptor.parse(parser.parseComponentValue());\r\n            case PropertyDescriptorParsingType.LIST:\r\n                return descriptor.parse(parser.parseComponentValues());\r\n            case PropertyDescriptorParsingType.TOKEN_VALUE:\r\n                return parser.parseComponentValue();\r\n            case PropertyDescriptorParsingType.TYPE_VALUE:\r\n                switch (descriptor.format) {\r\n                    case 'angle':\r\n                        return angle.parse(parser.parseComponentValue());\r\n                    case 'color':\r\n                        return color.parse(parser.parseComponentValue());\r\n                    case 'image':\r\n                        return image.parse(parser.parseComponentValue());\r\n                    case 'length':\r\n                        var length_1 = parser.parseComponentValue();\r\n                        return isLength(length_1) ? length_1 : ZERO_LENGTH;\r\n                    case 'length-percentage':\r\n                        var value_1 = parser.parseComponentValue();\r\n                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;\r\n                }\r\n        }\r\n        throw new Error(\"Attempting to parse unsupported css format type \" + descriptor.format);\r\n    };\r\n\r\n    var ElementContainer = /** @class */ (function () {\r\n        function ElementContainer(element) {\r\n            this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));\r\n            this.textNodes = [];\r\n            this.elements = [];\r\n            if (this.styles.transform !== null && isHTMLElementNode(element)) {\r\n                // getBoundingClientRect takes transforms into account\r\n                element.style.transform = 'none';\r\n            }\r\n            this.bounds = parseBounds(element);\r\n            this.flags = 0;\r\n        }\r\n        return ElementContainer;\r\n    }());\r\n\r\n    var TextBounds = /** @class */ (function () {\r\n        function TextBounds(text, bounds) {\r\n            this.text = text;\r\n            this.bounds = bounds;\r\n        }\r\n        return TextBounds;\r\n    }());\r\n    var parseTextBounds = function (value, styles, node) {\r\n        var textList = breakText(value, styles);\r\n        var textBounds = [];\r\n        var offset = 0;\r\n        textList.forEach(function (text) {\r\n            if (styles.textDecorationLine.length || text.trim().length > 0) {\r\n                if (FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                    textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\r\n                }\r\n                else {\r\n                    var replacementNode = node.splitText(text.length);\r\n                    textBounds.push(new TextBounds(text, getWrapperBounds(node)));\r\n                    node = replacementNode;\r\n                }\r\n            }\r\n            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                node = node.splitText(text.length);\r\n            }\r\n            offset += text.length;\r\n        });\r\n        return textBounds;\r\n    };\r\n    var getWrapperBounds = function (node) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (ownerDocument) {\r\n            var wrapper = ownerDocument.createElement('html2canvaswrapper');\r\n            wrapper.appendChild(node.cloneNode(true));\r\n            var parentNode = node.parentNode;\r\n            if (parentNode) {\r\n                parentNode.replaceChild(wrapper, node);\r\n                var bounds = parseBounds(wrapper);\r\n                if (wrapper.firstChild) {\r\n                    parentNode.replaceChild(wrapper.firstChild, wrapper);\r\n                }\r\n                return bounds;\r\n            }\r\n        }\r\n        return new Bounds(0, 0, 0, 0);\r\n    };\r\n    var getRangeBounds = function (node, offset, length) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (!ownerDocument) {\r\n            throw new Error('Node has no owner document');\r\n        }\r\n        var range = ownerDocument.createRange();\r\n        range.setStart(node, offset);\r\n        range.setEnd(node, offset + length);\r\n        return Bounds.fromClientRect(range.getBoundingClientRect());\r\n    };\r\n    var breakText = function (value, styles) {\r\n        return styles.letterSpacing !== 0 ? toCodePoints(value).map(function (i) { return fromCodePoint(i); }) : breakWords(value, styles);\r\n    };\r\n    var breakWords = function (str, styles) {\r\n        var breaker = LineBreaker(str, {\r\n            lineBreak: styles.lineBreak,\r\n            wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\r\n        });\r\n        var words = [];\r\n        var bk;\r\n        while (!(bk = breaker.next()).done) {\r\n            if (bk.value) {\r\n                words.push(bk.value.slice());\r\n            }\r\n        }\r\n        return words;\r\n    };\r\n\r\n    var TextContainer = /** @class */ (function () {\r\n        function TextContainer(node, styles) {\r\n            this.text = transform$1(node.data, styles.textTransform);\r\n            this.textBounds = parseTextBounds(this.text, styles, node);\r\n        }\r\n        return TextContainer;\r\n    }());\r\n    var transform$1 = function (text, transform) {\r\n        switch (transform) {\r\n            case TEXT_TRANSFORM.LOWERCASE:\r\n                return text.toLowerCase();\r\n            case TEXT_TRANSFORM.CAPITALIZE:\r\n                return text.replace(CAPITALIZE, capitalize);\r\n            case TEXT_TRANSFORM.UPPERCASE:\r\n                return text.toUpperCase();\r\n            default:\r\n                return text;\r\n        }\r\n    };\r\n    var CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\r\n    var capitalize = function (m, p1, p2) {\r\n        if (m.length > 0) {\r\n            return p1 + p2.toUpperCase();\r\n        }\r\n        return m;\r\n    };\r\n\r\n    var ImageElementContainer = /** @class */ (function (_super) {\r\n        __extends(ImageElementContainer, _super);\r\n        function ImageElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            _this.src = img.currentSrc || img.src;\r\n            _this.intrinsicWidth = img.naturalWidth;\r\n            _this.intrinsicHeight = img.naturalHeight;\r\n            CacheStorage.getInstance().addImage(_this.src);\r\n            return _this;\r\n        }\r\n        return ImageElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var CanvasElementContainer = /** @class */ (function (_super) {\r\n        __extends(CanvasElementContainer, _super);\r\n        function CanvasElementContainer(canvas) {\r\n            var _this = _super.call(this, canvas) || this;\r\n            _this.canvas = canvas;\r\n            _this.intrinsicWidth = canvas.width;\r\n            _this.intrinsicHeight = canvas.height;\r\n            return _this;\r\n        }\r\n        return CanvasElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var SVGElementContainer = /** @class */ (function (_super) {\r\n        __extends(SVGElementContainer, _super);\r\n        function SVGElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            var s = new XMLSerializer();\r\n            _this.svg = \"data:image/svg+xml,\" + encodeURIComponent(s.serializeToString(img));\r\n            _this.intrinsicWidth = img.width.baseVal.value;\r\n            _this.intrinsicHeight = img.height.baseVal.value;\r\n            CacheStorage.getInstance().addImage(_this.svg);\r\n            return _this;\r\n        }\r\n        return SVGElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var LIElementContainer = /** @class */ (function (_super) {\r\n        __extends(LIElementContainer, _super);\r\n        function LIElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return LIElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var OLElementContainer = /** @class */ (function (_super) {\r\n        __extends(OLElementContainer, _super);\r\n        function OLElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.start = element.start;\r\n            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\r\n            return _this;\r\n        }\r\n        return OLElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var CHECKBOX_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.DIMENSION_TOKEN,\r\n            flags: 0,\r\n            unit: 'px',\r\n            number: 3\r\n        }\r\n    ];\r\n    var RADIO_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.PERCENTAGE_TOKEN,\r\n            flags: 0,\r\n            number: 50\r\n        }\r\n    ];\r\n    var reformatInputBounds = function (bounds) {\r\n        if (bounds.width > bounds.height) {\r\n            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\r\n        }\r\n        else if (bounds.width < bounds.height) {\r\n            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\r\n        }\r\n        return bounds;\r\n    };\r\n    var getInputValue = function (node) {\r\n        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\r\n        return value.length === 0 ? node.placeholder || '' : value;\r\n    };\r\n    var CHECKBOX = 'checkbox';\r\n    var RADIO = 'radio';\r\n    var PASSWORD = 'password';\r\n    var INPUT_COLOR = 0x2a2a2aff;\r\n    var InputElementContainer = /** @class */ (function (_super) {\r\n        __extends(InputElementContainer, _super);\r\n        function InputElementContainer(input) {\r\n            var _this = _super.call(this, input) || this;\r\n            _this.type = input.type.toLowerCase();\r\n            _this.checked = input.checked;\r\n            _this.value = getInputValue(input);\r\n            if (_this.type === CHECKBOX || _this.type === RADIO) {\r\n                _this.styles.backgroundColor = 0xdededeff;\r\n                _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;\r\n                _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;\r\n                _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =\r\n                    BORDER_STYLE.SOLID;\r\n                _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\r\n                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];\r\n                _this.bounds = reformatInputBounds(_this.bounds);\r\n            }\r\n            switch (_this.type) {\r\n                case CHECKBOX:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;\r\n                    break;\r\n                case RADIO:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;\r\n                    break;\r\n            }\r\n            return _this;\r\n        }\r\n        return InputElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var SelectElementContainer = /** @class */ (function (_super) {\r\n        __extends(SelectElementContainer, _super);\r\n        function SelectElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            var option = element.options[element.selectedIndex || 0];\r\n            _this.value = option ? option.text || '' : '';\r\n            return _this;\r\n        }\r\n        return SelectElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var TextareaElementContainer = /** @class */ (function (_super) {\r\n        __extends(TextareaElementContainer, _super);\r\n        function TextareaElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return TextareaElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var parseColor = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var IFrameElementContainer = /** @class */ (function (_super) {\r\n        __extends(IFrameElementContainer, _super);\r\n        function IFrameElementContainer(iframe) {\r\n            var _this = _super.call(this, iframe) || this;\r\n            _this.src = iframe.src;\r\n            _this.width = parseInt(iframe.width, 10) || 0;\r\n            _this.height = parseInt(iframe.height, 10) || 0;\r\n            _this.backgroundColor = _this.styles.backgroundColor;\r\n            try {\r\n                if (iframe.contentWindow &&\r\n                    iframe.contentWindow.document &&\r\n                    iframe.contentWindow.document.documentElement) {\r\n                    _this.tree = parseTree(iframe.contentWindow.document.documentElement);\r\n                    // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n                    var documentBackgroundColor = iframe.contentWindow.document.documentElement\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)\r\n                            .backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    var bodyBackgroundColor = iframe.contentWindow.document.body\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    _this.backgroundColor = isTransparent(documentBackgroundColor)\r\n                        ? isTransparent(bodyBackgroundColor)\r\n                            ? _this.styles.backgroundColor\r\n                            : bodyBackgroundColor\r\n                        : documentBackgroundColor;\r\n                }\r\n            }\r\n            catch (e) { }\r\n            return _this;\r\n        }\r\n        return IFrameElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var LIST_OWNERS = ['OL', 'UL', 'MENU'];\r\n    var parseNodeTree = function (node, parent, root) {\r\n        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {\r\n            nextNode = childNode.nextSibling;\r\n            if (isTextNode(childNode) && childNode.data.trim().length > 0) {\r\n                parent.textNodes.push(new TextContainer(childNode, parent.styles));\r\n            }\r\n            else if (isElementNode(childNode)) {\r\n                var container = createContainer(childNode);\r\n                if (container.styles.isVisible()) {\r\n                    if (createsRealStackingContext(childNode, container, root)) {\r\n                        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n                    }\r\n                    else if (createsStackingContext(container.styles)) {\r\n                        container.flags |= 2 /* CREATES_STACKING_CONTEXT */;\r\n                    }\r\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\r\n                        container.flags |= 8 /* IS_LIST_OWNER */;\r\n                    }\r\n                    parent.elements.push(container);\r\n                    if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {\r\n                        parseNodeTree(childNode, container, root);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var createContainer = function (element) {\r\n        if (isImageElement(element)) {\r\n            return new ImageElementContainer(element);\r\n        }\r\n        if (isCanvasElement(element)) {\r\n            return new CanvasElementContainer(element);\r\n        }\r\n        if (isSVGElement(element)) {\r\n            return new SVGElementContainer(element);\r\n        }\r\n        if (isLIElement(element)) {\r\n            return new LIElementContainer(element);\r\n        }\r\n        if (isOLElement(element)) {\r\n            return new OLElementContainer(element);\r\n        }\r\n        if (isInputElement(element)) {\r\n            return new InputElementContainer(element);\r\n        }\r\n        if (isSelectElement(element)) {\r\n            return new SelectElementContainer(element);\r\n        }\r\n        if (isTextareaElement(element)) {\r\n            return new TextareaElementContainer(element);\r\n        }\r\n        if (isIFrameElement(element)) {\r\n            return new IFrameElementContainer(element);\r\n        }\r\n        return new ElementContainer(element);\r\n    };\r\n    var parseTree = function (element) {\r\n        var container = createContainer(element);\r\n        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n        parseNodeTree(element, container, container);\r\n        return container;\r\n    };\r\n    var createsRealStackingContext = function (node, container, root) {\r\n        return (container.styles.isPositionedWithZIndex() ||\r\n            container.styles.opacity < 1 ||\r\n            container.styles.isTransformed() ||\r\n            (isBodyElement(node) && root.styles.isTransparent()));\r\n    };\r\n    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };\r\n    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\r\n    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\r\n    var isHTMLElementNode = function (node) {\r\n        return typeof node.style !== 'undefined';\r\n    };\r\n    var isLIElement = function (node) { return node.tagName === 'LI'; };\r\n    var isOLElement = function (node) { return node.tagName === 'OL'; };\r\n    var isInputElement = function (node) { return node.tagName === 'INPUT'; };\r\n    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };\r\n    var isSVGElement = function (node) { return node.tagName === 'svg'; };\r\n    var isBodyElement = function (node) { return node.tagName === 'BODY'; };\r\n    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };\r\n    var isImageElement = function (node) { return node.tagName === 'IMG'; };\r\n    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };\r\n    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };\r\n    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };\r\n    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };\r\n    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };\r\n\r\n    var CounterState = /** @class */ (function () {\r\n        function CounterState() {\r\n            this.counters = {};\r\n        }\r\n        CounterState.prototype.getCounterValue = function (name) {\r\n            var counter = this.counters[name];\r\n            if (counter && counter.length) {\r\n                return counter[counter.length - 1];\r\n            }\r\n            return 1;\r\n        };\r\n        CounterState.prototype.getCounterValues = function (name) {\r\n            var counter = this.counters[name];\r\n            return counter ? counter : [];\r\n        };\r\n        CounterState.prototype.pop = function (counters) {\r\n            var _this = this;\r\n            counters.forEach(function (counter) { return _this.counters[counter].pop(); });\r\n        };\r\n        CounterState.prototype.parse = function (style) {\r\n            var _this = this;\r\n            var counterIncrement = style.counterIncrement;\r\n            var counterReset = style.counterReset;\r\n            var canReset = true;\r\n            if (counterIncrement !== null) {\r\n                counterIncrement.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    if (counter && entry.increment !== 0) {\r\n                        canReset = false;\r\n                        counter[Math.max(0, counter.length - 1)] += entry.increment;\r\n                    }\r\n                });\r\n            }\r\n            var counterNames = [];\r\n            if (canReset) {\r\n                counterReset.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    counterNames.push(entry.counter);\r\n                    if (!counter) {\r\n                        counter = _this.counters[entry.counter] = [];\r\n                    }\r\n                    counter.push(entry.reset);\r\n                });\r\n            }\r\n            return counterNames;\r\n        };\r\n        return CounterState;\r\n    }());\r\n    var ROMAN_UPPER = {\r\n        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\r\n    };\r\n    var ARMENIAN = {\r\n        integers: [\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            'Ք',\r\n            'Փ',\r\n            'Ւ',\r\n            'Ց',\r\n            'Ր',\r\n            'Տ',\r\n            'Վ',\r\n            'Ս',\r\n            'Ռ',\r\n            'Ջ',\r\n            'Պ',\r\n            'Չ',\r\n            'Ո',\r\n            'Շ',\r\n            'Ն',\r\n            'Յ',\r\n            'Մ',\r\n            'Ճ',\r\n            'Ղ',\r\n            'Ձ',\r\n            'Հ',\r\n            'Կ',\r\n            'Ծ',\r\n            'Խ',\r\n            'Լ',\r\n            'Ի',\r\n            'Ժ',\r\n            'Թ',\r\n            'Ը',\r\n            'Է',\r\n            'Զ',\r\n            'Ե',\r\n            'Դ',\r\n            'Գ',\r\n            'Բ',\r\n            'Ա'\r\n        ]\r\n    };\r\n    var HEBREW = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            19,\r\n            18,\r\n            17,\r\n            16,\r\n            15,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            'י׳',\r\n            'ט׳',\r\n            'ח׳',\r\n            'ז׳',\r\n            'ו׳',\r\n            'ה׳',\r\n            'ד׳',\r\n            'ג׳',\r\n            'ב׳',\r\n            'א׳',\r\n            'ת',\r\n            'ש',\r\n            'ר',\r\n            'ק',\r\n            'צ',\r\n            'פ',\r\n            'ע',\r\n            'ס',\r\n            'נ',\r\n            'מ',\r\n            'ל',\r\n            'כ',\r\n            'יט',\r\n            'יח',\r\n            'יז',\r\n            'טז',\r\n            'טו',\r\n            'י',\r\n            'ט',\r\n            'ח',\r\n            'ז',\r\n            'ו',\r\n            'ה',\r\n            'ד',\r\n            'ג',\r\n            'ב',\r\n            'א'\r\n        ]\r\n    };\r\n    var GEORGIAN = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            'ჵ',\r\n            'ჰ',\r\n            'ჯ',\r\n            'ჴ',\r\n            'ხ',\r\n            'ჭ',\r\n            'წ',\r\n            'ძ',\r\n            'ც',\r\n            'ჩ',\r\n            'შ',\r\n            'ყ',\r\n            'ღ',\r\n            'ქ',\r\n            'ფ',\r\n            'ჳ',\r\n            'ტ',\r\n            'ს',\r\n            'რ',\r\n            'ჟ',\r\n            'პ',\r\n            'ო',\r\n            'ჲ',\r\n            'ნ',\r\n            'მ',\r\n            'ლ',\r\n            'კ',\r\n            'ი',\r\n            'თ',\r\n            'ჱ',\r\n            'ზ',\r\n            'ვ',\r\n            'ე',\r\n            'დ',\r\n            'გ',\r\n            'ბ',\r\n            'ა'\r\n        ]\r\n    };\r\n    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {\r\n        if (value < min || value > max) {\r\n            return createCounterText(value, fallback, suffix.length > 0);\r\n        }\r\n        return (symbols.integers.reduce(function (string, integer, index) {\r\n            while (value >= integer) {\r\n                value -= integer;\r\n                string += symbols.values[index];\r\n            }\r\n            return string;\r\n        }, '') + suffix);\r\n    };\r\n    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {\r\n        var string = '';\r\n        do {\r\n            if (!isNumeric) {\r\n                value--;\r\n            }\r\n            string = resolver(value) + string;\r\n            value /= codePointRangeLength;\r\n        } while (value * codePointRangeLength >= codePointRangeLength);\r\n        return string;\r\n    };\r\n    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\r\n        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\r\n        return ((value < 0 ? '-' : '') +\r\n            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\r\n                return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\r\n            }) +\r\n                suffix));\r\n    };\r\n    var createCounterStyleFromSymbols = function (value, symbols, suffix) {\r\n        if (suffix === void 0) { suffix = '. '; }\r\n        var codePointRangeLength = symbols.length;\r\n        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);\r\n    };\r\n    var CJK_ZEROS = 1 << 0;\r\n    var CJK_TEN_COEFFICIENTS = 1 << 1;\r\n    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\r\n    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;\r\n    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {\r\n        if (value < -9999 || value > 9999) {\r\n            return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\r\n        }\r\n        var tmp = Math.abs(value);\r\n        var string = suffix;\r\n        if (tmp === 0) {\r\n            return numbers[0] + string;\r\n        }\r\n        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\r\n            var coefficient = tmp % 10;\r\n            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\r\n                string = numbers[coefficient] + string;\r\n            }\r\n            else if (coefficient > 1 ||\r\n                (coefficient === 1 && digit === 0) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\r\n                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {\r\n                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\r\n            }\r\n            else if (coefficient === 1 && digit > 0) {\r\n                string = multipliers[digit - 1] + string;\r\n            }\r\n            tmp = Math.floor(tmp / 10);\r\n        }\r\n        return (value < 0 ? negativeSign : '') + string;\r\n    };\r\n    var CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';\r\n    var CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';\r\n    var JAPANESE_NEGATIVE = 'マイナス';\r\n    var KOREAN_NEGATIVE = '마이너스';\r\n    var createCounterText = function (value, type, appendSuffix) {\r\n        var defaultSuffix = appendSuffix ? '. ' : '';\r\n        var cjkSuffix = appendSuffix ? '、' : '';\r\n        var koreanSuffix = appendSuffix ? ', ' : '';\r\n        var spaceSuffix = appendSuffix ? ' ' : '';\r\n        switch (type) {\r\n            case LIST_STYLE_TYPE.DISC:\r\n                return '•' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.CIRCLE:\r\n                return '◦' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.SQUARE:\r\n                return '◾' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\r\n                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n                return string.length < 4 ? \"0\" + string : string;\r\n            case LIST_STYLE_TYPE.CJK_DECIMAL:\r\n                return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.UPPER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_GREEK:\r\n                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ALPHA:\r\n                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.UPPER_ALPHA:\r\n                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARABIC_INDIC:\r\n                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARMENIAN:\r\n            case LIST_STYLE_TYPE.UPPER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.BENGALI:\r\n                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CAMBODIAN:\r\n            case LIST_STYLE_TYPE.KHMER:\r\n                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\r\n                return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\r\n                return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\r\n                return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);\r\n            case LIST_STYLE_TYPE.JAPANESE_FORMAL:\r\n                return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\r\n                return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\r\n                return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\r\n                return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.DEVANAGARI:\r\n                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GEORGIAN:\r\n                return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GUJARATI:\r\n                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GURMUKHI:\r\n                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HEBREW:\r\n                return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HIRAGANA:\r\n                return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');\r\n            case LIST_STYLE_TYPE.HIRAGANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');\r\n            case LIST_STYLE_TYPE.KANNADA:\r\n                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA:\r\n                return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LAO:\r\n                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MONGOLIAN:\r\n                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MYANMAR:\r\n                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ORIYA:\r\n                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.PERSIAN:\r\n                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TAMIL:\r\n                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TELUGU:\r\n                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.THAI:\r\n                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TIBETAN:\r\n                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.DECIMAL:\r\n            default:\r\n                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n        }\r\n    };\r\n\r\n    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\r\n    var DocumentCloner = /** @class */ (function () {\r\n        function DocumentCloner(element, options) {\r\n            this.options = options;\r\n            this.scrolledElements = [];\r\n            this.referenceElement = element;\r\n            this.counters = new CounterState();\r\n            this.quoteDepth = 0;\r\n            if (!element.ownerDocument) {\r\n                throw new Error('Cloned element does not have an owner document');\r\n            }\r\n            this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\r\n        }\r\n        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {\r\n            var _this = this;\r\n            var iframe = createIFrameContainer(ownerDocument, windowSize);\r\n            if (!iframe.contentWindow) {\r\n                return Promise.reject(\"Unable to find iframe window\");\r\n            }\r\n            var scrollX = ownerDocument.defaultView.pageXOffset;\r\n            var scrollY = ownerDocument.defaultView.pageYOffset;\r\n            var cloneWindow = iframe.contentWindow;\r\n            var documentClone = cloneWindow.document;\r\n            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n             if window url is about:blank, we can assign the url to current by writing onto the document\r\n             */\r\n            var iframeLoad = iframeLoader(iframe).then(function () {\r\n                return __awaiter(_this, void 0, void 0, function () {\r\n                    var onclone;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                this.scrolledElements.forEach(restoreNodeScroll);\r\n                                if (cloneWindow) {\r\n                                    cloneWindow.scrollTo(windowSize.left, windowSize.top);\r\n                                    if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\r\n                                        (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {\r\n                                        documentClone.documentElement.style.top = -windowSize.top + 'px';\r\n                                        documentClone.documentElement.style.left = -windowSize.left + 'px';\r\n                                        documentClone.documentElement.style.position = 'absolute';\r\n                                    }\r\n                                }\r\n                                onclone = this.options.onclone;\r\n                                if (typeof this.clonedReferenceElement === 'undefined') {\r\n                                    return [2 /*return*/, Promise.reject(\"Error finding the \" + this.referenceElement.nodeName + \" in the cloned document\")];\r\n                                }\r\n                                if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];\r\n                                return [4 /*yield*/, documentClone.fonts.ready];\r\n                            case 1:\r\n                                _a.sent();\r\n                                _a.label = 2;\r\n                            case 2:\r\n                                if (typeof onclone === 'function') {\r\n                                    return [2 /*return*/, Promise.resolve()\r\n                                        .then(function () { return onclone(documentClone); })\r\n                                        .then(function () { return iframe; })];\r\n                                }\r\n                                return [2 /*return*/, iframe];\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n            documentClone.open();\r\n            documentClone.write(serializeDoctype(document.doctype) + \"<html></html>\");\r\n            // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\r\n            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\r\n            documentClone.close();\r\n            return iframeLoad;\r\n        };\r\n        DocumentCloner.prototype.createElementClone = function (node) {\r\n            if (isCanvasElement(node)) {\r\n                return this.createCanvasClone(node);\r\n            }\r\n            /*\r\n            if (isIFrameElement(node)) {\r\n                return this.createIFrameClone(node);\r\n            }\r\n    */\r\n            if (isStyleElement(node)) {\r\n                return this.createStyleClone(node);\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createStyleClone = function (node) {\r\n            try {\r\n                var sheet = node.sheet;\r\n                if (sheet && sheet.cssRules) {\r\n                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {\r\n                        if (rule && typeof rule.cssText === 'string') {\r\n                            return css + rule.cssText;\r\n                        }\r\n                        return css;\r\n                    }, '');\r\n                    var style = node.cloneNode(false);\r\n                    style.textContent = css;\r\n                    return style;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // accessing node.sheet.cssRules throws a DOMException\r\n                Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);\r\n                if (e.name !== 'SecurityError') {\r\n                    throw e;\r\n                }\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createCanvasClone = function (canvas) {\r\n            if (this.options.inlineImages && canvas.ownerDocument) {\r\n                var img = canvas.ownerDocument.createElement('img');\r\n                try {\r\n                    img.src = canvas.toDataURL();\r\n                    return img;\r\n                }\r\n                catch (e) {\r\n                    Logger.getInstance(this.options.id).info(\"Unable to clone canvas contents, canvas is tainted\");\r\n                }\r\n            }\r\n            var clonedCanvas = canvas.cloneNode(false);\r\n            try {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                var ctx = canvas.getContext('2d');\r\n                var clonedCtx = clonedCanvas.getContext('2d');\r\n                if (clonedCtx) {\r\n                    if (ctx) {\r\n                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n                    }\r\n                    else {\r\n                        clonedCtx.drawImage(canvas, 0, 0);\r\n                    }\r\n                }\r\n                return clonedCanvas;\r\n            }\r\n            catch (e) { }\r\n            return clonedCanvas;\r\n        };\r\n        /*\r\n        createIFrameClone(iframe: HTMLIFrameElement) {\r\n            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);\r\n            const iframeKey = generateIframeKey();\r\n            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\r\n\r\n            const {width, height} = parseBounds(iframe);\r\n\r\n            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)\r\n                .then(documentElement => {\r\n                    return this.renderer(\r\n                        documentElement,\r\n                        {\r\n                            allowTaint: this.options.allowTaint,\r\n                            backgroundColor: '#ffffff',\r\n                            canvas: null,\r\n                            imageTimeout: this.options.imageTimeout,\r\n                            logging: this.options.logging,\r\n                            proxy: this.options.proxy,\r\n                            removeContainer: this.options.removeContainer,\r\n                            scale: this.options.scale,\r\n                            foreignObjectRendering: this.options.foreignObjectRendering,\r\n                            useCORS: this.options.useCORS,\r\n                            target: new CanvasRenderer(),\r\n                            width,\r\n                            height,\r\n                            x: 0,\r\n                            y: 0,\r\n                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\r\n                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\r\n                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\r\n                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\r\n                        },\r\n                    );\r\n                })\r\n                .then(\r\n                    (canvas: HTMLCanvasElement) =>\r\n                        new Promise((resolve, reject) => {\r\n                            const iframeCanvas = document.createElement('img');\r\n                            iframeCanvas.onload = () => resolve(canvas);\r\n                            iframeCanvas.onerror = (event) => {\r\n                                // Empty iframes may result in empty \"data:,\" URLs, which are invalid from the <img>'s point of view\r\n                                // and instead of `onload` cause `onerror` and unhandled rejection warnings\r\n                                // https://github.com/niklasvh/html2canvas/issues/1502\r\n                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);\r\n                            };\r\n                            iframeCanvas.src = canvas.toDataURL();\r\n                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {\r\n                                tempIframe.parentNode.replaceChild(\r\n                                    copyCSSStyles(\r\n                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),\r\n                                        iframeCanvas\r\n                                    ),\r\n                                    tempIframe\r\n                                );\r\n                            }\r\n                        })\r\n                );\r\n            return tempIframe;\r\n        }\r\n    */\r\n        DocumentCloner.prototype.cloneNode = function (node) {\r\n            if (isTextNode(node)) {\r\n                return document.createTextNode(node.data);\r\n            }\r\n            if (!node.ownerDocument) {\r\n                return node.cloneNode(false);\r\n            }\r\n            var window = node.ownerDocument.defaultView;\r\n            if (isHTMLElementNode(node) && window) {\r\n                var clone = this.createElementClone(node);\r\n                var style = window.getComputedStyle(node);\r\n                var styleBefore = window.getComputedStyle(node, ':before');\r\n                var styleAfter = window.getComputedStyle(node, ':after');\r\n                if (this.referenceElement === node) {\r\n                    this.clonedReferenceElement = clone;\r\n                }\r\n                if (isBodyElement(clone)) {\r\n                    createPseudoHideStyles(clone);\r\n                }\r\n                var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\r\n                for (var child = node.firstChild; child; child = child.nextSibling) {\r\n                    if (!isElementNode(child) ||\r\n                        (!isScriptElement(child) &&\r\n                            !child.hasAttribute(IGNORE_ATTRIBUTE) &&\r\n                            (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {\r\n                        if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\r\n                            clone.appendChild(this.cloneNode(child));\r\n                        }\r\n                    }\r\n                }\r\n                if (before) {\r\n                    clone.insertBefore(before, clone.firstChild);\r\n                }\r\n                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\r\n                if (after) {\r\n                    clone.appendChild(after);\r\n                }\r\n                this.counters.pop(counters);\r\n                if (style && this.options.copyStyles && !isIFrameElement(node)) {\r\n                    copyCSSStyles(style, clone);\r\n                }\r\n                //this.inlineAllImages(clone);\r\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\r\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\r\n                }\r\n                if ((isTextareaElement(node) || isSelectElement(node)) &&\r\n                    (isTextareaElement(clone) || isSelectElement(clone))) {\r\n                    clone.value = node.value;\r\n                }\r\n                return clone;\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {\r\n            var _this = this;\r\n            if (!style) {\r\n                return;\r\n            }\r\n            var value = style.content;\r\n            var document = clone.ownerDocument;\r\n            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\r\n                return;\r\n            }\r\n            this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n            var declaration = new CSSParsedPseudoDeclaration(style);\r\n            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\r\n            copyCSSStyles(style, anonymousReplacedElement);\r\n            declaration.content.forEach(function (token) {\r\n                if (token.type === TokenType.STRING_TOKEN) {\r\n                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                }\r\n                else if (token.type === TokenType.URL_TOKEN) {\r\n                    var img = document.createElement('img');\r\n                    img.src = token.value;\r\n                    img.style.opacity = '1';\r\n                    anonymousReplacedElement.appendChild(img);\r\n                }\r\n                else if (token.type === TokenType.FUNCTION) {\r\n                    if (token.name === 'attr') {\r\n                        var attr = token.values.filter(isIdentToken);\r\n                        if (attr.length) {\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counter') {\r\n                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterState = _this.counters.getCounterValue(counter.value);\r\n                            var counterType = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counters') {\r\n                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterStates = _this.counters.getCounterValues(counter.value);\r\n                            var counterType_1 = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\r\n                            var text = counterStates\r\n                                .map(function (value) { return createCounterText(value, counterType_1, false); })\r\n                                .join(separator);\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(text));\r\n                        }\r\n                    }\r\n                }\r\n                else if (token.type === TokenType.IDENT_TOKEN) {\r\n                    switch (token.value) {\r\n                        case 'open-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));\r\n                            break;\r\n                        case 'close-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));\r\n                            break;\r\n                        default:\r\n                            // safari doesn't parse string tokens correctly because of lack of quotes\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                    }\r\n                }\r\n            });\r\n            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            clone.className +=\r\n                pseudoElt === PseudoElementType.BEFORE\r\n                    ? \" \" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE\r\n                    : \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            return anonymousReplacedElement;\r\n        };\r\n        DocumentCloner.destroy = function (container) {\r\n            if (container.parentNode) {\r\n                container.parentNode.removeChild(container);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return DocumentCloner;\r\n    }());\r\n    var PseudoElementType;\r\n    (function (PseudoElementType) {\r\n        PseudoElementType[PseudoElementType[\"BEFORE\"] = 0] = \"BEFORE\";\r\n        PseudoElementType[PseudoElementType[\"AFTER\"] = 1] = \"AFTER\";\r\n    })(PseudoElementType || (PseudoElementType = {}));\r\n    var createIFrameContainer = function (ownerDocument, bounds) {\r\n        var cloneIframeContainer = ownerDocument.createElement('iframe');\r\n        cloneIframeContainer.className = 'html2canvas-container';\r\n        cloneIframeContainer.style.visibility = 'hidden';\r\n        cloneIframeContainer.style.position = 'fixed';\r\n        cloneIframeContainer.style.left = '-10000px';\r\n        cloneIframeContainer.style.top = '0px';\r\n        cloneIframeContainer.style.border = '0';\r\n        cloneIframeContainer.width = bounds.width.toString();\r\n        cloneIframeContainer.height = bounds.height.toString();\r\n        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\r\n        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\r\n        ownerDocument.body.appendChild(cloneIframeContainer);\r\n        return cloneIframeContainer;\r\n    };\r\n    var iframeLoader = function (iframe) {\r\n        return new Promise(function (resolve, reject) {\r\n            var cloneWindow = iframe.contentWindow;\r\n            if (!cloneWindow) {\r\n                return reject(\"No window assigned for iframe\");\r\n            }\r\n            var documentClone = cloneWindow.document;\r\n            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function () {\r\n                cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;\r\n                var interval = setInterval(function () {\r\n                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\r\n                        clearInterval(interval);\r\n                        resolve(iframe);\r\n                    }\r\n                }, 50);\r\n            };\r\n        });\r\n    };\r\n    var copyCSSStyles = function (style, target) {\r\n        // Edge does not provide value for cssText\r\n        for (var i = style.length - 1; i >= 0; i--) {\r\n            var property = style.item(i);\r\n            // Safari shows pseudoelements if content is set\r\n            if (property !== 'content') {\r\n                target.style.setProperty(property, style.getPropertyValue(property));\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n    var serializeDoctype = function (doctype) {\r\n        var str = '';\r\n        if (doctype) {\r\n            str += '<!DOCTYPE ';\r\n            if (doctype.name) {\r\n                str += doctype.name;\r\n            }\r\n            if (doctype.internalSubset) {\r\n                str += doctype.internalSubset;\r\n            }\r\n            if (doctype.publicId) {\r\n                str += \"\\\"\" + doctype.publicId + \"\\\"\";\r\n            }\r\n            if (doctype.systemId) {\r\n                str += \"\\\"\" + doctype.systemId + \"\\\"\";\r\n            }\r\n            str += '>';\r\n        }\r\n        return str;\r\n    };\r\n    var restoreOwnerScroll = function (ownerDocument, x, y) {\r\n        if (ownerDocument &&\r\n            ownerDocument.defaultView &&\r\n            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n            ownerDocument.defaultView.scrollTo(x, y);\r\n        }\r\n    };\r\n    var restoreNodeScroll = function (_a) {\r\n        var element = _a[0], x = _a[1], y = _a[2];\r\n        element.scrollLeft = x;\r\n        element.scrollTop = y;\r\n    };\r\n    var PSEUDO_BEFORE = ':before';\r\n    var PSEUDO_AFTER = ':after';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\r\n    var PSEUDO_HIDE_ELEMENT_STYLE = \"{\\n    content: \\\"\\\" !important;\\n    display: none !important;\\n}\";\r\n    var createPseudoHideStyles = function (body) {\r\n        createStyles(body, \".\" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + \"\\n         .\" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\r\n    };\r\n    var createStyles = function (body, styles) {\r\n        var document = body.ownerDocument;\r\n        if (document) {\r\n            var style = document.createElement('style');\r\n            style.textContent = styles;\r\n            body.appendChild(style);\r\n        }\r\n    };\r\n\r\n    var PathType;\r\n    (function (PathType) {\r\n        PathType[PathType[\"VECTOR\"] = 0] = \"VECTOR\";\r\n        PathType[PathType[\"BEZIER_CURVE\"] = 1] = \"BEZIER_CURVE\";\r\n    })(PathType || (PathType = {}));\r\n    var equalPath = function (a, b) {\r\n        if (a.length === b.length) {\r\n            return a.some(function (v, i) { return v === b[i]; });\r\n        }\r\n        return false;\r\n    };\r\n    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {\r\n        return path.map(function (point, index) {\r\n            switch (index) {\r\n                case 0:\r\n                    return point.add(deltaX, deltaY);\r\n                case 1:\r\n                    return point.add(deltaX + deltaW, deltaY);\r\n                case 2:\r\n                    return point.add(deltaX + deltaW, deltaY + deltaH);\r\n                case 3:\r\n                    return point.add(deltaX, deltaY + deltaH);\r\n            }\r\n            return point;\r\n        });\r\n    };\r\n\r\n    var Vector = /** @class */ (function () {\r\n        function Vector(x, y) {\r\n            this.type = PathType.VECTOR;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        Vector.prototype.add = function (deltaX, deltaY) {\r\n            return new Vector(this.x + deltaX, this.y + deltaY);\r\n        };\r\n        return Vector;\r\n    }());\r\n\r\n    var lerp = function (a, b, t) {\r\n        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n    };\r\n    var BezierCurve = /** @class */ (function () {\r\n        function BezierCurve(start, startControl, endControl, end) {\r\n            this.type = PathType.BEZIER_CURVE;\r\n            this.start = start;\r\n            this.startControl = startControl;\r\n            this.endControl = endControl;\r\n            this.end = end;\r\n        }\r\n        BezierCurve.prototype.subdivide = function (t, firstHalf) {\r\n            var ab = lerp(this.start, this.startControl, t);\r\n            var bc = lerp(this.startControl, this.endControl, t);\r\n            var cd = lerp(this.endControl, this.end, t);\r\n            var abbc = lerp(ab, bc, t);\r\n            var bccd = lerp(bc, cd, t);\r\n            var dest = lerp(abbc, bccd, t);\r\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\r\n        };\r\n        BezierCurve.prototype.add = function (deltaX, deltaY) {\r\n            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));\r\n        };\r\n        BezierCurve.prototype.reverse = function () {\r\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\r\n        };\r\n        return BezierCurve;\r\n    }());\r\n    var isBezierCurve = function (path) { return path.type === PathType.BEZIER_CURVE; };\r\n\r\n    var BoundCurves = /** @class */ (function () {\r\n        function BoundCurves(element) {\r\n            var styles = element.styles;\r\n            var bounds = element.bounds;\r\n            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];\r\n            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];\r\n            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];\r\n            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];\r\n            var factors = [];\r\n            factors.push((tlh + trh) / bounds.width);\r\n            factors.push((blh + brh) / bounds.width);\r\n            factors.push((tlv + blv) / bounds.height);\r\n            factors.push((trv + brv) / bounds.height);\r\n            var maxFactor = Math.max.apply(Math, factors);\r\n            if (maxFactor > 1) {\r\n                tlh /= maxFactor;\r\n                tlv /= maxFactor;\r\n                trh /= maxFactor;\r\n                trv /= maxFactor;\r\n                brh /= maxFactor;\r\n                brv /= maxFactor;\r\n                blh /= maxFactor;\r\n                blv /= maxFactor;\r\n            }\r\n            var topWidth = bounds.width - trh;\r\n            var rightHeight = bounds.height - brv;\r\n            var bottomWidth = bounds.width - brh;\r\n            var leftHeight = bounds.height - blv;\r\n            var borderTopWidth = styles.borderTopWidth;\r\n            var borderRightWidth = styles.borderRightWidth;\r\n            var borderBottomWidth = styles.borderBottomWidth;\r\n            var borderLeftWidth = styles.borderLeftWidth;\r\n            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\r\n            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\r\n            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\r\n            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\r\n            this.topLeftBorderBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left, bounds.top);\r\n            this.topRightBorderBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top);\r\n            this.bottomRightBorderBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\r\n            this.bottomLeftBorderBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left, bounds.top + bounds.height);\r\n            this.topLeftPaddingBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\r\n            this.topRightPaddingBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\r\n            this.bottomRightPaddingBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.bottomLeftPaddingBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.topLeftContentBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\r\n            this.topRightContentBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);\r\n            this.bottomRightContentBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n            this.bottomLeftContentBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n        }\r\n        return BoundCurves;\r\n    }());\r\n    var CORNER;\r\n    (function (CORNER) {\r\n        CORNER[CORNER[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\r\n        CORNER[CORNER[\"TOP_RIGHT\"] = 1] = \"TOP_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_RIGHT\"] = 2] = \"BOTTOM_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\r\n    })(CORNER || (CORNER = {}));\r\n    var getCurvePoints = function (x, y, r1, r2, position) {\r\n        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n        var ox = r1 * kappa; // control point offset horizontal\r\n        var oy = r2 * kappa; // control point offset vertical\r\n        var xm = x + r1; // x-middle\r\n        var ym = y + r2; // y-middle\r\n        switch (position) {\r\n            case CORNER.TOP_LEFT:\r\n                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\r\n            case CORNER.TOP_RIGHT:\r\n                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\r\n            case CORNER.BOTTOM_RIGHT:\r\n                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\r\n            case CORNER.BOTTOM_LEFT:\r\n            default:\r\n                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\r\n        }\r\n    };\r\n    var calculateBorderBoxPath = function (curves) {\r\n        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\r\n    };\r\n    var calculateContentBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftContentBox,\r\n            curves.topRightContentBox,\r\n            curves.bottomRightContentBox,\r\n            curves.bottomLeftContentBox\r\n        ];\r\n    };\r\n    var calculatePaddingBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftPaddingBox,\r\n            curves.topRightPaddingBox,\r\n            curves.bottomRightPaddingBox,\r\n            curves.bottomLeftPaddingBox\r\n        ];\r\n    };\r\n\r\n    var TransformEffect = /** @class */ (function () {\r\n        function TransformEffect(offsetX, offsetY, matrix) {\r\n            this.type = 0 /* TRANSFORM */;\r\n            this.offsetX = offsetX;\r\n            this.offsetY = offsetY;\r\n            this.matrix = matrix;\r\n            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;\r\n        }\r\n        return TransformEffect;\r\n    }());\r\n    var ClipEffect = /** @class */ (function () {\r\n        function ClipEffect(path, target) {\r\n            this.type = 1 /* CLIP */;\r\n            this.target = target;\r\n            this.path = path;\r\n        }\r\n        return ClipEffect;\r\n    }());\r\n    var isTransformEffect = function (effect) {\r\n        return effect.type === 0 /* TRANSFORM */;\r\n    };\r\n    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };\r\n\r\n    var StackingContext = /** @class */ (function () {\r\n        function StackingContext(container) {\r\n            this.element = container;\r\n            this.inlineLevel = [];\r\n            this.nonInlineLevel = [];\r\n            this.negativeZIndex = [];\r\n            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\r\n            this.positiveZIndex = [];\r\n            this.nonPositionedFloats = [];\r\n            this.nonPositionedInlineLevel = [];\r\n        }\r\n        return StackingContext;\r\n    }());\r\n    var ElementPaint = /** @class */ (function () {\r\n        function ElementPaint(element, parentStack) {\r\n            this.container = element;\r\n            this.effects = parentStack.slice(0);\r\n            this.curves = new BoundCurves(element);\r\n            if (element.styles.transform !== null) {\r\n                var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;\r\n                var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;\r\n                var matrix = element.styles.transform;\r\n                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\r\n            }\r\n            if (element.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (equalPath(borderBox, paddingBox)) {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n                else {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));\r\n                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));\r\n                }\r\n            }\r\n        }\r\n        ElementPaint.prototype.getParentEffects = function () {\r\n            var effects = this.effects.slice(0);\r\n            if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (!equalPath(borderBox, paddingBox)) {\r\n                    effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n            }\r\n            return effects;\r\n        };\r\n        return ElementPaint;\r\n    }());\r\n    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {\r\n        parent.container.elements.forEach(function (child) {\r\n            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);\r\n            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);\r\n            var paintContainer = new ElementPaint(child, parent.getParentEffects());\r\n            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {\r\n                listItems.push(paintContainer);\r\n            }\r\n            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;\r\n            if (treatAsRealStackingContext || createsStackingContext) {\r\n                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\r\n                var stack = new StackingContext(paintContainer);\r\n                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\r\n                    var order_1 = child.styles.zIndex.order;\r\n                    if (order_1 < 0) {\r\n                        var index_1 = 0;\r\n                        parentStack.negativeZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_1 = i;\r\n                                return false;\r\n                            }\r\n                            else if (index_1 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.negativeZIndex.splice(index_1, 0, stack);\r\n                    }\r\n                    else if (order_1 > 0) {\r\n                        var index_2 = 0;\r\n                        parentStack.positiveZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_2 = i + 1;\r\n                                return false;\r\n                            }\r\n                            else if (index_2 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.positiveZIndex.splice(index_2, 0, stack);\r\n                    }\r\n                    else {\r\n                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\r\n                    }\r\n                }\r\n                else {\r\n                    if (child.styles.isFloating()) {\r\n                        parentStack.nonPositionedFloats.push(stack);\r\n                    }\r\n                    else {\r\n                        parentStack.nonPositionedInlineLevel.push(stack);\r\n                    }\r\n                }\r\n                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);\r\n            }\r\n            else {\r\n                if (child.styles.isInlineLevel()) {\r\n                    stackingContext.inlineLevel.push(paintContainer);\r\n                }\r\n                else {\r\n                    stackingContext.nonInlineLevel.push(paintContainer);\r\n                }\r\n                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\r\n            }\r\n            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {\r\n                processListItems(child, listOwnerItems);\r\n            }\r\n        });\r\n    };\r\n    var processListItems = function (owner, elements) {\r\n        var numbering = owner instanceof OLElementContainer ? owner.start : 1;\r\n        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var item = elements[i];\r\n            if (item.container instanceof LIElementContainer &&\r\n                typeof item.container.value === 'number' &&\r\n                item.container.value !== 0) {\r\n                numbering = item.container.value;\r\n            }\r\n            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\r\n            numbering += reversed ? -1 : 1;\r\n        }\r\n    };\r\n    var parseStackingContexts = function (container) {\r\n        var paintContainer = new ElementPaint(container, []);\r\n        var root = new StackingContext(paintContainer);\r\n        var listItems = [];\r\n        parseStackTree(paintContainer, root, root, listItems);\r\n        processListItems(paintContainer.container, listItems);\r\n        return root;\r\n    };\r\n\r\n    var parsePathForBorder = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);\r\n        }\r\n    };\r\n    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {\r\n        var path = [];\r\n        if (isBezierCurve(outer1)) {\r\n            path.push(outer1.subdivide(0.5, false));\r\n        }\r\n        else {\r\n            path.push(outer1);\r\n        }\r\n        if (isBezierCurve(outer2)) {\r\n            path.push(outer2.subdivide(0.5, true));\r\n        }\r\n        else {\r\n            path.push(outer2);\r\n        }\r\n        if (isBezierCurve(inner2)) {\r\n            path.push(inner2.subdivide(0.5, true).reverse());\r\n        }\r\n        else {\r\n            path.push(inner2);\r\n        }\r\n        if (isBezierCurve(inner1)) {\r\n            path.push(inner1.subdivide(0.5, false).reverse());\r\n        }\r\n        else {\r\n            path.push(inner1);\r\n        }\r\n        return path;\r\n    };\r\n\r\n    var paddingBox = function (element) {\r\n        var bounds = element.bounds;\r\n        var styles = element.styles;\r\n        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));\r\n    };\r\n    var contentBox = function (element) {\r\n        var styles = element.styles;\r\n        var bounds = element.bounds;\r\n        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\r\n        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\r\n        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\r\n        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\r\n        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));\r\n    };\r\n\r\n    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {\r\n        if (backgroundOrigin === 0 /* BORDER_BOX */) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundOrigin === 2 /* CONTENT_BOX */) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundPaintingArea = function (backgroundClip, element) {\r\n        if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundRendering = function (container, index, intrinsicSize) {\r\n        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);\r\n        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);\r\n        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);\r\n        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];\r\n        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);\r\n        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);\r\n        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);\r\n        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);\r\n        return [path, offsetX, offsetY, sizeWidth, sizeHeight];\r\n    };\r\n    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };\r\n    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };\r\n    var calculateBackgroundSize = function (size, _a, bounds) {\r\n        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];\r\n        var first = size[0], second = size[1];\r\n        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\r\n            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\r\n        }\r\n        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\r\n        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\r\n            if (hasIntrinsicValue(intrinsicProportion)) {\r\n                var targetRatio = bounds.width / bounds.height;\r\n                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\r\n                    ? [bounds.width, bounds.width / intrinsicProportion]\r\n                    : [bounds.height * intrinsicProportion, bounds.height];\r\n            }\r\n            return [bounds.width, bounds.height];\r\n        }\r\n        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\r\n        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\r\n        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\r\n        // If the background-size is auto or auto auto:\r\n        if (isAuto(first) && (!second || isAuto(second))) {\r\n            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\r\n            if (hasIntrinsicWidth && hasIntrinsicHeight) {\r\n                return [intrinsicWidth, intrinsicHeight];\r\n            }\r\n            // If the image has no intrinsic dimensions and has no intrinsic proportions,\r\n            // it's rendered at the size of the background positioning area.\r\n            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\r\n                return [bounds.width, bounds.height];\r\n            }\r\n            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\r\n            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\r\n            // The other dimension is computed using the specified dimension and the intrinsic proportions.\r\n            if (hasIntrinsicDimensions && hasIntrinsicProportion) {\r\n                var width_1 = hasIntrinsicWidth\r\n                    ? intrinsicWidth\r\n                    : intrinsicHeight * intrinsicProportion;\r\n                var height_1 = hasIntrinsicHeight\r\n                    ? intrinsicHeight\r\n                    : intrinsicWidth / intrinsicProportion;\r\n                return [width_1, height_1];\r\n            }\r\n            // If the image has only one intrinsic dimension but has no intrinsic proportions,\r\n            // it's rendered using the specified dimension and the other dimension of the background positioning area.\r\n            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;\r\n            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;\r\n            return [width_2, height_2];\r\n        }\r\n        // If the image has intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\r\n        if (hasIntrinsicProportion) {\r\n            var width_3 = 0;\r\n            var height_3 = 0;\r\n            if (isLengthPercentage(first)) {\r\n                width_3 = getAbsoluteValue(first, bounds.width);\r\n            }\r\n            else if (isLengthPercentage(second)) {\r\n                height_3 = getAbsoluteValue(second, bounds.height);\r\n            }\r\n            if (isAuto(first)) {\r\n                width_3 = height_3 * intrinsicProportion;\r\n            }\r\n            else if (!second || isAuto(second)) {\r\n                height_3 = width_3 / intrinsicProportion;\r\n            }\r\n            return [width_3, height_3];\r\n        }\r\n        // If the image has no intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\r\n        // if there is one. If there is no such intrinsic dimension,\r\n        // it becomes the corresponding dimension of the background positioning area.\r\n        var width = null;\r\n        var height = null;\r\n        if (isLengthPercentage(first)) {\r\n            width = getAbsoluteValue(first, bounds.width);\r\n        }\r\n        else if (second && isLengthPercentage(second)) {\r\n            height = getAbsoluteValue(second, bounds.height);\r\n        }\r\n        if (width !== null && (!second || isAuto(second))) {\r\n            height =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (width / intrinsicWidth) * intrinsicHeight\r\n                    : bounds.height;\r\n        }\r\n        if (height !== null && isAuto(first)) {\r\n            width =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (height / intrinsicHeight) * intrinsicWidth\r\n                    : bounds.width;\r\n        }\r\n        if (width !== null && height !== null) {\r\n            return [width, height];\r\n        }\r\n        throw new Error(\"Unable to calculate background-size for element\");\r\n    };\r\n    var getBackgroundValueForIndex = function (values, index) {\r\n        var value = values[index];\r\n        if (typeof value === 'undefined') {\r\n            return values[0];\r\n        }\r\n        return value;\r\n    };\r\n    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {\r\n        var x = _a[0], y = _a[1];\r\n        var width = _b[0], height = _b[1];\r\n        switch (repeat) {\r\n            case BACKGROUND_REPEAT.REPEAT_X:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))\r\n                ];\r\n            case BACKGROUND_REPEAT.REPEAT_Y:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))\r\n                ];\r\n            case BACKGROUND_REPEAT.NO_REPEAT:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))\r\n                ];\r\n            default:\r\n                return [\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))\r\n                ];\r\n        }\r\n    };\r\n\r\n    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n\r\n    var SAMPLE_TEXT = 'Hidden Text';\r\n    var FontMetrics = /** @class */ (function () {\r\n        function FontMetrics(document) {\r\n            this._data = {};\r\n            this._document = document;\r\n        }\r\n        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {\r\n            var container = this._document.createElement('div');\r\n            var img = this._document.createElement('img');\r\n            var span = this._document.createElement('span');\r\n            var body = this._document.body;\r\n            container.style.visibility = 'hidden';\r\n            container.style.fontFamily = fontFamily;\r\n            container.style.fontSize = fontSize;\r\n            container.style.margin = '0';\r\n            container.style.padding = '0';\r\n            body.appendChild(container);\r\n            img.src = SMALL_IMAGE;\r\n            img.width = 1;\r\n            img.height = 1;\r\n            img.style.margin = '0';\r\n            img.style.padding = '0';\r\n            img.style.verticalAlign = 'baseline';\r\n            span.style.fontFamily = fontFamily;\r\n            span.style.fontSize = fontSize;\r\n            span.style.margin = '0';\r\n            span.style.padding = '0';\r\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.appendChild(span);\r\n            container.appendChild(img);\r\n            var baseline = img.offsetTop - span.offsetTop + 2;\r\n            container.removeChild(span);\r\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.style.lineHeight = 'normal';\r\n            img.style.verticalAlign = 'super';\r\n            var middle = img.offsetTop - container.offsetTop + 2;\r\n            body.removeChild(container);\r\n            return { baseline: baseline, middle: middle };\r\n        };\r\n        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {\r\n            var key = fontFamily + \" \" + fontSize;\r\n            if (typeof this._data[key] === 'undefined') {\r\n                this._data[key] = this.parseMetrics(fontFamily, fontSize);\r\n            }\r\n            return this._data[key];\r\n        };\r\n        return FontMetrics;\r\n    }());\r\n\r\n    var MASK_OFFSET = 10000;\r\n    var CanvasRenderer = /** @class */ (function () {\r\n        function CanvasRenderer(options) {\r\n            this._activeEffects = [];\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            if (!options.canvas) {\r\n                this.canvas.width = Math.floor(options.width * options.scale);\r\n                this.canvas.height = Math.floor(options.height * options.scale);\r\n                this.canvas.style.width = options.width + \"px\";\r\n                this.canvas.style.height = options.height + \"px\";\r\n            }\r\n            this.fontMetrics = new FontMetrics(document);\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            this.ctx.textBaseline = 'bottom';\r\n            this._activeEffects = [];\r\n            Logger.getInstance(options.id).debug(\"Canvas renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        CanvasRenderer.prototype.applyEffects = function (effects, target) {\r\n            var _this = this;\r\n            while (this._activeEffects.length) {\r\n                this.popEffect();\r\n            }\r\n            effects.filter(function (effect) { return contains(effect.target, target); }).forEach(function (effect) { return _this.applyEffect(effect); });\r\n        };\r\n        CanvasRenderer.prototype.applyEffect = function (effect) {\r\n            this.ctx.save();\r\n            if (isTransformEffect(effect)) {\r\n                this.ctx.translate(effect.offsetX, effect.offsetY);\r\n                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);\r\n                this.ctx.translate(-effect.offsetX, -effect.offsetY);\r\n            }\r\n            if (isClipEffect(effect)) {\r\n                this.path(effect.path);\r\n                this.ctx.clip();\r\n            }\r\n            this._activeEffects.push(effect);\r\n        };\r\n        CanvasRenderer.prototype.popEffect = function () {\r\n            this._activeEffects.pop();\r\n            this.ctx.restore();\r\n        };\r\n        CanvasRenderer.prototype.renderStack = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            styles = stack.element.container.styles;\r\n                            if (!styles.isVisible()) return [3 /*break*/, 2];\r\n                            this.ctx.globalAlpha = styles.opacity;\r\n                            return [4 /*yield*/, this.renderStackContent(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNode = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, this.renderNodeContent(paint)];\r\n                        case 2:\r\n                            _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing) {\r\n            var _this = this;\r\n            if (letterSpacing === 0) {\r\n                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n            }\r\n            else {\r\n                var letters = toCodePoints(text.text).map(function (i) { return fromCodePoint(i); });\r\n                letters.reduce(function (left, letter) {\r\n                    _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);\r\n                    return left + _this.ctx.measureText(letter).width;\r\n                }, text.bounds.left);\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.createFontStyle = function (styles) {\r\n            var fontVariant = styles.fontVariant\r\n                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })\r\n                .join('');\r\n            var fontFamily = styles.fontFamily.join(', ');\r\n            var fontSize = isDimensionToken(styles.fontSize)\r\n                ? \"\" + styles.fontSize.number + styles.fontSize.unit\r\n                : styles.fontSize.number + \"px\";\r\n            return [\r\n                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\r\n                fontFamily,\r\n                fontSize\r\n            ];\r\n        };\r\n        CanvasRenderer.prototype.renderTextNode = function (text, styles) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _a, font, fontFamily, fontSize;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];\r\n                    this.ctx.font = font;\r\n                    text.textBounds.forEach(function (text) {\r\n                        _this.ctx.fillStyle = asString(styles.color);\r\n                        _this.renderTextWithLetterSpacing(text, styles.letterSpacing);\r\n                        var textShadows = styles.textShadow;\r\n                        if (textShadows.length && text.text.trim().length) {\r\n                            textShadows\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (textShadow) {\r\n                                    _this.ctx.shadowColor = asString(textShadow.color);\r\n                                    _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;\r\n                                    _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;\r\n                                    _this.ctx.shadowBlur = textShadow.blur.number;\r\n                                    _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n                                });\r\n                            _this.ctx.shadowColor = '';\r\n                            _this.ctx.shadowOffsetX = 0;\r\n                            _this.ctx.shadowOffsetY = 0;\r\n                            _this.ctx.shadowBlur = 0;\r\n                        }\r\n                        if (styles.textDecorationLine.length) {\r\n                            _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\r\n                            styles.textDecorationLine.forEach(function (textDecorationLine) {\r\n                                switch (textDecorationLine) {\r\n                                    case 1 /* UNDERLINE */:\r\n                                        // Draws a line at the baseline of the font\r\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\r\n                                        // need to take that into account both in position and size\r\n                                        var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 2 /* OVERLINE */:\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 3 /* LINE_THROUGH */:\r\n                                        // TODO try and find exact position for line-through\r\n                                        var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);\r\n                                        break;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {\r\n            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\r\n                var box = contentBox(container);\r\n                var path = calculatePaddingBoxPath(curves);\r\n                this.path(path);\r\n                this.ctx.save();\r\n                this.ctx.clip();\r\n                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);\r\n                this.ctx.restore();\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.renderNodeContent = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 4 /* CONTENT */);\r\n                            container = paint.container;\r\n                            curves = paint.curves;\r\n                            styles = container.styles;\r\n                            _i = 0, _a = container.textNodes;\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderTextNode(child, styles)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4:\r\n                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];\r\n                            _b.label = 5;\r\n                        case 5:\r\n                            _b.trys.push([5, 7, , 8]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.src)];\r\n                        case 6:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 8];\r\n                        case 7:\r\n                            e_1 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading image \" + container.src);\r\n                            return [3 /*break*/, 8];\r\n                        case 8:\r\n                            if (container instanceof CanvasElementContainer) {\r\n                                this.renderReplacedElement(container, curves, container.canvas);\r\n                            }\r\n                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];\r\n                            _b.label = 9;\r\n                        case 9:\r\n                            _b.trys.push([9, 11, , 12]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.svg)];\r\n                        case 10:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 12];\r\n                        case 11:\r\n                            e_2 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading svg \" + container.svg.substring(0, 255));\r\n                            return [3 /*break*/, 12];\r\n                        case 12:\r\n                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];\r\n                            iframeRenderer = new CanvasRenderer({\r\n                                id: this.options.id,\r\n                                scale: this.options.scale,\r\n                                backgroundColor: container.backgroundColor,\r\n                                x: 0,\r\n                                y: 0,\r\n                                scrollX: 0,\r\n                                scrollY: 0,\r\n                                width: container.width,\r\n                                height: container.height,\r\n                                cache: this.options.cache,\r\n                                windowWidth: container.width,\r\n                                windowHeight: container.height\r\n                            });\r\n                            return [4 /*yield*/, iframeRenderer.render(container.tree)];\r\n                        case 13:\r\n                            canvas = _b.sent();\r\n                            if (container.width && container.height) {\r\n                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);\r\n                            }\r\n                            _b.label = 14;\r\n                        case 14:\r\n                            if (container instanceof InputElementContainer) {\r\n                                size = Math.min(container.bounds.width, container.bounds.height);\r\n                                if (container.type === CHECKBOX) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.path([\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\r\n                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\r\n                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\r\n                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\r\n                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\r\n                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\r\n                                        ]);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                                else if (container.type === RADIO) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.ctx.beginPath();\r\n                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (isTextInputElement(container) && container.value.length) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\r\n                                bounds = contentBox(container);\r\n                                x = 0;\r\n                                switch (container.styles.textAlign) {\r\n                                    case TEXT_ALIGN.CENTER:\r\n                                        x += bounds.width / 2;\r\n                                        break;\r\n                                    case TEXT_ALIGN.RIGHT:\r\n                                        x += bounds.width;\r\n                                        break;\r\n                                }\r\n                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\r\n                                this.ctx.save();\r\n                                this.path([\r\n                                    new Vector(bounds.left, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\r\n                                    new Vector(bounds.left, bounds.top + bounds.height)\r\n                                ]);\r\n                                this.ctx.clip();\r\n                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);\r\n                                this.ctx.restore();\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];\r\n                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];\r\n                            img = container.styles.listStyleImage;\r\n                            if (!(img.type === CSSImageType.URL)) return [3 /*break*/, 18];\r\n                            image = void 0;\r\n                            url = img.url;\r\n                            _b.label = 15;\r\n                        case 15:\r\n                            _b.trys.push([15, 17, , 18]);\r\n                            return [4 /*yield*/, this.options.cache.match(url)];\r\n                        case 16:\r\n                            image = _b.sent();\r\n                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\r\n                            return [3 /*break*/, 18];\r\n                        case 17:\r\n                            e_3 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading list-style-image \" + url);\r\n                            return [3 /*break*/, 18];\r\n                        case 18: return [3 /*break*/, 20];\r\n                        case 19:\r\n                            if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = 'right';\r\n                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);\r\n                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            _b.label = 20;\r\n                        case 20: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderStackContent = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;\r\n                return __generator(this, function (_p) {\r\n                    switch (_p.label) {\r\n                        case 0:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];\r\n                        case 1:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            _p.sent();\r\n                            _i = 0, _a = stack.negativeZIndex;\r\n                            _p.label = 2;\r\n                        case 2:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 5];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 3:\r\n                            _p.sent();\r\n                            _p.label = 4;\r\n                        case 4:\r\n                            _i++;\r\n                            return [3 /*break*/, 2];\r\n                        case 5:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            return [4 /*yield*/, this.renderNodeContent(stack.element)];\r\n                        case 6:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            _p.sent();\r\n                            _b = 0, _c = stack.nonInlineLevel;\r\n                            _p.label = 7;\r\n                        case 7:\r\n                            if (!(_b < _c.length)) return [3 /*break*/, 10];\r\n                            child = _c[_b];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 8:\r\n                            _p.sent();\r\n                            _p.label = 9;\r\n                        case 9:\r\n                            _b++;\r\n                            return [3 /*break*/, 7];\r\n                        case 10:\r\n                            _d = 0, _e = stack.nonPositionedFloats;\r\n                            _p.label = 11;\r\n                        case 11:\r\n                            if (!(_d < _e.length)) return [3 /*break*/, 14];\r\n                            child = _e[_d];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 12:\r\n                            _p.sent();\r\n                            _p.label = 13;\r\n                        case 13:\r\n                            _d++;\r\n                            return [3 /*break*/, 11];\r\n                        case 14:\r\n                            _f = 0, _g = stack.nonPositionedInlineLevel;\r\n                            _p.label = 15;\r\n                        case 15:\r\n                            if (!(_f < _g.length)) return [3 /*break*/, 18];\r\n                            child = _g[_f];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 16:\r\n                            _p.sent();\r\n                            _p.label = 17;\r\n                        case 17:\r\n                            _f++;\r\n                            return [3 /*break*/, 15];\r\n                        case 18:\r\n                            _h = 0, _j = stack.inlineLevel;\r\n                            _p.label = 19;\r\n                        case 19:\r\n                            if (!(_h < _j.length)) return [3 /*break*/, 22];\r\n                            child = _j[_h];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 20:\r\n                            _p.sent();\r\n                            _p.label = 21;\r\n                        case 21:\r\n                            _h++;\r\n                            return [3 /*break*/, 19];\r\n                        case 22:\r\n                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;\r\n                            _p.label = 23;\r\n                        case 23:\r\n                            if (!(_k < _l.length)) return [3 /*break*/, 26];\r\n                            child = _l[_k];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 24:\r\n                            _p.sent();\r\n                            _p.label = 25;\r\n                        case 25:\r\n                            _k++;\r\n                            return [3 /*break*/, 23];\r\n                        case 26:\r\n                            _m = 0, _o = stack.positiveZIndex;\r\n                            _p.label = 27;\r\n                        case 27:\r\n                            if (!(_m < _o.length)) return [3 /*break*/, 30];\r\n                            child = _o[_m];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 28:\r\n                            _p.sent();\r\n                            _p.label = 29;\r\n                        case 29:\r\n                            _m++;\r\n                            return [3 /*break*/, 27];\r\n                        case 30: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.mask = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(0, 0);\r\n            this.ctx.lineTo(this.canvas.width, 0);\r\n            this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n            this.ctx.lineTo(0, this.canvas.height);\r\n            this.ctx.lineTo(0, 0);\r\n            this.formatPath(paths.slice(0).reverse());\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.path = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.formatPath(paths);\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.formatPath = function (paths) {\r\n            var _this = this;\r\n            paths.forEach(function (point, index) {\r\n                var start = isBezierCurve(point) ? point.start : point;\r\n                if (index === 0) {\r\n                    _this.ctx.moveTo(start.x, start.y);\r\n                }\r\n                else {\r\n                    _this.ctx.lineTo(start.x, start.y);\r\n                }\r\n                if (isBezierCurve(point)) {\r\n                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\r\n                }\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {\r\n            this.path(path);\r\n            this.ctx.fillStyle = pattern;\r\n            this.ctx.translate(offsetX, offsetY);\r\n            this.ctx.fill();\r\n            this.ctx.translate(-offsetX, -offsetY);\r\n        };\r\n        CanvasRenderer.prototype.resizeImage = function (image, width, height) {\r\n            if (image.width === width && image.height === height) {\r\n                return image;\r\n            }\r\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\r\n            return canvas;\r\n        };\r\n        CanvasRenderer.prototype.renderBackgroundImage = function (container) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var index, _loop_1, this_1, _i, _a, backgroundImage;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            index = container.styles.backgroundImage.length - 1;\r\n                            _loop_1 = function (backgroundImage) {\r\n                                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;\r\n                                return __generator(this, function (_f) {\r\n                                    switch (_f.label) {\r\n                                        case 0:\r\n                                            if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/, 5];\r\n                                            image = void 0;\r\n                                            url = backgroundImage.url;\r\n                                            _f.label = 1;\r\n                                        case 1:\r\n                                            _f.trys.push([1, 3, , 4]);\r\n                                            return [4 /*yield*/, this_1.options.cache.match(url)];\r\n                                        case 2:\r\n                                            image = _f.sent();\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            e_4 = _f.sent();\r\n                                            Logger.getInstance(this_1.options.id).error(\"Error loading background-image \" + url);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4:\r\n                                            if (image) {\r\n                                                _a = calculateBackgroundRendering(container, index, [\r\n                                                    image.width,\r\n                                                    image.height,\r\n                                                    image.width / image.height\r\n                                                ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];\r\n                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');\r\n                                                this_1.renderRepeat(path, pattern, x, y);\r\n                                            }\r\n                                            return [3 /*break*/, 6];\r\n                                        case 5:\r\n                                            if (isLinearGradient(backgroundImage)) {\r\n                                                _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];\r\n                                                _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];\r\n                                                canvas = document.createElement('canvas');\r\n                                                canvas.width = width;\r\n                                                canvas.height = height;\r\n                                                ctx = canvas.getContext('2d');\r\n                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);\r\n                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {\r\n                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                });\r\n                                                ctx.fillStyle = gradient_1;\r\n                                                ctx.fillRect(0, 0, width, height);\r\n                                                if (width > 0 && height > 0) {\r\n                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');\r\n                                                    this_1.renderRepeat(path, pattern, x, y);\r\n                                                }\r\n                                            }\r\n                                            else if (isRadialGradient(backgroundImage)) {\r\n                                                _d = calculateBackgroundRendering(container, index, [\r\n                                                    null,\r\n                                                    null,\r\n                                                    null\r\n                                                ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];\r\n                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\r\n                                                x = getAbsoluteValue(position[0], width);\r\n                                                y = getAbsoluteValue(position[position.length - 1], height);\r\n                                                _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];\r\n                                                if (rx > 0 && rx > 0) {\r\n                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);\r\n                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {\r\n                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                    });\r\n                                                    this_1.path(path);\r\n                                                    this_1.ctx.fillStyle = radialGradient_1;\r\n                                                    if (rx !== ry) {\r\n                                                        midX = container.bounds.left + 0.5 * container.bounds.width;\r\n                                                        midY = container.bounds.top + 0.5 * container.bounds.height;\r\n                                                        f = ry / rx;\r\n                                                        invF = 1 / f;\r\n                                                        this_1.ctx.save();\r\n                                                        this_1.ctx.translate(midX, midY);\r\n                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);\r\n                                                        this_1.ctx.translate(-midX, -midY);\r\n                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);\r\n                                                        this_1.ctx.restore();\r\n                                                    }\r\n                                                    else {\r\n                                                        this_1.ctx.fill();\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            _f.label = 6;\r\n                                        case 6:\r\n                                            index--;\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            this_1 = this;\r\n                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            backgroundImage = _a[_i];\r\n                            return [5 /*yield**/, _loop_1(backgroundImage)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderBorder = function (color, side, curvePoints) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.path(parsePathForBorder(curvePoints, side));\r\n                    this.ctx.fillStyle = asString(color);\r\n                    this.ctx.fill();\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */);\r\n                            styles = paint.container.styles;\r\n                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\r\n                            borders = [\r\n                                { style: styles.borderTopStyle, color: styles.borderTopColor },\r\n                                { style: styles.borderRightStyle, color: styles.borderRightColor },\r\n                                { style: styles.borderBottomStyle, color: styles.borderBottomColor },\r\n                                { style: styles.borderLeftStyle, color: styles.borderLeftColor }\r\n                            ];\r\n                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);\r\n                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];\r\n                            this.ctx.save();\r\n                            this.path(backgroundPaintingArea);\r\n                            this.ctx.clip();\r\n                            if (!isTransparent(styles.backgroundColor)) {\r\n                                this.ctx.fillStyle = asString(styles.backgroundColor);\r\n                                this.ctx.fill();\r\n                            }\r\n                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.ctx.restore();\r\n                            styles.boxShadow\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (shadow) {\r\n                                    _this.ctx.save();\r\n                                    var borderBoxArea = calculateBorderBoxPath(paint.curves);\r\n                                    var maskOffset = shadow.inset ? 0 : MASK_OFFSET;\r\n                                    var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));\r\n                                    if (shadow.inset) {\r\n                                        _this.path(borderBoxArea);\r\n                                        _this.ctx.clip();\r\n                                        _this.mask(shadowPaintingArea);\r\n                                    }\r\n                                    else {\r\n                                        _this.mask(borderBoxArea);\r\n                                        _this.ctx.clip();\r\n                                        _this.path(shadowPaintingArea);\r\n                                    }\r\n                                    _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\r\n                                    _this.ctx.shadowOffsetY = shadow.offsetY.number;\r\n                                    _this.ctx.shadowColor = asString(shadow.color);\r\n                                    _this.ctx.shadowBlur = shadow.blur.number;\r\n                                    _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\r\n                                    _this.ctx.fill();\r\n                                    _this.ctx.restore();\r\n                                });\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            side = 0;\r\n                            _i = 0, borders_1 = borders;\r\n                            _a.label = 3;\r\n                        case 3:\r\n                            if (!(_i < borders_1.length)) return [3 /*break*/, 7];\r\n                            border = borders_1[_i];\r\n                            if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/, 5];\r\n                            return [4 /*yield*/, this.renderBorder(border.color, side, paint.curves)];\r\n                        case 4:\r\n                            _a.sent();\r\n                            _a.label = 5;\r\n                        case 5:\r\n                            side++;\r\n                            _a.label = 6;\r\n                        case 6:\r\n                            _i++;\r\n                            return [3 /*break*/, 3];\r\n                        case 7: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stack;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);\r\n                            }\r\n                            stack = parseStackingContexts(element);\r\n                            return [4 /*yield*/, this.renderStack(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.applyEffects([], 2 /* BACKGROUND_BORDERS */);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return CanvasRenderer;\r\n    }());\r\n    var isTextInputElement = function (container) {\r\n        if (container instanceof TextareaElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof SelectElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {\r\n        switch (clip) {\r\n            case BACKGROUND_CLIP.BORDER_BOX:\r\n                return calculateBorderBoxPath(curves);\r\n            case BACKGROUND_CLIP.CONTENT_BOX:\r\n                return calculateContentBoxPath(curves);\r\n            case BACKGROUND_CLIP.PADDING_BOX:\r\n            default:\r\n                return calculatePaddingBoxPath(curves);\r\n        }\r\n    };\r\n    var canvasTextAlign = function (textAlign) {\r\n        switch (textAlign) {\r\n            case TEXT_ALIGN.CENTER:\r\n                return 'center';\r\n            case TEXT_ALIGN.RIGHT:\r\n                return 'right';\r\n            case TEXT_ALIGN.LEFT:\r\n            default:\r\n                return 'left';\r\n        }\r\n    };\r\n\r\n    var ForeignObjectRenderer = /** @class */ (function () {\r\n        function ForeignObjectRenderer(options) {\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            this.canvas.width = Math.floor(options.width * options.scale);\r\n            this.canvas.height = Math.floor(options.height * options.scale);\r\n            this.canvas.style.width = options.width + \"px\";\r\n            this.canvas.style.height = options.height + \"px\";\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            Logger.getInstance(options.id).debug(\"EXPERIMENTAL ForeignObject renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        ForeignObjectRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var svg, img;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);\r\n                            return [4 /*yield*/, loadSerializedSVG$1(svg)];\r\n                        case 1:\r\n                            img = _a.sent();\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\r\n                            }\r\n                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ForeignObjectRenderer;\r\n    }());\r\n    var loadSerializedSVG$1 = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                resolve(img);\r\n            };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n\r\n    var _this = undefined;\r\n    var parseColor$1 = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var html2canvas = function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return renderElement(element, options);\r\n    };\r\n    CacheStorage.setContext(window);\r\n    var renderElement = function (element, opts) {\r\n        return __awaiter(_this, void 0, void 0, function () {\r\n            var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        ownerDocument = element.ownerDocument;\r\n                        if (!ownerDocument) {\r\n                            throw new Error(\"Element is not attached to a Document\");\r\n                        }\r\n                        defaultView = ownerDocument.defaultView;\r\n                        if (!defaultView) {\r\n                            throw new Error(\"Document is not attached to a Window\");\r\n                        }\r\n                        instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);\r\n                        _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;\r\n                        defaultResourceOptions = {\r\n                            allowTaint: false,\r\n                            imageTimeout: 15000,\r\n                            proxy: undefined,\r\n                            useCORS: false\r\n                        };\r\n                        resourceOptions = __assign({}, defaultResourceOptions, opts);\r\n                        defaultOptions = {\r\n                            backgroundColor: '#ffffff',\r\n                            cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),\r\n                            logging: true,\r\n                            removeContainer: true,\r\n                            foreignObjectRendering: false,\r\n                            scale: defaultView.devicePixelRatio || 1,\r\n                            windowWidth: defaultView.innerWidth,\r\n                            windowHeight: defaultView.innerHeight,\r\n                            scrollX: defaultView.pageXOffset,\r\n                            scrollY: defaultView.pageYOffset,\r\n                            x: left,\r\n                            y: top,\r\n                            width: Math.ceil(width),\r\n                            height: Math.ceil(height),\r\n                            id: instanceName\r\n                        };\r\n                        options = __assign({}, defaultOptions, resourceOptions, opts);\r\n                        windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\r\n                        Logger.create({ id: instanceName, enabled: options.logging });\r\n                        Logger.getInstance(instanceName).debug(\"Starting document clone\");\r\n                        documentCloner = new DocumentCloner(element, {\r\n                            id: instanceName,\r\n                            onclone: options.onclone,\r\n                            ignoreElements: options.ignoreElements,\r\n                            inlineImages: options.foreignObjectRendering,\r\n                            copyStyles: options.foreignObjectRendering\r\n                        });\r\n                        clonedElement = documentCloner.clonedReferenceElement;\r\n                        if (!clonedElement) {\r\n                            return [2 /*return*/, Promise.reject(\"Unable to find element in cloned iframe\")];\r\n                        }\r\n                        return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];\r\n                    case 1:\r\n                        container = _b.sent();\r\n                        documentBackgroundColor = ownerDocument.documentElement\r\n                            ? parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor)\r\n                            : COLORS.TRANSPARENT;\r\n                        bodyBackgroundColor = ownerDocument.body\r\n                            ? parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor)\r\n                            : COLORS.TRANSPARENT;\r\n                        bgColor = opts.backgroundColor;\r\n                        defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;\r\n                        backgroundColor = element === ownerDocument.documentElement\r\n                            ? isTransparent(documentBackgroundColor)\r\n                                ? isTransparent(bodyBackgroundColor)\r\n                                    ? defaultBackgroundColor\r\n                                    : bodyBackgroundColor\r\n                                : documentBackgroundColor\r\n                            : defaultBackgroundColor;\r\n                        renderOptions = {\r\n                            id: instanceName,\r\n                            cache: options.cache,\r\n                            canvas: options.canvas,\r\n                            backgroundColor: backgroundColor,\r\n                            scale: options.scale,\r\n                            x: options.x,\r\n                            y: options.y,\r\n                            scrollX: options.scrollX,\r\n                            scrollY: options.scrollY,\r\n                            width: options.width,\r\n                            height: options.height,\r\n                            windowWidth: options.windowWidth,\r\n                            windowHeight: options.windowHeight\r\n                        };\r\n                        if (!options.foreignObjectRendering) return [3 /*break*/, 3];\r\n                        Logger.getInstance(instanceName).debug(\"Document cloned, using foreign object rendering\");\r\n                        renderer = new ForeignObjectRenderer(renderOptions);\r\n                        return [4 /*yield*/, renderer.render(clonedElement)];\r\n                    case 2:\r\n                        canvas = _b.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        Logger.getInstance(instanceName).debug(\"Document cloned, using computed rendering\");\r\n                        CacheStorage.attachInstance(options.cache);\r\n                        Logger.getInstance(instanceName).debug(\"Starting DOM parsing\");\r\n                        root = parseTree(clonedElement);\r\n                        CacheStorage.detachInstance();\r\n                        if (backgroundColor === root.styles.backgroundColor) {\r\n                            root.styles.backgroundColor = COLORS.TRANSPARENT;\r\n                        }\r\n                        Logger.getInstance(instanceName).debug(\"Starting renderer\");\r\n                        renderer = new CanvasRenderer(renderOptions);\r\n                        return [4 /*yield*/, renderer.render(root)];\r\n                    case 4:\r\n                        canvas = _b.sent();\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        if (options.removeContainer === true) {\r\n                            if (!DocumentCloner.destroy(container)) {\r\n                                Logger.getInstance(instanceName).error(\"Cannot detach cloned iframe as it is not in the DOM anymore\");\r\n                            }\r\n                        }\r\n                        Logger.getInstance(instanceName).debug(\"Finished rendering\");\r\n                        Logger.destroy(instanceName);\r\n                        CacheStorage.destroy(instanceName);\r\n                        return [2 /*return*/, canvas];\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    return html2canvas;\r\n\r\n}));\r\n//# sourceMappingURL=html2canvas.js.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2h0bWwyY2FudmFzL2h0bWwyY2FudmFzLmpzPzZlNTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksS0FBNEQ7QUFDaEUsUUFBUSxTQUM2RDtBQUNyRSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFvRCxPQUFPO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNyRyxzQ0FBc0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUN4RyxtQ0FBbUMsaUVBQWlFLHVCQUF1QixFQUFFLDRCQUE0QjtBQUN6SjtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLGlCQUFpQiw4QkFBOEIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDN0csb0JBQW9CLHFEQUFxRCxxRUFBcUUsYUFBYSxFQUFFO0FBQzdKLDBCQUEwQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLHNDQUFzQyxTQUFTO0FBQy9DLHNDQUFzQyxXQUFXLFVBQVU7QUFDM0QsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQSxpSEFBaUgsT0FBTyxVQUFVO0FBQ2xJLG9GQUFvRixpQkFBaUIsT0FBTztBQUM1Ryw0REFB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QjtBQUN6Qiw0QkFBNEI7QUFDNUIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHLGlEQUFpRCxFQUFFO0FBQ25KLDRGQUE0Riw4Q0FBOEMsRUFBRTtBQUM1SSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw2Q0FBNkMsaURBQWlEO0FBQzlGLDBDQUEwQyw4Q0FBOEM7QUFDeEYseUNBQXlDLDZDQUE2QztBQUN0RiwwQ0FBMEMsOENBQThDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrREFBa0Q7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0JBQW9CLEVBQUU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOEJBQThCOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDZCQUE2QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0VBQXNFOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQ0FBMEM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsNkJBQTZCLElBQUk7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUNBQWlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1REFBdUQ7QUFDdkYsd0NBQXdDLDhEQUE4RDtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdDQUFnQyxjQUFjLEVBQUU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0EsMENBQTBDO0FBQzFDLFNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0JBQXNCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZ0NBQWdDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxrREFBa0Q7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBDQUEwQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFD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QTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUNBQXVDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLCtCQUErQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YseUJBQXlCLEVBQUU7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLHVDQUF1QyxnRUFBZ0U7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZ0VBQWdFLFdBQVc7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFEQUFxRDtBQUN6RyxzQ0FBc0MseUNBQXlDO0FBQy9FLHlDQUF5Qyw0Q0FBNEM7QUFDckY7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhCQUE4QjtBQUNyRSx1Q0FBdUMsOEJBQThCO0FBQ3JFLDBDQUEwQyxpQ0FBaUM7QUFDM0UseUNBQXlDLGdDQUFnQztBQUN6RSx3Q0FBd0MsK0JBQStCO0FBQ3ZFLHlDQUF5QyxnQ0FBZ0M7QUFDekUsMkNBQTJDLGtDQUFrQztBQUM3RSwwQ0FBMEMsK0JBQStCO0FBQ3pFLDJDQUEyQyxrQ0FBa0M7QUFDN0UsMENBQTBDLGlDQUFpQztBQUMzRSwyQ0FBMkMsa0NBQWtDO0FBQzdFLDZDQUE2QyxvQ0FBb0M7QUFDakYsMkNBQTJDLGtDQUFrQzs7QUFFN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxzQ0FBc0MsRUFBRTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxlQUFlO0FBQy9DO0FBQ0EseUhBQXlILDhEQUE4RCxFQUFFO0FBQ3pMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdUJBQXVCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwrQkFBK0IsRUFBRTtBQUM1RiwyREFBMkQsZUFBZSxFQUFFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGNBQWM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx1REFBdUQsRUFBRTtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw4Q0FBOEM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0JBQStCLCtCQUErQixHQUFHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRCQUE0QjtBQUNqQztBQUNBO0FBQ0EsMkNBQTJDLG1CQUFtQixFQUFFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUNBQXlDLDRDQUE0Qzs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHdCQUF3QjtBQUM3QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUNBQXFDOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxQkFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9FQUFvRTtBQUN2Ryw4Q0FBOEMsa0NBQWtDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHdDQUF3QyxFQUFFLDZCQUE2QixrQ0FBa0MsRUFBRTtBQUN6SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSx5QkFBeUIsRUFBRTtBQUNuRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseURBQXlELEVBQUU7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2REFBNkQ7QUFDOUYsaUNBQWlDLGlFQUFpRTtBQUNsRyxpQ0FBaUMsbUVBQW1FO0FBQ3BHLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLFNBQVM7QUFDVDs7QUFFQTtBQUNBLHlDQUF5QyxnRUFBZ0U7QUFDekc7QUFDQSxpQ0FBaUMsY0FBYztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsdUNBQXVDLDZDQUE2QztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7O0FBRUEsQ0FBQztBQUNEIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvdGhpcmRwYXJ0eS9odG1sMmNhbnZhcy9odG1sMmNhbnZhcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBodG1sMmNhbnZhcyAxLjAuMC1yYy41IDxodHRwczovL2h0bWwyY2FudmFzLmhlcnR6ZW4uY29tPlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPlxyXG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XHJcbiAgICAgICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcclxuICAgICAgICAgICAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuaHRtbDJjYW52YXMgPSBmYWN0b3J5KCkpO1xyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG4gICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcbiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG4gICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcbiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbiAgICAvKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24gKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCb3VuZHMoeCwgeSwgdywgaCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB4O1xyXG4gICAgICAgICAgICB0aGlzLnRvcCA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3O1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHModGhpcy5sZWZ0ICsgeCwgdGhpcy50b3AgKyB5LCB0aGlzLndpZHRoICsgdywgdGhpcy5oZWlnaHQgKyBoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJvdW5kcy5mcm9tQ2xpZW50UmVjdCA9IGZ1bmN0aW9uIChjbGllbnRSZWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmRzKGNsaWVudFJlY3QubGVmdCwgY2xpZW50UmVjdC50b3AsIGNsaWVudFJlY3Qud2lkdGgsIGNsaWVudFJlY3QuaGVpZ2h0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBCb3VuZHM7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHBhcnNlQm91bmRzID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gQm91bmRzLmZyb21DbGllbnRSZWN0KG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZURvY3VtZW50U2l6ZSA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xyXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgIGlmICghYm9keSB8fCAhZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgZG9jdW1lbnQgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoTWF0aC5tYXgoYm9keS5zY3JvbGxXaWR0aCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoKSwgTWF0aC5tYXgoYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSwgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSk7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KSwgTWF0aC5tYXgoYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLCBNYXRoLm1heChib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQm91bmRzKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogY3NzLWxpbmUtYnJlYWsgMS4xLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9jc3MtbGluZS1icmVhayNyZWFkbWU+XHJcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTkgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPlxyXG4gICAgICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2VcclxuICAgICAqL1xyXG4gICAgdmFyIHRvQ29kZVBvaW50cyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50cyA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgbGVuZ3RoID0gc3RyLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMHhkODAwICYmIHZhbHVlIDw9IDB4ZGJmZiAmJiBpIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCgoKHZhbHVlICYgMHgzZmYpIDw8IDEwKSArIChleHRyYSAmIDB4M2ZmKSArIDB4MTAwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2RlUG9pbnRzO1xyXG4gICAgfTtcclxuICAgIHZhciBmcm9tQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb2RlUG9pbnRzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgY29kZVBvaW50c1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZywgY29kZVBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICBpZiAoIWxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb2RlVW5pdHMgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IGNvZGVQb2ludHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goKGNvZGVQb2ludCA+PiAxMCkgKyAweGQ4MDAsIGNvZGVQb2ludCAlIDB4NDAwICsgMHhkYzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IDB4NDAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlVW5pdHMpO1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguXHJcbiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XHJcbiAgICB9XHJcbiAgICB2YXIgZGVjb2RlID0gZnVuY3Rpb24gKGJhc2U2NCkge1xyXG4gICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSwgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xyXG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcclxuICAgICAgICAgICAgYnVmZmVyTGVuZ3RoLS07XHJcbiAgICAgICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBidWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aClcclxuICAgICAgICAgICAgOiBuZXcgQXJyYXkoYnVmZmVyTGVuZ3RoKTtcclxuICAgICAgICB2YXIgYnl0ZXMgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBidWZmZXIgOiBuZXcgVWludDhBcnJheShidWZmZXIpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XHJcbiAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XHJcbiAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xyXG4gICAgICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfTtcclxuICAgIHZhciBwb2x5VWludDE2QXJyYXkgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuICAgIHZhciBwb2x5VWludDMyQXJyYXkgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDNdIDw8IDI0KSB8IChidWZmZXJbaSArIDJdIDw8IDE2KSB8IChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMiB0YWJsZSBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX1NISUZUXzIgPSA1O1xyXG4gICAgLyoqIFNoaWZ0IHNpemUgZm9yIGdldHRpbmcgdGhlIGluZGV4LTEgdGFibGUgb2Zmc2V0LiAqL1xyXG4gICAgdmFyIFVUUklFMl9TSElGVF8xID0gNiArIDU7XHJcbiAgICAvKipcclxuICAgICAqIFNoaWZ0IHNpemUgZm9yIHNoaWZ0aW5nIGxlZnQgdGhlIGluZGV4IGFycmF5IHZhbHVlcy5cclxuICAgICAqIEluY3JlYXNlcyBwb3NzaWJsZSBkYXRhIHNpemUgd2l0aCAxNi1iaXQgaW5kZXggdmFsdWVzIGF0IHRoZSBjb3N0XHJcbiAgICAgKiBvZiBjb21wYWN0YWJpbGl0eS5cclxuICAgICAqIFRoaXMgcmVxdWlyZXMgZGF0YSBibG9ja3MgdG8gYmUgYWxpZ25lZCBieSBVVFJJRTJfREFUQV9HUkFOVUxBUklUWS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF9TSElGVCA9IDI7XHJcbiAgICAvKipcclxuICAgICAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHNoaWZ0IHNpemVzLFxyXG4gICAgICogZm9yIGdldHRpbmcgYW4gaW5kZXgtMSBvZmZzZXQgZnJvbSBhbiBpbmRleC0yIG9mZnNldC4gNj0xMS01XHJcbiAgICAgKi9cclxuICAgIHZhciBVVFJJRTJfU0hJRlRfMV8yID0gVVRSSUUyX1NISUZUXzEgLSBVVFJJRTJfU0hJRlRfMjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGUgZm9yIFUrRDgwMC4uVStEQkZGIHN0b3JlcyB2YWx1ZXMgZm9yXHJcbiAgICAgKiBsZWFkIHN1cnJvZ2F0ZSBjb2RlIF91bml0c18gbm90IGNvZGUgX3BvaW50c18uXHJcbiAgICAgKiBWYWx1ZXMgZm9yIGxlYWQgc3Vycm9nYXRlIGNvZGUgX3BvaW50c18gYXJlIGluZGV4ZWQgd2l0aCB0aGlzIHBvcnRpb24gb2YgdGhlIHRhYmxlLlxyXG4gICAgICogTGVuZ3RoPTMyPTB4MjA9MHg0MDA+PlVUUklFMl9TSElGVF8yLiAoVGhlcmUgYXJlIDEwMjQ9MHg0MDAgbGVhZCBzdXJyb2dhdGVzLilcclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUID0gMHgxMDAwMCA+PiBVVFJJRTJfU0hJRlRfMjtcclxuICAgIC8qKiBOdW1iZXIgb2YgZW50cmllcyBpbiBhIGRhdGEgYmxvY2suIDMyPTB4MjAgKi9cclxuICAgIHZhciBVVFJJRTJfREFUQV9CTE9DS19MRU5HVEggPSAxIDw8IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIE1hc2sgZm9yIGdldHRpbmcgdGhlIGxvd2VyIGJpdHMgZm9yIHRoZSBpbi1kYXRhLWJsb2NrIG9mZnNldC4gKi9cclxuICAgIHZhciBVVFJJRTJfREFUQV9NQVNLID0gVVRSSUUyX0RBVEFfQkxPQ0tfTEVOR1RIIC0gMTtcclxuICAgIHZhciBVVFJJRTJfTFNDUF9JTkRFWF8yX0xFTkdUSCA9IDB4NDAwID4+IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIENvdW50IHRoZSBsZW5ndGhzIG9mIGJvdGggQk1QIHBpZWNlcy4gMjA4MD0weDgyMCAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8yX0JNUF9MRU5HVEggPSBVVFJJRTJfTFNDUF9JTkRFWF8yX09GRlNFVCArIFVUUklFMl9MU0NQX0lOREVYXzJfTEVOR1RIO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgMi1ieXRlIFVURi04IHZlcnNpb24gb2YgdGhlIGluZGV4LTIgdGFibGUgZm9sbG93cyBhdCBvZmZzZXQgMjA4MD0weDgyMC5cclxuICAgICAqIExlbmd0aCAzMj0weDIwIGZvciBsZWFkIGJ5dGVzIEMwLi5ERiwgcmVnYXJkbGVzcyBvZiBVVFJJRTJfU0hJRlRfMi5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUID0gVVRSSUUyX0lOREVYXzJfQk1QX0xFTkdUSDtcclxuICAgIHZhciBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSCA9IDB4ODAwID4+IDY7IC8qIFUrMDgwMCBpcyB0aGUgZmlyc3QgY29kZSBwb2ludCBhZnRlciAyLWJ5dGUgVVRGLTggKi9cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGluZGV4LTEgdGFibGUsIG9ubHkgdXNlZCBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cywgYXQgb2Zmc2V0IDIxMTI9MHg4NDAuXHJcbiAgICAgKiBWYXJpYWJsZSBsZW5ndGgsIGZvciBjb2RlIHBvaW50cyB1cCB0byBoaWdoU3RhcnQsIHdoZXJlIHRoZSBsYXN0IHNpbmdsZS12YWx1ZSByYW5nZSBzdGFydHMuXHJcbiAgICAgKiBNYXhpbXVtIGxlbmd0aCA1MTI9MHgyMDA9MHgxMDAwMDA+PlVUUklFMl9TSElGVF8xLlxyXG4gICAgICogKEZvciAweDEwMDAwMCBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzIFUrMTAwMDAuLlUrMTBmZmZmLilcclxuICAgICAqXHJcbiAgICAgKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cyBzdGFydHNcclxuICAgICAqIGFmdGVyIHRoaXMgaW5kZXgtMSB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBCb3RoIHRoZSBpbmRleC0xIHRhYmxlIGFuZCB0aGUgZm9sbG93aW5nIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGVcclxuICAgICAqIGFyZSBvbWl0dGVkIGNvbXBsZXRlbHkgaWYgdGhlcmUgaXMgb25seSBCTVAgZGF0YS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8xX09GRlNFVCA9IFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUICsgVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9MRU5HVEg7XHJcbiAgICAvKipcclxuICAgICAqIE51bWJlciBvZiBpbmRleC0xIGVudHJpZXMgZm9yIHRoZSBCTVAuIDMyPTB4MjBcclxuICAgICAqIFRoaXMgcGFydCBvZiB0aGUgaW5kZXgtMSB0YWJsZSBpcyBvbWl0dGVkIGZyb20gdGhlIHNlcmlhbGl6ZWQgZm9ybS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9PTUlUVEVEX0JNUF9JTkRFWF8xX0xFTkdUSCA9IDB4MTAwMDAgPj4gVVRSSUUyX1NISUZUXzE7XHJcbiAgICAvKiogTnVtYmVyIG9mIGVudHJpZXMgaW4gYW4gaW5kZXgtMiBibG9jay4gNjQ9MHg0MCAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8yX0JMT0NLX0xFTkdUSCA9IDEgPDwgVVRSSUUyX1NISUZUXzFfMjtcclxuICAgIC8qKiBNYXNrIGZvciBnZXR0aW5nIHRoZSBsb3dlciBiaXRzIGZvciB0aGUgaW4taW5kZXgtMi1ibG9jayBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYXzJfTUFTSyA9IFVUUklFMl9JTkRFWF8yX0JMT0NLX0xFTkdUSCAtIDE7XHJcbiAgICB2YXIgc2xpY2UxNiA9IGZ1bmN0aW9uICh2aWV3LCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgaWYgKHZpZXcuc2xpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXcuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodmlldywgc3RhcnQsIGVuZCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBzbGljZTMyID0gZnVuY3Rpb24gKHZpZXcsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBpZiAodmlldy5zbGljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlldy5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh2aWV3LCBzdGFydCwgZW5kKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZVRyaWVGcm9tQmFzZTY0ID0gZnVuY3Rpb24gKGJhc2U2NCkge1xyXG4gICAgICAgIHZhciBidWZmZXIgPSBkZWNvZGUoYmFzZTY0KTtcclxuICAgICAgICB2YXIgdmlldzMyID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQzMkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcclxuICAgICAgICB2YXIgdmlldzE2ID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQxNkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICB2YXIgaGVhZGVyTGVuZ3RoID0gMjQ7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gc2xpY2UxNih2aWV3MTYsIGhlYWRlckxlbmd0aCAvIDIsIHZpZXczMls0XSAvIDIpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdmlldzMyWzVdID09PSAyXHJcbiAgICAgICAgICAgID8gc2xpY2UxNih2aWV3MTYsIChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gMilcclxuICAgICAgICAgICAgOiBzbGljZTMyKHZpZXczMiwgTWF0aC5jZWlsKChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gNCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJpZSh2aWV3MzJbMF0sIHZpZXczMlsxXSwgdmlldzMyWzJdLCB2aWV3MzJbM10sIGluZGV4LCBkYXRhKTtcclxuICAgIH07XHJcbiAgICB2YXIgVHJpZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUcmllKGluaXRpYWxWYWx1ZSwgZXJyb3JWYWx1ZSwgaGlnaFN0YXJ0LCBoaWdoVmFsdWVJbmRleCwgaW5kZXgsIGRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JWYWx1ZSA9IGVycm9yVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaFN0YXJ0ID0gaGlnaFN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLmhpZ2hWYWx1ZUluZGV4ID0gaGlnaFZhbHVlSW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBjb2RlIHBvaW50IGFzIHN0b3JlZCBpbiB0aGUgVHJpZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBjb2RlUG9pbnQgdGhlIGNvZGUgcG9pbnRcclxuICAgICAgICAgKiBAcmV0dXJuIHRoZSB2YWx1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFRyaWUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdmFyIGl4O1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID49IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPCAweDBkODAwIHx8IChjb2RlUG9pbnQgPiAweDBkYmZmICYmIGNvZGVQb2ludCA8PSAweDBmZmZmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9yZGluYXJ5IEJNUCBjb2RlIHBvaW50LCBleGNsdWRpbmcgbGVhZGluZyBzdXJyb2dhdGVzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJNUCB1c2VzIGEgc2luZ2xlIGxldmVsIGxvb2t1cC4gIEJNUCBpbmRleCBzdGFydHMgYXQgb2Zmc2V0IDAgaW4gdGhlIFRyaWUyIGluZGV4LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIDE2IGJpdCBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgaW5kZXggYXJyYXkgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gdGhpcy5pbmRleFtjb2RlUG9pbnQgPj4gVVRSSUUyX1NISUZUXzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gKGl4IDw8IFVUUklFMl9JTkRFWF9TSElGVCkgKyAoY29kZVBvaW50ICYgVVRSSUUyX0RBVEFfTUFTSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIExlYWQgU3Vycm9nYXRlIENvZGUgUG9pbnQuICBBIFNlcGFyYXRlIGluZGV4IHNlY3Rpb24gaXMgc3RvcmVkIGZvclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlYWQgc3Vycm9nYXRlIGNvZGUgdW5pdHMgYW5kIGNvZGUgcG9pbnRzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgVGhlIG1haW4gaW5kZXggaGFzIHRoZSBjb2RlIHVuaXQgZGF0YS5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgIEZvciB0aGlzIGZ1bmN0aW9uLCB3ZSBuZWVkIHRoZSBjb2RlIHBvaW50IGRhdGEuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBleHByZXNzaW9uIGNvdWxkIGJlIHJlZmFjdG9yZWQgZm9yIHNsaWdodGx5IGltcHJvdmVkIGVmZmljaWVuY3ksIGJ1dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIHN1cnJvZ2F0ZSBjb2RlIHBvaW50cyB3aWxsIGJlIHNvIHJhcmUgaW4gcHJhY3RpY2UgdGhhdCBpdCdzIG5vdCB3b3J0aCBpdC5cclxuICAgICAgICAgICAgICAgICAgICBpeCA9IHRoaXMuaW5kZXhbVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgKyAoKGNvZGVQb2ludCAtIDB4ZDgwMCkgPj4gVVRSSUUyX1NISUZUXzIpXTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IHRoaXMuaGlnaFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcGxlbWVudGFsIGNvZGUgcG9pbnQsIHVzZSB0d28tbGV2ZWwgbG9va3VwLlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gVVRSSUUyX0lOREVYXzFfT0ZGU0VUIC0gVVRSSUUyX09NSVRURURfQk1QX0lOREVYXzFfTEVOR1RIICsgKGNvZGVQb2ludCA+PiBVVFJJRTJfU0hJRlRfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcclxuICAgICAgICAgICAgICAgICAgICBpeCArPSAoY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8yKSAmIFVUUklFMl9JTkRFWF8yX01BU0s7XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweDEwZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5oaWdoVmFsdWVJbmRleF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRmFsbCB0aHJvdWdoLiAgVGhlIGNvZGUgcG9pbnQgaXMgb3V0c2lkZSBvZiB0aGUgbGVnYWwgcmFuZ2Ugb2YgMC4uMHgxMGZmZmYuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yVmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVHJpZTtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIGJhc2U2NCA9ICdLd0FBQUFBQUFBQUFDQTRBSURvQUFQQWZBQUFDQUFBQUFBQUlBQkFBR0FCQUFFZ0FVQUJZQUY0QVpnQmVBR1lBWUFCb0FIQUFlQUJlQUdZQWZBQ0VBSUFBaUFDUUFKZ0FvQUNvQUswQXRRQzlBTVVBWGdCbUFGNEFaZ0JlQUdZQXpRRFZBRjRBWmdEUkFOa0EzZ0RtQU93QTlBRDhBQVFCREFFVUFSb0JJZ0dBQUlnQUp3RXZBVGNCUHdGRkFVMEJUQUZVQVZ3QlpBRnNBWE1CZXdHREFUQUFpd0dUQVpzQm9nR2tBYXdCdEFHOEFjSUJ5Z0hTQWRvQjRBSG9BZkFCK0FIK0FRWUNEZ0lXQXY0QkhnSW1BaTRDTmdJK0FrVUNUUUpUQWxzQ1l3SnJBbkVDZVFLQkFrMENpUUtSQXBrQ29RS29BckFDdUFMQUFzUUN6QUl3QU5RQzNBTGtBakFBN0FMMEF2d0NBUU1KQXhBREdBTXdBQ0FESmdNdUF6WURQZ09BQUVZRFNnTlNBMUlEVWdOYUExb0RZQU5pQTJJRGdBQ0FBR29EZ0FCeUEzWURmZ09BQUlRRGdBQ0tBNUlEbWdPQUFJQUFvZ09xQTRBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUs4RHR3T0FBSUFBdndQSEE4OEQxd1BmQXlBRDV3UHNBL1FEL0FPQUFJQUFCQVFNQkJJRWdBQVdCQjRFSmdRdUJETUVJQU03QkVFRVhnQkpCQ0FEVVFSWkJHRUVhUVF3QURBQWNRUStBWGtFZ1FTSkJKRUVnQUNZQklBQW9BU29CSzhFdHdRd0FMOEV4UVNBQUlBQWdBQ0FBSUFBZ0FDZ0FNMEVYZ0JlQUY0QVhnQmVBRjRBWGdCZUFOVUVYZ0RaQk9FRVhnRHBCUEVFK1FRQkJRa0ZFUVVaQlNFRktRVXhCVFVGUFFWRkJVd0ZWQVZjQlY0QVl3VmVBR3NGY3dWN0JZTUZpd1dTQlY0QW1nV2dCYWNGWGdCZUFGNEFYZ0JlQUtzRlhnQ3lCYkVGdWdXN0JjSUZ3Z1hJQmNJRndnWFFCZFFGM0FYa0Jlc0Y4d1g3QlFNR0N3WVRCaHNHSXdZckJqTUdPd1plQUQ4R1J3Wk5CbDRBVkFaYkJsNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUdNR1hnQnFCbkVHWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCNUJvQUc0d1NHQm80R2t3YUFBSUFESGdSNUFGNEFYZ0JlQUpzR2dBQkdBNEFBb3dhckJyTUdzd2FnQUxzR3d3YkxCakFBMHdiYUJ0b0czUWJhQnRvRzJnYmFCdG9HMmdibEJ1c0c4d2I3QmdNSEN3Y1RCeHNIQ3djakJ5c0hNQWMxQnpVSE9nZENCOW9HU2dkU0Ixb0hZQWZhQmxvSGFBZmFCbElIMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCalVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSGJRZGVBRjRBTlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RZDFCMzBITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCNE1IMmdhS0I2OEVnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJOEhsd2RlQUo4SHB3ZUFBSUFBcndlM0IxNEFYZ0MvQjhVSHlnY3dBTkFIMkFmZ0I0QUE2QWZ3Qno0QitBY0FDRndCQ0FnUENCY0lvZ0VZQVI4SUp3aUFBQzhJTndnL0NDQURSd2hQQ0ZjSVh3aG5DRW9ER2dTQUFJQUFnQUJ2Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0loQWlMQ0k0SU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnZ3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUI1NElOUWMxQjZJSTJnYXFDTElJdWdpQUFJQUF2Z2pHQ0lBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXl3aUhBWUFBMHdpQUFOa0kzUWpsQ08wSTlBajhDSUFBZ0FDQUFBSUpDZ2tTQ1JvSklna25DVFlITHdrM0NaWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaUFBSUFBQUFGQUFYZ0JlQUdBQWNBQmVBSHdBUUFDUUFLQUFyUUM5QUo0QVhnQmVBRTBBM2dCUkFONEE3QUQ4QU13QkdnRUFBS2NCTndFRkFVd0JYQUY0UWtoQ21FS25BcmNDZ0FISEFzQUJ6NExBQWNBQndBSEFBZCtDNkFCb0FHK0MvNExBQWNBQndBSEFBYytERjRNQUFjQUI1NE0zZ3dlRFY0Tm5nM2VEYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FFZURxQUJWZzZXRHFBQm9RNmdBYUFCb0FIWER2Y09Ody8zRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEbmNQQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQjdjUFB3bEdDVTRKTUFDQUFJQUFnQUJXQ1Y0SllRbUFBR2tKY0FsNENYd0pnQWt3QURBQU1BQXdBSWdKZ0FDTENaTUpnQUNaQ1o4Sm93bXJDWUFBc3drd0FGNEFYZ0I4QUlBQXV3a0FCTU1KeVFtQUFNNEpnQURWQ1RBQU1BQXdBREFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBcXdZV0JOa0lNQUF3QURBQU1BRGRDZUFKNkFudUNSNEU5Z2t3QVA0SkJRb05DakFBTUFDQUFCVUswd2lBQUIwS0pBb3NDalFLZ0FBd0FEd0tRd3FBQUVzS3ZRbWRDVk1LV3dvd0FEQUFnQUNBQUxjRU1BQ0FBR01LZ0FCckNqQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUFlQkRBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSWtFUFFGekNub0tpUVNDQ29vS2tBcUpCSmdLb0Fxa0Nva0VHQUdzQ3JRS3ZBckJDakFBTUFESkN0RUtGUUhaQ3VFSy9nSHBDdkVLTUFBd0FEQUFNQUNBQUl3RStRb3dBSUFBUHdFQkN6QUFNQUF3QURBQU1BQ0FBQWtMRVFzd0FJQUFQd0VaQ3lFTGdBQU9DQ2tMTUFBeEN6a0xNQUF3QURBQU1BQXdBREFBWGdCZUFFRUxNQUF3QURBQU1BQXdBREFBTUFBd0FFa0xUUXRWQzRBQVhBdGtDNEFBaVFrd0FEQUFNQUF3QURBQU1BQXdBREFBYkF0eEMza0xnQXVGQzRzTE1BQXdBSk1MbHd1ZkN6QUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXB3c3dBREFBTUFDQUFJQUFnQUN2QzRBQWdBQ0FBSUFBZ0FDQUFMY0xNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXZ3dUFBTWNMZ0FDQUFJQUFnQUNBQUlBQXlndUFBSUFBZ0FDQUFJQUEwUXN3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQU5rTGdBQ0FBSUFBNEFzd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNKQ1I0RTZBc3dBREFBaHdId0M0QUErQXNBREFnTUVBd3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQ0FBSUFBR0F3ZERDVU1NQUF3QUMwTU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RdzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhQUXd3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBRFVITlFjMUJ6VUhOUWMxQnpVSE5RYzJCekFBTUFBNUREVUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWRGRERBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBZ0FDQUFJQUFUUXhTREZvTU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUY0QVhnQmVBRjRBWGdCZUFGNEFZZ3hlQUdvTVhnQnhESGtNZnd4ZUFJVU1YZ0JlQUkwTU1BQXdBREFBTUFBd0FGNEFYZ0NWREowTU1BQXdBREFBTUFCZUFGNEFwUXhlQUtzTXN3eTdERjRBd2d5OURNb01YZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0RSRE5rTWVRQnFDZUFNM0F4OEFPWU03QXowRFBnTVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0NnQUFBTm9BQUhEUTRORmcwd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQWVEU1lOTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSUFBZ0FDQUFJQUFnQUNBQUM0Tk1BQmVBRjRBTmcwd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FENE5SZzFPRFZZTlhnMW1EVEFBYlEwd0FEQUFNQUF3QURBQU1BQXdBREFBMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCblVOZWczQ0JZQU53Z1dGRGRvR2pBM2FCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdhVURad05wQTJvRGRvRzJnYXdEYmNOdnczSERkb0cyZ2JQRGRZTjNBM2ZEZVlOMmdic0RmTU4yZ2JhQnZvTi9nM2FCZ1lPRGc3YUJsNEFYZ0JlQUJZT1hnQmVBQ1VHMmdZZURsNEFKQTVlQUN3TzJ3M2FCdG9HTVE0NUR0b0cyZ2JhQnRvR1FRN2FCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdaSkRqVUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUIxRU8yZ1kxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RZFpEalVITlFjMUJ6VUhOUWMxQjJFT05RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSGFBNDFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUIzQU8yZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ1kxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUIyRU8yZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ1pKRHRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQmtrT2VBNmdBS0FBb0FBd0FEQUFNQUF3QUtBQW9BQ2dBS0FBb0FDZ0FLQUFnQTR3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BRC8vd1FBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBQXdBQkFBRUFBZ0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFLQUJNQUZ3QWVBQnNBR2dBZUFCY0FGZ0FTQUI0QUd3QVlBQThBR0FBY0FFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FHQUFZQUI0QUhnQWVBQk1BSGdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRmdBYkFCSUFIZ0FlQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUJZQURRQVJBQjRBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVVBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQWtBRmdBYUFCc0FHd0FiQUI0QUhRQWRBQjRBVHdBWEFCNEFEUUFlQUI0QUdnQWJBRThBVHdBT0FGQUFIUUFkQUIwQVR3QlBBQmNBVHdCUEFFOEFGZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFCNEFIZ0FlQUI0QVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUZBQVR3QkFBRThBVHdCUEFFQUFUd0JRQUZBQVR3QlFBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWRBQjBBSGdBZEFCNEFEZ0JRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFKQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQWtBQ1FBSkFBa0FDUUFKQUFrQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBS3dBckFGQUFVQUJRQUZBQUdBQlFBQ3NBS3dBckFDc0FIZ0FlQUZBQUhnQlFBRkFBVUFBckFGQUFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUFlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QVlBQTBBS3dBckFCNEFIZ0FiQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQURRQUVBQjRBQkFBRUFCNEFCQUFFQUJNQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQUt3QXJBQ3NBS3dBckFGWUFWZ0JXQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBR2dBYUFCb0FHQUFZQUI0QUhnQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBRXdBRUFDc0FFd0FUQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQm9BR1FBWkFCNEFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCTUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFCUUFGQUFCQUFFQUI0QUJBQUVBQVFBQkFCUUFGQUFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQVVBQWVBQjRBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBRkFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUI0QUhnQVlBQk1BVUFBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQVVBQUVBQVFBQkFBRUFBUUFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFyQUNzQUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dBckFDc0FVQUJRQUZBQVVBQXJBQ3NBQkFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBckFDc0FLd0FyQUZBQVVBQXJBRkFBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBR2dBYUFGQUFVQUJRQUZBQVVBQk1BQjRBR3dCUUFCNEFLd0FyQUNzQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQVVBQXJBRkFBVUFBckFDc0FCQUFyQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUFRQUJBQXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBS3dCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBRUFBUUFVQUJRQUZBQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUFyQUNzQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFDc0FCQUFFQUFRQUt3QXJBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FlQUJzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUFRQUJBQUVBQVFBQkFBRUFDc0FCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFLd0FyQUFRQUJBQXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUNzQUt3QXJBRkFBVUFBckFGQUFVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0JRQUZBQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUNzQVVBQlFBQ3NBVUFBckFGQUFVQUFyQUNzQUt3QlFBRkFBS3dBckFDc0FVQUJRQUZBQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFLd0FyQUNzQUJBQUVBQVFBS3dBRUFBUUFCQUFFQUNzQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQnNBSGdBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFBRUFBUUFCQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUNzQUt3QUVBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUZBQUt3QlFBRkFBQkFBRUFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUJRQUI0QUt3QXJBQ3NBS3dCUUFGQUFVQUFFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCb0FVQUJRQUZBQVVBQlFBRkFBS3dBckFBUUFCQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QUVBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBS3dBRUFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFBUUFCQUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUFxQUZ3QVhBQXFBQ29BS2dBcUFDb0FLZ0FxQUNzQUt3QXJBQ3NBR3dCY0FGd0FYQUJjQUZ3QVhBQmNBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQWVBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBRFFBTkFDc0FLd0FyQUNzQUt3QmNBRndBS3dCY0FDc0FLd0JjQUZ3QUt3QmNBQ3NBS3dCY0FDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FLd0JjQUZ3QVhBQmNBRndBWEFCY0FDc0FYQUJjQUZ3QUt3QmNBQ3NBWEFBckFDc0FYQUJjQUNzQVhBQmNBRndBWEFBcUFGd0FYQUFxQUNvQUtnQXFBQ29BS2dBckFDb0FLZ0JjQUNzQUt3QmNBRndBWEFCY0FGd0FLd0JjQUNzQUtnQXFBQ29BS2dBcUFDb0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBRndBWEFCY0FGd0FVQUFPQUE0QURnQU9BQjRBRGdBT0FBa0FEZ0FPQUEwQUNRQVRBQk1BRXdBVEFCTUFDUUFlQUJNQUhnQWVBQjRBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBTkFBUUFIZ0FFQUI0QUJBQVdBQkVBRmdBUkFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBTkFBUUFCQUFFQUFRQUJBQU5BQVFBQkFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQURRQU5BQjRBSGdBZUFCNEFIZ0FlQUFRQUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QURnQU9BQTBBRGdBZUFCNEFIZ0FlQUI0QUNRQUpBQ3NBS3dBckFDc0FLd0JjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUZ3QVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QU5BQTBBSGdBZUFCNEFIZ0JjQUZ3QVhBQmNBRndBWEFBcUFDb0FLZ0FxQUZ3QVhBQmNBRndBS2dBcUFDb0FYQUFxQUNvQUtnQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQmNBRndBWEFBcUFDb0FLZ0FxQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FYQUFxQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUtnQXFBQ29BS2dBcUFDb0FVQUJRQUZBQVVBQlFBRkFBS3dCUUFDc0FLd0FyQUNzQUt3QlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFGQUFVQUJRQUZBQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFBckFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFLd0JRQUZBQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QUVBQVFBQkFBZUFBMEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QU5BRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUJZQUVRQXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEUUFOQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUEwQURRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FEUUFOQUJVQVhBQU5BQjRBRFFBYkFGd0FLZ0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FUQUJNQURRQU5BQTRBSGdBVEFCTUFIZ0FFQUFRQUJBQUpBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFCUUFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FlQUNzQUt3QXJBQk1BRXdCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FDc0FLd0JjQUZ3QVhBQmNBRndBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUNzQUt3QXJBQ3NBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QmNBQ3NBS3dBckFDb0FLZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUNzQUt3QWVBQjRBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FyQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXJBQ3NBQkFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQUtnQXFBQ29BS2dBcUFDb0FLZ0JjQUNvQUtnQXFBQ29BS2dBcUFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQURRQU5BQjRBRFFBTkFBMEFEUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUt3QXJBQVFBQkFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBTkFBMEFEUUFOQUEwQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dCUUFGQUFVQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBTkFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBSGdBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQVVBQlFBRkFBQkFCUUFGQUFVQUJRQUFRQUJBQUVBRkFBVUFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBRUFBUUFCQUFFQUFRQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFLd0JRQUNzQVVBQXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBSGdBZUFCNEFVQUJRQUZBQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFLd0FyQUI0QUhnQWVBQjRBSGdBZUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQVVBQlFBRkFBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQTRBSGdBckFBMEFEUUFOQUEwQURRQU5BQTBBQ1FBTkFBMEFEUUFJQUFRQUN3QUVBQVFBRFFBSkFBMEFEUUFNQUIwQUhRQWVBQmNBRndBV0FCY0FGd0FYQUJZQUZ3QWRBQjBBSGdBZUFCUUFGQUFVQUEwQUFRQUJBQVFBQkFBRUFBUUFCQUFKQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FlQUJjQUZ3QWRBQlVBRlFBZUFCNEFIZ0FlQUI0QUhnQVlBQllBRVFBVkFCVUFGUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQU5BQjRBRFFBTkFBMEFEUUFlQUEwQURRQU5BQWNBSGdBZUFCNEFIZ0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBQ3NBS3dCUEFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBV0FCRUFUd0JRQUU4QVR3QlBBRThBVUFCUUFGQUFVQUJRQUI0QUhnQWVBQllBRVFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBR3dBYkFCc0FHd0FiQUJzQUd3QWFBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FhQUJzQUd3QWJBQnNBR2dBYkFCc0FHZ0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdCUUFCb0FIZ0FkQUI0QVVBQWVBQm9BSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBVHdBZUFGQUFHd0FlQUI0QVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUIwQUhRQWVBRkFBSGdCUUFCNEFVQUFlQUZBQVR3QlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFCNEFVQUJRQUZBQVVBQlBBRThBVUFCUUFGQUFVQUJRQUU4QVVBQlFBRThBVUFCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JRQUZBQVVBQlFBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFGQUFVQUJRQUZBQVR3QWVBQjRBS3dBckFDc0FLd0FkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFlQUIwQUhRQWVBQjRBSGdBZEFCMEFIZ0FlQUIwQUhnQWVBQjRBSFFBZUFCMEFHd0FiQUI0QUhRQWVBQjRBSGdBZUFCMEFIZ0FlQUIwQUhRQWRBQjBBSGdBZUFCMEFIZ0FkQUI0QUhRQWRBQjBBSFFBZEFCMEFIZ0FkQUI0QUhnQWVBQjRBSGdBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCNEFIZ0FkQUIwQUhRQWRBQjRBSGdBZEFCMEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQlFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQVdBQkVBRmdBUkFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRmdBUkFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUUFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIZ0FlQUIwQUhRQWRBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCMEFIZ0FkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCMEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjBBSFFBZEFCNEFIZ0FkQUI0QUhnQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWVBQjBBSFFBZUFCNEFIUUFlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUNVQUpRQWRBQjBBSlFBZUFDVUFKUUFsQUNBQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSGdBZUFCNEFIZ0FkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCNEFIUUFkQUIwQUhnQWRBQ1VBSFFBZEFCNEFIUUFkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhRQWRBQjBBSFFBbEFCNEFKUUFsQUNVQUhRQWxBQ1VBSFFBZEFCMEFKUUFsQUIwQUhRQWxBQjBBSFFBbEFDVUFKUUFlQUIwQUhnQWVBQjRBSGdBZEFCMEFKUUFkQUIwQUhRQWRBQjBBSFFBbEFDVUFKUUFsQUNVQUhRQWxBQ1VBSUFBbEFCMEFIUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUI0QUpRQWxBQ0FBSUFBZ0FDQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUJjQUZ3QVhBQmNBRndBWEFCNEFFd0FUQUNVQUhnQWVBQjRBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FXQUJFQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGZ0FSQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQllBRVFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBRUFBUUFCQUFlQUI0QUt3QXJBQ3NBS3dBckFCTUFEUUFOQUEwQVVBQVRBQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBMEFEUUFOQUEwQURRQU5BQTBBRFFBZUFBMEFGZ0FOQUI0QUhnQVhBQmNBSGdBZUFCY0FGd0FXQUJFQUZnQVJBQllBRVFBV0FCRUFEUUFOQUEwQURRQVRBRkFBRFFBTkFCNEFEUUFOQUI0QUhnQWVBQjRBSGdBTUFBd0FEUUFOQUEwQUhnQU5BQTBBRmdBTkFBMEFEUUFOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFDc0FLd0FyQUEwQUVRQVJBQ1VBSlFCSEFGY0FWd0FXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUNVQUpRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZRQVdBQkVBRVFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFBUUFCQUFFQUFRQUJBQUVBQ1VBVndCWEFGY0FWd0EyQUNVQUpRQlhBRmNBVndCSEFFY0FKUUFsQUNVQUt3QlJBRmNBVVFCWEFGRUFWd0JSQUZjQVVRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZFQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCUkFGY0FVUUJYQUZFQVZ3QlhBRmNBVndCWEFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCUkFGRUFLd0FyQUFRQUJBQVZBQlVBUndCSEFGY0FGUUJSQUZjQVVRQlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGRUFWd0JSQUZjQVVRQlhBRmNBVndCWEFGY0FWd0JSQUZjQVZ3QlhBRmNBVndCWEFGRUFVUUJYQUZjQVZ3QlhBQlVBVVFCSEFFY0FWd0FyQUNzQUt3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QXJBQ1VBSlFCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBS3dBckFDVUFKUUFsQUNVQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBRThBVHdCUEFFOEFUd0JQQUU4QVR3QWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFFY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEUUFUQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQUJBQUVBQVFBQkFBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFIZ0JRQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVVBQlFBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBZUFBMEFEUUFOQUEwQURRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBSGdBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQVVBQlFBRkFBQkFCUUFGQUFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUJvQUhnQXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQURnQU9BQk1BRXdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdCUUFBNEFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUNzQUt3QXJBQVFBSGdBZUFCNEFIZ0FlQUI0QURRQU5BQTBBSGdBZUFCNEFIZ0FyQUZBQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFCNEFIZ0JjQUZ3QVhBQmNBRndBS2dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FYQUJjQUZ3QVhBQmNBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUhnQU5BQTBBRFFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BWEFBcUFDb0FLZ0JjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUFxQUZ3QUtnQXFBQ29BWEFCY0FDb0FLZ0JjQUZ3QVhBQmNBRndBS2dBcUFGd0FLZ0JjQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUNvQUtnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUEwQURRQlFBRkFBVUFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQURRQUVBQVFBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBVkFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVUFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQUt3QXJBQ3NBS3dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FLd0FyQUNzQUt3QUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBRllBQkFCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FCNEFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQXJBRllBVmdCV0FGWUFWZ0FyQUZZQUt3QldBRllBS3dCV0FGWUFLd0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUVRQVdBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFhQUI0QUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUdBQVJBQkVBR0FBWUFCTUFFd0FXQUJFQUZBQXJBQ3NBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDVUFKUUFsQUNVQUpRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBbEFDVUFGZ0FSQUNVQUpRQWxBQ1VBSlFBbEFDVUFFUUFsQUJFQUt3QVZBQlVBRXdBVEFDVUFGZ0FSQUJZQUVRQVdBQkVBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBSlFBYkFCb0FKUUFyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFBY0FLd0FUQUNVQUpRQWJBQm9BSlFBbEFCWUFFUUFsQUNVQUVRQWxBQkVBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFCVUFGUUFsQUNVQUpRQVRBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQllBSlFBUkFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FXQUNVQUVRQWxBQllBRVFBUkFCWUFFUUFSQUJVQVZ3QlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUVjQVJ3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQUt3QXJBRmNBVndCWEFGY0FWd0JYQUNzQUt3QlhBRmNBVndCWEFGY0FWd0FyQUNzQVZ3QlhBRmNBS3dBckFDc0FHZ0FiQUNVQUpRQWxBQnNBR3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFRQUIwQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQURRQU5BQTBBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FEUUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFDc0FLd0FyQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FEUUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUJBQUVBQVFBS3dBRUFBUUFLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FCQUFFQUFRQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBRFFBTkFBMEFEUUFOQUEwQURRQU5BQjRBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFBMEFEUUFOQUEwQURRQU5BQlFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QU5BQTBBRFFBTkFBMEFEUUFOQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQURRQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQWVBQTRBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQURRQU5BQjRBRFFBZUFBUUFCQUFFQUI0QUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFBT0FGQUFEUUFOQUEwQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBTkFBMEFIZ0FOQUEwQUhnQUVBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUEwQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQXJBQ3NBQkFBRUFDc0FLd0FFQUFRQUJBQXJBQ3NBVUFBckFDc0FLd0FyQUNzQUt3QUVBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBQkFBRUFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUEwQURRQU5BQTBBSGdCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FEUUFyQUI0QUt3QXJBQVFBQkFBRUFBUUFVQUJRQUI0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBT0FBMEFEUUFUQUJNQUhnQWVBQjRBRFFBTkFBMEFEUUFOQUEwQURRQU5BQTBBRFFBTkFBMEFEUUFOQUEwQVVBQlFBRkFBVUFBRUFBUUFLd0FyQUFRQURRQU5BQjRBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBT0FBNEFEZ0FPQUE0QURnQU9BQTRBRGdBT0FBNEFEZ0FPQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBckFDc0FLd0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVhBQmNBQTBBRFFBTkFDb0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBT0FCNEFEUUFOQUEwQURRQU9BQjRBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFOQUNzQURnQU9BQTRBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFEUUFOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBT0FCTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FFQUNzQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQlFBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBU0FCSUFFZ0FRd0JEQUVNQVVBQlFBRkFBVUFCREFGQUFVQUJRQUVnQVF3QklBRU1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBU0FCREFFTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJJQUVNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBTkFBMEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQVFBQkFBRUFBUUFCQUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFOQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQURRQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFFY0FSd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QWVBQVFBQkFBTkFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBRUFBUUFCQUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUZBQVVBQXJBQ3NBVUFBckFDc0FVQUJRQUNzQUt3QlFBRkFBVUFCUUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QWVBQjRBVUFCUUFGQUFVQUJRQUNzQVVBQXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQWVBQjRBRFFBTkFBMEFEUUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FGZ0FXQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQUt3QXJBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBRkFBS3dCUUFDc0FLd0FyQUNzQUt3QXJBRkFBS3dBckFDc0FLd0JRQUNzQVVBQXJBRkFBS3dCUUFGQUFVQUFyQUZBQVVBQXJBRkFBS3dBckFGQUFLd0JRQUNzQVVBQXJBRkFBS3dCUUFDc0FVQUJRQUNzQVVBQXJBQ3NBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0FsQUNVQUpRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWVBQ1VBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFDVUFKUUFsQUNVQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQWxBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQ1VBSlFBbEFDVUFKUUFlQUNVQUpRQWxBQ1VBSlFBZ0FDQUFJQUFsQUNVQUlBQWxBQ1VBSUFBZ0FDQUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlRQWhBQ0VBSVFBaEFDVUFKUUFnQUNBQUpRQWxBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDQUFJQUFsQUNVQUpRQWxBQ0FBSlFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSUFBZ0FDQUFKUUFnQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFlQUNVQUhnQWxBQjRBSlFBbEFDVUFKUUFsQUNBQUpRQWxBQ1VBSlFBZUFDVUFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFJQUFnQUNBQUlBQWdBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGd0FYQUJjQUZRQVZBQlVBSGdBZUFCNEFIZ0FsQUNVQUpRQWdBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDQUFJQUFnQUNBQUlBQWxBQ0FBSUFBbEFDVUFKUUFsQUNVQUpRQWdBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSlFBbEFDVUFJQUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQUt3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQSc7XHJcblxyXG4gICAgLyogQGZsb3cgKi9cclxuICAgIHZhciBMRVRURVJfTlVNQkVSX01PRElGSUVSID0gNTA7XHJcbiAgICAvLyBOb24tdGFpbG9yYWJsZSBMaW5lIEJyZWFraW5nIENsYXNzZXNcclxuICAgIHZhciBCSyA9IDE7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxyXG4gICAgdmFyIENSID0gMjsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpLCBleGNlcHQgYmV0d2VlbiBDUiBhbmQgTEZcclxuICAgIHZhciBMRiA9IDM7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxyXG4gICAgdmFyIENNID0gNDsgLy8gIFByb2hpYml0IGEgbGluZSBicmVhayBiZXR3ZWVuIHRoZSBjaGFyYWN0ZXIgYW5kIHRoZSBwcmVjZWRpbmcgY2hhcmFjdGVyXHJcbiAgICB2YXIgTkwgPSA1OyAvLyAgQ2F1c2UgYSBsaW5lIGJyZWFrIChhZnRlcilcclxuICAgIHZhciBXSiA9IDc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmUgYW5kIGFmdGVyXHJcbiAgICB2YXIgWlcgPSA4OyAvLyAgUHJvdmlkZSBhIGJyZWFrIG9wcG9ydHVuaXR5XHJcbiAgICB2YXIgR0wgPSA5OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlIGFuZCBhZnRlclxyXG4gICAgdmFyIFNQID0gMTA7IC8vIEVuYWJsZSBpbmRpcmVjdCBsaW5lIGJyZWFrc1xyXG4gICAgdmFyIFpXSiA9IDExOyAvLyBQcm9oaWJpdCBsaW5lIGJyZWFrcyB3aXRoaW4gam9pbmVyIHNlcXVlbmNlc1xyXG4gICAgLy8gQnJlYWsgT3Bwb3J0dW5pdGllc1xyXG4gICAgdmFyIEIyID0gMTI7IC8vICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBiZWZvcmUgYW5kIGFmdGVyIHRoZSBjaGFyYWN0ZXJcclxuICAgIHZhciBCQSA9IDEzOyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGFmdGVyIHRoZSBjaGFyYWN0ZXJcclxuICAgIHZhciBCQiA9IDE0OyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGJlZm9yZSB0aGUgY2hhcmFjdGVyXHJcbiAgICB2YXIgSFkgPSAxNTsgLy8gIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGFmdGVyIHRoZSBjaGFyYWN0ZXIsIGV4Y2VwdCBpbiBudW1lcmljIGNvbnRleHRcclxuICAgIHZhciBDQiA9IDE2OyAvLyAgIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGNvbnRpbmdlbnQgb24gYWRkaXRpb25hbCBpbmZvcm1hdGlvblxyXG4gICAgLy8gQ2hhcmFjdGVycyBQcm9oaWJpdGluZyBDZXJ0YWluIEJyZWFrc1xyXG4gICAgdmFyIENMID0gMTc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBDUCA9IDE4OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlXHJcbiAgICB2YXIgRVggPSAxOTsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZVxyXG4gICAgdmFyIElOID0gMjA7IC8vICBBbGxvdyBvbmx5IGluZGlyZWN0IGxpbmUgYnJlYWtzIGJldHdlZW4gcGFpcnNcclxuICAgIHZhciBOUyA9IDIxOyAvLyAgQWxsb3cgb25seSBpbmRpcmVjdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBPUCA9IDIyOyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYWZ0ZXJcclxuICAgIHZhciBRVSA9IDIzOyAvLyAgQWN0IGxpa2UgdGhleSBhcmUgYm90aCBvcGVuaW5nIGFuZCBjbG9zaW5nXHJcbiAgICAvLyBOdW1lcmljIENvbnRleHRcclxuICAgIHZhciBJUyA9IDI0OyAvLyAgUHJldmVudCBicmVha3MgYWZ0ZXIgYW55IGFuZCBiZWZvcmUgbnVtZXJpY1xyXG4gICAgdmFyIE5VID0gMjU7IC8vICBGb3JtIG51bWVyaWMgZXhwcmVzc2lvbnMgZm9yIGxpbmUgYnJlYWtpbmcgcHVycG9zZXNcclxuICAgIHZhciBQTyA9IDI2OyAvLyAgRG8gbm90IGJyZWFrIGZvbGxvd2luZyBhIG51bWVyaWMgZXhwcmVzc2lvblxyXG4gICAgdmFyIFBSID0gMjc7IC8vICBEbyBub3QgYnJlYWsgaW4gZnJvbnQgb2YgYSBudW1lcmljIGV4cHJlc3Npb25cclxuICAgIHZhciBTWSA9IDI4OyAvLyAgUHJldmVudCBhIGJyZWFrIGJlZm9yZTsgYW5kIGFsbG93IGEgYnJlYWsgYWZ0ZXJcclxuICAgIC8vIE90aGVyIENoYXJhY3RlcnNcclxuICAgIHZhciBBSSA9IDI5OyAvLyAgQWN0IGxpa2UgQUwgd2hlbiB0aGUgcmVzb2x2ZWRFQVcgaXMgTjsgb3RoZXJ3aXNlOyBhY3QgYXMgSURcclxuICAgIHZhciBBTCA9IDMwOyAvLyAgQXJlIGFscGhhYmV0aWMgY2hhcmFjdGVycyBvciBzeW1ib2xzIHRoYXQgYXJlIHVzZWQgd2l0aCBhbHBoYWJldGljIGNoYXJhY3RlcnNcclxuICAgIHZhciBDSiA9IDMxOyAvLyAgVHJlYXQgYXMgTlMgb3IgSUQgZm9yIHN0cmljdCBvciBub3JtYWwgYnJlYWtpbmcuXHJcbiAgICB2YXIgRUIgPSAzMjsgLy8gIERvIG5vdCBicmVhayBmcm9tIGZvbGxvd2luZyBFbW9qaSBNb2RpZmllclxyXG4gICAgdmFyIEVNID0gMzM7IC8vICBEbyBub3QgYnJlYWsgZnJvbSBwcmVjZWRpbmcgRW1vamkgQmFzZVxyXG4gICAgdmFyIEgyID0gMzQ7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBIMyA9IDM1OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSEwgPSAzNjsgLy8gIERvIG5vdCBicmVhayBhcm91bmQgYSBmb2xsb3dpbmcgaHlwaGVuOyBvdGhlcndpc2UgYWN0IGFzIEFscGhhYmV0aWNcclxuICAgIHZhciBJRCA9IDM3OyAvLyAgQnJlYWsgYmVmb3JlIG9yIGFmdGVyOyBleGNlcHQgaW4gc29tZSBudW1lcmljIGNvbnRleHRcclxuICAgIHZhciBKTCA9IDM4OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSlYgPSAzOTsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xyXG4gICAgdmFyIEpUID0gNDA7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBSSSA9IDQxOyAvLyAgS2VlcCBwYWlycyB0b2dldGhlci4gRm9yIHBhaXJzOyBicmVhayBiZWZvcmUgYW5kIGFmdGVyIG90aGVyIGNsYXNzZXNcclxuICAgIHZhciBTQSA9IDQyOyAvLyAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgY29udGluZ2VudCBvbiBhZGRpdGlvbmFsLCBsYW5ndWFnZS1zcGVjaWZpYyBjb250ZXh0IGFuYWx5c2lzXHJcbiAgICB2YXIgWFggPSA0MzsgLy8gIEhhdmUgYXMgeWV0IHVua25vd24gbGluZSBicmVha2luZyBiZWhhdmlvciBvciB1bmFzc2lnbmVkIGNvZGUgcG9zaXRpb25zXHJcbiAgICB2YXIgQlJFQUtfTUFOREFUT1JZID0gJyEnO1xyXG4gICAgdmFyIEJSRUFLX05PVF9BTExPV0VEID0gJ8OXJztcclxuICAgIHZhciBCUkVBS19BTExPV0VEID0gJ8O3JztcclxuICAgIHZhciBVbmljb2RlVHJpZSA9IGNyZWF0ZVRyaWVGcm9tQmFzZTY0KGJhc2U2NCk7XHJcbiAgICB2YXIgQUxQSEFCRVRJQ1MgPSBbQUwsIEhMXTtcclxuICAgIHZhciBIQVJEX0xJTkVfQlJFQUtTID0gW0JLLCBDUiwgTEYsIE5MXTtcclxuICAgIHZhciBTUEFDRSA9IFtTUCwgWlddO1xyXG4gICAgdmFyIFBSRUZJWF9QT1NURklYID0gW1BSLCBQT107XHJcbiAgICB2YXIgTElORV9CUkVBS1MgPSBIQVJEX0xJTkVfQlJFQUtTLmNvbmNhdChTUEFDRSk7XHJcbiAgICB2YXIgS09SRUFOX1NZTExBQkxFX0JMT0NLID0gW0pMLCBKViwgSlQsIEgyLCBIM107XHJcbiAgICB2YXIgSFlQSEVOID0gW0hZLCBCQV07XHJcbiAgICB2YXIgY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3NlcyA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBsaW5lQnJlYWspIHtcclxuICAgICAgICBpZiAobGluZUJyZWFrID09PSB2b2lkIDApIHsgbGluZUJyZWFrID0gJ3N0cmljdCc7IH1cclxuICAgICAgICB2YXIgdHlwZXMgPSBbXTtcclxuICAgICAgICB2YXIgaW5kaWNpZXMgPSBbXTtcclxuICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgICAgIGNvZGVQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoY29kZVBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NUeXBlID0gVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPiBMRVRURVJfTlVNQkVSX01PRElGSUVSKSB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc1R5cGUgLT0gTEVUVEVSX05VTUJFUl9NT0RJRklFUjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFsnbm9ybWFsJywgJ2F1dG8nLCAnbG9vc2UnXS5pbmRleE9mKGxpbmVCcmVhaykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVKzIwMTAsIOKAkyBVKzIwMTMsIOOAnCBVKzMwMUMsIOOCoCBVKzMwQTBcclxuICAgICAgICAgICAgICAgIGlmIChbMHgyMDEwLCAweDIwMTMsIDB4MzAxYywgMHgzMGEwXS5pbmRleE9mKGNvZGVQb2ludCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQ0IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IENNIHx8IGNsYXNzVHlwZSA9PT0gWldKKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMQjEwIFRyZWF0IGFueSByZW1haW5pbmcgY29tYmluaW5nIG1hcmsgb3IgWldKIGFzIEFMLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gTEI5IERvIG5vdCBicmVhayBhIGNvbWJpbmluZyBjaGFyYWN0ZXIgc2VxdWVuY2U7IHRyZWF0IGl0IGFzIGlmIGl0IGhhcyB0aGUgbGluZSBicmVha2luZyBjbGFzcyBvZlxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGJhc2UgY2hhcmFjdGVyIGluIGFsbCBvZiB0aGUgZm9sbG93aW5nIHJ1bGVzLiBUcmVhdCBaV0ogYXMgaWYgaXQgd2VyZSBDTS5cclxuICAgICAgICAgICAgICAgIHZhciBwcmV2ID0gdHlwZXNbaW5kZXggLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChMSU5FX0JSRUFLUy5pbmRleE9mKHByZXYpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kaWNpZXNbaW5kZXggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2gocHJldik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gQ0opIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKGxpbmVCcmVhayA9PT0gJ3N0cmljdCcgPyBOUyA6IElEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBTQSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IEFJKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRm9yIHN1cHBsZW1lbnRhcnkgY2hhcmFjdGVycywgYSB1c2VmdWwgZGVmYXVsdCBpcyB0byB0cmVhdCBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZSAxMDAwMC4uMUZGRkQgYXMgQUxcclxuICAgICAgICAgICAgLy8gYW5kIGNoYXJhY3RlcnMgaW4gdGhlIHJhbmdlcyAyMDAwMC4uMkZGRkQgYW5kIDMwMDAwLi4zRkZGRCBhcyBJRCwgdW50aWwgdGhlIGltcGxlbWVudGF0aW9uIGNhbiBiZSByZXZpc2VkXHJcbiAgICAgICAgICAgIC8vIHRvIHRha2UgaW50byBhY2NvdW50IHRoZSBhY3R1YWwgbGluZSBicmVha2luZyBwcm9wZXJ0aWVzIGZvciB0aGVzZSBjaGFyYWN0ZXJzLlxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBYWCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChjb2RlUG9pbnQgPj0gMHgyMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgyZmZmZCkgfHwgKGNvZGVQb2ludCA+PSAweDMwMDAwICYmIGNvZGVQb2ludCA8PSAweDNmZmZkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKElEKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0eXBlcy5wdXNoKGNsYXNzVHlwZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFtpbmRpY2llcywgdHlwZXMsIGNhdGVnb3JpZXNdO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0FkamFjZW50V2l0aFNwYWNlSWdub3JlZCA9IGZ1bmN0aW9uIChhLCBiLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgOiBhID09PSBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBjbGFzc1R5cGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPT09IGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBTUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTUCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IGN1cnJlbnRJbmRleDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldiA9IGNsYXNzVHlwZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihwcmV2KSAhPT0gLTEgOiBhID09PSBwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGNsYXNzVHlwZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gU1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IFNQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlID0gZnVuY3Rpb24gKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykge1xyXG4gICAgICAgIHZhciBpID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgIHdoaWxlIChpID49IDApIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU1ApIHtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIHZhciBfbGluZUJyZWFrQXRJbmRleCA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgaW5kZXgsIGZvcmJpZGRlbkJyZWFrcykge1xyXG4gICAgICAgIGlmIChpbmRpY2llc1tpbmRleF0gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvcmJpZGRlbkJyZWFrcykgJiYgZm9yYmlkZGVuQnJlYWtzW2N1cnJlbnRJbmRleF0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmVmb3JlSW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xyXG4gICAgICAgIHZhciBhZnRlckluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcclxuICAgICAgICB2YXIgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICAvLyBMQjQgQWx3YXlzIGJyZWFrIGFmdGVyIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgLy8gTEI1IFRyZWF0IENSIGZvbGxvd2VkIGJ5IExGLCBhcyB3ZWxsIGFzIENSLCBMRiwgYW5kIE5MIGFzIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgdmFyIGJlZm9yZSA9IGJlZm9yZUluZGV4ID49IDAgPyBjbGFzc1R5cGVzW2JlZm9yZUluZGV4XSA6IDA7XHJcbiAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW2FmdGVySW5kZXhdO1xyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBDUiAmJiBuZXh0ID09PSBMRikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChIQVJEX0xJTkVfQlJFQUtTLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19NQU5EQVRPUlk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCNiBEbyBub3QgYnJlYWsgYmVmb3JlIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgaWYgKEhBUkRfTElORV9CUkVBS1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjcgRG8gbm90IGJyZWFrIGJlZm9yZSBzcGFjZXMgb3IgemVybyB3aWR0aCBzcGFjZS5cclxuICAgICAgICBpZiAoU1BBQ0UuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjggQnJlYWsgYmVmb3JlIGFueSBjaGFyYWN0ZXIgZm9sbG93aW5nIGEgemVyby13aWR0aCBzcGFjZSwgZXZlbiBpZiBvbmUgb3IgbW9yZSBzcGFjZXMgaW50ZXJ2ZW5lLlxyXG4gICAgICAgIGlmIChwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykgPT09IFpXKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjhhIERvIG5vdCBicmVhayBiZXR3ZWVuIGEgemVybyB3aWR0aCBqb2luZXIgYW5kIGFuIGlkZW9ncmFwaCwgZW1vamkgYmFzZSBvciBlbW9qaSBtb2RpZmllci5cclxuICAgICAgICBpZiAoVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludHNbY3VycmVudEluZGV4XSkgPT09IFpXSiAmJiAobmV4dCA9PT0gSUQgfHwgbmV4dCA9PT0gRUIgfHwgbmV4dCA9PT0gRU0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMSBEbyBub3QgYnJlYWsgYmVmb3JlIG9yIGFmdGVyIFdvcmQgam9pbmVyIGFuZCByZWxhdGVkIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFdKIHx8IG5leHQgPT09IFdKKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMiBEbyBub3QgYnJlYWsgYWZ0ZXIgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBHTCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTJhIERvIG5vdCBicmVhayBiZWZvcmUgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLCBleGNlcHQgYWZ0ZXIgc3BhY2VzIGFuZCBoeXBoZW5zLlxyXG4gICAgICAgIGlmIChbU1AsIEJBLCBIWV0uaW5kZXhPZihjdXJyZW50KSA9PT0gLTEgJiYgbmV4dCA9PT0gR0wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjEzIERvIG5vdCBicmVhayBiZWZvcmUg4oCYXeKAmSBvciDigJgh4oCZIG9yIOKAmDvigJkgb3Ig4oCYL+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKFtDTCwgQ1AsIEVYLCBJUywgU1ldLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNCBEbyBub3QgYnJlYWsgYWZ0ZXIg4oCYW+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUoY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSA9PT0gT1ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjE1IERvIG5vdCBicmVhayB3aXRoaW4g4oCY4oCdW+KAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoUVUsIE9QLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNiBEbyBub3QgYnJlYWsgYmV0d2VlbiBjbG9zaW5nIHB1bmN0dWF0aW9uIGFuZCBhIG5vbnN0YXJ0ZXIgKGxiPU5TKSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoW0NMLCBDUF0sIE5TLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNyBEbyBub3QgYnJlYWsgd2l0aGluIOKAmOKAlOKAlOKAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoQjIsIEIyLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxOCBCcmVhayBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFNQKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjE5IERvIG5vdCBicmVhayBiZWZvcmUgb3IgYWZ0ZXIgcXVvdGF0aW9uIG1hcmtzLCBzdWNoIGFzIOKAmCDigJ0g4oCZLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBRVSB8fCBuZXh0ID09PSBRVSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjAgQnJlYWsgYmVmb3JlIGFuZCBhZnRlciB1bnJlc29sdmVkIENCLlxyXG4gICAgICAgIGlmIChuZXh0ID09PSBDQiB8fCBjdXJyZW50ID09PSBDQikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMSBEbyBub3QgYnJlYWsgYmVmb3JlIGh5cGhlbi1taW51cywgb3RoZXIgaHlwaGVucywgZml4ZWQtd2lkdGggc3BhY2VzLCBzbWFsbCBrYW5hLCBhbmQgb3RoZXIgbm9uLXN0YXJ0ZXJzLCBvciBhZnRlciBhY3V0ZSBhY2NlbnRzLlxyXG4gICAgICAgIGlmIChbQkEsIEhZLCBOU10uaW5kZXhPZihuZXh0KSAhPT0gLTEgfHwgY3VycmVudCA9PT0gQkIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjIxYSBEb24ndCBicmVhayBhZnRlciBIZWJyZXcgKyBIeXBoZW4uXHJcbiAgICAgICAgaWYgKGJlZm9yZSA9PT0gSEwgJiYgSFlQSEVOLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMWIgRG9u4oCZdCBicmVhayBiZXR3ZWVuIFNvbGlkdXMgYW5kIEhlYnJldyBsZXR0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTWSAmJiBuZXh0ID09PSBITCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjIgRG8gbm90IGJyZWFrIGJldHdlZW4gdHdvIGVsbGlwc2VzLCBvciBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMgb3IgZXhjbGFtYXRpb25zIGFuZCBlbGxpcHNpcy5cclxuICAgICAgICBpZiAobmV4dCA9PT0gSU4gJiYgQUxQSEFCRVRJQ1MuY29uY2F0KElOLCBFWCwgTlUsIElELCBFQiwgRU0pLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMyBEbyBub3QgYnJlYWsgYmV0d2VlbiBkaWdpdHMgYW5kIGxldHRlcnMuXHJcbiAgICAgICAgaWYgKChBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBOVSkgfHwgKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE5VKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjNhIERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHJlZml4ZXMgYW5kIGlkZW9ncmFwaHMsIG9yIGJldHdlZW4gaWRlb2dyYXBocyBhbmQgbnVtZXJpYyBwb3N0Zml4ZXMuXHJcbiAgICAgICAgaWYgKChjdXJyZW50ID09PSBQUiAmJiBbSUQsIEVCLCBFTV0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChbSUQsIEVCLCBFTV0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gUE8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNCBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHByZWZpeC9wb3N0Zml4IGFuZCBsZXR0ZXJzLCBvciBiZXR3ZWVuIGxldHRlcnMgYW5kIHByZWZpeC9wb3N0Zml4LlxyXG4gICAgICAgIGlmICgoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgUFJFRklYX1BPU1RGSVguaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChQUkVGSVhfUE9TVEZJWC5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI1IERvIG5vdCBicmVhayBiZXR3ZWVuIHRoZSBmb2xsb3dpbmcgcGFpcnMgb2YgY2xhc3NlcyByZWxldmFudCB0byBudW1iZXJzOlxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgLy8gKFBSIHwgUE8pIMOXICggT1AgfCBIWSApPyBOVVxyXG4gICAgICAgICAgICAoW1BSLCBQT10uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiZcclxuICAgICAgICAgICAgICAgIChuZXh0ID09PSBOVSB8fCAoW09QLCBIWV0uaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY2xhc3NUeXBlc1thZnRlckluZGV4ICsgMV0gPT09IE5VKSkpIHx8XHJcbiAgICAgICAgICAgIC8vICggT1AgfCBIWSApIMOXIE5VXHJcbiAgICAgICAgICAgIChbT1AsIEhZXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBOVSkgfHxcclxuICAgICAgICAgICAgLy8gTlUgw5dcdChOVSB8IFNZIHwgSVMpXHJcbiAgICAgICAgICAgIChjdXJyZW50ID09PSBOVSAmJiBbTlUsIFNZLCBJU10uaW5kZXhPZihuZXh0KSAhPT0gLTEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTlUgKE5VIHwgU1kgfCBJUykqIMOXIChOVSB8IFNZIHwgSVMgfCBDTCB8IENQKVxyXG4gICAgICAgIGlmIChbTlUsIFNZLCBJUywgQ0wsIENQXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAocHJldkluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gY2xhc3NUeXBlc1twcmV2SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE5VKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoW1NZLCBJU10uaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXgtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5VIChOVSB8IFNZIHwgSVMpKiAoQ0wgfCBDUCk/IMOXIChQTyB8IFBSKSlcclxuICAgICAgICBpZiAoW1BSLCBQT10uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IFtDTCwgQ1BdLmluZGV4T2YoY3VycmVudCkgIT09IC0xID8gYmVmb3JlSW5kZXggOiBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgIHdoaWxlIChwcmV2SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW3ByZXZJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gTlUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChbU1ksIElTXS5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNiBEbyBub3QgYnJlYWsgYSBLb3JlYW4gc3lsbGFibGUuXHJcbiAgICAgICAgaWYgKChKTCA9PT0gY3VycmVudCAmJiBbSkwsIEpWLCBIMiwgSDNdLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoW0pWLCBIMl0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgW0pWLCBKVF0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChbSlQsIEgzXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBKVCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI3IFRyZWF0IGEgS29yZWFuIFN5bGxhYmxlIEJsb2NrIHRoZSBzYW1lIGFzIElELlxyXG4gICAgICAgIGlmICgoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFtJTiwgUE9dLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IFBSKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjggRG8gbm90IGJyZWFrIGJldHdlZW4gYWxwaGFiZXRpY3MgKOKAnGF04oCdKS5cclxuICAgICAgICBpZiAoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI5IERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHVuY3R1YXRpb24gYW5kIGFscGhhYmV0aWNzICjigJxlLmcu4oCdKS5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gSVMgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjMwIERvIG5vdCBicmVhayBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMsIG9yIG9yZGluYXJ5IHN5bWJvbHMgYW5kIG9wZW5pbmcgb3IgY2xvc2luZyBwYXJlbnRoZXNlcy5cclxuICAgICAgICBpZiAoKEFMUEhBQkVUSUNTLmNvbmNhdChOVSkuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gT1ApIHx8XHJcbiAgICAgICAgICAgIChBTFBIQUJFVElDUy5jb25jYXQoTlUpLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IENQKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMzBhIEJyZWFrIGJldHdlZW4gdHdvIHJlZ2lvbmFsIGluZGljYXRvciBzeW1ib2xzIGlmIGFuZCBvbmx5IGlmIHRoZXJlIGFyZSBhbiBldmVuIG51bWJlciBvZiByZWdpb25hbFxyXG4gICAgICAgIC8vIGluZGljYXRvcnMgcHJlY2VkaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnJlYWsuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFJJICYmIG5leHQgPT09IFJJKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gaW5kaWNpZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NUeXBlc1tpXSA9PT0gUkkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvdW50ICUgMiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMzBiIERvIG5vdCBicmVhayBiZXR3ZWVuIGFuIGVtb2ppIGJhc2UgYW5kIGFuIGVtb2ppIG1vZGlmaWVyLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBFQiAmJiBuZXh0ID09PSBFTSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgfTtcclxuICAgIHZhciBjc3NGb3JtYXR0ZWRDbGFzc2VzID0gZnVuY3Rpb24gKGNvZGVQb2ludHMsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgbGluZUJyZWFrOiAnbm9ybWFsJywgd29yZEJyZWFrOiAnbm9ybWFsJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2EgPSBjb2RlUG9pbnRzVG9DaGFyYWN0ZXJDbGFzc2VzKGNvZGVQb2ludHMsIG9wdGlvbnMubGluZUJyZWFrKSwgaW5kaWNpZXMgPSBfYVswXSwgY2xhc3NUeXBlcyA9IF9hWzFdLCBpc0xldHRlck51bWJlciA9IF9hWzJdO1xyXG4gICAgICAgIGlmIChvcHRpb25zLndvcmRCcmVhayA9PT0gJ2JyZWFrLWFsbCcgfHwgb3B0aW9ucy53b3JkQnJlYWsgPT09ICdicmVhay13b3JkJykge1xyXG4gICAgICAgICAgICBjbGFzc1R5cGVzID0gY2xhc3NUeXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIChbTlUsIEFMLCBTQV0uaW5kZXhPZih0eXBlKSAhPT0gLTEgPyBJRCA6IHR5cGUpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZvcmJpZGRlbkJyZWFrcG9pbnRzID0gb3B0aW9ucy53b3JkQnJlYWsgPT09ICdrZWVwLWFsbCdcclxuICAgICAgICAgICAgPyBpc0xldHRlck51bWJlci5tYXAoZnVuY3Rpb24gKGxldHRlck51bWJlciwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlck51bWJlciAmJiBjb2RlUG9pbnRzW2ldID49IDB4NGUwMCAmJiBjb2RlUG9pbnRzW2ldIDw9IDB4OWZmZjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIFtpbmRpY2llcywgY2xhc3NUeXBlcywgZm9yYmlkZGVuQnJlYWtwb2ludHNdO1xyXG4gICAgfTtcclxuICAgIHZhciBCcmVhayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCcmVhayhjb2RlUG9pbnRzLCBsaW5lQnJlYWssIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2RlUG9pbnRzID0gY29kZVBvaW50cztcclxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlZCA9IGxpbmVCcmVhayA9PT0gQlJFQUtfTUFOREFUT1JZO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZW5kO1xyXG4gICAgICAgIH1cclxuICAgICAgICBCcmVhay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdGhpcy5jb2RlUG9pbnRzLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQnJlYWs7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIExpbmVCcmVha2VyID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBjb2RlUG9pbnRzID0gdG9Db2RlUG9pbnRzKHN0cik7XHJcbiAgICAgICAgdmFyIF9hID0gY3NzRm9ybWF0dGVkQ2xhc3Nlcyhjb2RlUG9pbnRzLCBvcHRpb25zKSwgaW5kaWNpZXMgPSBfYVswXSwgY2xhc3NUeXBlcyA9IF9hWzFdLCBmb3JiaWRkZW5CcmVha3BvaW50cyA9IF9hWzJdO1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICB2YXIgbGFzdEVuZCA9IDA7XHJcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA+PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVCcmVhayA9IEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHRJbmRleCA8IGxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChsaW5lQnJlYWsgPSBfbGluZUJyZWFrQXRJbmRleChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgKytuZXh0SW5kZXgsIGZvcmJpZGRlbkJyZWFrcG9pbnRzKSkgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgQlJFQUtfTk9UX0FMTE9XRUQpIHsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVCcmVhayAhPT0gQlJFQUtfTk9UX0FMTE9XRUQgfHwgbmV4dEluZGV4ID09PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBuZXcgQnJlYWsoY29kZVBvaW50cywgbGluZUJyZWFrLCBsYXN0RW5kLCBuZXh0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RFbmQgPSBuZXh0SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGwgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zXHJcbiAgICB2YXIgVG9rZW5UeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChUb2tlblR5cGUpIHtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU1RSSU5HX1RPS0VOXCJdID0gMF0gPSBcIlNUUklOR19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJCQURfU1RSSU5HX1RPS0VOXCJdID0gMV0gPSBcIkJBRF9TVFJJTkdfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9QQVJFTlRIRVNJU19UT0tFTlwiXSA9IDJdID0gXCJMRUZUX1BBUkVOVEhFU0lTX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXCJdID0gM10gPSBcIlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkNPTU1BX1RPS0VOXCJdID0gNF0gPSBcIkNPTU1BX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkhBU0hfVE9LRU5cIl0gPSA1XSA9IFwiSEFTSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJERUxJTV9UT0tFTlwiXSA9IDZdID0gXCJERUxJTV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJBVF9LRVlXT1JEX1RPS0VOXCJdID0gN10gPSBcIkFUX0tFWVdPUkRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiUFJFRklYX01BVENIX1RPS0VOXCJdID0gOF0gPSBcIlBSRUZJWF9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJEQVNIX01BVENIX1RPS0VOXCJdID0gOV0gPSBcIkRBU0hfTUFUQ0hfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiSU5DTFVERV9NQVRDSF9UT0tFTlwiXSA9IDEwXSA9IFwiSU5DTFVERV9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cIl0gPSAxMV0gPSBcIkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCJdID0gMTJdID0gXCJSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNVRkZJWF9NQVRDSF9UT0tFTlwiXSA9IDEzXSA9IFwiU1VGRklYX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNVQlNUUklOR19NQVRDSF9UT0tFTlwiXSA9IDE0XSA9IFwiU1VCU1RSSU5HX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkRJTUVOU0lPTl9UT0tFTlwiXSA9IDE1XSA9IFwiRElNRU5TSU9OX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlBFUkNFTlRBR0VfVE9LRU5cIl0gPSAxNl0gPSBcIlBFUkNFTlRBR0VfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTlVNQkVSX1RPS0VOXCJdID0gMTddID0gXCJOVU1CRVJfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiRlVOQ1RJT05cIl0gPSAxOF0gPSBcIkZVTkNUSU9OXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkZVTkNUSU9OX1RPS0VOXCJdID0gMTldID0gXCJGVU5DVElPTl9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJJREVOVF9UT0tFTlwiXSA9IDIwXSA9IFwiSURFTlRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQ09MVU1OX1RPS0VOXCJdID0gMjFdID0gXCJDT0xVTU5fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiVVJMX1RPS0VOXCJdID0gMjJdID0gXCJVUkxfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQkFEX1VSTF9UT0tFTlwiXSA9IDIzXSA9IFwiQkFEX1VSTF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDRENfVE9LRU5cIl0gPSAyNF0gPSBcIkNEQ19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDRE9fVE9LRU5cIl0gPSAyNV0gPSBcIkNET19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDT0xPTl9UT0tFTlwiXSA9IDI2XSA9IFwiQ09MT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU0VNSUNPTE9OX1RPS0VOXCJdID0gMjddID0gXCJTRU1JQ09MT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiXSA9IDI4XSA9IFwiTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiXSA9IDI5XSA9IFwiUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiVU5JQ09ERV9SQU5HRV9UT0tFTlwiXSA9IDMwXSA9IFwiVU5JQ09ERV9SQU5HRV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJXSElURVNQQUNFX1RPS0VOXCJdID0gMzFdID0gXCJXSElURVNQQUNFX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkVPRl9UT0tFTlwiXSA9IDMyXSA9IFwiRU9GX1RPS0VOXCI7XHJcbiAgICB9KShUb2tlblR5cGUgfHwgKFRva2VuVHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgRkxBR19VTlJFU1RSSUNURUQgPSAxIDw8IDA7XHJcbiAgICB2YXIgRkxBR19JRCA9IDEgPDwgMTtcclxuICAgIHZhciBGTEFHX0lOVEVHRVIgPSAxIDw8IDI7XHJcbiAgICB2YXIgRkxBR19OVU1CRVIgPSAxIDw8IDM7XHJcbiAgICB2YXIgTElORV9GRUVEID0gMHgwMDBhO1xyXG4gICAgdmFyIFNPTElEVVMgPSAweDAwMmY7XHJcbiAgICB2YXIgUkVWRVJTRV9TT0xJRFVTID0gMHgwMDVjO1xyXG4gICAgdmFyIENIQVJBQ1RFUl9UQUJVTEFUSU9OID0gMHgwMDA5O1xyXG4gICAgdmFyIFNQQUNFJDEgPSAweDAwMjA7XHJcbiAgICB2YXIgUVVPVEFUSU9OX01BUksgPSAweDAwMjI7XHJcbiAgICB2YXIgRVFVQUxTX1NJR04gPSAweDAwM2Q7XHJcbiAgICB2YXIgTlVNQkVSX1NJR04gPSAweDAwMjM7XHJcbiAgICB2YXIgRE9MTEFSX1NJR04gPSAweDAwMjQ7XHJcbiAgICB2YXIgUEVSQ0VOVEFHRV9TSUdOID0gMHgwMDI1O1xyXG4gICAgdmFyIEFQT1NUUk9QSEUgPSAweDAwMjc7XHJcbiAgICB2YXIgTEVGVF9QQVJFTlRIRVNJUyA9IDB4MDAyODtcclxuICAgIHZhciBSSUdIVF9QQVJFTlRIRVNJUyA9IDB4MDAyOTtcclxuICAgIHZhciBMT1dfTElORSA9IDB4MDA1ZjtcclxuICAgIHZhciBIWVBIRU5fTUlOVVMgPSAweDAwMmQ7XHJcbiAgICB2YXIgRVhDTEFNQVRJT05fTUFSSyA9IDB4MDAyMTtcclxuICAgIHZhciBMRVNTX1RIQU5fU0lHTiA9IDB4MDAzYztcclxuICAgIHZhciBHUkVBVEVSX1RIQU5fU0lHTiA9IDB4MDAzZTtcclxuICAgIHZhciBDT01NRVJDSUFMX0FUID0gMHgwMDQwO1xyXG4gICAgdmFyIExFRlRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWI7XHJcbiAgICB2YXIgUklHSFRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWQ7XHJcbiAgICB2YXIgQ0lSQ1VNRkxFWF9BQ0NFTlQgPSAweDAwM2Q7XHJcbiAgICB2YXIgTEVGVF9DVVJMWV9CUkFDS0VUID0gMHgwMDdiO1xyXG4gICAgdmFyIFFVRVNUSU9OX01BUksgPSAweDAwM2Y7XHJcbiAgICB2YXIgUklHSFRfQ1VSTFlfQlJBQ0tFVCA9IDB4MDA3ZDtcclxuICAgIHZhciBWRVJUSUNBTF9MSU5FID0gMHgwMDdjO1xyXG4gICAgdmFyIFRJTERFID0gMHgwMDdlO1xyXG4gICAgdmFyIENPTlRST0wgPSAweDAwODA7XHJcbiAgICB2YXIgUkVQTEFDRU1FTlRfQ0hBUkFDVEVSID0gMHhmZmZkO1xyXG4gICAgdmFyIEFTVEVSSVNLID0gMHgwMDJhO1xyXG4gICAgdmFyIFBMVVNfU0lHTiA9IDB4MDAyYjtcclxuICAgIHZhciBDT01NQSA9IDB4MDAyYztcclxuICAgIHZhciBDT0xPTiA9IDB4MDAzYTtcclxuICAgIHZhciBTRU1JQ09MT04gPSAweDAwM2I7XHJcbiAgICB2YXIgRlVMTF9TVE9QID0gMHgwMDJlO1xyXG4gICAgdmFyIE5VTEwgPSAweDAwMDA7XHJcbiAgICB2YXIgQkFDS1NQQUNFID0gMHgwMDA4O1xyXG4gICAgdmFyIExJTkVfVEFCVUxBVElPTiA9IDB4MDAwYjtcclxuICAgIHZhciBTSElGVF9PVVQgPSAweDAwMGU7XHJcbiAgICB2YXIgSU5GT1JNQVRJT05fU0VQQVJBVE9SX09ORSA9IDB4MDAxZjtcclxuICAgIHZhciBERUxFVEUgPSAweDAwN2Y7XHJcbiAgICB2YXIgRU9GID0gLTE7XHJcbiAgICB2YXIgWkVSTyA9IDB4MDAzMDtcclxuICAgIHZhciBhID0gMHgwMDYxO1xyXG4gICAgdmFyIGUgPSAweDAwNjU7XHJcbiAgICB2YXIgZiA9IDB4MDA2NjtcclxuICAgIHZhciB1ID0gMHgwMDc1O1xyXG4gICAgdmFyIHogPSAweDAwN2E7XHJcbiAgICB2YXIgQSA9IDB4MDA0MTtcclxuICAgIHZhciBFID0gMHgwMDQ1O1xyXG4gICAgdmFyIEYgPSAweDAwNDY7XHJcbiAgICB2YXIgVSA9IDB4MDA1NTtcclxuICAgIHZhciBaID0gMHgwMDVhO1xyXG4gICAgdmFyIGlzRGlnaXQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBjb2RlUG9pbnQgPj0gWkVSTyAmJiBjb2RlUG9pbnQgPD0gMHgwMDM5OyB9O1xyXG4gICAgdmFyIGlzU3Vycm9nYXRlQ29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IDB4ZDgwMCAmJiBjb2RlUG9pbnQgPD0gMHhkZmZmOyB9O1xyXG4gICAgdmFyIGlzSGV4ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc0RpZ2l0KGNvZGVQb2ludCkgfHwgKGNvZGVQb2ludCA+PSBBICYmIGNvZGVQb2ludCA8PSBGKSB8fCAoY29kZVBvaW50ID49IGEgJiYgY29kZVBvaW50IDw9IGYpO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0xvd2VyQ2FzZUxldHRlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBhICYmIGNvZGVQb2ludCA8PSB6OyB9O1xyXG4gICAgdmFyIGlzVXBwZXJDYXNlTGV0dGVyID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IEEgJiYgY29kZVBvaW50IDw9IFo7IH07XHJcbiAgICB2YXIgaXNMZXR0ZXIgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBpc0xvd2VyQ2FzZUxldHRlcihjb2RlUG9pbnQpIHx8IGlzVXBwZXJDYXNlTGV0dGVyKGNvZGVQb2ludCk7IH07XHJcbiAgICB2YXIgaXNOb25BU0NJSUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBDT05UUk9MOyB9O1xyXG4gICAgdmFyIGlzV2hpdGVTcGFjZSA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gY29kZVBvaW50ID09PSBMSU5FX0ZFRUQgfHwgY29kZVBvaW50ID09PSBDSEFSQUNURVJfVEFCVUxBVElPTiB8fCBjb2RlUG9pbnQgPT09IFNQQUNFJDE7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzTmFtZVN0YXJ0Q29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc0xldHRlcihjb2RlUG9pbnQpIHx8IGlzTm9uQVNDSUlDb2RlUG9pbnQoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPT09IExPV19MSU5FO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05hbWVDb2RlUG9pbnQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGlzTmFtZVN0YXJ0Q29kZVBvaW50KGNvZGVQb2ludCkgfHwgaXNEaWdpdChjb2RlUG9pbnQpIHx8IGNvZGVQb2ludCA9PT0gSFlQSEVOX01JTlVTO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05vblByaW50YWJsZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gKChjb2RlUG9pbnQgPj0gTlVMTCAmJiBjb2RlUG9pbnQgPD0gQkFDS1NQQUNFKSB8fFxyXG4gICAgICAgICAgICBjb2RlUG9pbnQgPT09IExJTkVfVEFCVUxBVElPTiB8fFxyXG4gICAgICAgICAgICAoY29kZVBvaW50ID49IFNISUZUX09VVCAmJiBjb2RlUG9pbnQgPD0gSU5GT1JNQVRJT05fU0VQQVJBVE9SX09ORSkgfHxcclxuICAgICAgICAgICAgY29kZVBvaW50ID09PSBERUxFVEUpO1xyXG4gICAgfTtcclxuICAgIHZhciBpc1ZhbGlkRXNjYXBlID0gZnVuY3Rpb24gKGMxLCBjMikge1xyXG4gICAgICAgIGlmIChjMSAhPT0gUkVWRVJTRV9TT0xJRFVTKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGMyICE9PSBMSU5FX0ZFRUQ7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzSWRlbnRpZmllclN0YXJ0ID0gZnVuY3Rpb24gKGMxLCBjMiwgYzMpIHtcclxuICAgICAgICBpZiAoYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzIpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA9PT0gUkVWRVJTRV9TT0xJRFVTICYmIGlzVmFsaWRFc2NhcGUoYzEsIGMyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBpc051bWJlclN0YXJ0ID0gZnVuY3Rpb24gKGMxLCBjMiwgYzMpIHtcclxuICAgICAgICBpZiAoYzEgPT09IFBMVVNfU0lHTiB8fCBjMSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RpZ2l0KGMyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGMyID09PSBGVUxMX1NUT1AgJiYgaXNEaWdpdChjMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjMSA9PT0gRlVMTF9TVE9QKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0RpZ2l0KGMyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzRGlnaXQoYzEpO1xyXG4gICAgfTtcclxuICAgIHZhciBzdHJpbmdUb051bWJlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzKSB7XHJcbiAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgIHZhciBzaWduID0gMTtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gUExVU19TSUdOIHx8IGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICBzaWduID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW50ZWdlcnMgPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBpbnRlZ2Vycy5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbnQgPSBpbnRlZ2Vycy5sZW5ndGggPyBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgaW50ZWdlcnMpLCAxMCkgOiAwO1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBGVUxMX1NUT1ApIHtcclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZnJhY3Rpb24gPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBmcmFjdGlvbi5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmcmFjZCA9IGZyYWN0aW9uLmxlbmd0aDtcclxuICAgICAgICB2YXIgZnJhYyA9IGZyYWNkID8gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGZyYWN0aW9uKSwgMTApIDogMDtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gRSB8fCBjb2RlUG9pbnRzW2NdID09PSBlKSB7XHJcbiAgICAgICAgICAgIGMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGV4cHNpZ24gPSAxO1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBQTFVTX1NJR04gfHwgY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBIWVBIRU5fTUlOVVMpIHtcclxuICAgICAgICAgICAgICAgIGV4cHNpZ24gPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBleHBvbmVudCA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChpc0RpZ2l0KGNvZGVQb2ludHNbY10pKSB7XHJcbiAgICAgICAgICAgIGV4cG9uZW50LnB1c2goY29kZVBvaW50c1tjKytdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGV4cCA9IGV4cG9uZW50Lmxlbmd0aCA/IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBleHBvbmVudCksIDEwKSA6IDA7XHJcbiAgICAgICAgcmV0dXJuIHNpZ24gKiAoaW50ICsgZnJhYyAqIE1hdGgucG93KDEwLCAtZnJhY2QpKSAqIE1hdGgucG93KDEwLCBleHBzaWduICogZXhwKTtcclxuICAgIH07XHJcbiAgICB2YXIgTEVGVF9QQVJFTlRIRVNJU19UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfUEFSRU5USEVTSVNfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgQ09NTUFfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DT01NQV9UT0tFTiB9O1xyXG4gICAgdmFyIFNVRkZJWF9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNVRkZJWF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIFBSRUZJWF9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlBSRUZJWF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIENPTFVNTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkNPTFVNTl9UT0tFTiB9O1xyXG4gICAgdmFyIERBU0hfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5EQVNIX01BVENIX1RPS0VOIH07XHJcbiAgICB2YXIgSU5DTFVERV9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLklOQ0xVREVfTUFUQ0hfVE9LRU4gfTtcclxuICAgIHZhciBMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOID0ge1xyXG4gICAgICAgIHR5cGU6IFRva2VuVHlwZS5SSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXHJcbiAgICB9O1xyXG4gICAgdmFyIFNVQlNUUklOR19NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNVQlNUUklOR19NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIEJBRF9VUkxfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5CQURfVVJMX1RPS0VOIH07XHJcbiAgICB2YXIgQkFEX1NUUklOR19UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkJBRF9TVFJJTkdfVE9LRU4gfTtcclxuICAgIHZhciBDRE9fVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DRE9fVE9LRU4gfTtcclxuICAgIHZhciBDRENfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DRENfVE9LRU4gfTtcclxuICAgIHZhciBDT0xPTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkNPTE9OX1RPS0VOIH07XHJcbiAgICB2YXIgU0VNSUNPTE9OX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuU0VNSUNPTE9OX1RPS0VOIH07XHJcbiAgICB2YXIgTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgV0hJVEVTUEFDRV9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4gfTtcclxuICAgIHZhciBFT0ZfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5FT0ZfVE9LRU4gfTtcclxuICAgIHZhciBUb2tlbml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVG9rZW5pemVyKCkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fdmFsdWUuY29uY2F0KHRvQ29kZVBvaW50cyhjaHVuaykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gW107XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAhPT0gRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFFVT1RBVElPTl9NQVJLOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVTdHJpbmdUb2tlbihRVU9UQVRJT05fTUFSSyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE5VTUJFUl9TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hbWVDb2RlUG9pbnQoYzEpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSBpc0lkZW50aWZpZXJTdGFydChjMSwgYzIsIGMzKSA/IEZMQUdfSUQgOiBGTEFHX1VOUkVTVFJJQ1RFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lTmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuSEFTSF9UT0tFTiwgdmFsdWU6IHZhbHVlLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERPTExBUl9TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1VGRklYX01BVENIX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQVBPU1RST1BIRTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4oQVBPU1RST1BIRSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExFRlRfUEFSRU5USEVTSVM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfUEFSRU5USEVTSVNfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX1BBUkVOVEhFU0lTOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNURVJJU0s6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVUJTVFJJTkdfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBQTFVTX1NJR046XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ09NTUE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTU1BX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBIWVBIRU5fTUlOVVM6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUxID0gY29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlMiA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoZTEsIGUyLCBlMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoZTEsIGUyLCBlMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUlkZW50TGlrZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlMiA9PT0gSFlQSEVOX01JTlVTICYmIGUzID09PSBHUkVBVEVSX1RIQU5fU0lHTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDRENfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBGVUxMX1NUT1A6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU09MSURVUzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBBU1RFUklTSykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gQVNURVJJU0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IFNPTElEVVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDT0xPTjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ09MT05fVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNFTUlDT0xPTjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0VNSUNPTE9OX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRVNTX1RIQU5fU0lHTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFWENMQU1BVElPTl9NQVJLICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgxKSA9PT0gSFlQSEVOX01JTlVTICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgyKSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENET19UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENPTU1FUkNJQUxfQVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGExID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGExLCBhMiwgYTMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkFUX0tFWVdPUkRfVE9LRU4sIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTEVGVF9TUVVBUkVfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgUkVWRVJTRV9TT0xJRFVTOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSWRlbnRMaWtlVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX1NRVUFSRV9CUkFDS0VUOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ0lSQ1VNRkxFWF9BQ0NFTlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQUkVGSVhfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRUZUX0NVUkxZX0JSQUNLRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgUklHSFRfQ1VSTFlfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgdTpcclxuICAgICAgICAgICAgICAgIGNhc2UgVTpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdTEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHUyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1MSA9PT0gUExVU19TSUdOICYmIChpc0hleCh1MikgfHwgdTIgPT09IFFVRVNUSU9OX01BUkspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVVbmljb2RlUmFuZ2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBWRVJUSUNBTF9MSU5FOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREFTSF9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gVkVSVElDQUxfTElORSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTFVNTl9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFRJTERFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5DTFVERV9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEVPRjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRU9GX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lV2hpdGVTcGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdISVRFU1BBQ0VfVE9LRU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzRGlnaXQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5ERUxJTV9UT0tFTiwgdmFsdWU6IGZyb21Db2RlUG9pbnQoY29kZVBvaW50KSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IC0xIDogdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLnJlY29uc3VtZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUudW5zaGlmdChjb2RlUG9pbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5wZWVrQ29kZVBvaW50ID0gZnVuY3Rpb24gKGRlbHRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWx0YSA+PSB0aGlzLl92YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVbZGVsdGFdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lVW5pY29kZVJhbmdlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWdpdHMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICB3aGlsZSAoaXNIZXgoY29kZVBvaW50KSAmJiBkaWdpdHMubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgZGlnaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBxdWVzdGlvbk1hcmtzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb2RlUG9pbnQgPT09IFFVRVNUSU9OX01BUksgJiYgZGlnaXRzLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2l0cy5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uTWFya3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChxdWVzdGlvbk1hcmtzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRfMSA9IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBkaWdpdHMubWFwKGZ1bmN0aW9uIChkaWdpdCkgeyByZXR1cm4gKGRpZ2l0ID09PSBRVUVTVElPTl9NQVJLID8gWkVSTyA6IGRpZ2l0KTsgfSkpLCAxNik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGRpZ2l0cy5tYXAoZnVuY3Rpb24gKGRpZ2l0KSB7IHJldHVybiAoZGlnaXQgPT09IFFVRVNUSU9OX01BUksgPyBGIDogZGlnaXQpOyB9KSksIDE2KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnRfMSwgZW5kOiBlbmQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZGlnaXRzKSwgMTYpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBIWVBIRU5fTUlOVVMgJiYgaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDEpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbmREaWdpdHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0hleChjb2RlUG9pbnQpICYmIGVuZERpZ2l0cy5sZW5ndGggPCA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kRGlnaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZW5kRGlnaXRzKSwgMTYpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVOSUNPREVfUkFOR0VfVE9LRU4sIHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnQsIGVuZDogc3RhcnQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lSWRlbnRMaWtlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd1cmwnICYmIHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gTEVGVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lVXJsVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IExFRlRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuSURFTlRfVE9LRU4sIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lVXJsVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVXaGl0ZVNwYWNlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6ICcnIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5leHQgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSBBUE9TVFJPUEhFIHx8IG5leHQgPT09IFFVT1RBVElPTl9NQVJLKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nVG9rZW4gPSB0aGlzLmNvbnN1bWVTdHJpbmdUb2tlbih0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyaW5nVG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IHN0cmluZ1Rva2VuLnZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VUkxfVE9LRU4sIHZhbHVlOiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdmFsdWUpIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCB2YWx1ZSkgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gUVVPVEFUSU9OX01BUksgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IEFQT1NUUk9QSEUgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IExFRlRfUEFSRU5USEVTSVMgfHxcclxuICAgICAgICAgICAgICAgICAgICBpc05vblByaW50YWJsZUNvZGVQb2ludChjb2RlUG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gUkVWRVJTRV9TT0xJRFVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRFc2NhcGUoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2godGhpcy5jb25zdW1lRXNjYXBlZENvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lV2hpdGVTcGFjZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGlzV2hpdGVTcGFjZSh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lQmFkVXJsUmVtbmFudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBSSUdIVF9QQVJFTlRIRVNJUyB8fCBjb2RlUG9pbnQgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lU3RyaW5nU2xpY2UgPSBmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgdmFyIFNMSUNFX1NUQUNLX1NJWkUgPSA2MDAwMDtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbW91bnQgPSBNYXRoLm1pbihTTElDRV9TVEFDS19TSVpFLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdGhpcy5fdmFsdWUuc3BsaWNlKDAsIGFtb3VudCkpO1xyXG4gICAgICAgICAgICAgICAgY291bnQgLT0gYW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVN0cmluZ1Rva2VuID0gZnVuY3Rpb24gKGVuZGluZ0NvZGVQb2ludCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5fdmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSB1bmRlZmluZWQgfHwgY29kZVBvaW50ID09PSBlbmRpbmdDb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmNvbnN1bWVTdHJpbmdTbGljZShpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuU1RSSU5HX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IExJTkVfRkVFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNwbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1NUUklOR19UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IFJFVkVSU0VfU09MSURVUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5fdmFsdWVbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBFT0YgJiYgbmV4dCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBMSU5FX0ZFRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgbmV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZU51bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlcHIgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBGTEFHX0lOVEVHRVI7XHJcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgaWYgKGMxID09PSBQTFVTX1NJR04gfHwgYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoaXNEaWdpdCh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIGlmIChjMSA9PT0gRlVMTF9TVE9QICYmIGlzRGlnaXQoYzIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCksIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBGTEFHX05VTUJFUjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0RpZ2l0KHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICBjMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgdmFyIGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICBpZiAoKGMxID09PSBFIHx8IGMxID09PSBlKSAmJiAoKChjMiA9PT0gUExVU19TSUdOIHx8IGMyID09PSBIWVBIRU5fTUlOVVMpICYmIGlzRGlnaXQoYzMpKSB8fCBpc0RpZ2l0KGMyKSkpIHtcclxuICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSwgdGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IEZMQUdfTlVNQkVSO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGlzRGlnaXQodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtzdHJpbmdUb051bWJlcihyZXByKSwgdHlwZV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOdW1lcmljVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuY29uc3VtZU51bWJlcigpLCBudW1iZXIgPSBfYVswXSwgZmxhZ3MgPSBfYVsxXTtcclxuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIHZhciBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGMxLCBjMiwgYzMpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MsIHVuaXQ6IHVuaXQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYzEgPT09IFBFUkNFTlRBR0VfU0lHTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiwgbnVtYmVyOiBudW1iZXIsIGZsYWdzOiBmbGFncyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgaWYgKGlzSGV4KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoZXggPSBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDApKSAmJiBoZXgubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhleCArPSBmcm9tQ29kZVBvaW50KHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1doaXRlU3BhY2UodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhleENvZGVQb2ludCA9IHBhcnNlSW50KGhleCwgMTYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhleENvZGVQb2ludCA9PT0gMCB8fCBpc1N1cnJvZ2F0ZUNvZGVQb2ludChoZXhDb2RlUG9pbnQpIHx8IGhleENvZGVQb2ludCA+IDB4MTBmZmZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJFUExBQ0VNRU5UX0NIQVJBQ1RFUjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoZXhDb2RlUG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUkVQTEFDRU1FTlRfQ0hBUkFDVEVSO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb2RlUG9pbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYW1lQ29kZVBvaW50KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVG9rZW5pemVyO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICB2YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnNlcih0b2tlbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zID0gdG9rZW5zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQYXJzZXIuY3JlYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKCk7XHJcbiAgICAgICAgICAgIHRva2VuaXplci53cml0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyc2VyKHRva2VuaXplci5yZWFkKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnBhcnNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlci5jcmVhdGUodmFsdWUpLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wYXJzZVZhbHVlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZXMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VDb21wb25lbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkVycm9yIHBhcnNpbmcgQ1NTIGNvbXBvbmVudCB2YWx1ZSwgdW5leHBlY3RlZCBFT0ZcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkVycm9yIHBhcnNpbmcgQ1NTIGNvbXBvbmVudCB2YWx1ZSwgbXVsdGlwbGUgdmFsdWVzIGZvdW5kIHdoZW4gZXhwZWN0aW5nIG9ubHkgb25lXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvbXBvbmVudFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuY29uc3VtZUNvbXBvbmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX1BBUkVOVEhFU0lTX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVTaW1wbGVCbG9jayh0b2tlbi50eXBlKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVGdW5jdGlvbih0b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lU2ltcGxlQmxvY2sgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgYmxvY2sgPSB7IHR5cGU6IHR5cGUsIHZhbHVlczogW10gfTtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IGlzRW5kaW5nVG9rZW5Gb3IodG9rZW4sIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgICAgICBibG9jay52YWx1ZXMucHVzaCh0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuY3Rpb25Ub2tlbikge1xyXG4gICAgICAgICAgICB2YXIgY3NzRnVuY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBmdW5jdGlvblRva2VuLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFRva2VuVHlwZS5GVU5DVElPTlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9QQVJFTlRIRVNJU19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NGdW5jdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lVG9rZW4odG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgY3NzRnVuY3Rpb24udmFsdWVzLnB1c2godGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLl90b2tlbnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcgPyBFT0ZfVE9LRU4gOiB0b2tlbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUucmVjb25zdW1lVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zLnVuc2hpZnQodG9rZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFBhcnNlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNEaW1lbnNpb25Ub2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTjsgfTtcclxuICAgIHZhciBpc051bWJlclRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzSWRlbnRUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzU3RyaW5nVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5TVFJJTkdfVE9LRU47IH07XHJcbiAgICB2YXIgaXNJZGVudFdpdGhWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgdmFyIG5vbldoaXRlU3BhY2UgPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOOyB9O1xyXG4gICAgdmFyIG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOICYmIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5DT01NQV9UT0tFTjtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VGdW5jdGlvbkFyZ3MgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICB2YXIgYXJnID0gW107XHJcbiAgICAgICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuQ09NTUFfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcGFyc2luZyBmdW5jdGlvbiBhcmdzLCB6ZXJvIHRva2VucyBmb3IgYXJnXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XHJcbiAgICAgICAgICAgICAgICBhcmcgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGFyZy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChhcmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJncztcclxuICAgIH07XHJcbiAgICB2YXIgaXNFbmRpbmdUb2tlbkZvciA9IGZ1bmN0aW9uICh0b2tlbiwgdHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09PSBUb2tlblR5cGUuTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOICYmIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaXNMZW5ndGggPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTiB8fCB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaXNMZW5ndGhQZXJjZW50YWdlID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOIHx8IGlzTGVuZ3RoKHRva2VuKTtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VMZW5ndGhQZXJjZW50YWdlVHVwbGUgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2Vucy5sZW5ndGggPiAxID8gW3Rva2Vuc1swXSwgdG9rZW5zWzFdXSA6IFt0b2tlbnNbMF1dO1xyXG4gICAgfTtcclxuICAgIHZhciBaRVJPX0xFTkdUSCA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTlVNQkVSX1RPS0VOLFxyXG4gICAgICAgIG51bWJlcjogMCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIEZJRlRZX1BFUkNFTlQgPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgbnVtYmVyOiA1MCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIEhVTkRSRURfUEVSQ0VOVCA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDEwMCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEFic29sdXRlVmFsdWVGb3JUdXBsZSA9IGZ1bmN0aW9uICh0dXBsZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciB4ID0gdHVwbGVbMF0sIHkgPSB0dXBsZVsxXTtcclxuICAgICAgICByZXR1cm4gW2dldEFic29sdXRlVmFsdWUoeCwgd2lkdGgpLCBnZXRBYnNvbHV0ZVZhbHVlKHR5cGVvZiB5ICE9PSAndW5kZWZpbmVkJyA/IHkgOiB4LCBoZWlnaHQpXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QWJzb2x1dGVWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgcGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodG9rZW4ubnVtYmVyIC8gMTAwKSAqIHBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGltZW5zaW9uVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udW5pdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVtJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTYgKiB0b2tlbi5udW1iZXI7IC8vIFRPRE8gdXNlIGNvcnJlY3QgZm9udC1zaXplXHJcbiAgICAgICAgICAgICAgICBjYXNlICdweCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIERFRyA9ICdkZWcnO1xyXG4gICAgdmFyIEdSQUQgPSAnZ3JhZCc7XHJcbiAgICB2YXIgUkFEID0gJ3JhZCc7XHJcbiAgICB2YXIgVFVSTiA9ICd0dXJuJztcclxuICAgIHZhciBhbmdsZSA9IHtcclxuICAgICAgICBuYW1lOiAnYW5nbGUnLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUudW5pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgREVHOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGguUEkgKiB2YWx1ZS5udW1iZXIpIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgR1JBRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLlBJIC8gMjAwKSAqIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJBRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRVUk46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJICogMiAqIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhbmdsZSB0eXBlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNBbmdsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS51bml0ID09PSBERUcgfHwgdmFsdWUudW5pdCA9PT0gR1JBRCB8fCB2YWx1ZS51bml0ID09PSBSQUQgfHwgdmFsdWUudW5pdCA9PT0gVFVSTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZU5hbWVkU2lkZSA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2lkZU9yQ29ybmVyID0gdG9rZW5zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoaXNJZGVudFRva2VuKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpZGVudCkgeyByZXR1cm4gaWRlbnQudmFsdWU7IH0pXHJcbiAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgc3dpdGNoIChzaWRlT3JDb3JuZXIpIHtcclxuICAgICAgICAgICAgY2FzZSAndG8gYm90dG9tIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCB0b3AnOlxyXG4gICAgICAgICAgICBjYXNlICd0b3AgbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1pFUk9fTEVOR1RILCBaRVJPX0xFTkdUSF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDApO1xyXG4gICAgICAgICAgICBjYXNlICd0byBib3R0b20gbGVmdCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIGxlZnQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAndG9wIHJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbWkVST19MRU5HVEgsIEhVTkRSRURfUEVSQ0VOVF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDkwKTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wIGxlZnQnOlxyXG4gICAgICAgICAgICBjYXNlICd0byBsZWZ0IHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0IGJvdHRvbSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSByaWdodCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW0hVTkRSRURfUEVSQ0VOVCwgSFVORFJFRF9QRVJDRU5UXTtcclxuICAgICAgICAgICAgY2FzZSAndG8gYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcoMTgwKTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCBib3R0b20nOlxyXG4gICAgICAgICAgICBjYXNlICdib3R0b20gbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW0hVTkRSRURfUEVSQ0VOVCwgWkVST19MRU5HVEhdO1xyXG4gICAgICAgICAgICBjYXNlICd0byBsZWZ0JzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZygyNzApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICB2YXIgZGVnID0gZnVuY3Rpb24gKGRlZykgeyByZXR1cm4gKE1hdGguUEkgKiBkZWcpIC8gMTgwOyB9O1xyXG5cclxuICAgIHZhciBjb2xvciA9IHtcclxuICAgICAgICBuYW1lOiAnY29sb3InLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yRnVuY3Rpb24gPSBTVVBQT1JURURfQ09MT1JfRlVOQ1RJT05TW3ZhbHVlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2xvckZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgY29sb3IgZnVuY3Rpb24gXFxcIlwiICsgdmFsdWUubmFtZSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvckZ1bmN0aW9uKHZhbHVlLnZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5IQVNIX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociArIHIsIDE2KSwgcGFyc2VJbnQoZyArIGcsIDE2KSwgcGFyc2VJbnQoYiArIGIsIDE2KSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMywgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociArIHIsIDE2KSwgcGFyc2VJbnQoZyArIGcsIDE2KSwgcGFyc2VJbnQoYiArIGIsIDE2KSwgcGFyc2VJbnQoYSArIGEsIDE2KSAvIDI1NSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNCwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociwgMTYpLCBwYXJzZUludChnLCAxNiksIHBhcnNlSW50KGIsIDE2KSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNCwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNiwgOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociwgMTYpLCBwYXJzZUludChnLCAxNiksIHBhcnNlSW50KGIsIDE2KSwgcGFyc2VJbnQoYSwgMTYpIC8gMjU1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZWRDb2xvciA9IENPTE9SU1t2YWx1ZS52YWx1ZS50b1VwcGVyQ2FzZSgpXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZWRDb2xvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZWRDb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNUcmFuc3BhcmVudCA9IGZ1bmN0aW9uIChjb2xvcikgeyByZXR1cm4gKDB4ZmYgJiBjb2xvcikgPT09IDA7IH07XHJcbiAgICB2YXIgYXNTdHJpbmcgPSBmdW5jdGlvbiAoY29sb3IpIHtcclxuICAgICAgICB2YXIgYWxwaGEgPSAweGZmICYgY29sb3I7XHJcbiAgICAgICAgdmFyIGJsdWUgPSAweGZmICYgKGNvbG9yID4+IDgpO1xyXG4gICAgICAgIHZhciBncmVlbiA9IDB4ZmYgJiAoY29sb3IgPj4gMTYpO1xyXG4gICAgICAgIHZhciByZWQgPSAweGZmICYgKGNvbG9yID4+IDI0KTtcclxuICAgICAgICByZXR1cm4gYWxwaGEgPCAyNTUgPyBcInJnYmEoXCIgKyByZWQgKyBcIixcIiArIGdyZWVuICsgXCIsXCIgKyBibHVlICsgXCIsXCIgKyBhbHBoYSAvIDI1NSArIFwiKVwiIDogXCJyZ2IoXCIgKyByZWQgKyBcIixcIiArIGdyZWVuICsgXCIsXCIgKyBibHVlICsgXCIpXCI7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhY2sgPSBmdW5jdGlvbiAociwgZywgYiwgYSkge1xyXG4gICAgICAgIHJldHVybiAoKHIgPDwgMjQpIHwgKGcgPDwgMTYpIHwgKGIgPDwgOCkgfCAoTWF0aC5yb3VuZChhICogMjU1KSA8PCAwKSkgPj4+IDA7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFRva2VuQ29sb3JWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgaSkge1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTikge1xyXG4gICAgICAgICAgICB2YXIgbWF4ID0gaSA9PT0gMyA/IDEgOiAyNTU7XHJcbiAgICAgICAgICAgIHJldHVybiBpID09PSAzID8gKHRva2VuLm51bWJlciAvIDEwMCkgKiBtYXggOiBNYXRoLnJvdW5kKCh0b2tlbi5udW1iZXIgLyAxMDApICogbWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9O1xyXG4gICAgdmFyIHJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHRva2VucyA9IGFyZ3MuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKTtcclxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0b2tlbnMubWFwKGdldFRva2VuQ29sb3JWYWx1ZSksIHIgPSBfYVswXSwgZyA9IF9hWzFdLCBiID0gX2FbMl07XHJcbiAgICAgICAgICAgIHJldHVybiBwYWNrKHIsIGcsIGIsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICB2YXIgX2IgPSB0b2tlbnMubWFwKGdldFRva2VuQ29sb3JWYWx1ZSksIHIgPSBfYlswXSwgZyA9IF9iWzFdLCBiID0gX2JbMl0sIGEgPSBfYlszXTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhY2sociwgZywgYiwgYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGh1ZTJyZ2IodDEsIHQyLCBodWUpIHtcclxuICAgICAgICBpZiAoaHVlIDwgMCkge1xyXG4gICAgICAgICAgICBodWUgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGh1ZSA+PSAxKSB7XHJcbiAgICAgICAgICAgIGh1ZSAtPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaHVlIDwgMSAvIDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0MiAtIHQxKSAqIGh1ZSAqIDYgKyB0MTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaHVlIDwgMSAvIDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChodWUgPCAyIC8gMykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQyIC0gdDEpICogNiAqICgyIC8gMyAtIGh1ZSkgKyB0MTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0MTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgaHNsID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgdG9rZW5zID0gYXJncy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpO1xyXG4gICAgICAgIHZhciBodWUgPSB0b2tlbnNbMF0sIHNhdHVyYXRpb24gPSB0b2tlbnNbMV0sIGxpZ2h0bmVzcyA9IHRva2Vuc1syXSwgYWxwaGEgPSB0b2tlbnNbM107XHJcbiAgICAgICAgdmFyIGggPSAoaHVlLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4gPyBkZWcoaHVlLm51bWJlcikgOiBhbmdsZS5wYXJzZShodWUpKSAvIChNYXRoLlBJICogMik7XHJcbiAgICAgICAgdmFyIHMgPSBpc0xlbmd0aFBlcmNlbnRhZ2Uoc2F0dXJhdGlvbikgPyBzYXR1cmF0aW9uLm51bWJlciAvIDEwMCA6IDA7XHJcbiAgICAgICAgdmFyIGwgPSBpc0xlbmd0aFBlcmNlbnRhZ2UobGlnaHRuZXNzKSA/IGxpZ2h0bmVzcy5udW1iZXIgLyAxMDAgOiAwO1xyXG4gICAgICAgIHZhciBhID0gdHlwZW9mIGFscGhhICE9PSAndW5kZWZpbmVkJyAmJiBpc0xlbmd0aFBlcmNlbnRhZ2UoYWxwaGEpID8gZ2V0QWJzb2x1dGVWYWx1ZShhbHBoYSwgMSkgOiAxO1xyXG4gICAgICAgIGlmIChzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYWNrKGwgKiAyNTUsIGwgKiAyNTUsIGwgKiAyNTUsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdDIgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcclxuICAgICAgICB2YXIgdDEgPSBsICogMiAtIHQyO1xyXG4gICAgICAgIHZhciByID0gaHVlMnJnYih0MSwgdDIsIGggKyAxIC8gMyk7XHJcbiAgICAgICAgdmFyIGcgPSBodWUycmdiKHQxLCB0MiwgaCk7XHJcbiAgICAgICAgdmFyIGIgPSBodWUycmdiKHQxLCB0MiwgaCAtIDEgLyAzKTtcclxuICAgICAgICByZXR1cm4gcGFjayhyICogMjU1LCBnICogMjU1LCBiICogMjU1LCBhKTtcclxuICAgIH07XHJcbiAgICB2YXIgU1VQUE9SVEVEX0NPTE9SX0ZVTkNUSU9OUyA9IHtcclxuICAgICAgICBoc2w6IGhzbCxcclxuICAgICAgICBoc2xhOiBoc2wsXHJcbiAgICAgICAgcmdiOiByZ2IsXHJcbiAgICAgICAgcmdiYTogcmdiXHJcbiAgICB9O1xyXG4gICAgdmFyIENPTE9SUyA9IHtcclxuICAgICAgICBBTElDRUJMVUU6IDB4ZjBmOGZmZmYsXHJcbiAgICAgICAgQU5USVFVRVdISVRFOiAweGZhZWJkN2ZmLFxyXG4gICAgICAgIEFRVUE6IDB4MDBmZmZmZmYsXHJcbiAgICAgICAgQVFVQU1BUklORTogMHg3ZmZmZDRmZixcclxuICAgICAgICBBWlVSRTogMHhmMGZmZmZmZixcclxuICAgICAgICBCRUlHRTogMHhmNWY1ZGNmZixcclxuICAgICAgICBCSVNRVUU6IDB4ZmZlNGM0ZmYsXHJcbiAgICAgICAgQkxBQ0s6IDB4MDAwMDAwZmYsXHJcbiAgICAgICAgQkxBTkNIRURBTE1PTkQ6IDB4ZmZlYmNkZmYsXHJcbiAgICAgICAgQkxVRTogMHgwMDAwZmZmZixcclxuICAgICAgICBCTFVFVklPTEVUOiAweDhhMmJlMmZmLFxyXG4gICAgICAgIEJST1dOOiAweGE1MmEyYWZmLFxyXG4gICAgICAgIEJVUkxZV09PRDogMHhkZWI4ODdmZixcclxuICAgICAgICBDQURFVEJMVUU6IDB4NWY5ZWEwZmYsXHJcbiAgICAgICAgQ0hBUlRSRVVTRTogMHg3ZmZmMDBmZixcclxuICAgICAgICBDSE9DT0xBVEU6IDB4ZDI2OTFlZmYsXHJcbiAgICAgICAgQ09SQUw6IDB4ZmY3ZjUwZmYsXHJcbiAgICAgICAgQ09STkZMT1dFUkJMVUU6IDB4NjQ5NWVkZmYsXHJcbiAgICAgICAgQ09STlNJTEs6IDB4ZmZmOGRjZmYsXHJcbiAgICAgICAgQ1JJTVNPTjogMHhkYzE0M2NmZixcclxuICAgICAgICBDWUFOOiAweDAwZmZmZmZmLFxyXG4gICAgICAgIERBUktCTFVFOiAweDAwMDA4YmZmLFxyXG4gICAgICAgIERBUktDWUFOOiAweDAwOGI4YmZmLFxyXG4gICAgICAgIERBUktHT0xERU5ST0Q6IDB4Yjg4NmJiZmYsXHJcbiAgICAgICAgREFSS0dSQVk6IDB4YTlhOWE5ZmYsXHJcbiAgICAgICAgREFSS0dSRUVOOiAweDAwNjQwMGZmLFxyXG4gICAgICAgIERBUktHUkVZOiAweGE5YTlhOWZmLFxyXG4gICAgICAgIERBUktLSEFLSTogMHhiZGI3NmJmZixcclxuICAgICAgICBEQVJLTUFHRU5UQTogMHg4YjAwOGJmZixcclxuICAgICAgICBEQVJLT0xJVkVHUkVFTjogMHg1NTZiMmZmZixcclxuICAgICAgICBEQVJLT1JBTkdFOiAweGZmOGMwMGZmLFxyXG4gICAgICAgIERBUktPUkNISUQ6IDB4OTkzMmNjZmYsXHJcbiAgICAgICAgREFSS1JFRDogMHg4YjAwMDBmZixcclxuICAgICAgICBEQVJLU0FMTU9OOiAweGU5OTY3YWZmLFxyXG4gICAgICAgIERBUktTRUFHUkVFTjogMHg4ZmJjOGZmZixcclxuICAgICAgICBEQVJLU0xBVEVCTFVFOiAweDQ4M2Q4YmZmLFxyXG4gICAgICAgIERBUktTTEFURUdSQVk6IDB4MmY0ZjRmZmYsXHJcbiAgICAgICAgREFSS1NMQVRFR1JFWTogMHgyZjRmNGZmZixcclxuICAgICAgICBEQVJLVFVSUVVPSVNFOiAweDAwY2VkMWZmLFxyXG4gICAgICAgIERBUktWSU9MRVQ6IDB4OTQwMGQzZmYsXHJcbiAgICAgICAgREVFUFBJTks6IDB4ZmYxNDkzZmYsXHJcbiAgICAgICAgREVFUFNLWUJMVUU6IDB4MDBiZmZmZmYsXHJcbiAgICAgICAgRElNR1JBWTogMHg2OTY5NjlmZixcclxuICAgICAgICBESU1HUkVZOiAweDY5Njk2OWZmLFxyXG4gICAgICAgIERPREdFUkJMVUU6IDB4MWU5MGZmZmYsXHJcbiAgICAgICAgRklSRUJSSUNLOiAweGIyMjIyMmZmLFxyXG4gICAgICAgIEZMT1JBTFdISVRFOiAweGZmZmFmMGZmLFxyXG4gICAgICAgIEZPUkVTVEdSRUVOOiAweDIyOGIyMmZmLFxyXG4gICAgICAgIEZVQ0hTSUE6IDB4ZmYwMGZmZmYsXHJcbiAgICAgICAgR0FJTlNCT1JPOiAweGRjZGNkY2ZmLFxyXG4gICAgICAgIEdIT1NUV0hJVEU6IDB4ZjhmOGZmZmYsXHJcbiAgICAgICAgR09MRDogMHhmZmQ3MDBmZixcclxuICAgICAgICBHT0xERU5ST0Q6IDB4ZGFhNTIwZmYsXHJcbiAgICAgICAgR1JBWTogMHg4MDgwODBmZixcclxuICAgICAgICBHUkVFTjogMHgwMDgwMDBmZixcclxuICAgICAgICBHUkVFTllFTExPVzogMHhhZGZmMmZmZixcclxuICAgICAgICBHUkVZOiAweDgwODA4MGZmLFxyXG4gICAgICAgIEhPTkVZREVXOiAweGYwZmZmMGZmLFxyXG4gICAgICAgIEhPVFBJTks6IDB4ZmY2OWI0ZmYsXHJcbiAgICAgICAgSU5ESUFOUkVEOiAweGNkNWM1Y2ZmLFxyXG4gICAgICAgIElORElHTzogMHg0YjAwODJmZixcclxuICAgICAgICBJVk9SWTogMHhmZmZmZjBmZixcclxuICAgICAgICBLSEFLSTogMHhmMGU2OGNmZixcclxuICAgICAgICBMQVZFTkRFUjogMHhlNmU2ZmFmZixcclxuICAgICAgICBMQVZFTkRFUkJMVVNIOiAweGZmZjBmNWZmLFxyXG4gICAgICAgIExBV05HUkVFTjogMHg3Y2ZjMDBmZixcclxuICAgICAgICBMRU1PTkNISUZGT046IDB4ZmZmYWNkZmYsXHJcbiAgICAgICAgTElHSFRCTFVFOiAweGFkZDhlNmZmLFxyXG4gICAgICAgIExJR0hUQ09SQUw6IDB4ZjA4MDgwZmYsXHJcbiAgICAgICAgTElHSFRDWUFOOiAweGUwZmZmZmZmLFxyXG4gICAgICAgIExJR0hUR09MREVOUk9EWUVMTE9XOiAweGZhZmFkMmZmLFxyXG4gICAgICAgIExJR0hUR1JBWTogMHhkM2QzZDNmZixcclxuICAgICAgICBMSUdIVEdSRUVOOiAweDkwZWU5MGZmLFxyXG4gICAgICAgIExJR0hUR1JFWTogMHhkM2QzZDNmZixcclxuICAgICAgICBMSUdIVFBJTks6IDB4ZmZiNmMxZmYsXHJcbiAgICAgICAgTElHSFRTQUxNT046IDB4ZmZhMDdhZmYsXHJcbiAgICAgICAgTElHSFRTRUFHUkVFTjogMHgyMGIyYWFmZixcclxuICAgICAgICBMSUdIVFNLWUJMVUU6IDB4ODdjZWZhZmYsXHJcbiAgICAgICAgTElHSFRTTEFURUdSQVk6IDB4Nzc4ODk5ZmYsXHJcbiAgICAgICAgTElHSFRTTEFURUdSRVk6IDB4Nzc4ODk5ZmYsXHJcbiAgICAgICAgTElHSFRTVEVFTEJMVUU6IDB4YjBjNGRlZmYsXHJcbiAgICAgICAgTElHSFRZRUxMT1c6IDB4ZmZmZmUwZmYsXHJcbiAgICAgICAgTElNRTogMHgwMGZmMDBmZixcclxuICAgICAgICBMSU1FR1JFRU46IDB4MzJjZDMyZmYsXHJcbiAgICAgICAgTElORU46IDB4ZmFmMGU2ZmYsXHJcbiAgICAgICAgTUFHRU5UQTogMHhmZjAwZmZmZixcclxuICAgICAgICBNQVJPT046IDB4ODAwMDAwZmYsXHJcbiAgICAgICAgTUVESVVNQVFVQU1BUklORTogMHg2NmNkYWFmZixcclxuICAgICAgICBNRURJVU1CTFVFOiAweDAwMDBjZGZmLFxyXG4gICAgICAgIE1FRElVTU9SQ0hJRDogMHhiYTU1ZDNmZixcclxuICAgICAgICBNRURJVU1QVVJQTEU6IDB4OTM3MGRiZmYsXHJcbiAgICAgICAgTUVESVVNU0VBR1JFRU46IDB4M2NiMzcxZmYsXHJcbiAgICAgICAgTUVESVVNU0xBVEVCTFVFOiAweDdiNjhlZWZmLFxyXG4gICAgICAgIE1FRElVTVNQUklOR0dSRUVOOiAweDAwZmE5YWZmLFxyXG4gICAgICAgIE1FRElVTVRVUlFVT0lTRTogMHg0OGQxY2NmZixcclxuICAgICAgICBNRURJVU1WSU9MRVRSRUQ6IDB4YzcxNTg1ZmYsXHJcbiAgICAgICAgTUlETklHSFRCTFVFOiAweDE5MTk3MGZmLFxyXG4gICAgICAgIE1JTlRDUkVBTTogMHhmNWZmZmFmZixcclxuICAgICAgICBNSVNUWVJPU0U6IDB4ZmZlNGUxZmYsXHJcbiAgICAgICAgTU9DQ0FTSU46IDB4ZmZlNGI1ZmYsXHJcbiAgICAgICAgTkFWQUpPV0hJVEU6IDB4ZmZkZWFkZmYsXHJcbiAgICAgICAgTkFWWTogMHgwMDAwODBmZixcclxuICAgICAgICBPTERMQUNFOiAweGZkZjVlNmZmLFxyXG4gICAgICAgIE9MSVZFOiAweDgwODAwMGZmLFxyXG4gICAgICAgIE9MSVZFRFJBQjogMHg2YjhlMjNmZixcclxuICAgICAgICBPUkFOR0U6IDB4ZmZhNTAwZmYsXHJcbiAgICAgICAgT1JBTkdFUkVEOiAweGZmNDUwMGZmLFxyXG4gICAgICAgIE9SQ0hJRDogMHhkYTcwZDZmZixcclxuICAgICAgICBQQUxFR09MREVOUk9EOiAweGVlZThhYWZmLFxyXG4gICAgICAgIFBBTEVHUkVFTjogMHg5OGZiOThmZixcclxuICAgICAgICBQQUxFVFVSUVVPSVNFOiAweGFmZWVlZWZmLFxyXG4gICAgICAgIFBBTEVWSU9MRVRSRUQ6IDB4ZGI3MDkzZmYsXHJcbiAgICAgICAgUEFQQVlBV0hJUDogMHhmZmVmZDVmZixcclxuICAgICAgICBQRUFDSFBVRkY6IDB4ZmZkYWI5ZmYsXHJcbiAgICAgICAgUEVSVTogMHhjZDg1M2ZmZixcclxuICAgICAgICBQSU5LOiAweGZmYzBjYmZmLFxyXG4gICAgICAgIFBMVU06IDB4ZGRhMGRkZmYsXHJcbiAgICAgICAgUE9XREVSQkxVRTogMHhiMGUwZTZmZixcclxuICAgICAgICBQVVJQTEU6IDB4ODAwMDgwZmYsXHJcbiAgICAgICAgUkVCRUNDQVBVUlBMRTogMHg2NjMzOTlmZixcclxuICAgICAgICBSRUQ6IDB4ZmYwMDAwZmYsXHJcbiAgICAgICAgUk9TWUJST1dOOiAweGJjOGY4ZmZmLFxyXG4gICAgICAgIFJPWUFMQkxVRTogMHg0MTY5ZTFmZixcclxuICAgICAgICBTQURETEVCUk9XTjogMHg4YjQ1MTNmZixcclxuICAgICAgICBTQUxNT046IDB4ZmE4MDcyZmYsXHJcbiAgICAgICAgU0FORFlCUk9XTjogMHhmNGE0NjBmZixcclxuICAgICAgICBTRUFHUkVFTjogMHgyZThiNTdmZixcclxuICAgICAgICBTRUFTSEVMTDogMHhmZmY1ZWVmZixcclxuICAgICAgICBTSUVOTkE6IDB4YTA1MjJkZmYsXHJcbiAgICAgICAgU0lMVkVSOiAweGMwYzBjMGZmLFxyXG4gICAgICAgIFNLWUJMVUU6IDB4ODdjZWViZmYsXHJcbiAgICAgICAgU0xBVEVCTFVFOiAweDZhNWFjZGZmLFxyXG4gICAgICAgIFNMQVRFR1JBWTogMHg3MDgwOTBmZixcclxuICAgICAgICBTTEFURUdSRVk6IDB4NzA4MDkwZmYsXHJcbiAgICAgICAgU05PVzogMHhmZmZhZmFmZixcclxuICAgICAgICBTUFJJTkdHUkVFTjogMHgwMGZmN2ZmZixcclxuICAgICAgICBTVEVFTEJMVUU6IDB4NDY4MmI0ZmYsXHJcbiAgICAgICAgVEFOOiAweGQyYjQ4Y2ZmLFxyXG4gICAgICAgIFRFQUw6IDB4MDA4MDgwZmYsXHJcbiAgICAgICAgVEhJU1RMRTogMHhkOGJmZDhmZixcclxuICAgICAgICBUT01BVE86IDB4ZmY2MzQ3ZmYsXHJcbiAgICAgICAgVFJBTlNQQVJFTlQ6IDB4MDAwMDAwMDAsXHJcbiAgICAgICAgVFVSUVVPSVNFOiAweDQwZTBkMGZmLFxyXG4gICAgICAgIFZJT0xFVDogMHhlZTgyZWVmZixcclxuICAgICAgICBXSEVBVDogMHhmNWRlYjNmZixcclxuICAgICAgICBXSElURTogMHhmZmZmZmZmZixcclxuICAgICAgICBXSElURVNNT0tFOiAweGY1ZjVmNWZmLFxyXG4gICAgICAgIFlFTExPVzogMHhmZmZmMDBmZixcclxuICAgICAgICBZRUxMT1dHUkVFTjogMHg5YWNkMzJmZlxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGU7XHJcbiAgICAoZnVuY3Rpb24gKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlKSB7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJWQUxVRVwiXSA9IDBdID0gXCJWQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiTElTVFwiXSA9IDFdID0gXCJMSVNUXCI7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJJREVOVF9WQUxVRVwiXSA9IDJdID0gXCJJREVOVF9WQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiVFlQRV9WQUxVRVwiXSA9IDNdID0gXCJUWVBFX1ZBTFVFXCI7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJUT0tFTl9WQUxVRVwiXSA9IDRdID0gXCJUT0tFTl9WQUxVRVwiO1xyXG4gICAgfSkoUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUgfHwgKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlID0ge30pKTtcclxuXHJcbiAgICB2YXIgQkFDS0dST1VORF9DTElQO1xyXG4gICAgKGZ1bmN0aW9uIChCQUNLR1JPVU5EX0NMSVApIHtcclxuICAgICAgICBCQUNLR1JPVU5EX0NMSVBbQkFDS0dST1VORF9DTElQW1wiQk9SREVSX0JPWFwiXSA9IDBdID0gXCJCT1JERVJfQk9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9DTElQW0JBQ0tHUk9VTkRfQ0xJUFtcIlBBRERJTkdfQk9YXCJdID0gMV0gPSBcIlBBRERJTkdfQk9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9DTElQW0JBQ0tHUk9VTkRfQ0xJUFtcIkNPTlRFTlRfQk9YXCJdID0gMl0gPSBcIkNPTlRFTlRfQk9YXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX0NMSVAgfHwgKEJBQ0tHUk9VTkRfQ0xJUCA9IHt9KSk7XHJcbiAgICB2YXIgYmFja2dyb3VuZENsaXAgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtY2xpcCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYm9yZGVyLWJveCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmctYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuUEFERElOR19CT1g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSB7XHJcbiAgICAgICAgbmFtZTogXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcclxuICAgICAgICBmb3JtYXQ6ICdjb2xvcidcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHBhcnNlQ29sb3JTdG9wID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGFyZ3NbMF0pO1xyXG4gICAgICAgIHZhciBzdG9wID0gYXJnc1sxXTtcclxuICAgICAgICByZXR1cm4gc3RvcCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc3RvcCkgPyB7IGNvbG9yOiBjb2xvciQxLCBzdG9wOiBzdG9wIH0gOiB7IGNvbG9yOiBjb2xvciQxLCBzdG9wOiBudWxsIH07XHJcbiAgICB9O1xyXG4gICAgdmFyIHByb2Nlc3NDb2xvclN0b3BzID0gZnVuY3Rpb24gKHN0b3BzLCBsaW5lTGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0ID0gc3RvcHNbMF07XHJcbiAgICAgICAgdmFyIGxhc3QgPSBzdG9wc1tzdG9wcy5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoZmlyc3Quc3RvcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmaXJzdC5zdG9wID0gWkVST19MRU5HVEg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0LnN0b3AgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGFzdC5zdG9wID0gSFVORFJFRF9QRVJDRU5UO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcHJvY2Vzc1N0b3BzID0gW107XHJcbiAgICAgICAgdmFyIHByZXZpb3VzID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9wXzEgPSBzdG9wc1tpXS5zdG9wO1xyXG4gICAgICAgICAgICBpZiAoc3RvcF8xICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWJzb2x1dGVWYWx1ZSA9IGdldEFic29sdXRlVmFsdWUoc3RvcF8xLCBsaW5lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZVZhbHVlID4gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChhYnNvbHV0ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKHByZXZpb3VzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gYWJzb2x1dGVWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBnYXBCZWdpbiA9IG51bGw7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9jZXNzU3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN0b3BfMiA9IHByb2Nlc3NTdG9wc1tpXTtcclxuICAgICAgICAgICAgaWYgKHN0b3BfMiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhcEJlZ2luID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FwQmVnaW4gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhcEJlZ2luICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2FwTGVuZ3RoID0gaSAtIGdhcEJlZ2luO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZUdhcCA9IHByb2Nlc3NTdG9wc1tnYXBCZWdpbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGdhcFZhbHVlID0gKHN0b3BfMiAtIGJlZm9yZUdhcCkgLyAoZ2FwTGVuZ3RoICsgMSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMTsgZyA8PSBnYXBMZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wc1tnYXBCZWdpbiArIGcgLSAxXSA9IGdhcFZhbHVlICogZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGdhcEJlZ2luID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RvcHMubWFwKGZ1bmN0aW9uIChfYSwgaSkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBfYS5jb2xvcjtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY29sb3I6IGNvbG9yLCBzdG9wOiBNYXRoLm1heChNYXRoLm1pbigxLCBwcm9jZXNzU3RvcHNbaV0gLyBsaW5lTGVuZ3RoKSwgMCkgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QW5nbGVGcm9tQ29ybmVyID0gZnVuY3Rpb24gKGNvcm5lciwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIHZhciBjZW50ZXJZID0gaGVpZ2h0IC8gMjtcclxuICAgICAgICB2YXIgeCA9IGdldEFic29sdXRlVmFsdWUoY29ybmVyWzBdLCB3aWR0aCkgLSBjZW50ZXJYO1xyXG4gICAgICAgIHZhciB5ID0gY2VudGVyWSAtIGdldEFic29sdXRlVmFsdWUoY29ybmVyWzFdLCBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5hdGFuMih5LCB4KSArIE1hdGguUEkgKiAyKSAlIChNYXRoLlBJICogMik7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUdyYWRpZW50RGlyZWN0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdmFyIHJhZGlhbiA9IHR5cGVvZiBhbmdsZSA9PT0gJ251bWJlcicgPyBhbmdsZSA6IGdldEFuZ2xlRnJvbUNvcm5lcihhbmdsZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdmFyIGxpbmVMZW5ndGggPSBNYXRoLmFicyh3aWR0aCAqIE1hdGguc2luKHJhZGlhbikpICsgTWF0aC5hYnMoaGVpZ2h0ICogTWF0aC5jb3MocmFkaWFuKSk7XHJcbiAgICAgICAgdmFyIGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgICAgICB2YXIgaGFsZkhlaWdodCA9IGhlaWdodCAvIDI7XHJcbiAgICAgICAgdmFyIGhhbGZMaW5lTGVuZ3RoID0gbGluZUxlbmd0aCAvIDI7XHJcbiAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5zaW4ocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XHJcbiAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5jb3MocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIFtsaW5lTGVuZ3RoLCBoYWxmV2lkdGggLSB4RGlmZiwgaGFsZldpZHRoICsgeERpZmYsIGhhbGZIZWlnaHQgLSB5RGlmZiwgaGFsZkhlaWdodCArIHlEaWZmXTtcclxuICAgIH07XHJcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpOyB9O1xyXG4gICAgdmFyIGZpbmRDb3JuZXIgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgeCwgeSwgY2xvc2VzdCkge1xyXG4gICAgICAgIHZhciBjb3JuZXJzID0gW1swLCAwXSwgWzAsIGhlaWdodF0sIFt3aWR0aCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV07XHJcbiAgICAgICAgcmV0dXJuIGNvcm5lcnMucmVkdWNlKGZ1bmN0aW9uIChzdGF0LCBjb3JuZXIpIHtcclxuICAgICAgICAgICAgdmFyIGN4ID0gY29ybmVyWzBdLCBjeSA9IGNvcm5lclsxXTtcclxuICAgICAgICAgICAgdmFyIGQgPSBkaXN0YW5jZSh4IC0gY3gsIHkgLSBjeSk7XHJcbiAgICAgICAgICAgIGlmIChjbG9zZXN0ID8gZCA8IHN0YXQub3B0aW11bURpc3RhbmNlIDogZCA+IHN0YXQub3B0aW11bURpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGltdW1Db3JuZXI6IGNvcm5lcixcclxuICAgICAgICAgICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0YXQ7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGNsb3Nlc3QgPyBJbmZpbml0eSA6IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgb3B0aW11bUNvcm5lcjogbnVsbFxyXG4gICAgICAgIH0pLm9wdGltdW1Db3JuZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZVJhZGl1cyA9IGZ1bmN0aW9uIChncmFkaWVudCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciByeCA9IDA7XHJcbiAgICAgICAgdmFyIHJ5ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKGdyYWRpZW50LnNpemUpIHtcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVuZGluZyBzaGFwZSBpcyBzaXplZCBzbyB0aGF0IHRoYXQgaXQgZXhhY3RseSBtZWV0cyB0aGUgc2lkZSBvZiB0aGUgZ3JhZGllbnQgYm94IGNsb3Nlc3QgdG8gdGhlIGdyYWRpZW504oCZcyBjZW50ZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2hhcGUgaXMgYW4gZWxsaXBzZSwgaXQgZXhhY3RseSBtZWV0cyB0aGUgY2xvc2VzdCBzaWRlIGluIGVhY2ggZGltZW5zaW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCksIE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgc28gdGhhdCB0aGF0IGl0IHBhc3NlcyB0aHJvdWdoIHRoZSBjb3JuZXIgb2YgdGhlIGdyYWRpZW50IGJveCBjbG9zZXN0IHRvIHRoZSBncmFkaWVudOKAmXMgY2VudGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNoYXBlIGlzIGFuIGVsbGlwc2UsIHRoZSBlbmRpbmcgc2hhcGUgaXMgZ2l2ZW4gdGhlIHNhbWUgYXNwZWN0LXJhdGlvIGl0IHdvdWxkIGhhdmUgaWYgY2xvc2VzdC1zaWRlIHdlcmUgc3BlY2lmaWVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oZGlzdGFuY2UoeCwgeSksIGRpc3RhbmNlKHgsIHkgLSBoZWlnaHQpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gcnkvcnggKHdoaWNoIGlzIHRvIGJlIHRoZSBzYW1lIGFzIGZvciBcImNsb3Nlc3Qtc2lkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBmaW5kQ29ybmVyKHdpZHRoLCBoZWlnaHQsIHgsIHksIHRydWUpLCBjeCA9IF9hWzBdLCBjeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gZGlzdGFuY2UoY3ggLSB4LCAoY3kgLSB5KSAvIGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gYyAqIHJ4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAvLyBTYW1lIGFzIGNsb3Nlc3Qtc2lkZSwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IHNpZGUocylcclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpLCBNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IE1hdGgubWF4KE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgLy8gU2FtZSBhcyBjbG9zZXN0LWNvcm5lciwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IGNvcm5lci5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCB0aGUgZW5kaW5nIHNoYXBlIGlzIGdpdmVuIHRoZSBzYW1lIGFzcGVjdCByYXRpbyBpdCB3b3VsZCBoYXZlIGlmIGZhcnRoZXN0LXNpZGUgd2VyZSBzcGVjaWZpZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkNJUkNMRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1heChkaXN0YW5jZSh4LCB5KSwgZGlzdGFuY2UoeCwgeSAtIGhlaWdodCksIGRpc3RhbmNlKHggLSB3aWR0aCwgeSksIGRpc3RhbmNlKHggLSB3aWR0aCwgeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHRoZSByYXRpbyByeS9yeCAod2hpY2ggaXMgdG8gYmUgdGhlIHNhbWUgYXMgZm9yIFwiZmFydGhlc3Qtc2lkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gTWF0aC5tYXgoTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBmaW5kQ29ybmVyKHdpZHRoLCBoZWlnaHQsIHgsIHksIGZhbHNlKSwgY3ggPSBfYlswXSwgY3kgPSBfYlsxXTtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IGRpc3RhbmNlKGN4IC0geCwgKGN5IC0geSkgLyBjKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IGMgKiByeDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShncmFkaWVudC5zaXplKSkge1xyXG4gICAgICAgICAgICByeCA9IGdldEFic29sdXRlVmFsdWUoZ3JhZGllbnQuc2l6ZVswXSwgd2lkdGgpO1xyXG4gICAgICAgICAgICByeSA9IGdyYWRpZW50LnNpemUubGVuZ3RoID09PSAyID8gZ2V0QWJzb2x1dGVWYWx1ZShncmFkaWVudC5zaXplWzFdLCBoZWlnaHQpIDogcng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbcngsIHJ5XTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGxpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSQxID0gZGVnKDE4MCk7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIGZpcnN0VG9rZW4udmFsdWUgPT09ICd0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gcGFyc2VOYW1lZFNpZGUoYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FuZ2xlKGZpcnN0VG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUkMSA9IGFuZ2xlLnBhcnNlKGZpcnN0VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IGFuZ2xlOiBhbmdsZSQxLCBzdG9wczogc3RvcHMsIHR5cGU6IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlQgfTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByZWZpeExpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSQxID0gZGVnKDE4MCk7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmXHJcbiAgICAgICAgICAgICAgICAgICAgWyd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nXS5pbmRleE9mKGZpcnN0VG9rZW4udmFsdWUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlJDEgPSBwYXJzZU5hbWVkU2lkZShhcmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQW5nbGUoZmlyc3RUb2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gKGFuZ2xlLnBhcnNlKGZpcnN0VG9rZW4pICsgZGVnKDI3MCkpICUgZGVnKDM2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xyXG4gICAgICAgICAgICBzdG9wcy5wdXNoKGNvbG9yU3RvcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYW5nbGU6IGFuZ2xlJDEsXHJcbiAgICAgICAgICAgIHN0b3BzOiBzdG9wcyxcclxuICAgICAgICAgICAgdHlwZTogQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXN0UmFuZ2VCb3VuZHMgPSBmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgICAgICB2YXIgVEVTVF9IRUlHSFQgPSAxMjM7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvdW5kdGVzdCcpO1xyXG4gICAgICAgICAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gVEVTVF9IRUlHSFQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB0ZXN0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0ZXN0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VCb3VuZHMgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIHZhciByYW5nZUhlaWdodCA9IE1hdGgucm91bmQocmFuZ2VCb3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlSGVpZ2h0ID09PSBURVNUX0hFSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgdGVzdENPUlMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgbmV3IEltYWdlKCkuY3Jvc3NPcmlnaW4gIT09ICd1bmRlZmluZWQnOyB9O1xyXG4gICAgdmFyIHRlc3RSZXNwb25zZVR5cGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgbmV3IFhNTEh0dHBSZXF1ZXN0KCkucmVzcG9uc2VUeXBlID09PSAnc3RyaW5nJzsgfTtcclxuICAgIHZhciB0ZXN0U1ZHID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XHJcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjwvc3ZnPlwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0dyZWVuUGl4ZWwgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBkYXRhWzBdID09PSAwICYmIGRhdGFbMV0gPT09IDI1NSAmJiBkYXRhWzJdID09PSAwICYmIGRhdGFbM10gPT09IDI1NTtcclxuICAgIH07XHJcbiAgICB2YXIgdGVzdEZvcmVpZ25PYmplY3QgPSBmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIHNpemUgPSAxMDA7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZTtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2IoMCwgMjU1LCAwKSc7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHNpemUsIHNpemUpO1xyXG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB2YXIgZ3JlZW5JbWFnZVNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICBpbWcuc3JjID0gZ3JlZW5JbWFnZVNyYztcclxuICAgICAgICB2YXIgc3ZnID0gY3JlYXRlRm9yZWlnbk9iamVjdFNWRyhzaXplLCBzaXplLCAwLCAwLCBpbWcpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJztcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIGxvYWRTZXJpYWxpemVkU1ZHKHN2ZylcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGdyZWVuSW1hZ2VTcmMgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gc2l6ZSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggNTUgZG9lcyBub3QgcmVuZGVyIGlubGluZSA8aW1nIC8+IHRhZ3NcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0dyZWVuUGl4ZWwoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICA/IGxvYWRTZXJpYWxpemVkU1ZHKGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoc2l6ZSwgc2l6ZSwgMCwgMCwgbm9kZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlamVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChpbWcpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vIEVkZ2UgZG9lcyBub3QgcmVuZGVyIGJhY2tncm91bmQtaW1hZ2VzXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNHcmVlblBpeGVsKGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSkuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgeCwgeSwgbm9kZSkge1xyXG4gICAgICAgIHZhciB4bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbiAgICAgICAgdmFyIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgJ3N2ZycpO1xyXG4gICAgICAgIHZhciBmb3JlaWduT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCAnZm9yZWlnbk9iamVjdCcpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCB3aWR0aC50b1N0cmluZygpKTtcclxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsICcxMDAlJyk7XHJcbiAgICAgICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgJzEwMCUnKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd4JywgeC50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgeS50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3RydWUnKTtcclxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZm9yZWlnbk9iamVjdCk7XHJcbiAgICAgICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgICAgICByZXR1cm4gc3ZnO1xyXG4gICAgfTtcclxuICAgIHZhciBsb2FkU2VyaWFsaXplZFNWRyA9IGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKGltZyk7IH07XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBGRUFUVVJFUyA9IHtcclxuICAgICAgICBnZXQgU1VQUE9SVF9SQU5HRV9CT1VORFMoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSYW5nZUJvdW5kcyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfUkFOR0VfQk9VTkRTJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX1NWR19EUkFXSU5HKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0ZXN0U1ZHKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9TVkdfRFJBV0lORycsIHsgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiBBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgID8gdGVzdEZvcmVpZ25PYmplY3QoZG9jdW1lbnQpXHJcbiAgICAgICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfRk9SRUlHTk9CSkVDVF9EUkFXSU5HJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0NPUlNfSU1BR0VTKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0ZXN0Q09SUygpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfSU1BR0VTJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX1JFU1BPTlNFX1RZUEUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSZXNwb25zZVR5cGUoKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9SRVNQT05TRV9UWVBFJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0NPUlNfWEhSKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9DT1JTX1hIUicsIHsgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIExvZ2dlcihfYSkge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBfYS5pZCwgZW5hYmxlZCA9IF9hLmVuYWJsZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gZW5hYmxlZDtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmRlYnVnID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnLmFwcGx5KGNvbnNvbGUsIFt0aGlzLmlkLCB0aGlzLmdldFRpbWUoKSArIFwibXNcIl0uY29uY2F0KGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mby5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuY3JlYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgTG9nZ2VyLmluc3RhbmNlc1tvcHRpb25zLmlkXSA9IG5ldyBMb2dnZXIob3B0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuZGVzdHJveSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgTG9nZ2VyLmluc3RhbmNlc1tpZF07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gTG9nZ2VyLmluc3RhbmNlc1tpZF07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBsb2dnZXIgaW5zdGFuY2UgZm91bmQgd2l0aCBpZCBcIiArIGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmluZm8gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLCBbdGhpcy5pZCwgdGhpcy5nZXRUaW1lKCkgKyBcIm1zXCJdLmNvbmNhdChhcmdzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIFt0aGlzLmlkLCB0aGlzLmdldFRpbWUoKSArIFwibXNcIl0uY29uY2F0KGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mby5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLmluc3RhbmNlcyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBMb2dnZXI7XHJcbiAgICB9KCkpO1xyXG5cclxuICAgIHZhciBDYWNoZVN0b3JhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGVTdG9yYWdlKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBDYWNoZVN0b3JhZ2UuY3JlYXRlID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXSA9IG5ldyBDYWNoZShuYW1lLCBvcHRpb25zKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZGVzdHJveSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5vcGVuID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGNhY2hlID0gQ2FjaGVTdG9yYWdlLl9jYWNoZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FjaGUgd2l0aCBrZXkgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBub3QgZm91bmRcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgbGluayA9IENhY2hlU3RvcmFnZS5fbGluaztcclxuICAgICAgICAgICAgaWYgKCFsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Fib3V0OmJsYW5rJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IGxpbmsuaHJlZjsgLy8gSUU5LCBMT0whIC0gaHR0cDovL2pzZmlkZGxlLm5ldC9uaWtsYXN2aC8yZTQ4Yi9cclxuICAgICAgICAgICAgcmV0dXJuIGxpbmsucHJvdG9jb2wgKyBsaW5rLmhvc3RuYW1lICsgbGluay5wb3J0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmlzU2FtZU9yaWdpbiA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENhY2hlU3RvcmFnZS5nZXRPcmlnaW4oc3JjKSA9PT0gQ2FjaGVTdG9yYWdlLl9vcmlnaW47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2Uuc2V0Q29udGV4dCA9IGZ1bmN0aW9uICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9saW5rID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9vcmlnaW4gPSBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjYWNoZSBpbnN0YW5jZSBhdHRhY2hlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5hdHRhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xyXG4gICAgICAgICAgICBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQgPSBjYWNoZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5kZXRhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fY2FjaGVzID0ge307XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLl9vcmlnaW4gPSAnYWJvdXQ6YmxhbmsnO1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIENhY2hlU3RvcmFnZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGUoaWQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0Jsb2JJbWFnZShzcmMpIHx8IGlzUmVuZGVyYWJsZShzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVtzcmNdID0gdGhpcy5sb2FkSW1hZ2Uoc3JjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVbc3JjXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5sb2FkSW1hZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc1NhbWVPcmlnaW4sIHVzZUNPUlMsIHVzZVByb3h5LCBzcmM7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lT3JpZ2luID0gQ2FjaGVTdG9yYWdlLmlzU2FtZU9yaWdpbihrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ09SUyA9ICFpc0lubGluZUltYWdlKGtleSkgJiYgdGhpcy5fb3B0aW9ucy51c2VDT1JTID09PSB0cnVlICYmIEZFQVRVUkVTLlNVUFBPUlRfQ09SU19JTUFHRVMgJiYgIWlzU2FtZU9yaWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVByb3h5ID0gIWlzSW5saW5lSW1hZ2Uoa2V5KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc1NhbWVPcmlnaW4gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5fb3B0aW9ucy5wcm94eSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGRUFUVVJFUy5TVVBQT1JUX0NPUlNfWEhSICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXVzZUNPUlM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU2FtZU9yaWdpbiAmJiB0aGlzLl9vcHRpb25zLmFsbG93VGFpbnQgPT09IGZhbHNlICYmICFpc0lubGluZUltYWdlKGtleSkgJiYgIXVzZVByb3h5ICYmICF1c2VDT1JTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VQcm94eSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnByb3h5KHNyYyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLmlkKS5kZWJ1ZyhcIkFkZGVkIGltYWdlIFwiICsga2V5LnN1YnN0cmluZygwLCAyNTYpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoaW1nKTsgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lvcyBzYWZhcmkgMTAuMyB0YWludHMgY2FudmFzIHdpdGggZGF0YSB1cmxzIHVubGVzcyBjcm9zc09yaWdpbiBpcyBzZXQgdG8gYW5vbnltb3VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5saW5lQmFzZTY0SW1hZ2Uoc3JjKSB8fCB1c2VDT1JTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuY29tcGxldGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5saW5lIFhNTCBpbWFnZXMgbWF5IGZhaWwgdG8gcGFyc2UsIHRocm93aW5nIGFuIEVycm9yIGxhdGVyIG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShpbWcpOyB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChcIlRpbWVkIG91dCAoXCIgKyBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQgKyBcIm1zKSBsb2FkaW5nIGltYWdlXCIpOyB9LCBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuX2NhY2hlW2tleV0gIT09ICd1bmRlZmluZWQnO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoT2JqZWN0LmtleXModGhpcy5fY2FjaGUpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5wcm94eSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5fb3B0aW9ucy5wcm94eTtcclxuICAgICAgICAgICAgaWYgKCFwcm94eSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwcm94eSBkZWZpbmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGtleSA9IHNyYy5zdWJzdHJpbmcoMCwgMjU2KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZVR5cGUgPSBGRUFUVVJFUy5TVVBQT1JUX1JFU1BPTlNFX1RZUEUgPyAnYmxvYicgOiAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyXzEgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyXzEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUocmVhZGVyXzEucmVzdWx0KTsgfSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyXzEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gcmVqZWN0KGUpOyB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXJfMS5yZWFkQXNEYXRhVVJMKHhoci5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcIkZhaWxlZCB0byBwcm94eSByZXNvdXJjZSBcIiArIGtleSArIFwiIHdpdGggc3RhdHVzIGNvZGUgXCIgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgcHJveHkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoc3JjKSArIFwiJnJlc3BvbnNlVHlwZT1cIiArIHJlc3BvbnNlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAndGV4dCcgJiYgeGhyIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vcHRpb25zLmltYWdlVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0XzEgPSBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSB0aW1lb3V0XzE7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChcIlRpbWVkIG91dCAoXCIgKyB0aW1lb3V0XzEgKyBcIm1zKSBwcm94eWluZyBcIiArIGtleSk7IH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDYWNoZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgSU5MSU5FX1NWRyA9IC9eZGF0YTppbWFnZVxcL3N2Z1xcK3htbC9pO1xyXG4gICAgdmFyIElOTElORV9CQVNFNjQgPSAvXmRhdGE6aW1hZ2VcXC8uKjtiYXNlNjQsL2k7XHJcbiAgICB2YXIgSU5MSU5FX0lNRyA9IC9eZGF0YTppbWFnZVxcLy4qL2k7XHJcbiAgICB2YXIgaXNSZW5kZXJhYmxlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gRkVBVFVSRVMuU1VQUE9SVF9TVkdfRFJBV0lORyB8fCAhaXNTVkcoc3JjKTsgfTtcclxuICAgIHZhciBpc0lubGluZUltYWdlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gSU5MSU5FX0lNRy50ZXN0KHNyYyk7IH07XHJcbiAgICB2YXIgaXNJbmxpbmVCYXNlNjRJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIElOTElORV9CQVNFNjQudGVzdChzcmMpOyB9O1xyXG4gICAgdmFyIGlzQmxvYkltYWdlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gc3JjLnN1YnN0cigwLCA0KSA9PT0gJ2Jsb2InOyB9O1xyXG4gICAgdmFyIGlzU1ZHID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gc3JjLnN1YnN0cigtMykudG9Mb3dlckNhc2UoKSA9PT0gJ3N2ZycgfHwgSU5MSU5FX1NWRy50ZXN0KHNyYyk7IH07XHJcblxyXG4gICAgdmFyIHdlYmtpdEdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSA9IGRlZygxODApO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciB0eXBlID0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbihmaXJzdFRva2VuKSAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAnbGluZWFyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSWRlbnRUb2tlbihmaXJzdFRva2VuKSAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAncmFkaWFsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICdmcm9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciQxID0gY29sb3IucGFyc2UoZmlyc3RUb2tlbi52YWx1ZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goeyBzdG9wOiBaRVJPX0xFTkdUSCwgY29sb3I6IGNvbG9yJDEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICd0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGZpcnN0VG9rZW4udmFsdWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHsgc3RvcDogSFVORFJFRF9QRVJDRU5ULCBjb2xvcjogY29sb3IkMSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0VG9rZW4ubmFtZSA9PT0gJ2NvbG9yLXN0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGZpcnN0VG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yJDEgPSBjb2xvci5wYXJzZSh2YWx1ZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcF8xID0gdmFsdWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbihzdG9wXzEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wOiB7IHR5cGU6IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOLCBudW1iZXI6IHN0b3BfMS5udW1iZXIgKiAxMDAsIGZsYWdzOiBzdG9wXzEuZmxhZ3MgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IkMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVFxyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgIGFuZ2xlOiAoYW5nbGUgKyBkZWcoMTgwKSkgJSBkZWcoMzYwKSxcclxuICAgICAgICAgICAgICAgIHN0b3BzOiBzdG9wcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IHsgc2l6ZTogc2l6ZSwgc2hhcGU6IHNoYXBlLCBzdG9wczogc3RvcHMsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdHlwZTogdHlwZSB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ0xPU0VTVF9TSURFID0gJ2Nsb3Nlc3Qtc2lkZSc7XHJcbiAgICB2YXIgRkFSVEhFU1RfU0lERSA9ICdmYXJ0aGVzdC1zaWRlJztcclxuICAgIHZhciBDTE9TRVNUX0NPUk5FUiA9ICdjbG9zZXN0LWNvcm5lcic7XHJcbiAgICB2YXIgRkFSVEhFU1RfQ09STkVSID0gJ2ZhcnRoZXN0LWNvcm5lcic7XHJcbiAgICB2YXIgQ0lSQ0xFID0gJ2NpcmNsZSc7XHJcbiAgICB2YXIgRUxMSVBTRSA9ICdlbGxpcHNlJztcclxuICAgIHZhciBDT1ZFUiA9ICdjb3Zlcic7XHJcbiAgICB2YXIgQ09OVEFJTiA9ICdjb250YWluJztcclxuICAgIHZhciByYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NvbG9yU3RvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNBdFBvc2l0aW9uXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0F0UG9zaXRpb25fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goRklGVFlfUEVSQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChaRVJPX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goSFVORFJFRF9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pIHx8IGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENJUkNMRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVMTElQU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F0UG9zaXRpb25fMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT1ZFUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aCh0b2tlbikgfHwgaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHNpemU6IHNpemUsIHNoYXBlOiBzaGFwZSwgc3RvcHM6IHN0b3BzLCBwb3NpdGlvbjogcG9zaXRpb24sIHR5cGU6IENTU0ltYWdlVHlwZS5SQURJQUxfR1JBRElFTlQgfTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByZWZpeFJhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICB2YXIgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGlzQ29sb3JTdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChGSUZUWV9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChaRVJPX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKEhVTkRSRURfUEVSQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZSh0b2tlbikgfHwgaXNMZW5ndGgodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaXNDb2xvclN0b3AgPSBhcmcucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDSVJDTEU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFTExJUFNFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPTlRBSU46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENMT1NFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfU0lERTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEZBUlRIRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9TSURFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0xPU0VTVF9DT1JORVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPVkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBGQVJUSEVTVF9DT1JORVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzaXplKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgIH0sIGlzQ29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNDb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xyXG4gICAgICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHsgc2l6ZTogc2l6ZSwgc2hhcGU6IHNoYXBlLCBzdG9wczogc3RvcHMsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdHlwZTogQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVCB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ1NTSW1hZ2VUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChDU1NJbWFnZVR5cGUpIHtcclxuICAgICAgICBDU1NJbWFnZVR5cGVbQ1NTSW1hZ2VUeXBlW1wiVVJMXCJdID0gMF0gPSBcIlVSTFwiO1xyXG4gICAgICAgIENTU0ltYWdlVHlwZVtDU1NJbWFnZVR5cGVbXCJMSU5FQVJfR1JBRElFTlRcIl0gPSAxXSA9IFwiTElORUFSX0dSQURJRU5UXCI7XHJcbiAgICAgICAgQ1NTSW1hZ2VUeXBlW0NTU0ltYWdlVHlwZVtcIlJBRElBTF9HUkFESUVOVFwiXSA9IDJdID0gXCJSQURJQUxfR1JBRElFTlRcIjtcclxuICAgIH0pKENTU0ltYWdlVHlwZSB8fCAoQ1NTSW1hZ2VUeXBlID0ge30pKTtcclxuICAgIHZhciBpc0xpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKGJhY2tncm91bmQpIHtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZC50eXBlID09PSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UO1xyXG4gICAgfTtcclxuICAgIHZhciBpc1JhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKGJhY2tncm91bmQpIHtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZC50eXBlID09PSBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xyXG4gICAgfTtcclxuICAgIHZhciBDU1NSYWRpYWxTaGFwZTtcclxuICAgIChmdW5jdGlvbiAoQ1NTUmFkaWFsU2hhcGUpIHtcclxuICAgICAgICBDU1NSYWRpYWxTaGFwZVtDU1NSYWRpYWxTaGFwZVtcIkNJUkNMRVwiXSA9IDBdID0gXCJDSVJDTEVcIjtcclxuICAgICAgICBDU1NSYWRpYWxTaGFwZVtDU1NSYWRpYWxTaGFwZVtcIkVMTElQU0VcIl0gPSAxXSA9IFwiRUxMSVBTRVwiO1xyXG4gICAgfSkoQ1NTUmFkaWFsU2hhcGUgfHwgKENTU1JhZGlhbFNoYXBlID0ge30pKTtcclxuICAgIHZhciBDU1NSYWRpYWxFeHRlbnQ7XHJcbiAgICAoZnVuY3Rpb24gKENTU1JhZGlhbEV4dGVudCkge1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJDTE9TRVNUX1NJREVcIl0gPSAwXSA9IFwiQ0xPU0VTVF9TSURFXCI7XHJcbiAgICAgICAgQ1NTUmFkaWFsRXh0ZW50W0NTU1JhZGlhbEV4dGVudFtcIkZBUlRIRVNUX1NJREVcIl0gPSAxXSA9IFwiRkFSVEhFU1RfU0lERVwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJDTE9TRVNUX0NPUk5FUlwiXSA9IDJdID0gXCJDTE9TRVNUX0NPUk5FUlwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJGQVJUSEVTVF9DT1JORVJcIl0gPSAzXSA9IFwiRkFSVEhFU1RfQ09STkVSXCI7XHJcbiAgICB9KShDU1NSYWRpYWxFeHRlbnQgfHwgKENTU1JhZGlhbEV4dGVudCA9IHt9KSk7XHJcbiAgICB2YXIgaW1hZ2UgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ltYWdlJyxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuVVJMX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VfMSA9IHsgdXJsOiB2YWx1ZS52YWx1ZSwgdHlwZTogQ1NTSW1hZ2VUeXBlLlVSTCB9O1xyXG4gICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmdldEluc3RhbmNlKCkuYWRkSW1hZ2UodmFsdWUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlXzE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlRnVuY3Rpb24gPSBTVVBQT1JURURfSU1BR0VfRlVOQ1RJT05TW3ZhbHVlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbWFnZUZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgaW1hZ2UgZnVuY3Rpb24gXFxcIlwiICsgdmFsdWUubmFtZSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZUZ1bmN0aW9uKHZhbHVlLnZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gaXNTdXBwb3J0ZWRJbWFnZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS50eXBlICE9PSBUb2tlblR5cGUuRlVOQ1RJT04gfHwgU1VQUE9SVEVEX0lNQUdFX0ZVTkNUSU9OU1t2YWx1ZS5uYW1lXTtcclxuICAgIH1cclxuICAgIHZhciBTVVBQT1JURURfSU1BR0VfRlVOQ1RJT05TID0ge1xyXG4gICAgICAgICdsaW5lYXItZ3JhZGllbnQnOiBsaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW1vei1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW1zLWxpbmVhci1ncmFkaWVudCc6IHByZWZpeExpbmVhckdyYWRpZW50LFxyXG4gICAgICAgICctby1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLXdlYmtpdC1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAncmFkaWFsLWdyYWRpZW50JzogcmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1tb3otcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1tcy1yYWRpYWwtZ3JhZGllbnQnOiBwcmVmaXhSYWRpYWxHcmFkaWVudCxcclxuICAgICAgICAnLW8tcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtZ3JhZGllbnQnOiB3ZWJraXRHcmFkaWVudFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYmFja2dyb3VuZEltYWdlID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLWltYWdlJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IodmFsdWUpICYmIGlzU3VwcG9ydGVkSW1hZ2UodmFsdWUpOyB9KS5tYXAoaW1hZ2UucGFyc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJhY2tncm91bmRPcmlnaW4gPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtb3JpZ2luJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdib3JkZXItYm94JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5tYXAoZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGFkZGluZy1ib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogUEFERElOR19CT1ggKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIENPTlRFTlRfQk9YICovO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIEJPUkRFUl9CT1ggKi87XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJhY2tncm91bmRQb3NpdGlvbiA9IHtcclxuICAgICAgICBuYW1lOiAnYmFja2dyb3VuZC1wb3NpdGlvbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCUgMCUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMuZmlsdGVyKGlzTGVuZ3RoUGVyY2VudGFnZSk7IH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBCQUNLR1JPVU5EX1JFUEVBVDtcclxuICAgIChmdW5jdGlvbiAoQkFDS0dST1VORF9SRVBFQVQpIHtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVFwiXSA9IDBdID0gXCJSRVBFQVRcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIk5PX1JFUEVBVFwiXSA9IDFdID0gXCJOT19SRVBFQVRcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVF9YXCJdID0gMl0gPSBcIlJFUEVBVF9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9SRVBFQVRbQkFDS0dST1VORF9SRVBFQVRbXCJSRVBFQVRfWVwiXSA9IDNdID0gXCJSRVBFQVRfWVwiO1xyXG4gICAgfSkoQkFDS0dST1VORF9SRVBFQVQgfHwgKEJBQ0tHUk9VTkRfUkVQRUFUID0ge30pKTtcclxuICAgIHZhciBiYWNrZ3JvdW5kUmVwZWF0ID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLXJlcGVhdCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAncmVwZWF0JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucylcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi52YWx1ZTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKHBhcnNlQmFja2dyb3VuZFJlcGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZUJhY2tncm91bmRSZXBlYXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ25vLXJlcGVhdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQteCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3JlcGVhdCBuby1yZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9YO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQteSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ25vLXJlcGVhdCByZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9ZO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBCQUNLR1JPVU5EX1NJWkU7XHJcbiAgICAoZnVuY3Rpb24gKEJBQ0tHUk9VTkRfU0laRSkge1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfU0laRVtcIkFVVE9cIl0gPSBcImF1dG9cIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1NJWkVbXCJDT05UQUlOXCJdID0gXCJjb250YWluXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9TSVpFW1wiQ09WRVJcIl0gPSBcImNvdmVyXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX1NJWkUgfHwgKEJBQ0tHUk9VTkRfU0laRSA9IHt9KSk7XHJcbiAgICB2YXIgYmFja2dyb3VuZFNpemUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtc2l6ZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMuZmlsdGVyKGlzQmFja2dyb3VuZFNpemVJbmZvVG9rZW4pOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQmFja2dyb3VuZFNpemVJbmZvVG9rZW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaXNJZGVudFRva2VuKHZhbHVlKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodmFsdWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYm9yZGVyQ29sb3JGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgbmFtZTogXCJib3JkZXItXCIgKyBzaWRlICsgXCItY29sb3JcIixcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgICAgICBmb3JtYXQ6ICdjb2xvcidcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYm9yZGVyVG9wQ29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ3RvcCcpO1xyXG4gICAgdmFyIGJvcmRlclJpZ2h0Q29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ3JpZ2h0Jyk7XHJcbiAgICB2YXIgYm9yZGVyQm90dG9tQ29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIGJvcmRlckxlZnRDb2xvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgnbGVmdCcpO1xyXG5cclxuICAgIHZhciBib3JkZXJSYWRpdXNGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgbmFtZTogXCJib3JkZXItcmFkaXVzLVwiICsgc2lkZSxcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCAwJyxcclxuICAgICAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHsgcmV0dXJuIHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKHRva2Vucy5maWx0ZXIoaXNMZW5ndGhQZXJjZW50YWdlKSk7IH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYm9yZGVyVG9wTGVmdFJhZGl1cyA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ3RvcC1sZWZ0Jyk7XHJcbiAgICB2YXIgYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCd0b3AtcmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ2JvdHRvbS1yaWdodCcpO1xyXG4gICAgdmFyIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCdib3R0b20tbGVmdCcpO1xyXG5cclxuICAgIHZhciBCT1JERVJfU1RZTEU7XHJcbiAgICAoZnVuY3Rpb24gKEJPUkRFUl9TVFlMRSkge1xyXG4gICAgICAgIEJPUkRFUl9TVFlMRVtCT1JERVJfU1RZTEVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcclxuICAgICAgICBCT1JERVJfU1RZTEVbQk9SREVSX1NUWUxFW1wiU09MSURcIl0gPSAxXSA9IFwiU09MSURcIjtcclxuICAgIH0pKEJPUkRFUl9TVFlMRSB8fCAoQk9SREVSX1NUWUxFID0ge30pKTtcclxuICAgIHZhciBib3JkZXJTdHlsZUZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkge1xyXG4gICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICBuYW1lOiBcImJvcmRlci1cIiArIHNpZGUgKyBcIi1zdHlsZVwiLFxyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6ICdzb2xpZCcsXHJcbiAgICAgICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCT1JERVJfU1RZTEUuTk9ORTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBCT1JERVJfU1RZTEUuU09MSUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYm9yZGVyVG9wU3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ3RvcCcpO1xyXG4gICAgdmFyIGJvcmRlclJpZ2h0U3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ3JpZ2h0Jyk7XHJcbiAgICB2YXIgYm9yZGVyQm90dG9tU3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIGJvcmRlckxlZnRTdHlsZSA9IGJvcmRlclN0eWxlRm9yU2lkZSgnbGVmdCcpO1xyXG5cclxuICAgIHZhciBib3JkZXJXaWR0aEZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkge1xyXG4gICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICBuYW1lOiBcImJvcmRlci1cIiArIHNpZGUgKyBcIi13aWR0aFwiLFxyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0RpbWVuc2lvblRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBib3JkZXJUb3BXaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgYm9yZGVyUmlnaHRXaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21XaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgYm9yZGVyTGVmdFdpZHRoID0gYm9yZGVyV2lkdGhGb3JTaWRlKCdsZWZ0Jyk7XHJcblxyXG4gICAgdmFyIGNvbG9yJDEgPSB7XHJcbiAgICAgICAgbmFtZTogXCJjb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBkaXNwbGF5ID0ge1xyXG4gICAgICAgIG5hbWU6ICdkaXNwbGF5JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdpbmxpbmUtYmxvY2snLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLnJlZHVjZShmdW5jdGlvbiAoYml0LCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdCB8IHBhcnNlRGlzcGxheVZhbHVlKHRva2VuLnZhbHVlKTtcclxuICAgICAgICAgICAgfSwgMCAvKiBOT05FICovKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlRGlzcGxheVZhbHVlID0gZnVuY3Rpb24gKGRpc3BsYXkpIHtcclxuICAgICAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnYmxvY2snOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogQkxPQ0sgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNCAvKiBJTkxJTkUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1bi1pbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gOCAvKiBSVU5fSU4gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3cnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2IC8qIEZMT1cgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3ctcm9vdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMzIgLyogRkxPV19ST09UICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNjQgLyogVEFCTEUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZsZXgnOlxyXG4gICAgICAgICAgICBjYXNlICctd2Via2l0LWZsZXgnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEyOCAvKiBGTEVYICovO1xyXG4gICAgICAgICAgICBjYXNlICdncmlkJzpcclxuICAgICAgICAgICAgY2FzZSAnLW1zLWdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI1NiAvKiBHUklEICovO1xyXG4gICAgICAgICAgICBjYXNlICdydWJ5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MTIgLyogUlVCWSAqLztcclxuICAgICAgICAgICAgY2FzZSAnc3ViZ3JpZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTAyNCAvKiBTVUJHUklEICovO1xyXG4gICAgICAgICAgICBjYXNlICdsaXN0LWl0ZW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIwNDggLyogTElTVF9JVEVNICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1yb3ctZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDQwOTYgLyogVEFCTEVfUk9XX0dST1VQICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1oZWFkZXItZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDgxOTIgLyogVEFCTEVfSEVBREVSX0dST1VQICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1mb290ZXItZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2Mzg0IC8qIFRBQkxFX0ZPT1RFUl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtcm93JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzMjc2OCAvKiBUQUJMRV9ST1cgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNlbGwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY1NTM2IC8qIFRBQkxFX0NFTEwgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNvbHVtbi1ncm91cCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTMxMDcyIC8qIFRBQkxFX0NPTFVNTl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtY29sdW1uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyNjIxNDQgLyogVEFCTEVfQ09MVU1OICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1jYXB0aW9uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MjQyODggLyogVEFCTEVfQ0FQVElPTiAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS1iYXNlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMDQ4NTc2IC8qIFJVQllfQkFTRSAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS10ZXh0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMDk3MTUyIC8qIFJVQllfVEVYVCAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS1iYXNlLWNvbnRhaW5lcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNDE5NDMwNCAvKiBSVUJZX0JBU0VfQ09OVEFJTkVSICovO1xyXG4gICAgICAgICAgICBjYXNlICdydWJ5LXRleHQtY29udGFpbmVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA4Mzg4NjA4IC8qIFJVQllfVEVYVF9DT05UQUlORVIgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRzJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxNjc3NzIxNiAvKiBDT05URU5UUyAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWJsb2NrJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzMzU1NDQzMiAvKiBJTkxJTkVfQkxPQ0sgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS1saXN0LWl0ZW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY3MTA4ODY0IC8qIElOTElORV9MSVNUX0lURU0gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS10YWJsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTM0MjE3NzI4IC8qIElOTElORV9UQUJMRSAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWZsZXgnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NiAvKiBJTkxJTkVfRkxFWCAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDUzNjg3MDkxMiAvKiBJTkxJTkVfR1JJRCAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZMT0FUO1xyXG4gICAgKGZ1bmN0aW9uIChGTE9BVCkge1xyXG4gICAgICAgIEZMT0FUW0ZMT0FUW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJMRUZUXCJdID0gMV0gPSBcIkxFRlRcIjtcclxuICAgICAgICBGTE9BVFtGTE9BVFtcIlJJR0hUXCJdID0gMl0gPSBcIlJJR0hUXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJJTkxJTkVfU1RBUlRcIl0gPSAzXSA9IFwiSU5MSU5FX1NUQVJUXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJJTkxJTkVfRU5EXCJdID0gNF0gPSBcIklOTElORV9FTkRcIjtcclxuICAgIH0pKEZMT0FUIHx8IChGTE9BVCA9IHt9KSk7XHJcbiAgICB2YXIgZmxvYXQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2Zsb2F0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZmxvYXQpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChmbG9hdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULkxFRlQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULlJJR0hUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5saW5lLXN0YXJ0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuSU5MSU5FX1NUQVJUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5saW5lLWVuZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULklOTElORV9FTkQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEZMT0FULk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHtcclxuICAgICAgICBuYW1lOiAnbGV0dGVyLXNwYWNpbmcnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzAnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIHRva2VuLnZhbHVlID09PSAnbm9ybWFsJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTElORV9CUkVBSztcclxuICAgIChmdW5jdGlvbiAoTElORV9CUkVBSykge1xyXG4gICAgICAgIExJTkVfQlJFQUtbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIExJTkVfQlJFQUtbXCJTVFJJQ1RcIl0gPSBcInN0cmljdFwiO1xyXG4gICAgfSkoTElORV9CUkVBSyB8fCAoTElORV9CUkVBSyA9IHt9KSk7XHJcbiAgICB2YXIgbGluZUJyZWFrID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaW5lLWJyZWFrJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChsaW5lQnJlYWspIHtcclxuICAgICAgICAgICAgc3dpdGNoIChsaW5lQnJlYWspIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmljdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuU1RSSUNUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuTk9STUFMO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbGluZUhlaWdodCA9IHtcclxuICAgICAgICBuYW1lOiAnbGluZS1oZWlnaHQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UT0tFTl9WQUxVRVxyXG4gICAgfTtcclxuICAgIHZhciBjb21wdXRlTGluZUhlaWdodCA9IGZ1bmN0aW9uICh0b2tlbiwgZm9udFNpemUpIHtcclxuICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vcm1hbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEuMiAqIGZvbnRTaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb250U2l6ZSAqIHRva2VuLm51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QWJzb2x1dGVWYWx1ZSh0b2tlbiwgZm9udFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9udFNpemU7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBsaXN0U3R5bGVJbWFnZSA9IHtcclxuICAgICAgICBuYW1lOiAnbGlzdC1zdHlsZS1pbWFnZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGltYWdlLnBhcnNlKHRva2VuKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBMSVNUX1NUWUxFX1BPU0lUSU9OO1xyXG4gICAgKGZ1bmN0aW9uIChMSVNUX1NUWUxFX1BPU0lUSU9OKSB7XHJcbiAgICAgICAgTElTVF9TVFlMRV9QT1NJVElPTltMSVNUX1NUWUxFX1BPU0lUSU9OW1wiSU5TSURFXCJdID0gMF0gPSBcIklOU0lERVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfUE9TSVRJT05bTElTVF9TVFlMRV9QT1NJVElPTltcIk9VVFNJREVcIl0gPSAxXSA9IFwiT1VUU0lERVwiO1xyXG4gICAgfSkoTElTVF9TVFlMRV9QT1NJVElPTiB8fCAoTElTVF9TVFlMRV9QT1NJVElPTiA9IHt9KSk7XHJcbiAgICB2YXIgbGlzdFN0eWxlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ2xpc3Qtc3R5bGUtcG9zaXRpb24nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ291dHNpZGUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpbnNpZGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1BPU0lUSU9OLklOU0lERTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ291dHNpZGUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9QT1NJVElPTi5PVVRTSURFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTElTVF9TVFlMRV9UWVBFO1xyXG4gICAgKGZ1bmN0aW9uIChMSVNUX1NUWUxFX1RZUEUpIHtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiTk9ORVwiXSA9IC0xXSA9IFwiTk9ORVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDXCJdID0gMF0gPSBcIkRJU0NcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0lSQ0xFXCJdID0gMV0gPSBcIkNJUkNMRVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJTUVVBUkVcIl0gPSAyXSA9IFwiU1FVQVJFXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFQ0lNQUxcIl0gPSAzXSA9IFwiREVDSU1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDSktfREVDSU1BTFwiXSA9IDRdID0gXCJDSktfREVDSU1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJERUNJTUFMX0xFQURJTkdfWkVST1wiXSA9IDVdID0gXCJERUNJTUFMX0xFQURJTkdfWkVST1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9ST01BTlwiXSA9IDZdID0gXCJMT1dFUl9ST01BTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJVUFBFUl9ST01BTlwiXSA9IDddID0gXCJVUFBFUl9ST01BTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9HUkVFS1wiXSA9IDhdID0gXCJMT1dFUl9HUkVFS1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9BTFBIQVwiXSA9IDldID0gXCJMT1dFUl9BTFBIQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJVUFBFUl9BTFBIQVwiXSA9IDEwXSA9IFwiVVBQRVJfQUxQSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQVJBQklDX0lORElDXCJdID0gMTFdID0gXCJBUkFCSUNfSU5ESUNcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQVJNRU5JQU5cIl0gPSAxMl0gPSBcIkFSTUVOSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkJFTkdBTElcIl0gPSAxM10gPSBcIkJFTkdBTElcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0FNQk9ESUFOXCJdID0gMTRdID0gXCJDQU1CT0RJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0VBUlRITFlfQlJBTkNIXCJdID0gMTVdID0gXCJDSktfRUFSVEhMWV9CUkFOQ0hcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0hFQVZFTkxZX1NURU1cIl0gPSAxNl0gPSBcIkNKS19IRUFWRU5MWV9TVEVNXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkNKS19JREVPR1JBUEhJQ1wiXSA9IDE3XSA9IFwiQ0pLX0lERU9HUkFQSElDXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFVkFOQUdBUklcIl0gPSAxOF0gPSBcIkRFVkFOQUdBUklcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiRVRISU9QSUNfTlVNRVJJQ1wiXSA9IDE5XSA9IFwiRVRISU9QSUNfTlVNRVJJQ1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJHRU9SR0lBTlwiXSA9IDIwXSA9IFwiR0VPUkdJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiR1VKQVJBVElcIl0gPSAyMV0gPSBcIkdVSkFSQVRJXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkdVUk1VS0hJXCJdID0gMjJdID0gXCJHVVJNVUtISVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJIRUJSRVdcIl0gPSAyMl0gPSBcIkhFQlJFV1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJISVJBR0FOQVwiXSA9IDIzXSA9IFwiSElSQUdBTkFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiSElSQUdBTkFfSVJPSEFcIl0gPSAyNF0gPSBcIkhJUkFHQU5BX0lST0hBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkpBUEFORVNFX0ZPUk1BTFwiXSA9IDI1XSA9IFwiSkFQQU5FU0VfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkpBUEFORVNFX0lORk9STUFMXCJdID0gMjZdID0gXCJKQVBBTkVTRV9JTkZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLQU5OQURBXCJdID0gMjddID0gXCJLQU5OQURBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktBVEFLQU5BXCJdID0gMjhdID0gXCJLQVRBS0FOQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLQVRBS0FOQV9JUk9IQVwiXSA9IDI5XSA9IFwiS0FUQUtBTkFfSVJPSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiS0hNRVJcIl0gPSAzMF0gPSBcIktITUVSXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5HVUxfRk9STUFMXCJdID0gMzFdID0gXCJLT1JFQU5fSEFOR1VMX0ZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLT1JFQU5fSEFOSkFfRk9STUFMXCJdID0gMzJdID0gXCJLT1JFQU5fSEFOSkFfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5KQV9JTkZPUk1BTFwiXSA9IDMzXSA9IFwiS09SRUFOX0hBTkpBX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxBT1wiXSA9IDM0XSA9IFwiTEFPXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxPV0VSX0FSTUVOSUFOXCJdID0gMzVdID0gXCJMT1dFUl9BUk1FTklBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNQUxBWUFMQU1cIl0gPSAzNl0gPSBcIk1BTEFZQUxBTVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNT05HT0xJQU5cIl0gPSAzN10gPSBcIk1PTkdPTElBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNWUFOTUFSXCJdID0gMzhdID0gXCJNWUFOTUFSXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIk9SSVlBXCJdID0gMzldID0gXCJPUklZQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJQRVJTSUFOXCJdID0gNDBdID0gXCJQRVJTSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlNJTVBfQ0hJTkVTRV9GT1JNQUxcIl0gPSA0MV0gPSBcIlNJTVBfQ0hJTkVTRV9GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiU0lNUF9DSElORVNFX0lORk9STUFMXCJdID0gNDJdID0gXCJTSU1QX0NISU5FU0VfSU5GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVEFNSUxcIl0gPSA0M10gPSBcIlRBTUlMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRFTFVHVVwiXSA9IDQ0XSA9IFwiVEVMVUdVXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRIQUlcIl0gPSA0NV0gPSBcIlRIQUlcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVElCRVRBTlwiXSA9IDQ2XSA9IFwiVElCRVRBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJUUkFEX0NISU5FU0VfRk9STUFMXCJdID0gNDddID0gXCJUUkFEX0NISU5FU0VfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRSQURfQ0hJTkVTRV9JTkZPUk1BTFwiXSA9IDQ4XSA9IFwiVFJBRF9DSElORVNFX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlVQUEVSX0FSTUVOSUFOXCJdID0gNDldID0gXCJVUFBFUl9BUk1FTklBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDTE9TVVJFX09QRU5cIl0gPSA1MF0gPSBcIkRJU0NMT1NVUkVfT1BFTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDTE9TVVJFX0NMT1NFRFwiXSA9IDUxXSA9IFwiRElTQ0xPU1VSRV9DTE9TRURcIjtcclxuICAgIH0pKExJU1RfU1RZTEVfVFlQRSB8fCAoTElTVF9TVFlMRV9UWVBFID0ge30pKTtcclxuICAgIHZhciBsaXN0U3R5bGVUeXBlID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaXN0LXN0eWxlLXR5cGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGlzYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NxdWFyZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TUVVBUkU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkZWNpbWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstZGVjaW1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlY2ltYWwtbGVhZGluZy16ZXJvJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUxfTEVBRElOR19aRVJPO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItcm9tYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfUk9NQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1yb21hbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9ST01BTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xvd2VyLWdyZWVrJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkxPV0VSX0dSRUVLO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItYWxwaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1hbHBoYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BTFBIQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FyYWJpYy1pbmRpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUkFCSUNfSU5ESUM7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JlbmdhbGknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQkVOR0FMSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhbWJvZGlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DQU1CT0RJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstZWFydGhseS1icmFuY2gnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0VBUlRITFlfQlJBTkNIO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2prLWhlYXZlbmx5LXN0ZW0nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0hFQVZFTkxZX1NURU07XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstaWRlb2dyYXBoaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGV2YW5hZ2FyaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ERVZBTkFHQVJJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXRoaW9waWMtbnVtZXJpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5FVEhJT1BJQ19OVU1FUklDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VvcmdpYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuR0VPUkdJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdndWphcmF0aSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HVUpBUkFUSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d1cm11a2hpJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkdVUk1VS0hJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGVicmV3JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhFQlJFVztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hpcmFnYW5hJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGlyYWdhbmEtaXJvaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSElSQUdBTkFfSVJPSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqYXBhbmVzZS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnamFwYW5lc2UtaW5mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrYW5uYWRhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBTk5BREE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrYXRha2FuYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2thdGFrYW5hLWlyb2hhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAna2htZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0hNRVI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrb3JlYW4taGFuZ3VsLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOR1VMX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5qYS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5qYS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsYW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTEFPO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItYXJtZW5pYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtYWxheWFsYW0nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTUFMQVlBTEFNO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9uZ29saWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk1PTkdPTElBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ215YW5tYXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTVlBTk1BUjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ29yaXlhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk9SSVlBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGVyc2lhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5QRVJTSUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcC1jaGluZXNlLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcC1jaGluZXNlLWluZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9JTkZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhbWlsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRBTUlMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGVsdWd1JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRFTFVHVTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RoYWknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEhBSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RpYmV0YW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVElCRVRBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWQtY2hpbmVzZS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWQtY2hpbmVzZS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1hcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nsb3N1cmUtb3Blbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX09QRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjbG9zdXJlLWNsb3NlZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX0NMT1NFRDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk5PTkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBtYXJnaW5Gb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgbmFtZTogXCJtYXJnaW4tXCIgKyBzaWRlLFxyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUVcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgbWFyZ2luVG9wID0gbWFyZ2luRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgbWFyZ2luUmlnaHQgPSBtYXJnaW5Gb3JTaWRlKCdyaWdodCcpO1xyXG4gICAgdmFyIG1hcmdpbkJvdHRvbSA9IG1hcmdpbkZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBtYXJnaW5Gb3JTaWRlKCdsZWZ0Jyk7XHJcblxyXG4gICAgdmFyIE9WRVJGTE9XO1xyXG4gICAgKGZ1bmN0aW9uIChPVkVSRkxPVykge1xyXG4gICAgICAgIE9WRVJGTE9XW09WRVJGTE9XW1wiVklTSUJMRVwiXSA9IDBdID0gXCJWSVNJQkxFXCI7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJISURERU5cIl0gPSAxXSA9IFwiSElEREVOXCI7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJTQ1JPTExcIl0gPSAyXSA9IFwiU0NST0xMXCI7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJBVVRPXCJdID0gM10gPSBcIkFVVE9cIjtcclxuICAgIH0pKE9WRVJGTE9XIHx8IChPVkVSRkxPVyA9IHt9KSk7XHJcbiAgICB2YXIgb3ZlcmZsb3cgPSB7XHJcbiAgICAgICAgbmFtZTogJ292ZXJmbG93JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICd2aXNpYmxlJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoaXNJZGVudFRva2VuKS5tYXAoZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG92ZXJmbG93LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGlkZGVuJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLkhJRERFTjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzY3JvbGwnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuU0NST0xMO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuQVVUTztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd2aXNpYmxlJzpcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuVklTSUJMRTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgT1ZFUkZMT1dfV1JBUDtcclxuICAgIChmdW5jdGlvbiAoT1ZFUkZMT1dfV1JBUCkge1xyXG4gICAgICAgIE9WRVJGTE9XX1dSQVBbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIE9WRVJGTE9XX1dSQVBbXCJCUkVBS19XT1JEXCJdID0gXCJicmVhay13b3JkXCI7XHJcbiAgICB9KShPVkVSRkxPV19XUkFQIHx8IChPVkVSRkxPV19XUkFQID0ge30pKTtcclxuICAgIHZhciBvdmVyZmxvd1dyYXAgPSB7XHJcbiAgICAgICAgbmFtZTogJ292ZXJmbG93LXdyYXAnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JyZWFrLXdvcmQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPV19XUkFQLkJSRUFLX1dPUkQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1dfV1JBUC5OT1JNQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwYWRkaW5nRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgIG5hbWU6IFwicGFkZGluZy1cIiArIHNpZGUsXHJcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogJzAnLFxyXG4gICAgICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgICAgICBmb3JtYXQ6ICdsZW5ndGgtcGVyY2VudGFnZSdcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgcGFkZGluZ1RvcCA9IHBhZGRpbmdGb3JTaWRlKCd0b3AnKTtcclxuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBwYWRkaW5nRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBwYWRkaW5nQm90dG9tID0gcGFkZGluZ0ZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFkZGluZ0ZvclNpZGUoJ2xlZnQnKTtcclxuXHJcbiAgICB2YXIgVEVYVF9BTElHTjtcclxuICAgIChmdW5jdGlvbiAoVEVYVF9BTElHTikge1xyXG4gICAgICAgIFRFWFRfQUxJR05bVEVYVF9BTElHTltcIkxFRlRcIl0gPSAwXSA9IFwiTEVGVFwiO1xyXG4gICAgICAgIFRFWFRfQUxJR05bVEVYVF9BTElHTltcIkNFTlRFUlwiXSA9IDFdID0gXCJDRU5URVJcIjtcclxuICAgICAgICBURVhUX0FMSUdOW1RFWFRfQUxJR05bXCJSSUdIVFwiXSA9IDJdID0gXCJSSUdIVFwiO1xyXG4gICAgfSkoVEVYVF9BTElHTiB8fCAoVEVYVF9BTElHTiA9IHt9KSk7XHJcbiAgICB2YXIgdGV4dEFsaWduID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXh0LWFsaWduJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdsZWZ0JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfQUxJR04uUklHSFQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnanVzdGlmeSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfQUxJR04uQ0VOVEVSO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX0FMSUdOLkxFRlQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBQT1NJVElPTjtcclxuICAgIChmdW5jdGlvbiAoUE9TSVRJT04pIHtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlNUQVRJQ1wiXSA9IDBdID0gXCJTVEFUSUNcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlJFTEFUSVZFXCJdID0gMV0gPSBcIlJFTEFUSVZFXCI7XHJcbiAgICAgICAgUE9TSVRJT05bUE9TSVRJT05bXCJBQlNPTFVURVwiXSA9IDJdID0gXCJBQlNPTFVURVwiO1xyXG4gICAgICAgIFBPU0lUSU9OW1BPU0lUSU9OW1wiRklYRURcIl0gPSAzXSA9IFwiRklYRURcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlNUSUNLWVwiXSA9IDRdID0gXCJTVElDS1lcIjtcclxuICAgIH0pKFBPU0lUSU9OIHx8IChQT1NJVElPTiA9IHt9KSk7XHJcbiAgICB2YXIgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdzdGF0aWMnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyZWxhdGl2ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlJFTEFUSVZFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWJzb2x1dGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5BQlNPTFVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpeGVkJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uRklYRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzdGlja3knOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5TVElDS1k7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlNUQVRJQztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXh0U2hhZG93ID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXh0LXNoYWRvdycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAxICYmIGlzSWRlbnRXaXRoVmFsdWUodG9rZW5zWzBdLCAnbm9uZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGFkb3cgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENPTE9SUy5UUkFOU1BBUkVOVCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRYOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBibHVyOiBaRVJPX0xFTkdUSFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0xlbmd0aCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5vZmZzZXRYID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFkgPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRFWFRfVFJBTlNGT1JNO1xyXG4gICAgKGZ1bmN0aW9uIChURVhUX1RSQU5TRk9STSkge1xyXG4gICAgICAgIFRFWFRfVFJBTlNGT1JNW1RFWFRfVFJBTlNGT1JNW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJMT1dFUkNBU0VcIl0gPSAxXSA9IFwiTE9XRVJDQVNFXCI7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJVUFBFUkNBU0VcIl0gPSAyXSA9IFwiVVBQRVJDQVNFXCI7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJDQVBJVEFMSVpFXCJdID0gM10gPSBcIkNBUElUQUxJWkVcIjtcclxuICAgIH0pKFRFWFRfVFJBTlNGT1JNIHx8IChURVhUX1RSQU5TRk9STSA9IHt9KSk7XHJcbiAgICB2YXIgdGV4dFRyYW5zZm9ybSA9IHtcclxuICAgICAgICBuYW1lOiAndGV4dC10cmFuc2Zvcm0nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0ZXh0VHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGV4dFRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndXBwZXJjYXNlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uVVBQRVJDQVNFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXJjYXNlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2FwaXRhbGl6ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLkNBUElUQUxJWkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdHJhbnNmb3JtID0ge1xyXG4gICAgICAgIG5hbWU6ICd0cmFuc2Zvcm0nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmN0aW9uID0gU1VQUE9SVEVEX1RSQU5TRk9STV9GVU5DVElPTlNbdG9rZW4ubmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgdHJhbnNmb3JtIGZ1bmN0aW9uIFxcXCJcIiArIHRva2VuLm5hbWUgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRnVuY3Rpb24odG9rZW4udmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIG1hdHJpeCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9KS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLm51bWJlcjsgfSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPT09IDYgPyB2YWx1ZXMgOiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8vIGRvZXNuJ3Qgc3VwcG9ydCAzRCB0cmFuc2Zvcm1zIGF0IHRoZSBtb21lbnRcclxuICAgIHZhciBtYXRyaXgzZCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9KS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLm51bWJlcjsgfSk7XHJcbiAgICAgICAgdmFyIGExID0gdmFsdWVzWzBdLCBiMSA9IHZhbHVlc1sxXSwgX2EgPSB2YWx1ZXNbMl0sIF9iID0gdmFsdWVzWzNdLCBhMiA9IHZhbHVlc1s0XSwgYjIgPSB2YWx1ZXNbNV0sIF9jID0gdmFsdWVzWzZdLCBfZCA9IHZhbHVlc1s3XSwgX2UgPSB2YWx1ZXNbOF0sIF9mID0gdmFsdWVzWzldLCBfZyA9IHZhbHVlc1sxMF0sIF9oID0gdmFsdWVzWzExXSwgYTQgPSB2YWx1ZXNbMTJdLCBiNCA9IHZhbHVlc1sxM10sIF9qID0gdmFsdWVzWzE0XSwgX2sgPSB2YWx1ZXNbMTVdO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID09PSAxNiA/IFthMSwgYjEsIGEyLCBiMiwgYTQsIGI0XSA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgdmFyIFNVUFBPUlRFRF9UUkFOU0ZPUk1fRlVOQ1RJT05TID0ge1xyXG4gICAgICAgIG1hdHJpeDogbWF0cml4LFxyXG4gICAgICAgIG1hdHJpeDNkOiBtYXRyaXgzZFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgREVGQVVMVF9WQUxVRSA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDUwLFxyXG4gICAgICAgIGZsYWdzOiBGTEFHX0lOVEVHRVJcclxuICAgIH07XHJcbiAgICB2YXIgREVGQVVMVCA9IFtERUZBVUxUX1ZBTFVFLCBERUZBVUxUX1ZBTFVFXTtcclxuICAgIHZhciB0cmFuc2Zvcm1PcmlnaW4gPSB7XHJcbiAgICAgICAgbmFtZTogJ3RyYW5zZm9ybS1vcmlnaW4nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzUwJSA1MCUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHZhciBvcmlnaW5zID0gdG9rZW5zLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2lucy5sZW5ndGggIT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBERUZBVUxUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbb3JpZ2luc1swXSwgb3JpZ2luc1sxXV07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVklTSUJJTElUWTtcclxuICAgIChmdW5jdGlvbiAoVklTSUJJTElUWSkge1xyXG4gICAgICAgIFZJU0lCSUxJVFlbVklTSUJJTElUWVtcIlZJU0lCTEVcIl0gPSAwXSA9IFwiVklTSUJMRVwiO1xyXG4gICAgICAgIFZJU0lCSUxJVFlbVklTSUJJTElUWVtcIkhJRERFTlwiXSA9IDFdID0gXCJISURERU5cIjtcclxuICAgICAgICBWSVNJQklMSVRZW1ZJU0lCSUxJVFlbXCJDT0xMQVBTRVwiXSA9IDJdID0gXCJDT0xMQVBTRVwiO1xyXG4gICAgfSkoVklTSUJJTElUWSB8fCAoVklTSUJJTElUWSA9IHt9KSk7XHJcbiAgICB2YXIgdmlzaWJpbGl0eSA9IHtcclxuICAgICAgICBuYW1lOiAndmlzaWJsZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHZpc2liaWxpdHkpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh2aXNpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoaWRkZW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWSVNJQklMSVRZLkhJRERFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbGxhcHNlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5DT0xMQVBTRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3Zpc2libGUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5WSVNJQkxFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgV09SRF9CUkVBSztcclxuICAgIChmdW5jdGlvbiAoV09SRF9CUkVBSykge1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJCUkVBS19BTExcIl0gPSBcImJyZWFrLWFsbFwiO1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJLRUVQX0FMTFwiXSA9IFwia2VlcC1hbGxcIjtcclxuICAgIH0pKFdPUkRfQlJFQUsgfHwgKFdPUkRfQlJFQUsgPSB7fSkpO1xyXG4gICAgdmFyIHdvcmRCcmVhayA9IHtcclxuICAgICAgICBuYW1lOiAnd29yZC1icmVhaycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAod29yZEJyZWFrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAod29yZEJyZWFrKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdicmVhay1hbGwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLkJSRUFLX0FMTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tlZXAtYWxsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV09SRF9CUkVBSy5LRUVQX0FMTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHpJbmRleCA9IHtcclxuICAgICAgICBuYW1lOiAnei1pbmRleCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYXV0bycsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGF1dG86IHRydWUsIG9yZGVyOiAwIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBhdXRvOiBmYWxzZSwgb3JkZXI6IHRva2VuLm51bWJlciB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgei1pbmRleCBudW1iZXIgcGFyc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9wYWNpdHkgPSB7XHJcbiAgICAgICAgbmFtZTogJ29wYWNpdHknLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzEnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdGV4dERlY29yYXRpb25Db2xvciA9IHtcclxuICAgICAgICBuYW1lOiBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXh0RGVjb3JhdGlvbkxpbmUgPSB7XHJcbiAgICAgICAgbmFtZTogJ3RleHQtZGVjb3JhdGlvbi1saW5lJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vuc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5kZXJsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFVOREVSTElORSAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3ZlcmxpbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogT1ZFUkxJTkUgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUtdGhyb3VnaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMyAvKiBMSU5FX1RIUk9VR0ggKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQgLyogQkxJTksgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIE5PTkUgKi87XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobGluZSkgeyByZXR1cm4gbGluZSAhPT0gMCAvKiBOT05FICovOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmb250RmFtaWx5ID0ge1xyXG4gICAgICAgIG5hbWU6IFwiZm9udC1mYW1pbHlcIixcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc1N0cmluZ1Rva2VuJDEpLm1hcChmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnZhbHVlOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzU3RyaW5nVG9rZW4kMSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuU1RSSU5HX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTjtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZvbnRTaXplID0ge1xyXG4gICAgICAgIG5hbWU6IFwiZm9udC1zaXplXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2xlbmd0aCdcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZvbnRXZWlnaHQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtd2VpZ2h0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdib2xkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcwMDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA0MDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDQwMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmb250VmFyaWFudCA9IHtcclxuICAgICAgICBuYW1lOiAnZm9udC12YXJpYW50JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoaXNJZGVudFRva2VuKS5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi52YWx1ZTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgRk9OVF9TVFlMRTtcclxuICAgIChmdW5jdGlvbiAoRk9OVF9TVFlMRSkge1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJJVEFMSUNcIl0gPSBcIml0YWxpY1wiO1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJPQkxJUVVFXCJdID0gXCJvYmxpcXVlXCI7XHJcbiAgICB9KShGT05UX1NUWUxFIHx8IChGT05UX1NUWUxFID0ge30pKTtcclxuICAgIHZhciBmb250U3R5bGUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtc3R5bGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ29ibGlxdWUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLk9CTElRVUU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpdGFsaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLklUQUxJQztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gKGJpdCwgdmFsdWUpIHsgcmV0dXJuIChiaXQgJiB2YWx1ZSkgIT09IDA7IH07XHJcblxyXG4gICAgdmFyIGNvbnRlbnQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2NvbnRlbnQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjb3VudGVySW5jcmVtZW50ID0ge1xyXG4gICAgICAgIG5hbWU6ICdjb3VudGVyLWluY3JlbWVudCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0b2tlbnMuZmlsdGVyKG5vbldoaXRlU3BhY2UpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcmVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGZpbHRlcmVkW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBmaWx0ZXJlZFtpICsgMV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlci50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gbmV4dCAmJiBpc051bWJlclRva2VuKG5leHQpID8gbmV4dC5udW1iZXIgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudHMucHVzaCh7IGNvdW50ZXI6IGNvdW50ZXIudmFsdWUsIGluY3JlbWVudDogaW5jcmVtZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbmNyZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNvdW50ZXJSZXNldCA9IHtcclxuICAgICAgICBuYW1lOiAnY291bnRlci1yZXNldCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzZXRzID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHRva2Vucy5maWx0ZXIobm9uV2hpdGVTcGFjZSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gZmlsdGVyZWRbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZpbHRlcmVkW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4oY291bnRlcikgJiYgY291bnRlci52YWx1ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2V0ID0gbmV4dCAmJiBpc051bWJlclRva2VuKG5leHQpID8gbmV4dC5udW1iZXIgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0cy5wdXNoKHsgY291bnRlcjogY291bnRlci52YWx1ZSwgcmVzZXQ6IHJlc2V0IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXNldHM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcXVvdGVzID0ge1xyXG4gICAgICAgIG5hbWU6ICdxdW90ZXMnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHF1b3RlcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0b2tlbnMuZmlsdGVyKGlzU3RyaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoICUgMiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wZW5fMSA9IGZpbHRlcmVkW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb3NlXzEgPSBmaWx0ZXJlZFtpICsgMV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICBxdW90ZXMucHVzaCh7IG9wZW46IG9wZW5fMSwgY2xvc2U6IGNsb3NlXzEgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHF1b3RlcztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFF1b3RlID0gZnVuY3Rpb24gKHF1b3RlcywgZGVwdGgsIG9wZW4pIHtcclxuICAgICAgICBpZiAoIXF1b3Rlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBxdW90ZSA9IHF1b3Rlc1tNYXRoLm1pbihkZXB0aCwgcXVvdGVzLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICBpZiAoIXF1b3RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wZW4gPyBxdW90ZS5vcGVuIDogcXVvdGUuY2xvc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBib3hTaGFkb3cgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JveC1zaGFkb3cnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMSAmJiBpc0lkZW50V2l0aFZhbHVlKHRva2Vuc1swXSwgJ25vbmUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2hhZG93ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMGZmLFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIGJsdXI6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcmVhZDogWkVST19MRU5HVEgsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB2YWx1ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRXaXRoVmFsdWUodG9rZW4sICdpbnNldCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5pbnNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFggPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cub2Zmc2V0WSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuc3ByZWFkID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENTU1BhcnNlZERlY2xhcmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENTU1BhcnNlZERlY2xhcmF0aW9uKGRlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZENsaXAgPSBwYXJzZShiYWNrZ3JvdW5kQ2xpcCwgZGVjbGFyYXRpb24uYmFja2dyb3VuZENsaXApO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IHBhcnNlKGJhY2tncm91bmRDb2xvciwgZGVjbGFyYXRpb24uYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UgPSBwYXJzZShiYWNrZ3JvdW5kSW1hZ2UsIGRlY2xhcmF0aW9uLmJhY2tncm91bmRJbWFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZE9yaWdpbiA9IHBhcnNlKGJhY2tncm91bmRPcmlnaW4sIGRlY2xhcmF0aW9uLmJhY2tncm91bmRPcmlnaW4pO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbiA9IHBhcnNlKGJhY2tncm91bmRQb3NpdGlvbiwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUmVwZWF0ID0gcGFyc2UoYmFja2dyb3VuZFJlcGVhdCwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFJlcGVhdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFNpemUgPSBwYXJzZShiYWNrZ3JvdW5kU2l6ZSwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcENvbG9yID0gcGFyc2UoYm9yZGVyVG9wQ29sb3IsIGRlY2xhcmF0aW9uLmJvcmRlclRvcENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJSaWdodENvbG9yID0gcGFyc2UoYm9yZGVyUmlnaHRDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyUmlnaHRDb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tQ29sb3IgPSBwYXJzZShib3JkZXJCb3R0b21Db2xvciwgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckxlZnRDb2xvciA9IHBhcnNlKGJvcmRlckxlZnRDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyTGVmdENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJUb3BMZWZ0UmFkaXVzID0gcGFyc2UoYm9yZGVyVG9wTGVmdFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyVG9wTGVmdFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBwYXJzZShib3JkZXJUb3BSaWdodFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyVG9wUmlnaHRSYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gcGFyc2UoYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsIGRlY2xhcmF0aW9uLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gcGFyc2UoYm9yZGVyQm90dG9tTGVmdFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tTGVmdFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wU3R5bGUgPSBwYXJzZShib3JkZXJUb3BTdHlsZSwgZGVjbGFyYXRpb24uYm9yZGVyVG9wU3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclJpZ2h0U3R5bGUgPSBwYXJzZShib3JkZXJSaWdodFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodFN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21TdHlsZSA9IHBhcnNlKGJvcmRlckJvdHRvbVN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21TdHlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyTGVmdFN0eWxlID0gcGFyc2UoYm9yZGVyTGVmdFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0U3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcFdpZHRoID0gcGFyc2UoYm9yZGVyVG9wV2lkdGgsIGRlY2xhcmF0aW9uLmJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJSaWdodFdpZHRoID0gcGFyc2UoYm9yZGVyUmlnaHRXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tV2lkdGggPSBwYXJzZShib3JkZXJCb3R0b21XaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckxlZnRXaWR0aCA9IHBhcnNlKGJvcmRlckxlZnRXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyTGVmdFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3hTaGFkb3cgPSBwYXJzZShib3hTaGFkb3csIGRlY2xhcmF0aW9uLmJveFNoYWRvdyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBwYXJzZShjb2xvciQxLCBkZWNsYXJhdGlvbi5jb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9IHBhcnNlKGRpc3BsYXksIGRlY2xhcmF0aW9uLmRpc3BsYXkpO1xyXG4gICAgICAgICAgICB0aGlzLmZsb2F0ID0gcGFyc2UoZmxvYXQsIGRlY2xhcmF0aW9uLmNzc0Zsb2F0KTtcclxuICAgICAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gcGFyc2UoZm9udEZhbWlseSwgZGVjbGFyYXRpb24uZm9udEZhbWlseSk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFNpemUgPSBwYXJzZShmb250U2l6ZSwgZGVjbGFyYXRpb24uZm9udFNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLmZvbnRTdHlsZSA9IHBhcnNlKGZvbnRTdHlsZSwgZGVjbGFyYXRpb24uZm9udFN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5mb250VmFyaWFudCA9IHBhcnNlKGZvbnRWYXJpYW50LCBkZWNsYXJhdGlvbi5mb250VmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFdlaWdodCA9IHBhcnNlKGZvbnRXZWlnaHQsIGRlY2xhcmF0aW9uLmZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmxldHRlclNwYWNpbmcgPSBwYXJzZShsZXR0ZXJTcGFjaW5nLCBkZWNsYXJhdGlvbi5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsgPSBwYXJzZShsaW5lQnJlYWssIGRlY2xhcmF0aW9uLmxpbmVCcmVhayk7XHJcbiAgICAgICAgICAgIHRoaXMubGluZUhlaWdodCA9IHBhcnNlKGxpbmVIZWlnaHQsIGRlY2xhcmF0aW9uLmxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZUltYWdlID0gcGFyc2UobGlzdFN0eWxlSW1hZ2UsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZUltYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0U3R5bGVQb3NpdGlvbiA9IHBhcnNlKGxpc3RTdHlsZVBvc2l0aW9uLCBkZWNsYXJhdGlvbi5saXN0U3R5bGVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdFN0eWxlVHlwZSA9IHBhcnNlKGxpc3RTdHlsZVR5cGUsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZVR5cGUpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpblRvcCA9IHBhcnNlKG1hcmdpblRvcCwgZGVjbGFyYXRpb24ubWFyZ2luVG9wKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJnaW5SaWdodCA9IHBhcnNlKG1hcmdpblJpZ2h0LCBkZWNsYXJhdGlvbi5tYXJnaW5SaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFyZ2luQm90dG9tID0gcGFyc2UobWFyZ2luQm90dG9tLCBkZWNsYXJhdGlvbi5tYXJnaW5Cb3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpbkxlZnQgPSBwYXJzZShtYXJnaW5MZWZ0LCBkZWNsYXJhdGlvbi5tYXJnaW5MZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gcGFyc2Uob3BhY2l0eSwgZGVjbGFyYXRpb24ub3BhY2l0eSk7XHJcbiAgICAgICAgICAgIHZhciBvdmVyZmxvd1R1cGxlID0gcGFyc2Uob3ZlcmZsb3csIGRlY2xhcmF0aW9uLm92ZXJmbG93KTtcclxuICAgICAgICAgICAgdGhpcy5vdmVyZmxvd1ggPSBvdmVyZmxvd1R1cGxlWzBdO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93WSA9IG92ZXJmbG93VHVwbGVbb3ZlcmZsb3dUdXBsZS5sZW5ndGggPiAxID8gMSA6IDBdO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93V3JhcCA9IHBhcnNlKG92ZXJmbG93V3JhcCwgZGVjbGFyYXRpb24ub3ZlcmZsb3dXcmFwKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nVG9wID0gcGFyc2UocGFkZGluZ1RvcCwgZGVjbGFyYXRpb24ucGFkZGluZ1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1JpZ2h0ID0gcGFyc2UocGFkZGluZ1JpZ2h0LCBkZWNsYXJhdGlvbi5wYWRkaW5nUmlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYXJzZShwYWRkaW5nQm90dG9tLCBkZWNsYXJhdGlvbi5wYWRkaW5nQm90dG9tKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nTGVmdCA9IHBhcnNlKHBhZGRpbmdMZWZ0LCBkZWNsYXJhdGlvbi5wYWRkaW5nTGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwYXJzZShwb3NpdGlvbiwgZGVjbGFyYXRpb24ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRBbGlnbiA9IHBhcnNlKHRleHRBbGlnbiwgZGVjbGFyYXRpb24udGV4dEFsaWduKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0RGVjb3JhdGlvbkNvbG9yID0gcGFyc2UodGV4dERlY29yYXRpb25Db2xvciwgZGVjbGFyYXRpb24udGV4dERlY29yYXRpb25Db2xvciB8fCBkZWNsYXJhdGlvbi5jb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dERlY29yYXRpb25MaW5lID0gcGFyc2UodGV4dERlY29yYXRpb25MaW5lLCBkZWNsYXJhdGlvbi50ZXh0RGVjb3JhdGlvbkxpbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRTaGFkb3cgPSBwYXJzZSh0ZXh0U2hhZG93LCBkZWNsYXJhdGlvbi50ZXh0U2hhZG93KTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0VHJhbnNmb3JtID0gcGFyc2UodGV4dFRyYW5zZm9ybSwgZGVjbGFyYXRpb24udGV4dFRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gcGFyc2UodHJhbnNmb3JtLCBkZWNsYXJhdGlvbi50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU9yaWdpbiA9IHBhcnNlKHRyYW5zZm9ybU9yaWdpbiwgZGVjbGFyYXRpb24udHJhbnNmb3JtT3JpZ2luKTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gcGFyc2UodmlzaWJpbGl0eSwgZGVjbGFyYXRpb24udmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIHRoaXMud29yZEJyZWFrID0gcGFyc2Uod29yZEJyZWFrLCBkZWNsYXJhdGlvbi53b3JkQnJlYWspO1xyXG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IHBhcnNlKHpJbmRleCwgZGVjbGFyYXRpb24uekluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheSA+IDAgJiYgdGhpcy5vcGFjaXR5ID4gMCAmJiB0aGlzLnZpc2liaWxpdHkgPT09IFZJU0lCSUxJVFkuVklTSUJMRTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc3BhcmVudCh0aGlzLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDU1NQYXJzZWREZWNsYXJhdGlvbi5wcm90b3R5cGUuaXNUcmFuc2Zvcm1lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtICE9PSBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzUG9zaXRpb25lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24gIT09IFBPU0lUSU9OLlNUQVRJQztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1Bvc2l0aW9uZWRXaXRoWkluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uZWQoKSAmJiAhdGhpcy56SW5kZXguYXV0bztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc0Zsb2F0aW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mbG9hdCAhPT0gRkxPQVQuTk9ORTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc0lubGluZUxldmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgNCAvKiBJTkxJTkUgKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDMzNTU0NDMyIC8qIElOTElORV9CTE9DSyAqLykgfHxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgMjY4NDM1NDU2IC8qIElOTElORV9GTEVYICovKSB8fFxyXG4gICAgICAgICAgICAgICAgY29udGFpbnModGhpcy5kaXNwbGF5LCA1MzY4NzA5MTIgLyogSU5MSU5FX0dSSUQgKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDY3MTA4ODY0IC8qIElOTElORV9MSVNUX0lURU0gKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDEzNDIxNzcyOCAvKiBJTkxJTkVfVEFCTEUgKi8pKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDU1NQYXJzZWREZWNsYXJhdGlvbjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcGFyc2UoY29udGVudCwgZGVjbGFyYXRpb24uY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMucXVvdGVzID0gcGFyc2UocXVvdGVzLCBkZWNsYXJhdGlvbi5xdW90ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb247XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVySW5jcmVtZW50ID0gcGFyc2UoY291bnRlckluY3JlbWVudCwgZGVjbGFyYXRpb24uY291bnRlckluY3JlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuY291bnRlclJlc2V0ID0gcGFyc2UoY291bnRlclJlc2V0LCBkZWNsYXJhdGlvbi5jb3VudGVyUmVzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uO1xyXG4gICAgfSgpKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbiAoZGVzY3JpcHRvciwgc3R5bGUpIHtcclxuICAgICAgICB2YXIgdG9rZW5pemVyID0gbmV3IFRva2VuaXplcigpO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlICE9PSBudWxsICYmIHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcgPyBzdHlsZS50b1N0cmluZygpIDogZGVzY3JpcHRvci5pbml0aWFsVmFsdWU7XHJcbiAgICAgICAgdG9rZW5pemVyLndyaXRlKHZhbHVlKTtcclxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcih0b2tlbml6ZXIucmVhZCgpKTtcclxuICAgICAgICBzd2l0Y2ggKGRlc2NyaXB0b3IudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKGlzSWRlbnRUb2tlbih0b2tlbikgPyB0b2tlbi52YWx1ZSA6IGRlc2NyaXB0b3IuaW5pdGlhbFZhbHVlKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5wYXJzZShwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZXNjcmlwdG9yLmZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FuZ2xlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ2xlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xlbmd0aChsZW5ndGhfMSkgPyBsZW5ndGhfMSA6IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aC1wZXJjZW50YWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlXzEgPSBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNMZW5ndGhQZXJjZW50YWdlKHZhbHVlXzEpID8gdmFsdWVfMSA6IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIHVuc3VwcG9ydGVkIGNzcyBmb3JtYXQgdHlwZSBcIiArIGRlc2NyaXB0b3IuZm9ybWF0KTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzID0gbmV3IENTU1BhcnNlZERlY2xhcmF0aW9uKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Tm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZXMudHJhbnNmb3JtICE9PSBudWxsICYmIGlzSFRNTEVsZW1lbnROb2RlKGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgdGFrZXMgdHJhbnNmb3JtcyBpbnRvIGFjY291bnRcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzID0gcGFyc2VCb3VuZHMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIFRleHRCb3VuZHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dEJvdW5kcyh0ZXh0LCBib3VuZHMpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUZXh0Qm91bmRzO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBwYXJzZVRleHRCb3VuZHMgPSBmdW5jdGlvbiAodmFsdWUsIHN0eWxlcywgbm9kZSkge1xyXG4gICAgICAgIHZhciB0ZXh0TGlzdCA9IGJyZWFrVGV4dCh2YWx1ZSwgc3R5bGVzKTtcclxuICAgICAgICB2YXIgdGV4dEJvdW5kcyA9IFtdO1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xyXG4gICAgICAgIHRleHRMaXN0LmZvckVhY2goZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkxpbmUubGVuZ3RoIHx8IHRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChGRUFUVVJFUy5TVVBQT1JUX1JBTkdFX0JPVU5EUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCb3VuZHMucHVzaChuZXcgVGV4dEJvdW5kcyh0ZXh0LCBnZXRSYW5nZUJvdW5kcyhub2RlLCBvZmZzZXQsIHRleHQubGVuZ3RoKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VtZW50Tm9kZSA9IG5vZGUuc3BsaXRUZXh0KHRleHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Qm91bmRzLnB1c2gobmV3IFRleHRCb3VuZHModGV4dCwgZ2V0V3JhcHBlckJvdW5kcyhub2RlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSByZXBsYWNlbWVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIUZFQVRVUkVTLlNVUFBPUlRfUkFOR0VfQk9VTkRTKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5zcGxpdFRleHQodGV4dC5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGV4dEJvdW5kcztcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0V3JhcHBlckJvdW5kcyA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzd3JhcHBlcicpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBwYXJzZUJvdW5kcyh3cmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIGlmICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQsIHdyYXBwZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEJvdW5kcygwLCAwLCAwLCAwKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmFuZ2VCb3VuZHMgPSBmdW5jdGlvbiAobm9kZSwgb2Zmc2V0LCBsZW5ndGgpIHtcclxuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudDtcclxuICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIGhhcyBubyBvd25lciBkb2N1bWVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmFuZ2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgb2Zmc2V0KTtcclxuICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0ICsgbGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gQm91bmRzLmZyb21DbGllbnRSZWN0KHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgIH07XHJcbiAgICB2YXIgYnJlYWtUZXh0ID0gZnVuY3Rpb24gKHZhbHVlLCBzdHlsZXMpIHtcclxuICAgICAgICByZXR1cm4gc3R5bGVzLmxldHRlclNwYWNpbmcgIT09IDAgPyB0b0NvZGVQb2ludHModmFsdWUpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gZnJvbUNvZGVQb2ludChpKTsgfSkgOiBicmVha1dvcmRzKHZhbHVlLCBzdHlsZXMpO1xyXG4gICAgfTtcclxuICAgIHZhciBicmVha1dvcmRzID0gZnVuY3Rpb24gKHN0ciwgc3R5bGVzKSB7XHJcbiAgICAgICAgdmFyIGJyZWFrZXIgPSBMaW5lQnJlYWtlcihzdHIsIHtcclxuICAgICAgICAgICAgbGluZUJyZWFrOiBzdHlsZXMubGluZUJyZWFrLFxyXG4gICAgICAgICAgICB3b3JkQnJlYWs6IHN0eWxlcy5vdmVyZmxvd1dyYXAgPT09IE9WRVJGTE9XX1dSQVAuQlJFQUtfV09SRCA/ICdicmVhay13b3JkJyA6IHN0eWxlcy53b3JkQnJlYWtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgd29yZHMgPSBbXTtcclxuICAgICAgICB2YXIgYms7XHJcbiAgICAgICAgd2hpbGUgKCEoYmsgPSBicmVha2VyLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYmsudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goYmsudmFsdWUuc2xpY2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVGV4dENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUZXh0Q29udGFpbmVyKG5vZGUsIHN0eWxlcykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0cmFuc2Zvcm0kMShub2RlLmRhdGEsIHN0eWxlcy50ZXh0VHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Qm91bmRzID0gcGFyc2VUZXh0Qm91bmRzKHRoaXMudGV4dCwgc3R5bGVzLCBub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFRleHRDb250YWluZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHRyYW5zZm9ybSQxID0gZnVuY3Rpb24gKHRleHQsIHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHN3aXRjaCAodHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5DQVBJVEFMSVpFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShDQVBJVEFMSVpFLCBjYXBpdGFsaXplKTtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5VUFBFUkNBU0U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBDQVBJVEFMSVpFID0gLyhefFxcc3w6fC18XFwofFxcKSkoW2Etel0pL2c7XHJcbiAgICB2YXIgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcclxuICAgICAgICBpZiAobS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwMSArIHAyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSW1hZ2VFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhJbWFnZUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VFbGVtZW50Q29udGFpbmVyKGltZykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBpbWcpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnNyYyA9IGltZy5jdXJyZW50U3JjIHx8IGltZy5zcmM7XHJcbiAgICAgICAgICAgIF90aGlzLmludHJpbnNpY1dpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljSGVpZ2h0ID0gaW1nLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSgpLmFkZEltYWdlKF90aGlzLnNyYyk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEltYWdlRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xyXG5cclxuICAgIHZhciBDYW52YXNFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW52YXNFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbnZhc0VsZW1lbnRDb250YWluZXIoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNhbnZhcykgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ2FudmFzRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xyXG5cclxuICAgIHZhciBTVkdFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTVkdFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNWR0VsZW1lbnRDb250YWluZXIoaW1nKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGltZykgfHwgdGhpcztcclxuICAgICAgICAgICAgdmFyIHMgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChzLnNlcmlhbGl6ZVRvU3RyaW5nKGltZykpO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGltZy53aWR0aC5iYXNlVmFsLnZhbHVlO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNIZWlnaHQgPSBpbWcuaGVpZ2h0LmJhc2VWYWwudmFsdWU7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSgpLmFkZEltYWdlKF90aGlzLnN2Zyk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNWR0VsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgTElFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhMSUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTElFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBMSUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgT0xFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhPTEVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gT0xFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3RhcnQgPSBlbGVtZW50LnN0YXJ0O1xyXG4gICAgICAgICAgICBfdGhpcy5yZXZlcnNlZCA9IHR5cGVvZiBlbGVtZW50LnJldmVyc2VkID09PSAnYm9vbGVhbicgJiYgZWxlbWVudC5yZXZlcnNlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT0xFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XHJcblxyXG4gICAgdmFyIENIRUNLQk9YX0JPUkRFUl9SQURJVVMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOLFxyXG4gICAgICAgICAgICBmbGFnczogMCxcclxuICAgICAgICAgICAgdW5pdDogJ3B4JyxcclxuICAgICAgICAgICAgbnVtYmVyOiAzXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHZhciBSQURJT19CT1JERVJfUkFESVVTID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgICAgIGZsYWdzOiAwLFxyXG4gICAgICAgICAgICBudW1iZXI6IDUwXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHZhciByZWZvcm1hdElucHV0Qm91bmRzID0gZnVuY3Rpb24gKGJvdW5kcykge1xyXG4gICAgICAgIGlmIChib3VuZHMud2lkdGggPiBib3VuZHMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmRzKGJvdW5kcy5sZWZ0ICsgKGJvdW5kcy53aWR0aCAtIGJvdW5kcy5oZWlnaHQpIC8gMiwgYm91bmRzLnRvcCwgYm91bmRzLmhlaWdodCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJvdW5kcy53aWR0aCA8IGJvdW5kcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyAoYm91bmRzLmhlaWdodCAtIGJvdW5kcy53aWR0aCkgLyAyLCBib3VuZHMud2lkdGgsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBib3VuZHM7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldElucHV0VmFsdWUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5vZGUudHlwZSA9PT0gUEFTU1dPUkQgPyBuZXcgQXJyYXkobm9kZS52YWx1ZS5sZW5ndGggKyAxKS5qb2luKCdcXHUyMDIyJykgOiBub2RlLnZhbHVlO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDAgPyBub2RlLnBsYWNlaG9sZGVyIHx8ICcnIDogdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgdmFyIENIRUNLQk9YID0gJ2NoZWNrYm94JztcclxuICAgIHZhciBSQURJTyA9ICdyYWRpbyc7XHJcbiAgICB2YXIgUEFTU1dPUkQgPSAncGFzc3dvcmQnO1xyXG4gICAgdmFyIElOUFVUX0NPTE9SID0gMHgyYTJhMmFmZjtcclxuICAgIHZhciBJbnB1dEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKElucHV0RWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBJbnB1dEVsZW1lbnRDb250YWluZXIoaW5wdXQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW5wdXQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBpbnB1dC50eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNoZWNrZWQgPSBpbnB1dC5jaGVja2VkO1xyXG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IGdldElucHV0VmFsdWUoaW5wdXQpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gQ0hFQ0tCT1ggfHwgX3RoaXMudHlwZSA9PT0gUkFESU8pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSAweGRlZGVkZWZmO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcENvbG9yID0gX3RoaXMuc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tQ29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyTGVmdENvbG9yID0gMHhhNWE1YTVmZjtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5ib3JkZXJUb3BXaWR0aCA9IF90aGlzLnN0eWxlcy5ib3JkZXJSaWdodFdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlckxlZnRXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wU3R5bGUgPSBfdGhpcy5zdHlsZXMuYm9yZGVyUmlnaHRTdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21TdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJMZWZ0U3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIEJPUkRFUl9TVFlMRS5TT0xJRDtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ2xpcCA9IFtCQUNLR1JPVU5EX0NMSVAuQk9SREVSX0JPWF07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYmFja2dyb3VuZE9yaWdpbiA9IFswIC8qIEJPUkRFUl9CT1ggKi9dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYm91bmRzID0gcmVmb3JtYXRJbnB1dEJvdW5kcyhfdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDSEVDS0JPWDpcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wTGVmdFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gQ0hFQ0tCT1hfQk9SREVSX1JBRElVUztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgUkFESU86XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcFJpZ2h0UmFkaXVzID0gX3RoaXMuc3R5bGVzLmJvcmRlclRvcExlZnRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tTGVmdFJhZGl1cyA9IFJBRElPX0JPUkRFUl9SQURJVVM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW5wdXRFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XHJcblxyXG4gICAgdmFyIFNlbGVjdEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdEVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2VsZWN0RWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVsZW1lbnQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBlbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4IHx8IDBdO1xyXG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IG9wdGlvbiA/IG9wdGlvbi50ZXh0IHx8ICcnIDogJyc7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdEVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUZXh0YXJlYUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUZXh0YXJlYUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgcGFyc2VDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY29sb3IucGFyc2UoUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZSgpKTsgfTtcclxuICAgIHZhciBJRnJhbWVFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhJRnJhbWVFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIElGcmFtZUVsZW1lbnRDb250YWluZXIoaWZyYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGlmcmFtZSkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3JjID0gaWZyYW1lLnNyYztcclxuICAgICAgICAgICAgX3RoaXMud2lkdGggPSBwYXJzZUludChpZnJhbWUud2lkdGgsIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICBfdGhpcy5oZWlnaHQgPSBwYXJzZUludChpZnJhbWUuaGVpZ2h0LCAxMCkgfHwgMDtcclxuICAgICAgICAgICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChpZnJhbWUuY29udGVudFdpbmRvdyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJlZSA9IHBhcnNlVHJlZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtYmFja2dyb3VuZC8jc3BlY2lhbC1iYWNrZ3JvdW5kc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudEJhY2tncm91bmRDb2xvciA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IoZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keUJhY2tncm91bmRDb2xvciA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUNvbG9yKGdldENvbXB1dGVkU3R5bGUoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBpc1RyYW5zcGFyZW50KGRvY3VtZW50QmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBib2R5QmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBJRnJhbWVFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XHJcblxyXG4gICAgdmFyIExJU1RfT1dORVJTID0gWydPTCcsICdVTCcsICdNRU5VJ107XHJcbiAgICB2YXIgcGFyc2VOb2RlVHJlZSA9IGZ1bmN0aW9uIChub2RlLCBwYXJlbnQsIHJvb3QpIHtcclxuICAgICAgICBmb3IgKHZhciBjaGlsZE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQsIG5leHROb2RlID0gdm9pZCAwOyBjaGlsZE5vZGU7IGNoaWxkTm9kZSA9IG5leHROb2RlKSB7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShjaGlsZE5vZGUpICYmIGNoaWxkTm9kZS5kYXRhLnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQudGV4dE5vZGVzLnB1c2gobmV3IFRleHRDb250YWluZXIoY2hpbGROb2RlLCBwYXJlbnQuc3R5bGVzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNFbGVtZW50Tm9kZShjaGlsZE5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKGNoaWxkTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLnN0eWxlcy5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVzUmVhbFN0YWNraW5nQ29udGV4dChjaGlsZE5vZGUsIGNvbnRhaW5lciwgcm9vdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDQgLyogQ1JFQVRFU19SRUFMX1NUQUNLSU5HX0NPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoY29udGFpbmVyLnN0eWxlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDIgLyogQ1JFQVRFU19TVEFDS0lOR19DT05URVhUICovO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTElTVF9PV05FUlMuaW5kZXhPZihjaGlsZE5vZGUudGFnTmFtZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mbGFncyB8PSA4IC8qIElTX0xJU1RfT1dORVIgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RleHRhcmVhRWxlbWVudChjaGlsZE5vZGUpICYmICFpc1NWR0VsZW1lbnQoY2hpbGROb2RlKSAmJiAhaXNTZWxlY3RFbGVtZW50KGNoaWxkTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VOb2RlVHJlZShjaGlsZE5vZGUsIGNvbnRhaW5lciwgcm9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChpc0ltYWdlRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEltYWdlRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQ2FudmFzRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbnZhc0VsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1NWR0VsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNMSUVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMSUVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09MRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE9MRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzSW5wdXRFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW5wdXRFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNTZWxlY3RFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0RWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzVGV4dGFyZWFFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNJRnJhbWVFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSUZyYW1lRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZVRyZWUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDQgLyogQ1JFQVRFU19SRUFMX1NUQUNLSU5HX0NPTlRFWFQgKi87XHJcbiAgICAgICAgcGFyc2VOb2RlVHJlZShlbGVtZW50LCBjb250YWluZXIsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlc1JlYWxTdGFja2luZ0NvbnRleHQgPSBmdW5jdGlvbiAobm9kZSwgY29udGFpbmVyLCByb290KSB7XHJcbiAgICAgICAgcmV0dXJuIChjb250YWluZXIuc3R5bGVzLmlzUG9zaXRpb25lZFdpdGhaSW5kZXgoKSB8fFxyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGVzLm9wYWNpdHkgPCAxIHx8XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZXMuaXNUcmFuc2Zvcm1lZCgpIHx8XHJcbiAgICAgICAgICAgIChpc0JvZHlFbGVtZW50KG5vZGUpICYmIHJvb3Quc3R5bGVzLmlzVHJhbnNwYXJlbnQoKSkpO1xyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVzU3RhY2tpbmdDb250ZXh0ID0gZnVuY3Rpb24gKHN0eWxlcykgeyByZXR1cm4gc3R5bGVzLmlzUG9zaXRpb25lZCgpIHx8IHN0eWxlcy5pc0Zsb2F0aW5nKCk7IH07XHJcbiAgICB2YXIgaXNUZXh0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERTsgfTtcclxuICAgIHZhciBpc0VsZW1lbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFOyB9O1xyXG4gICAgdmFyIGlzSFRNTEVsZW1lbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIG5vZGUuc3R5bGUgIT09ICd1bmRlZmluZWQnO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0xJRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdMSSc7IH07XHJcbiAgICB2YXIgaXNPTEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnT0wnOyB9O1xyXG4gICAgdmFyIGlzSW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJzsgfTtcclxuICAgIHZhciBpc0hUTUxFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0hUTUwnOyB9O1xyXG4gICAgdmFyIGlzU1ZHRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdzdmcnOyB9O1xyXG4gICAgdmFyIGlzQm9keUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnQk9EWSc7IH07XHJcbiAgICB2YXIgaXNDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0NBTlZBUyc7IH07XHJcbiAgICB2YXIgaXNJbWFnZUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSU1HJzsgfTtcclxuICAgIHZhciBpc0lGcmFtZUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSUZSQU1FJzsgfTtcclxuICAgIHZhciBpc1N0eWxlRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdTVFlMRSc7IH07XHJcbiAgICB2YXIgaXNTY3JpcHRFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ1NDUklQVCc7IH07XHJcbiAgICB2YXIgaXNUZXh0YXJlYUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnVEVYVEFSRUEnOyB9O1xyXG4gICAgdmFyIGlzU2VsZWN0RWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdTRUxFQ1QnOyB9O1xyXG5cclxuICAgIHZhciBDb3VudGVyU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ291bnRlclN0YXRlKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENvdW50ZXJTdGF0ZS5wcm90b3R5cGUuZ2V0Q291bnRlclZhbHVlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSB0aGlzLmNvdW50ZXJzW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoY291bnRlciAmJiBjb3VudGVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXJbY291bnRlci5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENvdW50ZXJTdGF0ZS5wcm90b3R5cGUuZ2V0Q291bnRlclZhbHVlcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXIgPyBjb3VudGVyIDogW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIChjb3VudGVycykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb3VudGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb3VudGVyKSB7IHJldHVybiBfdGhpcy5jb3VudGVyc1tjb3VudGVyXS5wb3AoKTsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVySW5jcmVtZW50ID0gc3R5bGUuY291bnRlckluY3JlbWVudDtcclxuICAgICAgICAgICAgdmFyIGNvdW50ZXJSZXNldCA9IHN0eWxlLmNvdW50ZXJSZXNldDtcclxuICAgICAgICAgICAgdmFyIGNhblJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ZXJJbmNyZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXJJbmNyZW1lbnQuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IF90aGlzLmNvdW50ZXJzW2VudHJ5LmNvdW50ZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGVudHJ5LmluY3JlbWVudCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5SZXNldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyW01hdGgubWF4KDAsIGNvdW50ZXIubGVuZ3RoIC0gMSldICs9IGVudHJ5LmluY3JlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY291bnRlck5hbWVzID0gW107XHJcbiAgICAgICAgICAgIGlmIChjYW5SZXNldCkge1xyXG4gICAgICAgICAgICAgICAgY291bnRlclJlc2V0LmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBfdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyTmFtZXMucHVzaChlbnRyeS5jb3VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlciA9IF90aGlzLmNvdW50ZXJzW2VudHJ5LmNvdW50ZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIucHVzaChlbnRyeS5yZXNldCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY291bnRlck5hbWVzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENvdW50ZXJTdGF0ZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgUk9NQU5fVVBQRVIgPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFsxMDAwLCA5MDAsIDUwMCwgNDAwLCAxMDAsIDkwLCA1MCwgNDAsIDEwLCA5LCA1LCA0LCAxXSxcclxuICAgICAgICB2YWx1ZXM6IFsnTScsICdDTScsICdEJywgJ0NEJywgJ0MnLCAnWEMnLCAnTCcsICdYTCcsICdYJywgJ0lYJywgJ1YnLCAnSVYnLCAnSSddXHJcbiAgICB9O1xyXG4gICAgdmFyIEFSTUVOSUFOID0ge1xyXG4gICAgICAgIGludGVnZXJzOiBbXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDkwMCxcclxuICAgICAgICAgICAgODAwLFxyXG4gICAgICAgICAgICA3MDAsXHJcbiAgICAgICAgICAgIDYwMCxcclxuICAgICAgICAgICAgNTAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAsXHJcbiAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIDcsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICBdLFxyXG4gICAgICAgIHZhbHVlczogW1xyXG4gICAgICAgICAgICAn1ZQnLFxyXG4gICAgICAgICAgICAn1ZMnLFxyXG4gICAgICAgICAgICAn1ZInLFxyXG4gICAgICAgICAgICAn1ZEnLFxyXG4gICAgICAgICAgICAn1ZAnLFxyXG4gICAgICAgICAgICAn1Y8nLFxyXG4gICAgICAgICAgICAn1Y4nLFxyXG4gICAgICAgICAgICAn1Y0nLFxyXG4gICAgICAgICAgICAn1YwnLFxyXG4gICAgICAgICAgICAn1YsnLFxyXG4gICAgICAgICAgICAn1YonLFxyXG4gICAgICAgICAgICAn1YknLFxyXG4gICAgICAgICAgICAn1YgnLFxyXG4gICAgICAgICAgICAn1YcnLFxyXG4gICAgICAgICAgICAn1YYnLFxyXG4gICAgICAgICAgICAn1YUnLFxyXG4gICAgICAgICAgICAn1YQnLFxyXG4gICAgICAgICAgICAn1YMnLFxyXG4gICAgICAgICAgICAn1YInLFxyXG4gICAgICAgICAgICAn1YEnLFxyXG4gICAgICAgICAgICAn1YAnLFxyXG4gICAgICAgICAgICAn1L8nLFxyXG4gICAgICAgICAgICAn1L4nLFxyXG4gICAgICAgICAgICAn1L0nLFxyXG4gICAgICAgICAgICAn1LwnLFxyXG4gICAgICAgICAgICAn1LsnLFxyXG4gICAgICAgICAgICAn1LonLFxyXG4gICAgICAgICAgICAn1LknLFxyXG4gICAgICAgICAgICAn1LgnLFxyXG4gICAgICAgICAgICAn1LcnLFxyXG4gICAgICAgICAgICAn1LYnLFxyXG4gICAgICAgICAgICAn1LUnLFxyXG4gICAgICAgICAgICAn1LQnLFxyXG4gICAgICAgICAgICAn1LMnLFxyXG4gICAgICAgICAgICAn1LInLFxyXG4gICAgICAgICAgICAn1LEnXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIHZhciBIRUJSRVcgPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFtcclxuICAgICAgICAgICAgMTAwMDAsXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDQwMCxcclxuICAgICAgICAgICAgMzAwLFxyXG4gICAgICAgICAgICAyMDAsXHJcbiAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgOTAsXHJcbiAgICAgICAgICAgIDgwLFxyXG4gICAgICAgICAgICA3MCxcclxuICAgICAgICAgICAgNjAsXHJcbiAgICAgICAgICAgIDUwLFxyXG4gICAgICAgICAgICA0MCxcclxuICAgICAgICAgICAgMzAsXHJcbiAgICAgICAgICAgIDIwLFxyXG4gICAgICAgICAgICAxOSxcclxuICAgICAgICAgICAgMTgsXHJcbiAgICAgICAgICAgIDE3LFxyXG4gICAgICAgICAgICAxNixcclxuICAgICAgICAgICAgMTUsXHJcbiAgICAgICAgICAgIDEwLFxyXG4gICAgICAgICAgICA5LFxyXG4gICAgICAgICAgICA4LFxyXG4gICAgICAgICAgICA3LFxyXG4gICAgICAgICAgICA2LFxyXG4gICAgICAgICAgICA1LFxyXG4gICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgXSxcclxuICAgICAgICB2YWx1ZXM6IFtcclxuICAgICAgICAgICAgJ9eZ17MnLFxyXG4gICAgICAgICAgICAn15jXsycsXHJcbiAgICAgICAgICAgICfXl9ezJyxcclxuICAgICAgICAgICAgJ9eW17MnLFxyXG4gICAgICAgICAgICAn15XXsycsXHJcbiAgICAgICAgICAgICfXlNezJyxcclxuICAgICAgICAgICAgJ9eT17MnLFxyXG4gICAgICAgICAgICAn15LXsycsXHJcbiAgICAgICAgICAgICfXkdezJyxcclxuICAgICAgICAgICAgJ9eQ17MnLFxyXG4gICAgICAgICAgICAn16onLFxyXG4gICAgICAgICAgICAn16knLFxyXG4gICAgICAgICAgICAn16gnLFxyXG4gICAgICAgICAgICAn16cnLFxyXG4gICAgICAgICAgICAn16YnLFxyXG4gICAgICAgICAgICAn16QnLFxyXG4gICAgICAgICAgICAn16InLFxyXG4gICAgICAgICAgICAn16EnLFxyXG4gICAgICAgICAgICAn16AnLFxyXG4gICAgICAgICAgICAn154nLFxyXG4gICAgICAgICAgICAn15wnLFxyXG4gICAgICAgICAgICAn15snLFxyXG4gICAgICAgICAgICAn15nXmCcsXHJcbiAgICAgICAgICAgICfXmdeXJyxcclxuICAgICAgICAgICAgJ9eZ15YnLFxyXG4gICAgICAgICAgICAn15jXlicsXHJcbiAgICAgICAgICAgICfXmNeVJyxcclxuICAgICAgICAgICAgJ9eZJyxcclxuICAgICAgICAgICAgJ9eYJyxcclxuICAgICAgICAgICAgJ9eXJyxcclxuICAgICAgICAgICAgJ9eWJyxcclxuICAgICAgICAgICAgJ9eVJyxcclxuICAgICAgICAgICAgJ9eUJyxcclxuICAgICAgICAgICAgJ9eTJyxcclxuICAgICAgICAgICAgJ9eSJyxcclxuICAgICAgICAgICAgJ9eRJyxcclxuICAgICAgICAgICAgJ9eQJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgR0VPUkdJQU4gPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFtcclxuICAgICAgICAgICAgMTAwMDAsXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDkwMCxcclxuICAgICAgICAgICAgODAwLFxyXG4gICAgICAgICAgICA3MDAsXHJcbiAgICAgICAgICAgIDYwMCxcclxuICAgICAgICAgICAgNTAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAsXHJcbiAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIDcsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICBdLFxyXG4gICAgICAgIHZhbHVlczogW1xyXG4gICAgICAgICAgICAn4YO1JyxcclxuICAgICAgICAgICAgJ+GDsCcsXHJcbiAgICAgICAgICAgICfhg68nLFxyXG4gICAgICAgICAgICAn4YO0JyxcclxuICAgICAgICAgICAgJ+GDricsXHJcbiAgICAgICAgICAgICfhg60nLFxyXG4gICAgICAgICAgICAn4YOsJyxcclxuICAgICAgICAgICAgJ+GDqycsXHJcbiAgICAgICAgICAgICfhg6onLFxyXG4gICAgICAgICAgICAn4YOpJyxcclxuICAgICAgICAgICAgJ+GDqCcsXHJcbiAgICAgICAgICAgICfhg6cnLFxyXG4gICAgICAgICAgICAn4YOmJyxcclxuICAgICAgICAgICAgJ+GDpScsXHJcbiAgICAgICAgICAgICfhg6QnLFxyXG4gICAgICAgICAgICAn4YOzJyxcclxuICAgICAgICAgICAgJ+GDoicsXHJcbiAgICAgICAgICAgICfhg6EnLFxyXG4gICAgICAgICAgICAn4YOgJyxcclxuICAgICAgICAgICAgJ+GDnycsXHJcbiAgICAgICAgICAgICfhg54nLFxyXG4gICAgICAgICAgICAn4YOdJyxcclxuICAgICAgICAgICAgJ+GDsicsXHJcbiAgICAgICAgICAgICfhg5wnLFxyXG4gICAgICAgICAgICAn4YObJyxcclxuICAgICAgICAgICAgJ+GDmicsXHJcbiAgICAgICAgICAgICfhg5knLFxyXG4gICAgICAgICAgICAn4YOYJyxcclxuICAgICAgICAgICAgJ+GDlycsXHJcbiAgICAgICAgICAgICfhg7EnLFxyXG4gICAgICAgICAgICAn4YOWJyxcclxuICAgICAgICAgICAgJ+GDlScsXHJcbiAgICAgICAgICAgICfhg5QnLFxyXG4gICAgICAgICAgICAn4YOTJyxcclxuICAgICAgICAgICAgJ+GDkicsXHJcbiAgICAgICAgICAgICfhg5EnLFxyXG4gICAgICAgICAgICAn4YOQJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQWRkaXRpdmVDb3VudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCwgc3ltYm9scywgZmFsbGJhY2ssIHN1ZmZpeCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIGZhbGxiYWNrLCBzdWZmaXgubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoc3ltYm9scy5pbnRlZ2Vycy5yZWR1Y2UoZnVuY3Rpb24gKHN0cmluZywgaW50ZWdlciwgaW5kZXgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHZhbHVlID49IGludGVnZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlIC09IGludGVnZXI7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gc3ltYm9scy52YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgfSwgJycpICsgc3VmZml4KTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyID0gZnVuY3Rpb24gKHZhbHVlLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCByZXNvbHZlcikge1xyXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGlmICghaXNOdW1lcmljKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZyA9IHJlc29sdmVyKHZhbHVlKSArIHN0cmluZztcclxuICAgICAgICAgICAgdmFsdWUgLz0gY29kZVBvaW50UmFuZ2VMZW5ndGg7XHJcbiAgICAgICAgfSB3aGlsZSAodmFsdWUgKiBjb2RlUG9pbnRSYW5nZUxlbmd0aCA+PSBjb2RlUG9pbnRSYW5nZUxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlID0gZnVuY3Rpb24gKHZhbHVlLCBjb2RlUG9pbnRSYW5nZVN0YXJ0LCBjb2RlUG9pbnRSYW5nZUVuZCwgaXNOdW1lcmljLCBzdWZmaXgpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50UmFuZ2VMZW5ndGggPSBjb2RlUG9pbnRSYW5nZUVuZCAtIGNvZGVQb2ludFJhbmdlU3RhcnQgKyAxO1xyXG4gICAgICAgIHJldHVybiAoKHZhbHVlIDwgMCA/ICctJyA6ICcnKSArXHJcbiAgICAgICAgICAgIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNvZGVQb2ludChNYXRoLmZsb29yKGNvZGVQb2ludCAlIGNvZGVQb2ludFJhbmdlTGVuZ3RoKSArIGNvZGVQb2ludFJhbmdlU3RhcnQpO1xyXG4gICAgICAgICAgICB9KSArXHJcbiAgICAgICAgICAgICAgICBzdWZmaXgpKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHMgPSBmdW5jdGlvbiAodmFsdWUsIHN5bWJvbHMsIHN1ZmZpeCkge1xyXG4gICAgICAgIGlmIChzdWZmaXggPT09IHZvaWQgMCkgeyBzdWZmaXggPSAnLiAnOyB9XHJcbiAgICAgICAgdmFyIGNvZGVQb2ludFJhbmdlTGVuZ3RoID0gc3ltYm9scy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgZmFsc2UsIGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIHN5bWJvbHNbTWF0aC5mbG9vcihjb2RlUG9pbnQgJSBjb2RlUG9pbnRSYW5nZUxlbmd0aCldOyB9KSArIHN1ZmZpeCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIENKS19aRVJPUyA9IDEgPDwgMDtcclxuICAgIHZhciBDSktfVEVOX0NPRUZGSUNJRU5UUyA9IDEgPDwgMTtcclxuICAgIHZhciBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTID0gMSA8PCAyO1xyXG4gICAgdmFyIENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyA9IDEgPDwgMztcclxuICAgIHZhciBjcmVhdGVDSktDb3VudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBudW1iZXJzLCBtdWx0aXBsaWVycywgbmVnYXRpdmVTaWduLCBzdWZmaXgsIGZsYWdzKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgLTk5OTkgfHwgdmFsdWUgPiA5OTk5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgTElTVF9TVFlMRV9UWVBFLkNKS19ERUNJTUFMLCBzdWZmaXgubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0bXAgPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICAgICAgdmFyIHN0cmluZyA9IHN1ZmZpeDtcclxuICAgICAgICBpZiAodG1wID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzWzBdICsgc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBkaWdpdCA9IDA7IHRtcCA+IDAgJiYgZGlnaXQgPD0gNDsgZGlnaXQrKykge1xyXG4gICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSB0bXAgJSAxMDtcclxuICAgICAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfWkVST1MpICYmIHN0cmluZyAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZWZmaWNpZW50ID4gMSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAwKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAxICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfVEVOX0NPRUZGSUNJRU5UUykpIHx8XHJcbiAgICAgICAgICAgICAgICAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDEgJiYgY29udGFpbnMoZmxhZ3MsIENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpICYmIHZhbHVlID4gMTAwKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID4gMSAmJiBjb250YWlucyhmbGFncywgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgKGRpZ2l0ID4gMCA/IG11bHRpcGxpZXJzW2RpZ2l0IC0gMV0gOiAnJykgKyBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBtdWx0aXBsaWVyc1tkaWdpdCAtIDFdICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRtcCA9IE1hdGguZmxvb3IodG1wIC8gMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHZhbHVlIDwgMCA/IG5lZ2F0aXZlU2lnbiA6ICcnKSArIHN0cmluZztcclxuICAgIH07XHJcbiAgICB2YXIgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUyA9ICfljYHnmb7ljYPokKwnO1xyXG4gICAgdmFyIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTID0gJ+aLvuS9sOS7n+iQrCc7XHJcbiAgICB2YXIgSkFQQU5FU0VfTkVHQVRJVkUgPSAn44Oe44Kk44OK44K5JztcclxuICAgIHZhciBLT1JFQU5fTkVHQVRJVkUgPSAn66eI7J2064SI7IqkJztcclxuICAgIHZhciBjcmVhdGVDb3VudGVyVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgdHlwZSwgYXBwZW5kU3VmZml4KSB7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnLiAnIDogJyc7XHJcbiAgICAgICAgdmFyIGNqa1N1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICfjgIEnIDogJyc7XHJcbiAgICAgICAgdmFyIGtvcmVhblN1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICcsICcgOiAnJztcclxuICAgICAgICB2YXIgc3BhY2VTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnICcgOiAnJztcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuRElTQzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAn4oCiJyArIHNwYWNlU3VmZml4O1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSVJDTEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+KXpicgKyBzcGFjZVN1ZmZpeDtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuU1FVQVJFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICfil74nICsgc3BhY2VTdWZmaXg7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUxfTEVBRElOR19aRVJPOlxyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9IGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNDgsIDU3LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoIDwgNCA/IFwiMFwiICsgc3RyaW5nIDogc3RyaW5nO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OAh+S4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX1JPTUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMzk5OSwgUk9NQU5fVVBQRVIsIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLCBkZWZhdWx0U3VmZml4KS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9ST01BTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDM5OTksIFJPTUFOX1VQUEVSLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX0dSRUVLOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgOTQ1LCA5NjksIGZhbHNlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCA5NywgMTIyLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FMUEhBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjUsIDkwLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkFSQUJJQ19JTkRJQzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDE2MzIsIDE2NDEsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjpcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfQVJNRU5JQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCA5OTk5LCBBUk1FTklBTiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BUk1FTklBTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDk5OTksIEFSTUVOSUFOLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQkVOR0FMSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDI1MzQsIDI1NDMsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DQU1CT0RJQU46XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktITUVSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjExMiwgNjEyMSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19FQVJUSExZX0JSQU5DSDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+WtkOS4keWvheWNr+i+sOW3s+WNiOacqueUs+mFieaIjOS6pScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19IRUFWRU5MWV9TVEVNOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn55Sy5LmZ5LiZ5LiB5oiK5bex5bqa6L6b5aOs55m4JywgY2prU3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDOlxyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfosqAnLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRSQURfQ0hJTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+iChuS8jemZuOafkuaNjOeOlicsIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTLCAn6LKgJywgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfotJ8nLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjuei0sOWPgeiChuS8jemZhuafkuaNjOeOlicsIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTLCAn6LSfJywgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9JTkZPUk1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn44CH5LiA5LqM5LiJ5Zub5LqU5YWt5LiD5YWr5LmdJywgJ+WNgeeZvuWNg+S4hycsIEpBUEFORVNFX05FR0FUSVZFLCBjamtTdWZmaXgsIDApO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjseW8kOWPguWbm+S8jeWFreS4g+WFq+S5nScsICfmi77nmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOR1VMX0ZPUk1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn7JiB7J287J207IK87IKs7Jik7Jyh7Lmg7YyU6rWsJywgJ+yLreuwseyynOunjCcsIEtPUkVBTl9ORUdBVElWRSwga29yZWFuU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsICfljYHnmb7ljYPokKwnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgMCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5KQV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+Wbm+S6lOWFreS4g+WFq+S5nScsICfmi77nmb7ljYMnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVWQU5BR0FSSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4OTY2LCAweDk2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdFT1JHSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMTk5OTksIEdFT1JHSUFOLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdVSkFSQVRJOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhhZTYsIDB4YWVmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuR1VSTVVLSEk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGE2NiwgMHhhNmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5IRUJSRVc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAxMDk5OSwgSEVCUkVXLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GC44GE44GG44GI44GK44GL44GN44GP44GR44GT44GV44GX44GZ44Gb44Gd44Gf44Gh44Gk44Gm44Go44Gq44Gr44Gs44Gt44Gu44Gv44Gy44G144G444G744G+44G/44KA44KB44KC44KE44KG44KI44KJ44KK44KL44KM44KN44KP44KQ44KR44KS44KTJyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BX0lST0hBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GE44KN44Gv44Gr44G744G444Go44Gh44KK44Gs44KL44KS44KP44GL44KI44Gf44KM44Gd44Gk44Gt44Gq44KJ44KA44GG44KQ44Gu44GK44GP44KE44G+44GR44G144GT44GI44Gm44GC44GV44GN44KG44KB44G/44GX44KR44Gy44KC44Gb44GZJyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBTk5BREE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGNlNiwgMHhjZWYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OCouOCpOOCpuOCqOOCquOCq+OCreOCr+OCseOCs+OCteOCt+OCueOCu+OCveOCv+ODgeODhOODhuODiOODiuODi+ODjOODjeODjuODj+ODkuODleODmOODm+ODnuODn+ODoOODoeODouODpOODpuODqOODqeODquODq+ODrOODreODr+ODsOODseODsuODsycsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44Kk44Ot44OP44OL44Ob44OY44OI44OB44Oq44OM44Or44Oy44Ov44Kr44Oo44K/44Os44K944OE44ON44OK44Op44Og44Km44Ow44OO44Kq44Kv44Ok44Oe44Kx44OV44Kz44Ko44OG44Ki44K144Kt44Om44Oh44Of44K344Ox44OS44Oi44K744K5JywgY2prU3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTEFPOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhlZDAsIDB4ZWQ5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxODEwLCAweDE4MTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5NWUFOTUFSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxMDQwLCAweDEwNDksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5PUklZQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YjY2LCAweGI2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlBFUlNJQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweDZmMCwgMHg2ZjksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UQU1JTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YmU2LCAweGJlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRFTFVHVTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YzY2LCAweGM2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRIQUk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGU1MCwgMHhlNTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhmMjAsIDB4ZjI5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDQ4LCA1NywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSUdOT1JFX0FUVFJJQlVURSA9ICdkYXRhLWh0bWwyY2FudmFzLWlnbm9yZSc7XHJcbiAgICB2YXIgRG9jdW1lbnRDbG9uZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRG9jdW1lbnRDbG9uZXIoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVycyA9IG5ldyBDb3VudGVyU3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5xdW90ZURlcHRoID0gMDtcclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50Lm93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvbmVkIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhbiBvd25lciBkb2N1bWVudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRFbGVtZW50ID0gdGhpcy5jbG9uZU5vZGUoZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS50b0lGcmFtZSA9IGZ1bmN0aW9uIChvd25lckRvY3VtZW50LCB3aW5kb3dTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBjcmVhdGVJRnJhbWVDb250YWluZXIob3duZXJEb2N1bWVudCwgd2luZG93U2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICghaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlVuYWJsZSB0byBmaW5kIGlmcmFtZSB3aW5kb3dcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNjcm9sbFggPSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0O1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsWSA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVdpbmRvdyA9IGlmcmFtZS5jb250ZW50V2luZG93O1xyXG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRDbG9uZSA9IGNsb25lV2luZG93LmRvY3VtZW50O1xyXG4gICAgICAgICAgICAvKiBDaHJvbWUgZG9lc24ndCBkZXRlY3QgcmVsYXRpdmUgYmFja2dyb3VuZC1pbWFnZXMgYXNzaWduZWQgaW4gaW5saW5lIDxzdHlsZT4gc2hlZXRzIHdoZW4gZmV0Y2hlZCB0aHJvdWdoIGdldENvbXB1dGVkU3R5bGVcclxuICAgICAgICAgICAgIGlmIHdpbmRvdyB1cmwgaXMgYWJvdXQ6YmxhbmssIHdlIGNhbiBhc3NpZ24gdGhlIHVybCB0byBjdXJyZW50IGJ5IHdyaXRpbmcgb250byB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBpZnJhbWVMb2FkID0gaWZyYW1lTG9hZGVyKGlmcmFtZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmNsb25lO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZWRFbGVtZW50cy5mb3JFYWNoKHJlc3RvcmVOb2RlU2Nyb2xsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvbmVXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVXaW5kb3cuc2Nyb2xsVG8od2luZG93U2l6ZS5sZWZ0LCB3aW5kb3dTaXplLnRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvKGlQYWR8aVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsb25lV2luZG93LnNjcm9sbFkgIT09IHdpbmRvd1NpemUudG9wIHx8IGNsb25lV2luZG93LnNjcm9sbFggIT09IHdpbmRvd1NpemUubGVmdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRvcCA9IC13aW5kb3dTaXplLnRvcCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS5sZWZ0ID0gLXdpbmRvd1NpemUubGVmdCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbG9uZSA9IHRoaXMub3B0aW9ucy5vbmNsb25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoXCJFcnJvciBmaW5kaW5nIHRoZSBcIiArIHRoaXMucmVmZXJlbmNlRWxlbWVudC5ub2RlTmFtZSArIFwiIGluIHRoZSBjbG9uZWQgZG9jdW1lbnRcIildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkb2N1bWVudENsb25lLmZvbnRzICYmIGRvY3VtZW50Q2xvbmUuZm9udHMucmVhZHkpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkb2N1bWVudENsb25lLmZvbnRzLnJlYWR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uY2xvbmUoZG9jdW1lbnRDbG9uZSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBpZnJhbWU7IH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlmcmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5vcGVuKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUud3JpdGUoc2VyaWFsaXplRG9jdHlwZShkb2N1bWVudC5kb2N0eXBlKSArIFwiPGh0bWw+PC9odG1sPlwiKTtcclxuICAgICAgICAgICAgLy8gQ2hyb21lIHNjcm9sbHMgdGhlIHBhcmVudCBkb2N1bWVudCBmb3Igc29tZSByZWFzb24gYWZ0ZXIgdGhlIHdyaXRlIHRvIHRoZSBjbG9uZWQgd2luZG93Pz8/XHJcbiAgICAgICAgICAgIHJlc3RvcmVPd25lclNjcm9sbCh0aGlzLnJlZmVyZW5jZUVsZW1lbnQub3duZXJEb2N1bWVudCwgc2Nyb2xsWCwgc2Nyb2xsWSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUucmVwbGFjZUNoaWxkKGRvY3VtZW50Q2xvbmUuYWRvcHROb2RlKHRoaXMuZG9jdW1lbnRFbGVtZW50KSwgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBkb2N1bWVudENsb25lLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZnJhbWVMb2FkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRDbG9uZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0NhbnZhc0VsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNhbnZhc0Nsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIGlmIChpc0lGcmFtZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUlGcmFtZUNsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgICAgICAgICBpZiAoaXNTdHlsZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVN0eWxlQ2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5jcmVhdGVTdHlsZUNsb25lID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGVldCA9IG5vZGUuc2hlZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hlZXQgJiYgc2hlZXQuY3NzUnVsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3NzID0gW10uc2xpY2UuY2FsbChzaGVldC5jc3NSdWxlcywgMCkucmVkdWNlKGZ1bmN0aW9uIChjc3MsIHJ1bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUgJiYgdHlwZW9mIHJ1bGUuY3NzVGV4dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3MgKyBydWxlLmNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzcztcclxuICAgICAgICAgICAgICAgICAgICB9LCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3NzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWNjZXNzaW5nIG5vZGUuc2hlZXQuY3NzUnVsZXMgdGhyb3dzIGEgRE9NRXhjZXB0aW9uXHJcbiAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcignVW5hYmxlIHRvIGFjY2VzcyBjc3NSdWxlcyBwcm9wZXJ0eScsIGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZSAhPT0gJ1NlY3VyaXR5RXJyb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLmNyZWF0ZUNhbnZhc0Nsb25lID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlubGluZUltYWdlcyAmJiBjYW52YXMub3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLm9wdGlvbnMuaWQpLmluZm8oXCJVbmFibGUgdG8gY2xvbmUgY2FudmFzIGNvbnRlbnRzLCBjYW52YXMgaXMgdGFpbnRlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2xvbmVkQ2FudmFzID0gY2FudmFzLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRDYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRDYW52YXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZWRDdHggPSBjbG9uZWRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbG9uZWRDdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5wdXRJbWFnZURhdGEoY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVkQ2FudmFzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGNsb25lZENhbnZhcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY3JlYXRlSUZyYW1lQ2xvbmUoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wSWZyYW1lID0gPEhUTUxJRnJhbWVFbGVtZW50PmlmcmFtZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zdCBpZnJhbWVLZXkgPSBnZW5lcmF0ZUlmcmFtZUtleSgpO1xyXG4gICAgICAgICAgICB0ZW1wSWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1odG1sMmNhbnZhcy1pbnRlcm5hbC1pZnJhbWUta2V5JywgaWZyYW1lS2V5KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHBhcnNlQm91bmRzKGlmcmFtZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlTG9hZGVyLmNhY2hlW2lmcmFtZUtleV0gPSBnZXRJZnJhbWVEb2N1bWVudEVsZW1lbnQoaWZyYW1lLCB0aGlzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihkb2N1bWVudEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93VGFpbnQ6IHRoaXMub3B0aW9ucy5hbGxvd1RhaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVRpbWVvdXQ6IHRoaXMub3B0aW9ucy5pbWFnZVRpbWVvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiB0aGlzLm9wdGlvbnMubG9nZ2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB0aGlzLm9wdGlvbnMucHJveHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb250YWluZXI6IHRoaXMub3B0aW9ucy5yZW1vdmVDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5vcHRpb25zLnNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbk9iamVjdFJlbmRlcmluZzogdGhpcy5vcHRpb25zLmZvcmVpZ25PYmplY3RSZW5kZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VDT1JTOiB0aGlzLm9wdGlvbnMudXNlQ09SUyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogbmV3IENhbnZhc1JlbmRlcmVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQ6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVhPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxZOiBkb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlmcmFtZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZUNhbnZhcy5vbmVycm9yID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgaWZyYW1lcyBtYXkgcmVzdWx0IGluIGVtcHR5IFwiZGF0YTosXCIgVVJMcywgd2hpY2ggYXJlIGludmFsaWQgZnJvbSB0aGUgPGltZz4ncyBwb2ludCBvZiB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGluc3RlYWQgb2YgYG9ubG9hZGAgY2F1c2UgYG9uZXJyb3JgIGFuZCB1bmhhbmRsZWQgcmVqZWN0aW9uIHdhcm5pbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2h0bWwyY2FudmFzL2lzc3Vlcy8xNTAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLnNyYyA9PSAnZGF0YTosJyA/IHJlc29sdmUoY2FudmFzKSA6IHJlamVjdChldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wSWZyYW1lLnBhcmVudE5vZGUgJiYgaWZyYW1lLm93bmVyRG9jdW1lbnQgJiYgaWZyYW1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wSWZyYW1lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJZnJhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRlbXBJZnJhbWU7XHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5vd25lckRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgICAgICAgIGlmIChpc0hUTUxFbGVtZW50Tm9kZShub2RlKSAmJiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY3JlYXRlRWxlbWVudENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVCZWZvcmUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmJlZm9yZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlQWZ0ZXIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmFmdGVyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VFbGVtZW50ID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID0gY2xvbmU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCb2R5RWxlbWVudChjbG9uZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQc2V1ZG9IaWRlU3R5bGVzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVycyA9IHRoaXMuY291bnRlcnMucGFyc2UobmV3IENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbihzdHlsZSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZSA9IHRoaXMucmVzb2x2ZVBzZXVkb0NvbnRlbnQobm9kZSwgY2xvbmUsIHN0eWxlQmVmb3JlLCBQc2V1ZG9FbGVtZW50VHlwZS5CRUZPUkUpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnROb2RlKGNoaWxkKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzU2NyaXB0RWxlbWVudChjaGlsZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC5oYXNBdHRyaWJ1dGUoSUdOT1JFX0FUVFJJQlVURSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdGhpcy5vcHRpb25zLmlnbm9yZUVsZW1lbnRzICE9PSAnZnVuY3Rpb24nIHx8ICF0aGlzLm9wdGlvbnMuaWdub3JlRWxlbWVudHMoY2hpbGQpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY29weVN0eWxlcyB8fCAhaXNFbGVtZW50Tm9kZShjaGlsZCkgfHwgIWlzU3R5bGVFbGVtZW50KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQodGhpcy5jbG9uZU5vZGUoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZS5pbnNlcnRCZWZvcmUoYmVmb3JlLCBjbG9uZS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IHRoaXMucmVzb2x2ZVBzZXVkb0NvbnRlbnQobm9kZSwgY2xvbmUsIHN0eWxlQWZ0ZXIsIFBzZXVkb0VsZW1lbnRUeXBlLkFGVEVSKTtcclxuICAgICAgICAgICAgICAgIGlmIChhZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lLmFwcGVuZENoaWxkKGFmdGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcnMucG9wKGNvdW50ZXJzKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdHlsZSAmJiB0aGlzLm9wdGlvbnMuY29weVN0eWxlcyAmJiAhaXNJRnJhbWVFbGVtZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29weUNTU1N0eWxlcyhzdHlsZSwgY2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy90aGlzLmlubGluZUFsbEltYWdlcyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5zY3JvbGxUb3AgIT09IDAgfHwgbm9kZS5zY3JvbGxMZWZ0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlZEVsZW1lbnRzLnB1c2goW2Nsb25lLCBub2RlLnNjcm9sbExlZnQsIG5vZGUuc2Nyb2xsVG9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKGlzVGV4dGFyZWFFbGVtZW50KG5vZGUpIHx8IGlzU2VsZWN0RWxlbWVudChub2RlKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoaXNUZXh0YXJlYUVsZW1lbnQoY2xvbmUpIHx8IGlzU2VsZWN0RWxlbWVudChjbG9uZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUudmFsdWUgPSBub2RlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUucmVzb2x2ZVBzZXVkb0NvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSwgY2xvbmUsIHN0eWxlLCBwc2V1ZG9FbHQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKCFzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudCA9IGNsb25lLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICghZG9jdW1lbnQgfHwgIXZhbHVlIHx8IHZhbHVlID09PSAnbm9uZScgfHwgdmFsdWUgPT09ICctbW96LWFsdC1jb250ZW50JyB8fCBzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnBhcnNlKG5ldyBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oc3R5bGUpKTtcclxuICAgICAgICAgICAgdmFyIGRlY2xhcmF0aW9uID0gbmV3IENTU1BhcnNlZFBzZXVkb0RlY2xhcmF0aW9uKHN0eWxlKTtcclxuICAgICAgICAgICAgdmFyIGFub255bW91c1JlcGxhY2VkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzcHNldWRvZWxlbWVudCcpO1xyXG4gICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKHN0eWxlLCBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbi5jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b2tlbi52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlVSTF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gdG9rZW4udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4ubmFtZSA9PT0gJ2F0dHInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyID0gdG9rZW4udmFsdWVzLmZpbHRlcihpc0lkZW50VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLmdldEF0dHJpYnV0ZShhdHRyWzBdLnZhbHVlKSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLm5hbWUgPT09ICdjb3VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSB0b2tlbi52YWx1ZXMuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKSwgY291bnRlciA9IF9hWzBdLCBjb3VudGVyU3R5bGUgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgJiYgaXNJZGVudFRva2VuKGNvdW50ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclN0YXRlID0gX3RoaXMuY291bnRlcnMuZ2V0Q291bnRlclZhbHVlKGNvdW50ZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJUeXBlID0gY291bnRlclN0eWxlICYmIGlzSWRlbnRUb2tlbihjb3VudGVyU3R5bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsaXN0U3R5bGVUeXBlLnBhcnNlKGNvdW50ZXJTdHlsZS52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNyZWF0ZUNvdW50ZXJUZXh0KGNvdW50ZXJTdGF0ZSwgY291bnRlclR5cGUsIGZhbHNlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLm5hbWUgPT09ICdjb3VudGVycycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gdG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvciksIGNvdW50ZXIgPSBfYlswXSwgZGVsaW0gPSBfYlsxXSwgY291bnRlclN0eWxlID0gX2JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGlzSWRlbnRUb2tlbihjb3VudGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJTdGF0ZXMgPSBfdGhpcy5jb3VudGVycy5nZXRDb3VudGVyVmFsdWVzKGNvdW50ZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJUeXBlXzEgPSBjb3VudGVyU3R5bGUgJiYgaXNJZGVudFRva2VuKGNvdW50ZXJTdHlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxpc3RTdHlsZVR5cGUucGFyc2UoY291bnRlclN0eWxlLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gZGVsaW0gJiYgZGVsaW0udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTiA/IGRlbGltLnZhbHVlIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGNvdW50ZXJTdGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIGNvdW50ZXJUeXBlXzEsIGZhbHNlKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3Blbi1xdW90ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0UXVvdGUoZGVjbGFyYXRpb24ucXVvdGVzLCBfdGhpcy5xdW90ZURlcHRoKyssIHRydWUpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xvc2UtcXVvdGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGdldFF1b3RlKGRlY2xhcmF0aW9uLnF1b3RlcywgLS1fdGhpcy5xdW90ZURlcHRoLCBmYWxzZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FmYXJpIGRvZXNuJ3QgcGFyc2Ugc3RyaW5nIHRva2VucyBjb3JyZWN0bHkgYmVjYXVzZSBvZiBsYWNrIG9mIHF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRva2VuLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmNsYXNzTmFtZSA9IFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFICsgXCIgXCIgKyBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSO1xyXG4gICAgICAgICAgICBjbG9uZS5jbGFzc05hbWUgKz1cclxuICAgICAgICAgICAgICAgIHBzZXVkb0VsdCA9PT0gUHNldWRvRWxlbWVudFR5cGUuQkVGT1JFXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVI7XHJcbiAgICAgICAgICAgIHJldHVybiBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5kZXN0cm95ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRG9jdW1lbnRDbG9uZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIFBzZXVkb0VsZW1lbnRUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChQc2V1ZG9FbGVtZW50VHlwZSkge1xyXG4gICAgICAgIFBzZXVkb0VsZW1lbnRUeXBlW1BzZXVkb0VsZW1lbnRUeXBlW1wiQkVGT1JFXCJdID0gMF0gPSBcIkJFRk9SRVwiO1xyXG4gICAgICAgIFBzZXVkb0VsZW1lbnRUeXBlW1BzZXVkb0VsZW1lbnRUeXBlW1wiQUZURVJcIl0gPSAxXSA9IFwiQUZURVJcIjtcclxuICAgIH0pKFBzZXVkb0VsZW1lbnRUeXBlIHx8IChQc2V1ZG9FbGVtZW50VHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgY3JlYXRlSUZyYW1lQ29udGFpbmVyID0gZnVuY3Rpb24gKG93bmVyRG9jdW1lbnQsIGJvdW5kcykge1xyXG4gICAgICAgIHZhciBjbG9uZUlmcmFtZUNvbnRhaW5lciA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuY2xhc3NOYW1lID0gJ2h0bWwyY2FudmFzLWNvbnRhaW5lcic7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJy0xMDAwMHB4JztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4JztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAnMCc7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIud2lkdGggPSBib3VuZHMud2lkdGgudG9TdHJpbmcoKTtcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc2Nyb2xsaW5nID0gJ25vJzsgLy8gaW9zIHdvbid0IHNjcm9sbCB3aXRob3V0IGl0XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc2V0QXR0cmlidXRlKElHTk9SRV9BVFRSSUJVVEUsICd0cnVlJyk7XHJcbiAgICAgICAgb3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNsb25lSWZyYW1lQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY2xvbmVJZnJhbWVDb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlmcmFtZUxvYWRlciA9IGZ1bmN0aW9uIChpZnJhbWUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmVXaW5kb3cgPSBpZnJhbWUuY29udGVudFdpbmRvdztcclxuICAgICAgICAgICAgaWYgKCFjbG9uZVdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIk5vIHdpbmRvdyBhc3NpZ25lZCBmb3IgaWZyYW1lXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudENsb25lID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGlmcmFtZS5vbmxvYWQgPSBkb2N1bWVudENsb25lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGlmcmFtZS5vbmxvYWQgPSBkb2N1bWVudENsb25lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50Q2xvbmUuYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgJiYgZG9jdW1lbnRDbG9uZS5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGlmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBjb3B5Q1NTU3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlLCB0YXJnZXQpIHtcclxuICAgICAgICAvLyBFZGdlIGRvZXMgbm90IHByb3ZpZGUgdmFsdWUgZm9yIGNzc1RleHRcclxuICAgICAgICBmb3IgKHZhciBpID0gc3R5bGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gc3R5bGUuaXRlbShpKTtcclxuICAgICAgICAgICAgLy8gU2FmYXJpIHNob3dzIHBzZXVkb2VsZW1lbnRzIGlmIGNvbnRlbnQgaXMgc2V0XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gJ2NvbnRlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxuICAgIHZhciBzZXJpYWxpemVEb2N0eXBlID0gZnVuY3Rpb24gKGRvY3R5cGUpIHtcclxuICAgICAgICB2YXIgc3RyID0gJyc7XHJcbiAgICAgICAgaWYgKGRvY3R5cGUpIHtcclxuICAgICAgICAgICAgc3RyICs9ICc8IURPQ1RZUEUgJztcclxuICAgICAgICAgICAgaWYgKGRvY3R5cGUubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5pbnRlcm5hbFN1YnNldCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUuaW50ZXJuYWxTdWJzZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvY3R5cGUucHVibGljSWQpIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIlxcXCJcIiArIGRvY3R5cGUucHVibGljSWQgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5zeXN0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiXFxcIlwiICsgZG9jdHlwZS5zeXN0ZW1JZCArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciArPSAnPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gICAgdmFyIHJlc3RvcmVPd25lclNjcm9sbCA9IGZ1bmN0aW9uIChvd25lckRvY3VtZW50LCB4LCB5KSB7XHJcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiZcclxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAmJlxyXG4gICAgICAgICAgICAoeCAhPT0gb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCB8fCB5ICE9PSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0KSkge1xyXG4gICAgICAgICAgICBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnNjcm9sbFRvKHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcmVzdG9yZU5vZGVTY3JvbGwgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IF9hWzBdLCB4ID0gX2FbMV0sIHkgPSBfYVsyXTtcclxuICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSB4O1xyXG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0geTtcclxuICAgIH07XHJcbiAgICB2YXIgUFNFVURPX0JFRk9SRSA9ICc6YmVmb3JlJztcclxuICAgIHZhciBQU0VVRE9fQUZURVIgPSAnOmFmdGVyJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSA9ICdfX19odG1sMmNhbnZhc19fX3BzZXVkb2VsZW1lbnRfYmVmb3JlJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSID0gJ19fX2h0bWwyY2FudmFzX19fcHNldWRvZWxlbWVudF9hZnRlcic7XHJcbiAgICB2YXIgUFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRSA9IFwie1xcbiAgICBjb250ZW50OiBcXFwiXFxcIiAhaW1wb3J0YW50O1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVwiO1xyXG4gICAgdmFyIGNyZWF0ZVBzZXVkb0hpZGVTdHlsZXMgPSBmdW5jdGlvbiAoYm9keSkge1xyXG4gICAgICAgIGNyZWF0ZVN0eWxlcyhib2R5LCBcIi5cIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFICsgUFNFVURPX0JFRk9SRSArIFBTRVVET19ISURFX0VMRU1FTlRfU1RZTEUgKyBcIlxcbiAgICAgICAgIC5cIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVIgKyBQU0VVRE9fQUZURVIgKyBQU0VVRE9fSElERV9FTEVNRU5UX1NUWUxFKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gKGJvZHksIHN0eWxlcykge1xyXG4gICAgICAgIHZhciBkb2N1bWVudCA9IGJvZHkub3duZXJEb2N1bWVudDtcclxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XHJcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFBhdGhUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChQYXRoVHlwZSkge1xyXG4gICAgICAgIFBhdGhUeXBlW1BhdGhUeXBlW1wiVkVDVE9SXCJdID0gMF0gPSBcIlZFQ1RPUlwiO1xyXG4gICAgICAgIFBhdGhUeXBlW1BhdGhUeXBlW1wiQkVaSUVSX0NVUlZFXCJdID0gMV0gPSBcIkJFWklFUl9DVVJWRVwiO1xyXG4gICAgfSkoUGF0aFR5cGUgfHwgKFBhdGhUeXBlID0ge30pKTtcclxuICAgIHZhciBlcXVhbFBhdGggPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gYi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEuc29tZShmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gdiA9PT0gYltpXTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgdHJhbnNmb3JtUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBkZWx0YVgsIGRlbHRhWSwgZGVsdGFXLCBkZWx0YUgpIHtcclxuICAgICAgICByZXR1cm4gcGF0aC5tYXAoZnVuY3Rpb24gKHBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVgsIGRlbHRhWSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVggKyBkZWx0YVcsIGRlbHRhWSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVggKyBkZWx0YVcsIGRlbHRhWSArIGRlbHRhSCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVgsIGRlbHRhWSArIGRlbHRhSCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFZlY3Rvcih4LCB5KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLlZFQ1RPUjtcclxuICAgICAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICsgZGVsdGFYLCB0aGlzLnkgKyBkZWx0YVkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIGxlcnAgPSBmdW5jdGlvbiAoYSwgYiwgdCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKGEueCArIChiLnggLSBhLngpICogdCwgYS55ICsgKGIueSAtIGEueSkgKiB0KTtcclxuICAgIH07XHJcbiAgICB2YXIgQmV6aWVyQ3VydmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQmV6aWVyQ3VydmUoc3RhcnQsIHN0YXJ0Q29udHJvbCwgZW5kQ29udHJvbCwgZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLkJFWklFUl9DVVJWRTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29udHJvbCA9IHN0YXJ0Q29udHJvbDtcclxuICAgICAgICAgICAgdGhpcy5lbmRDb250cm9sID0gZW5kQ29udHJvbDtcclxuICAgICAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5zdWJkaXZpZGUgPSBmdW5jdGlvbiAodCwgZmlyc3RIYWxmKSB7XHJcbiAgICAgICAgICAgIHZhciBhYiA9IGxlcnAodGhpcy5zdGFydCwgdGhpcy5zdGFydENvbnRyb2wsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYmMgPSBsZXJwKHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLmVuZENvbnRyb2wsIHQpO1xyXG4gICAgICAgICAgICB2YXIgY2QgPSBsZXJwKHRoaXMuZW5kQ29udHJvbCwgdGhpcy5lbmQsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYWJiYyA9IGxlcnAoYWIsIGJjLCB0KTtcclxuICAgICAgICAgICAgdmFyIGJjY2QgPSBsZXJwKGJjLCBjZCwgdCk7XHJcbiAgICAgICAgICAgIHZhciBkZXN0ID0gbGVycChhYmJjLCBiY2NkLCB0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0SGFsZiA/IG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LCBhYiwgYWJiYywgZGVzdCkgOiBuZXcgQmV6aWVyQ3VydmUoZGVzdCwgYmNjZCwgY2QsIHRoaXMuZW5kKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuc3RhcnRDb250cm9sLmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuZW5kQ29udHJvbC5hZGQoZGVsdGFYLCBkZWx0YVkpLCB0aGlzLmVuZC5hZGQoZGVsdGFYLCBkZWx0YVkpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKHRoaXMuZW5kLCB0aGlzLmVuZENvbnRyb2wsIHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLnN0YXJ0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBCZXppZXJDdXJ2ZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNCZXppZXJDdXJ2ZSA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLnR5cGUgPT09IFBhdGhUeXBlLkJFWklFUl9DVVJWRTsgfTtcclxuXHJcbiAgICB2YXIgQm91bmRDdXJ2ZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQm91bmRDdXJ2ZXMoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XHJcbiAgICAgICAgICAgIHZhciBib3VuZHMgPSBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICAgICAgdmFyIF9hID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpLCB0bGggPSBfYVswXSwgdGx2ID0gX2FbMV07XHJcbiAgICAgICAgICAgIHZhciBfYiA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShzdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCksIHRyaCA9IF9iWzBdLCB0cnYgPSBfYlsxXTtcclxuICAgICAgICAgICAgdmFyIF9jID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cywgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KSwgYnJoID0gX2NbMF0sIGJydiA9IF9jWzFdO1xyXG4gICAgICAgICAgICB2YXIgX2QgPSBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUoc3R5bGVzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCksIGJsaCA9IF9kWzBdLCBibHYgPSBfZFsxXTtcclxuICAgICAgICAgICAgdmFyIGZhY3RvcnMgPSBbXTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKCh0bGggKyB0cmgpIC8gYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKChibGggKyBicmgpIC8gYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKCh0bHYgKyBibHYpIC8gYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaCgodHJ2ICsgYnJ2KSAvIGJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB2YXIgbWF4RmFjdG9yID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgZmFjdG9ycyk7XHJcbiAgICAgICAgICAgIGlmIChtYXhGYWN0b3IgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0bGggLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgdGx2IC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIHRyaCAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB0cnYgLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYnJoIC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIGJydiAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICBibGggLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYmx2IC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdG9wV2lkdGggPSBib3VuZHMud2lkdGggLSB0cmg7XHJcbiAgICAgICAgICAgIHZhciByaWdodEhlaWdodCA9IGJvdW5kcy5oZWlnaHQgLSBicnY7XHJcbiAgICAgICAgICAgIHZhciBib3R0b21XaWR0aCA9IGJvdW5kcy53aWR0aCAtIGJyaDtcclxuICAgICAgICAgICAgdmFyIGxlZnRIZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC0gYmx2O1xyXG4gICAgICAgICAgICB2YXIgYm9yZGVyVG9wV2lkdGggPSBzdHlsZXMuYm9yZGVyVG9wV2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJSaWdodFdpZHRoID0gc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJCb3R0b21XaWR0aCA9IHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aDtcclxuICAgICAgICAgICAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nVG9wID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ1RvcCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ1JpZ2h0LCBlbGVtZW50LmJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0JvdHRvbSwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nTGVmdCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvcExlZnRCb3JkZXJCb3ggPVxyXG4gICAgICAgICAgICAgICAgdGxoID4gMCB8fCB0bHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCwgYm91bmRzLnRvcCwgdGxoLCB0bHYsIENPUk5FUi5UT1BfTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQsIGJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICB0aGlzLnRvcFJpZ2h0Qm9yZGVyQm94ID1cclxuICAgICAgICAgICAgICAgIHRyaCA+IDAgfHwgdHJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyB0b3BXaWR0aCwgYm91bmRzLnRvcCwgdHJoLCB0cnYsIENPUk5FUi5UT1BfUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoLCBib3VuZHMudG9wKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21SaWdodEJvcmRlckJveCA9XHJcbiAgICAgICAgICAgICAgICBicmggPiAwIHx8IGJydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm90dG9tV2lkdGgsIGJvdW5kcy50b3AgKyByaWdodEhlaWdodCwgYnJoLCBicnYsIENPUk5FUi5CT1RUT01fUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tTGVmdEJvcmRlckJveCA9XHJcbiAgICAgICAgICAgICAgICBibGggPiAwIHx8IGJsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgYmxoLCBibHYsIENPUk5FUi5CT1RUT01fTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy50b3BMZWZ0UGFkZGluZ0JveCA9XHJcbiAgICAgICAgICAgICAgICB0bGggPiAwIHx8IHRsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGgsIE1hdGgubWF4KDAsIHRsaCAtIGJvcmRlckxlZnRXaWR0aCksIE1hdGgubWF4KDAsIHRsdiAtIGJvcmRlclRvcFdpZHRoKSwgQ09STkVSLlRPUF9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy50b3BSaWdodFBhZGRpbmdCb3ggPVxyXG4gICAgICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKHRvcFdpZHRoLCBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGgpLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGgsIHRvcFdpZHRoID4gYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoID8gMCA6IHRyaCAtIGJvcmRlckxlZnRXaWR0aCwgdHJ2IC0gYm9yZGVyVG9wV2lkdGgsIENPUk5FUi5UT1BfUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gYm9yZGVyUmlnaHRXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21SaWdodFBhZGRpbmdCb3ggPVxyXG4gICAgICAgICAgICAgICAgYnJoID4gMCB8fCBicnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKGJvdHRvbVdpZHRoLCBib3VuZHMud2lkdGggLSBib3JkZXJMZWZ0V2lkdGgpLCBib3VuZHMudG9wICsgTWF0aC5taW4ocmlnaHRIZWlnaHQsIGJvdW5kcy5oZWlnaHQgKyBib3JkZXJUb3BXaWR0aCksIE1hdGgubWF4KDAsIGJyaCAtIGJvcmRlclJpZ2h0V2lkdGgpLCBicnYgLSBib3JkZXJCb3R0b21XaWR0aCwgQ09STkVSLkJPVFRPTV9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSBib3JkZXJSaWdodFdpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIGJvcmRlckJvdHRvbVdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21MZWZ0UGFkZGluZ0JveCA9XHJcbiAgICAgICAgICAgICAgICBibGggPiAwIHx8IGJsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgTWF0aC5tYXgoMCwgYmxoIC0gYm9yZGVyTGVmdFdpZHRoKSwgYmx2IC0gYm9yZGVyQm90dG9tV2lkdGgsIENPUk5FUi5CT1RUT01fTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvcExlZnRDb250ZW50Qm94ID1cclxuICAgICAgICAgICAgICAgIHRsaCA+IDAgfHwgdGx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCwgTWF0aC5tYXgoMCwgdGxoIC0gKGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSksIE1hdGgubWF4KDAsIHRsdiAtIChib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApKSwgQ09STkVSLlRPUF9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKTtcclxuICAgICAgICAgICAgdGhpcy50b3BSaWdodENvbnRlbnRCb3ggPVxyXG4gICAgICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKHRvcFdpZHRoLCBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCksIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3AsIHRvcFdpZHRoID4gYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQgPyAwIDogdHJoIC0gYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIHRydiAtIChib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApLCBDT1JORVIuVE9QX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tUmlnaHRDb250ZW50Qm94ID1cclxuICAgICAgICAgICAgICAgIGJyaCA+IDAgfHwgYnJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBNYXRoLm1pbihib3R0b21XaWR0aCwgYm91bmRzLndpZHRoIC0gKGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSksIGJvdW5kcy50b3AgKyBNYXRoLm1pbihyaWdodEhlaWdodCwgYm91bmRzLmhlaWdodCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCksIE1hdGgubWF4KDAsIGJyaCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSksIGJydiAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pLCBDT1JORVIuQk9UVE9NX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSAoYm9yZGVyQm90dG9tV2lkdGggKyBwYWRkaW5nQm90dG9tKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tTGVmdENvbnRlbnRCb3ggPVxyXG4gICAgICAgICAgICAgICAgYmxoID4gMCB8fCBibHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgTWF0aC5tYXgoMCwgYmxoIC0gKGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSksIGJsdiAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pLCBDT1JORVIuQk9UVE9NX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQm91bmRDdXJ2ZXM7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENPUk5FUjtcclxuICAgIChmdW5jdGlvbiAoQ09STkVSKSB7XHJcbiAgICAgICAgQ09STkVSW0NPUk5FUltcIlRPUF9MRUZUXCJdID0gMF0gPSBcIlRPUF9MRUZUXCI7XHJcbiAgICAgICAgQ09STkVSW0NPUk5FUltcIlRPUF9SSUdIVFwiXSA9IDFdID0gXCJUT1BfUklHSFRcIjtcclxuICAgICAgICBDT1JORVJbQ09STkVSW1wiQk9UVE9NX1JJR0hUXCJdID0gMl0gPSBcIkJPVFRPTV9SSUdIVFwiO1xyXG4gICAgICAgIENPUk5FUltDT1JORVJbXCJCT1RUT01fTEVGVFwiXSA9IDNdID0gXCJCT1RUT01fTEVGVFwiO1xyXG4gICAgfSkoQ09STkVSIHx8IChDT1JORVIgPSB7fSkpO1xyXG4gICAgdmFyIGdldEN1cnZlUG9pbnRzID0gZnVuY3Rpb24gKHgsIHksIHIxLCByMiwgcG9zaXRpb24pIHtcclxuICAgICAgICB2YXIga2FwcGEgPSA0ICogKChNYXRoLnNxcnQoMikgLSAxKSAvIDMpO1xyXG4gICAgICAgIHZhciBveCA9IHIxICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcclxuICAgICAgICB2YXIgb3kgPSByMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxyXG4gICAgICAgIHZhciB4bSA9IHggKyByMTsgLy8geC1taWRkbGVcclxuICAgICAgICB2YXIgeW0gPSB5ICsgcjI7IC8vIHktbWlkZGxlXHJcbiAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIENPUk5FUi5UT1BfTEVGVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUobmV3IFZlY3Rvcih4LCB5bSksIG5ldyBWZWN0b3IoeCwgeW0gLSBveSksIG5ldyBWZWN0b3IoeG0gLSBveCwgeSksIG5ldyBWZWN0b3IoeG0sIHkpKTtcclxuICAgICAgICAgICAgY2FzZSBDT1JORVIuVE9QX1JJR0hUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShuZXcgVmVjdG9yKHgsIHkpLCBuZXcgVmVjdG9yKHggKyBveCwgeSksIG5ldyBWZWN0b3IoeG0sIHltIC0gb3kpLCBuZXcgVmVjdG9yKHhtLCB5bSkpO1xyXG4gICAgICAgICAgICBjYXNlIENPUk5FUi5CT1RUT01fUklHSFQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKG5ldyBWZWN0b3IoeG0sIHkpLCBuZXcgVmVjdG9yKHhtLCB5ICsgb3kpLCBuZXcgVmVjdG9yKHggKyBveCwgeW0pLCBuZXcgVmVjdG9yKHgsIHltKSk7XHJcbiAgICAgICAgICAgIGNhc2UgQ09STkVSLkJPVFRPTV9MRUZUOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShuZXcgVmVjdG9yKHhtLCB5bSksIG5ldyBWZWN0b3IoeG0gLSBveCwgeW0pLCBuZXcgVmVjdG9yKHgsIHkgKyBveSksIG5ldyBWZWN0b3IoeCwgeSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQm9yZGVyQm94UGF0aCA9IGZ1bmN0aW9uIChjdXJ2ZXMpIHtcclxuICAgICAgICByZXR1cm4gW2N1cnZlcy50b3BMZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21SaWdodEJvcmRlckJveCwgY3VydmVzLmJvdHRvbUxlZnRCb3JkZXJCb3hdO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVDb250ZW50Qm94UGF0aCA9IGZ1bmN0aW9uIChjdXJ2ZXMpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdENvbnRlbnRCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy50b3BSaWdodENvbnRlbnRCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy5ib3R0b21SaWdodENvbnRlbnRCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0Q29udGVudEJveFxyXG4gICAgICAgIF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoID0gZnVuY3Rpb24gKGN1cnZlcykge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIGN1cnZlcy50b3BMZWZ0UGFkZGluZ0JveCxcclxuICAgICAgICAgICAgY3VydmVzLnRvcFJpZ2h0UGFkZGluZ0JveCxcclxuICAgICAgICAgICAgY3VydmVzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveCxcclxuICAgICAgICAgICAgY3VydmVzLmJvdHRvbUxlZnRQYWRkaW5nQm94XHJcbiAgICAgICAgXTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRyYW5zZm9ybUVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FZmZlY3Qob2Zmc2V0WCwgb2Zmc2V0WSwgbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IDAgLyogVFJBTlNGT1JNICovO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFggPSBvZmZzZXRYO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFkgPSBvZmZzZXRZO1xyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSAyIC8qIEJBQ0tHUk9VTkRfQk9SREVSUyAqLyB8IDQgLyogQ09OVEVOVCAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVmZmVjdDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ2xpcEVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDbGlwRWZmZWN0KHBhdGgsIHRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIENMSVAgKi87XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ2xpcEVmZmVjdDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNUcmFuc2Zvcm1FZmZlY3QgPSBmdW5jdGlvbiAoZWZmZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIGVmZmVjdC50eXBlID09PSAwIC8qIFRSQU5TRk9STSAqLztcclxuICAgIH07XHJcbiAgICB2YXIgaXNDbGlwRWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkgeyByZXR1cm4gZWZmZWN0LnR5cGUgPT09IDEgLyogQ0xJUCAqLzsgfTtcclxuXHJcbiAgICB2YXIgU3RhY2tpbmdDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFN0YWNraW5nQ29udGV4dChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gY29udGFpbmVyO1xyXG4gICAgICAgICAgICB0aGlzLmlubGluZUxldmVsID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubm9uSW5saW5lTGV2ZWwgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5uZWdhdGl2ZVpJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmVaSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5ub25Qb3NpdGlvbmVkRmxvYXRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubm9uUG9zaXRpb25lZElubGluZUxldmVsID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTdGFja2luZ0NvbnRleHQ7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIEVsZW1lbnRQYWludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBFbGVtZW50UGFpbnQoZWxlbWVudCwgcGFyZW50U3RhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdHMgPSBwYXJlbnRTdGFjay5zbGljZSgwKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJ2ZXMgPSBuZXcgQm91bmRDdXJ2ZXMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlcy50cmFuc2Zvcm0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gZWxlbWVudC5ib3VuZHMubGVmdCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblswXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IGVsZW1lbnQuYm91bmRzLnRvcCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblsxXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0cml4ID0gZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IFRyYW5zZm9ybUVmZmVjdChvZmZzZXRYLCBvZmZzZXRZLCBtYXRyaXgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZXMub3ZlcmZsb3dYICE9PSBPVkVSRkxPVy5WSVNJQkxFKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyQm94ID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ0JveCA9IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKHRoaXMuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcXVhbFBhdGgoYm9yZGVyQm94LCBwYWRkaW5nQm94KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8gfCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHMucHVzaChuZXcgQ2xpcEVmZmVjdChwYWRkaW5nQm94LCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBFbGVtZW50UGFpbnQucHJvdG90eXBlLmdldFBhcmVudEVmZmVjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlZmZlY3RzID0gdGhpcy5lZmZlY3RzLnNsaWNlKDApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGVzLm92ZXJmbG93WCAhPT0gT1ZFUkZMT1cuVklTSUJMRSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvcmRlckJveCA9IGNhbGN1bGF0ZUJvcmRlckJveFBhdGgodGhpcy5jdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdCb3ggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFsUGF0aChib3JkZXJCb3gsIHBhZGRpbmdCb3gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KHBhZGRpbmdCb3gsIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovIHwgNCAvKiBDT05URU5UICovKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVmZmVjdHM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRWxlbWVudFBhaW50O1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBwYXJzZVN0YWNrVHJlZSA9IGZ1bmN0aW9uIChwYXJlbnQsIHN0YWNraW5nQ29udGV4dCwgcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdEl0ZW1zKSB7XHJcbiAgICAgICAgcGFyZW50LmNvbnRhaW5lci5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgPSBjb250YWlucyhjaGlsZC5mbGFncywgNCAvKiBDUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCAqLyk7XHJcbiAgICAgICAgICAgIHZhciBjcmVhdGVzU3RhY2tpbmdDb250ZXh0ID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIDIgLyogQ1JFQVRFU19TVEFDS0lOR19DT05URVhUICovKTtcclxuICAgICAgICAgICAgdmFyIHBhaW50Q29udGFpbmVyID0gbmV3IEVsZW1lbnRQYWludChjaGlsZCwgcGFyZW50LmdldFBhcmVudEVmZmVjdHMoKSk7XHJcbiAgICAgICAgICAgIGlmIChjb250YWlucyhjaGlsZC5zdHlsZXMuZGlzcGxheSwgMjA0OCAvKiBMSVNUX0lURU0gKi8pKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbXMucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxpc3RPd25lckl0ZW1zID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIDggLyogSVNfTElTVF9PV05FUiAqLykgPyBbXSA6IGxpc3RJdGVtcztcclxuICAgICAgICAgICAgaWYgKHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTdGFjayA9IHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNoaWxkLnN0eWxlcy5pc1Bvc2l0aW9uZWQoKSA/IHJlYWxTdGFja2luZ0NvbnRleHQgOiBzdGFja2luZ0NvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2tpbmdDb250ZXh0KHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zdHlsZXMuaXNQb3NpdGlvbmVkKCkgfHwgY2hpbGQuc3R5bGVzLm9wYWNpdHkgPCAxIHx8IGNoaWxkLnN0eWxlcy5pc1RyYW5zZm9ybWVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJfMSA9IGNoaWxkLnN0eWxlcy56SW5kZXgub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyXzEgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc29tZShmdW5jdGlvbiAoY3VycmVudCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyXzEgPiBjdXJyZW50LmVsZW1lbnQuY29udGFpbmVyLnN0eWxlcy56SW5kZXgub3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleF8xID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleF8xID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc3BsaWNlKGluZGV4XzEsIDAsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3JkZXJfMSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4XzIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5wb3NpdGl2ZVpJbmRleC5zb21lKGZ1bmN0aW9uIChjdXJyZW50LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJfMSA+IGN1cnJlbnQuZWxlbWVudC5jb250YWluZXIuc3R5bGVzLnpJbmRleC5vcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XzIgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleF8yID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2sucG9zaXRpdmVaSW5kZXguc3BsaWNlKGluZGV4XzIsIDAsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5LnB1c2goc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zdHlsZXMuaXNGbG9hdGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLm5vblBvc2l0aW9uZWRGbG9hdHMucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHN0YWNrLCB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA/IHN0YWNrIDogcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdE93bmVySXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnN0eWxlcy5pc0lubGluZUxldmVsKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQuaW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQubm9uSW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJzZVN0YWNrVHJlZShwYWludENvbnRhaW5lciwgc3RhY2tpbmdDb250ZXh0LCByZWFsU3RhY2tpbmdDb250ZXh0LCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLmZsYWdzLCA4IC8qIElTX0xJU1RfT1dORVIgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzTGlzdEl0ZW1zKGNoaWxkLCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgcHJvY2Vzc0xpc3RJdGVtcyA9IGZ1bmN0aW9uIChvd25lciwgZWxlbWVudHMpIHtcclxuICAgICAgICB2YXIgbnVtYmVyaW5nID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5zdGFydCA6IDE7XHJcbiAgICAgICAgdmFyIHJldmVyc2VkID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5yZXZlcnNlZCA6IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY29udGFpbmVyIGluc3RhbmNlb2YgTElFbGVtZW50Q29udGFpbmVyICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5jb250YWluZXIudmFsdWUgPT09ICdudW1iZXInICYmXHJcbiAgICAgICAgICAgICAgICBpdGVtLmNvbnRhaW5lci52YWx1ZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyaW5nID0gaXRlbS5jb250YWluZXIudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaXRlbS5saXN0VmFsdWUgPSBjcmVhdGVDb3VudGVyVGV4dChudW1iZXJpbmcsIGl0ZW0uY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVUeXBlLCB0cnVlKTtcclxuICAgICAgICAgICAgbnVtYmVyaW5nICs9IHJldmVyc2VkID8gLTEgOiAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VTdGFja2luZ0NvbnRleHRzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBwYWludENvbnRhaW5lciA9IG5ldyBFbGVtZW50UGFpbnQoY29udGFpbmVyLCBbXSk7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBuZXcgU3RhY2tpbmdDb250ZXh0KHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICB2YXIgbGlzdEl0ZW1zID0gW107XHJcbiAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHJvb3QsIHJvb3QsIGxpc3RJdGVtcyk7XHJcbiAgICAgICAgcHJvY2Vzc0xpc3RJdGVtcyhwYWludENvbnRhaW5lci5jb250YWluZXIsIGxpc3RJdGVtcyk7XHJcbiAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwYXJzZVBhdGhGb3JCb3JkZXIgPSBmdW5jdGlvbiAoY3VydmVzLCBib3JkZXJTaWRlKSB7XHJcbiAgICAgICAgc3dpdGNoIChib3JkZXJTaWRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMudG9wTGVmdEJvcmRlckJveCwgY3VydmVzLnRvcExlZnRQYWRkaW5nQm94LCBjdXJ2ZXMudG9wUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy50b3BSaWdodFBhZGRpbmdCb3gpO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLnRvcFJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wUmlnaHRQYWRkaW5nQm94LCBjdXJ2ZXMuYm90dG9tUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21SaWdodFBhZGRpbmdCb3gpO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tUmlnaHRQYWRkaW5nQm94LCBjdXJ2ZXMuYm90dG9tTGVmdEJvcmRlckJveCwgY3VydmVzLmJvdHRvbUxlZnRQYWRkaW5nQm94KTtcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKGN1cnZlcy5ib3R0b21MZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tTGVmdFBhZGRpbmdCb3gsIGN1cnZlcy50b3BMZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wTGVmdFBhZGRpbmdCb3gpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlUGF0aEZyb21DdXJ2ZXMgPSBmdW5jdGlvbiAob3V0ZXIxLCBpbm5lcjEsIG91dGVyMiwgaW5uZXIyKSB7XHJcbiAgICAgICAgdmFyIHBhdGggPSBbXTtcclxuICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShvdXRlcjEpKSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjEuc3ViZGl2aWRlKDAuNSwgZmFsc2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShvdXRlcjIpKSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjIuc3ViZGl2aWRlKDAuNSwgdHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKG91dGVyMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0JlemllckN1cnZlKGlubmVyMikpIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMi5zdWJkaXZpZGUoMC41LCB0cnVlKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0JlemllckN1cnZlKGlubmVyMSkpIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMS5zdWJkaXZpZGUoMC41LCBmYWxzZSkucmV2ZXJzZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChpbm5lcjEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHBhZGRpbmdCb3ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBib3VuZHMgPSBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICB2YXIgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XHJcbiAgICAgICAgcmV0dXJuIGJvdW5kcy5hZGQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgc3R5bGVzLmJvcmRlclRvcFdpZHRoLCAtKHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoICsgc3R5bGVzLmJvcmRlckxlZnRXaWR0aCksIC0oc3R5bGVzLmJvcmRlclRvcFdpZHRoICsgc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNvbnRlbnRCb3ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBzdHlsZXMgPSBlbGVtZW50LnN0eWxlcztcclxuICAgICAgICB2YXIgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0xlZnQsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdSaWdodCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdSaWdodCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdUb3AsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdCb3R0b20gPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nQm90dG9tLCBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgIHJldHVybiBib3VuZHMuYWRkKHBhZGRpbmdMZWZ0ICsgc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgcGFkZGluZ1RvcCArIHN0eWxlcy5ib3JkZXJUb3BXaWR0aCwgLShzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodCksIC0oc3R5bGVzLmJvcmRlclRvcFdpZHRoICsgc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b20pKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEgPSBmdW5jdGlvbiAoYmFja2dyb3VuZE9yaWdpbiwgZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09PSAwIC8qIEJPUkRFUl9CT1ggKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmFja2dyb3VuZE9yaWdpbiA9PT0gMiAvKiBDT05URU5UX0JPWCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZGRpbmdCb3goZWxlbWVudCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRQYWludGluZ0FyZWEgPSBmdW5jdGlvbiAoYmFja2dyb3VuZENsaXAsIGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZENsaXAgPT09IEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhY2tncm91bmRDbGlwID09PSBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3goZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYWRkaW5nQm94KGVsZW1lbnQpO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgaW5kZXgsIGludHJpbnNpY1NpemUpIHtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kT3JpZ2luLCBpbmRleCksIGNvbnRhaW5lcik7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRQYWludGluZ0FyZWEgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZENsaXAsIGluZGV4KSwgY29udGFpbmVyKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlU2l6ZSA9IGNhbGN1bGF0ZUJhY2tncm91bmRTaXplKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZFNpemUsIGluZGV4KSwgaW50cmluc2ljU2l6ZSwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSk7XHJcbiAgICAgICAgdmFyIHNpemVXaWR0aCA9IGJhY2tncm91bmRJbWFnZVNpemVbMF0sIHNpemVIZWlnaHQgPSBiYWNrZ3JvdW5kSW1hZ2VTaXplWzFdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRQb3NpdGlvbiwgaW5kZXgpLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoIC0gc2l6ZVdpZHRoLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCAtIHNpemVIZWlnaHQpO1xyXG4gICAgICAgIHZhciBwYXRoID0gY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGgoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kUmVwZWF0LCBpbmRleCksIHBvc2l0aW9uLCBiYWNrZ3JvdW5kSW1hZ2VTaXplLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLCBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcclxuICAgICAgICB2YXIgb2Zmc2V0WCA9IE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb25bMF0pO1xyXG4gICAgICAgIHZhciBvZmZzZXRZID0gTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHBvc2l0aW9uWzFdKTtcclxuICAgICAgICByZXR1cm4gW3BhdGgsIG9mZnNldFgsIG9mZnNldFksIHNpemVXaWR0aCwgc2l6ZUhlaWdodF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQXV0byA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkFVVE87IH07XHJcbiAgICB2YXIgaGFzSW50cmluc2ljVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7IH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgX2EsIGJvdW5kcykge1xyXG4gICAgICAgIHZhciBpbnRyaW5zaWNXaWR0aCA9IF9hWzBdLCBpbnRyaW5zaWNIZWlnaHQgPSBfYVsxXSwgaW50cmluc2ljUHJvcG9ydGlvbiA9IF9hWzJdO1xyXG4gICAgICAgIHZhciBmaXJzdCA9IHNpemVbMF0sIHNlY29uZCA9IHNpemVbMV07XHJcbiAgICAgICAgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZShmaXJzdCkgJiYgc2Vjb25kICYmIGlzTGVuZ3RoUGVyY2VudGFnZShzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKSwgZ2V0QWJzb2x1dGVWYWx1ZShzZWNvbmQsIGJvdW5kcy5oZWlnaHQpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY1Byb3BvcnRpb24gPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKTtcclxuICAgICAgICBpZiAoaXNJZGVudFRva2VuKGZpcnN0KSAmJiAoZmlyc3QudmFsdWUgPT09IEJBQ0tHUk9VTkRfU0laRS5DT05UQUlOIHx8IGZpcnN0LnZhbHVlID09PSBCQUNLR1JPVU5EX1NJWkUuQ09WRVIpKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFJhdGlvID0gYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRSYXRpbyA8IGludHJpbnNpY1Byb3BvcnRpb24gIT09IChmaXJzdC52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPVkVSKVxyXG4gICAgICAgICAgICAgICAgICAgID8gW2JvdW5kcy53aWR0aCwgYm91bmRzLndpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbl1cclxuICAgICAgICAgICAgICAgICAgICA6IFtib3VuZHMuaGVpZ2h0ICogaW50cmluc2ljUHJvcG9ydGlvbiwgYm91bmRzLmhlaWdodF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzSW50cmluc2ljV2lkdGggPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNXaWR0aCk7XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY0hlaWdodCA9IGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY0hlaWdodCk7XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY0RpbWVuc2lvbnMgPSBoYXNJbnRyaW5zaWNXaWR0aCB8fCBoYXNJbnRyaW5zaWNIZWlnaHQ7XHJcbiAgICAgICAgLy8gSWYgdGhlIGJhY2tncm91bmQtc2l6ZSBpcyBhdXRvIG9yIGF1dG8gYXV0bzpcclxuICAgICAgICBpZiAoaXNBdXRvKGZpcnN0KSAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBib3RoIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludHJpbnNpYyBkaW1lbnNpb25zLCBpdCdzIHJlbmRlcmVkIGF0IHRoYXQgc2l6ZS5cclxuICAgICAgICAgICAgaWYgKGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbnRyaW5zaWNXaWR0aCwgaW50cmluc2ljSGVpZ2h0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG5vIGludHJpbnNpYyBkaW1lbnNpb25zIGFuZCBoYXMgbm8gaW50cmluc2ljIHByb3BvcnRpb25zLFxyXG4gICAgICAgICAgICAvLyBpdCdzIHJlbmRlcmVkIGF0IHRoZSBzaXplIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgICAgIGlmICghaGFzSW50cmluc2ljUHJvcG9ydGlvbiAmJiAhaGFzSW50cmluc2ljRGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgZGltZW5zaW9ucyBidXQgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyByZW5kZXJlZCBhcyBpZiBjb250YWluIGhhZCBiZWVuIHNwZWNpZmllZCBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG9ubHkgb25lIGludHJpbnNpYyBkaW1lbnNpb24gYW5kIGhhcyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsIGl0J3MgcmVuZGVyZWQgYXQgdGhlIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGF0IG9uZSBkaW1lbnNpb24uXHJcbiAgICAgICAgICAgIC8vIFRoZSBvdGhlciBkaW1lbnNpb24gaXMgY29tcHV0ZWQgdXNpbmcgdGhlIHNwZWNpZmllZCBkaW1lbnNpb24gYW5kIHRoZSBpbnRyaW5zaWMgcHJvcG9ydGlvbnMuXHJcbiAgICAgICAgICAgIGlmIChoYXNJbnRyaW5zaWNEaW1lbnNpb25zICYmIGhhc0ludHJpbnNpY1Byb3BvcnRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aF8xID0gaGFzSW50cmluc2ljV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICA/IGludHJpbnNpY1dpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpbnRyaW5zaWNIZWlnaHQgKiBpbnRyaW5zaWNQcm9wb3J0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBpbnRyaW5zaWNIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICA6IGludHJpbnNpY1dpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMSwgaGVpZ2h0XzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgb25seSBvbmUgaW50cmluc2ljIGRpbWVuc2lvbiBidXQgaGFzIG5vIGludHJpbnNpYyBwcm9wb3J0aW9ucyxcclxuICAgICAgICAgICAgLy8gaXQncyByZW5kZXJlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIG90aGVyIGRpbWVuc2lvbiBvZiB0aGUgYmFja2dyb3VuZCBwb3NpdGlvbmluZyBhcmVhLlxyXG4gICAgICAgICAgICB2YXIgd2lkdGhfMiA9IGhhc0ludHJpbnNpY1dpZHRoID8gaW50cmluc2ljV2lkdGggOiBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMiA9IGhhc0ludHJpbnNpY0hlaWdodCA/IGludHJpbnNpY0hlaWdodCA6IGJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMiwgaGVpZ2h0XzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyBzdHJldGNoZWQgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb24uXHJcbiAgICAgICAgLy8gVGhlIHVuc3BlY2lmaWVkIGRpbWVuc2lvbiBpcyBjb21wdXRlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIGludHJpbnNpYyBwcm9wb3J0aW9ucy5cclxuICAgICAgICBpZiAoaGFzSW50cmluc2ljUHJvcG9ydGlvbikge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGhfMyA9IDA7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UoZmlyc3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aF8zID0gZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0XzMgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQXV0byhmaXJzdCkpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoXzMgPSBoZWlnaHRfMyAqIGludHJpbnNpY1Byb3BvcnRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0XzMgPSB3aWR0aF8zIC8gaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoXzMsIGhlaWdodF8zXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsIGl0J3Mgc3RyZXRjaGVkIHRvIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uLlxyXG4gICAgICAgIC8vIFRoZSB1bnNwZWNpZmllZCBkaW1lbnNpb24gaXMgY29tcHV0ZWQgdXNpbmcgdGhlIGltYWdlJ3MgY29ycmVzcG9uZGluZyBpbnRyaW5zaWMgZGltZW5zaW9uLFxyXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9uZS4gSWYgdGhlcmUgaXMgbm8gc3VjaCBpbnRyaW5zaWMgZGltZW5zaW9uLFxyXG4gICAgICAgIC8vIGl0IGJlY29tZXMgdGhlIGNvcnJlc3BvbmRpbmcgZGltZW5zaW9uIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gbnVsbDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKGZpcnN0KSkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IGdldEFic29sdXRlVmFsdWUoZmlyc3QsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNlY29uZCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcclxuICAgICAgICAgICAgaGVpZ2h0ID1cclxuICAgICAgICAgICAgICAgIGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgID8gKHdpZHRoIC8gaW50cmluc2ljV2lkdGgpICogaW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgOiBib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVpZ2h0ICE9PSBudWxsICYmIGlzQXV0byhmaXJzdCkpIHtcclxuICAgICAgICAgICAgd2lkdGggPVxyXG4gICAgICAgICAgICAgICAgaGFzSW50cmluc2ljV2lkdGggJiYgaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyAoaGVpZ2h0IC8gaW50cmluc2ljSGVpZ2h0KSAqIGludHJpbnNpY1dpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgOiBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiBoZWlnaHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNhbGN1bGF0ZSBiYWNrZ3JvdW5kLXNpemUgZm9yIGVsZW1lbnRcIik7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4ID0gZnVuY3Rpb24gKHZhbHVlcywgaW5kZXgpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGggPSBmdW5jdGlvbiAocmVwZWF0LCBfYSwgX2IsIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEsIGJhY2tncm91bmRQYWludGluZ0FyZWEpIHtcclxuICAgICAgICB2YXIgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgdmFyIHdpZHRoID0gX2JbMF0sIGhlaWdodCA9IF9iWzFdO1xyXG4gICAgICAgIHN3aXRjaCAocmVwZWF0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS53aWR0aCksIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1k6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4ICsgd2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5oZWlnaHQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5ICsgaGVpZ2h0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSArIGhlaWdodCkpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5sZWZ0KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5oZWlnaHQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFNNQUxMX0lNQUdFID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyc7XHJcblxyXG4gICAgdmFyIFNBTVBMRV9URVhUID0gJ0hpZGRlbiBUZXh0JztcclxuICAgIHZhciBGb250TWV0cmljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBGb250TWV0cmljcyhkb2N1bWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuX2RvY3VtZW50ID0gZG9jdW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEZvbnRNZXRyaWNzLnByb3RvdHlwZS5wYXJzZU1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udEZhbWlseSwgZm9udFNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuX2RvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBTTUFMTF9JTUFHRTtcclxuICAgICAgICAgICAgaW1nLndpZHRoID0gMTtcclxuICAgICAgICAgICAgaW1nLmhlaWdodCA9IDE7XHJcbiAgICAgICAgICAgIGltZy5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIGltZy5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdiYXNlbGluZSc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgICAgICB2YXIgYmFzZWxpbmUgPSBpbWcub2Zmc2V0VG9wIC0gc3Bhbi5vZmZzZXRUb3AgKyAyO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdzdXBlcic7XHJcbiAgICAgICAgICAgIHZhciBtaWRkbGUgPSBpbWcub2Zmc2V0VG9wIC0gY29udGFpbmVyLm9mZnNldFRvcCArIDI7XHJcbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgYmFzZWxpbmU6IGJhc2VsaW5lLCBtaWRkbGU6IG1pZGRsZSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRm9udE1ldHJpY3MucHJvdG90eXBlLmdldE1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udEZhbWlseSwgZm9udFNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGZvbnRGYW1pbHkgKyBcIiBcIiArIGZvbnRTaXplO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2RhdGFba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IHRoaXMucGFyc2VNZXRyaWNzKGZvbnRGYW1pbHksIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEZvbnRNZXRyaWNzO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICB2YXIgTUFTS19PRkZTRVQgPSAxMDAwMDtcclxuICAgIHZhciBDYW52YXNSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJlcihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBvcHRpb25zLmNhbnZhcyA/IG9wdGlvbnMuY2FudmFzIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmZsb29yKG9wdGlvbnMud2lkdGggKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3Iob3B0aW9ucy5oZWlnaHQgKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZm9udE1ldHJpY3MgPSBuZXcgRm9udE1ldHJpY3MoZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtb3B0aW9ucy54ICsgb3B0aW9ucy5zY3JvbGxYLCAtb3B0aW9ucy55ICsgb3B0aW9ucy5zY3JvbGxZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKG9wdGlvbnMuaWQpLmRlYnVnKFwiQ2FudmFzIHJlbmRlcmVyIGluaXRpYWxpemVkIChcIiArIG9wdGlvbnMud2lkdGggKyBcInhcIiArIG9wdGlvbnMuaGVpZ2h0ICsgXCIgYXQgXCIgKyBvcHRpb25zLnggKyBcIixcIiArIG9wdGlvbnMueSArIFwiKSB3aXRoIHNjYWxlIFwiICsgb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5hcHBseUVmZmVjdHMgPSBmdW5jdGlvbiAoZWZmZWN0cywgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9hY3RpdmVFZmZlY3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BFZmZlY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlZmZlY3RzLmZpbHRlcihmdW5jdGlvbiAoZWZmZWN0KSB7IHJldHVybiBjb250YWlucyhlZmZlY3QudGFyZ2V0LCB0YXJnZXQpOyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlZmZlY3QpIHsgcmV0dXJuIF90aGlzLmFwcGx5RWZmZWN0KGVmZmVjdCk7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmFwcGx5RWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybUVmZmVjdChlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoZWZmZWN0Lm9mZnNldFgsIGVmZmVjdC5vZmZzZXRZKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zZm9ybShlZmZlY3QubWF0cml4WzBdLCBlZmZlY3QubWF0cml4WzFdLCBlZmZlY3QubWF0cml4WzJdLCBlZmZlY3QubWF0cml4WzNdLCBlZmZlY3QubWF0cml4WzRdLCBlZmZlY3QubWF0cml4WzVdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtZWZmZWN0Lm9mZnNldFgsIC1lZmZlY3Qub2Zmc2V0WSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ2xpcEVmZmVjdChlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGgoZWZmZWN0LnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMucHVzaChlZmZlY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnBvcEVmZmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cy5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclN0YWNrID0gZnVuY3Rpb24gKHN0YWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBzdGFjay5lbGVtZW50LmNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlcy5pc1Zpc2libGUoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IHN0eWxlcy5vcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFja0NvbnRlbnQoc3RhY2spXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTm9kZSA9IGZ1bmN0aW9uIChwYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaW50LmNvbnRhaW5lci5zdHlsZXMuaXNWaXNpYmxlKCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMocGFpbnQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQ29udGVudChwYWludCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcgPSBmdW5jdGlvbiAodGV4dCwgbGV0dGVyU3BhY2luZykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQodGV4dC50ZXh0LCB0ZXh0LmJvdW5kcy5sZWZ0LCB0ZXh0LmJvdW5kcy50b3AgKyB0ZXh0LmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxldHRlcnMgPSB0b0NvZGVQb2ludHModGV4dC50ZXh0KS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGZyb21Db2RlUG9pbnQoaSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0dGVycy5yZWR1Y2UoZnVuY3Rpb24gKGxlZnQsIGxldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsVGV4dChsZXR0ZXIsIGxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgKyBfdGhpcy5jdHgubWVhc3VyZVRleHQobGV0dGVyKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0sIHRleHQuYm91bmRzLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlRm9udFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlcykge1xyXG4gICAgICAgICAgICB2YXIgZm9udFZhcmlhbnQgPSBzdHlsZXMuZm9udFZhcmlhbnRcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHZhcmlhbnQpIHsgcmV0dXJuIHZhcmlhbnQgPT09ICdub3JtYWwnIHx8IHZhcmlhbnQgPT09ICdzbWFsbC1jYXBzJzsgfSlcclxuICAgICAgICAgICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBzdHlsZXMuZm9udEZhbWlseS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemUgPSBpc0RpbWVuc2lvblRva2VuKHN0eWxlcy5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgID8gXCJcIiArIHN0eWxlcy5mb250U2l6ZS5udW1iZXIgKyBzdHlsZXMuZm9udFNpemUudW5pdFxyXG4gICAgICAgICAgICAgICAgOiBzdHlsZXMuZm9udFNpemUubnVtYmVyICsgXCJweFwiO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgW3N0eWxlcy5mb250U3R5bGUsIGZvbnRWYXJpYW50LCBzdHlsZXMuZm9udFdlaWdodCwgZm9udFNpemUsIGZvbnRGYW1pbHldLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHksXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclRleHROb2RlID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2EsIGZvbnQsIGZvbnRGYW1pbHksIGZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXMuY3JlYXRlRm9udFN0eWxlKHN0eWxlcyksIGZvbnQgPSBfYVswXSwgZm9udEZhbWlseSA9IF9hWzFdLCBmb250U2l6ZSA9IF9hWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQudGV4dEJvdW5kcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcodGV4dCwgc3R5bGVzLmxldHRlclNwYWNpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dFNoYWRvd3MgPSBzdHlsZXMudGV4dFNoYWRvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRTaGFkb3dzLmxlbmd0aCAmJiB0ZXh0LnRleHQudHJpbSgpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNoYWRvd3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHRleHRTaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0NvbG9yID0gYXNTdHJpbmcodGV4dFNoYWRvdy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gdGV4dFNoYWRvdy5vZmZzZXRYLm51bWJlciAqIF90aGlzLm9wdGlvbnMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRZID0gdGV4dFNoYWRvdy5vZmZzZXRZLm51bWJlciAqIF90aGlzLm9wdGlvbnMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dCbHVyID0gdGV4dFNoYWRvdy5ibHVyLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxUZXh0KHRleHQudGV4dCwgdGV4dC5ib3VuZHMubGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0JsdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkNvbG9yIHx8IHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmZvckVhY2goZnVuY3Rpb24gKHRleHREZWNvcmF0aW9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGV4dERlY29yYXRpb25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBVTkRFUkxJTkUgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmF3cyBhIGxpbmUgYXQgdGhlIGJhc2VsaW5lIG9mIHRoZSBmb250XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIEFzIHNvbWUgYnJvd3NlcnMgZGlzcGxheSB0aGUgbGluZSBhcyBtb3JlIHRoYW4gMXB4IGlmIHRoZSBmb250LXNpemUgaXMgYmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50IGJvdGggaW4gcG9zaXRpb24gYW5kIHNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlbGluZSA9IF90aGlzLmZvbnRNZXRyaWNzLmdldE1ldHJpY3MoZm9udEZhbWlseSwgZm9udFNpemUpLmJhc2VsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wICsgYmFzZWxpbmUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIE9WRVJMSU5FICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wKSwgdGV4dC5ib3VuZHMud2lkdGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBMSU5FX1RIUk9VR0ggKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHRyeSBhbmQgZmluZCBleGFjdCBwb3NpdGlvbiBmb3IgbGluZS10aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWlkZGxlID0gX3RoaXMuZm9udE1ldHJpY3MuZ2V0TWV0cmljcyhmb250RmFtaWx5LCBmb250U2l6ZSkubWlkZGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGguY2VpbCh0ZXh0LmJvdW5kcy50b3AgKyBtaWRkbGUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJSZXBsYWNlZEVsZW1lbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBjdXJ2ZXMsIGltYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZSAmJiBjb250YWluZXIuaW50cmluc2ljV2lkdGggPiAwICYmIGNvbnRhaW5lci5pbnRyaW5zaWNIZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gY29udGVudEJveChjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aChjdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBjb250YWluZXIuaW50cmluc2ljV2lkdGgsIGNvbnRhaW5lci5pbnRyaW5zaWNIZWlnaHQsIGJveC5sZWZ0LCBib3gudG9wLCBib3gud2lkdGgsIGJveC5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTm9kZUNvbnRlbnQgPSBmdW5jdGlvbiAocGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciwgY3VydmVzLCBzdHlsZXMsIF9pLCBfYSwgY2hpbGQsIGltYWdlLCBlXzEsIGltYWdlLCBlXzIsIGlmcmFtZVJlbmRlcmVyLCBjYW52YXMsIHNpemUsIGJvdW5kcywgeCwgdGV4dEJvdW5kcywgaW1nLCBpbWFnZSwgdXJsLCBlXzMsIGJvdW5kcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIDQgLyogQ09OVEVOVCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBwYWludC5jb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZXMgPSBwYWludC5jdXJ2ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBjb250YWluZXIuc3R5bGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IGNvbnRhaW5lci50ZXh0Tm9kZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9pIDwgX2EubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyVGV4dE5vZGUoY2hpbGQsIHN0eWxlcyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSW1hZ2VFbGVtZW50Q29udGFpbmVyKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNSwgNywgLCA4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnNyYyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwbGFjZWRFbGVtZW50KGNvbnRhaW5lciwgY3VydmVzLCBpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGltYWdlIFwiICsgY29udGFpbmVyLnNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIENhbnZhc0VsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlcGxhY2VkRWxlbWVudChjb250YWluZXIsIGN1cnZlcywgY29udGFpbmVyLmNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50Q29udGFpbmVyKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzksIDExLCAsIDEyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnN2ZyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlcGxhY2VkRWxlbWVudChjb250YWluZXIsIGN1cnZlcywgaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8yID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHN2ZyBcIiArIGNvbnRhaW5lci5zdmcuc3Vic3RyaW5nKDAsIDI1NSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSUZyYW1lRWxlbWVudENvbnRhaW5lciAmJiBjb250YWluZXIudHJlZSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZVJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5vcHRpb25zLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLm9wdGlvbnMuc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250YWluZXIuYmFja2dyb3VuZENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRoaXMub3B0aW9ucy5jYWNoZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogY29udGFpbmVyLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBpZnJhbWVSZW5kZXJlci5yZW5kZXIoY29udGFpbmVyLnRyZWUpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIud2lkdGggJiYgY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsIGNvbnRhaW5lci53aWR0aCwgY29udGFpbmVyLmhlaWdodCwgY29udGFpbmVyLmJvdW5kcy5sZWZ0LCBjb250YWluZXIuYm91bmRzLnRvcCwgY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBJbnB1dEVsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5taW4oY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIudHlwZSA9PT0gQ0hFQ0tCT1gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMzkzNjMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNzkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMTYsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNTU0OSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4yNzM0NywgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC40NDA3MSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4zOTY5NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NjQ5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjcyOTgzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjIzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjg0LCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjM0MDg1KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjM5MzYzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjc5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLnR5cGUgPT09IFJBRElPKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5hcmMoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAvIDIsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAvIDIsIHNpemUgLyA0LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KGNvbnRhaW5lcikgJiYgY29udGFpbmVyLnZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmNyZWF0ZUZvbnRTdHlsZShzdHlsZXMpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gY2FudmFzVGV4dEFsaWduKGNvbnRhaW5lci5zdHlsZXMudGV4dEFsaWduKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSBjb250ZW50Qm94KGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250YWluZXIuc3R5bGVzLnRleHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uQ0VOVEVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCArPSBib3VuZHMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5SSUdIVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gYm91bmRzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRCb3VuZHMgPSBib3VuZHMuYWRkKHgsIDAsIDAsIC1ib3VuZHMuaGVpZ2h0IC8gMiArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dFdpdGhMZXR0ZXJTcGFjaW5nKG5ldyBUZXh0Qm91bmRzKGNvbnRhaW5lci52YWx1ZSwgdGV4dEJvdW5kcyksIHN0eWxlcy5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWlucyhjb250YWluZXIuc3R5bGVzLmRpc3BsYXksIDIwNDggLyogTElTVF9JVEVNICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVJbWFnZSAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlSW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpbWcudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlVSTCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gaW1nLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzE1LCAxNywgLCAxOF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIGNvbnRhaW5lci5ib3VuZHMubGVmdCAtIChpbWFnZS53aWR0aCArIDEwKSwgY29udGFpbmVyLmJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8zID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGxpc3Qtc3R5bGUtaW1hZ2UgXCIgKyB1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OiByZXR1cm4gWzMgLypicmVhayovLCAyMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpbnQubGlzdFZhbHVlICYmIGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlVHlwZSAhPT0gTElTVF9TVFlMRV9UWVBFLk5PTkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gdGhpcy5jcmVhdGVGb250U3R5bGUoc3R5bGVzKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzID0gbmV3IEJvdW5kcyhjb250YWluZXIuYm91bmRzLmxlZnQsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgZ2V0QWJzb2x1dGVWYWx1ZShjb250YWluZXIuc3R5bGVzLnBhZGRpbmdUb3AsIGNvbnRhaW5lci5ib3VuZHMud2lkdGgpLCBjb250YWluZXIuYm91bmRzLndpZHRoLCBjb21wdXRlTGluZUhlaWdodChzdHlsZXMubGluZUhlaWdodCwgc3R5bGVzLmZvbnRTaXplLm51bWJlcikgLyAyICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcobmV3IFRleHRCb3VuZHMocGFpbnQubGlzdFZhbHVlLCBib3VuZHMpLCBzdHlsZXMubGV0dGVyU3BhY2luZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJTdGFja0NvbnRlbnQgPSBmdW5jdGlvbiAoc3RhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9pLCBfYSwgY2hpbGQsIF9iLCBfYywgY2hpbGQsIF9kLCBfZSwgY2hpbGQsIF9mLCBfZywgY2hpbGQsIF9oLCBfaiwgY2hpbGQsIF9rLCBfbCwgY2hpbGQsIF9tLCBfbywgY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcC5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMoc3RhY2suZWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IHN0YWNrLm5lZ2F0aXZlWkluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IF9hLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZUNvbnRlbnQoc3RhY2suZWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gMCwgX2MgPSBzdGFjay5ub25JbmxpbmVMZXZlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2IgPCBfYy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9jW19iXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZShjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gMCwgX2UgPSBzdGFjay5ub25Qb3NpdGlvbmVkRmxvYXRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9kIDwgX2UubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfZVtfZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDEzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mID0gMCwgX2cgPSBzdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDE1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2YgPCBfZy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9nW19mXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyU3RhY2soY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMTc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ggPSAwLCBfaiA9IHN0YWNrLmlubGluZUxldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9oIDwgX2oubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfaltfaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlck5vZGUoY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2sgPSAwLCBfbCA9IHN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9rIDwgX2wubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfbFtfa107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDI1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2srKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDIzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tID0gMCwgX28gPSBzdGFjay5wb3NpdGl2ZVpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfbSA8IF9vLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDMwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX29bX21dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzA6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUubWFzayA9IGZ1bmN0aW9uIChwYXRocykge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbygwLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0UGF0aChwYXRocy5zbGljZSgwKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdFBhdGgocGF0aHMpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JtYXRQYXRoID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaXNCZXppZXJDdXJ2ZShwb2ludCkgPyBwb2ludC5zdGFydCA6IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4Lm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5saW5lVG8oc3RhcnQueCwgc3RhcnQueSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShwb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguYmV6aWVyQ3VydmVUbyhwb2ludC5zdGFydENvbnRyb2wueCwgcG9pbnQuc3RhcnRDb250cm9sLnksIHBvaW50LmVuZENvbnRyb2wueCwgcG9pbnQuZW5kQ29udHJvbC55LCBwb2ludC5lbmQueCwgcG9pbnQuZW5kLnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJSZXBlYXQgPSBmdW5jdGlvbiAocGF0aCwgcGF0dGVybiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHBhdHRlcm47XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNpemVJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICBpZiAoaW1hZ2Uud2lkdGggPT09IHdpZHRoICYmIGltYWdlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4LCBfbG9vcF8xLCB0aGlzXzEsIF9pLCBfYSwgYmFja2dyb3VuZEltYWdlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRJbWFnZS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UsIHVybCwgZV80LCBfYSwgcGF0aCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgcGF0dGVybiwgX2IsIHBhdGgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIF9jLCBsaW5lTGVuZ3RoLCB4MCwgeDEsIHkwLCB5MSwgY2FudmFzLCBjdHgsIGdyYWRpZW50XzEsIHBhdHRlcm4sIF9kLCBwYXRoLCBsZWZ0LCB0b3BfMSwgd2lkdGgsIGhlaWdodCwgcG9zaXRpb24sIHgsIHksIF9lLCByeCwgcnksIHJhZGlhbEdyYWRpZW50XzEsIG1pZFgsIG1pZFksIGYsIGludkY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9mLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYmFja2dyb3VuZEltYWdlLnR5cGUgPT09IENTU0ltYWdlVHlwZS5VUkwpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBiYWNrZ3JvdW5kSW1hZ2UudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXNfMS5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gX2Yuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfNCA9IF9mLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpc18xLm9wdGlvbnMuaWQpLmVycm9yKFwiRXJyb3IgbG9hZGluZyBiYWNrZ3JvdW5kLWltYWdlIFwiICsgdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nKGNvbnRhaW5lciwgaW5kZXgsIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGggLyBpbWFnZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksIHBhdGggPSBfYVswXSwgeCA9IF9hWzFdLCB5ID0gX2FbMl0sIHdpZHRoID0gX2FbM10sIGhlaWdodCA9IF9hWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gdGhpc18xLmN0eC5jcmVhdGVQYXR0ZXJuKHRoaXNfMS5yZXNpemVJbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCksICdyZXBlYXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLnJlbmRlclJlcGVhdChwYXRoLCBwYXR0ZXJuLCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGluZWFyR3JhZGllbnQoYmFja2dyb3VuZEltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYiA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW251bGwsIG51bGwsIG51bGxdKSwgcGF0aCA9IF9iWzBdLCB4ID0gX2JbMV0sIHkgPSBfYlsyXSwgd2lkdGggPSBfYlszXSwgaGVpZ2h0ID0gX2JbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24oYmFja2dyb3VuZEltYWdlLmFuZ2xlLCB3aWR0aCwgaGVpZ2h0KSwgbGluZUxlbmd0aCA9IF9jWzBdLCB4MCA9IF9jWzFdLCB4MSA9IF9jWzJdLCB5MCA9IF9jWzNdLCB5MSA9IF9jWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudF8xID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHgwLCB5MCwgeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbG9yU3RvcHMoYmFja2dyb3VuZEltYWdlLnN0b3BzLCBsaW5lTGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncmFkaWVudF8xLmFkZENvbG9yU3RvcChjb2xvclN0b3Auc3RvcCwgYXNTdHJpbmcoY29sb3JTdG9wLmNvbG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwICYmIGhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSB0aGlzXzEuY3R4LmNyZWF0ZVBhdHRlcm4oY2FudmFzLCAncmVwZWF0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEucmVuZGVyUmVwZWF0KHBhdGgsIHBhdHRlcm4sIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmFkaWFsR3JhZGllbnQoYmFja2dyb3VuZEltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZCA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLCBwYXRoID0gX2RbMF0sIGxlZnQgPSBfZFsxXSwgdG9wXzEgPSBfZFsyXSwgd2lkdGggPSBfZFszXSwgaGVpZ2h0ID0gX2RbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gYmFja2dyb3VuZEltYWdlLnBvc2l0aW9uLmxlbmd0aCA9PT0gMCA/IFtGSUZUWV9QRVJDRU5UXSA6IGJhY2tncm91bmRJbWFnZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGdldEFic29sdXRlVmFsdWUocG9zaXRpb25bMF0sIHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGdldEFic29sdXRlVmFsdWUocG9zaXRpb25bcG9zaXRpb24ubGVuZ3RoIC0gMV0sIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lID0gY2FsY3VsYXRlUmFkaXVzKGJhY2tncm91bmRJbWFnZSwgeCwgeSwgd2lkdGgsIGhlaWdodCksIHJ4ID0gX2VbMF0sIHJ5ID0gX2VbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyeCA+IDAgJiYgcnggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpYWxHcmFkaWVudF8xID0gdGhpc18xLmN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChsZWZ0ICsgeCwgdG9wXzEgKyB5LCAwLCBsZWZ0ICsgeCwgdG9wXzEgKyB5LCByeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29sb3JTdG9wcyhiYWNrZ3JvdW5kSW1hZ2Uuc3RvcHMsIHJ4ICogMikuZm9yRWFjaChmdW5jdGlvbiAoY29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhZGlhbEdyYWRpZW50XzEuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcC5zdG9wLCBhc1N0cmluZyhjb2xvclN0b3AuY29sb3IpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGxTdHlsZSA9IHJhZGlhbEdyYWRpZW50XzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnggIT09IHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkWCA9IGNvbnRhaW5lci5ib3VuZHMubGVmdCArIDAuNSAqIGNvbnRhaW5lci5ib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkWSA9IGNvbnRhaW5lci5ib3VuZHMudG9wICsgMC41ICogY29udGFpbmVyLmJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZiA9IHJ5IC8gcng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52RiA9IDEgLyBmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNsYXRlKG1pZFgsIG1pZFkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNmb3JtKDEsIDAsIDAsIGYsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNsYXRlKC1taWRYLCAtbWlkWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5maWxsUmVjdChsZWZ0LCBpbnZGICogKHRvcF8xIC0gbWlkWSkgKyBtaWRZLCB3aWR0aCwgaGVpZ2h0ICogaW52Rik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZi5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZEltYWdlLnNsaWNlKDApLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNSAvKnlpZWxkKiovLCBfbG9vcF8xKGJhY2tncm91bmRJbWFnZSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckJvcmRlciA9IGZ1bmN0aW9uIChjb2xvciwgc2lkZSwgY3VydmVQb2ludHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChwYXJzZVBhdGhGb3JCb3JkZXIoY3VydmVQb2ludHMsIHNpZGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMgPSBmdW5jdGlvbiAocGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcywgaGFzQmFja2dyb3VuZCwgYm9yZGVycywgYmFja2dyb3VuZFBhaW50aW5nQXJlYSwgc2lkZSwgX2ksIGJvcmRlcnNfMSwgYm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHBhaW50LmNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCYWNrZ3JvdW5kID0gIWlzVHJhbnNwYXJlbnQoc3R5bGVzLmJhY2tncm91bmRDb2xvcikgfHwgc3R5bGVzLmJhY2tncm91bmRJbWFnZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJUb3BTdHlsZSwgY29sb3I6IHN0eWxlcy5ib3JkZXJUb3BDb2xvciB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJSaWdodFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuYm9yZGVyQm90dG9tU3R5bGUsIGNvbG9yOiBzdHlsZXMuYm9yZGVyQm90dG9tQ29sb3IgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuYm9yZGVyTGVmdFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlckxlZnRDb2xvciB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRDdXJ2ZWRQYWludGluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoc3R5bGVzLmJhY2tncm91bmRDbGlwLCAwKSwgcGFpbnQuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGhhc0JhY2tncm91bmQgfHwgc3R5bGVzLmJveFNoYWRvdy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNUcmFuc3BhcmVudChzdHlsZXMuYmFja2dyb3VuZENvbG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyQmFja2dyb3VuZEltYWdlKHBhaW50LmNvbnRhaW5lcildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYm94U2hhZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvcmRlckJveEFyZWEgPSBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKHBhaW50LmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXNrT2Zmc2V0ID0gc2hhZG93Lmluc2V0ID8gMCA6IE1BU0tfT0ZGU0VUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhZG93UGFpbnRpbmdBcmVhID0gdHJhbnNmb3JtUGF0aChib3JkZXJCb3hBcmVhLCAtbWFza09mZnNldCArIChzaGFkb3cuaW5zZXQgPyAxIDogLTEpICogc2hhZG93LnNwcmVhZC5udW1iZXIsIChzaGFkb3cuaW5zZXQgPyAxIDogLTEpICogc2hhZG93LnNwcmVhZC5udW1iZXIsIHNoYWRvdy5zcHJlYWQubnVtYmVyICogKHNoYWRvdy5pbnNldCA/IC0yIDogMiksIHNoYWRvdy5zcHJlYWQubnVtYmVyICogKHNoYWRvdy5pbnNldCA/IC0yIDogMikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93Lmluc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXRoKGJvcmRlckJveEFyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hc2soc2hhZG93UGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hc2soYm9yZGVyQm94QXJlYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGF0aChzaGFkb3dQYWludGluZ0FyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gc2hhZG93Lm9mZnNldFgubnVtYmVyICsgbWFza09mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFkgPSBzaGFkb3cub2Zmc2V0WS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9IGFzU3RyaW5nKHNoYWRvdy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguZmlsbFN0eWxlID0gc2hhZG93Lmluc2V0ID8gYXNTdHJpbmcoc2hhZG93LmNvbG9yKSA6ICdyZ2JhKDAsMCwwLDEpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaSA9IDAsIGJvcmRlcnNfMSA9IGJvcmRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9pIDwgYm9yZGVyc18xLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyID0gYm9yZGVyc18xW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGJvcmRlci5zdHlsZSAhPT0gQk9SREVSX1NUWUxFLk5PTkUgJiYgIWlzVHJhbnNwYXJlbnQoYm9yZGVyLmNvbG9yKSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJCb3JkZXIoYm9yZGVyLmNvbG9yLCBzaWRlLCBwYWludC5jdXJ2ZXMpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFjaztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5vcHRpb25zLnggLSB0aGlzLm9wdGlvbnMuc2Nyb2xsWCwgdGhpcy5vcHRpb25zLnkgLSB0aGlzLm9wdGlvbnMuc2Nyb2xsWSwgdGhpcy5vcHRpb25zLndpZHRoLCB0aGlzLm9wdGlvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrID0gcGFyc2VTdGFja2luZ0NvbnRleHRzKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhzdGFjayldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5RWZmZWN0cyhbXSwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuY2FudmFzXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FudmFzUmVuZGVyZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIGlzVGV4dElucHV0RWxlbWVudCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBTZWxlY3RFbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBJbnB1dEVsZW1lbnRDb250YWluZXIgJiYgY29udGFpbmVyLnR5cGUgIT09IFJBRElPICYmIGNvbnRhaW5lci50eXBlICE9PSBDSEVDS0JPWCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kQ3VydmVkUGFpbnRpbmdBcmVhID0gZnVuY3Rpb24gKGNsaXAsIGN1cnZlcykge1xyXG4gICAgICAgIHN3aXRjaCAoY2xpcCkge1xyXG4gICAgICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUJvcmRlckJveFBhdGgoY3VydmVzKTtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlQ29udGVudEJveFBhdGgoY3VydmVzKTtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX0NMSVAuUEFERElOR19CT1g6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlUGFkZGluZ0JveFBhdGgoY3VydmVzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbnZhc1RleHRBbGlnbiA9IGZ1bmN0aW9uICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICBzd2l0Y2ggKHRleHRBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uQ0VOVEVSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdjZW50ZXInO1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uUklHSFQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JpZ2h0JztcclxuICAgICAgICAgICAgY2FzZSBURVhUX0FMSUdOLkxFRlQ6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZvcmVpZ25PYmplY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBGb3JlaWduT2JqZWN0UmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzID8gb3B0aW9ucy5jYW52YXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0aW9ucy53aWR0aCAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1vcHRpb25zLnggKyBvcHRpb25zLnNjcm9sbFgsIC1vcHRpb25zLnkgKyBvcHRpb25zLnNjcm9sbFkpO1xyXG4gICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2Uob3B0aW9ucy5pZCkuZGVidWcoXCJFWFBFUklNRU5UQUwgRm9yZWlnbk9iamVjdCByZW5kZXJlciBpbml0aWFsaXplZCAoXCIgKyBvcHRpb25zLndpZHRoICsgXCJ4XCIgKyBvcHRpb25zLmhlaWdodCArIFwiIGF0IFwiICsgb3B0aW9ucy54ICsgXCIsXCIgKyBvcHRpb25zLnkgKyBcIikgd2l0aCBzY2FsZSBcIiArIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGb3JlaWduT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdmcsIGltZztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2ZyA9IGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoTWF0aC5tYXgodGhpcy5vcHRpb25zLndpbmRvd1dpZHRoLCB0aGlzLm9wdGlvbnMud2lkdGgpICogdGhpcy5vcHRpb25zLnNjYWxlLCBNYXRoLm1heCh0aGlzLm9wdGlvbnMud2luZG93SGVpZ2h0LCB0aGlzLm9wdGlvbnMuaGVpZ2h0KSAqIHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjcm9sbFggKiB0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY3JvbGxZICogdGhpcy5vcHRpb25zLnNjYWxlLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvYWRTZXJpYWxpemVkU1ZHJDEoc3ZnKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5vcHRpb25zLndpZHRoICogdGhpcy5vcHRpb25zLnNjYWxlLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWcsIC10aGlzLm9wdGlvbnMueCAqIHRoaXMub3B0aW9ucy5zY2FsZSwgLXRoaXMub3B0aW9ucy55ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmNhbnZhc107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEZvcmVpZ25PYmplY3RSZW5kZXJlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgbG9hZFNlcmlhbGl6ZWRTVkckMSA9IGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSB1bmRlZmluZWQ7XHJcbiAgICB2YXIgcGFyc2VDb2xvciQxID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjb2xvci5wYXJzZShQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlKCkpOyB9O1xyXG4gICAgdmFyIGh0bWwyY2FudmFzID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIENhY2hlU3RvcmFnZS5zZXRDb250ZXh0KHdpbmRvdyk7XHJcbiAgICB2YXIgcmVuZGVyRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQsIGRlZmF1bHRWaWV3LCBpbnN0YW5jZU5hbWUsIF9hLCB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3AsIGRlZmF1bHRSZXNvdXJjZU9wdGlvbnMsIHJlc291cmNlT3B0aW9ucywgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIHdpbmRvd0JvdW5kcywgZG9jdW1lbnRDbG9uZXIsIGNsb25lZEVsZW1lbnQsIGNvbnRhaW5lciwgZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IsIGJvZHlCYWNrZ3JvdW5kQ29sb3IsIGJnQ29sb3IsIGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IsIGJhY2tncm91bmRDb2xvciwgcmVuZGVyT3B0aW9ucywgY2FudmFzLCByZW5kZXJlciwgcm9vdCwgcmVuZGVyZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWxlbWVudCBpcyBub3QgYXR0YWNoZWQgdG8gYSBEb2N1bWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlldyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVmYXVsdFZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IGlzIG5vdCBhdHRhY2hlZCB0byBhIFdpbmRvd1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZU5hbWUgPSAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCkgKyBEYXRlLm5vdygpKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gaXNCb2R5RWxlbWVudChlbGVtZW50KSB8fCBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gcGFyc2VEb2N1bWVudFNpemUob3duZXJEb2N1bWVudCkgOiBwYXJzZUJvdW5kcyhlbGVtZW50KSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBsZWZ0ID0gX2EubGVmdCwgdG9wID0gX2EudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UmVzb3VyY2VPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVRpbWVvdXQ6IDE1MDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBkZWZhdWx0UmVzb3VyY2VPcHRpb25zLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBvcHRzLmNhY2hlID8gb3B0cy5jYWNoZSA6IENhY2hlU3RvcmFnZS5jcmVhdGUoaW5zdGFuY2VOYW1lLCByZXNvdXJjZU9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbnRhaW5lcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVpZ25PYmplY3RSZW5kZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGRlZmF1bHRWaWV3LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoOiBkZWZhdWx0Vmlldy5pbm5lcldpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0OiBkZWZhdWx0Vmlldy5pbm5lckhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFg6IGRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWTogZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGguY2VpbCh3aWR0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGguY2VpbChoZWlnaHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RhbmNlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gX19hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCByZXNvdXJjZU9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dCb3VuZHMgPSBuZXcgQm91bmRzKG9wdGlvbnMuc2Nyb2xsWCwgb3B0aW9ucy5zY3JvbGxZLCBvcHRpb25zLndpbmRvd1dpZHRoLCBvcHRpb25zLndpbmRvd0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5jcmVhdGUoeyBpZDogaW5zdGFuY2VOYW1lLCBlbmFibGVkOiBvcHRpb25zLmxvZ2dpbmcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiU3RhcnRpbmcgZG9jdW1lbnQgY2xvbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmVyID0gbmV3IERvY3VtZW50Q2xvbmVyKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0YW5jZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsb25lOiBvcHRpb25zLm9uY2xvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVFbGVtZW50czogb3B0aW9ucy5pZ25vcmVFbGVtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUltYWdlczogb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVN0eWxlczogb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRFbGVtZW50ID0gZG9jdW1lbnRDbG9uZXIuY2xvbmVkUmVmZXJlbmNlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbG9uZWRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoXCJVbmFibGUgdG8gZmluZCBlbGVtZW50IGluIGNsb25lZCBpZnJhbWVcIildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRvY3VtZW50Q2xvbmVyLnRvSUZyYW1lKG93bmVyRG9jdW1lbnQsIHdpbmRvd0JvdW5kcyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEJhY2tncm91bmRDb2xvciA9IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IkMShnZXRDb21wdXRlZFN0eWxlKG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvciA9IG93bmVyRG9jdW1lbnQuYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUNvbG9yJDEoZ2V0Q29tcHV0ZWRTdHlsZShvd25lckRvY3VtZW50LmJvZHkpLmJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yID0gb3B0cy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IgPSB0eXBlb2YgYmdDb2xvciA9PT0gJ3N0cmluZycgPyBwYXJzZUNvbG9yJDEoYmdDb2xvcikgOiBiZ0NvbG9yID09PSBudWxsID8gQ09MT1JTLlRSQU5TUEFSRU5UIDogMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gZWxlbWVudCA9PT0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXNUcmFuc3BhcmVudChkb2N1bWVudEJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkZWZhdWx0QmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYm9keUJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdEJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0YW5jZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogb3B0aW9ucy5jYWNoZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogb3B0aW9ucy5jYW52YXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogb3B0aW9ucy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogb3B0aW9ucy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogb3B0aW9ucy5zY3JvbGxYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWTogb3B0aW9ucy5zY3JvbGxZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IG9wdGlvbnMud2luZG93V2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQ6IG9wdGlvbnMud2luZG93SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJEb2N1bWVudCBjbG9uZWQsIHVzaW5nIGZvcmVpZ24gb2JqZWN0IHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBuZXcgRm9yZWlnbk9iamVjdFJlbmRlcmVyKHJlbmRlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW5kZXJlci5yZW5kZXIoY2xvbmVkRWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiRG9jdW1lbnQgY2xvbmVkLCB1c2luZyBjb21wdXRlZCByZW5kZXJpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhY2hlU3RvcmFnZS5hdHRhY2hJbnN0YW5jZShvcHRpb25zLmNhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJTdGFydGluZyBET00gcGFyc2luZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdCA9IHBhcnNlVHJlZShjbG9uZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmRldGFjaEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IgPT09IHJvb3Quc3R5bGVzLmJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5zdHlsZXMuYmFja2dyb3VuZENvbG9yID0gQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiU3RhcnRpbmcgcmVuZGVyZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHJlbmRlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW5kZXJlci5yZW5kZXIocm9vdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVDb250YWluZXIgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghRG9jdW1lbnRDbG9uZXIuZGVzdHJveShjb250YWluZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZXJyb3IoXCJDYW5ub3QgZGV0YWNoIGNsb25lZCBpZnJhbWUgYXMgaXQgaXMgbm90IGluIHRoZSBET00gYW55bW9yZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIkZpbmlzaGVkIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlc3Ryb3koaW5zdGFuY2VOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmRlc3Ryb3koaW5zdGFuY2VOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbnZhc107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaHRtbDJjYW52YXM7XHJcblxyXG59KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0bWwyY2FudmFzLmpzLm1hcFxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/thirdparty/html2canvas/html2canvas.js\n");

/***/ })

/******/ });