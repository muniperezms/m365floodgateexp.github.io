/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./scripts/app/App_Floodgate_Bare.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../FloodgateCore/dist/index.js":
/*!**************************************!*\
  !*** ../FloodgateCore/dist/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Main entry point.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Utils = exports.Api = void 0;\nvar Api = __webpack_require__(/*! ./src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\nexports.Api = Api;\nvar Utils = __webpack_require__(/*! ./src/Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nexports.Utils = Utils;\nvar FloodgateEngine_1 = __webpack_require__(/*! ./src/FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nObject.defineProperty(exports, \"FloodgateEngine\", { enumerable: true, get: function () { return FloodgateEngine_1.FloodgateEngine; } });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXgudHM/Yjg1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQUVILDJGQUFxQztBQUk1QixrQkFBRztBQUhaLHlGQUFxQztBQUd2QixzQkFBSztBQURuQix5SEFBd0Q7QUFBL0MsaUlBQWUiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1haW4gZW50cnkgcG9pbnQuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCIuL3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL3NyYy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vc3JjL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5leHBvcnQgeyBBcGksIFV0aWxzIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/index.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTracker.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTracker.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Class to track ticks against a list of expected counts in a thread-safe way\n * Main API of interest is incrementActivity, which returns an enumerated value indicating\n * whether or not the increment resulted in no thresholds crossed, a single activity threshold crossed,\n * or the final activity threshold crossed.\n */\nvar ActivityTracker = /** @class */ (function () {\n    function ActivityTracker(trackingSet) {\n        if (!trackingSet) {\n            throw new Error(\"trackingSet must not be null\");\n        }\n        if (trackingSet.getList().length > 32) {\n            throw new Error(\"trackingSet list size must be less than 32\");\n        }\n        this.isOrdered = trackingSet.getIsOrdered();\n        this.trackedActivities = trackingSet.getList();\n        /**\n         * For ordered sets, the current index.\n         */\n        this.currentIndex = 0;\n        this.activationMask = 0;\n        this.currentActivationFlags = 0;\n        this.isActivationByInitPending = false;\n        this.currentCounts = new Array(this.trackedActivities.length);\n        this.currentStartTimes = new Array(this.trackedActivities.length);\n        this.currentSessionCounts = new Array(this.trackedActivities.length);\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            this.currentCounts[i] = 0;\n            this.currentSessionCounts[i] = 0;\n        }\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            this.activationMask |= 0x1 << i;\n            if (this.trackedActivities[i].getCount() < 1) {\n                this.trackedActivities[i].setCount(1);\n            }\n        }\n    }\n    /**\n     * Get the count for the activity at the specified index. Returns 0 for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        return this.currentCounts[index];\n    };\n    /**\n     * Get the count for the activity at the specified index, as tracked only for this session.\n     * Returns 0 for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getSessionCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        return this.currentSessionCounts[index];\n    };\n    /**\n     * Get the StartTime for the activity at the specified index. Returns null for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getStartTime = function (index) {\n        if (!this.isValidIndex(index)) {\n            return null;\n        }\n        return this.currentStartTimes[index];\n    };\n    /**\n     * A get-and-set method. Returns the current SessionCount, resetting it to zero and adding it into\n     * the established baseline.\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.moveSessionCountIntoBaseCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        var sessionCount = this.currentSessionCounts[index];\n        this.currentSessionCounts[index] = 0;\n        return sessionCount;\n    };\n    /**\n     * Forcibly set the counts for the activities in the trackingSet.\n     * Unlike other APIs, this expects vector indices to match the order\n     * of the ActivityTrackingSet.List initially used to construct this tracker.\n     * (When data is copied from a different IndexedTracker, it will properly use the IndexedTracker.Index to query internals)\n     * Note:\n     * 1) Assumes a count of 0 for any missing index in undersized arrays.\n     * 2) Respects and enforces ordered list initialization (i.e. all init values are ignored once a unfinished activity is\n     * encountered in an ordered tracking list).\n     * 3) If the tracker is fully Activated as a result of this call, the next call to IncrementActivity will raise the\n     * IncrementEdgeResult.AllActivitiesActivated, for any valid index accepted by IsPermittedIndexForActivationByInit().\n     */\n    ActivityTracker.prototype.initCounts = function (baselineCounts, otherTrackers, wasAlreadyActivatedThisSession) {\n        // NOTE: baselineIncrements and sessionIncrements are sorted the same as the initial trackedActivity set, which\n        // for this class is the same as trackedActivities\n        if (wasAlreadyActivatedThisSession === void 0) { wasAlreadyActivatedThisSession = false; }\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            // Only accept values up to the current index, when ordered\n            if (this.isOrdered && i > this.currentIndex) {\n                break;\n            }\n            // Start off by pulling values from this session\n            if (i < otherTrackers.length && otherTrackers[i]) {\n                this.currentSessionCounts[i] = this.currentCounts[i] = otherTrackers[i].tracker.getSessionCount(otherTrackers[i].index);\n                this.currentStartTimes[i] = otherTrackers[i].tracker.getStartTime(otherTrackers[i].index);\n            }\n            // If we've got a baseline from previous sessions, add it in as well\n            if (this.trackedActivities[i].getIsAggregate() && i < baselineCounts.length) {\n                this.currentCounts[i] += baselineCounts[i];\n            }\n            if (this.hasCountCrossedThreshold(i)) {\n                this.finishActivityAtIndex(i);\n            }\n        }\n        if (this.isActivated() && !wasAlreadyActivatedThisSession) {\n            // Mark this object so that the next time any permitted activation event is logged, the survey will activate\n            this.isActivationByInitPending = true;\n        }\n    };\n    ActivityTracker.prototype.generateActivityIndexList = function () {\n        var indexList = new Array();\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            var current = new ActivityTracker.ActivityIndex();\n            current.activity = this.trackedActivities[i].getActivity();\n            current.index = i;\n            indexList.push(current);\n        }\n        return indexList;\n    };\n    /**\n     * Increments the count at the specified index by the given increment.  Returns a value indicating whether\n     * or not this call triggered a transition edge (activating the activity at 'index', or finishing the activation\n     * of the final pending activity)\n     */\n    ActivityTracker.prototype.incrementActivity = function (index, increment) {\n        if (!this.isValidIndex(index)) {\n            return 0 /* Pending */;\n        }\n        if (increment < 0) {\n            throw new Error(\"increment must be non-negative\");\n        }\n        // Ordered sets must be triggered in order.  We can only track at the current index, or before\n        if (this.isOrdered && index > this.currentIndex) {\n            return 0 /* Pending */;\n        }\n        // Add to our counts after storing off our current state\n        var startedLessThanThreshold = !this.hasCountCrossedThreshold(index);\n        this.currentCounts[index] += increment;\n        this.currentSessionCounts[index] += increment;\n        if (this.isActivationByInitPending) {\n            if (this.isPermittedIndexForActivationByInit(index)) {\n                // This tracker was completed due to the initialization from previous increment data\n                // now that we've store this activities increments, raise the AllActivitiesActivated signal\n                return this.commitActivation();\n            }\n            else {\n                // Still waiting for a valid re-activation activity\n                return 0 /* Pending */;\n            }\n        }\n        if (!(startedLessThanThreshold && this.hasCountCrossedThreshold(index))) {\n            // Still waiting for this activity to finish\n            return 0 /* Pending */;\n        }\n        // Mark this activity as complete in our flag collection\n        this.finishActivityAtIndex(index);\n        if (this.isActivated()) {\n            return this.commitActivation();\n        }\n        return 1 /* SingleActivityActivated */;\n    };\n    /**\n     * Explicitly sets a start timestamp (now if startTime is null) for the specified activity index. Overwrites any previous StartTime.\n     */\n    ActivityTracker.prototype.startTime = function (index, startTime) {\n        if (!this.isValidIndex(index)) {\n            return;\n        }\n        this.currentStartTimes[index] = (!startTime) ? new Date() : startTime;\n    };\n    /**\n     * Computes the \"count\" delta (delta in whatever units are appropriate for a subsequent call to IncrementActivity)\n     * elapsed between now and a previously logged StartTime for this activity index.\n     * Always clears the previous StartTime.\n     * Returns 0 if no previous StartTime was logged, or if StartTime > StopTime\n     */\n    ActivityTracker.prototype.stopTime = function (index, stopTime) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        var startTime = this.currentStartTimes[index];\n        this.currentStartTimes[index] = null;\n        if (!startTime) {\n            return 0;\n        }\n        stopTime = (!stopTime) ? new Date() : stopTime;\n        if (startTime > stopTime) {\n            return 0;\n        }\n        var deltaMS = stopTime.getTime() - startTime.getTime();\n        // Currently all timer activities return seconds as the increment unit\n        var diff = deltaMS / 1000;\n        // Adding 1ms to the count so it can have the decimal place\n        // So that we can distinguish the Time activity\n        if (diff % 1 === 0) {\n            diff += 0.001;\n        }\n        return diff;\n    };\n    /**\n     * Returns true if the index is valid for accessing the stored activity counts, false otherwise\n     */\n    ActivityTracker.prototype.isValidIndex = function (index) {\n        return index < this.trackedActivities.length;\n    };\n    /**\n     * Gets whether or not the full set of activities for this tracker have exceeded their trigger thresholds\n     */\n    ActivityTracker.prototype.isActivated = function () {\n        return (this.currentActivationFlags & this.activationMask) === this.activationMask;\n    };\n    /**\n        * Marks the activity at the index as finished. Includes setting the proper\n        * activation flags and potentially advancing the current index for ordered tracking sets\n        */\n    ActivityTracker.prototype.finishActivityAtIndex = function (index) {\n        if (!this.isValidIndex(index)) {\n            throw new Error(\"Index is not valid\");\n        }\n        this.currentActivationFlags |= 0x1 << index;\n        if (index + 1 < this.trackedActivities.length) {\n            this.currentIndex = index + 1;\n        }\n    };\n    /**\n     * @param index index\n     * @return true if the counts for the activity at the specified index have met or exceeded the threshold count.\n     */\n    ActivityTracker.prototype.hasCountCrossedThreshold = function (index) {\n        if (!this.isValidIndex(index)) {\n            throw new Error(\"Index is not valid\");\n        }\n        return this.currentCounts[index] >= this.trackedActivities[index].getCount();\n    };\n    /**\n     * Returns true if the index refers to an activity that can re-activate a tracked object (aka return AllActivitiesActivated)\n     * that was initialized as \"complete\" via initCounts.\n     * Note: For unordered sets, any activity is valid. For ordered sequences, only the final activity is valid\n     */\n    ActivityTracker.prototype.isPermittedIndexForActivationByInit = function (index) {\n        return !this.isOrdered || ((index + 1) === this.currentCounts.length);\n    };\n    ActivityTracker.prototype.commitActivation = function () {\n        this.isActivationByInitPending = false;\n        return 2 /* AllActivitiesActivated */;\n    };\n    return ActivityTracker;\n}());\n(function (ActivityTracker) {\n    /**\n     * Structure returned by an ActivityTracker to call back into\n     * IncrementActivity with valid index values\n     */\n    var ActivityIndex = /** @class */ (function () {\n        function ActivityIndex() {\n        }\n        return ActivityIndex;\n    }());\n    ActivityTracker.ActivityIndex = ActivityIndex;\n})(ActivityTracker || (ActivityTracker = {}));\nmodule.exports = ActivityTracker;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tlci50cz8yMGIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFJQTs7Ozs7R0FLRztBQUNIO0lBV0MseUJBQW1CLFdBQWdDO1FBQ2xELElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRTtZQUN0QyxNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7U0FDOUQ7UUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRS9DOztXQUVHO1FBQ0gsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLHNCQUFzQixHQUFHLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMseUJBQXlCLEdBQUcsS0FBSyxDQUFDO1FBRXZDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxLQUFLLENBQVMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEtBQUssQ0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksS0FBSyxDQUFTLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU3RSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZ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QUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRU8sMENBQWdCLEdBQXhCO1FBQ0MsSUFBSSxDQUFDLHlCQUF5QixHQUFHLEtBQUssQ0FBQztRQUN2QyxzQ0FBOEQ7SUFDL0QsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQUVELFdBQU8sZUFBZTtJQUNyQjs7O09BR0c7SUFDSDtRQUFBO1FBR0EsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQUhZLDZCQUFhLGdCQUd6QjtBQW1CRixDQUFDLEVBM0JNLGVBQWUsS0FBZixlQUFlLFFBMkJyQjtBQUVELGlCQUFTLGVBQWUsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdEYXRhIH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ0RhdGFcIjtcclxuaW1wb3J0IHsgQWN0aXZpdHlUcmFja2luZ1NldCB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdTZXRcIjtcclxuaW1wb3J0IHsgSW5kZXhlZFRyYWNrZXIgfSBmcm9tIFwiLi9JbmRleGVkVHJhY2tlclwiO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHRvIHRyYWNrIHRpY2tzIGFnYWluc3QgYSBsaXN0IG9mIGV4cGVjdGVkIGNvdW50cyBpbiBhIHRocmVhZC1zYWZlIHdheVxyXG4gKiBNYWluIEFQSSBvZiBpbnRlcmVzdCBpcyBpbmNyZW1lbnRBY3Rpdml0eSwgd2hpY2ggcmV0dXJucyBhbiBlbnVtZXJhdGVkIHZhbHVlIGluZGljYXRpbmdcclxuICogd2hldGhlciBvciBub3QgdGhlIGluY3JlbWVudCByZXN1bHRlZCBpbiBubyB0aHJlc2hvbGRzIGNyb3NzZWQsIGEgc2luZ2xlIGFjdGl2aXR5IHRocmVzaG9sZCBjcm9zc2VkLFxyXG4gKiBvciB0aGUgZmluYWwgYWN0aXZpdHkgdGhyZXNob2xkIGNyb3NzZWQuXHJcbiAqL1xyXG5jbGFzcyBBY3Rpdml0eVRyYWNrZXIge1xyXG5cdHByaXZhdGUgaXNPcmRlcmVkOiBib29sZWFuO1xyXG5cdHByaXZhdGUgdHJhY2tlZEFjdGl2aXRpZXM6IEFjdGl2aXR5VHJhY2tpbmdEYXRhW107XHJcblx0cHJpdmF0ZSBjdXJyZW50SW5kZXg6IG51bWJlcjtcclxuXHRwcml2YXRlIGFjdGl2YXRpb25NYXNrOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBjdXJyZW50QWN0aXZhdGlvbkZsYWdzOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBpc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nOiBib29sZWFuO1xyXG5cdHByaXZhdGUgY3VycmVudENvdW50czogbnVtYmVyW107XHJcblx0cHJpdmF0ZSBjdXJyZW50U2Vzc2lvbkNvdW50czogbnVtYmVyW107XHJcblx0cHJpdmF0ZSBjdXJyZW50U3RhcnRUaW1lczogRGF0ZVtdO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQpIHtcclxuXHRcdGlmICghdHJhY2tpbmdTZXQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHJhY2tpbmdTZXQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICh0cmFja2luZ1NldC5nZXRMaXN0KCkubGVuZ3RoID4gMzIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHJhY2tpbmdTZXQgbGlzdCBzaXplIG11c3QgYmUgbGVzcyB0aGFuIDMyXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaXNPcmRlcmVkID0gdHJhY2tpbmdTZXQuZ2V0SXNPcmRlcmVkKCk7XHJcblx0XHR0aGlzLnRyYWNrZWRBY3Rpdml0aWVzID0gdHJhY2tpbmdTZXQuZ2V0TGlzdCgpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRm9yIG9yZGVyZWQgc2V0cywgdGhlIGN1cnJlbnQgaW5kZXguXHJcblx0XHQgKi9cclxuXHRcdHRoaXMuY3VycmVudEluZGV4ID0gMDtcclxuXHRcdHRoaXMuYWN0aXZhdGlvbk1hc2sgPSAwO1xyXG5cdFx0dGhpcy5jdXJyZW50QWN0aXZhdGlvbkZsYWdzID0gMDtcclxuXHRcdHRoaXMuaXNBY3RpdmF0aW9uQnlJbml0UGVuZGluZyA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuY3VycmVudENvdW50cyA9IG5ldyBBcnJheTxudW1iZXI+KHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHRcdHRoaXMuY3VycmVudFN0YXJ0VGltZXMgPSBuZXcgQXJyYXk8RGF0ZT4odGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGgpO1xyXG5cdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50cyA9IG5ldyBBcnJheTxudW1iZXI+KHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5jdXJyZW50Q291bnRzW2ldID0gMDtcclxuXHRcdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50c1tpXSA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuYWN0aXZhdGlvbk1hc2sgfD0gMHgxIDw8IGk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy50cmFja2VkQWN0aXZpdGllc1tpXS5nZXRDb3VudCgpIDwgMSkge1xyXG5cdFx0XHRcdHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaV0uc2V0Q291bnQoMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0aGUgY291bnQgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LiBSZXR1cm5zIDAgZm9yIG91dC1vZi1yYW5nZSBpbmRpY2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0Q291bnQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50Q291bnRzW2luZGV4XTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0aGUgY291bnQgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LCBhcyB0cmFja2VkIG9ubHkgZm9yIHRoaXMgc2Vzc2lvbi5cclxuXHQgKiBSZXR1cm5zIDAgZm9yIG91dC1vZi1yYW5nZSBpbmRpY2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbkNvdW50KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFNlc3Npb25Db3VudHNbaW5kZXhdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRoZSBTdGFydFRpbWUgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LiBSZXR1cm5zIG51bGwgZm9yIG91dC1vZi1yYW5nZSBpbmRpY2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U3RhcnRUaW1lKGluZGV4OiBudW1iZXIpOiBEYXRlIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2luZGV4XTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEEgZ2V0LWFuZC1zZXQgbWV0aG9kLiBSZXR1cm5zIHRoZSBjdXJyZW50IFNlc3Npb25Db3VudCwgcmVzZXR0aW5nIGl0IHRvIHplcm8gYW5kIGFkZGluZyBpdCBpbnRvXHJcblx0ICogdGhlIGVzdGFibGlzaGVkIGJhc2VsaW5lLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGluZGV4IGluZGV4XHJcblx0ICovXHJcblx0cHVibGljIG1vdmVTZXNzaW9uQ291bnRJbnRvQmFzZUNvdW50KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2Vzc2lvbkNvdW50OiBudW1iZXIgPSB0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzW2luZGV4XTtcclxuXHRcdHRoaXMuY3VycmVudFNlc3Npb25Db3VudHNbaW5kZXhdID0gMDtcclxuXHJcblx0XHRyZXR1cm4gc2Vzc2lvbkNvdW50O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRm9yY2libHkgc2V0IHRoZSBjb3VudHMgZm9yIHRoZSBhY3Rpdml0aWVzIGluIHRoZSB0cmFja2luZ1NldC5cclxuXHQgKiBVbmxpa2Ugb3RoZXIgQVBJcywgdGhpcyBleHBlY3RzIHZlY3RvciBpbmRpY2VzIHRvIG1hdGNoIHRoZSBvcmRlclxyXG5cdCAqIG9mIHRoZSBBY3Rpdml0eVRyYWNraW5nU2V0Lkxpc3QgaW5pdGlhbGx5IHVzZWQgdG8gY29uc3RydWN0IHRoaXMgdHJhY2tlci5cclxuXHQgKiAoV2hlbiBkYXRhIGlzIGNvcGllZCBmcm9tIGEgZGlmZmVyZW50IEluZGV4ZWRUcmFja2VyLCBpdCB3aWxsIHByb3Blcmx5IHVzZSB0aGUgSW5kZXhlZFRyYWNrZXIuSW5kZXggdG8gcXVlcnkgaW50ZXJuYWxzKVxyXG5cdCAqIE5vdGU6XHJcblx0ICogMSkgQXNzdW1lcyBhIGNvdW50IG9mIDAgZm9yIGFueSBtaXNzaW5nIGluZGV4IGluIHVuZGVyc2l6ZWQgYXJyYXlzLlxyXG5cdCAqIDIpIFJlc3BlY3RzIGFuZCBlbmZvcmNlcyBvcmRlcmVkIGxpc3QgaW5pdGlhbGl6YXRpb24gKGkuZS4gYWxsIGluaXQgdmFsdWVzIGFyZSBpZ25vcmVkIG9uY2UgYSB1bmZpbmlzaGVkIGFjdGl2aXR5IGlzXHJcblx0ICogZW5jb3VudGVyZWQgaW4gYW4gb3JkZXJlZCB0cmFja2luZyBsaXN0KS5cclxuXHQgKiAzKSBJZiB0aGUgdHJhY2tlciBpcyBmdWxseSBBY3RpdmF0ZWQgYXMgYSByZXN1bHQgb2YgdGhpcyBjYWxsLCB0aGUgbmV4dCBjYWxsIHRvIEluY3JlbWVudEFjdGl2aXR5IHdpbGwgcmFpc2UgdGhlXHJcblx0ICogSW5jcmVtZW50RWRnZVJlc3VsdC5BbGxBY3Rpdml0aWVzQWN0aXZhdGVkLCBmb3IgYW55IHZhbGlkIGluZGV4IGFjY2VwdGVkIGJ5IElzUGVybWl0dGVkSW5kZXhGb3JBY3RpdmF0aW9uQnlJbml0KCkuXHJcblx0ICovXHJcblx0cHVibGljIGluaXRDb3VudHMoYmFzZWxpbmVDb3VudHM6IG51bWJlcltdLCBvdGhlclRyYWNrZXJzOiBJbmRleGVkVHJhY2tlcltdLCB3YXNBbHJlYWR5QWN0aXZhdGVkVGhpc1Nlc3Npb246IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG5cdFx0Ly8gTk9URTogYmFzZWxpbmVJbmNyZW1lbnRzIGFuZCBzZXNzaW9uSW5jcmVtZW50cyBhcmUgc29ydGVkIHRoZSBzYW1lIGFzIHRoZSBpbml0aWFsIHRyYWNrZWRBY3Rpdml0eSBzZXQsIHdoaWNoXHJcblx0XHQvLyBmb3IgdGhpcyBjbGFzcyBpcyB0aGUgc2FtZSBhcyB0cmFja2VkQWN0aXZpdGllc1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHQvLyBPbmx5IGFjY2VwdCB2YWx1ZXMgdXAgdG8gdGhlIGN1cnJlbnQgaW5kZXgsIHdoZW4gb3JkZXJlZFxyXG5cdFx0XHRpZiAodGhpcy5pc09yZGVyZWQgJiYgaSA+IHRoaXMuY3VycmVudEluZGV4KSB7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFN0YXJ0IG9mZiBieSBwdWxsaW5nIHZhbHVlcyBmcm9tIHRoaXMgc2Vzc2lvblxyXG5cdFx0XHRpZiAoaSA8IG90aGVyVHJhY2tlcnMubGVuZ3RoICYmIG90aGVyVHJhY2tlcnNbaV0pIHtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzW2ldID0gdGhpcy5jdXJyZW50Q291bnRzW2ldID0gb3RoZXJUcmFja2Vyc1tpXS50cmFja2VyLmdldFNlc3Npb25Db3VudChvdGhlclRyYWNrZXJzW2ldLmluZGV4KTtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2ldID0gb3RoZXJUcmFja2Vyc1tpXS50cmFja2VyLmdldFN0YXJ0VGltZShvdGhlclRyYWNrZXJzW2ldLmluZGV4KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgd2UndmUgZ290IGEgYmFzZWxpbmUgZnJvbSBwcmV2aW91cyBzZXNzaW9ucywgYWRkIGl0IGluIGFzIHdlbGxcclxuXHRcdFx0aWYgKHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaV0uZ2V0SXNBZ2dyZWdhdGUoKSAmJiBpIDwgYmFzZWxpbmVDb3VudHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5jdXJyZW50Q291bnRzW2ldICs9IGJhc2VsaW5lQ291bnRzW2ldO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5oYXNDb3VudENyb3NzZWRUaHJlc2hvbGQoaSkpIHtcclxuXHRcdFx0XHR0aGlzLmZpbmlzaEFjdGl2aXR5QXRJbmRleChpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmlzQWN0aXZhdGVkKCkgJiYgIXdhc0FscmVhZHlBY3RpdmF0ZWRUaGlzU2Vzc2lvbikge1xyXG5cdFx0XHQvLyBNYXJrIHRoaXMgb2JqZWN0IHNvIHRoYXQgdGhlIG5leHQgdGltZSBhbnkgcGVybWl0dGVkIGFjdGl2YXRpb24gZXZlbnQgaXMgbG9nZ2VkLCB0aGUgc3VydmV5IHdpbGwgYWN0aXZhdGVcclxuXHRcdFx0dGhpcy5pc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZW5lcmF0ZUFjdGl2aXR5SW5kZXhMaXN0KCk6IEFjdGl2aXR5VHJhY2tlci5BY3Rpdml0eUluZGV4W10ge1xyXG5cdFx0Y29uc3QgaW5kZXhMaXN0ID0gbmV3IEFycmF5PEFjdGl2aXR5VHJhY2tlci5BY3Rpdml0eUluZGV4PigpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnQgPSBuZXcgQWN0aXZpdHlUcmFja2VyLkFjdGl2aXR5SW5kZXgoKTtcclxuXHRcdFx0Y3VycmVudC5hY3Rpdml0eSA9IHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaV0uZ2V0QWN0aXZpdHkoKTtcclxuXHRcdFx0Y3VycmVudC5pbmRleCA9IGk7XHJcblx0XHRcdGluZGV4TGlzdC5wdXNoKGN1cnJlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleExpc3Q7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBJbmNyZW1lbnRzIHRoZSBjb3VudCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IGJ5IHRoZSBnaXZlbiBpbmNyZW1lbnQuICBSZXR1cm5zIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyXHJcblx0ICogb3Igbm90IHRoaXMgY2FsbCB0cmlnZ2VyZWQgYSB0cmFuc2l0aW9uIGVkZ2UgKGFjdGl2YXRpbmcgdGhlIGFjdGl2aXR5IGF0ICdpbmRleCcsIG9yIGZpbmlzaGluZyB0aGUgYWN0aXZhdGlvblxyXG5cdCAqIG9mIHRoZSBmaW5hbCBwZW5kaW5nIGFjdGl2aXR5KVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBpbmNyZW1lbnRBY3Rpdml0eShpbmRleDogbnVtYmVyLCBpbmNyZW1lbnQ6IG51bWJlcik6IEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuUGVuZGluZztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5jcmVtZW50IDwgMCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJpbmNyZW1lbnQgbXVzdCBiZSBub24tbmVnYXRpdmVcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT3JkZXJlZCBzZXRzIG11c3QgYmUgdHJpZ2dlcmVkIGluIG9yZGVyLiAgV2UgY2FuIG9ubHkgdHJhY2sgYXQgdGhlIGN1cnJlbnQgaW5kZXgsIG9yIGJlZm9yZVxyXG5cdFx0aWYgKHRoaXMuaXNPcmRlcmVkICYmIGluZGV4ID4gdGhpcy5jdXJyZW50SW5kZXgpIHtcclxuXHRcdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuUGVuZGluZztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZGQgdG8gb3VyIGNvdW50cyBhZnRlciBzdG9yaW5nIG9mZiBvdXIgY3VycmVudCBzdGF0ZVxyXG5cdFx0Y29uc3Qgc3RhcnRlZExlc3NUaGFuVGhyZXNob2xkID0gIXRoaXMuaGFzQ291bnRDcm9zc2VkVGhyZXNob2xkKGluZGV4KTtcclxuXHRcdHRoaXMuY3VycmVudENvdW50c1tpbmRleF0gKz0gaW5jcmVtZW50O1xyXG5cdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50c1tpbmRleF0gKz0gaW5jcmVtZW50O1xyXG5cclxuXHRcdGlmICh0aGlzLmlzQWN0aXZhdGlvbkJ5SW5pdFBlbmRpbmcpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNQZXJtaXR0ZWRJbmRleEZvckFjdGl2YXRpb25CeUluaXQoaW5kZXgpKSB7XHJcblx0XHRcdFx0Ly8gVGhpcyB0cmFja2VyIHdhcyBjb21wbGV0ZWQgZHVlIHRvIHRoZSBpbml0aWFsaXphdGlvbiBmcm9tIHByZXZpb3VzIGluY3JlbWVudCBkYXRhXHJcblx0XHRcdFx0Ly8gbm93IHRoYXQgd2UndmUgc3RvcmUgdGhpcyBhY3Rpdml0aWVzIGluY3JlbWVudHMsIHJhaXNlIHRoZSBBbGxBY3Rpdml0aWVzQWN0aXZhdGVkIHNpZ25hbFxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbW1pdEFjdGl2YXRpb24oKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBTdGlsbCB3YWl0aW5nIGZvciBhIHZhbGlkIHJlLWFjdGl2YXRpb24gYWN0aXZpdHlcclxuXHRcdFx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5QZW5kaW5nO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCEoc3RhcnRlZExlc3NUaGFuVGhyZXNob2xkICYmIHRoaXMuaGFzQ291bnRDcm9zc2VkVGhyZXNob2xkKGluZGV4KSkpIHtcclxuXHRcdFx0Ly8gU3RpbGwgd2FpdGluZyBmb3IgdGhpcyBhY3Rpdml0eSB0byBmaW5pc2hcclxuXHRcdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuUGVuZGluZztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNYXJrIHRoaXMgYWN0aXZpdHkgYXMgY29tcGxldGUgaW4gb3VyIGZsYWcgY29sbGVjdGlvblxyXG5cdFx0dGhpcy5maW5pc2hBY3Rpdml0eUF0SW5kZXgoaW5kZXgpO1xyXG5cclxuXHRcdGlmICh0aGlzLmlzQWN0aXZhdGVkKCkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY29tbWl0QWN0aXZhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBBY3Rpdml0eVRyYWNrZXIuSW5jcmVtZW50UmVzdWx0LlNpbmdsZUFjdGl2aXR5QWN0aXZhdGVkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhwbGljaXRseSBzZXRzIGEgc3RhcnQgdGltZXN0YW1wIChub3cgaWYgc3RhcnRUaW1lIGlzIG51bGwpIGZvciB0aGUgc3BlY2lmaWVkIGFjdGl2aXR5IGluZGV4LiBPdmVyd3JpdGVzIGFueSBwcmV2aW91cyBTdGFydFRpbWUuXHJcblx0ICovXHJcblx0cHVibGljIHN0YXJ0VGltZShpbmRleDogbnVtYmVyLCBzdGFydFRpbWU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jdXJyZW50U3RhcnRUaW1lc1tpbmRleF0gPSAoIXN0YXJ0VGltZSkgPyBuZXcgRGF0ZSgpIDogc3RhcnRUaW1lO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29tcHV0ZXMgdGhlIFwiY291bnRcIiBkZWx0YSAoZGVsdGEgaW4gd2hhdGV2ZXIgdW5pdHMgYXJlIGFwcHJvcHJpYXRlIGZvciBhIHN1YnNlcXVlbnQgY2FsbCB0byBJbmNyZW1lbnRBY3Rpdml0eSlcclxuXHQgKiBlbGFwc2VkIGJldHdlZW4gbm93IGFuZCBhIHByZXZpb3VzbHkgbG9nZ2VkIFN0YXJ0VGltZSBmb3IgdGhpcyBhY3Rpdml0eSBpbmRleC5cclxuXHQgKiBBbHdheXMgY2xlYXJzIHRoZSBwcmV2aW91cyBTdGFydFRpbWUuXHJcblx0ICogUmV0dXJucyAwIGlmIG5vIHByZXZpb3VzIFN0YXJ0VGltZSB3YXMgbG9nZ2VkLCBvciBpZiBTdGFydFRpbWUgPiBTdG9wVGltZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdG9wVGltZShpbmRleDogbnVtYmVyLCBzdG9wVGltZT86IERhdGUpOiBudW1iZXIge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gdGhpcy5jdXJyZW50U3RhcnRUaW1lc1tpbmRleF07XHJcblx0XHR0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2luZGV4XSA9IG51bGw7XHJcblxyXG5cdFx0aWYgKCFzdGFydFRpbWUpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0c3RvcFRpbWUgPSAoIXN0b3BUaW1lKSA/IG5ldyBEYXRlKCkgOiBzdG9wVGltZTtcclxuXHRcdGlmIChzdGFydFRpbWUgPiBzdG9wVGltZSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkZWx0YU1TID0gc3RvcFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTtcclxuXHRcdC8vIEN1cnJlbnRseSBhbGwgdGltZXIgYWN0aXZpdGllcyByZXR1cm4gc2Vjb25kcyBhcyB0aGUgaW5jcmVtZW50IHVuaXRcclxuXHRcdGxldCBkaWZmID0gZGVsdGFNUyAvIDEwMDA7XHJcblxyXG5cdFx0Ly8gQWRkaW5nIDFtcyB0byB0aGUgY291bnQgc28gaXQgY2FuIGhhdmUgdGhlIGRlY2ltYWwgcGxhY2VcclxuXHRcdC8vIFNvIHRoYXQgd2UgY2FuIGRpc3Rpbmd1aXNoIHRoZSBUaW1lIGFjdGl2aXR5XHJcblx0XHRpZiAoZGlmZiAlIDEgPT09IDApIHtcclxuXHRcdFx0ZGlmZiArPSAwLjAwMTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGlmZjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaW5kZXggaXMgdmFsaWQgZm9yIGFjY2Vzc2luZyB0aGUgc3RvcmVkIGFjdGl2aXR5IGNvdW50cywgZmFsc2Ugb3RoZXJ3aXNlXHJcblx0ICovXHJcblx0cHVibGljIGlzVmFsaWRJbmRleChpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gaW5kZXggPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgd2hldGhlciBvciBub3QgdGhlIGZ1bGwgc2V0IG9mIGFjdGl2aXRpZXMgZm9yIHRoaXMgdHJhY2tlciBoYXZlIGV4Y2VlZGVkIHRoZWlyIHRyaWdnZXIgdGhyZXNob2xkc1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBpc0FjdGl2YXRlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAodGhpcy5jdXJyZW50QWN0aXZhdGlvbkZsYWdzICYgdGhpcy5hY3RpdmF0aW9uTWFzaykgPT09IHRoaXMuYWN0aXZhdGlvbk1hc2s7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHRcdCogTWFya3MgdGhlIGFjdGl2aXR5IGF0IHRoZSBpbmRleCBhcyBmaW5pc2hlZC4gSW5jbHVkZXMgc2V0dGluZyB0aGUgcHJvcGVyXHJcblx0XHQqIGFjdGl2YXRpb24gZmxhZ3MgYW5kIHBvdGVudGlhbGx5IGFkdmFuY2luZyB0aGUgY3VycmVudCBpbmRleCBmb3Igb3JkZXJlZCB0cmFja2luZyBzZXRzXHJcblx0XHQqL1xyXG5cdHByaXZhdGUgZmluaXNoQWN0aXZpdHlBdEluZGV4KGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkluZGV4IGlzIG5vdCB2YWxpZFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmN1cnJlbnRBY3RpdmF0aW9uRmxhZ3MgfD0gMHgxIDw8IGluZGV4O1xyXG5cclxuXHRcdGlmIChpbmRleCArIDEgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4ICsgMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSBpbmRleCBpbmRleFxyXG5cdCAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgY291bnRzIGZvciB0aGUgYWN0aXZpdHkgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBoYXZlIG1ldCBvciBleGNlZWRlZCB0aGUgdGhyZXNob2xkIGNvdW50LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaGFzQ291bnRDcm9zc2VkVGhyZXNob2xkKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkluZGV4IGlzIG5vdCB2YWxpZFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50Q291bnRzW2luZGV4XSA+PSB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzW2luZGV4XS5nZXRDb3VudCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBpbmRleCByZWZlcnMgdG8gYW4gYWN0aXZpdHkgdGhhdCBjYW4gcmUtYWN0aXZhdGUgYSB0cmFja2VkIG9iamVjdCAoYWthIHJldHVybiBBbGxBY3Rpdml0aWVzQWN0aXZhdGVkKVxyXG5cdCAqIHRoYXQgd2FzIGluaXRpYWxpemVkIGFzIFwiY29tcGxldGVcIiB2aWEgaW5pdENvdW50cy5cclxuXHQgKiBOb3RlOiBGb3IgdW5vcmRlcmVkIHNldHMsIGFueSBhY3Rpdml0eSBpcyB2YWxpZC4gRm9yIG9yZGVyZWQgc2VxdWVuY2VzLCBvbmx5IHRoZSBmaW5hbCBhY3Rpdml0eSBpcyB2YWxpZFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaXNQZXJtaXR0ZWRJbmRleEZvckFjdGl2YXRpb25CeUluaXQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLmlzT3JkZXJlZCB8fCAoKGluZGV4ICsgMSkgPT09IHRoaXMuY3VycmVudENvdW50cy5sZW5ndGgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb21taXRBY3RpdmF0aW9uKCk6IEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQge1xyXG5cdFx0dGhpcy5pc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nID0gZmFsc2U7XHJcblx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5BbGxBY3Rpdml0aWVzQWN0aXZhdGVkO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIEFjdGl2aXR5VHJhY2tlciB7XHJcblx0LyoqXHJcblx0ICogU3RydWN0dXJlIHJldHVybmVkIGJ5IGFuIEFjdGl2aXR5VHJhY2tlciB0byBjYWxsIGJhY2sgaW50b1xyXG5cdCAqIEluY3JlbWVudEFjdGl2aXR5IHdpdGggdmFsaWQgaW5kZXggdmFsdWVzXHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIEFjdGl2aXR5SW5kZXgge1xyXG5cdFx0cHVibGljIGFjdGl2aXR5OiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgaW5kZXg6IG51bWJlcjtcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIEluY3JlbWVudFJlc3VsdCB7XHJcblx0XHQvKipcclxuXHRcdCAqIE5vIHRocmVzaG9sZHMgY3Jvc3NlZCBhcyBhIHJlc3VsdCBvZiB0aGlzIGluY3JlbWVudCBvcGVyYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0UGVuZGluZyxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRoZSB0aHJlc2hvbGQgZm9yIHRoZSB0YXJnZXRlZCBhY3Rpdml0eSBpbmRleCB3YXMgY3Jvc3NlZCBhcyBhIHJlc3VsdCBvZiB0aGlzIGluY3JlbWVudCBvcGVyYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0U2luZ2xlQWN0aXZpdHlBY3RpdmF0ZWQsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgdGhyZXNob2xkIGZvciB0aGUgdGFyZ2V0ZWQgYWN0aXZpdHkgaW5kZXggd2FzIGNyb3NzZWQgYXMgYSByZXN1bHQgb2YgdGhpcyBpbmNyZW1lbnQgb3BlcmF0aW9uXHJcblx0XHQgKiBhbmQgdGhpcyB3YXMgdGhlIGZpbmFsIGFjdGl2aXR5IGJlaW5nIHRyYWNrZWRcclxuXHRcdCAqL1xyXG5cdFx0QWxsQWN0aXZpdGllc0FjdGl2YXRlZCxcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEFjdGl2aXR5VHJhY2tlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTracker.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTrackingContract.js":
/*!*************************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTrackingContract.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityTrackingContract = void 0;\nvar ActivityTrackingContract = /** @class */ (function () {\n    function ActivityTrackingContract(surveyId, trackingSet) {\n        this.surveyId = surveyId;\n        this.trackingSet = trackingSet;\n    }\n    return ActivityTrackingContract;\n}());\nexports.ActivityTrackingContract = ActivityTrackingContract;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdC50cz80NDk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBO0lBSUMsa0NBQW1CLFFBQWdCLEVBQUUsV0FBZ0M7UUFDcEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUNGLCtCQUFDO0FBQUQsQ0FBQztBQVJZLDREQUF3QiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0IHtcclxuXHRwdWJsaWMgc3VydmV5SWQ6IHN0cmluZztcclxuXHRwdWJsaWMgdHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQ7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdXJ2ZXlJZDogc3RyaW5nLCB0cmFja2luZ1NldDogQWN0aXZpdHlUcmFja2luZ1NldCkge1xyXG5cdFx0dGhpcy5zdXJ2ZXlJZCA9IHN1cnZleUlkO1xyXG5cdFx0dGhpcy50cmFja2luZ1NldCA9IHRyYWNraW5nU2V0O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingContract.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTrackingData.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTrackingData.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityTrackingData = void 0;\n/**\n * Basic structure used to configure an ActivityTracker\n */\nvar ActivityTrackingData = /** @class */ (function () {\n    function ActivityTrackingData(activity, count, isAggregate) {\n        this.activity = activity;\n        this.count = count;\n        this.isAggregate = isAggregate;\n    }\n    ActivityTrackingData.prototype.getActivity = function () {\n        return this.activity;\n    };\n    ActivityTrackingData.prototype.getCount = function () {\n        return this.count;\n    };\n    ActivityTrackingData.prototype.setCount = function (count) {\n        this.count = count;\n    };\n    ActivityTrackingData.prototype.getIsAggregate = function () {\n        return this.isAggregate;\n    };\n    return ActivityTrackingData;\n}());\nexports.ActivityTrackingData = ActivityTrackingData;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdEYXRhLnRzP2Q5M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSDtJQUtDLDhCQUFtQixRQUFnQixFQUFFLEtBQWEsRUFBRSxXQUFvQjtRQUN2RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUNoQyxDQUFDO0lBRU0sMENBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdEIsQ0FBQztJQUVNLHVDQUFRLEdBQWY7UUFDQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDbkIsQ0FBQztJQUVNLHVDQUFRLEdBQWYsVUFBZ0IsS0FBYTtRQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRU0sNkNBQWMsR0FBckI7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTFCWSxvREFBb0IiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BY3Rpdml0eVRyYWNraW5nRGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCYXNpYyBzdHJ1Y3R1cmUgdXNlZCB0byBjb25maWd1cmUgYW4gQWN0aXZpdHlUcmFja2VyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ0RhdGEge1xyXG5cdHByaXZhdGUgYWN0aXZpdHk6IHN0cmluZztcclxuXHRwcml2YXRlIGNvdW50OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBpc0FnZ3JlZ2F0ZTogYm9vbGVhbjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGFjdGl2aXR5OiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIGlzQWdncmVnYXRlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmFjdGl2aXR5ID0gYWN0aXZpdHk7XHJcblx0XHR0aGlzLmNvdW50ID0gY291bnQ7XHJcblx0XHR0aGlzLmlzQWdncmVnYXRlID0gaXNBZ2dyZWdhdGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2aXR5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvdW50KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb3VudDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb3VudChjb3VudDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHR0aGlzLmNvdW50ID0gY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SXNBZ2dyZWdhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0FnZ3JlZ2F0ZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingData.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ActivityTrackingSet.js":
/*!********************************************************!*\
  !*** ../FloodgateCore/dist/src/ActivityTrackingSet.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActivityTrackingSet = void 0;\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/**\n * Class to hold a collection of Activity Tracking Data\n */\nvar ActivityTrackingSet = /** @class */ (function () {\n    function ActivityTrackingSet(isOrdered, list) {\n        this.isOrdered = isOrdered;\n        this.list = list;\n    }\n    ActivityTrackingSet.prototype.getIsOrdered = function () {\n        return this.isOrdered;\n    };\n    ActivityTrackingSet.prototype.getList = function () {\n        return this.list;\n    };\n    // returns a stringified json with the list and isOrdered info.\n    ActivityTrackingSet.prototype.getActivityTrackingInfo = function (activityListener, surveyId) {\n        var activitiesInfoObject;\n        if (this.list.length === 0) {\n            activitiesInfoObject = {\n                Activities: [],\n                IsListOrdered: this.isOrdered,\n            };\n            return JSON.stringify(activitiesInfoObject);\n        }\n        for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n            var trackingData = _a[_i];\n            var actualCount = activityListener.getCount(trackingData.getActivity(), surveyId);\n            var tempActivities = {\n                Activity: trackingData.getActivity(),\n                ActualCount: actualCount,\n                Count: trackingData.getCount(),\n                IsAggregate: trackingData.getIsAggregate(),\n                IsDiscrete: actualCount % 1 === 0,\n            };\n            if (Utils_1.isNOU(activitiesInfoObject)) {\n                activitiesInfoObject = {\n                    Activities: [tempActivities],\n                    IsListOrdered: this.isOrdered,\n                };\n            }\n            else {\n                activitiesInfoObject.Activities.push(tempActivities);\n            }\n        }\n        return JSON.stringify(activitiesInfoObject);\n    };\n    return ActivityTrackingSet;\n}());\nexports.ActivityTrackingSet = ActivityTrackingSet;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdTZXQudHM/Y2YzOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx1RkFBZ0M7QUFFaEM7O0dBRUc7QUFDSDtJQUlDLDZCQUFtQixTQUFrQixFQUFFLElBQTRCO1FBQ2xFLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFFTSwwQ0FBWSxHQUFuQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2QixDQUFDO0lBRU0scUNBQU8sR0FBZDtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRUQsK0RBQStEO0lBQ3hELHFEQUF1QixHQUE5QixVQUErQixnQkFBd0MsRUFBRSxRQUFnQjtRQUV4RixJQUFJLG9CQUdILENBQUM7UUFFRixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUMzQixvQkFBb0IsR0FBRztnQkFDdEIsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsYUFBYSxFQUFFLElBQUksQ0FBQyxTQUFTO2FBQzdCLENBQUM7WUFFRixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQztTQUM1QztRQUVELEtBQTJCLFVBQVMsRUFBVCxTQUFJLENBQUMsSUFBSSxFQUFULGNBQVMsRUFBVCxJQUFTLEVBQUU7WUFBakMsSUFBTSxZQUFZO1lBRXRCLElBQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDcEYsSUFBTSxjQUFjLEdBQUc7Z0JBQ3BCLFFBQVEsRUFBRSxZQUFZLENBQUMsV0FBVyxFQUFFO2dCQUNwQyxXQUFXLEVBQUUsV0FBVztnQkFDeEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxRQUFRLEVBQUU7Z0JBQzlCLFdBQVcsRUFBRSxZQUFZLENBQUMsY0FBYyxFQUFFO2dCQUMxQyxVQUFVLEVBQUUsV0FBVyxHQUFHLENBQUMsS0FBSyxDQUFDO2FBQ2pDLENBQUM7WUFFSixJQUFJLGFBQUssQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO2dCQUNoQyxvQkFBb0IsR0FBRztvQkFDbkIsVUFBVSxFQUFFLENBQUMsY0FBYyxDQUFDO29CQUM1QixhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVM7aUJBQzdCLENBQUM7YUFDTDtpQkFBTTtnQkFDTixvQkFBb0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQ3JEO1NBQ0Q7UUFFRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBQ0YsMEJBQUM7QUFBRCxDQUFDO0FBekRZLGtEQUFtQiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tpbmdTZXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nRGF0YSB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdEYXRhXCI7XHJcbmltcG9ydCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyID0gcmVxdWlyZShcIi4vU3VydmV5QWN0aXZpdHlMaXN0ZW5lclwiKTtcclxuaW1wb3J0IHsgaXNOT1UgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHRvIGhvbGQgYSBjb2xsZWN0aW9uIG9mIEFjdGl2aXR5IFRyYWNraW5nIERhdGFcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRwcml2YXRlIGlzT3JkZXJlZDogYm9vbGVhbjtcclxuXHRwcml2YXRlIGxpc3Q6IEFjdGl2aXR5VHJhY2tpbmdEYXRhW107XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihpc09yZGVyZWQ6IGJvb2xlYW4sIGxpc3Q6IEFjdGl2aXR5VHJhY2tpbmdEYXRhW10pIHtcclxuXHRcdHRoaXMuaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xyXG5cdFx0dGhpcy5saXN0ID0gbGlzdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJc09yZGVyZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc09yZGVyZWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TGlzdCgpOiBBY3Rpdml0eVRyYWNraW5nRGF0YVtdIHtcclxuXHRcdHJldHVybiB0aGlzLmxpc3Q7XHJcblx0fVxyXG5cclxuXHQvLyByZXR1cm5zIGEgc3RyaW5naWZpZWQganNvbiB3aXRoIHRoZSBsaXN0IGFuZCBpc09yZGVyZWQgaW5mby5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHlUcmFja2luZ0luZm8oYWN0aXZpdHlMaXN0ZW5lcjogU3VydmV5QWN0aXZpdHlMaXN0ZW5lciwgc3VydmV5SWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblxyXG5cdFx0bGV0IGFjdGl2aXRpZXNJbmZvT2JqZWN0OiB7XHJcblx0XHRcdEFjdGl2aXRpZXM6IEFycmF5PHsgQWN0aXZpdHk6IHN0cmluZywgQ291bnQ6IG51bWJlciwgSXNBZ2dyZWdhdGU6IGJvb2xlYW4gfT4sXHJcblx0XHRcdElzTGlzdE9yZGVyZWQ6IGJvb2xlYW4sXHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICh0aGlzLmxpc3QubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdGFjdGl2aXRpZXNJbmZvT2JqZWN0ID0ge1xyXG5cdFx0XHRcdEFjdGl2aXRpZXM6IFtdLFxyXG5cdFx0XHRcdElzTGlzdE9yZGVyZWQ6IHRoaXMuaXNPcmRlcmVkLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGFjdGl2aXRpZXNJbmZvT2JqZWN0KTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGNvbnN0IHRyYWNraW5nRGF0YSBvZiB0aGlzLmxpc3QpIHtcclxuXHJcblx0XHRcdGNvbnN0IGFjdHVhbENvdW50ID0gYWN0aXZpdHlMaXN0ZW5lci5nZXRDb3VudCh0cmFja2luZ0RhdGEuZ2V0QWN0aXZpdHkoKSwgc3VydmV5SWQpO1xyXG5cdFx0XHRjb25zdCB0ZW1wQWN0aXZpdGllcyA9IHtcclxuXHRcdFx0XHRcdFx0QWN0aXZpdHk6IHRyYWNraW5nRGF0YS5nZXRBY3Rpdml0eSgpLFxyXG5cdFx0XHRcdFx0XHRBY3R1YWxDb3VudDogYWN0dWFsQ291bnQsXHJcblx0XHRcdFx0XHRcdENvdW50OiB0cmFja2luZ0RhdGEuZ2V0Q291bnQoKSxcclxuXHRcdFx0XHRcdFx0SXNBZ2dyZWdhdGU6IHRyYWNraW5nRGF0YS5nZXRJc0FnZ3JlZ2F0ZSgpLFxyXG5cdFx0XHRcdFx0XHRJc0Rpc2NyZXRlOiBhY3R1YWxDb3VudCAlIDEgPT09IDAsXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGFjdGl2aXRpZXNJbmZvT2JqZWN0KSkge1xyXG5cdFx0XHRcdGFjdGl2aXRpZXNJbmZvT2JqZWN0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0QWN0aXZpdGllczogW3RlbXBBY3Rpdml0aWVzXSxcclxuXHRcdFx0XHRcdFx0XHRcdElzTGlzdE9yZGVyZWQ6IHRoaXMuaXNPcmRlcmVkLFxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWN0aXZpdGllc0luZm9PYmplY3QuQWN0aXZpdGllcy5wdXNoKHRlbXBBY3Rpdml0aWVzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShhY3Rpdml0aWVzSW5mb09iamVjdCk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingSet.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/Api.js":
/*!********************************************!*\
  !*** ../FloodgateCore/dist/src/Api/Api.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Parent module for all modules in Api/\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ISurveyInfo = exports.ISurveyComponent = exports.ISurvey = exports.IFloodgateSettingIdMap = exports.IFloodgateStorageProvider = exports.IActivityListener = void 0;\nvar ISurveyInfo = __webpack_require__(/*! ./../ISurveyInfo */ \"../FloodgateCore/dist/src/ISurveyInfo.js\");\nexports.ISurveyInfo = ISurveyInfo;\nvar IActivityListener = __webpack_require__(/*! ./IActivityListener */ \"../FloodgateCore/dist/src/Api/IActivityListener.js\");\nexports.IActivityListener = IActivityListener;\nvar IFloodgateSettingIdMap = __webpack_require__(/*! ./IFloodgateSettingIdMap */ \"../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js\");\nexports.IFloodgateSettingIdMap = IFloodgateSettingIdMap;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nexports.IFloodgateStorageProvider = IFloodgateStorageProvider;\nvar ISurvey = __webpack_require__(/*! ./ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nexports.ISurvey = ISurvey;\nvar ISurveyComponent = __webpack_require__(/*! ./ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nexports.ISurveyComponent = ISurveyComponent;\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ../Campaign/CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nObject.defineProperty(exports, \"CampaignDefinition\", { enumerable: true, get: function () { return CampaignDefinitionProvider_1.CampaignDefinition; } });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9BcGkudHM/NTljMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQUVILDBHQUFnRDtBQXVDdkMsa0NBQVc7QUF0Q3BCLDZIQUF5RDtBQVFoRCw4Q0FBaUI7QUFQMUIsNElBQW1FO0FBcUIxRCx3REFBc0I7QUFwQi9CLHFKQUF5RTtBQWtCaEUsOERBQXlCO0FBaEJsQywrRkFBcUM7QUE2QjVCLDBCQUFPO0FBNUJoQiwwSEFBdUQ7QUE2QjlDLDRDQUFnQjtBQTNCekIseUtBQTRFO0FBQW5FLGtKQUFrQiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9BcGkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUGFyZW50IG1vZHVsZSBmb3IgYWxsIG1vZHVsZXMgaW4gQXBpL1xyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLy4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIElBY3Rpdml0eUxpc3RlbmVyIGZyb20gXCIuL0lBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCAqIGFzIElGbG9vZGdhdGVTZXR0aW5nSWRNYXAgZnJvbSBcIi4vSUZsb29kZ2F0ZVNldHRpbmdJZE1hcFwiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0lGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuL0lGbG9vZGdhdGVTdHJpbmdQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuL0lTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi9JU3VydmV5Q29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgeyBDYW1wYWlnbkRlZmluaXRpb24gfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuZXhwb3J0IHsgSUFjdGl2aXR5TGlzdGVuZXIgfTtcclxuZXhwb3J0IHsgSUFzc2V0c1Byb3ZpZGVyIH0gZnJvbSBcIi4vSUFzc2V0c1Byb3ZpZGVyXCI7XHJcbmV4cG9ydCB7IElBdWdMb29wQ2FsbGJhY2sgfSBmcm9tIFwiLi9JQXVnTG9vcENhbGxiYWNrXCI7XHJcbmV4cG9ydCB7IElCcHNTdXJ2ZXkgfSBmcm9tIFwiLi9JQnBzU3VydmV5XCI7XHJcbmV4cG9ydCB7IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5leHBvcnQgeyBJQ29tbWVudENvbXBvbmVudCB9IGZyb20gXCIuL0lDb21tZW50Q29tcG9uZW50XCI7XHJcbmV4cG9ydCB7IElDVlN1cnZleUNvbXBvbmVudCB9IGZyb20gXCIuL0lDVlN1cnZleUNvbXBvbmVudFwiO1xyXG5leHBvcnQgeyBJRGF0YVByb3ZpZGVyIH0gZnJvbSBcIi4vSURhdGFQcm92aWRlclwiO1xyXG5leHBvcnQgeyBJRmVlZGJhY2tTdXJ2ZXkgfSBmcm9tIFwiLi9JRmVlZGJhY2tTdXJ2ZXlcIjtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrIH0gZnJvbSBcIi4vSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrXCI7XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyIH0gZnJvbSBcIi4vSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXJcIjtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2sgfSBmcm9tIFwiLi9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIH07XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciB9O1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ0lkTWFwIH07XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgfSBmcm9tIFwiLi9JRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyXCI7XHJcbmV4cG9ydCB7IElGcHNTdXJ2ZXkgfSBmcm9tIFwiLi9JRnBzU3VydmV5XCI7XHJcbmV4cG9ydCB7IElOcHNTdXJ2ZXkgfSBmcm9tIFwiLi9JTnBzU3VydmV5XCI7XHJcbmV4cG9ydCB7IElJbnRlcmNlcHRTdXJ2ZXkgfSBmcm9tIFwiLi9JSW50ZXJjZXB0U3VydmV5XCI7XHJcbmV4cG9ydCB7IElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrIH0gZnJvbSBcIi4vSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2tcIjtcclxuZXhwb3J0IHsgSVByb21wdENvbXBvbmVudCB9IGZyb20gXCIuL0lQcm9tcHRDb21wb25lbnRcIjtcclxuZXhwb3J0IHsgSUludGVyY2VwdENvbXBvbmVudCB9IGZyb20gXCIuL0lJbnRlcmNlcHRDb21wb25lbnRcIjtcclxuZXhwb3J0IHsgSVBzYXRTdXJ2ZXkgfSBmcm9tIFwiLi9JUHNhdFN1cnZleVwiO1xyXG5leHBvcnQgeyBJUmF0aW5nQ29tcG9uZW50IH0gZnJvbSBcIi4vSVJhdGluZ0NvbXBvbmVudFwiO1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0lGbG9vZGdhdGVTZXR0aW5nXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXkgfTtcclxuZXhwb3J0IHsgSVN1cnZleUNvbXBvbmVudCB9O1xyXG5leHBvcnQgeyBJU3VydmV5RG9tV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleURvbVdyaXRlclwiO1xyXG5leHBvcnQgeyBJU3VydmV5Rm9ybSB9IGZyb20gXCIuL0lTdXJ2ZXlGb3JtXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXlKc29uV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleUpzb25Xcml0ZXJcIjtcclxuZXhwb3J0IHsgSVN1cnZleUluZm8gfTtcclxuZXhwb3J0IHsgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIi4vSVN1cnZleUxhdW5jaGVyXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXlMYXVuY2hlckZhY3RvcnkgfSBmcm9tIFwiLi9JU3VydmV5TGF1bmNoZXJGYWN0b3J5XCI7XHJcbmV4cG9ydCB7IElUZWxlbWV0cnlQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vSVRlbGVtZXRyeVByb3BlcnRpZXNcIjtcclxuZXhwb3J0IHsgSVRyYW5zcG9ydGVyIH0gZnJvbSBcIi4vSVRyYW5zcG9ydGVyXCI7XHJcbmV4cG9ydCB7IElUcmFuc3BvcnRlckZhY3RvcnkgfSBmcm9tIFwiLi9JVHJhbnNwb3J0ZXJGYWN0b3J5XCI7XHJcbmV4cG9ydCB7IElVc2VyRmFjdCB9IGZyb20gXCIuLi9Vc2VyRmFjdC9JVXNlckZhY3RcIjtcclxuZXhwb3J0IHsgSVVzZXJGYWN0UHJvdmlkZXIgfSBmcm9tIFwiLi9JVXNlckZhY3RQcm92aWRlclwiO1xyXG5leHBvcnQgeyBJR292ZXJuYW5jZVNlcnZpY2VDbGllbnQgfSBmcm9tIFwiLi9JR292ZXJuYW5jZVNlcnZpY2VDbGllbnRcIjtcclxuZXhwb3J0IHsgSVBlcnNvbmFsaXplckNsaWVudCB9IGZyb20gXCIuL0lQZXJzb25hbGl6ZXJDbGllbnRcIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/Api.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IActivityListener.js":
/*!**********************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IActivityListener.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar IActivityListener;\n(function (IActivityListener) {\n    var ActivityName = /** @class */ (function () {\n        function ActivityName() {\n        }\n        ActivityName.AppLaunch = \"AppLaunch\";\n        ActivityName.AppUsageTime = \"AppUsageTime\";\n        ActivityName.AppResume = \"AppResume\";\n        return ActivityName;\n    }());\n    IActivityListener.ActivityName = ActivityName;\n})(IActivityListener || (IActivityListener = {}));\nmodule.exports = IActivityListener;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JQWN0aXZpdHlMaXN0ZW5lci50cz8yMzBmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUF3QkEsSUFBTyxpQkFBaUIsQ0FVdkI7QUFWRCxXQUFPLGlCQUFpQjtJQUt2QjtRQUFBO1FBSUEsQ0FBQztRQUh1QixzQkFBUyxHQUFHLFdBQVcsQ0FBQztRQUN4Qix5QkFBWSxHQUFHLGNBQWMsQ0FBQztRQUM5QixzQkFBUyxHQUFHLFdBQVcsQ0FBQztRQUNoRCxtQkFBQztLQUFBO0lBSlksOEJBQVksZUFJeEI7QUFDRixDQUFDLEVBVk0saUJBQWlCLEtBQWpCLGlCQUFpQixRQVV2QjtBQUVELGlCQUFTLGlCQUFpQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQXBpL0lBY3Rpdml0eUxpc3RlbmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRoZSBtYWluIGludGVyZmFjZSB0byB1c2Ugd2hlbiBpbnN0cnVtZW50aW5nIHN1cnZleSBhY3Rpdml0aWVzIGluIGFwcCBjb2RlXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdC8qKlxyXG5cdCAqIExvZyBhbiBhY3Rpdml0eSB0byBGbG9vZGdhdGUsIGluY3JlbWVudGluZyBpdHMgb2NjdXJyZW5jZSBjb3VudCBieSB0aGUgZ2l2ZW4gbnVtYmVyIGlmIHNwZWNpZmllZCxcclxuXHQgKiBvdGhlcndpc2UgaW5jcmVtZW50aW5nIGl0cyBvY2N1cnJlbmNlIGNvdW50IGJ5IG9uZSBhcyBkZWZhdWx0XHJcblx0ICovXHJcblx0bG9nQWN0aXZpdHkoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIGluY3JlbWVudD86IG51bWJlciwgY29udGV4dD864oCvSUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5Q29udGV4dCk6IHZvaWQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IGFuIGFjdGl2aXR5IHRpbWVyIChvdmVyd3JpdGluZyBhbnkgcHJldmlvdXNseSB1bmNsb3NlZCBzdGFydCkuXHJcblx0ICogTk9URTogRG9lcyBub3QgaW5jcmVtZW50IHRoZSBhY3Rpdml0eSBjb3VudC5cclxuXHQgKi9cclxuXHRsb2dBY3Rpdml0eVN0YXJ0VGltZShhY3Rpdml0eU5hbWU6IHN0cmluZywgc3RhcnRUaW1lPzogRGF0ZSk6IHZvaWQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3AgYW4gYWN0aXZpdHkgdGltZXIgYW5kIGNsZWFycyB0aGUgcHJldmlvdXMgc3RhcnQgdGltZS5cclxuXHQgKiBBZGRzIHRoZSBlbGFwc2VkIHNlY29uZHMgYmV0d2VlbiB0aGlzIHN0b3AgYW5kIHRoZSBwcmV2aW91cyBzdGFydCBpbnRvIHRoZSBjb3VudCBmb3IgdGhpcyBhY3Rpdml0eVxyXG5cdCAqIFxcbm90ZSBJZiBubyBwcmV2aW91cyBzdGFydCB3YXMgbG9nZ2VkLCBvciBzdGFydCBpcyBzb21laG93IGluIHRoZSBmdXR1cmUsIHJlc3VsdHMgaW4gMCBjb3VudCBpbmNyZW1lbnRcclxuXHQgKi9cclxuXHRsb2dBY3Rpdml0eVN0b3BUaW1lKGFjdGl2aXR5TmFtZTogc3RyaW5nLCBzdG9wVGltZT86IERhdGUpOiB2b2lkO1xyXG59XHJcblxyXG5tb2R1bGUgSUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdGV4cG9ydOKAr2ludGVyZmFjZeKAr0lBY3Rpdml0eUNvbnRleHTigK97XHJcblx0XHRkYXRhPzrigK91bmtub3duO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNsYXNzIEFjdGl2aXR5TmFtZSB7XHJcblx0XHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFwcExhdW5jaCA9IFwiQXBwTGF1bmNoXCI7XHJcblx0XHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFwcFVzYWdlVGltZSA9IFwiQXBwVXNhZ2VUaW1lXCI7XHJcblx0XHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFwcFJlc3VtZSA9IFwiQXBwUmVzdW1lXCI7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBJQWN0aXZpdHlMaXN0ZW5lcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IActivityListener.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js":
/*!***************************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar IFloodgateSettingIdMap;\n(function (IFloodgateSettingIdMap) {\n    /**\n     * Collection of setting names and ids\n     */\n    IFloodgateSettingIdMap.RoamingSettingIdMap = {\n        CampaignStates: 1258,\n        GovernedChannelStates: 1257,\n        SurveyActivationStats: 1259,\n    };\n})(IFloodgateSettingIdMap || (IFloodgateSettingIdMap = {}));\nmodule.exports = IFloodgateSettingIdMap;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JRmxvb2RnYXRlU2V0dGluZ0lkTWFwLnRzP2YzZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU9BLElBQU8sc0JBQXNCLENBUzVCO0FBVEQsV0FBTyxzQkFBc0I7SUFDNUI7O09BRUc7SUFDVSwwQ0FBbUIsR0FBRztRQUNsQyxjQUFjLEVBQUUsSUFBSTtRQUNwQixxQkFBcUIsRUFBRSxJQUFJO1FBQzNCLHFCQUFxQixFQUFFLElBQUk7S0FDM0IsQ0FBQztBQUNILENBQUMsRUFUTSxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBUzVCO0FBRUQsaUJBQVMsc0JBQXNCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVNldHRpbmdJZE1hcC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGEgY29sbGVjdGlvbiBvZiBGbG9vZGdhdGUgc2V0dGluZyBuYW1lcyBhbmQgaWRzXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0cmVhZG9ubHkgW2tleTogc3RyaW5nXTogbnVtYmVyO1xyXG59XHJcblxyXG5tb2R1bGUgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0LyoqXHJcblx0ICogQ29sbGVjdGlvbiBvZiBzZXR0aW5nIG5hbWVzIGFuZCBpZHNcclxuXHQgKi9cclxuXHRleHBvcnQgY29uc3QgUm9hbWluZ1NldHRpbmdJZE1hcCA9IHtcclxuXHRcdENhbXBhaWduU3RhdGVzOiAxMjU4LFxyXG5cdFx0R292ZXJuZWRDaGFubmVsU3RhdGVzOiAxMjU3LFxyXG5cdFx0U3VydmV5QWN0aXZhdGlvblN0YXRzOiAxMjU5LFxyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCA9IElGbG9vZGdhdGVTZXR0aW5nSWRNYXA7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js":
/*!******************************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar IFloodgateStorageProvider;\n(function (IFloodgateStorageProvider) {\n    /**\n     * Enum for the files used by floodgate\n     */\n    var FileType;\n    (function (FileType) {\n        FileType[FileType[\"FloodgateSettings\"] = 0] = \"FloodgateSettings\";\n        FileType[FileType[\"SurveyActivationStats\"] = 1] = \"SurveyActivationStats\";\n        FileType[FileType[\"SurveyEventActivityStats\"] = 2] = \"SurveyEventActivityStats\";\n        FileType[FileType[\"CampaignDefinitions\"] = 3] = \"CampaignDefinitions\";\n        FileType[FileType[\"CampaignStates\"] = 4] = \"CampaignStates\";\n        FileType[FileType[\"GovernedChannelStates\"] = 5] = \"GovernedChannelStates\";\n        FileType[FileType[\"TmsCache_MessageMetadata\"] = 6] = \"TmsCache_MessageMetadata\";\n        FileType[FileType[\"TmsCache_UserGovernance\"] = 7] = \"TmsCache_UserGovernance\";\n        FileType[FileType[\"TmsCache_CampaignContent\"] = 8] = \"TmsCache_CampaignContent\";\n        FileType[FileType[\"Tms_DynamicSettings\"] = 9] = \"Tms_DynamicSettings\";\n        FileType[FileType[\"LogLevelSettings\"] = 10] = \"LogLevelSettings\";\n        FileType[FileType[\"UserFacts\"] = 11] = \"UserFacts\";\n        FileType[FileType[\"DebugOverrides\"] = 12] = \"DebugOverrides\";\n    })(FileType = IFloodgateStorageProvider.FileType || (IFloodgateStorageProvider.FileType = {}));\n})(IFloodgateStorageProvider || (IFloodgateStorageProvider = {}));\nmodule.exports = IFloodgateStorageProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnRzPzkzZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXlCQSxJQUFPLHlCQUF5QixDQW1CL0I7QUFuQkQsV0FBTyx5QkFBeUI7SUFDL0I7O09BRUc7SUFDSCxJQUFZLFFBY1g7SUFkRCxXQUFZLFFBQVE7UUFDbkIsaUVBQWlCO1FBQ2pCLHlFQUFxQjtRQUNyQiwrRUFBd0I7UUFDeEIscUVBQW1CO1FBQ25CLDJEQUFjO1FBQ2QseUVBQXFCO1FBQ3JCLCtFQUF3QjtRQUN4Qiw2RUFBdUI7UUFDdkIsK0VBQXdCO1FBQ3hCLHFFQUFtQjtRQUNuQixnRUFBZ0I7UUFDaEIsa0RBQVM7UUFDVCw0REFBYztJQUNmLENBQUMsRUFkVyxRQUFRLEdBQVIsa0NBQVEsS0FBUixrQ0FBUSxRQWNuQjtBQUNGLENBQUMsRUFuQk0seUJBQXlCLEtBQXpCLHlCQUF5QixRQW1CL0I7QUFFRCxpQkFBUyx5QkFBeUIsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEludGVyZmFjZSBmb3Igc3RvcmluZyBhbmQgcmV0cmlldmluZyBmbG9vZGdhdGUtc3BlY2lmaWMgZGF0YSBmcm9tIHN0b3JhZ2VcclxuICovXHJcbmludGVyZmFjZSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIHtcclxuXHQvKipcclxuXHQgKiBMb2NrIHRoZSBmaWxlIHRvIHByZXZlbnQgYWNjZXNzIGZyb20gYW5vdGhlciBwcm9jZXNzLlxyXG5cdCAqL1xyXG5cdGZpbGVMb2NrKGZpbGVUeXBlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlKTogdm9pZDtcclxuXHJcblx0LyoqXHJcblx0ICogVW5sb2NrIHRoZSBmaWxlLlxyXG5cdCAqL1xyXG5cdGZpbGVVbmxvY2soZmlsZVR5cGU6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUpOiB2b2lkO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZWFkIHRoZSBmaWxlXHJcblx0ICovXHJcblx0cmVhZChmaWxlVHlwZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZSk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogV3JpdGUgdG8gdGhlIGZpbGVcclxuXHQgKi9cclxuXHR3cml0ZShmaWxlVHlwZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZDtcclxufVxyXG5cclxubW9kdWxlIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIge1xyXG5cdC8qKlxyXG5cdCAqIEVudW0gZm9yIHRoZSBmaWxlcyB1c2VkIGJ5IGZsb29kZ2F0ZVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBlbnVtIEZpbGVUeXBlIHtcclxuXHRcdEZsb29kZ2F0ZVNldHRpbmdzLFxyXG5cdFx0U3VydmV5QWN0aXZhdGlvblN0YXRzLFxyXG5cdFx0U3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLFxyXG5cdFx0Q2FtcGFpZ25EZWZpbml0aW9ucyxcclxuXHRcdENhbXBhaWduU3RhdGVzLFxyXG5cdFx0R292ZXJuZWRDaGFubmVsU3RhdGVzLFxyXG5cdFx0VG1zQ2FjaGVfTWVzc2FnZU1ldGFkYXRhLFxyXG5cdFx0VG1zQ2FjaGVfVXNlckdvdmVybmFuY2UsXHJcblx0XHRUbXNDYWNoZV9DYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRUbXNfRHluYW1pY1NldHRpbmdzLFxyXG5cdFx0TG9nTGV2ZWxTZXR0aW5ncyxcclxuXHRcdFVzZXJGYWN0cyxcclxuXHRcdERlYnVnT3ZlcnJpZGVzLFxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/IGovernanceServiceClient.js":
/*!*****************************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/IGovernanceServiceClient.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GovernanceServiceClientState = exports.GovernanceServiceSurveyType = void 0;\n/**\n * The enum is matching with Governance Service\n * So the missing number is not supported\n */\nvar GovernanceServiceSurveyType;\n(function (GovernanceServiceSurveyType) {\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Unknown\"] = 0] = \"Unknown\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Feedback\"] = 1] = \"Feedback\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Nps\"] = 2] = \"Nps\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Psat\"] = 4] = \"Psat\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Bps\"] = 6] = \"Bps\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Fps\"] = 8] = \"Fps\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Nlqs\"] = 18] = \"Nlqs\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"GenericMessagingSurface\"] = 22] = \"GenericMessagingSurface\";\n    GovernanceServiceSurveyType[GovernanceServiceSurveyType[\"Intercept\"] = 24] = \"Intercept\";\n})(GovernanceServiceSurveyType = exports.GovernanceServiceSurveyType || (exports.GovernanceServiceSurveyType = {}));\nvar GovernanceServiceClientState;\n(function (GovernanceServiceClientState) {\n    GovernanceServiceClientState[GovernanceServiceClientState[\"Disabled\"] = 0] = \"Disabled\";\n    GovernanceServiceClientState[GovernanceServiceClientState[\"InitializationFailed\"] = 1] = \"InitializationFailed\";\n    GovernanceServiceClientState[GovernanceServiceClientState[\"Enabled\"] = 2] = \"Enabled\";\n})(GovernanceServiceClientState = exports.GovernanceServiceClientState || (exports.GovernanceServiceClientState = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JR292ZXJuYW5jZVNlcnZpY2VDbGllbnQudHM/OTlmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFXQTs7O0dBR0c7QUFDSCxJQUFZLDJCQVVYO0FBVkQsV0FBWSwyQkFBMkI7SUFDdEMsbUZBQVc7SUFDWCxxRkFBWTtJQUNaLDJFQUFPO0lBQ1AsNkVBQVE7SUFDUiwyRUFBTztJQUNQLDJFQUFPO0lBQ1AsOEVBQVM7SUFDVCxvSEFBNEI7SUFDNUIsd0ZBQWM7QUFDZixDQUFDLEVBVlcsMkJBQTJCLEdBQTNCLG1DQUEyQixLQUEzQixtQ0FBMkIsUUFVdEM7QUFFRCxJQUFZLDRCQUlYO0FBSkQsV0FBWSw0QkFBNEI7SUFDdkMsdUZBQVk7SUFDWiwrR0FBb0I7SUFDcEIscUZBQU87QUFDUixDQUFDLEVBSlcsNEJBQTRCLEdBQTVCLG9DQUE0QixLQUE1QixvQ0FBNEIsUUFJdkMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BcGkvSUdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi9JU3VydmV5XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZW51bSBHb3Zlcm5hbmNlU2VydmljZVN1cnZleVBsYXRmb3JtIHtcclxuXHRGbG9vZGdhdGUgPSAxLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZW51bSBHb3Zlcm5hbmNlU2VydmljZUhvc3RQbGF0Zm9ybSB7XHJcblx0V2ViID0gNixcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBlbnVtIGlzIG1hdGNoaW5nIHdpdGggR292ZXJuYW5jZSBTZXJ2aWNlXHJcbiAqIFNvIHRoZSBtaXNzaW5nIG51bWJlciBpcyBub3Qgc3VwcG9ydGVkXHJcbiAqL1xyXG5leHBvcnQgZW51bSBHb3Zlcm5hbmNlU2VydmljZVN1cnZleVR5cGUge1xyXG5cdFVua25vd24gPSAwLFxyXG5cdEZlZWRiYWNrID0gMSxcclxuXHROcHMgPSAyLFxyXG5cdFBzYXQgPSA0LFxyXG5cdEJwcyA9IDYsXHJcblx0RnBzID0gOCxcclxuXHRObHFzID0gMTgsXHJcblx0R2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UgPSAyMixcclxuXHRJbnRlcmNlcHQgPSAyNCxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gR292ZXJuYW5jZVNlcnZpY2VDbGllbnRTdGF0ZSB7XHJcblx0RGlzYWJsZWQgPSAwLFxyXG5cdEluaXRpYWxpemF0aW9uRmFpbGVkLFxyXG5cdEVuYWJsZWQsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdvdmVybmFuY2VTdXJ2ZXlJbmZvIHtcclxuXHRzdXJ2ZXlJZDogc3RyaW5nO1xyXG5cdHN1cnZleVRyaWdnZXJUaW1lOiBEYXRlO1xyXG5cdHN1cnZleVR5cGU6IG51bWJlcjtcclxuXHRzdXJ2ZXlMZXZlbENvb2xkb3duPzogbnVtYmVyO1xyXG5cdHN1cnZleUNoYW5uZWw/OiBudW1iZXI7XHJcblx0bG9jYWxPZmZzZXRUaW1lOiBudW1iZXI7XHJcblx0cGVyc29uYWxpemVyRW5hYmxlZDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJR292ZXJuYW5jZUNsaWVudEluZm8ge1xyXG5cdGFwcGxpY2F0aW9uSWQ6IHN0cmluZztcclxuXHRzZXNzaW9uSWQ6IHN0cmluZztcclxuXHR2ZXJzaW9uOiBzdHJpbmc7XHJcblx0c3VydmV5UGxhdGZvcm06IG51bWJlcjtcclxuXHRob3N0UGxhdGZvcm06IG51bWJlcjtcclxuXHRob3N0T1M/OiBzdHJpbmc7XHJcblx0dGVuYW50SWQ/OiBzdHJpbmc7XHJcblx0ZGV2aWNlSWQ/OiBzdHJpbmc7XHJcblx0YXVkaWVuY2U/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdvdmVybmFuY2VTdXJ2ZXlSZXF1ZXN0IHtcclxuXHR1c2VySWQ6IHN0cmluZztcclxuXHRzdXJ2ZXk6IElHb3Zlcm5hbmNlU3VydmV5SW5mbztcclxuXHRjbGllbnQ6IElHb3Zlcm5hbmNlQ2xpZW50SW5mbztcclxuXHR1c2VyTGV2ZWxDb29sZG93bj86IG51bWJlcjtcclxuXHRyZXF1ZXN0SWQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdvdmVybmFuY2VTdXJ2ZXlSZXNwb25zZSB7XHJcblx0dXNlcklkOiBzdHJpbmc7XHJcblx0bGFzdFRyaWdnZXJTdXJ2ZXlUaW1lOiBEYXRlO1xyXG5cdHRpbWVVbnRpbE5leHRTdXJ2ZXlBbGxvd2VkOiBudW1iZXI7XHJcblx0YWN0aW9uSWQ/OiBzdHJpbmc7IC8vIEZvciBwZXJzb25hbGl6ZXIgYWN0aW9uSWRcclxuXHRldmVudElkPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5hbmNlU2VydmljZVJlc3VsdCB7XHJcblx0bGFzdFRyaWdnZXJTdXJ2ZXk/OiBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlO1xyXG5cdHBlcm1pc3Npb24/OiBib29sZWFuO1xyXG5cdGVycm9yPzogYm9vbGVhbjtcclxuXHRlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50IHtcclxuXHRjaGVja0dvdmVybmFuY2VQZXJtaXRBc3luYyhcclxuXHRcdHN1cnZleTogSVN1cnZleSxcclxuXHRcdHN1cnZleUxldmVsQ29vbGRvd246IG51bWJlcixcclxuXHRcdHVzZXJMZXZlbENvb2xkb3duOiBudW1iZXIsXHJcblx0XHRjaGFubmVsOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogUHJvbWlzZTxJR292ZXJuYW5jZVNlcnZpY2VSZXN1bHQ+O1xyXG5cdGlzRW5hYmxlZChnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbjtcclxuXHRzaG91bGRGb3JjZURpc3BsYXkoKTogYm9vbGVhbjtcclxuXHRnZXRDbGllbnRTdGF0ZSgpOiBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IGovernanceServiceClient.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/ISurvey.js":
/*!************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/ISurvey.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurvey;\n(function (ISurvey) {\n    var Type;\n    (function (Type) {\n        // A Feedback survey. Contains a single question with a free-form text response\n        Type[Type[\"Feedback\"] = 0] = \"Feedback\";\n        // An NPS (net promoter score) survey. Asks user to rate \"whether or not they would recommend this product to family/friends\".\n        // Contains a prompt, question, and rating\n        Type[Type[\"Nps\"] = 1] = \"Nps\";\n        // A PSAT (product satisfaction) survey. Asks user to rate \"overall, based on their experience, how satisifed are they with this app\"\n        // Contains a prompt, question, and rating\n        Type[Type[\"Psat\"] = 2] = \"Psat\";\n        // A BPS (build promotion) survey. Asks user to choose between Yes and No options of promoting the current build to the next audience ring\n        // Contains a prompt, question, and rating (Yes/No)\n        Type[Type[\"Bps\"] = 3] = \"Bps\";\n        // A FPS (feature promotion) survey. Asks user to rate a given app feature.\n        // Contains a prompt, question, and rating\n        Type[Type[\"Fps\"] = 4] = \"Fps\";\n        // A NLQS (net language quality score) survey. Asks user to rate the language quality.\n        // Contains a prompt, question, and rating\n        Type[Type[\"Nlqs\"] = 5] = \"Nlqs\";\n        // An intercept survey. Asks user if they want to talk to a Microsoft engineer to give feedback.\n        // User can dismiss it or click on it to go to the intercept website, where the experience continues.\n        Type[Type[\"Intercept\"] = 6] = \"Intercept\";\n        // A Generic surface survey that uses content metadata to render a surface.\n        // As of 4th Feb 2019 there are 11 types defined in Mso hence giving a value of 12.\n        Type[Type[\"GenericMessagingSurface\"] = 12] = \"GenericMessagingSurface\";\n    })(Type = ISurvey.Type || (ISurvey.Type = {}));\n    ISurvey.DOM_FEEDBACKSURVEY_TAGNAME = \"FeedbackSurvey\";\n    ISurvey.DOM_NPS_TAGNAME = \"Nps\";\n    ISurvey.DOM_PSAT_TAGNAME = \"Psat\";\n    ISurvey.DOM_BPS_TAGNAME = \"Bps\";\n    ISurvey.DOM_FPS_TAGNAME = \"Fps\";\n    ISurvey.DOM_NLQS_TAGNAME = \"Nlqs\";\n    ISurvey.DOM_INTERCEPT_TAGNAME = \"Intercept\";\n    // If the launcher type is null or undefined in campaign definition then this value will be used as default\n    ISurvey.LAUNCHER_TYPE_DEFAULT = \"survey\";\n})(ISurvey || (ISurvey = {}));\nmodule.exports = ISurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JU3VydmV5LnRzP2ZlZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXNCQSxJQUFPLE9BQU8sQ0FxQ2I7QUFyQ0QsV0FBTyxPQUFPO0lBQ2IsSUFBWSxJQXdCWDtJQXhCRCxXQUFZLElBQUk7UUFDZiwrRUFBK0U7UUFDL0UsdUNBQVk7UUFDWiw4SEFBOEg7UUFDOUgsMENBQTBDO1FBQzFDLDZCQUFPO1FBQ1AscUlBQXFJO1FBQ3JJLDBDQUEwQztRQUMxQywrQkFBUTtRQUNSLDBJQUEwSTtRQUMxSSxtREFBbUQ7UUFDbkQsNkJBQU87UUFDUCwyRUFBMkU7UUFDM0UsMENBQTBDO1FBQzFDLDZCQUFPO1FBQ1Asc0ZBQXNGO1FBQ3RGLDBDQUEwQztRQUMxQywrQkFBUTtRQUNSLGdHQUFnRztRQUNoRyxxR0FBcUc7UUFDckcseUNBQWE7UUFDYiwyRUFBMkU7UUFDM0UsbUZBQW1GO1FBQ25GLHNFQUE0QjtJQUM3QixDQUFDLEVBeEJXLElBQUksR0FBSixZQUFJLEtBQUosWUFBSSxRQXdCZjtJQUVZLGtDQUEwQixHQUFHLGdCQUFnQixDQUFDO0lBQzlDLHVCQUFlLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLHdCQUFnQixHQUFHLE1BQU0sQ0FBQztJQUMxQix1QkFBZSxHQUFHLEtBQUssQ0FBQztJQUN4Qix1QkFBZSxHQUFHLEtBQUssQ0FBQztJQUN4Qix3QkFBZ0IsR0FBRyxNQUFNLENBQUM7SUFDMUIsNkJBQXFCLEdBQUcsV0FBVyxDQUFDO0lBRWpELDJHQUEyRztJQUM5Riw2QkFBcUIsR0FBRyxRQUFRLENBQUM7QUFDL0MsQ0FBQyxFQXJDTSxPQUFPLEtBQVAsT0FBTyxRQXFDYjtBQUVELGlCQUFTLE9BQU8sQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVN1cnZleUZvcm0gfSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlGb3JtXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgeyBJU3VydmV5RG9tV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleURvbVdyaXRlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0lTdXJ2ZXlKc29uV3JpdGVyXCI7XHJcblxyXG4vKipcclxuICogVGhlIGludGVyZmFjZSBmb3IgYWxsIFN1cnZleXNcclxuICogQSBzdXJ2ZXkgaGFzIGEgdHlwZSwgYSBnbG9iYWxseSB1bmlxdWUgaWQgKG90aGVyd2lzZSBvcGFxdWUsIGJ1dCBzdWl0YWJsZSBmb3IgY29ycmVsYXRpb24gd2l0aCB0ZWxlbWV0cnkgYW5kIGZvciBzYXZpbmcgc3RhdHMgaW4gdGhlIHJlZ2lzdHJ5KSxcclxuICogYW4gZXhwaXJhdGlvbiB0aW1lIHRvIGFpZCBpbiBjYWNoZSBjbGVhbnVwLCBhbmQgYW4gYWN0aXZhdGlvbiBldmVudCB0byBjYXVzZSB0aGlzIHN1cnZleSB0byBiZSB0cmlnZ2VyZWRcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5IGV4dGVuZHMgSVN1cnZleUZvcm0sIElTdXJ2ZXlEb21Xcml0ZXIsIElTdXJ2ZXlKc29uV3JpdGVyIHtcclxuXHQvKipcclxuXHQgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBzdXJ2ZXkuXHJcblx0ICovXHJcblx0Z2V0VHlwZSgpOiBJU3VydmV5LlR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBiYXNpYyByb290LWxldmVsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgc3VydmV5XHJcblx0ICovXHJcblx0Z2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbztcclxufVxyXG5cclxubW9kdWxlIElTdXJ2ZXkge1xyXG5cdGV4cG9ydCBlbnVtIFR5cGUge1xyXG5cdFx0Ly8gQSBGZWVkYmFjayBzdXJ2ZXkuIENvbnRhaW5zIGEgc2luZ2xlIHF1ZXN0aW9uIHdpdGggYSBmcmVlLWZvcm0gdGV4dCByZXNwb25zZVxyXG5cdFx0RmVlZGJhY2sgPSAwLFxyXG5cdFx0Ly8gQW4gTlBTIChuZXQgcHJvbW90ZXIgc2NvcmUpIHN1cnZleS4gQXNrcyB1c2VyIHRvIHJhdGUgXCJ3aGV0aGVyIG9yIG5vdCB0aGV5IHdvdWxkIHJlY29tbWVuZCB0aGlzIHByb2R1Y3QgdG8gZmFtaWx5L2ZyaWVuZHNcIi5cclxuXHRcdC8vIENvbnRhaW5zIGEgcHJvbXB0LCBxdWVzdGlvbiwgYW5kIHJhdGluZ1xyXG5cdFx0TnBzID0gMSxcclxuXHRcdC8vIEEgUFNBVCAocHJvZHVjdCBzYXRpc2ZhY3Rpb24pIHN1cnZleS4gQXNrcyB1c2VyIHRvIHJhdGUgXCJvdmVyYWxsLCBiYXNlZCBvbiB0aGVpciBleHBlcmllbmNlLCBob3cgc2F0aXNpZmVkIGFyZSB0aGV5IHdpdGggdGhpcyBhcHBcIlxyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nXHJcblx0XHRQc2F0ID0gMixcclxuXHRcdC8vIEEgQlBTIChidWlsZCBwcm9tb3Rpb24pIHN1cnZleS4gQXNrcyB1c2VyIHRvIGNob29zZSBiZXR3ZWVuIFllcyBhbmQgTm8gb3B0aW9ucyBvZiBwcm9tb3RpbmcgdGhlIGN1cnJlbnQgYnVpbGQgdG8gdGhlIG5leHQgYXVkaWVuY2UgcmluZ1xyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nIChZZXMvTm8pXHJcblx0XHRCcHMgPSAzLFxyXG5cdFx0Ly8gQSBGUFMgKGZlYXR1cmUgcHJvbW90aW9uKSBzdXJ2ZXkuIEFza3MgdXNlciB0byByYXRlIGEgZ2l2ZW4gYXBwIGZlYXR1cmUuXHJcblx0XHQvLyBDb250YWlucyBhIHByb21wdCwgcXVlc3Rpb24sIGFuZCByYXRpbmdcclxuXHRcdEZwcyA9IDQsXHJcblx0XHQvLyBBIE5MUVMgKG5ldCBsYW5ndWFnZSBxdWFsaXR5IHNjb3JlKSBzdXJ2ZXkuIEFza3MgdXNlciB0byByYXRlIHRoZSBsYW5ndWFnZSBxdWFsaXR5LlxyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nXHJcblx0XHRObHFzID0gNSxcclxuXHRcdC8vIEFuIGludGVyY2VwdCBzdXJ2ZXkuIEFza3MgdXNlciBpZiB0aGV5IHdhbnQgdG8gdGFsayB0byBhIE1pY3Jvc29mdCBlbmdpbmVlciB0byBnaXZlIGZlZWRiYWNrLlxyXG5cdFx0Ly8gVXNlciBjYW4gZGlzbWlzcyBpdCBvciBjbGljayBvbiBpdCB0byBnbyB0byB0aGUgaW50ZXJjZXB0IHdlYnNpdGUsIHdoZXJlIHRoZSBleHBlcmllbmNlIGNvbnRpbnVlcy5cclxuXHRcdEludGVyY2VwdCA9IDYsXHJcblx0XHQvLyBBIEdlbmVyaWMgc3VyZmFjZSBzdXJ2ZXkgdGhhdCB1c2VzIGNvbnRlbnQgbWV0YWRhdGEgdG8gcmVuZGVyIGEgc3VyZmFjZS5cclxuXHRcdC8vIEFzIG9mIDR0aCBGZWIgMjAxOSB0aGVyZSBhcmUgMTEgdHlwZXMgZGVmaW5lZCBpbiBNc28gaGVuY2UgZ2l2aW5nIGEgdmFsdWUgb2YgMTIuXHJcblx0XHRHZW5lcmljTWVzc2FnaW5nU3VyZmFjZSA9IDEyLFxyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNvbnN0IERPTV9GRUVEQkFDS1NVUlZFWV9UQUdOQU1FID0gXCJGZWVkYmFja1N1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fTlBTX1RBR05BTUUgPSBcIk5wc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fUFNBVF9UQUdOQU1FID0gXCJQc2F0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9CUFNfVEFHTkFNRSA9IFwiQnBzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9GUFNfVEFHTkFNRSA9IFwiRnBzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9OTFFTX1RBR05BTUUgPSBcIk5scXNcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lOVEVSQ0VQVF9UQUdOQU1FID0gXCJJbnRlcmNlcHRcIjtcclxuXHJcblx0Ly8gSWYgdGhlIGxhdW5jaGVyIHR5cGUgaXMgbnVsbCBvciB1bmRlZmluZWQgaW4gY2FtcGFpZ24gZGVmaW5pdGlvbiB0aGVuIHRoaXMgdmFsdWUgd2lsbCBiZSB1c2VkIGFzIGRlZmF1bHRcclxuXHRleHBvcnQgY29uc3QgTEFVTkNIRVJfVFlQRV9ERUZBVUxUID0gXCJzdXJ2ZXlcIjtcclxufVxyXG5cclxuZXhwb3J0ID0gSVN1cnZleTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/ISurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Api/ISurveyComponent.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/Api/ISurveyComponent.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent;\n(function (ISurveyComponent) {\n    ISurveyComponent.DOM_PROMPT_TAGNAME = \"Prompt\";\n    ISurveyComponent.DOM_COMMENT_TAGNAME = \"Comment\";\n    ISurveyComponent.DOM_RATING_TAGNAME = \"Rating\";\n    ISurveyComponent.DOM_CVSURVEY_TAGNAME = \"CVSurvey\";\n    ISurveyComponent.DOM_MULTIPLECHOICE_TAGNAME = \"MultipleChoice\";\n    ISurveyComponent.DOM_INTERCEPT_TAGNAME = \"Intercept\";\n    ISurveyComponent.JSON_INTERCEPT_KEYNAME = \"intercept\";\n    ISurveyComponent.JSON_INTERCEPTURL_KEYNAME = \"url\";\n    ISurveyComponent.JSON_PROMPT_KEYNAME = \"prompt\";\n    ISurveyComponent.JSON_PROMPTYESTEXT_KEYNAME = \"yesButtonText\";\n    ISurveyComponent.JSON_PROMPTNOTEXT_KEYNAME = \"noButtonText\";\n    ISurveyComponent.JSON_COMMENT_KEYNAME = \"comment\";\n    ISurveyComponent.JSON_RATING_KEYNAME = \"rating\";\n    ISurveyComponent.JSON_CVSURVEY_KEYNAME = \"cvSurvey\";\n    ISurveyComponent.JSON_CVSURVEYFORMID_KEYNAME = \"formId\";\n    ISurveyComponent.JSON_CVSURVEYTHEME_KEYNAME = \"theme\";\n    ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME = \"options\";\n    ISurveyComponent.JSON_CVSURVEYPRODUCTNAME_KEYNAME = \"productName\";\n    ISurveyComponent.JSON_CVSURVEYUIHOST_KEYNAME = \"uiHost\";\n    ISurveyComponent.JSON_CVSURVEYPLATFORM_KEYNAME = \"platform\";\n    ISurveyComponent.JSON_TITLE_KEYNAME = \"title\";\n    ISurveyComponent.JSON_QUESTION_KEYNAME = \"question\";\n    ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME = \"multipleChoice\";\n    ISurveyComponent.JSON_APPLICATION_KEYNAME = \"application\";\n    ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME = \"extendedManifestData\";\n    ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME = \"surveyStrings\";\n    ISurveyComponent.JSON_SURVEYSPECIFICDATA_KEYNAME = \"surveySpecificData\";\n})(ISurveyComponent || (ISurveyComponent = {}));\nmodule.exports = ISurveyComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JU3VydmV5Q29tcG9uZW50LnRzP2IzMzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVFBLElBQU8sZ0JBQWdCLENBZ0R0QjtBQWhERCxXQUFPLGdCQUFnQjtJQXFCVCxtQ0FBa0IsR0FBRyxRQUFRLENBQUM7SUFDOUIsb0NBQW1CLEdBQUcsU0FBUyxDQUFDO0lBQ2hDLG1DQUFrQixHQUFHLFFBQVEsQ0FBQztJQUM5QixxQ0FBb0IsR0FBRyxVQUFVLENBQUM7SUFDbEMsMkNBQTBCLEdBQUcsZ0JBQWdCLENBQUM7SUFDOUMsc0NBQXFCLEdBQUcsV0FBVyxDQUFDO0lBQ3BDLHVDQUFzQixHQUFHLFdBQVcsQ0FBQztJQUNyQywwQ0FBeUIsR0FBRyxLQUFLLENBQUM7SUFDbEMsb0NBQW1CLEdBQUcsUUFBUSxDQUFDO0lBQy9CLDJDQUEwQixHQUFHLGVBQWUsQ0FBQztJQUM3QywwQ0FBeUIsR0FBRyxjQUFjLENBQUM7SUFDM0MscUNBQW9CLEdBQUcsU0FBUyxDQUFDO0lBQ2pDLG9DQUFtQixHQUFHLFFBQVEsQ0FBQztJQUMvQixzQ0FBcUIsR0FBRyxVQUFVLENBQUM7SUFDbkMsNENBQTJCLEdBQUcsUUFBUSxDQUFDO0lBQ3ZDLDJDQUEwQixHQUFHLE9BQU8sQ0FBQztJQUNyQywyQ0FBMEIsR0FBRyxTQUFTLENBQUM7SUFDdkMsaURBQWdDLEdBQUcsYUFBYSxDQUFDO0lBQ2pELDRDQUEyQixHQUFHLFFBQVEsQ0FBQztJQUN2Qyw4Q0FBNkIsR0FBRyxVQUFVLENBQUM7SUFDM0MsbUNBQWtCLEdBQUcsT0FBTyxDQUFDO0lBQzdCLHNDQUFxQixHQUFHLFVBQVUsQ0FBQztJQUNuQyw0Q0FBMkIsR0FBRyxnQkFBZ0IsQ0FBQztJQUMvQyx5Q0FBd0IsR0FBRyxhQUFhLENBQUM7SUFDekMsa0RBQWlDLEdBQUcsc0JBQXNCLENBQUM7SUFDM0QsMkNBQTBCLEdBQUcsZUFBZSxDQUFDO0lBQzdDLGdEQUErQixHQUFHLG9CQUFvQixDQUFDO0FBQ3JFLENBQUMsRUFoRE0sZ0JBQWdCLEtBQWhCLGdCQUFnQixRQWdEdEI7QUFFRCxpQkFBUyxnQkFBZ0IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JU3VydmV5Q29tcG9uZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEJhc2UgaW50ZXJmYWNlIGZvciBhIFN1cnZleUNvbXBvbmVudCAoaS5lLiBhIHF1ZXN0aW9uL3dpZGdldCB0byBzaG93IHRoZSB1c2VyXHJcbiAqIGluIGEgc3VydmV5IGZvcm0sIGFuZCB0aGF0IHR5cGljYWxseSByZXF1aXJlcyBhIHJlc3BvbnNlIHZhbHVlIG9mIHNvbWUga2luZClcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRnZXRUeXBlKCk6IElTdXJ2ZXlDb21wb25lbnQuVHlwZTtcclxufVxyXG5cclxubW9kdWxlIElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjb25zdCBlbnVtIFR5cGUge1xyXG5cdFx0Ly8gQSBxdWljayBwb3AtdXAgcmVxdWVzdGluZyBwYXJ0aWNpcGF0aW9uIGluIGEgc3VydmV5XHJcblx0XHRQcm9tcHQgPSBcIlByb21wdFwiLFxyXG5cclxuXHRcdC8vIEEgcXVlc3Rpb24gcGFpcmVkIHdpdGggYSBmcmVlLWZvcm0gdGV4dCByZXNwb25zZVxyXG5cdFx0Q29tbWVudCA9IFwiQ29tbWVudFwiLFxyXG5cclxuXHRcdC8vIEEgcXVlc3Rpb24gYXNraW5nIGZvciBhIHNlbGVjdGlvbiBmcm9tIGEgbGlzdCBvZiBhbGxvd2VkIHZhbHVlcyB3aXRoIG51bWVyaWMgbWVhbmluZ1xyXG5cdFx0UmF0aW5nID0gXCJSYXRpbmdcIixcclxuXHJcblx0XHQvLyBJbmZvcm1hdGlvbiBuZWVkZWQgdG8gcGFzcyBpbnRvIENWU3VydmV5XHJcblx0XHRDVlN1cnZleSA9IFwiQ1ZTdXJ2ZXlcIixcclxuXHJcblx0XHQvLyBBIHF1ZXN0aW9uIGFza2luZyBmb3Igb25lIG9yIG1vcmUgc2VsZWN0aW9ucyBmcm9tIGEgbGlzdCBvZiBhbGxvd2VkIHZhbHVlc1xyXG5cdFx0TXVsdGlwbGVDaG9pY2UgPSBcIk11bHRpcGxlQ2hvaWNlXCIsXHJcblxyXG5cdFx0Ly8gQSBwb3AtdXAgZGlhbG9nIHJlcXVlc3RpbmcgcGFydGljaXBhdGlvbiBpbiBhbiBJbnRlcmNlcHQgc2Vzc2lvblxyXG5cdFx0SW50ZXJjZXB0ID0gXCJJbnRlcmNlcHRcIixcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBET01fUFJPTVBUX1RBR05BTUUgPSBcIlByb21wdFwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fQ09NTUVOVF9UQUdOQU1FID0gXCJDb21tZW50XCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9SQVRJTkdfVEFHTkFNRSA9IFwiUmF0aW5nXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9DVlNVUlZFWV9UQUdOQU1FID0gXCJDVlN1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fTVVMVElQTEVDSE9JQ0VfVEFHTkFNRSA9IFwiTXVsdGlwbGVDaG9pY2VcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lOVEVSQ0VQVF9UQUdOQU1FID0gXCJJbnRlcmNlcHRcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9JTlRFUkNFUFRfS0VZTkFNRSA9IFwiaW50ZXJjZXB0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fSU5URVJDRVBUVVJMX0tFWU5BTUUgPSBcInVybFwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1BST01QVF9LRVlOQU1FID0gXCJwcm9tcHRcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9QUk9NUFRZRVNURVhUX0tFWU5BTUUgPSBcInllc0J1dHRvblRleHRcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9QUk9NUFROT1RFWFRfS0VZTkFNRSA9IFwibm9CdXR0b25UZXh0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQ09NTUVOVF9LRVlOQU1FID0gXCJjb21tZW50XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fUkFUSU5HX0tFWU5BTUUgPSBcInJhdGluZ1wiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0NWU1VSVkVZX0tFWU5BTUUgPSBcImN2U3VydmV5XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQ1ZTVVJWRVlGT1JNSURfS0VZTkFNRSA9IFwiZm9ybUlkXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQ1ZTVVJWRVlUSEVNRV9LRVlOQU1FID0gXCJ0aGVtZVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1JBVElOR09QVElPTlNfS0VZTkFNRSA9IFwib3B0aW9uc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0NWU1VSVkVZUFJPRFVDVE5BTUVfS0VZTkFNRSA9IFwicHJvZHVjdE5hbWVcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9DVlNVUlZFWVVJSE9TVF9LRVlOQU1FID0gXCJ1aUhvc3RcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9DVlNVUlZFWVBMQVRGT1JNX0tFWU5BTUUgPSBcInBsYXRmb3JtXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fVElUTEVfS0VZTkFNRSA9IFwidGl0bGVcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9RVUVTVElPTl9LRVlOQU1FID0gXCJxdWVzdGlvblwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX01VTFRJUExFQ0hPSUNFX0tFWU5BTUUgPSBcIm11bHRpcGxlQ2hvaWNlXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fQVBQTElDQVRJT05fS0VZTkFNRSA9IFwiYXBwbGljYXRpb25cIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9FWFRFTkRFRE1BTklGRVNUREFUQV9LRVlOQU1FID0gXCJleHRlbmRlZE1hbmlmZXN0RGF0YVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1NVUlZFWVNUUklOR1NfS0VZTkFNRSA9IFwic3VydmV5U3RyaW5nc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1NVUlZFWVNQRUNJRklDREFUQV9LRVlOQU1FID0gXCJzdXJ2ZXlTcGVjaWZpY0RhdGFcIjtcclxufVxyXG5cclxuZXhwb3J0ID0gSVN1cnZleUNvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/ISurveyComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js":
/*!************************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemCampaignDefinitionProvider = exports.FilterValidCampaignDefinitions = exports.CampaignDefinition = exports.CampaignSurveyTemplateIntercept = exports.CampaignSurveyTemplateGenericMessagingSurface = exports.CampaignSurveyTemplateNps11PointStatic = exports.CampaignSurveyTemplateNps5PointStatic = exports.CampaignSurveyTemplateNps = exports.CampaignSurveyTemplateNlqs = exports.CampaignSurveyTemplateFps = exports.CampaignSurveyTemplate = exports.CampaignSurveyMetadata = exports.CampaignSurveyContentComment = exports.CampaignSurveyContentRating = exports.CampaignSurveyContentIntercept = exports.CampaignSurveyContentPrompt = exports.CampaignSurveyContentCVSurvey = exports.CampaignSurveyContentMultipleChoice = exports.CampaignSurveyContent = exports.CampaignSurveyEventCountedActivitySequence = exports.CampaignSurveyEventCountedActivity = exports.CampaignSurveyEvent = exports.CampaignNominationSchemeRatioPercentage = exports.CampaignNominationScheme = exports.CampaignDistributionRamp = exports.CampaignDistribution = exports.CampaignAdditionalDataRequested = exports.CampaignDurationSingleBuildChange = exports.CampaignDurationTimeInterval = exports.CampaignDuration = exports.CampaignScopeUserFactAll = exports.CampaignScopeUserFactAny = exports.CampaignScopeEnvironmentCrossProduct = exports.CampaignScopeAny = exports.CampaignScope = exports.CampaignLanguageRangeLanguageSubtag = exports.CampaignLanguageRange = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ../Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ../GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar UserFactHelper_1 = __webpack_require__(/*! ../UserFact/UserFactHelper */ \"../FloodgateCore/dist/src/UserFact/UserFactHelper.js\");\nvar getDistantFuture = Utils.getDistantFuture, isBoolean = Utils.isBoolean, isNOU = Utils.isNOU, isNumber = Utils.isNumber, isString = Utils.isString, isUtcDatetimeString = Utils.isUtcDatetimeString, stringToDate = Utils.stringToDate;\n// region Language Range\n/**\n * Base class representing a language range in a campaign setting\n */\nvar CampaignLanguageRange = /** @class */ (function () {\n    function CampaignLanguageRange() {\n    }\n    CampaignLanguageRange.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignLanguageRangeLanguageSubtag.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignLanguageRange.prototype.validate = function () {\n        return true;\n    };\n    return CampaignLanguageRange;\n}());\nexports.CampaignLanguageRange = CampaignLanguageRange;\n/**\n * Represents a range matching on the \"language subtag\" against fully specified language tags, according to RFC 5646\n */\nvar CampaignLanguageRangeLanguageSubtag = /** @class */ (function (_super) {\n    __extends(CampaignLanguageRangeLanguageSubtag, _super);\n    // public for UT only\n    function CampaignLanguageRangeLanguageSubtag() {\n        return _super.call(this) || this;\n    }\n    CampaignLanguageRangeLanguageSubtag.deserialize = function (input) {\n        var result = new CampaignLanguageRangeLanguageSubtag();\n        if (input) {\n            result.languageSubTag = input.Value;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignLanguageRangeLanguageSubtag.prototype.isInRange = function (language) {\n        if (isNOU(language)) {\n            return false;\n        }\n        var extractedLanguageSubTag = Utils.extractLanguageSubtag(language);\n        if (isNOU(extractedLanguageSubTag)) {\n            return false;\n        }\n        // compare strings ignoring case\n        return extractedLanguageSubTag.toLocaleUpperCase() === this.languageSubTag.toLocaleUpperCase();\n    };\n    // @Override\n    CampaignLanguageRangeLanguageSubtag.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.languageSubTag) || !isString(this.languageSubTag)) {\n            return false;\n        }\n        // Reject any spec that isn't exactly a language subtag\n        if (!Utils.isValidLanguageSubTag(this.languageSubTag)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignLanguageRangeLanguageSubtag;\n}(CampaignLanguageRange));\nexports.CampaignLanguageRangeLanguageSubtag = CampaignLanguageRangeLanguageSubtag;\n// endregion\n// region Scope\nvar CampaignScope = /** @class */ (function () {\n    function CampaignScope() {\n    }\n    CampaignScope.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0 /* CampaignScopeAny */:\n                result = CampaignScopeAny.deserialize(input);\n                break;\n            case 1 /* CampaignScopeEnvironmentCrossProduct */:\n                result = CampaignScopeEnvironmentCrossProduct.deserialize(input);\n                break;\n            case 2 /* CampaignScopeUserFactAny */:\n                result = CampaignScopeUserFactAny.deserialize(input);\n                break;\n            case 3 /* CampaignScopeUserFactAll */:\n                result = CampaignScopeUserFactAll.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScope.prototype.validate = function () {\n        return true;\n    };\n    return CampaignScope;\n}());\nexports.CampaignScope = CampaignScope;\nvar CampaignScopeAny = /** @class */ (function (_super) {\n    __extends(CampaignScopeAny, _super);\n    // public for UT only\n    function CampaignScopeAny() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeAny.deserialize = function (input) {\n        return new CampaignScopeAny();\n    };\n    // @Override\n    CampaignScopeAny.prototype.isInScope = function () {\n        return true;\n    };\n    // @Override\n    CampaignScopeAny.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignScopeAny;\n}(CampaignScope));\nexports.CampaignScopeAny = CampaignScopeAny;\nvar CampaignScopeEnvironmentCrossProduct = /** @class */ (function (_super) {\n    __extends(CampaignScopeEnvironmentCrossProduct, _super);\n    // public for UT only\n    function CampaignScopeEnvironmentCrossProduct() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeEnvironmentCrossProduct.deserialize = function (input) {\n        var result = new CampaignScopeEnvironmentCrossProduct();\n        var languageRanges = [];\n        if (isNOU(input)) {\n            return null;\n        }\n        for (var key in input.Languages) {\n            if (input.Languages.hasOwnProperty(key)) {\n                var readRange = input.Languages[key];\n                if (readRange) {\n                    languageRanges.push(CampaignLanguageRange.deserialize(readRange));\n                }\n            }\n        }\n        if (languageRanges.length === 0) {\n            languageRanges = null;\n        }\n        result.languageRanges = languageRanges;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeEnvironmentCrossProduct.prototype.setEnvironmentProvider = function (environmentProvider) {\n        this.environmentProvider = environmentProvider;\n    };\n    // @Override\n    CampaignScopeEnvironmentCrossProduct.prototype.isInScope = function () {\n        if (isNOU(this.languageRanges)) {\n            return true;\n        }\n        if (isNOU(this.environmentProvider) || !this.environmentProvider.getLanguage()) {\n            return false;\n        }\n        var language = this.environmentProvider.getLanguage();\n        // If the environment matches a single pattern, then this is a yes\n        for (var key in this.languageRanges) {\n            if (this.languageRanges.hasOwnProperty(key)) {\n                var range = this.languageRanges[key];\n                if (range.isInRange(language)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // @Override\n    CampaignScopeEnvironmentCrossProduct.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        // Null languageRanges is allowed, means will match with everything.\n        if (this.languageRanges) {\n            for (var key in this.languageRanges) {\n                if (this.languageRanges.hasOwnProperty(key) && !this.languageRanges[key]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignScopeEnvironmentCrossProduct;\n}(CampaignScope));\nexports.CampaignScopeEnvironmentCrossProduct = CampaignScopeEnvironmentCrossProduct;\nvar CampaignScopeUserFactAny = /** @class */ (function (_super) {\n    __extends(CampaignScopeUserFactAny, _super);\n    // public for UT only\n    function CampaignScopeUserFactAny() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeUserFactAny.deserialize = function (input) {\n        var result = new CampaignScopeUserFactAny();\n        result.userFacts = UserFactHelper_1.deserializeUserFacts(input);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeUserFactAny.prototype.setUserFactsProvider = function (userFactsProvider) {\n        this.userFactsProvider = userFactsProvider;\n    };\n    // @Override\n    CampaignScopeUserFactAny.prototype.isInScope = function () {\n        var _this = this;\n        if (isNOU(this.userFacts)) {\n            return true;\n        }\n        if (!this.userFactsProvider) {\n            return false;\n        }\n        // If one of the user fact matches, then this is a yes\n        return this.userFacts.some(function (userFact) {\n            var rawUserFact = _this.userFactsProvider.getUserFact(userFact.getName());\n            return userFact.isAMatch(rawUserFact);\n        });\n    };\n    // @Override\n    CampaignScopeUserFactAny.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return UserFactHelper_1.validateUserFacts(this.userFacts);\n    };\n    return CampaignScopeUserFactAny;\n}(CampaignScope));\nexports.CampaignScopeUserFactAny = CampaignScopeUserFactAny;\nvar CampaignScopeUserFactAll = /** @class */ (function (_super) {\n    __extends(CampaignScopeUserFactAll, _super);\n    // public for UT only\n    function CampaignScopeUserFactAll() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeUserFactAll.deserialize = function (input) {\n        var result = new CampaignScopeUserFactAll();\n        result.userFacts = UserFactHelper_1.deserializeUserFacts(input);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeUserFactAll.prototype.setUserFactsProvider = function (userFactsProvider) {\n        this.userFactsProvider = userFactsProvider;\n    };\n    // @Override\n    CampaignScopeUserFactAll.prototype.isInScope = function () {\n        var _this = this;\n        if (isNOU(this.userFacts)) {\n            return true;\n        }\n        if (!this.userFactsProvider) {\n            return false;\n        }\n        // Get all of the mismatched user facts\n        var mismatchedFacts = this.userFacts.filter(function (userFact) {\n            var rawUserFact = _this.userFactsProvider.getUserFact(userFact.getName());\n            return !userFact.isAMatch(rawUserFact);\n        });\n        if (mismatchedFacts.length > 0) {\n            var mismatchedNames = mismatchedFacts.map(function (userFact) { return userFact.getName(); });\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Summary, {\n                Count: mismatchedFacts.length,\n                Message: mismatchedNames.toString(),\n            });\n            return false;\n        }\n        // If all of the user facts match, then this is a yes\n        return true;\n    };\n    // @Override\n    CampaignScopeUserFactAll.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return UserFactHelper_1.validateUserFacts(this.userFacts);\n    };\n    return CampaignScopeUserFactAll;\n}(CampaignScope));\nexports.CampaignScopeUserFactAll = CampaignScopeUserFactAll;\n// endregion\n// region Durations\n/**\n * Base class representing a duration in a campaign setting\n */\nvar CampaignDuration = /** @class */ (function () {\n    function CampaignDuration() {\n    }\n    CampaignDuration.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0:\n                result = CampaignDurationTimeInterval.deserialize(input);\n                break;\n            case 1:\n                result = CampaignDurationSingleBuildChange.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDuration.prototype.validate = function () {\n        return true;\n    };\n    return CampaignDuration;\n}());\nexports.CampaignDuration = CampaignDuration;\n/**\n * A Duration expressed in seconds. UTC datetime comparisons are used to determine expiration.\n */\nvar CampaignDurationTimeInterval = /** @class */ (function (_super) {\n    __extends(CampaignDurationTimeInterval, _super);\n    // public for UT only\n    function CampaignDurationTimeInterval() {\n        return _super.call(this) || this;\n    }\n    CampaignDurationTimeInterval.deserialize = function (input) {\n        var result = new CampaignDurationTimeInterval();\n        if (input) {\n            result.intervalSeconds = input.IntervalSeconds;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignDurationTimeInterval.prototype.asTimeIntervalSeconds = function () {\n        return this.intervalSeconds;\n    };\n    // @Override\n    CampaignDurationTimeInterval.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.intervalSeconds)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDurationTimeInterval;\n}(CampaignDuration));\nexports.CampaignDurationTimeInterval = CampaignDurationTimeInterval;\n/**\n * A Duration representing exactly 1 change in build number\n */\nvar CampaignDurationSingleBuildChange = /** @class */ (function (_super) {\n    __extends(CampaignDurationSingleBuildChange, _super);\n    // public for UT only\n    function CampaignDurationSingleBuildChange() {\n        return _super.call(this) || this;\n    }\n    CampaignDurationSingleBuildChange.deserialize = function (input) {\n        return new CampaignDurationSingleBuildChange();\n    };\n    // @Override\n    CampaignDurationSingleBuildChange.prototype.asTimeIntervalSeconds = function () {\n        return null;\n    };\n    return CampaignDurationSingleBuildChange;\n}(CampaignDuration));\nexports.CampaignDurationSingleBuildChange = CampaignDurationSingleBuildChange;\n/**\n * Class representing AdditionalDataRequested in CampaignDefinition\n */\nvar CampaignAdditionalDataRequested = /** @class */ (function () {\n    function CampaignAdditionalDataRequested() {\n    }\n    CampaignAdditionalDataRequested.deserialize = function (additionalDataRequested) {\n        var result = new CampaignAdditionalDataRequested();\n        if (!isNOU(additionalDataRequested)) {\n            // Convert from AdditionalDataRequested string to enum\n            result.additionalData = [];\n            for (var _i = 0, additionalDataRequested_1 = additionalDataRequested; _i < additionalDataRequested_1.length; _i++) {\n                var additionalData = additionalDataRequested_1[_i];\n                if (additionalData === \"EmailAddress\") {\n                    result.additionalData.push(0 /* EmailAddress */);\n                }\n            }\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignAdditionalDataRequested.prototype.validate = function () {\n        if (isNOU(this.additionalData)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignAdditionalDataRequested;\n}());\nexports.CampaignAdditionalDataRequested = CampaignAdditionalDataRequested;\n// endregion\n// region Distribution Schemes\nvar CampaignDistribution = /** @class */ (function () {\n    function CampaignDistribution() {\n    }\n    CampaignDistribution.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignDistributionRamp.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDistribution.prototype.validate = function () {\n        return true;\n    };\n    return CampaignDistribution;\n}());\nexports.CampaignDistribution = CampaignDistribution;\nvar CampaignDistributionRamp = /** @class */ (function (_super) {\n    __extends(CampaignDistributionRamp, _super);\n    function CampaignDistributionRamp() {\n        return _super.call(this) || this;\n    }\n    CampaignDistributionRamp.deserialize = function (input) {\n        var result = new CampaignDistributionRamp();\n        if (input) {\n            result.maxDelaySeconds = input.MaxDelaySeconds;\n            result.chunks = input.Chunks;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignDistributionRamp.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.maxDelaySeconds) || this.maxDelaySeconds < 0) {\n            return false;\n        }\n        if (!isNumber(this.chunks) || this.chunks < 0) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDistributionRamp;\n}(CampaignDistribution));\nexports.CampaignDistributionRamp = CampaignDistributionRamp;\n// endregion\n// region Nomination Scheme\nvar CampaignNominationScheme = /** @class */ (function () {\n    function CampaignNominationScheme() {\n    }\n    CampaignNominationScheme.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignNominationSchemeRatioPercentage.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    /**\n     * @return The amount of time the survey should be active, in seconds. Abstracts the difference between nominationPeriod and the fallback\n     */\n    CampaignNominationScheme.prototype.getActiveSurveyTimeIntervalSeconds = function () {\n        var nominationTimIntervalSeconds = this.nominationPeriod.asTimeIntervalSeconds();\n        if (isNumber(nominationTimIntervalSeconds)) {\n            return nominationTimIntervalSeconds;\n        }\n        return this.fallbackSurveyDurationSeconds;\n    };\n    /**\n     * @return The survey start time, possibly adjusted by an underlying DistributionModel.\n     */\n    CampaignNominationScheme.prototype.calculateSurveyStartTimeFromDate = function (soonestStartTime) {\n        // No adjustment in base class.  Derived classes can override and implement delays like a \"ramp\"\n        return soonestStartTime ? soonestStartTime : new Date();\n    };\n    /**\n     * @return The survey expiration time, based on the nomination periods and the survey's adjusted start time\n     */\n    CampaignNominationScheme.prototype.calculateSurveyExpirationTimeFromSurveyStartTime = function (surveyStartTime) {\n        surveyStartTime = surveyStartTime ? surveyStartTime : new Date();\n        return Utils.addSecondsWithoutOverflow(surveyStartTime, this.getActiveSurveyTimeIntervalSeconds());\n    };\n    /**\n     * @return The appropriate campaign cool down based on whether or not the user activated the survey\n     */\n    CampaignNominationScheme.prototype.getCampaignCooldown = function (didUserActivateSurvey) {\n        if (didUserActivateSurvey) {\n            return this.cooldownPeriod;\n        }\n        else {\n            return this.nominationPeriod;\n        }\n    };\n    CampaignNominationScheme.prototype.validate = function () {\n        if (isNOU(this.nominationPeriod)) {\n            return false;\n        }\n        if (isNOU(this.cooldownPeriod)) {\n            this.cooldownPeriod = this.nominationPeriod;\n        }\n        if (!isNumber(this.nominationPeriod.asTimeIntervalSeconds())) {\n            if (!isNumber(this.fallbackSurveyDurationSeconds) || this.fallbackSurveyDurationSeconds <= 0) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CampaignNominationScheme;\n}());\nexports.CampaignNominationScheme = CampaignNominationScheme;\n/**\n * Class representing a set of campaign nomination rules to evaluate for in-scope campaigns:\n * percentage\n * re-election durations\n * distribution model (for \"nominated\" candidates)\n */\nvar CampaignNominationSchemeRatioPercentage = /** @class */ (function (_super) {\n    __extends(CampaignNominationSchemeRatioPercentage, _super);\n    function CampaignNominationSchemeRatioPercentage() {\n        return _super.call(this) || this;\n    }\n    CampaignNominationSchemeRatioPercentage.deserialize = function (input) {\n        var result = new CampaignNominationSchemeRatioPercentage();\n        if (isNOU(input)) {\n            return null;\n        }\n        if (input.DistributionModel) {\n            result.distributionModel = CampaignDistribution.deserialize(input.DistributionModel);\n        }\n        if (input.CooldownPeriod) {\n            result.cooldownPeriod = CampaignDuration.deserialize(input.CooldownPeriod);\n        }\n        if (input.NominationPeriod) {\n            result.nominationPeriod = CampaignDuration.deserialize(input.NominationPeriod);\n        }\n        result.fallbackSurveyDurationSeconds = input.FallbackSurveyDurationSeconds;\n        result.percentageDenominator = input.PercentageDenominator;\n        result.percentageNumerator = input.PercentageNumerator;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignNominationSchemeRatioPercentage.prototype.evaluateNominationRules = function () {\n        var rand = Math.random();\n        // Creates a random number between [0 to (percentageDenominator - 1)]\n        // In range [0 to (percentageDenominator - 1)] exactly 'percentageNumerator' values are < percentageNumerator\n        return Math.floor(rand * this.percentageDenominator) < this.percentageNumerator;\n    };\n    // @Override\n    CampaignNominationSchemeRatioPercentage.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.percentageDenominator) || !isNumber(this.percentageNumerator)) {\n            return false;\n        }\n        if (this.percentageDenominator <= 0 || this.percentageNumerator < 0) {\n            return false;\n        }\n        if (this.percentageNumerator > this.percentageDenominator) {\n            return false;\n        }\n        // distribution model may be null\n        return true;\n    };\n    return CampaignNominationSchemeRatioPercentage;\n}(CampaignNominationScheme));\nexports.CampaignNominationSchemeRatioPercentage = CampaignNominationSchemeRatioPercentage;\n// endregion\n// region Survey Event Definitions\nvar CampaignSurveyEvent = /** @class */ (function () {\n    function CampaignSurveyEvent() {\n    }\n    CampaignSurveyEvent.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0:\n                result = CampaignSurveyEventCountedActivity.deserialize(input);\n                break;\n            case 1:\n                result = CampaignSurveyEventCountedActivitySequence.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyEvent.prototype.validate = function () {\n        return true;\n    };\n    return CampaignSurveyEvent;\n}());\nexports.CampaignSurveyEvent = CampaignSurveyEvent;\nvar CampaignSurveyEventCountedActivity = /** @class */ (function (_super) {\n    __extends(CampaignSurveyEventCountedActivity, _super);\n    // public for UT only\n    function CampaignSurveyEventCountedActivity() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyEventCountedActivity.deserialize = function (input) {\n        var result = new CampaignSurveyEventCountedActivity();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activity = input.Activity;\n        result.count = input.Count;\n        result.isAggregate = input.IsAggregate;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignSurveyEventCountedActivity.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.activity) || !isString(this.activity)) {\n            return false;\n        }\n        if (!isNumber(this.count) || this.count <= 0) {\n            return false;\n        }\n        if (!isBoolean(this.isAggregate)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyEventCountedActivity;\n}(CampaignSurveyEvent));\nexports.CampaignSurveyEventCountedActivity = CampaignSurveyEventCountedActivity;\nvar CampaignSurveyEventCountedActivitySequence = /** @class */ (function (_super) {\n    __extends(CampaignSurveyEventCountedActivitySequence, _super);\n    // public for UT only\n    function CampaignSurveyEventCountedActivitySequence() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyEventCountedActivitySequence.deserialize = function (input) {\n        var result = new CampaignSurveyEventCountedActivitySequence();\n        var sequence = [];\n        if (isNOU(input)) {\n            return null;\n        }\n        for (var key in input.Sequence) {\n            if (input.Sequence.hasOwnProperty(key)) {\n                var readActivity = input.Sequence[key];\n                if (readActivity) {\n                    sequence.push(CampaignSurveyEventCountedActivity.deserialize(readActivity));\n                }\n            }\n        }\n        if (sequence.length === 0) {\n            sequence = null;\n        }\n        result.sequence = sequence;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignSurveyEventCountedActivitySequence.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.sequence)) {\n            return false;\n        }\n        for (var key in this.sequence) {\n            if (this.sequence.hasOwnProperty(key) && !this.sequence[key]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyEventCountedActivitySequence;\n}(CampaignSurveyEvent));\nexports.CampaignSurveyEventCountedActivitySequence = CampaignSurveyEventCountedActivitySequence;\n// endregion\n// region Survey Content Definitions\nvar CampaignSurveyContent = /** @class */ (function () {\n    function CampaignSurveyContent() {\n    }\n    CampaignSurveyContent.deserialize = function (input, optionalComponents) {\n        var result = new CampaignSurveyContent();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.prompt = CampaignSurveyContentPrompt.deserialize(input.Prompt);\n        result.rating = CampaignSurveyContentRating.deserialize(input.Rating);\n        result.comment = CampaignSurveyContentComment.deserialize(input.Question);\n        result.multipleChoice = CampaignSurveyContentMultipleChoice.deserialize(input.MultipleChoice);\n        result.intercept = CampaignSurveyContentIntercept.deserialize(input.Intercept);\n        result.cvSurvey = CampaignSurveyContentCVSurvey.deserialize(input.CVSurveyParams);\n        if (!result.validate(optionalComponents)) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContent.prototype.validate = function (optionalComponents) {\n        if (!isNOU(this.intercept)) {\n            // An intercept survey only requires intercept.\n            return true;\n        }\n        if (isNOU(this.prompt)) {\n            return false;\n        }\n        if (optionalComponents) {\n            return !isNOU(this.rating) ||\n                !isNOU(this.multipleChoice) ||\n                !isNOU(this.comment);\n        }\n        return !isNOU(this.rating) && !isNOU(this.comment);\n    };\n    return CampaignSurveyContent;\n}());\nexports.CampaignSurveyContent = CampaignSurveyContent;\nvar CampaignSurveyContentMultipleChoice = /** @class */ (function () {\n    function CampaignSurveyContentMultipleChoice() {\n    }\n    CampaignSurveyContentMultipleChoice.deserialize = function (input) {\n        var result = new CampaignSurveyContentMultipleChoice();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.question = input.Question;\n        result.availableOptions = input.AvailableOptions;\n        result.minNumberOfSelectedOptions = input.MinNumberOfSelectedOptions;\n        result.maxNumberOfSelectedOptions = input.MaxNumberOfSelectedOptions;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentMultipleChoice.prototype.validate = function () {\n        if (isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.availableOptions) || !Array.isArray(this.availableOptions) || this.availableOptions.length < 2 ||\n            isNOU(this.minNumberOfSelectedOptions) || !isNumber(this.minNumberOfSelectedOptions) ||\n            isNOU(this.maxNumberOfSelectedOptions) || !isNumber(this.maxNumberOfSelectedOptions)) {\n            return false;\n        }\n        // expect all availableOptions values to be string\n        for (var key in this.availableOptions) {\n            if (this.availableOptions.hasOwnProperty(key)) {\n                if (!isString(this.availableOptions[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyContentMultipleChoice;\n}());\nexports.CampaignSurveyContentMultipleChoice = CampaignSurveyContentMultipleChoice;\nvar CampaignSurveyContentCVSurvey = /** @class */ (function () {\n    function CampaignSurveyContentCVSurvey() {\n    }\n    CampaignSurveyContentCVSurvey.deserialize = function (input) {\n        var result = new CampaignSurveyContentCVSurvey();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.customerVoiceFormId = input.CustomerVoiceFormId;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentCVSurvey.prototype.validate = function () {\n        return (!isNOU(this.customerVoiceFormId) && isString(this.customerVoiceFormId));\n    };\n    return CampaignSurveyContentCVSurvey;\n}());\nexports.CampaignSurveyContentCVSurvey = CampaignSurveyContentCVSurvey;\nvar CampaignSurveyContentPrompt = /** @class */ (function () {\n    function CampaignSurveyContentPrompt() {\n    }\n    CampaignSurveyContentPrompt.deserialize = function (input) {\n        var result = new CampaignSurveyContentPrompt();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.title = input.Title;\n        result.question = input.Question;\n        result.yesLabel = input.YesLabel;\n        result.noLabel = input.NoLabel;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentPrompt.prototype.validate = function () {\n        if (isNOU(this.title) || !isString(this.title) ||\n            isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.yesLabel) || !isString(this.yesLabel) ||\n            isNOU(this.noLabel) || !isString(this.noLabel)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentPrompt;\n}());\nexports.CampaignSurveyContentPrompt = CampaignSurveyContentPrompt;\nvar CampaignSurveyContentIntercept = /** @class */ (function () {\n    function CampaignSurveyContentIntercept() {\n    }\n    CampaignSurveyContentIntercept.deserialize = function (input) {\n        var result = new CampaignSurveyContentIntercept();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.title = input.Title;\n        result.question = input.Question;\n        result.url = input.Url;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentIntercept.prototype.validate = function () {\n        if (isNOU(this.title) || !isString(this.title) ||\n            isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.url) || !isString(this.url)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentIntercept;\n}());\nexports.CampaignSurveyContentIntercept = CampaignSurveyContentIntercept;\nvar CampaignSurveyContentRating = /** @class */ (function () {\n    function CampaignSurveyContentRating() {\n    }\n    CampaignSurveyContentRating.deserialize = function (input) {\n        var result = new CampaignSurveyContentRating();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.isZeroBased = input.IsZeroBased;\n        result.question = input.Question;\n        result.ratingValuesAscending = input.RatingValuesAscending;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentRating.prototype.validate = function () {\n        // expect ratingValuesAscending to contain between 2 to 11 values\n        if (isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.ratingValuesAscending) || !Array.isArray(this.ratingValuesAscending) ||\n            this.ratingValuesAscending.length < 2 || this.ratingValuesAscending.length > 11) {\n            return false;\n        }\n        if (isNOU(this.isZeroBased)) {\n            // default to false if not provided\n            this.isZeroBased = false;\n        }\n        else if (!isBoolean(this.isZeroBased)) {\n            // fail validation if non boolean value is provided\n            return false;\n        }\n        // expect all ratingValuesAscending values to be string\n        for (var key in this.ratingValuesAscending) {\n            if (this.ratingValuesAscending.hasOwnProperty(key)) {\n                if (!isString(this.ratingValuesAscending[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyContentRating;\n}());\nexports.CampaignSurveyContentRating = CampaignSurveyContentRating;\nvar CampaignSurveyContentComment = /** @class */ (function () {\n    function CampaignSurveyContentComment() {\n    }\n    CampaignSurveyContentComment.deserialize = function (input) {\n        var result = new CampaignSurveyContentComment();\n        if (isNOU(input)) {\n            return null;\n        }\n        // @SerializedName(\"Question\")\n        result.question = input.Question;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentComment.prototype.validate = function () {\n        if (isNOU(this.question) || !isString(this.question)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentComment;\n}());\nexports.CampaignSurveyContentComment = CampaignSurveyContentComment;\n// endregion\n// region Survey Metadata Definitions\nvar CampaignSurveyMetadata = /** @class */ (function () {\n    function CampaignSurveyMetadata() {\n    }\n    CampaignSurveyMetadata.deserialize = function (input) {\n        if (isNOU(input)) {\n            return null;\n        }\n        var result = new CampaignSurveyMetadata();\n        result.contentMetadata = input.ContentMetadata;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyMetadata.prototype.validate = function () {\n        if (isNOU(this.contentMetadata) || !Utils.isObject(this.contentMetadata)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyMetadata;\n}());\nexports.CampaignSurveyMetadata = CampaignSurveyMetadata;\n// endregion\n// region Survey Template definitions\nvar CampaignSurveyTemplate = /** @class */ (function () {\n    function CampaignSurveyTemplate() {\n    }\n    CampaignSurveyTemplate.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0 /* Nps5PointStatic */:\n                result = CampaignSurveyTemplateNps5PointStatic.deserialize(input);\n                break;\n            case 1 /* Nps11PointStatic */:\n                result = CampaignSurveyTemplateNps11PointStatic.deserialize(input);\n                break;\n            case 2 /* Fps */:\n                result = CampaignSurveyTemplateFps.deserialize(input);\n                break;\n            case 3 /* Nlqs */:\n                result = CampaignSurveyTemplateNlqs.deserialize(input);\n                break;\n            case 4 /* Nps */:\n                result = CampaignSurveyTemplateNps.deserialize(input);\n                break;\n            case 22 /* GenericMessagingSurface */:\n                result = CampaignSurveyTemplateGenericMessagingSurface.deserialize(input);\n                break;\n            case 5 /* Intercept */:\n                result = CampaignSurveyTemplateIntercept.deserialize(input);\n                break;\n        }\n        if (isNOU(result)) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplate.prototype.validate = function () {\n        if (isNOU(this.activationEvent)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplate;\n}());\nexports.CampaignSurveyTemplate = CampaignSurveyTemplate;\nvar CampaignSurveyTemplateFps = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateFps, _super);\n    // public for UT only\n    function CampaignSurveyTemplateFps() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateFps.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateFps();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content, true /* optionalComponents */);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateFps.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateFps;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateFps = CampaignSurveyTemplateFps;\nvar CampaignSurveyTemplateNlqs = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNlqs, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNlqs() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNlqs.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNlqs();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNlqs.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNlqs;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNlqs = CampaignSurveyTemplateNlqs;\nvar CampaignSurveyTemplateNps = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNps() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps = CampaignSurveyTemplateNps;\nvar CampaignSurveyTemplateNps5PointStatic = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps5PointStatic, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNps5PointStatic() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps5PointStatic.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps5PointStatic();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps5PointStatic.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps5PointStatic;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps5PointStatic = CampaignSurveyTemplateNps5PointStatic;\nvar CampaignSurveyTemplateNps11PointStatic = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps11PointStatic, _super);\n    function CampaignSurveyTemplateNps11PointStatic() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps11PointStatic.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps11PointStatic();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps11PointStatic.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps11PointStatic;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps11PointStatic = CampaignSurveyTemplateNps11PointStatic;\nvar CampaignSurveyTemplateGenericMessagingSurface = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateGenericMessagingSurface, _super);\n    function CampaignSurveyTemplateGenericMessagingSurface() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateGenericMessagingSurface.deserialize = function (input) {\n        if (isNOU(input)) {\n            return null;\n        }\n        var result = new CampaignSurveyTemplateGenericMessagingSurface();\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.metadata = CampaignSurveyMetadata.deserialize(input.Metadata);\n        result.maxLaunches = input.MaxLaunches;\n        result.maxLaunchesPerSession = input.MaxLaunchesPerSession;\n        result.preferredLaunchType = input.PreferredLaunchType;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateGenericMessagingSurface.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.metadata)) {\n            return false;\n        }\n        if ((!isNOU(this.maxLaunches) && (!isNumber(this.maxLaunches) || this.maxLaunches <= 0)) ||\n            (!isNOU(this.maxLaunchesPerSession) && (!isNumber(this.maxLaunchesPerSession) || this.maxLaunchesPerSession <= 0))) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid Multi Launch settings\", this.maxLaunches, this.maxLaunchesPerSession);\n            return false;\n        }\n        // check for valid values\n        if (isNumber(this.maxLaunches) &&\n            isNumber(this.maxLaunchesPerSession) &&\n            this.maxLaunchesPerSession > this.maxLaunches) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid Multi launch settings\", this.maxLaunches, this.maxLaunchesPerSession);\n            return false;\n        }\n        if (!isNOU(this.preferredLaunchType) && !isString(this.preferredLaunchType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid launcher type\", this.preferredLaunchType);\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateGenericMessagingSurface;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateGenericMessagingSurface = CampaignSurveyTemplateGenericMessagingSurface;\nvar CampaignSurveyTemplateIntercept = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateIntercept, _super);\n    // public for UT only\n    function CampaignSurveyTemplateIntercept() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateIntercept.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateIntercept();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateIntercept.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateIntercept;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateIntercept = CampaignSurveyTemplateIntercept;\n// endregion\n// region Campaign Definition\nvar CampaignDefinition = /** @class */ (function () {\n    function CampaignDefinition() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    CampaignDefinition.deserialize = function (input) {\n        var result = new CampaignDefinition();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.campaignId = input.CampaignId;\n        result.governedChannelType = input.GovernedChannelType;\n        result.startTime = input.StartTimeUtc;\n        result.endTime = input.EndTimeUtc;\n        result.launcherType = input.LauncherType;\n        result.primaryPriority = input.PrimaryPriority;\n        result.tags = input.Tags;\n        var additionalDataRequested = CampaignAdditionalDataRequested.deserialize(input.AdditionalDataRequested);\n        result.additionalDataRequested = additionalDataRequested ? additionalDataRequested.additionalData : [];\n        if (input.SurveyTemplate) {\n            result.surveyTemplate = CampaignSurveyTemplate.deserialize(input.SurveyTemplate);\n        }\n        if (input.NominationScheme) {\n            result.nominationScheme = CampaignNominationScheme.deserialize(input.NominationScheme);\n        }\n        if (input.Scope) {\n            result.scope = CampaignScope.deserialize(input.Scope);\n        }\n        if (!isNOU(input.BusinessLevel)) {\n            result.businessLevel = input.BusinessLevel;\n        }\n        if (!result.validate()) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_LocalError(\"Invalid definition\", input);\n            return null;\n        }\n        return result;\n    };\n    CampaignDefinition.prototype.validate = function () {\n        var _a, _b;\n        if (isNOU(this.scope)) {\n            this.scope = new CampaignScopeAny();\n        }\n        if (isNOU(this.campaignId) || !isString(this.campaignId)) {\n            return false;\n        }\n        if (!isNumber(this.governedChannelType) || !Utils.isEnumValue(this.governedChannelType, GovernedChannel_1.GovernedChannelType)) {\n            return false;\n        }\n        if (isNOU(this.nominationScheme)) {\n            return false;\n        }\n        if (isNOU(this.surveyTemplate)) {\n            return false;\n        }\n        if (!isNOU(this.launcherType) && !isString(this.launcherType)) {\n            return false;\n        }\n        if (this.launcherType === \"customervoice\" && isNOU((_b = (_a = this.surveyTemplate.content) === null || _a === void 0 ? void 0 : _a.cvSurvey) === null || _b === void 0 ? void 0 : _b.customerVoiceFormId)) {\n            return false;\n        }\n        if (!isNOU(this.primaryPriority) && !isNumber(this.primaryPriority)) {\n            return false;\n        }\n        if (this.tags && !Array.isArray(this.tags)) {\n            return false;\n        }\n        // Campaigns with no start date are effectively disabled, in fact, this is the supported way to stage a definition but have it be turned off\n        if (isNOU(this.startTime)) {\n            this.startTime = getDistantFuture();\n        }\n        else if (isUtcDatetimeString(this.startTime)) {\n            this.startTime = stringToDate(this.startTime);\n        }\n        else {\n            return false;\n        }\n        // Campaigns with no end date are effectively on indefinitely\n        if (isNOU(this.endTime) ||\n            (typeof (this.endTime) === \"string\" && this.endTime === \"\")) {\n            this.endTime = getDistantFuture();\n        }\n        else if (isUtcDatetimeString(this.endTime)) {\n            this.endTime = stringToDate(this.endTime);\n        }\n        else {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDefinition;\n}());\nexports.CampaignDefinition = CampaignDefinition;\n/**\n * Given an array of campaign definitions, returns the valid ones and errors if any are invalid.\n * @param input: JSON object\n * Returns the valid definitions and the error as string if any.\n */\nfunction FilterValidCampaignDefinitions(campaignDefinitions) {\n    var result = [];\n    if (isNOU(campaignDefinitions)) {\n        return { result: result, error: \"Empty\" };\n    }\n    if (!Array.isArray(campaignDefinitions)) {\n        return { result: result, error: \"Not an array\" };\n    }\n    var badIndexes = [];\n    for (var i = 0; i < campaignDefinitions.length; i++) {\n        var definition = campaignDefinitions[i];\n        if (definition) {\n            var newDefinition = CampaignDefinition.deserialize(definition);\n            newDefinition\n                ? result.push(newDefinition)\n                : badIndexes.push(i);\n        }\n        else {\n            badIndexes.push(i);\n        }\n    }\n    var error = badIndexes.length > 0 ? \"Invalid campaign definitions at indexes: \" + badIndexes.toString() : undefined;\n    return { result: result, error: error };\n}\nexports.FilterValidCampaignDefinitions = FilterValidCampaignDefinitions;\nvar FileSystemCampaignDefinitionProvider = /** @class */ (function () {\n    function FileSystemCampaignDefinitionProvider(storage) {\n        if (isNOU(storage)) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    FileSystemCampaignDefinitionProvider.prototype.load = function () {\n        var definitionString = this.storage.read(IFloodgateStorageProvider.FileType.CampaignDefinitions);\n        if (isNOU(definitionString)) {\n            return [];\n        }\n        var readDefinitions;\n        try {\n            readDefinitions = JSON.parse(definitionString);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(e.toString());\n            return [];\n        }\n        // This ignores errors in validation for now.\n        return FilterValidCampaignDefinitions(readDefinitions).result;\n    };\n    FileSystemCampaignDefinitionProvider.prototype.loadAsync = function () {\n        var definitions = this.load();\n        return new Promise(function onFulfilled(resolve, reject) {\n            resolve(definitions);\n        });\n    };\n    return FileSystemCampaignDefinitionProvider;\n}());\nexports.FileSystemCampaignDefinitionProvider = FileSystemCampaignDefinitionProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLnRzPzc3MmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDBKQUE4RTtBQUM5RSxvR0FBOEM7QUFDOUMsc0hBQXFEO0FBQ3JELHNIQUF5RDtBQUd6RCxzRkFBa0M7QUFJbEMscUlBQXFGO0FBRzdFLG9CQUFnQixHQUE4RSxLQUFLLGlCQUFuRixFQUFFLFNBQVMsR0FBbUUsS0FBSyxVQUF4RSxFQUFFLEtBQUssR0FBNEQsS0FBSyxNQUFqRSxFQUFFLFFBQVEsR0FBa0QsS0FBSyxTQUF2RCxFQUFFLFFBQVEsR0FBd0MsS0FBSyxTQUE3QyxFQUFFLG1CQUFtQixHQUFtQixLQUFLLG9CQUF4QixFQUFFLFlBQVksR0FBSyxLQUFLLGFBQVYsQ0FBVztBQUU1Ryx3QkFBd0I7QUFFeEI7O0dBRUc7QUFDSDtJQWVDO0lBQTBCLENBQUM7SUFkYixpQ0FBVyxHQUF6QixVQUEwQixLQUFVO1FBQ25DLElBQUksTUFBNkIsQ0FBQztRQUVsQyxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUM5QixNQUFNLEdBQUcsbUNBQW1DLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFTUyx3Q0FBUSxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUNGLDRCQUFDO0FBQUQsQ0FBQztBQXpCcUIsc0RBQXFCO0FBMkIzQzs7R0FFRztBQUNIO0lBQXlELHVEQUFxQjtJQWtCN0UscUJBQXFCO0lBQ3JCO2VBQXVCLGlCQUFPO0lBQUUsQ0FBQztJQWxCbkIsK0NBQVcsR0FBekIsVUFBMEIsS0FBVTtRQUNuQyxJQUFNLE1BQU0sR0FBRyxJ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U0FDVjtRQUVELElBQUksZUFBb0IsQ0FBQztRQUV6QixJQUFJO1lBQ0gsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUMvQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQzNFLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7UUFFRCw2Q0FBNkM7UUFDN0MsT0FBTyw4QkFBOEIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDL0QsQ0FBQztJQUVNLHdEQUFTLEdBQWhCO1FBQ0MsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hDLE9BQU8sSUFBSSxPQUFPLENBQ2pCLFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ25DLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN0QixDQUFDLENBQ0QsQ0FBQztJQUNILENBQUM7SUFDRiwyQ0FBQztBQUFELENBQUM7QUF0Q1ksb0ZBQW9DIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuLi9GbG9vZGdhdGVFbmdpbmVcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IEJ1c2luZXNzTGV2ZWwgfSBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5pbXBvcnQgeyBJVXNlckZhY3RQcm92aWRlciB9IGZyb20gXCIuLi9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IFVzZXJGYWN0IH0gZnJvbSBcIi4uL1VzZXJGYWN0L1VzZXJGYWN0XCI7XHJcbmltcG9ydCB7IGRlc2VyaWFsaXplVXNlckZhY3RzLCB2YWxpZGF0ZVVzZXJGYWN0cyB9IGZyb20gXCIuLi9Vc2VyRmFjdC9Vc2VyRmFjdEhlbHBlclwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblNjb3BlVHlwZSB9IGZyb20gXCIuL0NhbXBhaWduU2NvcGVUeXBlc1wiO1xyXG5cclxuY29uc3QgeyBnZXREaXN0YW50RnV0dXJlLCBpc0Jvb2xlYW4sIGlzTk9VLCBpc051bWJlciwgaXNTdHJpbmcsIGlzVXRjRGF0ZXRpbWVTdHJpbmcsIHN0cmluZ1RvRGF0ZSB9ID0gVXRpbHM7XHJcblxyXG4vLyByZWdpb24gTGFuZ3VhZ2UgUmFuZ2VcclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIHJlcHJlc2VudGluZyBhIGxhbmd1YWdlIHJhbmdlIGluIGEgY2FtcGFpZ24gc2V0dGluZ1xyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduTGFuZ3VhZ2VSYW5nZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25MYW5ndWFnZVJhbmdlIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZTtcclxuXHJcblx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuVHlwZSA9PT0gMCkge1xyXG5cdFx0XHRyZXN1bHQgPSBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VMYW5ndWFnZVN1YnRhZy5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgdGFnIChmb3JtYXQgZnJvbSBSRkMgNTY0NikgaXMgaW4gdGhpcyBsYW5ndWFnZSByYW5nZSBzcGVjaWZpY2F0aW9uXHJcblx0ICovXHJcblx0cHVibGljIGFic3RyYWN0IGlzSW5SYW5nZShsYW5ndWFnZTogc3RyaW5nKTogYm9vbGVhbjtcclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHJhbmdlIG1hdGNoaW5nIG9uIHRoZSBcImxhbmd1YWdlIHN1YnRhZ1wiIGFnYWluc3QgZnVsbHkgc3BlY2lmaWVkIGxhbmd1YWdlIHRhZ3MsIGFjY29yZGluZyB0byBSRkMgNTY0NlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduTGFuZ3VhZ2VSYW5nZUxhbmd1YWdlU3VidGFnIGV4dGVuZHMgQ2FtcGFpZ25MYW5ndWFnZVJhbmdlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VMYW5ndWFnZVN1YnRhZyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25MYW5ndWFnZVJhbmdlTGFuZ3VhZ2VTdWJ0YWcoKTtcclxuXHJcblx0XHRpZiAoaW5wdXQpIHtcclxuXHRcdFx0cmVzdWx0Lmxhbmd1YWdlU3ViVGFnID0gaW5wdXQuVmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVmFsdWVcIilcclxuXHRwdWJsaWMgbGFuZ3VhZ2VTdWJUYWc6IHN0cmluZztcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0luUmFuZ2UobGFuZ3VhZ2U6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKGxhbmd1YWdlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZXh0cmFjdGVkTGFuZ3VhZ2VTdWJUYWc6IHN0cmluZyA9IFV0aWxzLmV4dHJhY3RMYW5ndWFnZVN1YnRhZyhsYW5ndWFnZSk7XHJcblx0XHRpZiAoaXNOT1UoZXh0cmFjdGVkTGFuZ3VhZ2VTdWJUYWcpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjb21wYXJlIHN0cmluZ3MgaWdub3JpbmcgY2FzZVxyXG5cdFx0cmV0dXJuIGV4dHJhY3RlZExhbmd1YWdlU3ViVGFnLnRvTG9jYWxlVXBwZXJDYXNlKCkgPT09IHRoaXMubGFuZ3VhZ2VTdWJUYWcudG9Mb2NhbGVVcHBlckNhc2UoKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMubGFuZ3VhZ2VTdWJUYWcpIHx8ICFpc1N0cmluZyh0aGlzLmxhbmd1YWdlU3ViVGFnKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBSZWplY3QgYW55IHNwZWMgdGhhdCBpc24ndCBleGFjdGx5IGEgbGFuZ3VhZ2Ugc3VidGFnXHJcblx0XHRpZiAoIVV0aWxzLmlzVmFsaWRMYW5ndWFnZVN1YlRhZyh0aGlzLmxhbmd1YWdlU3ViVGFnKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBTY29wZVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduU2NvcGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU2NvcGUge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25TY29wZTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoaW5wdXQuVHlwZSkge1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU2NvcGVUeXBlLkNhbXBhaWduU2NvcGVBbnk6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TY29wZUFueS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0OlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU2NvcGVFbnZpcm9ubWVudENyb3NzUHJvZHVjdC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55OlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU2NvcGVVc2VyRmFjdEFueS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcblx0cHVibGljIGFic3RyYWN0IGlzSW5TY29wZSgpOiBib29sZWFuO1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblNjb3BlQW55IGV4dGVuZHMgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZUFueSB7XHJcblx0XHRyZXR1cm4gbmV3IENhbXBhaWduU2NvcGVBbnkoKTtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNJblNjb3BlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU2NvcGVFbnZpcm9ubWVudENyb3NzUHJvZHVjdCBleHRlbmRzIENhbXBhaWduU2NvcGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU2NvcGVFbnZpcm9ubWVudENyb3NzUHJvZHVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0KCk7XHJcblx0XHRsZXQgbGFuZ3VhZ2VSYW5nZXM6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZVtdID0gW107XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBpbnB1dC5MYW5ndWFnZXMpIHtcclxuXHRcdFx0aWYgKGlucHV0Lkxhbmd1YWdlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVhZFJhbmdlOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2UgPSBpbnB1dC5MYW5ndWFnZXNba2V5XTtcclxuXHJcblx0XHRcdFx0aWYgKHJlYWRSYW5nZSkge1xyXG5cdFx0XHRcdFx0bGFuZ3VhZ2VSYW5nZXMucHVzaChDYW1wYWlnbkxhbmd1YWdlUmFuZ2UuZGVzZXJpYWxpemUocmVhZFJhbmdlKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxhbmd1YWdlUmFuZ2VzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRsYW5ndWFnZVJhbmdlcyA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0Lmxhbmd1YWdlUmFuZ2VzID0gbGFuZ3VhZ2VSYW5nZXM7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFuZ3VhZ2VzXCIpXHJcblx0cHVibGljIGxhbmd1YWdlUmFuZ2VzOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VbXTtcclxuXHJcblx0cHJpdmF0ZSBlbnZpcm9ubWVudFByb3ZpZGVyOiBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlcjtcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHB1YmxpYyBzZXRFbnZpcm9ubWVudFByb3ZpZGVyKGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyKSB7XHJcblx0XHR0aGlzLmVudmlyb25tZW50UHJvdmlkZXIgPSBlbnZpcm9ubWVudFByb3ZpZGVyO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzSW5TY29wZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmxhbmd1YWdlUmFuZ2VzKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyKSB8fCAhdGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyLmdldExhbmd1YWdlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxhbmd1YWdlID0gdGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyLmdldExhbmd1YWdlKCk7XHJcblx0XHQvLyBJZiB0aGUgZW52aXJvbm1lbnQgbWF0Y2hlcyBhIHNpbmdsZSBwYXR0ZXJuLCB0aGVuIHRoaXMgaXMgYSB5ZXNcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMubGFuZ3VhZ2VSYW5nZXMpIHtcclxuXHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2VSYW5nZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHJhbmdlID0gdGhpcy5sYW5ndWFnZVJhbmdlc1trZXldO1xyXG5cclxuXHRcdFx0XHRpZiAocmFuZ2UuaXNJblJhbmdlKGxhbmd1YWdlKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBOdWxsIGxhbmd1YWdlUmFuZ2VzIGlzIGFsbG93ZWQsIG1lYW5zIHdpbGwgbWF0Y2ggd2l0aCBldmVyeXRoaW5nLlxyXG5cdFx0aWYgKHRoaXMubGFuZ3VhZ2VSYW5nZXMpIHtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5sYW5ndWFnZVJhbmdlcykge1xyXG5cdFx0XHRcdGlmICh0aGlzLmxhbmd1YWdlUmFuZ2VzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXRoaXMubGFuZ3VhZ2VSYW5nZXNba2V5XSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU2NvcGVVc2VyRmFjdEFueSBleHRlbmRzIENhbXBhaWduU2NvcGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU2NvcGVVc2VyRmFjdEFueSB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55KCk7XHJcblx0XHRyZXN1bHQudXNlckZhY3RzID0gZGVzZXJpYWxpemVVc2VyRmFjdHMoaW5wdXQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlVzZXJGYWN0c1wiKVxyXG5cdHB1YmxpYyB1c2VyRmFjdHM6IFVzZXJGYWN0W107XHJcblxyXG5cdHByaXZhdGUgdXNlckZhY3RzUHJvdmlkZXI/OiBJVXNlckZhY3RQcm92aWRlcjtcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHB1YmxpYyBzZXRVc2VyRmFjdHNQcm92aWRlcih1c2VyRmFjdHNQcm92aWRlcj86IElVc2VyRmFjdFByb3ZpZGVyKSB7XHJcblx0XHR0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyID0gdXNlckZhY3RzUHJvdmlkZXI7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNJblNjb3BlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMudXNlckZhY3RzKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMudXNlckZhY3RzUHJvdmlkZXIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIG9uZSBvZiB0aGUgdXNlciBmYWN0IG1hdGNoZXMsIHRoZW4gdGhpcyBpcyBhIHllc1xyXG5cdFx0cmV0dXJuIHRoaXMudXNlckZhY3RzLnNvbWUoKHVzZXJGYWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IHJhd1VzZXJGYWN0ID0gdGhpcy51c2VyRmFjdHNQcm92aWRlci5nZXRVc2VyRmFjdCh1c2VyRmFjdC5nZXROYW1lKCkpO1xyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3QuaXNBTWF0Y2gocmF3VXNlckZhY3QpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB2YWxpZGF0ZVVzZXJGYWN0cyh0aGlzLnVzZXJGYWN0cyk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsIGV4dGVuZHMgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblNjb3BlVXNlckZhY3RBbGwoKTtcclxuXHRcdHJlc3VsdC51c2VyRmFjdHMgPSBkZXNlcmlhbGl6ZVVzZXJGYWN0cyhpbnB1dCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVXNlckZhY3RzXCIpXHJcblx0cHVibGljIHVzZXJGYWN0czogVXNlckZhY3RbXTtcclxuXHJcblx0cHJpdmF0ZSB1c2VyRmFjdHNQcm92aWRlcj86IElVc2VyRmFjdFByb3ZpZGVyO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHVibGljIHNldFVzZXJGYWN0c1Byb3ZpZGVyKHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXIpIHtcclxuXHRcdHRoaXMudXNlckZhY3RzUHJvdmlkZXIgPSB1c2VyRmFjdHNQcm92aWRlcjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0luU2NvcGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy51c2VyRmFjdHMpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy51c2VyRmFjdHNQcm92aWRlcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gR2V0IGFsbCBvZiB0aGUgbWlzbWF0Y2hlZCB1c2VyIGZhY3RzXHJcblx0XHRjb25zdCBtaXNtYXRjaGVkRmFjdHMgPSB0aGlzLnVzZXJGYWN0cy5maWx0ZXIoKHVzZXJGYWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IHJhd1VzZXJGYWN0ID0gdGhpcy51c2VyRmFjdHNQcm92aWRlci5nZXRVc2VyRmFjdCh1c2VyRmFjdC5nZXROYW1lKCkpO1xyXG5cdFx0XHRyZXR1cm4gIXVzZXJGYWN0LmlzQU1hdGNoKHJhd1VzZXJGYWN0KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChtaXNtYXRjaGVkRmFjdHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCBtaXNtYXRjaGVkTmFtZXMgPSBtaXNtYXRjaGVkRmFjdHMubWFwKCh1c2VyRmFjdCkgPT4gdXNlckZhY3QuZ2V0TmFtZSgpKTtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLlN1bW1hcnksIHtcclxuXHRcdFx0XHRcdENvdW50OiBtaXNtYXRjaGVkRmFjdHMubGVuZ3RoLFxyXG5cdFx0XHRcdFx0TWVzc2FnZTogbWlzbWF0Y2hlZE5hbWVzLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiBhbGwgb2YgdGhlIHVzZXIgZmFjdHMgbWF0Y2gsIHRoZW4gdGhpcyBpcyBhIHllc1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB2YWxpZGF0ZVVzZXJGYWN0cyh0aGlzLnVzZXJGYWN0cyk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBEdXJhdGlvbnNcclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIHJlcHJlc2VudGluZyBhIGR1cmF0aW9uIGluIGEgY2FtcGFpZ24gc2V0dGluZ1xyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduRHVyYXRpb24ge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRHVyYXRpb24ge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25EdXJhdGlvbjtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoaW5wdXQuVHlwZSkge1xyXG5cdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25EdXJhdGlvblRpbWVJbnRlcnZhbC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdHB1YmxpYyBhYnN0cmFjdCBhc1RpbWVJbnRlcnZhbFNlY29uZHMoKTogbnVtYmVyO1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIER1cmF0aW9uIGV4cHJlc3NlZCBpbiBzZWNvbmRzLiBVVEMgZGF0ZXRpbWUgY29tcGFyaXNvbnMgYXJlIHVzZWQgdG8gZGV0ZXJtaW5lIGV4cGlyYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25EdXJhdGlvblRpbWVJbnRlcnZhbCBleHRlbmRzIENhbXBhaWduRHVyYXRpb24ge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwoKTtcclxuXHJcblx0XHRpZiAoaW5wdXQpIHtcclxuXHRcdFx0cmVzdWx0LmludGVydmFsU2Vjb25kcyA9IGlucHV0LkludGVydmFsU2Vjb25kcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJbnRlcnZhbFNlY29uZHNcIilcclxuXHRwdWJsaWMgaW50ZXJ2YWxTZWNvbmRzOiBudW1iZXI7XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnRlcnZhbFNlY29uZHM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5pbnRlcnZhbFNlY29uZHMpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIER1cmF0aW9uIHJlcHJlc2VudGluZyBleGFjdGx5IDEgY2hhbmdlIGluIGJ1aWxkIG51bWJlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSBleHRlbmRzIENhbXBhaWduRHVyYXRpb24ge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSB7XHJcblx0XHRyZXR1cm4gbmV3IENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBhc1RpbWVJbnRlcnZhbFNlY29uZHMoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBBZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCBpbiBDYW1wYWlnbkRlZmluaXRpb25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkOiBzdHJpbmdbXSk6IENhbXBhaWduQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQoKTtcclxuXHJcblx0XHRpZiAoIWlzTk9VKGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKSkge1xyXG5cdFx0XHQvLyBDb252ZXJ0IGZyb20gQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgc3RyaW5nIHRvIGVudW1cclxuXHRcdFx0cmVzdWx0LmFkZGl0aW9uYWxEYXRhID0gW107XHJcblx0XHRcdGZvciAoY29uc3QgYWRkaXRpb25hbERhdGEgb2YgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQpIHtcclxuXHRcdFx0XHRpZiAoYWRkaXRpb25hbERhdGEgPT09IFwiRW1haWxBZGRyZXNzXCIpIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5hZGRpdGlvbmFsRGF0YS5wdXNoKElTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZS5FbWFpbEFkZHJlc3MpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhZGRpdGlvbmFsRGF0YTogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlW107XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5hZGRpdGlvbmFsRGF0YSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBEaXN0cmlidXRpb24gU2NoZW1lc1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduRGlzdHJpYnV0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkRpc3RyaWJ1dGlvbiB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnbkRpc3RyaWJ1dGlvbjtcclxuXHJcblx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuVHlwZSA9PT0gMCkge1xyXG5cdFx0XHRyZXN1bHQgPSBDYW1wYWlnbkRpc3RyaWJ1dGlvblJhbXAuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRGlzdHJpYnV0aW9uUmFtcCBleHRlbmRzIENhbXBhaWduRGlzdHJpYnV0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkRpc3RyaWJ1dGlvblJhbXAge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduRGlzdHJpYnV0aW9uUmFtcCgpO1xyXG5cclxuXHRcdGlmIChpbnB1dCkge1xyXG5cdFx0XHRyZXN1bHQubWF4RGVsYXlTZWNvbmRzID0gaW5wdXQuTWF4RGVsYXlTZWNvbmRzO1xyXG5cdFx0XHRyZXN1bHQuY2h1bmtzID0gaW5wdXQuQ2h1bmtzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIFRoZSB0aW1lIHdpbmRvdyBvdmVyIHdoaWNoIHRoZSByYW1wIHdpbGwgZGlzdHJpYnV0ZSBzdGFydCBkYXRlcy5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNYXhEZWxheVNlY29uZHNcIilcclxuXHRwdWJsaWMgbWF4RGVsYXlTZWNvbmRzOiBudW1iZXI7XHJcblxyXG5cdC8vIFRoZSBudW1iZXIgb2YgZGlzY3JldGUgYnVja2V0cyB0byBkaXZpZGUgdGhlIHRpbWUgd2luZG93IChtYXhEZWxheVNlY29uZHMpIGludG9cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDaHVua3NcIilcclxuXHRwdWJsaWMgY2h1bmtzOiBudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMubWF4RGVsYXlTZWNvbmRzKSB8fCB0aGlzLm1heERlbGF5U2Vjb25kcyA8IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5jaHVua3MpIHx8IHRoaXMuY2h1bmtzIDwgMCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBOb21pbmF0aW9uIFNjaGVtZVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduTm9taW5hdGlvblNjaGVtZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduTm9taW5hdGlvblNjaGVtZTtcclxuXHJcblx0XHRpZiAoaW5wdXQgJiYgaW5wdXQuVHlwZSA9PT0gMCkge1xyXG5cdFx0XHRyZXN1bHQgPSBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWVSYXRpb1BlcmNlbnRhZ2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIGFtb3VudCBvZiB0aW1lIChpbiBzZWNvbmRzKSBmb3Igd2hpY2ggdGhlIHN1cnZleSBpcyBhY3RpdmUsIGlmIHRoZSBub21pbmF0aW9uUGVyaW9kIGNhbid0IGJlIGludGVycHJldGVkIGFzIGEgdGltZSBpbnRlcnZhbFxyXG5cdC8vIG5vdGU6IFRoaXMgaXMgb25seSB1c2VkIHdoZW4gbm9taW5hdGlvblBlcmlvZCBpcyBub3Qgb2YgYSB0eXBlIHRoYXQgY2FuIGJlIGludGVycHJldGVkIGFzIGEgdGltZSBpbnRlcnZhbCwgb3RoZXJ3aXNlXHJcblx0Ly8gdGhhdCB2YWx1ZSBpcyB1c2VkIGluc3RlYWRcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJGYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kc1wiKVxyXG5cdHB1YmxpYyBmYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kczogbnVtYmVyO1xyXG5cclxuXHQvLyBXaGVuIHRoZSB1c2VyIG5ldmVyIHNlZXMgdGhlIHN1cnZleSBkdXJpbmcgdGhlaXIgY2FuZGlkYWN5IChvciBhbnRpLWNhbmRpZGFjeSksIHRoaXMgaXMgdGhlIGR1cmF0aW9uIHRoYXQgbXVzdCBsYXBzZVxyXG5cdC8vIGJlZm9yZSByZS0gbm9taW5hdGluZ1xyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIk5vbWluYXRpb25QZXJpb2RcIilcclxuXHRwdWJsaWMgbm9taW5hdGlvblBlcmlvZDogQ2FtcGFpZ25EdXJhdGlvbjtcclxuXHJcblx0Ly8gV2hlbiB0aGUgdXNlciBkb2VzIHNlZXMgdGhlIHN1cnZleSBkdXJpbmcgdGhlaXIgY2FuZGlkYWN5LCB0aGlzIGlzIHRoZSBkdXJhdGlvbiB0aGF0IG11c3QgbGFwc2UgYmVmb3JlIHJlLWV2YWx1YXRpbmdcclxuXHQvLyBjYW5kaWRhY3kuIEdlbmVyYWxseSByZWNvbW1lbmRlZCB0aGF0IHRoaXMgYmUgZ3JlYXRlciB0aGFuIG5vbWluYXRpb25QZXJpb2RcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDb29sZG93blBlcmlvZFwiKVxyXG5cdHB1YmxpYyBjb29sZG93blBlcmlvZDogQ2FtcGFpZ25EdXJhdGlvbjtcclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiB0aW1lIHRoZSBzdXJ2ZXkgc2hvdWxkIGJlIGFjdGl2ZSwgaW4gc2Vjb25kcy4gQWJzdHJhY3RzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gbm9taW5hdGlvblBlcmlvZCBhbmQgdGhlIGZhbGxiYWNrXHJcblx0ICovXHJcblx0cHVibGljIGdldEFjdGl2ZVN1cnZleVRpbWVJbnRlcnZhbFNlY29uZHMoKTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IG5vbWluYXRpb25UaW1JbnRlcnZhbFNlY29uZHM6IG51bWJlciA9IHRoaXMubm9taW5hdGlvblBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKTtcclxuXHJcblx0XHRpZiAoaXNOdW1iZXIobm9taW5hdGlvblRpbUludGVydmFsU2Vjb25kcykpIHtcclxuXHRcdFx0cmV0dXJuIG5vbWluYXRpb25UaW1JbnRlcnZhbFNlY29uZHM7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZmFsbGJhY2tTdXJ2ZXlEdXJhdGlvblNlY29uZHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBzdXJ2ZXkgc3RhcnQgdGltZSwgcG9zc2libHkgYWRqdXN0ZWQgYnkgYW4gdW5kZXJseWluZyBEaXN0cmlidXRpb25Nb2RlbC5cclxuXHQgKi9cclxuXHRwdWJsaWMgY2FsY3VsYXRlU3VydmV5U3RhcnRUaW1lRnJvbURhdGUoc29vbmVzdFN0YXJ0VGltZTogRGF0ZSk6IERhdGUge1xyXG5cdFx0Ly8gTm8gYWRqdXN0bWVudCBpbiBiYXNlIGNsYXNzLiAgRGVyaXZlZCBjbGFzc2VzIGNhbiBvdmVycmlkZSBhbmQgaW1wbGVtZW50IGRlbGF5cyBsaWtlIGEgXCJyYW1wXCJcclxuXHRcdHJldHVybiBzb29uZXN0U3RhcnRUaW1lID8gc29vbmVzdFN0YXJ0VGltZSA6IG5ldyBEYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBzdXJ2ZXkgZXhwaXJhdGlvbiB0aW1lLCBiYXNlZCBvbiB0aGUgbm9taW5hdGlvbiBwZXJpb2RzIGFuZCB0aGUgc3VydmV5J3MgYWRqdXN0ZWQgc3RhcnQgdGltZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBjYWxjdWxhdGVTdXJ2ZXlFeHBpcmF0aW9uVGltZUZyb21TdXJ2ZXlTdGFydFRpbWUoc3VydmV5U3RhcnRUaW1lOiBEYXRlKTogRGF0ZSB7XHJcblx0XHRzdXJ2ZXlTdGFydFRpbWUgPSBzdXJ2ZXlTdGFydFRpbWUgPyBzdXJ2ZXlTdGFydFRpbWUgOiBuZXcgRGF0ZSgpO1xyXG5cdFx0cmV0dXJuIFV0aWxzLmFkZFNlY29uZHNXaXRob3V0T3ZlcmZsb3coc3VydmV5U3RhcnRUaW1lLCB0aGlzLmdldEFjdGl2ZVN1cnZleVRpbWVJbnRlcnZhbFNlY29uZHMoKSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBhcHByb3ByaWF0ZSBjYW1wYWlnbiBjb29sIGRvd24gYmFzZWQgb24gd2hldGhlciBvciBub3QgdGhlIHVzZXIgYWN0aXZhdGVkIHRoZSBzdXJ2ZXlcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25Db29sZG93bihkaWRVc2VyQWN0aXZhdGVTdXJ2ZXk6IGJvb2xlYW4pOiBDYW1wYWlnbkR1cmF0aW9uIHtcclxuXHRcdGlmIChkaWRVc2VyQWN0aXZhdGVTdXJ2ZXkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY29vbGRvd25QZXJpb2Q7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5ub21pbmF0aW9uUGVyaW9kO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXZhbHVhdGUgdGhpcyBydWxlIHNldCBiYXNlZCBvbiBhIHJhbmRvbSBudW1iZXJcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgdXNlciBzaG91bGQgYmUgYSBjYW5kaWRhdGUsIGZhbHNlIGlmIHRoZXkgc2hvdWxkIGJlIGFuIGFudGktY2FuZGlkYXRlXHJcblx0ICovXHJcblx0cHVibGljIGFic3RyYWN0IGV2YWx1YXRlTm9taW5hdGlvblJ1bGVzKCk6IGJvb2xlYW47XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLm5vbWluYXRpb25QZXJpb2QpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5jb29sZG93blBlcmlvZCkpIHtcclxuXHRcdFx0dGhpcy5jb29sZG93blBlcmlvZCA9IHRoaXMubm9taW5hdGlvblBlcmlvZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMubm9taW5hdGlvblBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKSkpIHtcclxuXHRcdFx0aWYgKCFpc051bWJlcih0aGlzLmZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzKSB8fCB0aGlzLmZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzIDw9IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBzZXQgb2YgY2FtcGFpZ24gbm9taW5hdGlvbiBydWxlcyB0byBldmFsdWF0ZSBmb3IgaW4tc2NvcGUgY2FtcGFpZ25zOlxyXG4gKiBwZXJjZW50YWdlXHJcbiAqIHJlLWVsZWN0aW9uIGR1cmF0aW9uc1xyXG4gKiBkaXN0cmlidXRpb24gbW9kZWwgKGZvciBcIm5vbWluYXRlZFwiIGNhbmRpZGF0ZXMpXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lUmF0aW9QZXJjZW50YWdlIGV4dGVuZHMgQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWVSYXRpb1BlcmNlbnRhZ2Uge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkRpc3RyaWJ1dGlvbk1vZGVsKSB7XHJcblx0XHRcdHJlc3VsdC5kaXN0cmlidXRpb25Nb2RlbCA9IENhbXBhaWduRGlzdHJpYnV0aW9uLmRlc2VyaWFsaXplKGlucHV0LkRpc3RyaWJ1dGlvbk1vZGVsKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuQ29vbGRvd25QZXJpb2QpIHtcclxuXHRcdFx0cmVzdWx0LmNvb2xkb3duUGVyaW9kID0gQ2FtcGFpZ25EdXJhdGlvbi5kZXNlcmlhbGl6ZShpbnB1dC5Db29sZG93blBlcmlvZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0Lk5vbWluYXRpb25QZXJpb2QpIHtcclxuXHRcdFx0cmVzdWx0Lm5vbWluYXRpb25QZXJpb2QgPSBDYW1wYWlnbkR1cmF0aW9uLmRlc2VyaWFsaXplKGlucHV0Lk5vbWluYXRpb25QZXJpb2QpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5mYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kcyA9IGlucHV0LkZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzO1xyXG5cdFx0cmVzdWx0LnBlcmNlbnRhZ2VEZW5vbWluYXRvciA9IGlucHV0LlBlcmNlbnRhZ2VEZW5vbWluYXRvcjtcclxuXHRcdHJlc3VsdC5wZXJjZW50YWdlTnVtZXJhdG9yID0gaW5wdXQuUGVyY2VudGFnZU51bWVyYXRvcjtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgbnVtZXJhdG9yIHdoZW4gY2FsY3VsYXRpbmcgdGhlIHBlcmNlbnRhZ2Ugb2YgdXNlcnMgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQgYXMgY2FuZGlkYXRlcy4gIE11c3RcclxuXHQvLyBzYXRpc2Z5IDAgPD0gcGVyY2VudGFnZU51bWVyYXRvciA8PSBwZXJjZW50YWdlRGVub21pbmF0b3JcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJQZXJjZW50YWdlTnVtZXJhdG9yXCIpXHJcblx0cHVibGljIHBlcmNlbnRhZ2VOdW1lcmF0b3I6IG51bWJlcjtcclxuXHJcblx0Ly8gVGhlIGRlbm9taW5hdG9yIHdoZW4gY2FsY3VsYXRpbmcgdGhlIHBlcmNlbnRhZ2Ugb2YgdXNlcnMgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQgYXMgY2FuZGlkYXRlcy4gIE11c3QgYmUgZ3JlYXRlciB0aGFuIDAuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUGVyY2VudGFnZURlbm9taW5hdG9yXCIpXHJcblx0cHVibGljIHBlcmNlbnRhZ2VEZW5vbWluYXRvcjogbnVtYmVyO1xyXG5cclxuXHQvLyBOWUkgLSBGb3IgY2FuZGlkYXRlcywgYWxsb3dzIHRoZSBTdXJ2ZXkgc3RhcnQvZW5kIGRhdGVzIHRvIGJlIHNoaWZ0ZWQgZm9yd2FyZCBpbiB0aW1lLCB0byBoZWxwIGFjaGlldmUgYSBzbW9vdGhlciBzaWduYWxcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJEaXN0cmlidXRpb25Nb2RlbFwiKVxyXG5cdHB1YmxpYyBkaXN0cmlidXRpb25Nb2RlbDogQ2FtcGFpZ25EaXN0cmlidXRpb247XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGV2YWx1YXRlTm9taW5hdGlvblJ1bGVzKCk6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3QgcmFuZDogbnVtYmVyID0gTWF0aC5yYW5kb20oKTtcclxuXHRcdC8vIENyZWF0ZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gWzAgdG8gKHBlcmNlbnRhZ2VEZW5vbWluYXRvciAtIDEpXVxyXG5cdFx0Ly8gSW4gcmFuZ2UgWzAgdG8gKHBlcmNlbnRhZ2VEZW5vbWluYXRvciAtIDEpXSBleGFjdGx5ICdwZXJjZW50YWdlTnVtZXJhdG9yJyB2YWx1ZXMgYXJlIDwgcGVyY2VudGFnZU51bWVyYXRvclxyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IocmFuZCAqIHRoaXMucGVyY2VudGFnZURlbm9taW5hdG9yKSA8IHRoaXMucGVyY2VudGFnZU51bWVyYXRvcjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc051bWJlcih0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvcikgfHwgIWlzTnVtYmVyKHRoaXMucGVyY2VudGFnZU51bWVyYXRvcikpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvciA8PSAwIHx8IHRoaXMucGVyY2VudGFnZU51bWVyYXRvciA8IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnBlcmNlbnRhZ2VOdW1lcmF0b3IgPiB0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZGlzdHJpYnV0aW9uIG1vZGVsIG1heSBiZSBudWxsXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBFdmVudCBEZWZpbml0aW9uc1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlFdmVudCB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnblN1cnZleUV2ZW50O1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0c3dpdGNoIChpbnB1dC5UeXBlKSB7XHJcblx0XHRcdGNhc2UgMDpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5LmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSBleHRlbmRzIENhbXBhaWduU3VydmV5RXZlbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3Rpdml0eSA9IGlucHV0LkFjdGl2aXR5O1xyXG5cdFx0cmVzdWx0LmNvdW50ID0gaW5wdXQuQ291bnQ7XHJcblx0XHRyZXN1bHQuaXNBZ2dyZWdhdGUgPSBpbnB1dC5Jc0FnZ3JlZ2F0ZTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJBY3Rpdml0eVwiKVxyXG5cdHB1YmxpYyBhY3Rpdml0eTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDb3VudFwiKVxyXG5cdHB1YmxpYyBjb3VudDogbnVtYmVyO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJc0FnZ3JlZ2F0ZVwiKVxyXG5cdHB1YmxpYyBpc0FnZ3JlZ2F0ZTogYm9vbGVhbjtcclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuYWN0aXZpdHkpIHx8ICFpc1N0cmluZyh0aGlzLmFjdGl2aXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc051bWJlcih0aGlzLmNvdW50KSB8fCB0aGlzLmNvdW50IDw9IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNCb29sZWFuKHRoaXMuaXNBZ2dyZWdhdGUpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UgZXh0ZW5kcyBDYW1wYWlnblN1cnZleUV2ZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2Uge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSgpO1xyXG5cdFx0bGV0IHNlcXVlbmNlOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5W10gPSBbXTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIGlucHV0LlNlcXVlbmNlKSB7XHJcblx0XHRcdGlmIChpbnB1dC5TZXF1ZW5jZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVhZEFjdGl2aXR5OiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5ID0gaW5wdXQuU2VxdWVuY2Vba2V5XTtcclxuXHJcblx0XHRcdFx0aWYgKHJlYWRBY3Rpdml0eSkge1xyXG5cdFx0XHRcdFx0c2VxdWVuY2UucHVzaChDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5LmRlc2VyaWFsaXplKHJlYWRBY3Rpdml0eSkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzZXF1ZW5jZS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0c2VxdWVuY2UgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5zZXF1ZW5jZSA9IHNlcXVlbmNlO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlNlcXVlbmNlXCIpXHJcblx0cHVibGljIHNlcXVlbmNlOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5W107XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLnNlcXVlbmNlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5zZXF1ZW5jZSkge1xyXG5cdFx0XHRpZiAodGhpcy5zZXF1ZW5jZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF0aGlzLnNlcXVlbmNlW2tleV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBDb250ZW50IERlZmluaXRpb25zXHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnksIG9wdGlvbmFsQ29tcG9uZW50cz86IGJvb2xlYW4pOiBDYW1wYWlnblN1cnZleUNvbnRlbnQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LnByb21wdCA9IENhbXBhaWduU3VydmV5Q29udGVudFByb21wdC5kZXNlcmlhbGl6ZShpbnB1dC5Qcm9tcHQpO1xyXG5cdFx0cmVzdWx0LnJhdGluZyA9IENhbXBhaWduU3VydmV5Q29udGVudFJhdGluZy5kZXNlcmlhbGl6ZShpbnB1dC5SYXRpbmcpO1xyXG5cdFx0cmVzdWx0LmNvbW1lbnQgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50LmRlc2VyaWFsaXplKGlucHV0LlF1ZXN0aW9uKTtcclxuXHRcdHJlc3VsdC5tdWx0aXBsZUNob2ljZSA9IENhbXBhaWduU3VydmV5Q29udGVudE11bHRpcGxlQ2hvaWNlLmRlc2VyaWFsaXplKGlucHV0Lk11bHRpcGxlQ2hvaWNlKTtcclxuXHRcdHJlc3VsdC5pbnRlcmNlcHQgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRJbnRlcmNlcHQuZGVzZXJpYWxpemUoaW5wdXQuSW50ZXJjZXB0KTtcclxuXHRcdHJlc3VsdC5jdlN1cnZleSA9IENhbXBhaWduU3VydmV5Q29udGVudENWU3VydmV5LmRlc2VyaWFsaXplKGlucHV0LkNWU3VydmV5UGFyYW1zKTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZShvcHRpb25hbENvbXBvbmVudHMpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDVlN1cnZleVwiKVxyXG5cdHB1YmxpYyBjdlN1cnZleTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q1ZTdXJ2ZXk7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlByb21wdFwiKVxyXG5cdHB1YmxpYyBwcm9tcHQ6IENhbXBhaWduU3VydmV5Q29udGVudFByb21wdDtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUmF0aW5nXCIpXHJcblx0cHVibGljIHJhdGluZzogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UmF0aW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdHB1YmxpYyBjb21tZW50OiBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50O1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNdWx0aXBsZUNob2ljZVwiKVxyXG5cdHB1YmxpYyBtdWx0aXBsZUNob2ljZTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50TXVsdGlwbGVDaG9pY2U7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkludGVyY2VwdFwiKVxyXG5cdHB1YmxpYyBpbnRlcmNlcHQ6IENhbXBhaWduU3VydmV5Q29udGVudEludGVyY2VwdDtcclxuXHJcblx0cHVibGljIHZhbGlkYXRlKG9wdGlvbmFsQ29tcG9uZW50cz86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICghaXNOT1UodGhpcy5pbnRlcmNlcHQpKSB7XHJcblx0XHRcdC8vIEFuIGludGVyY2VwdCBzdXJ2ZXkgb25seSByZXF1aXJlcyBpbnRlcmNlcHQuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLnByb21wdCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvcHRpb25hbENvbXBvbmVudHMpIHtcclxuXHRcdFx0cmV0dXJuICFpc05PVSh0aGlzLnJhdGluZykgfHxcclxuXHRcdFx0XHQhaXNOT1UodGhpcy5tdWx0aXBsZUNob2ljZSkgfHxcclxuXHRcdFx0XHQhaXNOT1UodGhpcy5jb21tZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gIWlzTk9VKHRoaXMucmF0aW5nKSAmJiAhaXNOT1UodGhpcy5jb21tZW50KTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRNdWx0aXBsZUNob2ljZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50TXVsdGlwbGVDaG9pY2Uge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudE11bHRpcGxlQ2hvaWNlKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQucXVlc3Rpb24gPSBpbnB1dC5RdWVzdGlvbjtcclxuXHRcdHJlc3VsdC5hdmFpbGFibGVPcHRpb25zID0gaW5wdXQuQXZhaWxhYmxlT3B0aW9ucztcclxuXHRcdHJlc3VsdC5taW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9ucyA9IGlucHV0Lk1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdFx0cmVzdWx0Lm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zID0gaW5wdXQuTWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQXZhaWxhYmxlT3B0aW9uc1wiKVxyXG5cdHB1YmxpYyBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnNcIilcclxuXHRwdWJsaWMgbWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnNcIilcclxuXHRwdWJsaWMgbWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM6IG51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLnF1ZXN0aW9uKSB8fCAhaXNTdHJpbmcodGhpcy5xdWVzdGlvbikgfHxcclxuXHRcdFx0aXNOT1UodGhpcy5hdmFpbGFibGVPcHRpb25zKSB8fCAhQXJyYXkuaXNBcnJheSh0aGlzLmF2YWlsYWJsZU9wdGlvbnMpIHx8IHRoaXMuYXZhaWxhYmxlT3B0aW9ucy5sZW5ndGggPCAyIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMubWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMpIHx8ICFpc051bWJlcih0aGlzLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zKSB8fCAhaXNOdW1iZXIodGhpcy5tYXhOdW1iZXJPZlNlbGVjdGVkT3B0aW9ucykpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBleHBlY3QgYWxsIGF2YWlsYWJsZU9wdGlvbnMgdmFsdWVzIHRvIGJlIHN0cmluZ1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5hdmFpbGFibGVPcHRpb25zKSB7XHJcblx0XHRcdGlmICh0aGlzLmF2YWlsYWJsZU9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGlmICghaXNTdHJpbmcodGhpcy5hdmFpbGFibGVPcHRpb25zW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRDVlN1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q1ZTdXJ2ZXkge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudENWU3VydmV5KCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuY3VzdG9tZXJWb2ljZUZvcm1JZCA9IGlucHV0LkN1c3RvbWVyVm9pY2VGb3JtSWQ7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRm9ybUlkXCIpXHJcblx0cHVibGljIGN1c3RvbWVyVm9pY2VGb3JtSWQ6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHJcblx0XHRyZXR1cm4gKCFpc05PVSh0aGlzLmN1c3RvbWVyVm9pY2VGb3JtSWQpICYmIGlzU3RyaW5nKHRoaXMuY3VzdG9tZXJWb2ljZUZvcm1JZCkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5Q29udGVudFByb21wdCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UHJvbXB0IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUNvbnRlbnRQcm9tcHQoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC50aXRsZSA9IGlucHV0LlRpdGxlO1xyXG5cdFx0cmVzdWx0LnF1ZXN0aW9uID0gaW5wdXQuUXVlc3Rpb247XHJcblx0XHRyZXN1bHQueWVzTGFiZWwgPSBpbnB1dC5ZZXNMYWJlbDtcclxuXHRcdHJlc3VsdC5ub0xhYmVsID0gaW5wdXQuTm9MYWJlbDtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJUaXRsZVwiKVxyXG5cdHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJZZXNMYWJlbFwiKVxyXG5cdHB1YmxpYyB5ZXNMYWJlbDogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJOb0xhYmVsXCIpXHJcblx0cHVibGljIG5vTGFiZWw6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLnRpdGxlKSB8fCAhaXNTdHJpbmcodGhpcy50aXRsZSkgfHxcclxuXHRcdFx0aXNOT1UodGhpcy5xdWVzdGlvbikgfHwgIWlzU3RyaW5nKHRoaXMucXVlc3Rpb24pIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMueWVzTGFiZWwpIHx8ICFpc1N0cmluZyh0aGlzLnllc0xhYmVsKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLm5vTGFiZWwpIHx8ICFpc1N0cmluZyh0aGlzLm5vTGFiZWwpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50SW50ZXJjZXB0IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUNvbnRlbnRJbnRlcmNlcHQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudEludGVyY2VwdCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LnRpdGxlID0gaW5wdXQuVGl0bGU7XHJcblx0XHRyZXN1bHQucXVlc3Rpb24gPSBpbnB1dC5RdWVzdGlvbjtcclxuXHRcdHJlc3VsdC51cmwgPSBpbnB1dC5Vcmw7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVGl0bGVcIilcclxuXHRwdWJsaWMgdGl0bGU6IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVXJsXCIpXHJcblx0cHVibGljIHVybDogc3RyaW5nO1xyXG5cclxuXHRwcml2YXRlIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMudGl0bGUpIHx8ICFpc1N0cmluZyh0aGlzLnRpdGxlKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLnF1ZXN0aW9uKSB8fCAhaXNTdHJpbmcodGhpcy5xdWVzdGlvbikgfHxcclxuXHRcdFx0aXNOT1UodGhpcy51cmwpIHx8ICFpc1N0cmluZyh0aGlzLnVybCkpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRSYXRpbmcge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5Q29udGVudFJhdGluZyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UmF0aW5nKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuaXNaZXJvQmFzZWQgPSBpbnB1dC5Jc1plcm9CYXNlZDtcclxuXHRcdHJlc3VsdC5xdWVzdGlvbiA9IGlucHV0LlF1ZXN0aW9uO1xyXG5cdFx0cmVzdWx0LnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IGlucHV0LlJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJc1plcm9CYXNlZFwiKVxyXG5cdHB1YmxpYyBpc1plcm9CYXNlZDogYm9vbGVhbjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUmF0aW5nVmFsdWVzQXNjZW5kaW5nXCIpXHJcblx0cHVibGljIHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW107XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHQvLyBleHBlY3QgcmF0aW5nVmFsdWVzQXNjZW5kaW5nIHRvIGNvbnRhaW4gYmV0d2VlbiAyIHRvIDExIHZhbHVlc1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMucXVlc3Rpb24pIHx8ICFpc1N0cmluZyh0aGlzLnF1ZXN0aW9uKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykgfHwgIUFycmF5LmlzQXJyYXkodGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpIHx8XHJcblx0XHRcdHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmxlbmd0aCA8IDIgfHwgdGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoID4gMTEpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5pc1plcm9CYXNlZCkpIHtcclxuXHRcdFx0Ly8gZGVmYXVsdCB0byBmYWxzZSBpZiBub3QgcHJvdmlkZWRcclxuXHRcdFx0dGhpcy5pc1plcm9CYXNlZCA9IGZhbHNlO1xyXG5cdFx0fSBlbHNlIGlmICghaXNCb29sZWFuKHRoaXMuaXNaZXJvQmFzZWQpKSB7XHJcblx0XHRcdC8vIGZhaWwgdmFsaWRhdGlvbiBpZiBub24gYm9vbGVhbiB2YWx1ZSBpcyBwcm92aWRlZFxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZXhwZWN0IGFsbCByYXRpbmdWYWx1ZXNBc2NlbmRpbmcgdmFsdWVzIHRvIGJlIHN0cmluZ1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpIHtcclxuXHRcdFx0aWYgKHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRpZiAoIWlzU3RyaW5nKHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRcdHJlc3VsdC5xdWVzdGlvbiA9IGlucHV0LlF1ZXN0aW9uO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlF1ZXN0aW9uXCIpXHJcblx0cHVibGljIHF1ZXN0aW9uOiBzdHJpbmc7XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5xdWVzdGlvbikgfHwgIWlzU3RyaW5nKHRoaXMucXVlc3Rpb24pKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBNZXRhZGF0YSBEZWZpbml0aW9uc1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5TWV0YWRhdGEge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSgpO1xyXG5cdFx0cmVzdWx0LmNvbnRlbnRNZXRhZGF0YSA9IGlucHV0LkNvbnRlbnRNZXRhZGF0YTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDb250ZW50TWV0YWRhdGFcIilcclxuXHRwdWJsaWMgY29udGVudE1ldGFkYXRhOiBvYmplY3Q7XHJcblxyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmNvbnRlbnRNZXRhZGF0YSkgfHwgIVV0aWxzLmlzT2JqZWN0KHRoaXMuY29udGVudE1ldGFkYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBTdXJ2ZXkgVGVtcGxhdGUgZGVmaW5pdGlvbnNcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduU3VydmV5VGVtcGxhdGU7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKGlucHV0LlR5cGUpIHtcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLlR5cGUuTnBzNVBvaW50U3RhdGljOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHM1UG9pbnRTdGF0aWMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5OcHMxMVBvaW50U3RhdGljOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLlR5cGUuRnBzOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5ObHFzOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVObHFzLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLlR5cGUuTnBzOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5HZW5lcmljTWVzc2FnaW5nU3VyZmFjZTpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5JbnRlcmNlcHQ6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUludGVyY2VwdC5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHJlc3VsdCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkFjdGl2YXRpb25FdmVudFwiKVxyXG5cdHB1YmxpYyBhY3RpdmF0aW9uRXZlbnQ6IENhbXBhaWduU3VydmV5RXZlbnQ7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNvbnRlbnRcIilcclxuXHRwdWJsaWMgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50O1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNZXRhZGF0YVwiKVxyXG5cdHB1YmxpYyBtZXRhZGF0YTogQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4TGF1bmNoZXNcIilcclxuXHRwdWJsaWMgbWF4TGF1bmNoZXM6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4TGF1bmNoZXNQZXJTZXNzaW9uXCIpXHJcblx0cHVibGljIG1heExhdW5jaGVzUGVyU2Vzc2lvbjogbnVtYmVyO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJQcmVmZXJyZWRMYXVuY2hUeXBlXCIpXHJcblx0cHVibGljIHByZWZlcnJlZExhdW5jaFR5cGU6IElTdXJ2ZXlJbmZvLkxhdW5jaFR5cGU7XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5hY3RpdmF0aW9uRXZlbnQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBtb2R1bGUgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gVHlwZSB7XHJcblx0XHROcHM1UG9pbnRTdGF0aWMgPSAwLFxyXG5cdFx0TnBzMTFQb2ludFN0YXRpYyA9IDEsXHJcblx0XHRGcHMgPSAyLFxyXG5cdFx0TmxxcyA9IDMsXHJcblx0XHROcHMgPSA0LFxyXG5cdFx0SW50ZXJjZXB0ID0gNSxcclxuXHRcdC8vIEEgZ2VuZXJpYyBtZXNzYWdpYmcgc3VyZmFjZSB0ZW1wbGF0ZSB0eXBlLCB3aGljaCB3aWxsIG1ha2UgdXNlIG9mXHJcblx0XHQvLyBjb250ZW50IG1ldGFkYXRhIHRvIHJlbmRlciB1aS5cclxuXHRcdC8vIEFzIG9mIDR0aCBGZWIgMjAxOSB0aGVyZSBhcmUgMjAgdGVtcGxhdGUgdHlwZXMgZGVmaW5lZCBpbiBNc28sXHJcblx0XHQvLyBoZW5jZSBnaXZpbmcgMjIgYXMgdmFsdWUgZm9yIHRoaXMgdHlwZS5cclxuXHRcdEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlID0gMjIsXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQuY29udGVudCA9IENhbXBhaWduU3VydmV5Q29udGVudC5kZXNlcmlhbGl6ZShpbnB1dC5Db250ZW50LCB0cnVlIC8qIG9wdGlvbmFsQ29tcG9uZW50cyAqLyk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSB8fCBpc05PVSh0aGlzLmNvbnRlbnQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVObHFzIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcygpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LmFjdGl2YXRpb25FdmVudCA9IENhbXBhaWduU3VydmV5RXZlbnQuZGVzZXJpYWxpemUoaW5wdXQuQWN0aXZhdGlvbkV2ZW50KTtcclxuXHRcdHJlc3VsdC5jb250ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50LmRlc2VyaWFsaXplKGlucHV0LkNvbnRlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkgfHwgaXNOT1UodGhpcy5jb250ZW50KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wcyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQuY29udGVudCA9IENhbXBhaWduU3VydmV5Q29udGVudC5kZXNlcmlhbGl6ZShpbnB1dC5Db250ZW50KTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpIHx8IGlzTk9VKHRoaXMuY29udGVudCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHM1UG9pbnRTdGF0aWMgZXh0ZW5kcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljIGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UgZXh0ZW5kcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2Uge1xyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlKCk7XHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cdFx0cmVzdWx0Lm1ldGFkYXRhID0gQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YS5kZXNlcmlhbGl6ZShpbnB1dC5NZXRhZGF0YSk7XHJcblx0XHRyZXN1bHQubWF4TGF1bmNoZXMgPSBpbnB1dC5NYXhMYXVuY2hlcztcclxuXHRcdHJlc3VsdC5tYXhMYXVuY2hlc1BlclNlc3Npb24gPSBpbnB1dC5NYXhMYXVuY2hlc1BlclNlc3Npb247XHJcblx0XHRyZXN1bHQucHJlZmVycmVkTGF1bmNoVHlwZSA9IGlucHV0LlByZWZlcnJlZExhdW5jaFR5cGU7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSB8fCBpc05PVSh0aGlzLm1ldGFkYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCghaXNOT1UodGhpcy5tYXhMYXVuY2hlcykgJiYgKCFpc051bWJlcih0aGlzLm1heExhdW5jaGVzKSB8fCB0aGlzLm1heExhdW5jaGVzIDw9IDApKSB8fFxyXG5cdFx0XHQoIWlzTk9VKHRoaXMubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSAmJiAoIWlzTnVtYmVyKHRoaXMubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSB8fCB0aGlzLm1heExhdW5jaGVzUGVyU2Vzc2lvbiA8PSAwKSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19Mb2NhbEVycm9yKFwiSW52YWxpZCBNdWx0aSBMYXVuY2ggc2V0dGluZ3NcIiwgdGhpcy5tYXhMYXVuY2hlcywgdGhpcy5tYXhMYXVuY2hlc1BlclNlc3Npb24pO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgZm9yIHZhbGlkIHZhbHVlc1xyXG5cdFx0aWYgKGlzTnVtYmVyKHRoaXMubWF4TGF1bmNoZXMpICYmXHJcblx0XHRcdGlzTnVtYmVyKHRoaXMubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSAmJlxyXG5cdFx0XHR0aGlzLm1heExhdW5jaGVzUGVyU2Vzc2lvbiA+IHRoaXMubWF4TGF1bmNoZXMpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19Mb2NhbEVycm9yKFwiSW52YWxpZCBNdWx0aSBsYXVuY2ggc2V0dGluZ3NcIiwgdGhpcy5tYXhMYXVuY2hlcywgdGhpcy5tYXhMYXVuY2hlc1BlclNlc3Npb24pO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc05PVSh0aGlzLnByZWZlcnJlZExhdW5jaFR5cGUpICYmICFpc1N0cmluZyh0aGlzLnByZWZlcnJlZExhdW5jaFR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfTG9jYWxFcnJvcihcIkludmFsaWQgbGF1bmNoZXIgdHlwZVwiLCB0aGlzLnByZWZlcnJlZExhdW5jaFR5cGUpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUludGVyY2VwdCBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQuY29udGVudCA9IENhbXBhaWduU3VydmV5Q29udGVudC5kZXNlcmlhbGl6ZShpbnB1dC5Db250ZW50KTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpIHx8IGlzTk9VKHRoaXMuY29udGVudCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vLyByZWdpb24gQ2FtcGFpZ24gRGVmaW5pdGlvblxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRGVmaW5pdGlvbiB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgcmVzdWx0IG9mIHZhbGlkYXRpb24gY2hlY2tcclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkRlZmluaXRpb24ge1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBDYW1wYWlnbkRlZmluaXRpb24gPSBuZXcgQ2FtcGFpZ25EZWZpbml0aW9uKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuY2FtcGFpZ25JZCA9IGlucHV0LkNhbXBhaWduSWQ7XHJcblx0XHRyZXN1bHQuZ292ZXJuZWRDaGFubmVsVHlwZSA9IGlucHV0LkdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0XHRyZXN1bHQuc3RhcnRUaW1lID0gaW5wdXQuU3RhcnRUaW1lVXRjO1xyXG5cdFx0cmVzdWx0LmVuZFRpbWUgPSBpbnB1dC5FbmRUaW1lVXRjO1xyXG5cdFx0cmVzdWx0LmxhdW5jaGVyVHlwZSA9IGlucHV0LkxhdW5jaGVyVHlwZTtcclxuXHRcdHJlc3VsdC5wcmltYXJ5UHJpb3JpdHkgPSBpbnB1dC5QcmltYXJ5UHJpb3JpdHk7XHJcblx0XHRyZXN1bHQudGFncyA9IGlucHV0LlRhZ3M7XHJcblxyXG5cdFx0Y29uc3QgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQ6IENhbXBhaWduQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgPSBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkLmRlc2VyaWFsaXplKFxyXG5cdFx0XHRpbnB1dC5BZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCk7XHJcblx0XHRyZXN1bHQuYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgPSBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCA/IGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkLmFkZGl0aW9uYWxEYXRhIDogW107XHJcblxyXG5cdFx0aWYgKGlucHV0LlN1cnZleVRlbXBsYXRlKSB7XHJcblx0XHRcdHJlc3VsdC5zdXJ2ZXlUZW1wbGF0ZSA9IENhbXBhaWduU3VydmV5VGVtcGxhdGUuZGVzZXJpYWxpemUoaW5wdXQuU3VydmV5VGVtcGxhdGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC5Ob21pbmF0aW9uU2NoZW1lKSB7XHJcblx0XHRcdHJlc3VsdC5ub21pbmF0aW9uU2NoZW1lID0gQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lLmRlc2VyaWFsaXplKGlucHV0Lk5vbWluYXRpb25TY2hlbWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC5TY29wZSkge1xyXG5cdFx0XHRyZXN1bHQuc2NvcGUgPSBDYW1wYWlnblNjb3BlLmRlc2VyaWFsaXplKGlucHV0LlNjb3BlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTk9VKGlucHV0LkJ1c2luZXNzTGV2ZWwpKSB7XHJcblx0XHRcdHJlc3VsdC5idXNpbmVzc0xldmVsID0gaW5wdXQuQnVzaW5lc3NMZXZlbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfTG9jYWxFcnJvcihcIkludmFsaWQgZGVmaW5pdGlvblwiLCBpbnB1dCk7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDYW1wYWlnbklkXCIpXHJcblx0cHVibGljIGNhbXBhaWduSWQ6IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiR292ZXJuZWRDaGFubmVsVHlwZVwiKVxyXG5cdHB1YmxpYyBnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJTY29wZVwiKVxyXG5cdHB1YmxpYyBzY29wZTogQ2FtcGFpZ25TY29wZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTm9taW5hdGlvblNjaGVtZVwiKVxyXG5cdHB1YmxpYyBub21pbmF0aW9uU2NoZW1lOiBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWU7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlN1cnZleVRlbXBsYXRlXCIpXHJcblx0cHVibGljIHN1cnZleVRlbXBsYXRlOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJTdGFydFRpbWVVdGNcIilcclxuXHRwdWJsaWMgc3RhcnRUaW1lOiBEYXRlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJFbmRUaW1lVXRjXCIpXHJcblx0cHVibGljIGVuZFRpbWU6IERhdGU7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkXCIpXHJcblx0cHVibGljIGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkOiBJU3VydmV5SW5mby5BZGRpdGlvbmFsRGF0YVR5cGVbXTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGF1bmNoZXJUeXBlXCIpXHJcblx0cHVibGljIGxhdW5jaGVyVHlwZTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJQcmlvcml0eVwiKVxyXG5cdHB1YmxpYyBwcmltYXJ5UHJpb3JpdHk6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVGFnc1wiKVxyXG5cdHB1YmxpYyB0YWdzOiBzdHJpbmdbXTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQnVzaW5lc3NMZXZlbFwiKVxyXG5cdHB1YmxpYyBidXNpbmVzc0xldmVsOiBCdXNpbmVzc0xldmVsO1xyXG5cclxuXHRwdWJsaWMgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5zY29wZSkpIHtcclxuXHRcdFx0dGhpcy5zY29wZSA9IG5ldyBDYW1wYWlnblNjb3BlQW55KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuY2FtcGFpZ25JZCkgfHwgIWlzU3RyaW5nKHRoaXMuY2FtcGFpZ25JZCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5nb3Zlcm5lZENoYW5uZWxUeXBlKSB8fCAhVXRpbHMuaXNFbnVtVmFsdWUodGhpcy5nb3Zlcm5lZENoYW5uZWxUeXBlLCBHb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMubm9taW5hdGlvblNjaGVtZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLnN1cnZleVRlbXBsYXRlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc05PVSh0aGlzLmxhdW5jaGVyVHlwZSkgJiYgIWlzU3RyaW5nKHRoaXMubGF1bmNoZXJUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMubGF1bmNoZXJUeXBlID09PSBcImN1c3RvbWVydm9pY2VcIiAmJiBpc05PVSh0aGlzLnN1cnZleVRlbXBsYXRlLmNvbnRlbnQ/LmN2U3VydmV5Py5jdXN0b21lclZvaWNlRm9ybUlkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc05PVSh0aGlzLnByaW1hcnlQcmlvcml0eSkgJiYgIWlzTnVtYmVyKHRoaXMucHJpbWFyeVByaW9yaXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMudGFncyAmJiAhQXJyYXkuaXNBcnJheSh0aGlzLnRhZ3MpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDYW1wYWlnbnMgd2l0aCBubyBzdGFydCBkYXRlIGFyZSBlZmZlY3RpdmVseSBkaXNhYmxlZCwgaW4gZmFjdCwgdGhpcyBpcyB0aGUgc3VwcG9ydGVkIHdheSB0byBzdGFnZSBhIGRlZmluaXRpb24gYnV0IGhhdmUgaXQgYmUgdHVybmVkIG9mZlxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuc3RhcnRUaW1lKSkge1xyXG5cdFx0XHR0aGlzLnN0YXJ0VGltZSA9IGdldERpc3RhbnRGdXR1cmUoKTtcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLnN0YXJ0VGltZSkpIHtcclxuXHRcdFx0dGhpcy5zdGFydFRpbWUgPSBzdHJpbmdUb0RhdGUodGhpcy5zdGFydFRpbWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbXBhaWducyB3aXRoIG5vIGVuZCBkYXRlIGFyZSBlZmZlY3RpdmVseSBvbiBpbmRlZmluaXRlbHlcclxuXHRcdGlmIChpc05PVSh0aGlzLmVuZFRpbWUpIHx8XHJcblx0XHRcdCh0eXBlb2YodGhpcy5lbmRUaW1lKSA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzLmVuZFRpbWUgPT09IFwiXCIpKSB7XHJcblx0XHRcdHRoaXMuZW5kVGltZSA9IGdldERpc3RhbnRGdXR1cmUoKTtcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLmVuZFRpbWUpKSB7XHJcblx0XHRcdHRoaXMuZW5kVGltZSA9IHN0cmluZ1RvRGF0ZSh0aGlzLmVuZFRpbWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGNhbXBhaWduIGRlZmluaXRpb25zLCByZXR1cm5zIHRoZSB2YWxpZCBvbmVzIGFuZCBlcnJvcnMgaWYgYW55IGFyZSBpbnZhbGlkLlxyXG4gKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcbiAqIFJldHVybnMgdGhlIHZhbGlkIGRlZmluaXRpb25zIGFuZCB0aGUgZXJyb3IgYXMgc3RyaW5nIGlmIGFueS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXJWYWxpZENhbXBhaWduRGVmaW5pdGlvbnMoY2FtcGFpZ25EZWZpbml0aW9uczogYW55KTogeyByZXN1bHQ6IENhbXBhaWduRGVmaW5pdGlvbltdLCBlcnJvcjogc3RyaW5nIH0ge1xyXG5cdGNvbnN0IHJlc3VsdDogQ2FtcGFpZ25EZWZpbml0aW9uW10gPSBbXTtcclxuXHJcblx0aWYgKGlzTk9VKGNhbXBhaWduRGVmaW5pdGlvbnMpKSB7XHJcblx0XHRyZXR1cm4geyByZXN1bHQsIGVycm9yOiBcIkVtcHR5XCIgfTtcclxuXHR9XHJcblxyXG5cdGlmICghQXJyYXkuaXNBcnJheShjYW1wYWlnbkRlZmluaXRpb25zKSkge1xyXG5cdFx0cmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogXCJOb3QgYW4gYXJyYXlcIiB9O1xyXG5cdH1cclxuXHJcblx0Y29uc3QgYmFkSW5kZXhlczogbnVtYmVyW10gPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNhbXBhaWduRGVmaW5pdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGNvbnN0IGRlZmluaXRpb246IGFueSA9IGNhbXBhaWduRGVmaW5pdGlvbnNbaV07XHJcblxyXG5cdFx0aWYgKGRlZmluaXRpb24pIHtcclxuXHRcdFx0Y29uc3QgbmV3RGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uID0gQ2FtcGFpZ25EZWZpbml0aW9uLmRlc2VyaWFsaXplKGRlZmluaXRpb24pO1xyXG5cclxuXHRcdFx0bmV3RGVmaW5pdGlvblxyXG5cdFx0XHRcdD8gcmVzdWx0LnB1c2gobmV3RGVmaW5pdGlvbilcclxuXHRcdFx0XHQ6IGJhZEluZGV4ZXMucHVzaChpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJhZEluZGV4ZXMucHVzaChpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IGVycm9yOiBzdHJpbmcgPSBiYWRJbmRleGVzLmxlbmd0aCA+IDAgPyBcIkludmFsaWQgY2FtcGFpZ24gZGVmaW5pdGlvbnMgYXQgaW5kZXhlczogXCIgKyBiYWRJbmRleGVzLnRvU3RyaW5nKCkgOiB1bmRlZmluZWQ7XHJcblx0cmV0dXJuIHsgcmVzdWx0LCBlcnJvciB9O1xyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIHtcclxuXHRsb2FkKCk6IENhbXBhaWduRGVmaW5pdGlvbltdO1xyXG5cdGxvYWRBc3luYygpOiBQcm9taXNlPENhbXBhaWduRGVmaW5pdGlvbltdPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVTeXN0ZW1DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB7XHJcblx0cHJpdmF0ZSBzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0aWYgKGlzTk9VKHN0b3JhZ2UpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvYWQoKTogQ2FtcGFpZ25EZWZpbml0aW9uW10ge1xyXG5cdFx0Y29uc3QgZGVmaW5pdGlvblN0cmluZzogc3RyaW5nID0gdGhpcy5zdG9yYWdlLnJlYWQoSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZS5DYW1wYWlnbkRlZmluaXRpb25zKTtcclxuXHRcdGlmIChpc05PVShkZWZpbml0aW9uU3RyaW5nKSkge1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHJlYWREZWZpbml0aW9uczogYW55O1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlYWREZWZpbml0aW9ucyA9IEpTT04ucGFyc2UoZGVmaW5pdGlvblN0cmluZyk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfQ2FtcGFpZ25Mb2FkX0ZhaWxlZChlLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVGhpcyBpZ25vcmVzIGVycm9ycyBpbiB2YWxpZGF0aW9uIGZvciBub3cuXHJcblx0XHRyZXR1cm4gRmlsdGVyVmFsaWRDYW1wYWlnbkRlZmluaXRpb25zKHJlYWREZWZpbml0aW9ucykucmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvYWRBc3luYygpOiBQcm9taXNlPENhbXBhaWduRGVmaW5pdGlvbltdPiB7XHJcblx0XHRjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMubG9hZCgpO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKFxyXG5cdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXNvbHZlLCByZWplY3QpIHtcclxuXHRcdFx0XHRyZXNvbHZlKGRlZmluaXRpb25zKTtcclxuXHRcdFx0fSxcclxuXHRcdCk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignManager.js":
/*!*************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignManager.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CampaignManager = void 0;\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nvar CampaignStateProvider_1 = __webpack_require__(/*! ./CampaignStateProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\");\nvar CampaignSurveyFactory_1 = __webpack_require__(/*! ./CampaignSurveyFactory */ \"../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js\");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar ISurveyInfo_1 = __webpack_require__(/*! ../ISurveyInfo */ \"../FloodgateCore/dist/src/ISurveyInfo.js\");\nvar getDistantFuture = Utils.getDistantFuture, getDistantPast = Utils.getDistantPast, isArray = Utils.isArray, isNOU = Utils.isNOU;\n/**\n * The standard campaign manager implementation.\n */\nvar CampaignManager = /** @class */ (function () {\n    function CampaignManager(stateProvider, definitionProviders, stringProvider, environmentProvider, currentBuildNumber, currentDate, userFactsProvider) {\n        if (!stateProvider) {\n            throw new Error(\"stateProvider must not be null\");\n        }\n        if (!isArray(definitionProviders)) {\n            throw new Error(\"definitionProviders is either null or not an array type\");\n        }\n        if (!stringProvider) {\n            throw new Error(\"stringProvider must not be null\");\n        }\n        if (isNOU(currentBuildNumber)) {\n            throw new Error(\"currentBuildNumber must not be null\");\n        }\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        this.stateProvider = stateProvider;\n        this.definitionProviders = definitionProviders;\n        this.stringProvider = stringProvider;\n        this.userFactsProvider = userFactsProvider;\n        this.environmentProvider = environmentProvider; // Can be null\n        this.currentBuildNumber = currentBuildNumber;\n        currentDate = currentDate ? currentDate : new Date();\n    }\n    CampaignManager.isStateUpForNomination = function (state, definition, date, buildNumber) {\n        if (!state || !definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        // Check manual override\n        if (state.ForceCandidacy) {\n            return true;\n        }\n        // Figure out which duration we're using based on whether or not the user triggered the survey\n        var campaignCooldownDuration = definition.nominationScheme.getCampaignCooldown(state.IsCandidate && state.DidCandidateTriggerSurvey);\n        if (!campaignCooldownDuration) {\n            return false;\n        }\n        // First check for build-based rules. Eventually this could get more complex if we supported counting differently seen build numbers\n        if (CampaignManager.hasBuildChangeDurationElapsed(campaignCooldownDuration, state.LastNominationBuildNumber, buildNumber)) {\n            return true;\n        }\n        // Next check date rules\n        return CampaignManager.hasTimeIntervalDurationElapsed(campaignCooldownDuration, state.getCooldownStartDate(), date);\n    };\n    CampaignManager.isDateInRange = function (date, startDate, endDate) {\n        date = date ? date : new Date();\n        startDate = startDate ? startDate : getDistantPast();\n        endDate = endDate ? endDate : getDistantFuture();\n        // Check Start/Expire date range\n        if (startDate.getTime() <= date.getTime() && endDate.getTime() >= date.getTime()) {\n            return true;\n        }\n        return false;\n    };\n    CampaignManager.hasTimeIntervalDurationElapsed = function (duration, startDate, date) {\n        if (isNOU(duration) || !(duration instanceof CampaignDefinitionProvider_1.CampaignDurationTimeInterval)) {\n            return false;\n        }\n        if (!startDate || !date) {\n            return false;\n        }\n        var endDate = Utils.addSecondsWithoutOverflow(startDate, duration.intervalSeconds);\n        return date.getTime() >= endDate.getTime();\n    };\n    CampaignManager.hasBuildChangeDurationElapsed = function (duration, startBuild, build) {\n        if (isNOU(duration) || !(duration instanceof CampaignDefinitionProvider_1.CampaignDurationSingleBuildChange)) {\n            return false;\n        }\n        if (isNOU(startBuild) || isNOU(build)) {\n            return (startBuild === null) !== (build === null);\n        }\n        return !(startBuild === build);\n    };\n    CampaignManager.isCampaignInScope = function (definition, date, environmentProvider, userFactsProvider) {\n        if (!definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        // Check Start/Expire date range\n        if (!CampaignManager.isDateInRangeWithDefinition(date, definition)) {\n            return false;\n        }\n        if (definition.scope) {\n            if (definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeUserFactAny || definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeUserFactAll) {\n                definition.scope.setUserFactsProvider(userFactsProvider);\n            }\n            if (definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeEnvironmentCrossProduct) {\n                definition.scope.setEnvironmentProvider(environmentProvider);\n            }\n            if (!definition.scope.isInScope()) {\n                return false;\n            }\n        }\n        // If we get here, the definition is relevant\n        return true;\n    };\n    CampaignManager.isDateInRangeWithDefinition = function (date, definition) {\n        if (!definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        return CampaignManager.isDateInRange(date, \n        // null start dates should be impossible, but if set, should mean the campaign is disabled\n        definition.startTime ? definition.startTime : getDistantFuture(), definition.endTime);\n    };\n    // @Override\n    CampaignManager.prototype.getActiveSurveys = function () {\n        var surveys = {};\n        var prioritizedCampaigns = this.getPrioritizedCampaigns();\n        for (var key in this.campaignStates) {\n            if (this.campaignStates.hasOwnProperty(key)) {\n                var state = this.campaignStates[key];\n                if (!state.IsCandidate) {\n                    continue;\n                }\n                // This is a requirement because we keep some otherwise \"stale\" campaigns around for the save routine\n                var definition = prioritizedCampaigns[state.CampaignId];\n                if (!definition) {\n                    continue;\n                }\n                var survey = CampaignSurveyFactory_1.CampaignSurveyFactory.makeSurvey(state, definition, this.stringProvider);\n                if (!survey) {\n                    continue;\n                }\n                surveys[survey.getSurveyInfo().getId()] = survey;\n            }\n        }\n        return surveys;\n    };\n    // @Override\n    CampaignManager.prototype.onCampaignSurveyActivated = function (campaignId, takenDate, isSurveyComplete) {\n        var state = this.campaignStates[campaignId];\n        if (!state) {\n            return;\n        }\n        takenDate = takenDate ? takenDate : new Date();\n        var cooldownSeconds = this.campaignDefinitions[campaignId].nominationScheme.cooldownPeriod.asTimeIntervalSeconds();\n        state.markCurrentSurveyTakenOnDate(takenDate, cooldownSeconds, isSurveyComplete);\n        this.saveCurrentState();\n    };\n    CampaignManager.prototype.getCampaignStates = function () {\n        return this.campaignStates;\n    };\n    // @Override\n    CampaignManager.prototype.getCampaignDefinitions = function () {\n        return this.campaignDefinitions;\n    };\n    CampaignManager.prototype.getUserFacts = function () {\n        return this.userFacts;\n    };\n    // region ISurveyClient methods\n    // @Override\n    CampaignManager.prototype.onSurveyActivated = function (surveyInfo, isSurveyComplete) {\n        if (!surveyInfo) {\n            return;\n        }\n        this.onCampaignSurveyActivated(surveyInfo.getBackEndId(), new Date(), isSurveyComplete);\n    };\n    // @Override\n    CampaignManager.prototype.refreshSurveyDefinitions = function (channelTypes, date) {\n        this.refreshSurveyDefinitionsPrivate(channelTypes, (date ? date : new Date()));\n    };\n    // @Override\n    CampaignManager.prototype.refreshSurveyDefinitionsAsync = function (channelTypes, date) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.refreshSurveyDefinitionsPrivateAsync(channelTypes, (date ? date : new Date())).then(function onFulfilled() {\n                resolve();\n            }).catch(function OnRejected(errReason) {\n                reject(errReason);\n            });\n        });\n    };\n    // @Override\n    CampaignManager.prototype.getAppSurveys = function () {\n        return this.getActiveSurveys();\n    };\n    // @Override\n    CampaignManager.prototype.saveCurrentState = function () {\n        // Sort by campaignId, ascending for uniformity\n        var states = Utils.makeArrayFromObjectValuesSortedByKeyString(this.campaignStates);\n        this.stateProvider.save(states);\n    };\n    // endregion\n    CampaignManager.prototype.refreshSurveyDefinitionsPrivate = function (channelTypes, date) {\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        this.loadAndFilterCampaignData(date, channelTypes);\n        this.evaluateCampaigns(date);\n    };\n    CampaignManager.prototype.refreshSurveyDefinitionsPrivateAsync = function (channelTypes, date) {\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        var thisCampaignManager = this;\n        return new Promise(function (resolve, reject) {\n            thisCampaignManager.loadAndFilterCampaignDataAsync(date, channelTypes).then(function onFulfilled() {\n                thisCampaignManager.evaluateCampaigns(date);\n                resolve();\n            }).catch(function OnRejected(errReason) {\n                reject(errReason);\n            });\n        });\n    };\n    /**\n     * Load and filter the campaigns definitions and states\n     */\n    CampaignManager.prototype.loadAndFilterCampaignDataAsync = function (currentDate, channelTypes) {\n        currentDate = currentDate ? currentDate : new Date();\n        var loadedDefinitions = [];\n        var promises = [];\n        var userFactsPromise = this.userFactsProvider && this.userFactsProvider.loadAsync();\n        for (var _i = 0, _a = Object.keys(this.definitionProviders); _i < _a.length; _i++) {\n            var i = _a[_i];\n            var provider = this.definitionProviders[i];\n            var promise = provider && provider.loadAsync();\n            if (!isNOU(promise)) {\n                // Promise.all fails even if one promise fails.\n                // We want to ignore the promise that failed and continue with the ones\n                // those are succesful, hence overriding the catch to always resolve.\n                // responsibility of logging failures should be with the provider.\n                promise = promise.catch(function () {\n                    FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(\"Failed to load from campaign definition provider\");\n                    Promise.resolve();\n                });\n                promises.push(promise);\n            }\n        }\n        var thisCampaignManager = this;\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises).then(function onFulfilled(values) {\n                for (var _i = 0, _a = Object.keys(values); _i < _a.length; _i++) {\n                    var i = _a[_i];\n                    var campaignDefinitions = values[i];\n                    if (isArray(campaignDefinitions)) {\n                        // If there are campaign defintions with duplicate campaign Id's\n                        // Floodgate will load the last one it found. FilterCampaignData does this filteration\n                        loadedDefinitions = loadedDefinitions.concat(campaignDefinitions);\n                    }\n                }\n                var setUserFacts = function (userFacts) {\n                    thisCampaignManager.userFacts = userFacts || [];\n                    thisCampaignManager.FilterCampaignData(currentDate, channelTypes, loadedDefinitions);\n                    resolve();\n                };\n                // Before filtering and evaluating the campaign definitions,\n                // wait until the user facts are loaded as they will be used in evaluating campaign scopes\n                if (!isNOU(userFactsPromise)) {\n                    userFactsPromise.then(function (userFacts) {\n                        setUserFacts(userFacts);\n                    }).catch(function () {\n                        // this should never happen as user facts promise will always be resolved by the user facts provider\n                        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsLoad.Failed, \"Failed to load from user facts provider\");\n                        setUserFacts();\n                    });\n                }\n                else {\n                    setUserFacts();\n                }\n            }).catch(function OnRejected(error) {\n                // this should never happen as Promise.all will always be resolved\n                // because of hack at the top of the function.\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(\"Failed to load from campaign definition provider\");\n            });\n        });\n    };\n    CampaignManager.prototype.loadAndFilterCampaignData = function (currentDate, channelTypes) {\n        currentDate = currentDate ? currentDate : new Date();\n        var loadedDefinitions = [];\n        for (var _i = 0, _a = Object.keys(this.definitionProviders); _i < _a.length; _i++) {\n            var index = _a[_i];\n            try {\n                var definitions = this.definitionProviders[index] && this.definitionProviders[index].load();\n                if (isArray(definitions)) {\n                    // If there are campaign defintions with duplicate campaign Id's\n                    // Floodgate will load the last one it found. FilterCampaignData does this filteration\n                    loadedDefinitions = loadedDefinitions.concat(definitions);\n                }\n            }\n            catch (error) {\n                // Log error, but continue with other providers\n                // It should be the responsibility of provider to log detailed errors\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(\"Failed to load from campaign definition provider. \" + error.toString());\n            }\n        }\n        // Load the user facts before all the campaign definitions are evaluated\n        try {\n            this.userFacts = (this.userFactsProvider && this.userFactsProvider.load()) || [];\n        }\n        catch (error) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsLoad.Failed, \"Failed to load from user facts provider. \" + error);\n        }\n        this.FilterCampaignData(currentDate, channelTypes, loadedDefinitions);\n    };\n    /**\n     * Load and filter the campaigns definitions and states\n     */\n    CampaignManager.prototype.FilterCampaignData = function (currentDate, channelTypes, loadedDefinitions) {\n        var loadedDefinitionsMap = {};\n        // Load filtered campaign definitions\n        for (var key in loadedDefinitions) {\n            if (loadedDefinitions.hasOwnProperty(key)) {\n                var definition = loadedDefinitions[key];\n                loadedDefinitionsMap[definition.campaignId] = definition;\n                if (channelTypes &&\n                    (channelTypes.indexOf(definition.governedChannelType) < 0) &&\n                    (definition.businessLevel !== ISurveyInfo_1.BusinessLevel.Critical)) {\n                    continue;\n                }\n                if (!CampaignManager.isCampaignInScope(definition, currentDate, this.environmentProvider, this.userFactsProvider)) {\n                    continue;\n                }\n                this.campaignDefinitions[definition.campaignId] = definition;\n            }\n        }\n        // Load campaign state, filtering out the expired definitions\n        var loadedStates = this.stateProvider.load();\n        var staleLoadedStates = [];\n        for (var key in loadedStates) {\n            if (loadedStates.hasOwnProperty(key)) {\n                var state = loadedStates[key];\n                if (!this.campaignDefinitions.hasOwnProperty(state.CampaignId)) {\n                    staleLoadedStates.push(state);\n                }\n                this.campaignStates[state.CampaignId] = state;\n            }\n        }\n        /*\n         * Stale State data cleanup\n         * State needs to be cleaned up when:\n         * 1) The campaign has expired\n         * 2) The campaign is no longer present in the definitions (think ECS or other outages or very old expirations)\n         *    In this case the state should still be cleaned up on it's reelection date\n         * 3) When the user is out of scope (for an otherwise active campaign) and is up for nomination\n\r\n         * This optimizes the user experience in case the campaign pops up or gets renewed when we would have preferred the user remain in cool down\n\r\n         * 2&3 are basically the same, and 1 is a special case optimization on top of 2&3 for earlier clean up\n\r\n         * To do 2 & 3, we just look at states with no matching definition (after filtering), and reject them if they are past their nomination period\n         * To do 1, we just need to keep a list/hash of the definitions that we filtered out this load cycle, specifically for expiration dates, and bypass\n         * the cool down \"wait\" for these specifically\n\r\n         * For now, allowing some \"grace\" for \"missing\"/\"blippy\" campaign definitions (in case they pop in and out of ECS) by deferring missing\n         * deletion by a delay-time specified by the original campaign.\n         */\n        for (var key in staleLoadedStates) {\n            if (staleLoadedStates.hasOwnProperty(key)) {\n                var state = staleLoadedStates[key];\n                if (!state) {\n                    continue;\n                }\n                var definition = loadedDefinitionsMap[state.CampaignId];\n                var shouldRemove = false;\n                if (!definition) {\n                    if (state.LastNominationTimeUtc.getTime() <= Utils.subtractSecondsWithoutOverflow(currentDate, state.DeleteAfterSecondsWhenStale).getTime()) {\n                        shouldRemove = true;\n                    }\n                }\n                else if (CampaignManager.isStateUpForNomination(state, definition, currentDate, this.currentBuildNumber)) {\n                    shouldRemove = true;\n                }\n                // The next time we write to storage, these will be removed\n                if (shouldRemove) {\n                    delete this.campaignStates[state.CampaignId];\n                }\n            }\n        }\n    };\n    // Filter lower priority campaigns that are on same channel and have a matching tag\n    CampaignManager.prototype.getPrioritizedCampaigns = function () {\n        var _this = this;\n        var prioritizedCampaigns = {};\n        // build <tagId_channel, campaign[]> map\n        var matchingTagCampaigns = {};\n        Object.keys(this.campaignDefinitions || []).forEach(function (key) {\n            var definition = _this.campaignDefinitions[key];\n            prioritizedCampaigns[key] = definition;\n            // if tags are not defined, use empty tag to fallback to channel level aggregation\n            var definitionTags = definition.tags && definition.tags.length > 0 ? definition.tags : [\"\"];\n            definitionTags.forEach(function (tagId) {\n                var mapKey = tagId + \"_\" + definition.governedChannelType;\n                matchingTagCampaigns[mapKey] = matchingTagCampaigns[mapKey] || [];\n                matchingTagCampaigns[mapKey].push(definition);\n            });\n        });\n        // remove lower priority campaigns\n        Object.keys(matchingTagCampaigns).forEach(function (key) {\n            var definitions = matchingTagCampaigns[key];\n            if (definitions.length <= 1) {\n                return;\n            }\n            // Get definition that has max priority value (0/null/undefined has highest prioirty)\n            var maxPriorityDefinition = definitions.reduce(function (prev, cur) {\n                var curPriority = cur.primaryPriority || 0;\n                var prevPriority = prev.primaryPriority || 0;\n                return curPriority < prevPriority ? cur : prev;\n            }, definitions[0]);\n            var maxPriority = maxPriorityDefinition.primaryPriority;\n            if (isNOU(maxPriority)) {\n                // nothing to filter because all priorities are null/undefined\n                return;\n            }\n            // delete lower priority campaigns while preserving all the matching higher priority items\n            definitions.forEach(function (current) {\n                var currentPriority = current.primaryPriority;\n                // for mso compatability ignore campaigns without priority set so that they are always considered\n                if (!isNOU(current.primaryPriority) && currentPriority > maxPriority) {\n                    delete prioritizedCampaigns[current.campaignId];\n                }\n            });\n        });\n        return prioritizedCampaigns;\n    };\n    /**\n     * Given the loaded campaign definitions and states from previous sessions, run anything up for nomination\n     */\n    CampaignManager.prototype.evaluateCampaigns = function (currentDate) {\n        // Loop through campaigns definitions, and update their state if necessary\n        currentDate = currentDate ? currentDate : new Date();\n        for (var key in this.campaignDefinitions) {\n            if (this.campaignDefinitions.hasOwnProperty(key)) {\n                var definition = this.campaignDefinitions[key];\n                var state = this.campaignStates[definition.campaignId];\n                if (!state || CampaignManager.isStateUpForNomination(state, definition, currentDate, this.currentBuildNumber)) {\n                    var lastSurveyId = state ? state.LastSurveyId : \"\";\n                    var lastSurveyStartTime = state ? state.LastSurveyStartTimeUtc : getDistantPast();\n                    var lastSurveyExpirationTime = state ? state.LastSurveyExpirationTimeUtc : getDistantPast();\n                    var lastSurveyActivatedTime = state ? state.LastSurveyActivatedTimeUtc : getDistantPast();\n                    var lastCooldownEndTimeUtc = state ? state.LastCooldownEndTimeUtc : getDistantPast();\n                    // Run the nomination\n                    var isCandidate = (state && state.ForceCandidacy) || definition.nominationScheme.evaluateNominationRules();\n                    if (isCandidate) {\n                        // Make new survey properties for the next call to get the active surveys\n                        lastSurveyId = Utils.guid();\n                        lastSurveyStartTime = definition.nominationScheme.calculateSurveyStartTimeFromDate(currentDate);\n                        lastSurveyExpirationTime = definition.nominationScheme.calculateSurveyExpirationTimeFromSurveyStartTime(lastSurveyStartTime);\n                    }\n                    var newState = new CampaignStateProvider_1.CampaignState(definition.campaignId, currentDate, this.currentBuildNumber, definition.nominationScheme.getActiveSurveyTimeIntervalSeconds(), false, isCandidate, false, lastSurveyActivatedTime, lastSurveyId, lastSurveyStartTime, lastSurveyExpirationTime, lastCooldownEndTimeUtc);\n                    // Save the new state to our local cache\n                    this.campaignStates[newState.CampaignId] = newState;\n                }\n            }\n        }\n    };\n    return CampaignManager;\n}());\nexports.CampaignManager = CampaignManager;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduTWFuYWdlci50cz85MDQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUlBLHNIQUFxRDtBQUlyRCxzRkFBa0M7QUFDbEMsK0pBR3NDO0FBQ3RDLGdKQUFnRjtBQUNoRixnSkFBZ0U7QUFHaEUsb0dBQThDO0FBQzlDLDBHQUErQztBQUV2QyxvQkFBZ0IsR0FBcUMsS0FBSyxpQkFBMUMsRUFBRSxjQUFjLEdBQXFCLEtBQUssZUFBMUIsRUFBRSxPQUFPLEdBQVksS0FBSyxRQUFqQixFQUFFLEtBQUssR0FBSyxLQUFLLE1BQVYsQ0FBVztBQWNuRTs7R0FFRztBQUNIO0lBd0hDLHlCQUFtQixhQUFxQyxFQUN2RCxtQkFBa0QsRUFDbEQsY0FBd0MsRUFDeEMsbUJBQWtELEVBQ2xELGtCQUEwQixFQUMxQixXQUFpQixFQUNqQixpQkFBcUM7UUFFckMsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFDbEMsTUFBTSxJQUFJLEtBQUssQ0FBQyx5REFBeUQsQ0FBQyxDQUFDO1NBQzNFO1FBRUQsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUNwQixNQUFNLElBQUksS0FBSyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7U0FDbkQ7UUFFRCxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN2RDtRQUVELElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxD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QUMsY0FBYyxFQUFFLENBQUM7b0JBQ2xHLElBQU0sc0JBQXNCLEdBQVMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO29CQUU3RixxQkFBcUI7b0JBQ3JCLElBQU0sV0FBVyxHQUFZLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztvQkFDdEgsSUFBSSxXQUFXLEVBQUU7d0JBQ2hCLHlFQUF5RTt3QkFDekUsWUFBWSxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDNUIsbUJBQW1CLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFDLGdDQUFnQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO3dCQUNoRyx3QkFBd0IsR0FBRyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsZ0RBQWdELENBQUMsbUJBQW1CLENBQUMsQ0FBQztxQkFDN0g7b0JBRUQsSUFBTSxRQUFRLEdBQWtCLElBQUkscUNBQWEsQ0FDaEQsVUFBVSxDQUFDLFVBQVUsRUFDckIsV0FBVyxFQUNYLElBQUksQ0FBQyxrQkFBa0IsRUFDdkIsVUFBVSxDQUFDLGdCQUFnQixDQUFDLGtDQUFrQyxFQUFFLEVBQ2hFLEtBQUssRUFDTCxXQUFXLEVBQ1gsS0FBSyxFQUNMLHVCQUF1QixFQUN2QixZQUFZLEVBQ1osbUJBQW1CLEVBQ25CLHdCQUF3QixFQUN4QixzQkFBc0IsQ0FDdEIsQ0FBQztvQkFFRix3Q0FBd0M7b0JBQ3hDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBQztpQkFDcEQ7YUFDRDtTQUNEO0lBQ0YsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQXBrQlksMENBQWUiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9DYW1wYWlnbi9DYW1wYWlnbk1hbmFnZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCB7IElEaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL0NvbW1vblwiO1xyXG5pbXBvcnQgeyBGbG9vZGdhdGVFbmdpbmUgfSBmcm9tIFwiLi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiLi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlDbGllbnQgfSBmcm9tIFwiLi4vSVN1cnZleUNsaWVudFwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7XHJcblx0Q2FtcGFpZ25EZWZpbml0aW9uLCBDYW1wYWlnbkR1cmF0aW9uLCBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2UsXHJcblx0Q2FtcGFpZ25EdXJhdGlvblRpbWVJbnRlcnZhbCwgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0LCBDYW1wYWlnblNjb3BlVXNlckZhY3RBbGwsIENhbXBhaWduU2NvcGVVc2VyRmFjdEFueSwgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLFxyXG59IGZyb20gXCIuL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3RhdGUsIElDYW1wYWlnblN0YXRlUHJvdmlkZXIgfSBmcm9tIFwiLi9DYW1wYWlnblN0YXRlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5IH0gZnJvbSBcIi4vQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5XCI7XHJcblxyXG5pbXBvcnQgeyBJVXNlckZhY3QsIElVc2VyRmFjdFByb3ZpZGVyIH0gZnJvbSBcIi4uL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEJ1c2luZXNzTGV2ZWwgfSBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuXHJcbmNvbnN0IHsgZ2V0RGlzdGFudEZ1dHVyZSwgZ2V0RGlzdGFudFBhc3QsIGlzQXJyYXksIGlzTk9VIH0gPSBVdGlscztcclxuXHJcbi8qKlxyXG4gKiBUaGUgQ2FtcGFpZ25NYW5hZ2VyIGlzIHJlc3BvbnNpYmxlIGZvciBjb21iaW5pbmcgcmVhZC1vbmx5IGNhbXBhaWduIGRlZmluaXRpb25zIHdpdGggcHJldmlvdXNseSBzdG9yZWQgY2FtcGFpZ24gc3RhdGUsXHJcbiAqIHJ1bm5pbmcgcmUtbm9taW5hdGlvbiBlbGVjdGlvbnMsIGFuZCB1bHRpbWF0ZWx5IGdlbmVyYXRpbmcgc3VydmV5c1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJQ2FtcGFpZ25NYW5hZ2VyIHtcclxuXHQvLyBHZXQgdGhlIGxpc3Qgb2YgYWN0aXZlIHN1cnZleXMgdGFyZ2V0aW5nIHRoaXMgdXNlclxyXG5cdGdldEFjdGl2ZVN1cnZleXMoKTogSURpY3Rpb25hcnk8SVN1cnZleT47XHJcblxyXG5cdC8vIFVwZGF0ZXMgdGhlIGNhbXBhaWduIHN0YXRlIGJhc2VkIG9uIHRoZSBmYWN0IHRoYXQgdGhlIHVzZXIganVzdCB0b29rIHRoYXQgY2FtcGFpZ24ncyBzdXJ2ZXlcclxuXHRvbkNhbXBhaWduU3VydmV5QWN0aXZhdGVkKGNhbXBhaWduSWQ6IHN0cmluZywgZGF0ZTogRGF0ZSwgaXNTdXJ2ZXlDb21wbGV0ZTogYm9vbGVhbik6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc3RhbmRhcmQgY2FtcGFpZ24gbWFuYWdlciBpbXBsZW1lbnRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbk1hbmFnZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25NYW5hZ2VyLCBJU3VydmV5Q2xpZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGlzU3RhdGVVcEZvck5vbWluYXRpb24oc3RhdGU6IENhbXBhaWduU3RhdGUsIGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiwgZGF0ZTogRGF0ZSwgYnVpbGROdW1iZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZGVmaW5pdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0ZSA9IGRhdGUgPyBkYXRlIDogbmV3IERhdGUoKTtcclxuXHJcblx0XHQvLyBDaGVjayBtYW51YWwgb3ZlcnJpZGVcclxuXHRcdGlmIChzdGF0ZS5Gb3JjZUNhbmRpZGFjeSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGaWd1cmUgb3V0IHdoaWNoIGR1cmF0aW9uIHdlJ3JlIHVzaW5nIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIHRyaWdnZXJlZCB0aGUgc3VydmV5XHJcblx0XHRjb25zdCBjYW1wYWlnbkNvb2xkb3duRHVyYXRpb246IENhbXBhaWduRHVyYXRpb25cclxuXHRcdFx0PSBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuZ2V0Q2FtcGFpZ25Db29sZG93bihzdGF0ZS5Jc0NhbmRpZGF0ZSAmJiBzdGF0ZS5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5KTtcclxuXHJcblx0XHRpZiAoIWNhbXBhaWduQ29vbGRvd25EdXJhdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBGaXJzdCBjaGVjayBmb3IgYnVpbGQtYmFzZWQgcnVsZXMuIEV2ZW50dWFsbHkgdGhpcyBjb3VsZCBnZXQgbW9yZSBjb21wbGV4IGlmIHdlIHN1cHBvcnRlZCBjb3VudGluZyBkaWZmZXJlbnRseSBzZWVuIGJ1aWxkIG51bWJlcnNcclxuXHRcdGlmIChDYW1wYWlnbk1hbmFnZXIuaGFzQnVpbGRDaGFuZ2VEdXJhdGlvbkVsYXBzZWQoY2FtcGFpZ25Db29sZG93bkR1cmF0aW9uLCBzdGF0ZS5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyLCBidWlsZE51bWJlcikpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTmV4dCBjaGVjayBkYXRlIHJ1bGVzXHJcblx0XHRyZXR1cm4gQ2FtcGFpZ25NYW5hZ2VyLmhhc1RpbWVJbnRlcnZhbER1cmF0aW9uRWxhcHNlZChjYW1wYWlnbkNvb2xkb3duRHVyYXRpb24sIHN0YXRlLmdldENvb2xkb3duU3RhcnREYXRlKCksIGRhdGUpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBpc0RhdGVJblJhbmdlKGRhdGU6IERhdGUsIHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG5cdFx0ZGF0ZSA9IGRhdGUgPyBkYXRlIDogbmV3IERhdGUoKTtcclxuXHRcdHN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZSA/IHN0YXJ0RGF0ZSA6IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHRlbmREYXRlID0gZW5kRGF0ZSA/IGVuZERhdGUgOiBnZXREaXN0YW50RnV0dXJlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgU3RhcnQvRXhwaXJlIGRhdGUgcmFuZ2VcclxuXHRcdGlmIChzdGFydERhdGUuZ2V0VGltZSgpIDw9IGRhdGUuZ2V0VGltZSgpICYmIGVuZERhdGUuZ2V0VGltZSgpID49IGRhdGUuZ2V0VGltZSgpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgaGFzVGltZUludGVydmFsRHVyYXRpb25FbGFwc2VkKGR1cmF0aW9uOiBDYW1wYWlnbkR1cmF0aW9uLCBzdGFydERhdGU6IERhdGUsIGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkdXJhdGlvbikgfHwgIShkdXJhdGlvbiBpbnN0YW5jZW9mIENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmICghc3RhcnREYXRlIHx8ICFkYXRlKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbmREYXRlOiBEYXRlID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyhzdGFydERhdGUsIGR1cmF0aW9uLmludGVydmFsU2Vjb25kcyk7XHJcblx0XHRyZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPj0gZW5kRGF0ZS5nZXRUaW1lKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGhhc0J1aWxkQ2hhbmdlRHVyYXRpb25FbGFwc2VkKGR1cmF0aW9uOiBDYW1wYWlnbkR1cmF0aW9uLCBzdGFydEJ1aWxkOiBzdHJpbmcsIGJ1aWxkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkdXJhdGlvbikgfHwgIShkdXJhdGlvbiBpbnN0YW5jZW9mIENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKHN0YXJ0QnVpbGQpIHx8IGlzTk9VKGJ1aWxkKSkge1xyXG5cdFx0XHRyZXR1cm4gKHN0YXJ0QnVpbGQgPT09IG51bGwpICE9PSAoYnVpbGQgPT09IG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAhKHN0YXJ0QnVpbGQgPT09IGJ1aWxkKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGlzQ2FtcGFpZ25JblNjb3BlKFxyXG5cdFx0ZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uLFxyXG5cdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0dXNlckZhY3RzUHJvdmlkZXI6IElVc2VyRmFjdFByb3ZpZGVyKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgU3RhcnQvRXhwaXJlIGRhdGUgcmFuZ2VcclxuXHRcdGlmICghQ2FtcGFpZ25NYW5hZ2VyLmlzRGF0ZUluUmFuZ2VXaXRoRGVmaW5pdGlvbihkYXRlLCBkZWZpbml0aW9uKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGRlZmluaXRpb24uc2NvcGUpIHtcclxuXHRcdFx0aWYgKGRlZmluaXRpb24uc2NvcGUgaW5zdGFuY2VvZiBDYW1wYWlnblNjb3BlVXNlckZhY3RBbnkgfHwgZGVmaW5pdGlvbi5zY29wZSBpbnN0YW5jZW9mIENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbCkge1xyXG5cdFx0XHRcdGRlZmluaXRpb24uc2NvcGUuc2V0VXNlckZhY3RzUHJvdmlkZXIodXNlckZhY3RzUHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkZWZpbml0aW9uLnNjb3BlIGluc3RhbmNlb2YgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0KSB7XHJcblx0XHRcdFx0ZGVmaW5pdGlvbi5zY29wZS5zZXRFbnZpcm9ubWVudFByb3ZpZGVyKGVudmlyb25tZW50UHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghZGVmaW5pdGlvbi5zY29wZS5pc0luU2NvcGUoKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIHdlIGdldCBoZXJlLCB0aGUgZGVmaW5pdGlvbiBpcyByZWxldmFudFxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBpc0RhdGVJblJhbmdlV2l0aERlZmluaXRpb24oZGF0ZTogRGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIENhbXBhaWduTWFuYWdlci5pc0RhdGVJblJhbmdlKGRhdGUsXHJcblx0XHRcdC8vIG51bGwgc3RhcnQgZGF0ZXMgc2hvdWxkIGJlIGltcG9zc2libGUsIGJ1dCBpZiBzZXQsIHNob3VsZCBtZWFuIHRoZSBjYW1wYWlnbiBpcyBkaXNhYmxlZFxyXG5cdFx0XHRkZWZpbml0aW9uLnN0YXJ0VGltZSA/IGRlZmluaXRpb24uc3RhcnRUaW1lIDogZ2V0RGlzdGFudEZ1dHVyZSgpLFxyXG5cdFx0XHRkZWZpbml0aW9uLmVuZFRpbWUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjYW1wYWlnblN0YXRlczogSURpY3Rpb25hcnk8Q2FtcGFpZ25TdGF0ZT47XHJcblx0cHJpdmF0ZSBjYW1wYWlnbkRlZmluaXRpb25zOiBJRGljdGlvbmFyeTxDYW1wYWlnbkRlZmluaXRpb24+O1xyXG5cdHByaXZhdGUgdXNlckZhY3RzOiBJVXNlckZhY3RbXTtcclxuXHRwcml2YXRlIGN1cnJlbnRCdWlsZE51bWJlcjogc3RyaW5nO1xyXG5cdHByaXZhdGUgc3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlcjtcclxuXHRwcml2YXRlIGRlZmluaXRpb25Qcm92aWRlcnM6IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcltdO1xyXG5cdHByaXZhdGUgc3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcjtcclxuXHRwcml2YXRlIGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyO1xyXG5cdHByaXZhdGUgdXNlckZhY3RzUHJvdmlkZXI6IElVc2VyRmFjdFByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlcixcclxuXHRcdGRlZmluaXRpb25Qcm92aWRlcnM6IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcltdLFxyXG5cdFx0c3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0Y3VycmVudEJ1aWxkTnVtYmVyOiBzdHJpbmcsXHJcblx0XHRjdXJyZW50RGF0ZTogRGF0ZSxcclxuXHRcdHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXIpIHtcclxuXHJcblx0XHRpZiAoIXN0YXRlUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RhdGVQcm92aWRlciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNBcnJheShkZWZpbml0aW9uUHJvdmlkZXJzKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbml0aW9uUHJvdmlkZXJzIGlzIGVpdGhlciBudWxsIG9yIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghc3RyaW5nUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RyaW5nUHJvdmlkZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UoY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjdXJyZW50QnVpbGROdW1iZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNhbXBhaWduU3RhdGVzID0ge307XHJcblx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMgPSB7fTtcclxuXHRcdHRoaXMudXNlckZhY3RzID0gW107XHJcblx0XHR0aGlzLnN0YXRlUHJvdmlkZXIgPSBzdGF0ZVByb3ZpZGVyO1xyXG5cdFx0dGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzID0gZGVmaW5pdGlvblByb3ZpZGVycztcclxuXHRcdHRoaXMuc3RyaW5nUHJvdmlkZXIgPSBzdHJpbmdQcm92aWRlcjtcclxuXHRcdHRoaXMudXNlckZhY3RzUHJvdmlkZXIgPSB1c2VyRmFjdHNQcm92aWRlcjtcclxuXHRcdHRoaXMuZW52aXJvbm1lbnRQcm92aWRlciA9IGVudmlyb25tZW50UHJvdmlkZXI7IC8vIENhbiBiZSBudWxsXHJcblx0XHR0aGlzLmN1cnJlbnRCdWlsZE51bWJlciA9IGN1cnJlbnRCdWlsZE51bWJlcjtcclxuXHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEFjdGl2ZVN1cnZleXMoKTogSURpY3Rpb25hcnk8SVN1cnZleT4ge1xyXG5cdFx0Y29uc3Qgc3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHRcdGNvbnN0IHByaW9yaXRpemVkQ2FtcGFpZ25zID0gdGhpcy5nZXRQcmlvcml0aXplZENhbXBhaWducygpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FtcGFpZ25TdGF0ZXMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2FtcGFpZ25TdGF0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlc1trZXldO1xyXG5cdFx0XHRcdGlmICghc3RhdGUuSXNDYW5kaWRhdGUpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVGhpcyBpcyBhIHJlcXVpcmVtZW50IGJlY2F1c2Ugd2Uga2VlcCBzb21lIG90aGVyd2lzZSBcInN0YWxlXCIgY2FtcGFpZ25zIGFyb3VuZCBmb3IgdGhlIHNhdmUgcm91dGluZVxyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IHByaW9yaXRpemVkQ2FtcGFpZ25zW3N0YXRlLkNhbXBhaWduSWRdO1xyXG5cdFx0XHRcdGlmICghZGVmaW5pdGlvbikge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZVN1cnZleShzdGF0ZSwgZGVmaW5pdGlvbiwgdGhpcy5zdHJpbmdQcm92aWRlcik7XHJcblx0XHRcdFx0aWYgKCFzdXJ2ZXkpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c3VydmV5c1tzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCldID0gc3VydmV5O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN1cnZleXM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgb25DYW1wYWlnblN1cnZleUFjdGl2YXRlZChjYW1wYWlnbklkOiBzdHJpbmcsIHRha2VuRGF0ZTogRGF0ZSwgaXNTdXJ2ZXlDb21wbGV0ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGU6IENhbXBhaWduU3RhdGUgPSB0aGlzLmNhbXBhaWduU3RhdGVzW2NhbXBhaWduSWRdO1xyXG5cdFx0aWYgKCFzdGF0ZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGFrZW5EYXRlID0gdGFrZW5EYXRlID8gdGFrZW5EYXRlIDogbmV3IERhdGUoKTtcclxuXHJcblx0XHRjb25zdCBjb29sZG93blNlY29uZHMgPSB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNbY2FtcGFpZ25JZF0ubm9taW5hdGlvblNjaGVtZS5jb29sZG93blBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKTtcclxuXHRcdHN0YXRlLm1hcmtDdXJyZW50U3VydmV5VGFrZW5PbkRhdGUodGFrZW5EYXRlLCBjb29sZG93blNlY29uZHMsIGlzU3VydmV5Q29tcGxldGUpO1xyXG5cclxuXHRcdHRoaXMuc2F2ZUN1cnJlbnRTdGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhbXBhaWduU3RhdGVzKCk6IElEaWN0aW9uYXJ5PENhbXBhaWduU3RhdGU+IHtcclxuXHRcdHJldHVybiB0aGlzLmNhbXBhaWduU3RhdGVzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENhbXBhaWduRGVmaW5pdGlvbnMoKTogSURpY3Rpb25hcnk8Q2FtcGFpZ25EZWZpbml0aW9uPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYW1wYWlnbkRlZmluaXRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVzZXJGYWN0cygpOiBJVXNlckZhY3RbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VyRmFjdHM7XHJcblx0fVxyXG5cclxuXHQvLyByZWdpb24gSVN1cnZleUNsaWVudCBtZXRob2RzXHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBvblN1cnZleUFjdGl2YXRlZChzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbywgaXNTdXJ2ZXlDb21wbGV0ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0aWYgKCFzdXJ2ZXlJbmZvKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm9uQ2FtcGFpZ25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SW5mby5nZXRCYWNrRW5kSWQoKSwgbmV3IERhdGUoKSwgaXNTdXJ2ZXlDb21wbGV0ZSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgcmVmcmVzaFN1cnZleURlZmluaXRpb25zKGNoYW5uZWxUeXBlcz86IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSwgZGF0ZT86IERhdGUpOiB2b2lkIHtcclxuXHRcdHRoaXMucmVmcmVzaFN1cnZleURlZmluaXRpb25zUHJpdmF0ZShjaGFubmVsVHlwZXMsIChkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCkpKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyByZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNBc3luYyhjaGFubmVsVHlwZXM/OiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGRhdGU/OiBEYXRlKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGVBc3luYyhjaGFubmVsVHlwZXMsIChkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCkpKS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uRnVsZmlsbGVkKCkge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCkuY2F0Y2goXHJcblx0XHRcdFx0ZnVuY3Rpb24gT25SZWplY3RlZChlcnJSZWFzb24pIHtcclxuXHRcdFx0XHRcdHJlamVjdChlcnJSZWFzb24pO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRBcHBTdXJ2ZXlzKCk6IHsgW2lkOiBzdHJpbmddOiBJU3VydmV5IH0ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0QWN0aXZlU3VydmV5cygpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmVDdXJyZW50U3RhdGUoKTogdm9pZCB7XHJcblx0XHQvLyBTb3J0IGJ5IGNhbXBhaWduSWQsIGFzY2VuZGluZyBmb3IgdW5pZm9ybWl0eVxyXG5cdFx0Y29uc3Qgc3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBVdGlscy5tYWtlQXJyYXlGcm9tT2JqZWN0VmFsdWVzU29ydGVkQnlLZXlTdHJpbmcodGhpcy5jYW1wYWlnblN0YXRlcyk7XHJcblxyXG5cdFx0dGhpcy5zdGF0ZVByb3ZpZGVyLnNhdmUoc3RhdGVzKTtcclxuXHR9XHJcblxyXG5cdC8vIGVuZHJlZ2lvblxyXG5cclxuXHRwcml2YXRlIHJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGUoY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGRhdGU6IERhdGUpOiB2b2lkIHtcclxuXHRcdHRoaXMuY2FtcGFpZ25TdGF0ZXMgPSB7fTtcclxuXHRcdHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucyA9IHt9O1xyXG5cdFx0dGhpcy51c2VyRmFjdHMgPSBbXTtcclxuXHJcblx0XHR0aGlzLmxvYWRBbmRGaWx0ZXJDYW1wYWlnbkRhdGEoZGF0ZSwgY2hhbm5lbFR5cGVzKTtcclxuXHRcdHRoaXMuZXZhbHVhdGVDYW1wYWlnbnMoZGF0ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGVBc3luYyhjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSwgZGF0ZTogRGF0ZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5jYW1wYWlnblN0YXRlcyA9IHt9O1xyXG5cdFx0dGhpcy5jYW1wYWlnbkRlZmluaXRpb25zID0ge307XHJcblx0XHR0aGlzLnVzZXJGYWN0cyA9IFtdO1xyXG5cclxuXHRcdGNvbnN0IHRoaXNDYW1wYWlnbk1hbmFnZXIgPSB0aGlzO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpc0NhbXBhaWduTWFuYWdlci5sb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhQXN5bmMoZGF0ZSwgY2hhbm5lbFR5cGVzKS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uRnVsZmlsbGVkKCkge1xyXG5cdFx0XHRcdFx0dGhpc0NhbXBhaWduTWFuYWdlci5ldmFsdWF0ZUNhbXBhaWducyhkYXRlKTtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIE9uUmVqZWN0ZWQoZXJyUmVhc29uKSB7XHJcblx0XHRcdFx0XHRyZWplY3QoZXJyUmVhc29uKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGFuZCBmaWx0ZXIgdGhlIGNhbXBhaWducyBkZWZpbml0aW9ucyBhbmQgc3RhdGVzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhQXN5bmMoY3VycmVudERhdGU6IERhdGUsIGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdFx0bGV0IGxvYWRlZERlZmluaXRpb25zOiBDYW1wYWlnbkRlZmluaXRpb25bXSA9IFtdO1xyXG5cdFx0Y29uc3QgcHJvbWlzZXMgPSBbXTtcclxuXHJcblx0XHRjb25zdCB1c2VyRmFjdHNQcm9taXNlID0gdGhpcy51c2VyRmFjdHNQcm92aWRlciAmJiB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyLmxvYWRBc3luYygpIGFzIFByb21pc2U8SVVzZXJGYWN0W10+O1xyXG5cclxuXHRcdGZvciAoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGlzLmRlZmluaXRpb25Qcm92aWRlcnMpKSB7XHJcblx0XHRcdGNvbnN0IHByb3ZpZGVyID0gdGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzW2ldO1xyXG5cdFx0XHRsZXQgcHJvbWlzZTogYW55ID0gcHJvdmlkZXIgJiYgcHJvdmlkZXIubG9hZEFzeW5jKCk7XHJcblx0XHRcdGlmICghaXNOT1UocHJvbWlzZSkpIHtcclxuXHRcdFx0XHQvLyBQcm9taXNlLmFsbCBmYWlscyBldmVuIGlmIG9uZSBwcm9taXNlIGZhaWxzLlxyXG5cdFx0XHRcdC8vIFdlIHdhbnQgdG8gaWdub3JlIHRoZSBwcm9taXNlIHRoYXQgZmFpbGVkIGFuZCBjb250aW51ZSB3aXRoIHRoZSBvbmVzXHJcblx0XHRcdFx0Ly8gdGhvc2UgYXJlIHN1Y2Nlc2Z1bCwgaGVuY2Ugb3ZlcnJpZGluZyB0aGUgY2F0Y2ggdG8gYWx3YXlzIHJlc29sdmUuXHJcblx0XHRcdFx0Ly8gcmVzcG9uc2liaWxpdHkgb2YgbG9nZ2luZyBmYWlsdXJlcyBzaG91bGQgYmUgd2l0aCB0aGUgcHJvdmlkZXIuXHJcblx0XHRcdFx0cHJvbWlzZSA9IHByb21pc2UuY2F0Y2goKCkgPT4ge1xyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKFwiRmFpbGVkIHRvIGxvYWQgZnJvbSBjYW1wYWlnbiBkZWZpbml0aW9uIHByb3ZpZGVyXCIpO1xyXG5cdFx0XHRcdFx0UHJvbWlzZS5yZXNvbHZlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cHJvbWlzZXMucHVzaChwcm9taXNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHRoaXNDYW1wYWlnbk1hbmFnZXIgPSB0aGlzO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oXHJcblx0XHRcdFx0ZnVuY3Rpb24gb25GdWxmaWxsZWQodmFsdWVzKSB7XHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModmFsdWVzKSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjYW1wYWlnbkRlZmluaXRpb25zID0gdmFsdWVzW2ldO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNBcnJheShjYW1wYWlnbkRlZmluaXRpb25zKSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZXJlIGFyZSBjYW1wYWlnbiBkZWZpbnRpb25zIHdpdGggZHVwbGljYXRlIGNhbXBhaWduIElkJ3NcclxuXHRcdFx0XHRcdFx0XHQvLyBGbG9vZGdhdGUgd2lsbCBsb2FkIHRoZSBsYXN0IG9uZSBpdCBmb3VuZC4gRmlsdGVyQ2FtcGFpZ25EYXRhIGRvZXMgdGhpcyBmaWx0ZXJhdGlvblxyXG5cdFx0XHRcdFx0XHRcdGxvYWRlZERlZmluaXRpb25zID0gbG9hZGVkRGVmaW5pdGlvbnMuY29uY2F0KGNhbXBhaWduRGVmaW5pdGlvbnMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qgc2V0VXNlckZhY3RzID0gKHVzZXJGYWN0cz86IElVc2VyRmFjdFtdKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXNDYW1wYWlnbk1hbmFnZXIudXNlckZhY3RzID0gdXNlckZhY3RzIHx8IFtdO1xyXG5cdFx0XHRcdFx0XHR0aGlzQ2FtcGFpZ25NYW5hZ2VyLkZpbHRlckNhbXBhaWduRGF0YShjdXJyZW50RGF0ZSwgY2hhbm5lbFR5cGVzLCBsb2FkZWREZWZpbml0aW9ucyk7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0Ly8gQmVmb3JlIGZpbHRlcmluZyBhbmQgZXZhbHVhdGluZyB0aGUgY2FtcGFpZ24gZGVmaW5pdGlvbnMsXHJcblx0XHRcdFx0XHQvLyB3YWl0IHVudGlsIHRoZSB1c2VyIGZhY3RzIGFyZSBsb2FkZWQgYXMgdGhleSB3aWxsIGJlIHVzZWQgaW4gZXZhbHVhdGluZyBjYW1wYWlnbiBzY29wZXNcclxuXHRcdFx0XHRcdGlmICghaXNOT1UodXNlckZhY3RzUHJvbWlzZSkpIHtcclxuXHRcdFx0XHRcdFx0dXNlckZhY3RzUHJvbWlzZS50aGVuKCh1c2VyRmFjdHM6IElVc2VyRmFjdFtdKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0c2V0VXNlckZhY3RzKHVzZXJGYWN0cyk7XHJcblx0XHRcdFx0XHRcdH0pLmNhdGNoKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHQvLyB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW4gYXMgdXNlciBmYWN0cyBwcm9taXNlIHdpbGwgYWx3YXlzIGJlIHJlc29sdmVkIGJ5IHRoZSB1c2VyIGZhY3RzIHByb3ZpZGVyXHJcblx0XHRcdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzTG9hZC5GYWlsZWQsIFwiRmFpbGVkIHRvIGxvYWQgZnJvbSB1c2VyIGZhY3RzIHByb3ZpZGVyXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHNldFVzZXJGYWN0cygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNldFVzZXJGYWN0cygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCkuY2F0Y2goXHJcblx0XHRcdFx0ZnVuY3Rpb24gT25SZWplY3RlZChlcnJvcikge1xyXG5cdFx0XHRcdFx0Ly8gdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuIGFzIFByb21pc2UuYWxsIHdpbGwgYWx3YXlzIGJlIHJlc29sdmVkXHJcblx0XHRcdFx0XHQvLyBiZWNhdXNlIG9mIGhhY2sgYXQgdGhlIHRvcCBvZiB0aGUgZnVuY3Rpb24uXHJcblx0XHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0NhbXBhaWduTG9hZF9GYWlsZWQoXCJGYWlsZWQgdG8gbG9hZCBmcm9tIGNhbXBhaWduIGRlZmluaXRpb24gcHJvdmlkZXJcIik7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhKGN1cnJlbnREYXRlOiBEYXRlLCBjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSk6IHZvaWQge1xyXG5cdFx0Y3VycmVudERhdGUgPSBjdXJyZW50RGF0ZSA/IGN1cnJlbnREYXRlIDogbmV3IERhdGUoKTtcclxuXHRcdGxldCBsb2FkZWREZWZpbml0aW9uczogQ2FtcGFpZ25EZWZpbml0aW9uW10gPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGluZGV4IG9mIE9iamVjdC5rZXlzKHRoaXMuZGVmaW5pdGlvblByb3ZpZGVycykpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMuZGVmaW5pdGlvblByb3ZpZGVyc1tpbmRleF0gJiYgdGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzW2luZGV4XS5sb2FkKCk7XHJcblx0XHRcdFx0aWYgKGlzQXJyYXkoZGVmaW5pdGlvbnMpKSB7XHJcblx0XHRcdFx0XHQvLyBJZiB0aGVyZSBhcmUgY2FtcGFpZ24gZGVmaW50aW9ucyB3aXRoIGR1cGxpY2F0ZSBjYW1wYWlnbiBJZCdzXHJcblx0XHRcdFx0XHQvLyBGbG9vZGdhdGUgd2lsbCBsb2FkIHRoZSBsYXN0IG9uZSBpdCBmb3VuZC4gRmlsdGVyQ2FtcGFpZ25EYXRhIGRvZXMgdGhpcyBmaWx0ZXJhdGlvblxyXG5cdFx0XHRcdFx0bG9hZGVkRGVmaW5pdGlvbnMgPSBsb2FkZWREZWZpbml0aW9ucy5jb25jYXQoZGVmaW5pdGlvbnMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHQvLyBMb2cgZXJyb3IsIGJ1dCBjb250aW51ZSB3aXRoIG90aGVyIHByb3ZpZGVyc1xyXG5cdFx0XHRcdC8vIEl0IHNob3VsZCBiZSB0aGUgcmVzcG9uc2liaWxpdHkgb2YgcHJvdmlkZXIgdG8gbG9nIGRldGFpbGVkIGVycm9yc1xyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfQ2FtcGFpZ25Mb2FkX0ZhaWxlZChcIkZhaWxlZCB0byBsb2FkIGZyb20gY2FtcGFpZ24gZGVmaW5pdGlvbiBwcm92aWRlci4gXCIgKyBlcnJvci50b1N0cmluZygpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIExvYWQgdGhlIHVzZXIgZmFjdHMgYmVmb3JlIGFsbCB0aGUgY2FtcGFpZ24gZGVmaW5pdGlvbnMgYXJlIGV2YWx1YXRlZFxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy51c2VyRmFjdHMgPSAodGhpcy51c2VyRmFjdHNQcm92aWRlciAmJiB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyLmxvYWQoKSkgfHwgW107XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNMb2FkLkZhaWxlZCwgXCJGYWlsZWQgdG8gbG9hZCBmcm9tIHVzZXIgZmFjdHMgcHJvdmlkZXIuIFwiICsgZXJyb3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuRmlsdGVyQ2FtcGFpZ25EYXRhKGN1cnJlbnREYXRlLCBjaGFubmVsVHlwZXMsIGxvYWRlZERlZmluaXRpb25zKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgYW5kIGZpbHRlciB0aGUgY2FtcGFpZ25zIGRlZmluaXRpb25zIGFuZCBzdGF0ZXNcclxuXHQgKi9cclxuXHRwcml2YXRlIEZpbHRlckNhbXBhaWduRGF0YShjdXJyZW50RGF0ZTogRGF0ZSwgY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGxvYWRlZERlZmluaXRpb25zOiBDYW1wYWlnbkRlZmluaXRpb25bXSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgbG9hZGVkRGVmaW5pdGlvbnNNYXA6IElEaWN0aW9uYXJ5PENhbXBhaWduRGVmaW5pdGlvbj4gPSB7fTtcclxuXHJcblx0XHQvLyBMb2FkIGZpbHRlcmVkIGNhbXBhaWduIGRlZmluaXRpb25zXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBsb2FkZWREZWZpbml0aW9ucykge1xyXG5cdFx0XHRpZiAobG9hZGVkRGVmaW5pdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IGxvYWRlZERlZmluaXRpb25zW2tleV07XHJcblxyXG5cdFx0XHRcdGxvYWRlZERlZmluaXRpb25zTWFwW2RlZmluaXRpb24uY2FtcGFpZ25JZF0gPSBkZWZpbml0aW9uO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hhbm5lbFR5cGVzICYmXHJcblx0XHRcdFx0XHQoY2hhbm5lbFR5cGVzLmluZGV4T2YoZGVmaW5pdGlvbi5nb3Zlcm5lZENoYW5uZWxUeXBlKSA8IDApICYmXHJcblx0XHRcdFx0XHQoZGVmaW5pdGlvbi5idXNpbmVzc0xldmVsICE9PSBCdXNpbmVzc0xldmVsLkNyaXRpY2FsKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIUNhbXBhaWduTWFuYWdlci5pc0NhbXBhaWduSW5TY29wZShkZWZpbml0aW9uLCBjdXJyZW50RGF0ZSwgdGhpcy5lbnZpcm9ubWVudFByb3ZpZGVyLCB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNbZGVmaW5pdGlvbi5jYW1wYWlnbklkXSA9IGRlZmluaXRpb247XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBMb2FkIGNhbXBhaWduIHN0YXRlLCBmaWx0ZXJpbmcgb3V0IHRoZSBleHBpcmVkIGRlZmluaXRpb25zXHJcblx0XHRjb25zdCBsb2FkZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IHRoaXMuc3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblx0XHRjb25zdCBzdGFsZUxvYWRlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gbG9hZGVkU3RhdGVzKSB7XHJcblx0XHRcdGlmIChsb2FkZWRTdGF0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gbG9hZGVkU3RhdGVzW2tleV07XHJcblxyXG5cdFx0XHRcdGlmICghdGhpcy5jYW1wYWlnbkRlZmluaXRpb25zLmhhc093blByb3BlcnR5KHN0YXRlLkNhbXBhaWduSWQpKSB7XHJcblx0XHRcdFx0XHRzdGFsZUxvYWRlZFN0YXRlcy5wdXNoKHN0YXRlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuY2FtcGFpZ25TdGF0ZXNbc3RhdGUuQ2FtcGFpZ25JZF0gPSBzdGF0ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qXHJcblx0XHQgKiBTdGFsZSBTdGF0ZSBkYXRhIGNsZWFudXBcclxuXHRcdCAqIFN0YXRlIG5lZWRzIHRvIGJlIGNsZWFuZWQgdXAgd2hlbjpcclxuXHRcdCAqIDEpIFRoZSBjYW1wYWlnbiBoYXMgZXhwaXJlZFxyXG5cdFx0ICogMikgVGhlIGNhbXBhaWduIGlzIG5vIGxvbmdlciBwcmVzZW50IGluIHRoZSBkZWZpbml0aW9ucyAodGhpbmsgRUNTIG9yIG90aGVyIG91dGFnZXMgb3IgdmVyeSBvbGQgZXhwaXJhdGlvbnMpXHJcblx0XHQgKiAgICBJbiB0aGlzIGNhc2UgdGhlIHN0YXRlIHNob3VsZCBzdGlsbCBiZSBjbGVhbmVkIHVwIG9uIGl0J3MgcmVlbGVjdGlvbiBkYXRlXHJcblx0XHQgKiAzKSBXaGVuIHRoZSB1c2VyIGlzIG91dCBvZiBzY29wZSAoZm9yIGFuIG90aGVyd2lzZSBhY3RpdmUgY2FtcGFpZ24pIGFuZCBpcyB1cCBmb3Igbm9taW5hdGlvblxyXG5cclxuXHRcdCAqIFRoaXMgb3B0aW1pemVzIHRoZSB1c2VyIGV4cGVyaWVuY2UgaW4gY2FzZSB0aGUgY2FtcGFpZ24gcG9wcyB1cCBvciBnZXRzIHJlbmV3ZWQgd2hlbiB3ZSB3b3VsZCBoYXZlIHByZWZlcnJlZCB0aGUgdXNlciByZW1haW4gaW4gY29vbCBkb3duXHJcblxyXG5cdFx0ICogMiYzIGFyZSBiYXNpY2FsbHkgdGhlIHNhbWUsIGFuZCAxIGlzIGEgc3BlY2lhbCBjYXNlIG9wdGltaXphdGlvbiBvbiB0b3Agb2YgMiYzIGZvciBlYXJsaWVyIGNsZWFuIHVwXHJcblxyXG5cdFx0ICogVG8gZG8gMiAmIDMsIHdlIGp1c3QgbG9vayBhdCBzdGF0ZXMgd2l0aCBubyBtYXRjaGluZyBkZWZpbml0aW9uIChhZnRlciBmaWx0ZXJpbmcpLCBhbmQgcmVqZWN0IHRoZW0gaWYgdGhleSBhcmUgcGFzdCB0aGVpciBub21pbmF0aW9uIHBlcmlvZFxyXG5cdFx0ICogVG8gZG8gMSwgd2UganVzdCBuZWVkIHRvIGtlZXAgYSBsaXN0L2hhc2ggb2YgdGhlIGRlZmluaXRpb25zIHRoYXQgd2UgZmlsdGVyZWQgb3V0IHRoaXMgbG9hZCBjeWNsZSwgc3BlY2lmaWNhbGx5IGZvciBleHBpcmF0aW9uIGRhdGVzLCBhbmQgYnlwYXNzXHJcblx0XHQgKiB0aGUgY29vbCBkb3duIFwid2FpdFwiIGZvciB0aGVzZSBzcGVjaWZpY2FsbHlcclxuXHJcblx0XHQgKiBGb3Igbm93LCBhbGxvd2luZyBzb21lIFwiZ3JhY2VcIiBmb3IgXCJtaXNzaW5nXCIvXCJibGlwcHlcIiBjYW1wYWlnbiBkZWZpbml0aW9ucyAoaW4gY2FzZSB0aGV5IHBvcCBpbiBhbmQgb3V0IG9mIEVDUykgYnkgZGVmZXJyaW5nIG1pc3NpbmdcclxuXHRcdCAqIGRlbGV0aW9uIGJ5IGEgZGVsYXktdGltZSBzcGVjaWZpZWQgYnkgdGhlIG9yaWdpbmFsIGNhbXBhaWduLlxyXG5cdFx0ICovXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdGFsZUxvYWRlZFN0YXRlcykge1xyXG5cdFx0XHRpZiAoc3RhbGVMb2FkZWRTdGF0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gc3RhbGVMb2FkZWRTdGF0ZXNba2V5XTtcclxuXHRcdFx0XHRpZiAoIXN0YXRlKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IGxvYWRlZERlZmluaXRpb25zTWFwW3N0YXRlLkNhbXBhaWduSWRdO1xyXG5cdFx0XHRcdGxldCBzaG91bGRSZW1vdmUgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0aWYgKCFkZWZpbml0aW9uKSB7XHJcblx0XHRcdFx0XHRpZiAoc3RhdGUuTGFzdE5vbWluYXRpb25UaW1lVXRjLmdldFRpbWUoKSA8PSBVdGlscy5zdWJ0cmFjdFNlY29uZHNXaXRob3V0T3ZlcmZsb3coY3VycmVudERhdGUsIHN0YXRlLkRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZSkuZ2V0VGltZSgpKSB7XHJcblx0XHRcdFx0XHRcdHNob3VsZFJlbW92ZSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChDYW1wYWlnbk1hbmFnZXIuaXNTdGF0ZVVwRm9yTm9taW5hdGlvbihzdGF0ZSwgZGVmaW5pdGlvbiwgY3VycmVudERhdGUsIHRoaXMuY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHRcdFx0c2hvdWxkUmVtb3ZlID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFRoZSBuZXh0IHRpbWUgd2Ugd3JpdGUgdG8gc3RvcmFnZSwgdGhlc2Ugd2lsbCBiZSByZW1vdmVkXHJcblx0XHRcdFx0aWYgKHNob3VsZFJlbW92ZSkge1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuY2FtcGFpZ25TdGF0ZXNbc3RhdGUuQ2FtcGFpZ25JZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBGaWx0ZXIgbG93ZXIgcHJpb3JpdHkgY2FtcGFpZ25zIHRoYXQgYXJlIG9uIHNhbWUgY2hhbm5lbCBhbmQgaGF2ZSBhIG1hdGNoaW5nIHRhZ1xyXG5cdHByaXZhdGUgZ2V0UHJpb3JpdGl6ZWRDYW1wYWlnbnMoKSB7XHJcblx0XHRjb25zdCBwcmlvcml0aXplZENhbXBhaWduczogSURpY3Rpb25hcnk8Q2FtcGFpZ25EZWZpbml0aW9uPiA9IHt9O1xyXG5cclxuXHRcdC8vIGJ1aWxkIDx0YWdJZF9jaGFubmVsLCBjYW1wYWlnbltdPiBtYXBcclxuXHRcdGNvbnN0IG1hdGNoaW5nVGFnQ2FtcGFpZ25zOiBJRGljdGlvbmFyeTxDYW1wYWlnbkRlZmluaXRpb25bXT4gPSB7fTtcclxuXHRcdE9iamVjdC5rZXlzKHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucyB8fCBbXSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcblx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IHRoaXMuY2FtcGFpZ25EZWZpbml0aW9uc1trZXldO1xyXG5cdFx0XHRwcmlvcml0aXplZENhbXBhaWduc1trZXldID0gZGVmaW5pdGlvbjtcclxuXHJcblx0XHRcdC8vIGlmIHRhZ3MgYXJlIG5vdCBkZWZpbmVkLCB1c2UgZW1wdHkgdGFnIHRvIGZhbGxiYWNrIHRvIGNoYW5uZWwgbGV2ZWwgYWdncmVnYXRpb25cclxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvblRhZ3MgPSBkZWZpbml0aW9uLnRhZ3MgJiYgZGVmaW5pdGlvbi50YWdzLmxlbmd0aCA+IDAgPyBkZWZpbml0aW9uLnRhZ3MgOiBbXCJcIl07XHJcblx0XHRcdGRlZmluaXRpb25UYWdzLmZvckVhY2goKHRhZ0lkKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWFwS2V5ID0gYCR7dGFnSWR9XyR7ZGVmaW5pdGlvbi5nb3Zlcm5lZENoYW5uZWxUeXBlfWA7XHJcblx0XHRcdFx0bWF0Y2hpbmdUYWdDYW1wYWlnbnNbbWFwS2V5XSA9IG1hdGNoaW5nVGFnQ2FtcGFpZ25zW21hcEtleV0gfHwgW107XHJcblx0XHRcdFx0bWF0Y2hpbmdUYWdDYW1wYWlnbnNbbWFwS2V5XS5wdXNoKGRlZmluaXRpb24pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHJlbW92ZSBsb3dlciBwcmlvcml0eSBjYW1wYWlnbnNcclxuXHRcdE9iamVjdC5rZXlzKG1hdGNoaW5nVGFnQ2FtcGFpZ25zKS5mb3JFYWNoKChrZXkpID0+IHtcclxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvbnMgPSBtYXRjaGluZ1RhZ0NhbXBhaWduc1trZXldO1xyXG5cdFx0XHRpZiAoZGVmaW5pdGlvbnMubGVuZ3RoIDw9IDEpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEdldCBkZWZpbml0aW9uIHRoYXQgaGFzIG1heCBwcmlvcml0eSB2YWx1ZSAoMC9udWxsL3VuZGVmaW5lZCBoYXMgaGlnaGVzdCBwcmlvaXJ0eSlcclxuXHRcdFx0Y29uc3QgbWF4UHJpb3JpdHlEZWZpbml0aW9uID0gZGVmaW5pdGlvbnMucmVkdWNlKChwcmV2LCBjdXIpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjdXJQcmlvcml0eSA9IGN1ci5wcmltYXJ5UHJpb3JpdHkgfHwgMDtcclxuXHRcdFx0XHRjb25zdCBwcmV2UHJpb3JpdHkgPSBwcmV2LnByaW1hcnlQcmlvcml0eSB8fCAwO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gY3VyUHJpb3JpdHkgPCBwcmV2UHJpb3JpdHkgPyBjdXIgOiBwcmV2O1xyXG5cdFx0XHR9LCBkZWZpbml0aW9uc1swXSk7XHJcblxyXG5cdFx0XHRjb25zdCBtYXhQcmlvcml0eSA9IG1heFByaW9yaXR5RGVmaW5pdGlvbi5wcmltYXJ5UHJpb3JpdHk7XHJcblx0XHRcdGlmIChpc05PVShtYXhQcmlvcml0eSkpIHtcclxuXHRcdFx0XHQvLyBub3RoaW5nIHRvIGZpbHRlciBiZWNhdXNlIGFsbCBwcmlvcml0aWVzIGFyZSBudWxsL3VuZGVmaW5lZFxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVsZXRlIGxvd2VyIHByaW9yaXR5IGNhbXBhaWducyB3aGlsZSBwcmVzZXJ2aW5nIGFsbCB0aGUgbWF0Y2hpbmcgaGlnaGVyIHByaW9yaXR5IGl0ZW1zXHJcblx0XHRcdGRlZmluaXRpb25zLmZvckVhY2goKGN1cnJlbnQpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50UHJpb3JpdHkgPSBjdXJyZW50LnByaW1hcnlQcmlvcml0eTtcclxuXHJcblx0XHRcdFx0Ly8gZm9yIG1zbyBjb21wYXRhYmlsaXR5IGlnbm9yZSBjYW1wYWlnbnMgd2l0aG91dCBwcmlvcml0eSBzZXQgc28gdGhhdCB0aGV5IGFyZSBhbHdheXMgY29uc2lkZXJlZFxyXG5cdFx0XHRcdGlmICghaXNOT1UoY3VycmVudC5wcmltYXJ5UHJpb3JpdHkpICYmIGN1cnJlbnRQcmlvcml0eSA+IG1heFByaW9yaXR5KSB7XHJcblx0XHRcdFx0XHRkZWxldGUgcHJpb3JpdGl6ZWRDYW1wYWlnbnNbY3VycmVudC5jYW1wYWlnbklkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHByaW9yaXRpemVkQ2FtcGFpZ25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2l2ZW4gdGhlIGxvYWRlZCBjYW1wYWlnbiBkZWZpbml0aW9ucyBhbmQgc3RhdGVzIGZyb20gcHJldmlvdXMgc2Vzc2lvbnMsIHJ1biBhbnl0aGluZyB1cCBmb3Igbm9taW5hdGlvblxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZXZhbHVhdGVDYW1wYWlnbnMoY3VycmVudERhdGU6IERhdGUpOiB2b2lkIHtcclxuXHRcdC8vIExvb3AgdGhyb3VnaCBjYW1wYWlnbnMgZGVmaW5pdGlvbnMsIGFuZCB1cGRhdGUgdGhlaXIgc3RhdGUgaWYgbmVjZXNzYXJ5XHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW1wYWlnbkRlZmluaXRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBkZWZpbml0aW9uOiBDYW1wYWlnbkRlZmluaXRpb24gPSB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNba2V5XTtcclxuXHRcdFx0XHRjb25zdCBzdGF0ZTogQ2FtcGFpZ25TdGF0ZSA9IHRoaXMuY2FtcGFpZ25TdGF0ZXNbZGVmaW5pdGlvbi5jYW1wYWlnbklkXTtcclxuXHJcblx0XHRcdFx0aWYgKCFzdGF0ZSB8fCBDYW1wYWlnbk1hbmFnZXIuaXNTdGF0ZVVwRm9yTm9taW5hdGlvbihzdGF0ZSwgZGVmaW5pdGlvbiwgY3VycmVudERhdGUsIHRoaXMuY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHRcdFx0bGV0IGxhc3RTdXJ2ZXlJZDogc3RyaW5nID0gc3RhdGUgPyBzdGF0ZS5MYXN0U3VydmV5SWQgOiBcIlwiO1xyXG5cdFx0XHRcdFx0bGV0IGxhc3RTdXJ2ZXlTdGFydFRpbWU6IERhdGUgPSBzdGF0ZSA/IHN0YXRlLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMgOiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0XHRcdFx0bGV0IGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZTogRGF0ZSA9IHN0YXRlID8gc3RhdGUuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjIDogZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdFx0XHRcdGNvbnN0IGxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lOiBEYXRlID0gc3RhdGUgPyBzdGF0ZS5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyA6IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHRcdFx0XHRjb25zdCBsYXN0Q29vbGRvd25FbmRUaW1lVXRjOiBEYXRlID0gc3RhdGUgPyBzdGF0ZS5MYXN0Q29vbGRvd25FbmRUaW1lVXRjIDogZ2V0RGlzdGFudFBhc3QoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBSdW4gdGhlIG5vbWluYXRpb25cclxuXHRcdFx0XHRcdGNvbnN0IGlzQ2FuZGlkYXRlOiBib29sZWFuID0gKHN0YXRlICYmIHN0YXRlLkZvcmNlQ2FuZGlkYWN5KSB8fCBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuZXZhbHVhdGVOb21pbmF0aW9uUnVsZXMoKTtcclxuXHRcdFx0XHRcdGlmIChpc0NhbmRpZGF0ZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBNYWtlIG5ldyBzdXJ2ZXkgcHJvcGVydGllcyBmb3IgdGhlIG5leHQgY2FsbCB0byBnZXQgdGhlIGFjdGl2ZSBzdXJ2ZXlzXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlJZCA9IFV0aWxzLmd1aWQoKTtcclxuXHRcdFx0XHRcdFx0bGFzdFN1cnZleVN0YXJ0VGltZSA9IGRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5jYWxjdWxhdGVTdXJ2ZXlTdGFydFRpbWVGcm9tRGF0ZShjdXJyZW50RGF0ZSk7XHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZSA9IGRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5jYWxjdWxhdGVTdXJ2ZXlFeHBpcmF0aW9uVGltZUZyb21TdXJ2ZXlTdGFydFRpbWUobGFzdFN1cnZleVN0YXJ0VGltZSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IENhbXBhaWduU3RhdGUgPSBuZXcgQ2FtcGFpZ25TdGF0ZShcclxuXHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5jYW1wYWlnbklkLFxyXG5cdFx0XHRcdFx0XHRjdXJyZW50RGF0ZSxcclxuXHRcdFx0XHRcdFx0dGhpcy5jdXJyZW50QnVpbGROdW1iZXIsXHJcblx0XHRcdFx0XHRcdGRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5nZXRBY3RpdmVTdXJ2ZXlUaW1lSW50ZXJ2YWxTZWNvbmRzKCksXHJcblx0XHRcdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRpc0NhbmRpZGF0ZSxcclxuXHRcdFx0XHRcdFx0ZmFsc2UsXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lLFxyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5SWQsXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlTdGFydFRpbWUsXHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZSxcclxuXHRcdFx0XHRcdFx0bGFzdENvb2xkb3duRW5kVGltZVV0YyxcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gU2F2ZSB0aGUgbmV3IHN0YXRlIHRvIG91ciBsb2NhbCBjYWNoZVxyXG5cdFx0XHRcdFx0dGhpcy5jYW1wYWlnblN0YXRlc1tuZXdTdGF0ZS5DYW1wYWlnbklkXSA9IG5ld1N0YXRlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignManager.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js":
/*!*******************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileBasedCampaignStateProvider = exports.HostBasedCampaignStateProvider = exports.CampaignStateProviderFactory = exports.CampaignState = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ../Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar StateProviderHelpers = __webpack_require__(/*! ../StateProviderHelpers */ \"../FloodgateCore/dist/src/StateProviderHelpers.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar getDistantPast = Utils.getDistantPast, isBoolean = Utils.isBoolean, isDate = Utils.isDate, isNOU = Utils.isNOU, isString = Utils.isString, isUtcDatetimeString = Utils.isUtcDatetimeString, stringToDate = Utils.stringToDate;\nvar CampaignState = /** @class */ (function () {\n    function CampaignState(campaignId, lastNominationTime, lastNominationBuildNumber, deleteAfterSecondsWhenStale, ForceCandidacy, isCandidate, didCandidateTriggerSurvey, lastSurveyActivatedTime, lastSurveyId, lastSurveyStartTime, lastSurveyExpirationTime, lastCooldownEndTimeUtc) {\n        this.CampaignId = campaignId;\n        this.LastNominationTimeUtc = lastNominationTime;\n        this.LastNominationBuildNumber = lastNominationBuildNumber;\n        this.DeleteAfterSecondsWhenStale = deleteAfterSecondsWhenStale;\n        this.ForceCandidacy = ForceCandidacy;\n        this.IsCandidate = isCandidate;\n        this.DidCandidateTriggerSurvey = didCandidateTriggerSurvey;\n        this.LastSurveyActivatedTimeUtc = lastSurveyActivatedTime;\n        this.LastSurveyId = lastSurveyId;\n        this.LastSurveyStartTimeUtc = lastSurveyStartTime;\n        this.LastSurveyExpirationTimeUtc = lastSurveyExpirationTime;\n        this.LastCooldownEndTimeUtc = lastCooldownEndTimeUtc;\n        if (!this.validate()) {\n            throw new Error(\"Constructor arguments are not valid\");\n        }\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns class object\n     */\n    CampaignState.deserialize = function (input) {\n        var result;\n        if (!input) {\n            return null;\n        }\n        try {\n            result = new CampaignState(input.CampaignId, input.LastNominationTimeUtc, input.LastNominationBuildNumber, input.DeleteAfterSecondsWhenStale, false, // ForceCandidacy\n            input.IsCandidate, input.DidCandidateTriggerSurvey, input.LastSurveyActivatedTimeUtc, input.LastSurveyId, input.LastSurveyStartTimeUtc, input.LastSurveyExpirationTimeUtc, input.LastCooldownEndTimeUtc);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.CampaignState.Deserialize.Failed, { ErrorMessage: e.toString() });\n            return null;\n        }\n        return result;\n    };\n    CampaignState.prototype.validate = function () {\n        if (!this.CampaignId || !isString(this.CampaignId)) {\n            return false;\n        }\n        if (isNOU(this.LastNominationBuildNumber)\n            || !isString(this.LastNominationBuildNumber)) {\n            return false;\n        }\n        if (!Utils.isNumber(this.DeleteAfterSecondsWhenStale) || this.DeleteAfterSecondsWhenStale < 0) {\n            return false;\n        }\n        if (!isBoolean(this.IsCandidate) || !isBoolean(this.DidCandidateTriggerSurvey)) {\n            return false;\n        }\n        if (this.IsCandidate) {\n            // Disallow the following null's if isCandidate == true\n            if (isNOU(this.LastSurveyStartTimeUtc) || isNOU(this.LastSurveyExpirationTimeUtc)) {\n                return false;\n            }\n            // LastSurveyId could be \"\"\n            if (!isString(this.LastSurveyId)) {\n                return false;\n            }\n        }\n        if (this.DidCandidateTriggerSurvey) {\n            // Disallow the following null's if didCandidateTriggerSurvey == true\n            if (isNOU(this.LastSurveyActivatedTimeUtc)) {\n                return false;\n            }\n        }\n        if (isNOU(this.LastSurveyId)) {\n            this.LastSurveyId = \"\";\n        }\n        else if (!isString(this.LastSurveyId)) {\n            return false;\n        }\n        // LastNominationTime does not allow null\n        if (isUtcDatetimeString(this.LastNominationTimeUtc)) {\n            this.LastNominationTimeUtc = stringToDate(this.LastNominationTimeUtc);\n            // invalidate if it's not a Date object\n        }\n        else if (!isDate(this.LastNominationTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyActivatedTimeUtc)) {\n            this.LastSurveyActivatedTimeUtc = getDistantPast();\n            // check if it's UTC date time string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyActivatedTimeUtc)) {\n            this.LastSurveyActivatedTimeUtc = stringToDate(this.LastSurveyActivatedTimeUtc);\n            // invalidate if it's not a Date object\n        }\n        else if (!isDate(this.LastSurveyActivatedTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyStartTimeUtc)) {\n            this.LastSurveyStartTimeUtc = getDistantPast();\n            // check if it's string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyStartTimeUtc)) {\n            this.LastSurveyStartTimeUtc = stringToDate(this.LastSurveyStartTimeUtc);\n            // invalidate if it's not a Date object\n        }\n        else if (!isDate(this.LastSurveyStartTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyExpirationTimeUtc)) {\n            this.LastSurveyExpirationTimeUtc = getDistantPast();\n            // check if it's string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyExpirationTimeUtc)) {\n            this.LastSurveyExpirationTimeUtc = stringToDate(this.LastSurveyExpirationTimeUtc);\n        }\n        else if (!isDate(this.LastSurveyExpirationTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastCooldownEndTimeUtc)) {\n            this.LastCooldownEndTimeUtc = getDistantPast();\n            // check if it's string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastCooldownEndTimeUtc)) {\n            this.LastCooldownEndTimeUtc = stringToDate(this.LastCooldownEndTimeUtc);\n        }\n        else if (!isDate(this.LastCooldownEndTimeUtc)) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Record that the current survey was taken on this date\n     *\n     * @param date date\n     * @param cooldownSeconds number\n     */\n    CampaignState.prototype.markCurrentSurveyTakenOnDate = function (date, cooldownSeconds, isSurveyComplete) {\n        this.DidCandidateTriggerSurvey = isSurveyComplete;\n        this.LastSurveyActivatedTimeUtc = date != null ? date : new Date();\n        this.LastCooldownEndTimeUtc = Utils.addSecondsWithoutOverflow(this.LastSurveyActivatedTimeUtc, cooldownSeconds);\n    };\n    CampaignState.prototype.getCooldownStartDate = function () {\n        if (!this.IsCandidate) {\n            return this.LastNominationTimeUtc;\n        }\n        if (this.DidCandidateTriggerSurvey) {\n            return this.LastSurveyActivatedTimeUtc;\n        }\n        // In practice this wil be equal to lastNominationTime, but\n        // distribution models like a ramp effectively cause us to\n        // shift our \"effective nomination date\" forward with the survey start date\n        return this.LastSurveyStartTimeUtc;\n    };\n    return CampaignState;\n}());\nexports.CampaignState = CampaignState;\nvar CampaignStateProviderFactory = /** @class */ (function () {\n    function CampaignStateProviderFactory() {\n    }\n    CampaignStateProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedCampaignStateProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedCampaignStateProvider(fileBasedStorage);\n    };\n    return CampaignStateProviderFactory;\n}());\nexports.CampaignStateProviderFactory = CampaignStateProviderFactory;\n/**\n * Class representing what is stored in the file.\n */\nvar FileData = /** @class */ (function () {\n    function FileData() {\n    }\n    return FileData;\n}());\nvar HostBasedCampaignStateProvider = /** @class */ (function () {\n    function HostBasedCampaignStateProvider(fileBasedStorage, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error(\"host-based storage must not be null\");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file-based provider is optional\n        if (fileBasedStorage) {\n            this.fileBasedStateProvider = new FileBasedCampaignStateProvider(fileBasedStorage);\n        }\n    }\n    // @Override\n    HostBasedCampaignStateProvider.prototype.load = function () {\n        var statesFromHost = this.getStatesFromHost();\n        var statesFromFile;\n        if (this.fileBasedStateProvider) {\n            statesFromFile = this.fileBasedStateProvider.load();\n        }\n        var StateCollections = StateProviderHelpers.MergeAndUpdateCampaignStates(statesFromFile, statesFromHost);\n        return StateCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedCampaignStateProvider.prototype.save = function (campaignStates) {\n        var _this = this;\n        if (!campaignStates) {\n            return;\n        }\n        var statesFromHost = this.getStatesFromHost();\n        var StateCollections = StateProviderHelpers.MergeAndUpdateCampaignStates(campaignStates, statesFromHost);\n        var toBeUpdatedStates = StateCollections.find(1 /* ToBeUpdated */);\n        var mergedStates = StateCollections.find(0 /* Merged */);\n        // write delta_data to host\n        if (toBeUpdatedStates) {\n            toBeUpdatedStates.forEach(function (state) {\n                var stateValue = StateProviderHelpers.makeSettingItemValue(JSON.stringify(state));\n                _this.hostBasedStorage.upsertSettingItem(FileType[FileType.CampaignStates], state.CampaignId, stateValue);\n            });\n        }\n        // Write merged data to File\n        if (this.fileBasedStateProvider) {\n            this.fileBasedStateProvider.save(mergedStates);\n        }\n    };\n    HostBasedCampaignStateProvider.prototype.getStatesFromHost = function () {\n        var states = [];\n        var settings = this.hostBasedStorage.readSettingList(FileType[FileType.CampaignStates]);\n        for (var key in settings) {\n            if (!settings.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = settings[key];\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(value);\n            var itemObject = {};\n            try {\n                itemObject = JSON.parse(dataString);\n                var newState = CampaignState.deserialize(itemObject);\n                if (newState) {\n                    states.push(newState);\n                }\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedCampaignStateProvider.GetStatesFromHost.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + dataString });\n            }\n        }\n        return states;\n    };\n    return HostBasedCampaignStateProvider;\n}());\nexports.HostBasedCampaignStateProvider = HostBasedCampaignStateProvider;\nvar FileBasedCampaignStateProvider = /** @class */ (function () {\n    function FileBasedCampaignStateProvider(storage) {\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedCampaignStateProvider.prototype.load = function () {\n        var readString = this.storage.read(FileType.CampaignStates);\n        if (!readString) {\n            return [];\n        }\n        var fileData;\n        try {\n            fileData = JSON.parse(readString);\n            var result_1 = [];\n            if (fileData && fileData.CampaignStates) {\n                fileData.CampaignStates.forEach(function (state) {\n                    var newState = CampaignState.deserialize(state);\n                    if (newState) {\n                        result_1.push(newState);\n                    }\n                });\n            }\n            return result_1;\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FileBasedCampaignStateProvider.Load.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + readString });\n            return [];\n        }\n    };\n    // @Override\n    FileBasedCampaignStateProvider.prototype.save = function (campaignStates) {\n        if (!campaignStates) {\n            return;\n        }\n        var fileData = new FileData();\n        fileData.CampaignStates = campaignStates;\n        var writeString = JSON.stringify(fileData);\n        this.storage.write(FileType.CampaignStates, writeString);\n    };\n    return FileBasedCampaignStateProvider;\n}());\nexports.FileBasedCampaignStateProvider = FileBasedCampaignStateProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlci50cz9iZTAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLDBKQUE4RTtBQUM5RSxvR0FBOEM7QUFDOUMsc0hBQXFEO0FBQ3JELG1JQUFnRTtBQUNoRSxzRkFBa0M7QUFDbEMsSUFBTyxRQUFRLEdBQUcseUJBQXlCLENBQUMsUUFBUSxDQUFDO0FBRzdDLGtCQUFjLEdBQTRFLEtBQUssZUFBakYsRUFBRSxTQUFTLEdBQWlFLEtBQUssVUFBdEUsRUFBRSxNQUFNLEdBQXlELEtBQUssT0FBOUQsRUFBRSxLQUFLLEdBQWtELEtBQUssTUFBdkQsRUFBRSxRQUFRLEdBQXdDLEtBQUssU0FBN0MsRUFBRSxtQkFBbUIsR0FBbUIsS0FBSyxvQkFBeEIsRUFBRSxZQUFZLEdBQUssS0FBSyxhQUFWLENBQVc7QUFFeEc7SUE0RkMsdUJBQW1CLFVBQWtCLEVBQUUsa0JBQXdCLEVBQUUseUJBQWlDLEVBQUUsMkJBQW1DLEVBQ3RJLGNBQXVCLEVBQUUsV0FBb0IsRUFBRSx5QkFBa0MsRUFBRSx1QkFBNkIsRUFDaEgsWUFBb0IsRUFBRSxtQkFBeUIsRUFBRSx3QkFBOEIsRUFBRSxzQkFBNEI7UUFDN0csSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLGtCQUFrQixDQUFDO1FBQ2hELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztRQUMzRCxJQUFJLENBQUMsMkJBQTJCLEdBQUcsMkJBQTJCLENBQUM7UUFDL0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLHlCQUF5QixHQUFHLHlCQUF5QixDQUFDO1FBQzNELElBQUksQ0FBQywwQkFBMEIsR0FBRyx1QkFBdUIsQ0FBQztRQUMxRCxJQUFJLENBQUMsWUFBWSxHQUFH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QUFTLENBQzdDLDBCQUFjLENBQUMsOEJBQThCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFDekQsRUFBRSxZQUFZLEVBQUUscUNBQXFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLFdBQVcsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDO0lBRUQsWUFBWTtJQUNMLDZDQUFJLEdBQVgsVUFBWSxjQUErQjtRQUMxQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BCLE9BQU87U0FDUDtRQUVELElBQU0sUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7UUFDaEMsUUFBUSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDekMsSUFBTSxXQUFXLEdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFDRixxQ0FBQztBQUFELENBQUM7QUFyRFksd0VBQThCIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ2FtcGFpZ24vQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmcgfSBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTZXR0aW5nXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrIH0gZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBUZWxlbWV0cnlFdmVudCB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBTdGF0ZVByb3ZpZGVySGVscGVycyBmcm9tIFwiLi4vU3RhdGVQcm92aWRlckhlbHBlcnNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCBTdGF0ZUxpc3RUeXBlID0gU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZTtcclxuXHJcbmNvbnN0IHsgZ2V0RGlzdGFudFBhc3QsIGlzQm9vbGVhbiwgaXNEYXRlLCBpc05PVSwgaXNTdHJpbmcsIGlzVXRjRGF0ZXRpbWVTdHJpbmcsIHN0cmluZ1RvRGF0ZSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdGF0ZSB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgY2xhc3Mgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdGF0ZSB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnblN0YXRlO1xyXG5cclxuXHRcdGlmICghaW5wdXQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmVzdWx0ID0gbmV3IENhbXBhaWduU3RhdGUoXHJcblx0XHRcdFx0aW5wdXQuQ2FtcGFpZ25JZCxcclxuXHRcdFx0XHRpbnB1dC5MYXN0Tm9taW5hdGlvblRpbWVVdGMsXHJcblx0XHRcdFx0aW5wdXQuTGFzdE5vbWluYXRpb25CdWlsZE51bWJlcixcclxuXHRcdFx0XHRpbnB1dC5EZWxldGVBZnRlclNlY29uZHNXaGVuU3RhbGUsXHJcblx0XHRcdFx0ZmFsc2UsIC8vIEZvcmNlQ2FuZGlkYWN5XHJcblx0XHRcdFx0aW5wdXQuSXNDYW5kaWRhdGUsXHJcblx0XHRcdFx0aW5wdXQuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSxcclxuXHRcdFx0XHRpbnB1dC5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyxcclxuXHRcdFx0XHRpbnB1dC5MYXN0U3VydmV5SWQsXHJcblx0XHRcdFx0aW5wdXQuTGFzdFN1cnZleVN0YXJ0VGltZVV0YyxcclxuXHRcdFx0XHRpbnB1dC5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMsXHJcblx0XHRcdFx0aW5wdXQuTGFzdENvb2xkb3duRW5kVGltZVV0YyxcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5DYW1wYWlnblN0YXRlLkRlc2VyaWFsaXplLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSB9KTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIFRoZSBDYW1wYWlnbiB0byB3aGljaCB0aGlzIHN0YXRlIGNvcnJlc3BvbmRzXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ2FtcGFpZ25JZFwiKVxyXG5cdHB1YmxpYyBDYW1wYWlnbklkOiBzdHJpbmc7XHJcblxyXG5cdC8vIFRoZSBsYXN0IHRpbWUgdGhlIGNhbmRpZGFjeSB3YXMgZXZhbHVhdGVkXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdE5vbWluYXRpb25UaW1lVXRjXCIpXHJcblx0cHVibGljIExhc3ROb21pbmF0aW9uVGltZVV0YzogRGF0ZTtcclxuXHJcblx0Ly8gVGhlIGJ1aWxkIG51bWJlciBmcm9tIHRoZSBsYXN0IHRpbWUgdGhlIGNhbmRpZGFjeSB3YXMgZXZhbHVhdGVkXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdE5vbWluYXRpb25CdWlsZE51bWJlclwiKVxyXG5cdHB1YmxpYyBMYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyOiBzdHJpbmc7XHJcblxyXG5cdC8vIEFtb3VudCBvZiB0aW1lIHRvIGRlbGF5IGNsZWFudXAgb2YgdGhpcyBzdGF0ZSBmcm9tIHN0b3JhZ2UsIHdoZW4gaXQncyBjYW1wYWlnbiBkZWZpbml0aW9uIGlzIG5vIGxvbmdlciBwcmVzZW50XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlXCIpXHJcblx0cHVibGljIERlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZTogbnVtYmVyO1xyXG5cclxuXHQvLyBNYW51YWwgc2V0dGluZyB0aGF0IGNhbiBiZSB1c2VkIHRvIGZvcmNlIHRoaXMgY2xpZW50IHRvIGJlIGEgY2FuZGlkYXRlIGZvciB0aGlzIGNhbXBhaWduLiBOb3QgcGVyc2lzdGVkIHRvIHRoZSBmaWxlLlxyXG5cdHB1YmxpYyBGb3JjZUNhbmRpZGFjeTogYm9vbGVhbjtcclxuXHJcblx0Ly8gV2hldGhlciBvciBub3QgdGhlIHVzZXIgaXMgY3VycmVudGx5IGEgY2FuZGlkYXRlIG9yIGFudGktY2FuZGlkYXRlXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiSXNDYW5kaWRhdGVcIilcclxuXHRwdWJsaWMgSXNDYW5kaWRhdGU6IGJvb2xlYW47XHJcblxyXG5cdC8vIFdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIHRyaWdnZXJlZCBhIHN1cnZleSB3aGVuIHRoZXkgYXJlIGEgQ2FuZGlkYXRlLlxyXG5cdC8vIElmIGlzQ2FuZGlkYXRlIGlzIGZhbHNlLCB0aGVuIHRoaXMgdmFsdWUgaXMgbWVhbmluZ2xlc3MuXHJcblx0Ly8gSWYgaXNDYW5kaWRhdGUgaXMgdHJ1ZSwgdGhlbiB0aGlzIGlzIHVzZWQgdG8gcGljayBhIGRpZmZlcmVudCBjYW1wYWlnbiBjb29sZG93biB0aW1lXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleVwiKVxyXG5cdHB1YmxpYyBEaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5OiBib29sZWFuO1xyXG5cclxuXHQvLyBUaGUgZGF0ZSB0aGUgbGFzdCBzdXJ2ZXkgd2FzIGFjdGl2YXRlZFxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjXCIpXHJcblx0cHVibGljIExhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHQvLyByZWdpb24gUHJvcGVydGllcyBvZiB0aGUgbW9zdCByZWNlbnRseSBnZW5lcmF0ZWQgc3VydmV5Llx1MDAxMFxyXG5cclxuXHQvLyBXaGVuIGlzQ2FuZGlkYXRlID09IHRydWUgZm9yIHRoZSBjdXJyZW50IGVsZWN0aW9uIHRpbWUsIHRoaXMgaXMgdXNlZCB0byByZWdlbmVyYXRlIHRoZSBzYW1lIFN1cnZleSBkZWZpbml0aW9uXHJcblx0Ly8gZWFjaCB0aW1lIHdlIGFyZSBpbnZva2VkXHJcblx0Ly8gQ29uc2lkZXI6IFB1dHRpbmcgdGhpcyBpbiBpdHMgb3duIHN1YmNsYXNzXHJcblxyXG5cdC8vIFRoZSBzdXJ2ZXlJZCBmb3IgdGhlIG1vc3QgcmVjZW50bHkgZ2VuZXJhdGVkIHN1cnZleSBpbiB0aGlzIGNhbXBhaWduIChjYW4gZGlmZmVyIGZyb20gY2FtcGFpZ25JZCwgYW5kIGlzXHJcblx0Ly8gdXNlZCB0byBndWFyYW50ZWUgYSBnaXZlbiBzdXJ2ZXkgaXMgc2hvd24gb25jZSlcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYXN0U3VydmV5SWRcIilcclxuXHRwdWJsaWMgTGFzdFN1cnZleUlkOiBzdHJpbmc7XHJcblxyXG5cdC8vIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudGx5IGdlbmVyYXRlZCBzdXJ2ZXlcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYXN0U3VydmV5U3RhcnRUaW1lVXRjXCIpXHJcblx0cHVibGljIExhc3RTdXJ2ZXlTdGFydFRpbWVVdGM6IERhdGU7XHJcblxyXG5cdC8vIFRoZSBleHBpcmF0aW9uIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50bHkgZ2VuZXJhdGVkIHN1cnZleVxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGM6IERhdGU7XHJcblxyXG5cdC8vIFRoZSBjb29sZG93biBlbmQgdGltZSBvZiB0aGUgbW9zdCByZWNlbnRseSBnZW5lcmF0ZWQgc3VydmV5XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdENvb2xkb3duRW5kVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0Q29vbGRvd25FbmRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoY2FtcGFpZ25JZDogc3RyaW5nLCBsYXN0Tm9taW5hdGlvblRpbWU6IERhdGUsIGxhc3ROb21pbmF0aW9uQnVpbGROdW1iZXI6IHN0cmluZywgZGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlOiBudW1iZXIsXHJcblx0XHRGb3JjZUNhbmRpZGFjeTogYm9vbGVhbiwgaXNDYW5kaWRhdGU6IGJvb2xlYW4sIGRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXk6IGJvb2xlYW4sIGxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lOiBEYXRlLFxyXG5cdFx0bGFzdFN1cnZleUlkOiBzdHJpbmcsIGxhc3RTdXJ2ZXlTdGFydFRpbWU6IERhdGUsIGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZTogRGF0ZSwgbGFzdENvb2xkb3duRW5kVGltZVV0YzogRGF0ZSkge1xyXG5cdFx0dGhpcy5DYW1wYWlnbklkID0gY2FtcGFpZ25JZDtcclxuXHRcdHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjID0gbGFzdE5vbWluYXRpb25UaW1lO1xyXG5cdFx0dGhpcy5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyID0gbGFzdE5vbWluYXRpb25CdWlsZE51bWJlcjtcclxuXHRcdHRoaXMuRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlID0gZGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlO1xyXG5cdFx0dGhpcy5Gb3JjZUNhbmRpZGFjeSA9IEZvcmNlQ2FuZGlkYWN5O1xyXG5cdFx0dGhpcy5Jc0NhbmRpZGF0ZSA9IGlzQ2FuZGlkYXRlO1xyXG5cdFx0dGhpcy5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5ID0gZGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleTtcclxuXHRcdHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMgPSBsYXN0U3VydmV5QWN0aXZhdGVkVGltZTtcclxuXHRcdHRoaXMuTGFzdFN1cnZleUlkID0gbGFzdFN1cnZleUlkO1xyXG5cdFx0dGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjID0gbGFzdFN1cnZleVN0YXJ0VGltZTtcclxuXHRcdHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjID0gbGFzdFN1cnZleUV4cGlyYXRpb25UaW1lO1xyXG5cdFx0dGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID0gbGFzdENvb2xkb3duRW5kVGltZVV0YztcclxuXHJcblx0XHRpZiAoIXRoaXMudmFsaWRhdGUoKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb25zdHJ1Y3RvciBhcmd1bWVudHMgYXJlIG5vdCB2YWxpZFwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghdGhpcy5DYW1wYWlnbklkIHx8ICFpc1N0cmluZyh0aGlzLkNhbXBhaWduSWQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyKVxyXG5cdFx0XHR8fCAhaXNTdHJpbmcodGhpcy5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFVdGlscy5pc051bWJlcih0aGlzLkRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZSkgfHwgdGhpcy5EZWxldGVBZnRlclNlY29uZHNXaGVuU3RhbGUgPCAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzQm9vbGVhbih0aGlzLklzQ2FuZGlkYXRlKSB8fCAhaXNCb29sZWFuKHRoaXMuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLklzQ2FuZGlkYXRlKSB7XHJcblx0XHRcdC8vIERpc2FsbG93IHRoZSBmb2xsb3dpbmcgbnVsbCdzIGlmIGlzQ2FuZGlkYXRlID09IHRydWVcclxuXHRcdFx0aWYgKGlzTk9VKHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YykgfHwgaXNOT1UodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMYXN0U3VydmV5SWQgY291bGQgYmUgXCJcIlxyXG5cdFx0XHRpZiAoIWlzU3RyaW5nKHRoaXMuTGFzdFN1cnZleUlkKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkpIHtcclxuXHRcdFx0Ly8gRGlzYWxsb3cgdGhlIGZvbGxvd2luZyBudWxsJ3MgaWYgZGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSA9PSB0cnVlXHJcblx0XHRcdGlmIChpc05PVSh0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLkxhc3RTdXJ2ZXlJZCkpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5SWQgPSBcIlwiO1xyXG5cdFx0fSBlbHNlIGlmICghaXNTdHJpbmcodGhpcy5MYXN0U3VydmV5SWQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBMYXN0Tm9taW5hdGlvblRpbWUgZG9lcyBub3QgYWxsb3cgbnVsbFxyXG5cdFx0aWYgKGlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5MYXN0Tm9taW5hdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjKTtcclxuXHRcdC8vIGludmFsaWRhdGUgaWYgaXQncyBub3QgYSBEYXRlIG9iamVjdFxyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHZhbHVlIHRvIGRpc3RhbmNlIHBhc3QgaWYgdmFsdWUgbm90IHByb3ZpZGVkXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyA9IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHQvLyBjaGVjayBpZiBpdCdzIFVUQyBkYXRlIHRpbWUgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMpO1xyXG5cdFx0Ly8gaW52YWxpZGF0ZSBpZiBpdCdzIG5vdCBhIERhdGUgb2JqZWN0XHJcblx0XHR9IGVsc2UgaWYgKCFpc0RhdGUodGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB2YWx1ZSB0byBkaXN0YW5jZSBwYXN0IGlmIHZhbHVlIG5vdCBwcm92aWRlZFxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjID0gZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdC8vIGNoZWNrIGlmIGl0J3Mgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YyA9IHN0cmluZ1RvRGF0ZSh0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpO1xyXG5cdFx0Ly8gaW52YWxpZGF0ZSBpZiBpdCdzIG5vdCBhIERhdGUgb2JqZWN0XHJcblx0XHR9IGVsc2UgaWYgKCFpc0RhdGUodGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHZhbHVlIHRvIGRpc3RhbmNlIHBhc3QgaWYgdmFsdWUgbm90IHByb3ZpZGVkXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjID0gZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdC8vIGNoZWNrIGlmIGl0J3Mgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMgPSBzdHJpbmdUb0RhdGUodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpO1xyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHZhbHVlIHRvIGRpc3RhbmNlIHBhc3QgaWYgdmFsdWUgbm90IHByb3ZpZGVkXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3RDb29sZG93bkVuZFRpbWVVdGMgPSBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0Ly8gY2hlY2sgaWYgaXQncyBzdHJpbmcsIHBvc3NpYmx5IGNvbWluZyBmcm9tIGRlc2VyaWFsaXplIG1ldGhvZFxyXG5cdFx0fSBlbHNlIGlmIChpc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0Yyk7XHJcblx0XHR9IGVsc2UgaWYgKCFpc0RhdGUodGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWNvcmQgdGhhdCB0aGUgY3VycmVudCBzdXJ2ZXkgd2FzIHRha2VuIG9uIHRoaXMgZGF0ZVxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGRhdGUgZGF0ZVxyXG5cdCAqIEBwYXJhbSBjb29sZG93blNlY29uZHMgbnVtYmVyXHJcblx0ICovXHJcblx0cHVibGljIG1hcmtDdXJyZW50U3VydmV5VGFrZW5PbkRhdGUoZGF0ZTogRGF0ZSwgY29vbGRvd25TZWNvbmRzOiBudW1iZXIsIGlzU3VydmV5Q29tcGxldGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuXHRcdHRoaXMuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSA9IGlzU3VydmV5Q29tcGxldGU7XHJcblx0XHR0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjID0gZGF0ZSAhPSBudWxsID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblx0XHR0aGlzLkxhc3RDb29sZG93bkVuZFRpbWVVdGMgPSBVdGlscy5hZGRTZWNvbmRzV2l0aG91dE92ZXJmbG93KHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMsIGNvb2xkb3duU2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q29vbGRvd25TdGFydERhdGUoKTogRGF0ZSB7XHJcblx0XHRpZiAoIXRoaXMuSXNDYW5kaWRhdGUpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSW4gcHJhY3RpY2UgdGhpcyB3aWwgYmUgZXF1YWwgdG8gbGFzdE5vbWluYXRpb25UaW1lLCBidXRcclxuXHRcdC8vIGRpc3RyaWJ1dGlvbiBtb2RlbHMgbGlrZSBhIHJhbXAgZWZmZWN0aXZlbHkgY2F1c2UgdXMgdG9cclxuXHRcdC8vIHNoaWZ0IG91ciBcImVmZmVjdGl2ZSBub21pbmF0aW9uIGRhdGVcIiBmb3J3YXJkIHdpdGggdGhlIHN1cnZleSBzdGFydCBkYXRlXHJcblx0XHRyZXR1cm4gdGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjO1xyXG5cdH1cclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhbXBhaWduU3RhdGVQcm92aWRlciB7XHJcblx0bG9hZCgpOiBDYW1wYWlnblN0YXRlW107XHJcblxyXG5cdHNhdmUoY2FtcGFpZ25TdGF0ZXM6IENhbXBhaWduU3RhdGVbXSk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN0YXRlUHJvdmlkZXJGYWN0b3J5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZmlsZUJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcixcclxuXHRcdGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKTogSUNhbXBhaWduU3RhdGVQcm92aWRlciB7XHJcblx0XHRpZiAoaG9zdEJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEhvc3RCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlLCBob3N0QmFzZWRTdG9yYWdlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IEZpbGVCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgd2hhdCBpcyBzdG9yZWQgaW4gdGhlIGZpbGUuXHJcbiAqL1xyXG5jbGFzcyBGaWxlRGF0YSB7XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ2FtcGFpZ25TdGF0ZXNcIilcclxuXHRwdWJsaWMgQ2FtcGFpZ25TdGF0ZXM6IENhbXBhaWduU3RhdGVbXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIHtcclxuXHRwcml2YXRlIGZpbGVCYXNlZFN0YXRlUHJvdmlkZXI6IElDYW1wYWlnblN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlLWJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0YXRlUHJvdmlkZXIgPSBuZXcgRmlsZUJhc2VkQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvYWQoKTogQ2FtcGFpZ25TdGF0ZVtdIHtcclxuXHRcdGNvbnN0IHN0YXRlc0Zyb21Ib3N0OiBDYW1wYWlnblN0YXRlW10gPSB0aGlzLmdldFN0YXRlc0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN0YXRlc0Zyb21GaWxlOiBDYW1wYWlnblN0YXRlW107XHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHN0YXRlc0Zyb21GaWxlID0gdGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyLmxvYWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBTdGF0ZUNvbGxlY3Rpb25zID0gU3RhdGVQcm92aWRlckhlbHBlcnMuTWVyZ2VBbmRVcGRhdGVDYW1wYWlnblN0YXRlcyhzdGF0ZXNGcm9tRmlsZSwgc3RhdGVzRnJvbUhvc3QpO1xyXG5cdFx0cmV0dXJuIFN0YXRlQ29sbGVjdGlvbnMuZmluZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShjYW1wYWlnblN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdKTogdm9pZCB7XHJcblx0XHRpZiAoIWNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGF0ZXNGcm9tSG9zdDogQ2FtcGFpZ25TdGF0ZVtdID0gdGhpcy5nZXRTdGF0ZXNGcm9tSG9zdCgpO1xyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlQ2FtcGFpZ25TdGF0ZXMoY2FtcGFpZ25TdGF0ZXMsIHN0YXRlc0Zyb21Ib3N0KTtcclxuXHRcdGNvbnN0IHRvQmVVcGRhdGVkU3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFN0YXRlQ29sbGVjdGlvbnMuZmluZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCk7XHJcblxyXG5cdFx0Ly8gd3JpdGUgZGVsdGFfZGF0YSB0byBob3N0XHJcblx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0ZXMpIHtcclxuXHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCBzdGF0ZVZhbHVlOiBzdHJpbmcgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5tYWtlU2V0dGluZ0l0ZW1WYWx1ZShKU09OLnN0cmluZ2lmeShzdGF0ZSkpO1xyXG5cdFx0XHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZS51cHNlcnRTZXR0aW5nSXRlbShGaWxlVHlwZVtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc10sIHN0YXRlLkNhbXBhaWduSWQsIHN0YXRlVmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5zYXZlKG1lcmdlZFN0YXRlcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFN0YXRlc0Zyb21Ib3N0KCk6IENhbXBhaWduU3RhdGVbXSB7XHJcblx0XHRjb25zdCBzdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFtdO1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3M6IElGbG9vZGdhdGVTZXR0aW5nID0gdGhpcy5ob3N0QmFzZWRTdG9yYWdlLnJlYWRTZXR0aW5nTGlzdChGaWxlVHlwZVtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc10pO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHNldHRpbmdzKSB7XHJcblx0XHRcdGlmICghc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHNldHRpbmdzW2tleV07XHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGxldCBpdGVtT2JqZWN0OiBhbnkgPSB7fTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpdGVtT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IENhbXBhaWduU3RhdGUgPSBDYW1wYWlnblN0YXRlLmRlc2VyaWFsaXplKGl0ZW1PYmplY3QpO1xyXG5cdFx0XHRcdGlmIChuZXdTdGF0ZSkge1xyXG5cdFx0XHRcdFx0c3RhdGVzLnB1c2gobmV3U3RhdGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5Ib3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIuR2V0U3RhdGVzRnJvbUhvc3QuRmFpbGVkLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyBkYXRhU3RyaW5nIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXRlcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIHtcclxuXHRwcml2YXRlIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXI7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyKSB7XHJcblx0XHRpZiAoIXN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RvcmFnZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9hZCgpOiBDYW1wYWlnblN0YXRlW10ge1xyXG5cdFx0Y29uc3QgcmVhZFN0cmluZzogc3RyaW5nID0gdGhpcy5zdG9yYWdlLnJlYWQoRmlsZVR5cGUuQ2FtcGFpZ25TdGF0ZXMpO1xyXG5cdFx0aWYgKCFyZWFkU3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZmlsZURhdGE6IEZpbGVEYXRhO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZmlsZURhdGEgPSBKU09OLnBhcnNlKHJlYWRTdHJpbmcpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0OiBDYW1wYWlnblN0YXRlW10gPSBbXTtcclxuXHRcdFx0aWYgKGZpbGVEYXRhICYmIGZpbGVEYXRhLkNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdFx0ZmlsZURhdGEuQ2FtcGFpZ25TdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBDYW1wYWlnblN0YXRlID0gQ2FtcGFpZ25TdGF0ZS5kZXNlcmlhbGl6ZShzdGF0ZSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKG5ld1N0YXRlKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKG5ld1N0YXRlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIuTG9hZC5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyByZWFkU3RyaW5nIH0pO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShjYW1wYWlnblN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdKTogdm9pZCB7XHJcblx0XHRpZiAoIWNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWxlRGF0YSA9IG5ldyBGaWxlRGF0YSgpO1xyXG5cdFx0ZmlsZURhdGEuQ2FtcGFpZ25TdGF0ZXMgPSBjYW1wYWlnblN0YXRlcztcclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmaWxlRGF0YSk7XHJcblx0XHR0aGlzLnN0b3JhZ2Uud3JpdGUoRmlsZVR5cGUuQ2FtcGFpZ25TdGF0ZXMsIHdyaXRlU3RyaW5nKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js":
/*!*******************************************************************!*\
  !*** ../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CampaignSurveyFactory = void 0;\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar SurveyEvents_1 = __webpack_require__(/*! ../SurveyEvents */ \"../FloodgateCore/dist/src/SurveyEvents.js\");\nvar SurveyMetadata_1 = __webpack_require__(/*! ../SurveyMetadata */ \"../FloodgateCore/dist/src/SurveyMetadata.js\");\nvar FpsSurvey = __webpack_require__(/*! ../Surveys/FpsSurvey */ \"../FloodgateCore/dist/src/Surveys/FpsSurvey.js\");\nvar GenericMessagingSurfaceSurvey = __webpack_require__(/*! ../Surveys/GenericMessagingSurfaceSurvey */ \"../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js\");\nvar InterceptSurvey = __webpack_require__(/*! ../Surveys/InterceptSurvey */ \"../FloodgateCore/dist/src/Surveys/InterceptSurvey.js\");\nvar NlqsSurvey = __webpack_require__(/*! ../Surveys/NlqsSurvey */ \"../FloodgateCore/dist/src/Surveys/NlqsSurvey.js\");\nvar NpsSurvey = __webpack_require__(/*! ../Surveys/NpsSurvey */ \"../FloodgateCore/dist/src/Surveys/NpsSurvey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ../Surveys/SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nvar dateToShortUtcString = Utils.dateToShortUtcString, isNOU = Utils.isNOU;\n/**\n * Contains methods to take a campaign definition + state and generate an ISurvey\n */\nvar CampaignSurveyFactory = /** @class */ (function () {\n    function CampaignSurveyFactory() {\n    }\n    CampaignSurveyFactory.makeSurvey = function (state, definition, stringProvider) {\n        if (!state || !definition || !definition.surveyTemplate || !stringProvider) {\n            return null;\n        }\n        var surveyDataSource = CampaignSurveyFactory.makeSurveyDataSourceData(state, definition);\n        var surveyModel = definition.surveyTemplate;\n        if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps5PointStatic) {\n            return NpsSurvey.make5Point(surveyDataSource, stringProvider);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps11PointStatic) {\n            return NpsSurvey.make11Point(surveyDataSource, stringProvider);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateFps) {\n            return FpsSurvey.makeFps(surveyDataSource, stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNlqs) {\n            return NlqsSurvey.makeNlqs(surveyDataSource, stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps) {\n            return NpsSurvey.makeCustom(surveyDataSource, stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateGenericMessagingSurface) {\n            return GenericMessagingSurfaceSurvey.makeCustom(surveyDataSource);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateIntercept) {\n            return InterceptSurvey.makeIntercept(surveyDataSource, stringProvider, surveyModel);\n        }\n        else {\n            return null;\n        }\n    };\n    CampaignSurveyFactory.makeSurveyDataSourceData = function (state, definition) {\n        if (!state || !definition || !definition.surveyTemplate) {\n            return null;\n        }\n        var surveyModel = definition.surveyTemplate;\n        var surveyData = new SurveyDataSource.SurveyDataSourceData();\n        surveyData.activationEvent = CampaignSurveyFactory.makeEvent(state, surveyModel.activationEvent);\n        surveyData.metadata = CampaignSurveyFactory.makeMetadata(surveyModel.metadata);\n        surveyData.id = state.LastSurveyId;\n        surveyData.backEndIdentifier = state.CampaignId;\n        surveyData.expirationTimeUtc = dateToShortUtcString(state.LastSurveyExpirationTimeUtc);\n        surveyData.governedChannelType = definition.governedChannelType;\n        surveyData.startTimeUtc = dateToShortUtcString(state.LastSurveyStartTimeUtc);\n        surveyData.additionalDataRequested = definition.additionalDataRequested || [];\n        surveyData.launcherType = definition.launcherType || ISurvey.LAUNCHER_TYPE_DEFAULT;\n        surveyData.preferredLaunchType = definition.surveyTemplate.preferredLaunchType || \"Default\" /* Default */;\n        surveyData.businessLevel = definition.businessLevel;\n        if (!isNOU(surveyModel.maxLaunches)) {\n            surveyData.maxLaunches = surveyModel.maxLaunches;\n        }\n        if (!isNOU(surveyModel.maxLaunchesPerSession)) {\n            surveyData.maxLaunchesPerSession = surveyModel.maxLaunchesPerSession;\n        }\n        return surveyData;\n    };\n    CampaignSurveyFactory.makeCountedActivityEventData = function (eventModel) {\n        if (!eventModel) {\n            return null;\n        }\n        var eventData = new SurveyEvents_1.CountedActivityEventData();\n        eventData.activity = eventModel.activity;\n        eventData.count = eventModel.count;\n        eventData.isAggregate = eventModel.isAggregate;\n        return eventData;\n    };\n    CampaignSurveyFactory.makeCountedActivityEvent = function (state, eventModel) {\n        if (!state || !eventModel) {\n            return null;\n        }\n        var eventData = CampaignSurveyFactory.makeCountedActivityEventData(eventModel);\n        if (!eventData) {\n            return null;\n        }\n        return new SurveyEvents_1.CountedActivityEvent(eventData);\n    };\n    CampaignSurveyFactory.makeCountedActivitySequenceEvent = function (state, eventModel) {\n        if (!state || !eventModel) {\n            return null;\n        }\n        var sequenceEventData = new SurveyEvents_1.CountedActivitySequenceEventData();\n        sequenceEventData.sequence = [];\n        for (var _i = 0, _a = eventModel.sequence; _i < _a.length; _i++) {\n            var event_1 = _a[_i];\n            var eventData = CampaignSurveyFactory.makeCountedActivityEventData(event_1);\n            if (!eventData) {\n                return null;\n            }\n            sequenceEventData.sequence.push(eventData);\n        }\n        return new SurveyEvents_1.CountedActivitySequenceEvent(sequenceEventData);\n    };\n    CampaignSurveyFactory.makeEvent = function (state, eventModel) {\n        if (eventModel instanceof CampaignDefinitionProvider_1.CampaignSurveyEventCountedActivity) {\n            return CampaignSurveyFactory.makeCountedActivityEvent(state, eventModel);\n        }\n        else if (eventModel instanceof CampaignDefinitionProvider_1.CampaignSurveyEventCountedActivitySequence) {\n            return CampaignSurveyFactory.makeCountedActivitySequenceEvent(state, eventModel);\n        }\n        else {\n            return null;\n        }\n    };\n    CampaignSurveyFactory.makeMetadata = function (metadataModel) {\n        if (isNOU(metadataModel) || isNOU(metadataModel.contentMetadata)) {\n            return null;\n        }\n        var metadata = new SurveyMetadata_1.Metadata();\n        metadata.contentMetadata = metadataModel.contentMetadata;\n        return new SurveyMetadata_1.SurveyMetadata(metadata);\n    };\n    return CampaignSurveyFactory;\n}());\nexports.CampaignSurveyFactory = CampaignSurveyFactory;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduU3VydmV5RmFjdG9yeS50cz8xZGQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG9HQUEwQztBQUsxQyw2R0FHeUI7QUFDekIsbUhBQTZEO0FBQzdELGtIQUFrRDtBQUNsRCw4S0FBMEY7QUFDMUYsb0lBQThEO0FBQzlELHFIQUFvRDtBQUNwRCxrSEFBa0Q7QUFDbEQsdUlBQWdFO0FBQ2hFLHNGQUFrQztBQUNsQywrSkFLc0M7QUFHOUIsd0JBQW9CLEdBQVksS0FBSyxxQkFBakIsRUFBRSxLQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFOUM7O0dBRUc7QUFDSDtJQUFBO0lBNkhBLENBQUM7SUE1SGMsZ0NBQVUsR0FBeEIsVUFBeUIsS0FBb0IsRUFBRSxVQUE4QixFQUFFLGNBQXdDO1FBQ3RILElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQzNFLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLHdCQUF3QixDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMzRixJQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDO1FBQzlDLElBQUksV0FBVyxZQUFZLGtFQUFxQyxFQUFFO1lBQ2pFLE9BQU8sU0FBUyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUM5RDthQUFNLElBQUksV0FBVyxZQUFZLG1FQUFzQyxFQUFFO1lBQ3pFLE9BQU8sU0FBUyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUMvRDthQUFNLElBQUksV0FBVyxZQUFZLHNEQUF5QixFQUFFO1lBQzVELE9BQU8sU0FBUyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDeEU7YUFBTSxJQUFJLFdBQVcsWUFBWSx1REFBMEIsRUFBRTtZQUM3RCxPQUFPLFVBQVUsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQzFFO2FBQU0sSUFBSSxXQUFXLFlBQVksc0RBQXlCLEVBQUU7WUFDNUQsT0FBTyxTQUFTLENBQUMsVUFBVSxDQUFDLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUMzRTthQUFNLElBQUksV0FBVyxZQUFZLDBFQUE2QyxFQUFFO1lBQ2hGLE9BQU8sNkJBQTZCLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDbEU7YUFBTSxJQUFJLFdBQVcsWUFBWSw0REFBK0IsRUFBRTtZQUNsRSxPQUFPLGVBQWUsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3BGO2FBQU07WUFDTixPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVjLDhDQUF3QixHQUF2QyxVQUF3QyxLQUFvQixFQUFFLFVBQThCO1FBQzNGLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFO1lBQ3hELE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDO1FBQzlDLElBQU0sVUFBVSxHQUFHLElBQUksZ0JBQWdCLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUMvRCxVQUFVLENBQUMsZUFBZSxHQUFHLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pHLFVBQVUsQ0FBQyxRQUFRLEdBQUcscUJBQXFCLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvRSxVQUFVLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7UUFDbkMsVUFBVSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7UUFDaEQsVUFBVSxDQUFDLGlCQUFpQixHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQ3ZGLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLENBQUMsbUJBQW1CLENBQUM7UUFDaEUsVUFBVSxDQUFDLFlBQVksR0FBRyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUM3RSxVQUFVLENBQUMsdUJBQXVCLEdBQUcsVUFBVSxDQUFDLHVCQUF1QixJQUFLLEVBQUUsQ0FBQztRQUMvRSxVQUFVLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQyxZQUFZLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDO1FBQ25GLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDLG1CQUFtQiwyQkFBa0MsQ0FBQztRQUNqSCxVQUFVLENBQUMsYUFBYSxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUM7UUFFcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDcEMsVUFBVSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDO1NBQ2pEO1FBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUM5QyxVQUFVLENBQUMscUJBQXFCLEdBQUcsV0FBVyxDQUFDLHFCQUFxQixDQUFDO1NBQ3JFO1FBRUQsT0FBTyxVQUFVLENBQUM7SUFDbkIsQ0FBQztJQUVjLGtEQUE0QixHQUEzQyxVQUE0QyxVQUE4QztRQUN6RixJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2hCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLFNBQVMsR0FBRyxJQUFJLHVDQUF3QixFQUFFLENBQUM7UUFDakQsU0FBUyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQ3pDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQztRQUNuQyxTQUFTLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUM7UUFFL0MsT0FBTyxTQUFTLENBQUM7SUFDbEIsQ0FBQztJQUVjLDhDQUF3QixHQUF2QyxVQUF3QyxLQUFvQixFQUFFLFVBQThDO1FBQzNHLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0sU0FBUyxHQUE2QixxQkFBcUIsQ0FBQyw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzRyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2YsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELE9BQU8sSUFBSSxtQ0FBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRWMsc0RBQWdDLEdBQS9DLFVBQWdELEtBQW9CLEVBQ25FLFVBQXNEO1FBRXRELElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0saUJBQWlCLEdBQUcsSUFBSSwrQ0FBZ0MsRUFBRSxDQUFDO1FBQ2pFLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFFaEMsS0FBb0IsVUFBbUIsRUFBbkIsZUFBVSxDQUFDLFFBQVEsRUFBbkIsY0FBbUIsRUFBbkIsSUFBbUIsRUFBRTtZQUFwQyxJQUFNLE9BQUs7WUFDZixJQUFNLFNBQVMsR0FBNkIscUJBQXFCLENBQUMsNEJBQTRCLENBQUMsT0FBSyxDQUFDLENBQUM7WUFDdEcsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDZixPQUFPLElBQUksQ0FBQzthQUNaO1lBRUQsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMzQztRQUVELE9BQU8sSUFBSSwyQ0FBNEIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFYywrQkFBUyxHQUF4QixVQUF5QixLQUFvQixFQUFFLFVBQStCO1FBQzdFLElBQUksVUFBVSxZQUFZLCtEQUFrQyxFQUFFO1lBQzdELE9BQU8scUJBQXFCLENBQUMsd0JBQXdCLENBQUMsS0FBSyxFQUFFLFVBQWdELENBQUMsQ0FBQztTQUMvRzthQUFNLElBQUksVUFBVSxZQUFZLHVFQUEwQyxFQUFFO1lBQzVFLE9BQU8scUJBQXFCLENBQUMsZ0NBQWdDLENBQUMsS0FBSyxFQUFFLFVBQXdELENBQUMsQ0FBQztTQUMvSDthQUFNO1lBQ04sT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFFYyxrQ0FBWSxHQUEzQixVQUE0QixhQUFxQztRQUNoRSxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ2pFLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLFFBQVEsR0FBRyxJQUFJLHlCQUFRLEVBQUUsQ0FBQztRQUNoQyxRQUFRLENBQUMsZUFBZSxHQUFHLGFBQWEsQ0FBQyxlQUFlLENBQUM7UUFFekQsT0FBTyxJQUFJLCtCQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNGLDRCQUFDO0FBQUQsQ0FBQztBQTdIWSxzREFBcUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9DYW1wYWlnbi9DYW1wYWlnblN1cnZleUZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUV2ZW50IGZyb20gXCIuLi9JU3VydmV5RXZlbnRcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuLi9JU3VydmV5TWV0YWRhdGFcIjtcclxuaW1wb3J0IHtcclxuXHRDb3VudGVkQWN0aXZpdHlFdmVudCwgQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhLCBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50LCBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSxcclxuXHRJQ291bnRlZEFjdGl2aXR5RXZlbnQsIElDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50LFxyXG59IGZyb20gXCIuLi9TdXJ2ZXlFdmVudHNcIjtcclxuaW1wb3J0IHsgTWV0YWRhdGEsIFN1cnZleU1ldGFkYXRhIH0gZnJvbSBcIi4uL1N1cnZleU1ldGFkYXRhXCI7XHJcbmltcG9ydCAqIGFzIEZwc1N1cnZleSBmcm9tIFwiLi4vU3VydmV5cy9GcHNTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkgZnJvbSBcIi4uL1N1cnZleXMvR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSW50ZXJjZXB0U3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL0ludGVyY2VwdFN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBObHFzU3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL05scXNTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgTnBzU3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL05wc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuLi9TdXJ2ZXlzL1N1cnZleURhdGFTb3VyY2VcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7XHJcblx0Q2FtcGFpZ25EZWZpbml0aW9uLFxyXG5cdENhbXBhaWduU3VydmV5RXZlbnQsIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHksIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSwgQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSxcclxuXHRDYW1wYWlnblN1cnZleVRlbXBsYXRlLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlRnBzLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UsIENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQsXHJcblx0Q2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5scXMsIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMsIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljLFxyXG59IGZyb20gXCIuL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3RhdGUgfSBmcm9tIFwiLi9DYW1wYWlnblN0YXRlUHJvdmlkZXJcIjtcclxuXHJcbmNvbnN0IHsgZGF0ZVRvU2hvcnRVdGNTdHJpbmcsIGlzTk9VIH0gPSBVdGlscztcclxuXHJcbi8qKlxyXG4gKiBDb250YWlucyBtZXRob2RzIHRvIHRha2UgYSBjYW1wYWlnbiBkZWZpbml0aW9uICsgc3RhdGUgYW5kIGdlbmVyYXRlIGFuIElTdXJ2ZXlcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZVN1cnZleShzdGF0ZTogQ2FtcGFpZ25TdGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uLCBzdHJpbmdQcm92aWRlcjogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyKTogSVN1cnZleSB7XHJcblx0XHRpZiAoIXN0YXRlIHx8ICFkZWZpbml0aW9uIHx8ICFkZWZpbml0aW9uLnN1cnZleVRlbXBsYXRlIHx8ICFzdHJpbmdQcm92aWRlcikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdXJ2ZXlEYXRhU291cmNlID0gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VTdXJ2ZXlEYXRhU291cmNlRGF0YShzdGF0ZSwgZGVmaW5pdGlvbik7XHJcblx0XHRjb25zdCBzdXJ2ZXlNb2RlbCA9IGRlZmluaXRpb24uc3VydmV5VGVtcGxhdGU7XHJcblx0XHRpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljKSB7XHJcblx0XHRcdHJldHVybiBOcHNTdXJ2ZXkubWFrZTVQb2ludChzdXJ2ZXlEYXRhU291cmNlLCBzdHJpbmdQcm92aWRlcik7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMpIHtcclxuXHRcdFx0cmV0dXJuIE5wc1N1cnZleS5tYWtlMTFQb2ludChzdXJ2ZXlEYXRhU291cmNlLCBzdHJpbmdQcm92aWRlcik7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcykge1xyXG5cdFx0XHRyZXR1cm4gRnBzU3VydmV5Lm1ha2VGcHMoc3VydmV5RGF0YVNvdXJjZSwgc3RyaW5nUHJvdmlkZXIsIHN1cnZleU1vZGVsKTtcclxuXHRcdH0gZWxzZSBpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcykge1xyXG5cdFx0XHRyZXR1cm4gTmxxc1N1cnZleS5tYWtlTmxxcyhzdXJ2ZXlEYXRhU291cmNlLCBzdHJpbmdQcm92aWRlciwgc3VydmV5TW9kZWwpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMpIHtcclxuXHRcdFx0cmV0dXJuIE5wc1N1cnZleS5tYWtlQ3VzdG9tKHN1cnZleURhdGFTb3VyY2UsIHN0cmluZ1Byb3ZpZGVyLCBzdXJ2ZXlNb2RlbCk7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlKSB7XHJcblx0XHRcdHJldHVybiBHZW5lcmljTWVzc2FnaW5nU3VyZmFjZVN1cnZleS5tYWtlQ3VzdG9tKHN1cnZleURhdGFTb3VyY2UpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQpIHtcclxuXHRcdFx0cmV0dXJuIEludGVyY2VwdFN1cnZleS5tYWtlSW50ZXJjZXB0KHN1cnZleURhdGFTb3VyY2UsIHN0cmluZ1Byb3ZpZGVyLCBzdXJ2ZXlNb2RlbCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VTdXJ2ZXlEYXRhU291cmNlRGF0YShzdGF0ZTogQ2FtcGFpZ25TdGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uKTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSB7XHJcblx0XHRpZiAoIXN0YXRlIHx8ICFkZWZpbml0aW9uIHx8ICFkZWZpbml0aW9uLnN1cnZleVRlbXBsYXRlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1cnZleU1vZGVsID0gZGVmaW5pdGlvbi5zdXJ2ZXlUZW1wbGF0ZTtcclxuXHRcdGNvbnN0IHN1cnZleURhdGEgPSBuZXcgU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSgpO1xyXG5cdFx0c3VydmV5RGF0YS5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZUV2ZW50KHN0YXRlLCBzdXJ2ZXlNb2RlbC5hY3RpdmF0aW9uRXZlbnQpO1xyXG5cdFx0c3VydmV5RGF0YS5tZXRhZGF0YSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlTWV0YWRhdGEoc3VydmV5TW9kZWwubWV0YWRhdGEpO1xyXG5cdFx0c3VydmV5RGF0YS5pZCA9IHN0YXRlLkxhc3RTdXJ2ZXlJZDtcclxuXHRcdHN1cnZleURhdGEuYmFja0VuZElkZW50aWZpZXIgPSBzdGF0ZS5DYW1wYWlnbklkO1xyXG5cdFx0c3VydmV5RGF0YS5leHBpcmF0aW9uVGltZVV0YyA9IGRhdGVUb1Nob3J0VXRjU3RyaW5nKHN0YXRlLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHRzdXJ2ZXlEYXRhLmdvdmVybmVkQ2hhbm5lbFR5cGUgPSBkZWZpbml0aW9uLmdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0XHRzdXJ2ZXlEYXRhLnN0YXJ0VGltZVV0YyA9IGRhdGVUb1Nob3J0VXRjU3RyaW5nKHN0YXRlLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpO1xyXG5cdFx0c3VydmV5RGF0YS5hZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCA9IGRlZmluaXRpb24uYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgIHx8IFtdO1xyXG5cdFx0c3VydmV5RGF0YS5sYXVuY2hlclR5cGUgPSBkZWZpbml0aW9uLmxhdW5jaGVyVHlwZSB8fCBJU3VydmV5LkxBVU5DSEVSX1RZUEVfREVGQVVMVDtcclxuXHRcdHN1cnZleURhdGEucHJlZmVycmVkTGF1bmNoVHlwZSA9IGRlZmluaXRpb24uc3VydmV5VGVtcGxhdGUucHJlZmVycmVkTGF1bmNoVHlwZSB8fCBJU3VydmV5SW5mby5MYXVuY2hUeXBlLkRlZmF1bHQ7XHJcblx0XHRzdXJ2ZXlEYXRhLmJ1c2luZXNzTGV2ZWwgPSBkZWZpbml0aW9uLmJ1c2luZXNzTGV2ZWw7XHJcblxyXG5cdFx0aWYgKCFpc05PVShzdXJ2ZXlNb2RlbC5tYXhMYXVuY2hlcykpIHtcclxuXHRcdFx0c3VydmV5RGF0YS5tYXhMYXVuY2hlcyA9IHN1cnZleU1vZGVsLm1heExhdW5jaGVzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOT1Uoc3VydmV5TW9kZWwubWF4TGF1bmNoZXNQZXJTZXNzaW9uKSkge1xyXG5cdFx0XHRzdXJ2ZXlEYXRhLm1heExhdW5jaGVzUGVyU2Vzc2lvbiA9IHN1cnZleU1vZGVsLm1heExhdW5jaGVzUGVyU2Vzc2lvbjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3VydmV5RGF0YTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VDb3VudGVkQWN0aXZpdHlFdmVudERhdGEoZXZlbnRNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSk6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSB7XHJcblx0XHRpZiAoIWV2ZW50TW9kZWwpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZXZlbnREYXRhID0gbmV3IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSgpO1xyXG5cdFx0ZXZlbnREYXRhLmFjdGl2aXR5ID0gZXZlbnRNb2RlbC5hY3Rpdml0eTtcclxuXHRcdGV2ZW50RGF0YS5jb3VudCA9IGV2ZW50TW9kZWwuY291bnQ7XHJcblx0XHRldmVudERhdGEuaXNBZ2dyZWdhdGUgPSBldmVudE1vZGVsLmlzQWdncmVnYXRlO1xyXG5cclxuXHRcdHJldHVybiBldmVudERhdGE7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBtYWtlQ291bnRlZEFjdGl2aXR5RXZlbnQoc3RhdGU6IENhbXBhaWduU3RhdGUsIGV2ZW50TW9kZWw6IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkpOiBJQ291bnRlZEFjdGl2aXR5RXZlbnQge1xyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZXZlbnRNb2RlbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBldmVudERhdGE6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhKGV2ZW50TW9kZWwpO1xyXG5cdFx0aWYgKCFldmVudERhdGEpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBDb3VudGVkQWN0aXZpdHlFdmVudChldmVudERhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZUNvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQoc3RhdGU6IENhbXBhaWduU3RhdGUsXHJcblx0XHRldmVudE1vZGVsOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UpOiBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCB7XHJcblxyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZXZlbnRNb2RlbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzZXF1ZW5jZUV2ZW50RGF0YSA9IG5ldyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSgpO1xyXG5cdFx0c2VxdWVuY2VFdmVudERhdGEuc2VxdWVuY2UgPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50TW9kZWwuc2VxdWVuY2UpIHtcclxuXHRcdFx0Y29uc3QgZXZlbnREYXRhOiBDb3VudGVkQWN0aXZpdHlFdmVudERhdGEgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZUNvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YShldmVudCk7XHJcblx0XHRcdGlmICghZXZlbnREYXRhKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlcXVlbmNlRXZlbnREYXRhLnNlcXVlbmNlLnB1c2goZXZlbnREYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IENvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQoc2VxdWVuY2VFdmVudERhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZUV2ZW50KHN0YXRlOiBDYW1wYWlnblN0YXRlLCBldmVudE1vZGVsOiBDYW1wYWlnblN1cnZleUV2ZW50KTogSVN1cnZleUV2ZW50IHtcclxuXHRcdGlmIChldmVudE1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSkge1xyXG5cdFx0XHRyZXR1cm4gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VDb3VudGVkQWN0aXZpdHlFdmVudChzdGF0ZSwgZXZlbnRNb2RlbCBhcyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5KTtcclxuXHRcdH0gZWxzZSBpZiAoZXZlbnRNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSkge1xyXG5cdFx0XHRyZXR1cm4gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50KHN0YXRlLCBldmVudE1vZGVsIGFzIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VNZXRhZGF0YShtZXRhZGF0YU1vZGVsOiBDYW1wYWlnblN1cnZleU1ldGFkYXRhKTogSVN1cnZleU1ldGFkYXRhIHtcclxuXHRcdGlmIChpc05PVShtZXRhZGF0YU1vZGVsKSB8fCBpc05PVShtZXRhZGF0YU1vZGVsLmNvbnRlbnRNZXRhZGF0YSkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbWV0YWRhdGEgPSBuZXcgTWV0YWRhdGEoKTtcclxuXHRcdG1ldGFkYXRhLmNvbnRlbnRNZXRhZGF0YSA9IG1ldGFkYXRhTW9kZWwuY29udGVudE1ldGFkYXRhO1xyXG5cclxuXHRcdHJldHVybiBuZXcgU3VydmV5TWV0YWRhdGEobWV0YWRhdGEpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Constants.js":
/*!**********************************************!*\
  !*** ../FloodgateCore/dist/src/Constants.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Constants.ts\n *\n * A module for all the constants.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryEvent = void 0;\n/**\n * Telemetry events\n */\nvar TelemetryEvent = /** @class */ (function () {\n    function TelemetryEvent() {\n    }\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11;\n    TelemetryEvent.CampaignState = (_a = /** @class */ (function () {\n            function class_1() {\n            }\n            return class_1;\n        }()),\n        _a.Deserialize = (_b = /** @class */ (function () {\n                function class_2() {\n                }\n                return class_2;\n            }()),\n            _b.Failed = \"FloodgateCore_CampaignState_Deserialize_Failed\",\n            _b),\n        _a);\n    TelemetryEvent.FileBasedCampaignStateProvider = (_c = /** @class */ (function () {\n            function class_3() {\n            }\n            return class_3;\n        }()),\n        _c.Load = (_d = /** @class */ (function () {\n                function class_4() {\n                }\n                return class_4;\n            }()),\n            _d.Failed = \"FloodgateCore_FileBasedCampaignStateProvider_Load_Failed\",\n            _d),\n        _c);\n    TelemetryEvent.HostBasedCampaignStateProvider = (_e = /** @class */ (function () {\n            function class_5() {\n            }\n            return class_5;\n        }()),\n        _e.GetStatesFromHost = (_f = /** @class */ (function () {\n                function class_6() {\n                }\n                return class_6;\n            }()),\n            _f.Failed = \"FloodgateCore_HostBasedCampaignStateProvider_GetStatesFromHost_Failed\",\n            _f),\n        _e);\n    TelemetryEvent.Floodgate = (_g = /** @class */ (function () {\n            function class_7() {\n            }\n            return class_7;\n        }()),\n        _g.Initialize = (_h = /** @class */ (function () {\n                function class_8() {\n                }\n                return class_8;\n            }()),\n            _h.Failed = \"FloodgateCore_Floodgate_Initialize_Failed\",\n            _h),\n        _g.Start = (_j = /** @class */ (function () {\n                function class_9() {\n                }\n                return class_9;\n            }()),\n            _j.Failed = \"FloodgateCore_Floodgate_Start_Failed\",\n            _j.Warning = \"FloodgateCore_Floodgate_Start_Warning\",\n            _j.SurveysDisabled = \"FloodgateCore_Floodgate_Start_SurveysDisabled\",\n            _j),\n        _g.UserFactsLoad = (_k = /** @class */ (function () {\n                function class_10() {\n                }\n                return class_10;\n            }()),\n            _k.Failed = \"FloodgateCore_Floodgate_UserFactsLoad_Failed\",\n            _k),\n        _g.UserFactsSpecDeserialization = (_l = /** @class */ (function () {\n                function class_11() {\n                }\n                return class_11;\n            }()),\n            _l.Failed = \"FloodgateCore_Floodgate_UserFactsSpecDeserialization_Failed\",\n            _l),\n        _g.UserFactsSpecIsAMatch = (_m = /** @class */ (function () {\n                function class_12() {\n                }\n                return class_12;\n            }()),\n            _m.Failed = \"FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Failed\",\n            _m.Mismatch = \"FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Mismatch\",\n            _m.Summary = \"FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Summary\",\n            _m),\n        _g);\n    TelemetryEvent.FloodgateEngine = (_o = /** @class */ (function () {\n            function class_13() {\n            }\n            return class_13;\n        }()),\n        _o.Make = (_p = /** @class */ (function () {\n                function class_14() {\n                }\n                return class_14;\n            }()),\n            _p.Failed = \"FloodgateCore_FloodgateEngine_Make_Failed\",\n            _p),\n        _o.Common = (_q = /** @class */ (function () {\n                function class_15() {\n                }\n                return class_15;\n            }()),\n            _q.Error = \"FloodgateCore_FloodgateEngine_Common_Error\",\n            _q),\n        _o.Start = (_r = /** @class */ (function () {\n                function class_16() {\n                }\n                return class_16;\n            }()),\n            _r.Failed = \"FloodgateCore_FloodgateEngine_Start_Failed\",\n            _r),\n        _o.StartAsync = (_s = /** @class */ (function () {\n                function class_17() {\n                }\n                return class_17;\n            }()),\n            _s.Failed = \"FloodgateCore_FloodgateEngine_StartAsync_Failed\",\n            _s.Stopped = \"FloodgateCore_FloodgateEngine_StartAsync_Stopped\",\n            _s),\n        _o.OnSurveyActivated = (_t = /** @class */ (function () {\n                function class_18() {\n                }\n                return class_18;\n            }()),\n            _t.ActivationStatsSuppressedSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationStatsSuppressedSurvey\",\n            _t.ClosedChannelType = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ClosedChannelType\",\n            _t.SurveyNotDefined = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_SurveyNotDefined\",\n            _t.SessionSuppressedSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_SessionSuppressedSurvey\",\n            _t.ActivationExpiredSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationExpiredSurvey\",\n            _t.ActivationIrrelevantSurvey = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationIrrelevantSurvey\",\n            _t.Error = \"FloodgateCore_FloodgateEngine_OnSurveyActivated_Error\",\n            _t),\n        _o.CheckGovernanceServiceAndActivateSurvey = (_u = /** @class */ (function () {\n                function class_19() {\n                }\n                return class_19;\n            }()),\n            _u.GovernanceServiceForceToDisplay = \"FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceForceToDisplay\",\n            _u.GovernanceServiceClientCompleted = \"FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceClientCompleted\",\n            _u),\n        _o);\n    TelemetryEvent.GovernedChannelState = (_v = /** @class */ (function () {\n            function class_20() {\n            }\n            return class_20;\n        }()),\n        _v.Deserialize = (_w = /** @class */ (function () {\n                function class_21() {\n                }\n                return class_21;\n            }()),\n            _w.Failed = \"FloodgateCore_GovernedChannelState_Deserialize_Failed\",\n            _w),\n        _v);\n    TelemetryEvent.FileBasedGovernedChannelStateProvider = (_x = /** @class */ (function () {\n            function class_22() {\n            }\n            return class_22;\n        }()),\n        _x.Load = (_y = /** @class */ (function () {\n                function class_23() {\n                }\n                return class_23;\n            }()),\n            _y.Failed = \"FloodgateCore_FileBasedGovernedChannelStateProvider_Load_Failed\",\n            _y),\n        _x);\n    TelemetryEvent.HostBasedGovernedChannelStateProvider = (_z = /** @class */ (function () {\n            function class_24() {\n            }\n            return class_24;\n        }()),\n        _z.GetStatesFromHost = (_0 = /** @class */ (function () {\n                function class_25() {\n                }\n                return class_25;\n            }()),\n            _0.Failed = \"FloodgateCore_HostBasedGovernedChannelStateProvider_GetStatesFromHost_Failed\",\n            _0),\n        _z);\n    TelemetryEvent.SurveyStatCollectionActivation = (_1 = /** @class */ (function () {\n            function class_26() {\n            }\n            return class_26;\n        }()),\n        _1.FromJson = (_2 = /** @class */ (function () {\n                function class_27() {\n                }\n                return class_27;\n            }()),\n            _2.Failed = \"FloodgateCore_SurveyStatCollectionActivation_FromJson_Failed\",\n            _2),\n        _1.ToJson = (_3 = /** @class */ (function () {\n                function class_28() {\n                }\n                return class_28;\n            }()),\n            _3.Failed = \"FloodgateCore_SurveyStatCollectionActivation_ToJson_Failed\",\n            _3),\n        _1);\n    TelemetryEvent.HostBasedSurveyActivationStatsProvider = (_4 = /** @class */ (function () {\n            function class_29() {\n            }\n            return class_29;\n        }()),\n        _4.GetSurveyStatsFromHost = (_5 = /** @class */ (function () {\n                function class_30() {\n                }\n                return class_30;\n            }()),\n            _5.Failed = \"FloodgateCore_HostBasedSurveyActivationStatsProvider_GetSurveyStatsFromHost_Failed\",\n            _5),\n        _4);\n    TelemetryEvent.SurveyStatCollectionEventActivity = (_6 = /** @class */ (function () {\n            function class_31() {\n            }\n            return class_31;\n        }()),\n        _6.FromJson = (_7 = /** @class */ (function () {\n                function class_32() {\n                }\n                return class_32;\n            }()),\n            _7.Failed = \"FloodgateCore_SurveyStatCollectionEventActivity_FromJson_Failed\",\n            _7),\n        _6.ToJson = (_8 = /** @class */ (function () {\n                function class_33() {\n                }\n                return class_33;\n            }()),\n            _8.Failed = \"FloodgateCore_SurveyStatCollectionEventActivity_ToJson_Failed\",\n            _8),\n        _6);\n    TelemetryEvent.SurveyActivity = (_9 = /** @class */ (function () {\n            function class_34() {\n            }\n            return class_34;\n        }()),\n        _9.LogActivity = (_10 = /** @class */ (function () {\n                function class_35() {\n                }\n                return class_35;\n            }()),\n            _10.EventsReprocessed = \"FloodgateCore_SurveyActivity_LogActivity_EventsReprocessed\",\n            _10.SurveysReprocessed = \"FloodgateCore_SurveyActivity_LogActivity_SurveysReprocessed\",\n            _10),\n        _9.SetActivityTrackingContracts = (_11 = /** @class */ (function () {\n                function class_36() {\n                }\n                return class_36;\n            }()),\n            _11.DuplicateSurveyID = \"FloodgateCore_SurveyActivity_SetActivityTrackingContracts_DuplicateSurveyID\",\n            _11),\n        _9);\n    return TelemetryEvent;\n}());\nexports.TelemetryEvent = TelemetryEvent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NvbnN0YW50cy50cz8wNjEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7QUFFSDs7R0FFRztBQUNIO0lBQUE7SUFxSUEsQ0FBQzs7SUFwSWMsNEJBQWE7WUFBRztZQUk5QixDQUFDO1lBQUQsY0FBQztRQUFELENBQUM7UUFIYyxjQUFXO2dCQUFHO2dCQUU1QixDQUFDO2dCQUFELGNBQUM7WUFBRCxDQUFDO1lBRGMsU0FBTSxHQUFXLGdEQUFpRDtlQUMvRTtZQUNEO0lBRVksNkNBQThCO1lBQUc7WUFJL0MsQ0FBQztZQUFELGNBQUM7UUFBRCxDQUFDO1FBSGMsT0FBSTtnQkFBRztnQkFFckIsQ0FBQztnQkFBRCxjQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVywwREFBMkQ7ZUFDekY7WUFDRDtJQUVZLDZDQUE4QjtZQUFHO1lBSS9DLENBQUM7WUFBRCxjQUFDO1FBQUQsQ0FBQztRQUhjLG9CQUFpQjtnQkFBRztnQkFFbEMsQ0FBQztnQkFBRCxjQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVyx1RUFBd0U7ZUFDdEc7WUFDRDtJQUVZLHdCQUFTO1lBQUc7WUF3QjFCLENBQUM7WUFBRCxjQUFDO1FBQUQsQ0FBQztRQXZCYyxhQUFVO2dCQUFHO2dCQUUzQixDQUFDO2dCQUFELGNBQUM7WUFBRCxDQUFDO1lBRGMsU0FBTSxHQUFXLDJDQUE0QztlQUMxRTtRQUVZLFFBQUs7Z0JBQUc7Z0JBSXRCLENBQUM7Z0JBQUQsY0FBQztZQUFELENBQUM7WUFIYyxTQUFNLEdBQVcsc0NBQXVDO1lBQ3hELFVBQU8sR0FBVyx1Q0FBd0M7WUFDMUQsa0JBQWUsR0FBVywrQ0FBZ0Q7ZUFDdkY7UUFFWSxnQkFBYTtnQkFBRztnQkFFOUIsQ0FBQztnQkFBRCxlQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVyw4Q0FBK0M7ZUFDN0U7UUFFWSwrQkFBNEI7Z0JBQUc7Z0JBRTdDLENBQUM7Z0JBQUQsZUFBQztZQUFELENB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LCtEQUFnRTtlQUM5RjtZQUNEO0lBRVksNkJBQWM7WUFBRztZQVMvQixDQUFDO1lBQUQsZUFBQztRQUFELENBQUM7UUFSYyxjQUFXO2dCQUFHO2dCQUc1QixDQUFDO2dCQUFELGVBQUM7WUFBRCxDQUFDO1lBRmMscUJBQWlCLEdBQVcsNERBQTZEO1lBQ3pGLHNCQUFrQixHQUFXLDZEQUE4RDtnQkFDeEc7UUFFWSwrQkFBNEI7Z0JBQUc7Z0JBRTdDLENBQUM7Z0JBQUQsZUFBQztZQUFELENBQUM7WUFEYyxxQkFBaUIsR0FBVyw2RUFBOEU7Z0JBQ3ZIO1lBQ0Q7SUFDSCxxQkFBQztDQUFBO0FBcklZLHdDQUFjIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ29uc3RhbnRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYWxsIHRoZSBjb25zdGFudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFRlbGVtZXRyeSBldmVudHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZWxlbWV0cnlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBDYW1wYWlnblN0YXRlID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBEZXNlcmlhbGl6ZSA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9DYW1wYWlnblN0YXRlX0Rlc2VyaWFsaXplX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZpbGVCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlciA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTG9hZCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXJfTG9hZF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBIb3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN0YXRlc0Zyb21Ib3N0ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0hvc3RCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcl9HZXRTdGF0ZXNGcm9tSG9zdF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBGbG9vZGdhdGUgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEluaXRpYWxpemUgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX0luaXRpYWxpemVfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU3RhcnQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX1N0YXJ0X0ZhaWxlZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFdhcm5pbmc6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVfU3RhcnRfV2FybmluZ1wiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleXNEaXNhYmxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9TdGFydF9TdXJ2ZXlzRGlzYWJsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBVc2VyRmFjdHNMb2FkID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNMb2FkX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX1VzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgVXNlckZhY3RzU3BlY0lzQU1hdGNoID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNTcGVjSXNBTWF0Y2hfRmFpbGVkXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgTWlzbWF0Y2g6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVfVXNlckZhY3RzU3BlY0lzQU1hdGNoX01pc21hdGNoXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgU3VtbWFyeTogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNTcGVjSXNBTWF0Y2hfU3VtbWFyeVwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZsb29kZ2F0ZUVuZ2luZSA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTWFrZSA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfTWFrZV9GYWlsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBDb21tb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3I6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfQ29tbW9uX0Vycm9yXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU3RhcnQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX1N0YXJ0X0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFN0YXJ0QXN5bmMgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX1N0YXJ0QXN5bmNfRmFpbGVkXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgU3RvcHBlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9TdGFydEFzeW5jX1N0b3BwZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBPblN1cnZleUFjdGl2YXRlZCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBBY3RpdmF0aW9uU3RhdHNTdXBwcmVzc2VkU3VydmV5OiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX0FjdGl2YXRpb25TdGF0c1N1cHByZXNzZWRTdXJ2ZXlcIjtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBDbG9zZWRDaGFubmVsVHlwZTogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9PblN1cnZleUFjdGl2YXRlZF9DbG9zZWRDaGFubmVsVHlwZVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleU5vdERlZmluZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfT25TdXJ2ZXlBY3RpdmF0ZWRfU3VydmV5Tm90RGVmaW5lZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFNlc3Npb25TdXBwcmVzc2VkU3VydmV5OiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX1Nlc3Npb25TdXBwcmVzc2VkU3VydmV5XCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgQWN0aXZhdGlvbkV4cGlyZWRTdXJ2ZXk6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfT25TdXJ2ZXlBY3RpdmF0ZWRfQWN0aXZhdGlvbkV4cGlyZWRTdXJ2ZXlcIjtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBBY3RpdmF0aW9uSXJyZWxldmFudFN1cnZleTogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9PblN1cnZleUFjdGl2YXRlZF9BY3RpdmF0aW9uSXJyZWxldmFudFN1cnZleVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEVycm9yOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX0Vycm9yXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgQ2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEdvdmVybmFuY2VTZXJ2aWNlRm9yY2VUb0Rpc3BsYXk6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfR292ZXJuYW5jZVNlcnZpY2VfR292ZXJuYW5jZVNlcnZpY2VGb3JjZVRvRGlzcGxheVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50Q29tcGxldGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX0dvdmVybmFuY2VTZXJ2aWNlX0dvdmVybmFuY2VTZXJ2aWNlQ2xpZW50Q29tcGxldGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgR292ZXJuZWRDaGFubmVsU3RhdGUgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIERlc2VyaWFsaXplID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0dvdmVybmVkQ2hhbm5lbFN0YXRlX0Rlc2VyaWFsaXplX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZpbGVCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIExvYWQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmlsZUJhc2VkR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcl9Mb2FkX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN0YXRlc0Zyb21Ib3N0ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0hvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJfR2V0U3RhdGVzRnJvbUhvc3RfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBGcm9tSnNvbiA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25fRnJvbUpzb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgVG9Kc29uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbl9Ub0pzb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN1cnZleVN0YXRzRnJvbUhvc3QgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJfR2V0U3VydmV5U3RhdHNGcm9tSG9zdF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEZyb21Kc29uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eV9Gcm9tSnNvbl9GYWlsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBUb0pzb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5X1RvSnNvbl9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdXJ2ZXlBY3Rpdml0eSA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTG9nQWN0aXZpdHkgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXZlbnRzUmVwcm9jZXNzZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlBY3Rpdml0eV9Mb2dBY3Rpdml0eV9FdmVudHNSZXByb2Nlc3NlZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleXNSZXByb2Nlc3NlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleUFjdGl2aXR5X0xvZ0FjdGl2aXR5X1N1cnZleXNSZXByb2Nlc3NlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFNldEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRHVwbGljYXRlU3VydmV5SUQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlBY3Rpdml0eV9TZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzX0R1cGxpY2F0ZVN1cnZleUlEXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Constants.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/FloodgateEngine.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/FloodgateEngine.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FloodgateEngine = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./Campaign/CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\nvar CampaignManager_1 = __webpack_require__(/*! ./Campaign/CampaignManager */ \"../FloodgateCore/dist/src/Campaign/CampaignManager.js\");\nvar CampaignStateProvider_1 = __webpack_require__(/*! ./Campaign/CampaignStateProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateSettings_1 = __webpack_require__(/*! ./FloodgateSettings */ \"../FloodgateCore/dist/src/FloodgateSettings.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar GovernedChannelStateProvider_1 = __webpack_require__(/*! ./GovernedChannelStateProvider */ \"../FloodgateCore/dist/src/GovernedChannelStateProvider.js\");\nvar Governor_1 = __webpack_require__(/*! ./Governor */ \"../FloodgateCore/dist/src/Governor.js\");\nvar SurveyActivityListener = __webpack_require__(/*! ./SurveyActivityListener */ \"../FloodgateCore/dist/src/SurveyActivityListener.js\");\nvar SurveyStatCollectionActivation_1 = __webpack_require__(/*! ./SurveyStatCollectionActivation */ \"../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\");\nvar SurveyStatCollectionEventActivity_1 = __webpack_require__(/*! ./SurveyStatCollectionEventActivity */ \"../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar ActivityTrackingContract_1 = __webpack_require__(/*! ./ActivityTrackingContract */ \"../FloodgateCore/dist/src/ActivityTrackingContract.js\");\nvar GovernanceUtils_1 = __webpack_require__(/*! ./GovernanceUtils */ \"../FloodgateCore/dist/src/GovernanceUtils.js\");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n// Telemetry logger with no-op logger\nvar DefaultFloodgateTelemetryLogger = /** @class */ (function () {\n    function DefaultFloodgateTelemetryLogger() {\n    }\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_TriggerMet = function (campaignId, surveyId, surveyType, surveyActivityInfo, additionalSurveyInfo) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_UserSelected = function (campaignId, surveyId, surveyType, additionalSurveyInfo) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_CampaignLoad_Failed = function (errorMessage) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_Error = function (eventId, errorMessage) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_Event = function (eventId, properties) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_LocalError = function (message) {\n        var data = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            data[_i - 1] = arguments[_i];\n        }\n    };\n    return DefaultFloodgateTelemetryLogger;\n}());\nvar defaultSurveyActivityListener = {\n    run: function (survey) {\n    },\n    shouldAcceptActivity: function (activityName) {\n        return true;\n    },\n};\nvar globalSessionSurveyActivationCounts = {};\n/**\n * Floodgate Engine class.  The main wiring hub and the brains responsible for\n * linking together the survey definitions, governance, activity tracking, and\n * survey launchers.  Only one-instance-at-a-time of these should be created\n * per app session.\n */\nvar FloodgateEngine = /** @class */ (function () {\n    function FloodgateEngine(surveyClient, activityListener, launcherFactory, onSurveyActivatedCallback, storage, governor, surveyActivationStatsProvider, transporterFactory, governanceServiceClient) {\n        this.initializationStatus = 0 /* None */;\n        this.candidateSurveys = {};\n        this.launchedSurveys = {};\n        this.launchedLaunchers = [];\n        this.surveyEventSent = [];\n        this.staleTriggeredSurveysQueue = [];\n        if (!surveyClient) {\n            throw new Error(\"surveyClient must not be null\");\n        }\n        if (!activityListener) {\n            throw new Error(\"activityListener must not be null\");\n        }\n        if (!launcherFactory) {\n            throw new Error(\"launcherFactory must not be null\");\n        }\n        if (!onSurveyActivatedCallback) {\n            throw new Error(\"onSurveyActivatedCallback must not be null\");\n        }\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        if (!governor) {\n            throw new Error(\"governor must not be null\");\n        }\n        if (!transporterFactory) {\n            throw new Error(\"transporterFactory must not be null\");\n        }\n        this.surveyClient = surveyClient;\n        this.activityListener = activityListener;\n        this.launcherFactory = launcherFactory;\n        this.onSurveyActivatedCallback = onSurveyActivatedCallback;\n        this.storage = storage;\n        this.governor = governor;\n        this.surveyActivationStatsProvider = surveyActivationStatsProvider;\n        this.governanceServiceClient = governanceServiceClient;\n        FloodgateEngine.transporterFactory = transporterFactory;\n        this.loggedFirstStart = false;\n        // Initialize our list to a valid, empty collection\n        this.setPendingSurveys(null);\n        // If the listener was pre-configured with survey for some reason, clear it now\n        this.activityListener.clearSurveys();\n        // Link ourselves with the listener\n        var thisObj = this; // Save current object in a variable to allow access from callback.\n        this.activityListener.setCallback({\n            run: function (surveyId, contextInfo) {\n                thisObj.onSurveyActivated(surveyId, contextInfo);\n            },\n            shouldAcceptActivity: function (activityName) {\n                return thisObj.shouldAcceptActivity(activityName);\n            },\n        });\n    }\n    FloodgateEngine.setTelemetryLogger = function (telemetryLogger) {\n        if (!telemetryLogger) {\n            throw new Error(\"telemetryLogger must not be null\");\n        }\n        FloodgateEngine.telemetryLogger = telemetryLogger;\n    };\n    FloodgateEngine.getTelemetryLogger = function () {\n        return FloodgateEngine.telemetryLogger;\n    };\n    FloodgateEngine.getTransportFactory = function () {\n        return FloodgateEngine.transporterFactory;\n    };\n    FloodgateEngine.make = function (buildVersion, launcherFactory, onSurveyActivatedCallback, fileBasedStorageProvider, hostBasedStorageProvider, stringProvider, environmentProvider, transporterFactory, campaignDefinitionProviders, userFactsProvider, governanceServiceClient) {\n        try {\n            var governedChannelStateProvider = GovernedChannelStateProvider_1.GovernedChannelStateProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            var surveyActivationStatsProvider = SurveyStatCollectionActivation_1.SurveyActivationStatsProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            var campaignStateProvider = CampaignStateProvider_1.CampaignStateProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            campaignDefinitionProviders.push(new CampaignDefinitionProvider_1.FileSystemCampaignDefinitionProvider(fileBasedStorageProvider));\n            return new FloodgateEngine(new CampaignManager_1.CampaignManager(campaignStateProvider, campaignDefinitionProviders, stringProvider, environmentProvider, buildVersion, new Date(), userFactsProvider), new SurveyActivityListener(defaultSurveyActivityListener, this.getTelemetryLogger), launcherFactory, onSurveyActivatedCallback, fileBasedStorageProvider, new Governor_1.Governor(governedChannelStateProvider), surveyActivationStatsProvider, transporterFactory, governanceServiceClient);\n        }\n        catch (e) {\n            this.telemetryLogger.log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Make.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n        }\n    };\n    /**\n     * Save all internal stats and floodgateSettings (merging with existing file contents), without stopping the engine.\n     */\n    FloodgateEngine.prototype.mergeAndSave = function () {\n        this.saveSettings();\n        this.saveSurveyActivationHistory();\n        this.saveSurveyEventActivityHistory();\n        // Inform surveyClient to save its state\n        this.surveyClient.saveCurrentState();\n        // Save governed channel states\n        this.governor.saveChannelStates();\n    };\n    /**\n     * Start the engine.  Checks feature enable state, causes survey definitions to be read, and tracked activities to be set on the listener.\n     */\n    FloodgateEngine.prototype.start = function () {\n        if (this.initializationStatus === 2 /* Initializing */ ||\n            this.initializationStatus === 3 /* Started */) {\n            return;\n        }\n        try {\n            this.setInitializationStatus(2 /* Initializing */);\n            this.loadSettingsAndPriorEventCounts();\n            var channelTypes = this.getAvailableChannelTypes();\n            this.surveyClient.refreshSurveyDefinitions(channelTypes);\n            this.setPendingSurveysAndStartFloodgate();\n            this.setInitializationStatus(3 /* Started */);\n        }\n        catch (e) {\n            this.setInitializationStatus(1 /* Error */);\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Start.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n        }\n    };\n    /**\n     * Start the engine.  Checks feature enable state, causes survey definitions to be read, and tracked activities to be set on the listener.\n     */\n    FloodgateEngine.prototype.startAsync = function () {\n        if (this.initializationStatus === 2 /* Initializing */ ||\n            this.initializationStatus === 3 /* Started */) {\n            return Promise.resolve();\n        }\n        try {\n            this.setInitializationStatus(2 /* Initializing */);\n            this.loadSettingsAndPriorEventCounts();\n            var channelTypes_1 = this.getAvailableChannelTypes();\n            var thisFloodgateEngine_1 = this;\n            return new Promise(function (resolve, reject) {\n                thisFloodgateEngine_1.surveyClient.refreshSurveyDefinitionsAsync(channelTypes_1).then(function onFulfilled() {\n                    // Handle any stop() calls that happened while initializing\n                    if (thisFloodgateEngine_1.initializationStatus === 4 /* Stopped */) {\n                        thisFloodgateEngine_1.setInitializationStatus(3 /* Started */);\n                        thisFloodgateEngine_1.stop();\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Stopped, { ErrorMessage: \"Stopped because of a pending stop() call\" });\n                    }\n                    else {\n                        thisFloodgateEngine_1.setPendingSurveysAndStartFloodgate();\n                    }\n                    resolve();\n                }).catch(function OnRejected(error) {\n                    thisFloodgateEngine_1.setInitializationStatus(1 /* Error */);\n                    FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Failed, { ErrorMessage: \"Survey refresh error \" + (error && error.message) });\n                    reject(error);\n                });\n            });\n        }\n        catch (e) {\n            this.setInitializationStatus(1 /* Error */);\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n            return Promise.resolve();\n        }\n    };\n    /**\n     * Stop the engine.  Causes tracked activities to be cleared and any in-progress counters not otherwise saved to be thrown out.\n     */\n    FloodgateEngine.prototype.stop = function () {\n        if (this.initializationStatus === 3 /* Started */) {\n            this.mergeAndSave();\n            // Clear our Survey list, and push that through to the listener\n            this.setPendingSurveys(null);\n            this.updateActivityListenerWithCurrentSurveyDefinitions();\n        }\n        this.setInitializationStatus(4 /* Stopped */);\n    };\n    /**\n     * Gets the IActivityListener logging interface for callers that want to log directly rather than through telemetry\n     */\n    FloodgateEngine.prototype.getActivityListener = function () {\n        return this.activityListener;\n    };\n    FloodgateEngine.prototype.setInitializationStatus = function (status) {\n        this.initializationStatus = status;\n    };\n    FloodgateEngine.prototype.saveSettings = function () {\n        this.storage.fileLock(FileType.FloodgateSettings);\n        try {\n            this.writeString(FileType.FloodgateSettings, FloodgateSettings_1.FloodgateSettings.toJson(this.floodgateSettings));\n        }\n        finally {\n            this.storage.fileUnlock(FileType.FloodgateSettings);\n        }\n    };\n    FloodgateEngine.prototype.loadSettingsAndPriorEventCounts = function () {\n        try {\n            // Load up the prior survey history and prior event counts\n            this.previousSurveyActivationStats = this.surveyActivationStatsProvider.load();\n            this.previousSurveyEventActivityStats =\n                SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.fromJson(this.readString(FileType.SurveyEventActivityStats));\n            // get the list of survey Id - all the survey should have event sent already\n            var stats = this.previousSurveyEventActivityStats.getStats();\n            for (var key in stats) {\n                if (stats.hasOwnProperty(key)) {\n                    this.surveyEventSent.push(key);\n                }\n            }\n            // Load up the general floodgateSettings\n            this.floodgateSettings = FloodgateSettings_1.FloodgateSettings.fromJson(this.readString(FileType.FloodgateSettings));\n        }\n        catch (e) {\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Common.Error, { ErrorMessage: \"Error loading prior settings/events \" + (e && e.toString()) });\n        }\n    };\n    FloodgateEngine.prototype.getAvailableChannelTypes = function () {\n        // Make sure we've loaded the current survey definitions\n        var channels = this.governor.getAvailableChannelData();\n        var channelTypes = [];\n        channels.forEach(function (channel) {\n            if (channel) {\n                channelTypes.push(channel.getType());\n            }\n        });\n        return channelTypes;\n    };\n    FloodgateEngine.prototype.setPendingSurveysAndStartFloodgate = function () {\n        // Update our survey list, and push that through to the listener\n        this.setPendingSurveys(this.surveyClient.getAppSurveys());\n        this.updateActivityListenerWithCurrentSurveyDefinitions();\n        // Mark us as started\n        this.setInitializationStatus(3 /* Started */);\n        // Log our first start (aka floodgate boot) event\n        if (!this.loggedFirstStart) {\n            this.loggedFirstStart = true;\n            this.getActivityListener().logActivity(SurveyActivityListener.FloodgateStartActivityName);\n        }\n    };\n    FloodgateEngine.prototype.updateSurveyActivationStats = function (survey) {\n        var surveyInfo = survey.getSurveyInfo();\n        var surveyId = surveyInfo.getId();\n        var stats = this.previousSurveyActivationStats.getStats()[surveyId] || new SurveyStatCollectionActivation_1.SurveyActivationStats();\n        stats.Type = survey.getType();\n        stats.ExpirationTimeUtc = surveyInfo.getExpirationTimeUtc();\n        stats.ActivationTimeUtc = new Date();\n        stats.SurveyLaunchCount++;\n        this.previousSurveyActivationStats.addStats(surveyId, stats);\n        // Save the SurveyLaunchCountPerSession into global memory but not local storage\n        // so it won't be overwritten in local storage by another app instance\n        if (!globalSessionSurveyActivationCounts.hasOwnProperty(surveyId)) {\n            globalSessionSurveyActivationCounts[surveyId] = 0;\n        }\n        globalSessionSurveyActivationCounts[surveyId]++;\n    };\n    FloodgateEngine.prototype.saveSurveyActivationHistory = function () {\n        this.storage.fileLock(FileType.SurveyActivationStats);\n        try {\n            var statCollection = this.surveyActivationStatsProvider.load();\n            var previousStats = this.previousSurveyActivationStats.getStats();\n            // Build the update collection\n            var updateCollection = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n            for (var key in this.launchedSurveys) {\n                if (this.launchedSurveys.hasOwnProperty(key)) {\n                    var survey = this.launchedSurveys[key];\n                    var surveyId = survey.getSurveyInfo().getId();\n                    // Make this part of the update list\n                    var stats = previousStats[surveyId];\n                    updateCollection.addStats(surveyId, stats);\n                }\n            }\n            // Actually merge our updates into the full collection\n            statCollection.accumulate(updateCollection);\n            this.surveyActivationStatsProvider.save(statCollection);\n            // Make sure to keep our internal collection consistent with what we just wrote\n            this.previousSurveyActivationStats = statCollection;\n        }\n        finally {\n            this.storage.fileUnlock(FileType.SurveyActivationStats);\n        }\n    };\n    FloodgateEngine.prototype.saveSurveyEventActivityHistory = function () {\n        this.storage.fileLock(FileType.SurveyEventActivityStats);\n        try {\n            var statCollection = SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.fromJson(this.readString(FileType.SurveyEventActivityStats));\n            var now = new Date();\n            // Fill out our list of updates\n            var updateCollection = new SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity();\n            var _loop_1 = function (key) {\n                if (this_1.candidateSurveys.hasOwnProperty(key)) {\n                    var stats = new SurveyStatCollectionEventActivity_1.SurveyEventActivityStats();\n                    var survey = this_1.candidateSurveys[key];\n                    if (!survey.getSurveyInfo().isActiveForDate(now)) {\n                        return \"continue\";\n                    }\n                    stats.ExpirationTimeUtc = survey.getSurveyInfo().getExpirationTimeUtc();\n                    // Get the activities which are aggregated, if there aren't any continue\n                    var allActivities = survey.getSurveyInfo().getActivationEvent().getTrackingSet();\n                    var aggregateActivities_1 = [];\n                    var nonAggregateActivities_2 = [];\n                    allActivities.getList().forEach(function (data) {\n                        if (data) {\n                            if (data.getIsAggregate()) {\n                                aggregateActivities_1.push(data.getActivity());\n                            }\n                            else {\n                                nonAggregateActivities_2.push(data.getActivity());\n                            }\n                        }\n                    });\n                    stats.Counts = new Array(aggregateActivities_1.length);\n                    // Save off the counts we've added for this session\n                    for (var i = 0; i < aggregateActivities_1.length; i++) {\n                        stats.Counts[i] = this_1.activityListener.moveSessionCountIntoBaseCount(aggregateActivities_1[i], survey.getSurveyInfo().getId());\n                    }\n                    for (var _i = 0, nonAggregateActivities_1 = nonAggregateActivities_2; _i < nonAggregateActivities_1.length; _i++) {\n                        var activity = nonAggregateActivities_1[_i];\n                        this_1.activityListener.saveSessionTrackingActivity(activity);\n                    }\n                    // Make this part of the update list\n                    updateCollection.addStats(survey.getSurveyInfo().getId(), stats);\n                }\n            };\n            var this_1 = this;\n            for (var key in this.candidateSurveys) {\n                _loop_1(key);\n            }\n            // Actually merge our updates into the full collection\n            statCollection.accumulate(updateCollection);\n            this.writeString(FileType.SurveyEventActivityStats, SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.toJson(statCollection));\n            // Make sure to keep our internal collection consistent with what we just wrote\n            this.previousSurveyEventActivityStats = statCollection;\n        }\n        finally {\n            this.storage.fileUnlock(FileType.SurveyEventActivityStats);\n        }\n    };\n    FloodgateEngine.prototype.setPendingSurveys = function (pendingSurveys) {\n        this.candidateSurveys = {};\n        if (pendingSurveys) {\n            for (var key in pendingSurveys) {\n                if (pendingSurveys.hasOwnProperty(key)) {\n                    var survey = pendingSurveys[key];\n                    if (this.launcherFactory.AcceptsSurvey(survey)) {\n                        this.candidateSurveys[key] = survey;\n                    }\n                }\n            }\n        }\n    };\n    FloodgateEngine.prototype.getCurrentSurveyDefinitions = function () {\n        var _this = this;\n        // Get a vector of Surveys from our id-based map\n        var surveyList = new Array();\n        var allCampaignDefinitionIDs = this.getAllCampaignDefinitionIDs();\n        var allCandidateCampaignDefinitionIDs = this.getAllCandidateCampaignDefinitionIDs();\n        // Get all the campaign definitions. We need info from these for telemetry.\n        var allCampaignDefinitions = this.surveyClient.getCampaignDefinitions();\n        var isSurveyAllowed = function (surveyInfo) {\n            // always allow business critical and approved campaigns\n            if (GovernanceUtils_1.isBusinessCriticalSurvey(surveyInfo)) {\n                return true;\n            }\n            var surveyActivationStats = _this.previousSurveyActivationStats.getBySurveyId(surveyInfo.getId());\n            if (GovernanceUtils_1.isMultiLaunchSurvey(surveyInfo) &&\n                !GovernanceUtils_1.hasSurveyReachedMaxLaunches(surveyInfo, surveyActivationStats) &&\n                !GovernanceUtils_1.hasSurveyReachedMaxLaunchesPerSession(surveyInfo, globalSessionSurveyActivationCounts)) {\n                return true;\n            }\n            // Skip over any candidate surveys that have been previously completed or not active anymore\n            if (surveyActivationStats || !surveyInfo.isActiveForDate(new Date())) {\n                return false;\n            }\n            return true;\n        };\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var survey = this.candidateSurveys[key];\n                var surveyInfo = survey.getSurveyInfo();\n                var campaignDefinition = allCampaignDefinitions[surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.getBackEndId()];\n                if (!campaignDefinition || !isSurveyAllowed(surveyInfo)) {\n                    continue;\n                }\n                // send the UserSelected event if it is not sent before\n                if (this.surveyEventSent.indexOf(key) < 0) {\n                    this.surveyEventSent.push(key);\n                    var additionalSurveyInfo = this.getAdditionalSurveyInfoForTelemetry(survey, null /* contextInfo */, allCampaignDefinitionIDs, allCandidateCampaignDefinitionIDs);\n                    FloodgateEngine.telemetryLogger.log_UserSelected(surveyInfo.getBackEndId(), surveyInfo.getId(), survey.getType(), JSON.stringify(additionalSurveyInfo));\n                }\n                surveyList.push(survey);\n            }\n        }\n        return surveyList;\n    };\n    FloodgateEngine.prototype.getAdditionalSurveyInfoForTelemetry = function (survey, contextInfo, allCampaignDefinitionIDs, allCandidateCampaignDefinitionIDs) {\n        // Get all the campaign definitions. We need info from these for telemetry.\n        var allCampaignDefinitions = this.surveyClient.getCampaignDefinitions();\n        // Get the corresponding campaign definition to the survey in question.\n        var correspondingCampaignDefinition = allCampaignDefinitions[survey.getCampaignId()];\n        // Survey properties to get from its corresponding CampaignDefinition:\n        var percentageNumerator;\n        var percentageDenominator;\n        var nominationPeriodNumber;\n        var cooldownPeriodNumber;\n        percentageNumerator = correspondingCampaignDefinition.nominationScheme.percentageNumerator;\n        percentageDenominator = correspondingCampaignDefinition.nominationScheme.percentageDenominator;\n        nominationPeriodNumber = correspondingCampaignDefinition.nominationScheme.nominationPeriod.asTimeIntervalSeconds();\n        nominationPeriodNumber = Utils_1.isNOU(nominationPeriodNumber) ? -1 : nominationPeriodNumber; // Setting to -1 if null or undefined\n        cooldownPeriodNumber = correspondingCampaignDefinition.nominationScheme.cooldownPeriod.asTimeIntervalSeconds();\n        cooldownPeriodNumber = Utils_1.isNOU(cooldownPeriodNumber) ? -1 : cooldownPeriodNumber; // Setting to -1 if null or undefined\n        var surveyInfo = survey.getSurveyInfo();\n        return {\n            allCampaignDefinitionIDs: allCampaignDefinitionIDs,\n            allCandidateCampaignDefinitionIDs: allCandidateCampaignDefinitionIDs,\n            channelType: surveyInfo.getGovernedChannelType(),\n            contextCount: contextInfo ? contextInfo.length : undefined,\n            cooldownPeriodNumber: cooldownPeriodNumber,\n            nominationPeriodNumber: nominationPeriodNumber,\n            percentageDenominator: percentageDenominator,\n            percentageNumerator: percentageNumerator,\n            surveyLauncherType: survey.getLauncherType(),\n            businessLevel: surveyInfo.getBusinessLevel(),\n            maxLaunches: surveyInfo.getMaxLaunches(),\n            maxLaunchesPerSession: surveyInfo.getMaxLaunchesPerSession(),\n        };\n    };\n    FloodgateEngine.prototype.getAllCandidateCampaignDefinitionIDs = function () {\n        var allCandidateCampaignDefinitionIDs = [];\n        // Get all the candidate surveys' campaign definition IDs\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var candidateSurvey = this.candidateSurveys[key];\n                allCandidateCampaignDefinitionIDs.push(candidateSurvey.getSurveyInfo().getBackEndId());\n            }\n        }\n        return allCandidateCampaignDefinitionIDs;\n    };\n    FloodgateEngine.prototype.getAllCampaignDefinitionIDs = function () {\n        var allCampaignDefinitions = this.surveyClient.getCampaignDefinitions();\n        var allCampaignDefinitionIDs = [];\n        for (var definitionsKey in allCampaignDefinitions) {\n            if (Object.prototype.hasOwnProperty.call(allCampaignDefinitions, definitionsKey)) {\n                var definition = allCampaignDefinitions[definitionsKey];\n                allCampaignDefinitionIDs.push(definition.campaignId);\n            }\n        }\n        return allCampaignDefinitionIDs;\n    };\n    FloodgateEngine.prototype.updateActivityListenerWithCurrentSurveyDefinitions = function () {\n        var surveyList = this.getCurrentSurveyDefinitions();\n        var trackingContractList = [];\n        for (var _i = 0, surveyList_1 = surveyList; _i < surveyList_1.length; _i++) {\n            var survey = surveyList_1[_i];\n            var surveyInfo = survey.getSurveyInfo();\n            var trackingContract = new ActivityTrackingContract_1.ActivityTrackingContract(surveyInfo.getId(), surveyInfo.getActivationEvent().getTrackingSet());\n            trackingContractList.push(trackingContract);\n        }\n        this.activityListener.SetActivityTrackingContracts(trackingContractList, this.previousSurveyEventActivityStats);\n    };\n    FloodgateEngine.prototype.setCriticalPendingSurveysAndUpdateActivityListener = function () {\n        var activeSurveys = {};\n        // Get all the candidate surveys' campaign definition IDs\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var candidateSurvey = this.candidateSurveys[key];\n                if (GovernanceUtils_1.isCriticalSurvey(candidateSurvey.getSurveyInfo())) {\n                    activeSurveys[key] = candidateSurvey;\n                }\n            }\n        }\n        if (Object.keys(activeSurveys).length > 0) {\n            this.setPendingSurveys(activeSurveys);\n            this.updateActivityListenerWithCurrentSurveyDefinitions();\n        }\n    };\n    FloodgateEngine.prototype.shouldAcceptActivity = function (activityName) {\n        return this.initializationStatus === 3 /* Started */ ||\n            activityName === SurveyActivityListener.FloodgateStartActivityName;\n    };\n    FloodgateEngine.prototype.onSurveyActivated = function (surveyId, contextInfo) {\n        // Find the survey object that corresponds to the surveyId passed\n        var surveys = this.getCurrentSurveyDefinitions();\n        var survey;\n        for (var _i = 0, surveys_1 = surveys; _i < surveys_1.length; _i++) {\n            var tempSurvey = surveys_1[_i];\n            if (tempSurvey.getSurveyInfo().getId() === surveyId) {\n                survey = tempSurvey;\n                break;\n            }\n        }\n        if (Utils_1.isNOU(survey)) {\n            FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SurveyNotDefined, \"Survey is not defined in the current survey definitions.\");\n            return;\n        }\n        try {\n            var governedChannelType = survey.getSurveyInfo().getGovernedChannelType();\n            // If the governance service is in use, launch survey asynchronously\n            if (this.governanceServiceClient.isEnabled(governedChannelType)) {\n                // record the stale surveys, so we can clear its tracker if Engine is stopped\n                this.staleTriggeredSurveysQueue.push(survey);\n                // If there is no survey in stale before, launch the survey right away\n                if (this.staleTriggeredSurveysQueue.length === 1) {\n                    // Launch the survey asynchronously\n                    this.checkGovernanceServiceAndActivateSurvey(survey, governedChannelType, contextInfo);\n                }\n            }\n            else {\n                this.activateSurvey(survey, governedChannelType, contextInfo);\n            }\n        }\n        catch (e) {\n            FloodgateEngine.telemetryLogger.log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.Error, { ErrorMessage: \"Error activating survey \" + (e && e.toString()), ErrorDetails: e && e.stack });\n        }\n    };\n    FloodgateEngine.prototype.activateSurvey = function (survey, governedChannelType, contextInfo) {\n        var launchSurvey = false;\n        // Figure out if the activated survey is still relevant\n        if (!this.candidateSurveys[survey.getSurveyInfo().getId()]) {\n            // Survey is no longer relevant but was activated. Suppress it.\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationIrrelevantSurvey, {\n                CampaignId: survey.getSurveyInfo().getBackEndId(),\n                SurveyId: survey.getSurveyInfo().getId(),\n            });\n        }\n        else if (!survey.getSurveyInfo().isActiveForDate(new Date())) {\n            // Survey is no longer active (e.g. it was when we registered it but it has now expired)\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationExpiredSurvey, {\n                CampaignId: survey.getSurveyInfo().getBackEndId(),\n                SurveyId: survey.getSurveyInfo().getId(),\n            });\n        }\n        else {\n            // Refresh channels\n            this.governor.refreshChannelData();\n            if (GovernanceUtils_1.isCriticalSurvey(survey.getSurveyInfo())) {\n                launchSurvey = true;\n            }\n            else if (!this.governor.isChannelOpen(governedChannelType)) {\n                // Channel has closed and maxLaunches is not set, suppress the survey\n                FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ClosedChannelType, { ClosedChannelType: GovernedChannel_1.GovernedChannelType[governedChannelType] });\n            }\n            else {\n                // Get latest survey states from provider\n                var refreshedSurveyActivationStats = this.surveyActivationStatsProvider.load();\n                if (refreshedSurveyActivationStats.getBySurveyId(survey.getSurveyInfo().getId())) {\n                    // Survey stats exists already, don't launch\n                    FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationStatsSuppressedSurvey, {\n                        CampaignId: survey.getSurveyInfo().getBackEndId(),\n                        SurveyId: survey.getSurveyInfo().getId(),\n                    });\n                }\n                else if (Object.keys(this.launchedSurveys).length === 0) {\n                    // for now we only support launching one survey per session unless it is multi-launch campaign\n                    // Track this survey activation for the launch history tracker\n                    launchSurvey = true;\n                }\n                else {\n                    var triggeredSurvey = Object.values(this.launchedSurveys)[0];\n                    if (!Utils_1.isNOU(triggeredSurvey)) {\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SessionSuppressedSurvey, {\n                            CampaignId: triggeredSurvey.getSurveyInfo().getBackEndId(),\n                            SurveyId: triggeredSurvey.getSurveyInfo().getId(),\n                        });\n                    }\n                }\n            }\n            if (launchSurvey) {\n                this.launchedSurveys[survey.getSurveyInfo().getId()] = survey;\n            }\n        }\n        // At this point, regardless of whether or not the survey is still relevant, we should flush out the stats\n        this.updateSurveyActivationStats(survey);\n        this.mergeAndSave();\n        // shut off further survey launches\n        this.activityListener.clearSurveys();\n        // Clear the survey from stale list\n        this.staleTriggeredSurveysQueue = [];\n        // Actually launch the survey if possible\n        if (launchSurvey) {\n            // Get the stringified json with activity names, counts and isAggregate info for TriggetMet telemetry.\n            var activityTrackingString = survey.getSurveyInfo().getActivationEvent().getTrackingSet()\n                .getActivityTrackingInfo(this.activityListener, survey.getSurveyInfo().getId());\n            var additionalSurveyInfo = this.getAdditionalSurveyInfoForTelemetry(survey, contextInfo, this.getAllCampaignDefinitionIDs(), this.getAllCandidateCampaignDefinitionIDs());\n            // Only adding the governance service client state at TriggerMet event\n            additionalSurveyInfo.governanceServiceClientState = this.governanceServiceClient.getClientState();\n            FloodgateEngine.telemetryLogger.log_TriggerMet(survey.getSurveyInfo().getBackEndId(), survey.getSurveyInfo().getId(), survey.getType(), activityTrackingString, JSON.stringify(additionalSurveyInfo));\n            // Set govern channel\n            this.governor.startChannelCooldown(governedChannelType);\n            var surveyInfo = survey.getSurveyInfo();\n            var isSurveyComplete = true;\n            if (GovernanceUtils_1.isBusinessCriticalSurvey(surveyInfo)) {\n                // critical campaigns are not tracked\n                isSurveyComplete = false;\n            }\n            else if (GovernanceUtils_1.isMultiLaunchSurvey(surveyInfo)) {\n                var surveyActivationStats = this.previousSurveyActivationStats.getBySurveyId(surveyInfo.getId());\n                isSurveyComplete = GovernanceUtils_1.hasSurveyReachedMaxLaunches(surveyInfo, surveyActivationStats);\n            }\n            // Set campaign states\n            this.surveyClient.onSurveyActivated(surveyInfo, isSurveyComplete);\n            // Show the survey\n            this.launchLauncher(survey, contextInfo);\n            // check if there are any critical campaigns and start tracking again\n            this.setCriticalPendingSurveysAndUpdateActivityListener();\n        }\n    };\n    FloodgateEngine.prototype.checkGovernanceServiceAndActivateSurvey = function (survey, governedChannelType, contextInfo) {\n        return __awaiter(this, void 0, void 0, function () {\n            var campaignDefinition, campaignCooldown, channelCooldown, serviceResult, launchSurvey, lastSurveyTriggerInfo;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        campaignDefinition = this.surveyClient.getCampaignDefinitions()[survey.getCampaignId()];\n                        campaignCooldown = campaignDefinition.nominationScheme.cooldownPeriod.asTimeIntervalSeconds();\n                        channelCooldown = Governor_1.Governor.GetChannelCoolDown(governedChannelType);\n                        return [4 /*yield*/, this.governanceServiceClient\n                                .checkGovernancePermitAsync(survey, campaignCooldown, channelCooldown, governedChannelType)];\n                    case 1:\n                        serviceResult = _a.sent();\n                        launchSurvey = false;\n                        // Log the stale\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceClientCompleted, {\n                            Message: JSON.stringify(this.createGorvernanceResponseTelemetry(serviceResult)),\n                        });\n                        // Check if engine is still running\n                        if (this.initializationStatus !== 3 /* Started */) {\n                            return [2 /*return*/];\n                        }\n                        if (!serviceResult.error) {\n                            // Check result is permitted\n                            if (serviceResult.permission) { // the Governance Service is permitting, continue to trigger\n                                launchSurvey = true;\n                            }\n                            else {\n                                lastSurveyTriggerInfo = serviceResult.lastTriggerSurvey;\n                                // For now, we only know the channel is in cooldown but not the specific survey\n                                // So only set governed channel to new cooldown\n                                this.governor.startChannelCooldown(governedChannelType, lastSurveyTriggerInfo.lastTriggerSurveyTime);\n                                // Clear the survey relating to channel\n                                this.clearSurveyWithChannel(governedChannelType);\n                            }\n                        }\n                        else {\n                            // If force to display with error, continue to trigger the survey\n                            if (this.governanceServiceClient.shouldForceDisplay()) {\n                                launchSurvey = true;\n                                // Log the force to display event\n                                FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceForceToDisplay, {\n                                    ErrorMessage: serviceResult.errorMessage,\n                                });\n                            }\n                        }\n                        if (launchSurvey) {\n                            // Launch the survey\n                            this.activateSurvey(survey, governedChannelType, contextInfo);\n                            return [2 /*return*/];\n                        }\n                        // If there is only one survey, which is the current one in process, clear queue and return\n                        if (this.staleTriggeredSurveysQueue.length <= 1) {\n                            this.staleTriggeredSurveysQueue = [];\n                            return [2 /*return*/];\n                        }\n                        // Remove the first activated survey from the list which is the current one in process\n                        this.staleTriggeredSurveysQueue.shift();\n                        // Playback the next activated survey in waiting\n                        this.checkGovernanceServiceAndActivateSurvey(this.staleTriggeredSurveysQueue[0], governedChannelType, contextInfo);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FloodgateEngine.prototype.readString = function (fileType) {\n        return this.storage.read(fileType);\n    };\n    FloodgateEngine.prototype.writeString = function (fileType, str) {\n        this.storage.write(fileType, str);\n    };\n    FloodgateEngine.prototype.launchLauncher = function (survey, contextInfo) {\n        var launcher = this.launcherFactory.makeSurveyLauncher(survey);\n        if (launcher) {\n            this.launchedLaunchers.push(launcher);\n            this.onSurveyActivatedCallback.onSurveyActivated(launcher, survey, { contextInfo: contextInfo });\n        }\n    };\n    FloodgateEngine.prototype.clearSurveyWithChannel = function (governedChannelType) {\n        var activeSurveys = {};\n        // Get all the candidate surveys' campaign definition IDs\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var candidateSurvey = this.candidateSurveys[key];\n                if (candidateSurvey.getSurveyInfo().getGovernedChannelType() !== governedChannelType) {\n                    activeSurveys[key] = candidateSurvey;\n                }\n            }\n        }\n        this.candidateSurveys = activeSurveys;\n        this.activityListener.UpdateActivityTrackingContracts(this.candidateSurveys);\n    };\n    FloodgateEngine.prototype.createGorvernanceResponseTelemetry = function (serviceResult) {\n        return {\n            FloodgateEngineStatus: this.initializationStatus.toString(),\n            GovernanceServiceResult: serviceResult,\n            StaleTriggeredSurveysQueueCount: this.staleTriggeredSurveysQueue.length - 1,\n        };\n    };\n    // Initialize telemetry logger with no-op logger\n    FloodgateEngine.telemetryLogger = new DefaultFloodgateTelemetryLogger();\n    return FloodgateEngine;\n}());\nexports.FloodgateEngine = FloodgateEngine;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0Zsb29kZ2F0ZUVuZ2luZS50cz80YWM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLHlKQUE2RTtBQVU3RSx3S0FHNkU7QUFDN0UsdUlBQTZEO0FBQzdELHlKQUF3RztBQUV4RyxtR0FBNkM7QUFDN0MsMkhBQXdEO0FBQ3hELHFIQUE4RTtBQUM5RSw0SkFBb0g7QUFDcEgsZ0dBQWlEO0FBRWpELHdJQUFtRTtBQUNuRSxrS0FDMEU7QUFDMUUsMktBQWtIO0FBRWxILElBQU8sUUFBUSxHQUFHLHlCQUF5QixDQUFDLFFBQVEsQ0FBQztBQUNyRCxnSkFBc0U7QUFDdEUscUhBQXdLO0FBQ3hLLHVGQUFnQztBQUVoQyxxQ0FBcUM7QUFDckM7SUFBQTtJQW9CQSxDQUFDO0lBbkJBLFlBQVk7SUFDTCx3REFBYyxHQUFyQixVQUFzQixVQUFrQixFQUFFLFFBQWdCLEVBQUUsVUFBd0IsRUFBRSxrQkFBMEIsRUFDL0csb0JBQTRCLElBQVMsQ0FBQztJQUV2QyxZQUFZO0lBQ0wsMERBQWdCLEdBQXZCLFVBQXdCLFVBQWtCLEVBQUUsUUFBZ0IsRUFBRSxVQUF3QixFQUNyRixvQkFBNEIsSUFBUyxDQUFDO0lBRXZDLFlBQVk7SUFDTCxpRUFBdUIsR0FBOUIsVUFBK0IsWUFBb0IsSUFBUyxDQUFDO0lBRTdELFlBQVk7SUFDTCxtREFBUyxHQUFoQixVQUFpQixPQUFlLEVBQUUsWUFBb0IsSUFBUyxDQUFDO0lBRWhFLFlBQVk7SUFDTCxtREFBUyxHQUFoQixVQUFpQixPQUFlLEVBQUUsVUFBZ0MsSUFBUyxDQUFDO0lBRTVFLFlBQVk7SUFDTCx3REFBYyxHQUFyQixVQUFzQixPQUFlO1FBQUUsY0FBYzthQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7WUFBZCw2QkFBYzs7SUFBUyxDQUFDO0lBQ2hFLHNDQUFDO0FBQUQsQ0FBQztBQVVELElBQU0sNkJBQTZCLEdBQXFE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anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nU2V0IH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ1NldFwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SW5mbywgSVVzZXJGYWN0UHJvdmlkZXIgfSBmcm9tIFwiLi9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIElBY3Rpdml0eUxpc3RlbmVyIGZyb20gXCIuL0FwaS9JQWN0aXZpdHlMaXN0ZW5lclwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCAqIGFzIElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgfSBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLCBJR292ZXJuYW5jZVNlcnZpY2VDbGllbnQsIElHb3Zlcm5hbmNlU2VydmljZVJlc3VsdCwgSUdvdmVybmFuY2VTdXJ2ZXlJbmZvLCBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlIH0gZnJvbSBcIi4vQXBpL0lHb3Zlcm5hbmNlU2VydmljZUNsaWVudFwiO1xyXG5pbXBvcnQgeyBJQ29udGV4dERhdGEsIElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrIH0gZnJvbSBcIi4vQXBpL0lPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIi4vQXBpL0lTdXJ2ZXlMYXVuY2hlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5TGF1bmNoZXJGYWN0b3J5IH0gZnJvbSBcIi4vQXBpL0lTdXJ2ZXlMYXVuY2hlckZhY3RvcnlcIjtcclxuaW1wb3J0IHsgSVRlbGVtZXRyeVByb3BlcnRpZXMgfSBmcm9tIFwiLi9BcGkvSVRlbGVtZXRyeVByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSVRyYW5zcG9ydGVyRmFjdG9yeSB9IGZyb20gXCIuL0FwaS9JVHJhbnNwb3J0ZXJGYWN0b3J5XCI7XHJcbmltcG9ydCB7IENhbXBhaWduRGVmaW5pdGlvbixcclxuXHRcdENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSxcclxuXHRcdEZpbGVTeXN0ZW1DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcixcclxuXHRcdElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduTWFuYWdlciB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN0YXRlUHJvdmlkZXJGYWN0b3J5LCBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vQ2FtcGFpZ24vQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElEaWN0aW9uYXJ5IH0gZnJvbSBcIi4vQ29tbW9uXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZVNldHRpbmdzIH0gZnJvbSBcIi4vRmxvb2RnYXRlU2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSwgSUdvdmVybmVkQ2hhbm5lbERhdGEgfSBmcm9tIFwiLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlckZhY3RvcnksIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5vciwgSUdvdmVybm9yIH0gZnJvbSBcIi4vR292ZXJub3JcIjtcclxuaW1wb3J0IHsgSVN1cnZleUNsaWVudCB9IGZyb20gXCIuL0lTdXJ2ZXlDbGllbnRcIjtcclxuaW1wb3J0ICogYXMgU3VydmV5QWN0aXZpdHlMaXN0ZW5lciBmcm9tIFwiLi9TdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciwgU3VydmV5QWN0aXZhdGlvblN0YXRzLCBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlckZhY3RvcnksXHJcblx0U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uXCI7XHJcbmltcG9ydCB7IFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5IH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5XCI7XHJcblxyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5pbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3QgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nQ29udHJhY3RcIjtcclxuaW1wb3J0IHsgaGFzU3VydmV5UmVhY2hlZE1heExhdW5jaGVzLCBoYXNTdXJ2ZXlSZWFjaGVkTWF4TGF1bmNoZXNQZXJTZXNzaW9uLCBpc0J1c2luZXNzQ3JpdGljYWxTdXJ2ZXksIGlzQ3JpdGljYWxTdXJ2ZXksIGlzTXVsdGlMYXVuY2hTdXJ2ZXkgfSBmcm9tIFwiLi9Hb3Zlcm5hbmNlVXRpbHNcIjtcclxuaW1wb3J0IHsgaXNOT1UgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuLy8gVGVsZW1ldHJ5IGxvZ2dlciB3aXRoIG5vLW9wIGxvZ2dlclxyXG5jbGFzcyBEZWZhdWx0Rmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIGltcGxlbWVudHMgSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciB7XHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19UcmlnZ2VyTWV0KGNhbXBhaWduSWQ6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZywgc3VydmV5VHlwZTogSVN1cnZleS5UeXBlLCBzdXJ2ZXlBY3Rpdml0eUluZm86IHN0cmluZyxcclxuXHRcdGFkZGl0aW9uYWxTdXJ2ZXlJbmZvOiBzdHJpbmcpOiB2b2lkIHt9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2dfVXNlclNlbGVjdGVkKGNhbXBhaWduSWQ6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZywgc3VydmV5VHlwZTogSVN1cnZleS5UeXBlLFxyXG5cdFx0YWRkaXRpb25hbFN1cnZleUluZm86IHN0cmluZyk6IHZvaWQge31cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9nX0Vycm9yKGV2ZW50SWQ6IHN0cmluZywgZXJyb3JNZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHt9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2dfRXZlbnQoZXZlbnRJZDogc3RyaW5nLCBwcm9wZXJ0aWVzOiBJVGVsZW1ldHJ5UHJvcGVydGllcyk6IHZvaWQge31cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19Mb2NhbEVycm9yKG1lc3NhZ2U6IHN0cmluZywgLi4uZGF0YTogYW55W10pOiB2b2lkIHt9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEluaXRpYWxpemF0aW9uU3RhdHVzIHtcclxuXHROb25lID0gMCxcclxuXHRFcnJvcixcclxuXHRJbml0aWFsaXppbmcsXHJcblx0U3RhcnRlZCxcclxuXHRTdG9wcGVkLFxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0U3VydmV5QWN0aXZpdHlMaXN0ZW5lcjogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5JQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrID0ge1xyXG5cdHJ1bihzdXJ2ZXkpIHtcclxuXHR9LFxyXG5cdHNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZSkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxufTtcclxuXHJcbmNvbnN0IGdsb2JhbFNlc3Npb25TdXJ2ZXlBY3RpdmF0aW9uQ291bnRzOiBJRGljdGlvbmFyeTxudW1iZXI+ID0ge307XHJcblxyXG4vKipcclxuICogRmxvb2RnYXRlIEVuZ2luZSBjbGFzcy4gIFRoZSBtYWluIHdpcmluZyBodWIgYW5kIHRoZSBicmFpbnMgcmVzcG9uc2libGUgZm9yXHJcbiAqIGxpbmtpbmcgdG9nZXRoZXIgdGhlIHN1cnZleSBkZWZpbml0aW9ucywgZ292ZXJuYW5jZSwgYWN0aXZpdHkgdHJhY2tpbmcsIGFuZFxyXG4gKiBzdXJ2ZXkgbGF1bmNoZXJzLiAgT25seSBvbmUtaW5zdGFuY2UtYXQtYS10aW1lIG9mIHRoZXNlIHNob3VsZCBiZSBjcmVhdGVkXHJcbiAqIHBlciBhcHAgc2Vzc2lvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBGbG9vZGdhdGVFbmdpbmUge1xyXG5cdHB1YmxpYyBzdGF0aWMgc2V0VGVsZW1ldHJ5TG9nZ2VyKHRlbGVtZXRyeUxvZ2dlcjogSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlcik6IHZvaWQge1xyXG5cdFx0aWYgKCF0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVsZW1ldHJ5TG9nZ2VyIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Rmxvb2RnYXRlRW5naW5lLnRlbGVtZXRyeUxvZ2dlciA9IHRlbGVtZXRyeUxvZ2dlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0VGVsZW1ldHJ5TG9nZ2VyKCk6IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIge1xyXG5cdFx0cmV0dXJuIEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGdldFRyYW5zcG9ydEZhY3RvcnkoKTogSVRyYW5zcG9ydGVyRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gRmxvb2RnYXRlRW5naW5lLnRyYW5zcG9ydGVyRmFjdG9yeTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShcclxuXHRcdGJ1aWxkVmVyc2lvbjogc3RyaW5nLFxyXG5cdFx0bGF1bmNoZXJGYWN0b3J5OiBJU3VydmV5TGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0b25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssXHJcblx0XHRmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsXHJcblx0XHRob3N0QmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrLFxyXG5cdFx0c3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0dHJhbnNwb3J0ZXJGYWN0b3J5OiBJVHJhbnNwb3J0ZXJGYWN0b3J5LFxyXG5cdFx0Y2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJzOiBJQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJbXSxcclxuXHRcdHVzZXJGYWN0c1Byb3ZpZGVyOiBJVXNlckZhY3RQcm92aWRlcixcclxuXHRcdGdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50OiBJR292ZXJuYW5jZVNlcnZpY2VDbGllbnQpOiBGbG9vZGdhdGVFbmdpbmUge1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI6IElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyXHJcblx0XHRcdFx0PSBHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyRmFjdG9yeS5tYWtlKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciwgaG9zdEJhc2VkU3RvcmFnZVByb3ZpZGVyKTtcclxuXHJcblx0XHRcdGNvbnN0IHN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyOiBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJcclxuXHRcdFx0XHQ9IFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyRmFjdG9yeS5tYWtlKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciwgaG9zdEJhc2VkU3RvcmFnZVByb3ZpZGVyKTtcclxuXHJcblx0XHRcdGNvbnN0IGNhbXBhaWduU3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlclxyXG5cdFx0XHRcdD0gQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyRmFjdG9yeS5tYWtlKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciwgaG9zdEJhc2VkU3RvcmFnZVByb3ZpZGVyKTtcclxuXHJcblx0XHRcdGNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVycy5wdXNoKG5ldyBGaWxlU3lzdGVtQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyKSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gbmV3IEZsb29kZ2F0ZUVuZ2luZShcclxuXHRcdFx0XHRuZXcgQ2FtcGFpZ25NYW5hZ2VyKFxyXG5cdFx0XHRcdFx0Y2FtcGFpZ25TdGF0ZVByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0Y2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJzLFxyXG5cdFx0XHRcdFx0c3RyaW5nUHJvdmlkZXIsXHJcblx0XHRcdFx0XHRlbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0XHRcdFx0YnVpbGRWZXJzaW9uLFxyXG5cdFx0XHRcdFx0bmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdHVzZXJGYWN0c1Byb3ZpZGVyLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdFx0bmV3IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIoXHJcblx0XHRcdFx0XHRkZWZhdWx0U3VydmV5QWN0aXZpdHlMaXN0ZW5lcixcclxuXHRcdFx0XHRcdHRoaXMuZ2V0VGVsZW1ldHJ5TG9nZ2VyLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdFx0bGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0XHRcdG9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssXHJcblx0XHRcdFx0ZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLFxyXG5cdFx0XHRcdG5ldyBHb3Zlcm5vcihcclxuXHRcdFx0XHRcdGdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIsXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0XHRzdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcixcclxuXHRcdFx0XHR0cmFuc3BvcnRlckZhY3RvcnksXHJcblx0XHRcdFx0Z292ZXJuYW5jZVNlcnZpY2VDbGllbnQsXHJcblx0XHRcdCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHRoaXMudGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuTWFrZS5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGUgJiYgZS50b1N0cmluZygpLCBFcnJvckRldGFpbHM6IGUgJiYgZS5zdGFjayB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEluaXRpYWxpemUgdGVsZW1ldHJ5IGxvZ2dlciB3aXRoIG5vLW9wIGxvZ2dlclxyXG5cdHByaXZhdGUgc3RhdGljIHRlbGVtZXRyeUxvZ2dlcjogSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciA9IG5ldyBEZWZhdWx0Rmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyKCk7XHJcblx0cHJpdmF0ZSBzdGF0aWMgdHJhbnNwb3J0ZXJGYWN0b3J5OiBJVHJhbnNwb3J0ZXJGYWN0b3J5O1xyXG5cclxuXHRwcml2YXRlIHN1cnZleUNsaWVudDogSVN1cnZleUNsaWVudDtcclxuXHRwcml2YXRlIGFjdGl2aXR5TGlzdGVuZXI6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXI7XHJcblx0cHJpdmF0ZSBvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaztcclxuXHRwcml2YXRlIGxhdW5jaGVyRmFjdG9yeTogSVN1cnZleUxhdW5jaGVyRmFjdG9yeTtcclxuXHRwcml2YXRlIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBnb3Zlcm5vcjogSUdvdmVybm9yO1xyXG5cdHByaXZhdGUgaW5pdGlhbGl6YXRpb25TdGF0dXM6IEluaXRpYWxpemF0aW9uU3RhdHVzID0gSW5pdGlhbGl6YXRpb25TdGF0dXMuTm9uZTtcclxuXHRwcml2YXRlIGxvZ2dlZEZpcnN0U3RhcnQ6IGJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgZmxvb2RnYXRlU2V0dGluZ3M6IEZsb29kZ2F0ZVNldHRpbmdzO1xyXG5cdHByaXZhdGUgcHJldmlvdXNTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbjtcclxuXHRwcml2YXRlIHByZXZpb3VzU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHk7XHJcblxyXG5cdHByaXZhdGUgY2FuZGlkYXRlU3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHRwcml2YXRlIGxhdW5jaGVkU3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHRwcml2YXRlIGxhdW5jaGVkTGF1bmNoZXJzOiBJU3VydmV5TGF1bmNoZXJbXSA9IFtdO1xyXG5cdHByaXZhdGUgc3VydmV5RXZlbnRTZW50OiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRwcml2YXRlIHN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyOiBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXI7XHJcblxyXG5cdHByaXZhdGUgZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQ6IElHb3Zlcm5hbmNlU2VydmljZUNsaWVudDtcclxuXHRwcml2YXRlIHN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlOiBJU3VydmV5W10gPSBbXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN1cnZleUNsaWVudDogSVN1cnZleUNsaWVudCwgYWN0aXZpdHlMaXN0ZW5lcjogU3VydmV5QWN0aXZpdHlMaXN0ZW5lciwgbGF1bmNoZXJGYWN0b3J5OiBJU3VydmV5TGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0b25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGdvdmVybm9yOiBJR292ZXJub3IsXHJcblx0XHRzdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcjogSVN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLCB0cmFuc3BvcnRlckZhY3Rvcnk6IElUcmFuc3BvcnRlckZhY3RvcnksXHJcblx0XHRnb3Zlcm5hbmNlU2VydmljZUNsaWVudDogSUdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50KSB7XHJcblxyXG5cdFx0aWYgKCFzdXJ2ZXlDbGllbnQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3VydmV5Q2xpZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWFjdGl2aXR5TGlzdGVuZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYWN0aXZpdHlMaXN0ZW5lciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFsYXVuY2hlckZhY3RvcnkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibGF1bmNoZXJGYWN0b3J5IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIW9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2spIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFzdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZ292ZXJub3IpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZ292ZXJub3IgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghdHJhbnNwb3J0ZXJGYWN0b3J5KSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInRyYW5zcG9ydGVyRmFjdG9yeSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3VydmV5Q2xpZW50ID0gc3VydmV5Q2xpZW50O1xyXG5cdFx0dGhpcy5hY3Rpdml0eUxpc3RlbmVyID0gYWN0aXZpdHlMaXN0ZW5lcjtcclxuXHRcdHRoaXMubGF1bmNoZXJGYWN0b3J5ID0gbGF1bmNoZXJGYWN0b3J5O1xyXG5cdFx0dGhpcy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrID0gb25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaztcclxuXHRcdHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcblx0XHR0aGlzLmdvdmVybm9yID0gZ292ZXJub3I7XHJcblx0XHR0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyID0gc3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXI7XHJcblx0XHR0aGlzLmdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50ID0gZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQ7XHJcblx0XHRGbG9vZGdhdGVFbmdpbmUudHJhbnNwb3J0ZXJGYWN0b3J5ID0gdHJhbnNwb3J0ZXJGYWN0b3J5O1xyXG5cclxuXHRcdHRoaXMubG9nZ2VkRmlyc3RTdGFydCA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIEluaXRpYWxpemUgb3VyIGxpc3QgdG8gYSB2YWxpZCwgZW1wdHkgY29sbGVjdGlvblxyXG5cdFx0dGhpcy5zZXRQZW5kaW5nU3VydmV5cyhudWxsKTtcclxuXHJcblx0XHQvLyBJZiB0aGUgbGlzdGVuZXIgd2FzIHByZS1jb25maWd1cmVkIHdpdGggc3VydmV5IGZvciBzb21lIHJlYXNvbiwgY2xlYXIgaXQgbm93XHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuY2xlYXJTdXJ2ZXlzKCk7XHJcblxyXG5cdFx0Ly8gTGluayBvdXJzZWx2ZXMgd2l0aCB0aGUgbGlzdGVuZXJcclxuXHRcdGNvbnN0IHRoaXNPYmogPSB0aGlzOyAvLyBTYXZlIGN1cnJlbnQgb2JqZWN0IGluIGEgdmFyaWFibGUgdG8gYWxsb3cgYWNjZXNzIGZyb20gY2FsbGJhY2suXHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuc2V0Q2FsbGJhY2soe1xyXG5cdFx0XHRydW4oc3VydmV5SWQ6IHN0cmluZywgY29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKSB7XHJcblx0XHRcdFx0dGhpc09iai5vblN1cnZleUFjdGl2YXRlZChzdXJ2ZXlJZCwgY29udGV4dEluZm8pO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRzaG91bGRBY2NlcHRBY3Rpdml0eShhY3Rpdml0eU5hbWU6IHN0cmluZykge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzT2JqLnNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZSk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgYWxsIGludGVybmFsIHN0YXRzIGFuZCBmbG9vZGdhdGVTZXR0aW5ncyAobWVyZ2luZyB3aXRoIGV4aXN0aW5nIGZpbGUgY29udGVudHMpLCB3aXRob3V0IHN0b3BwaW5nIHRoZSBlbmdpbmUuXHJcblx0ICovXHJcblx0cHVibGljIG1lcmdlQW5kU2F2ZSgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0XHR0aGlzLnNhdmVTdXJ2ZXlBY3RpdmF0aW9uSGlzdG9yeSgpO1xyXG5cdFx0dGhpcy5zYXZlU3VydmV5RXZlbnRBY3Rpdml0eUhpc3RvcnkoKTtcclxuXHJcblx0XHQvLyBJbmZvcm0gc3VydmV5Q2xpZW50IHRvIHNhdmUgaXRzIHN0YXRlXHJcblx0XHR0aGlzLnN1cnZleUNsaWVudC5zYXZlQ3VycmVudFN0YXRlKCk7XHJcblxyXG5cdFx0Ly8gU2F2ZSBnb3Zlcm5lZCBjaGFubmVsIHN0YXRlc1xyXG5cdFx0dGhpcy5nb3Zlcm5vci5zYXZlQ2hhbm5lbFN0YXRlcygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgdGhlIGVuZ2luZS4gIENoZWNrcyBmZWF0dXJlIGVuYWJsZSBzdGF0ZSwgY2F1c2VzIHN1cnZleSBkZWZpbml0aW9ucyB0byBiZSByZWFkLCBhbmQgdHJhY2tlZCBhY3Rpdml0aWVzIHRvIGJlIHNldCBvbiB0aGUgbGlzdGVuZXIuXHJcblx0ICovXHJcblx0cHVibGljIHN0YXJ0KCk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLkluaXRpYWxpemluZyB8fFxyXG5cdFx0XHR0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLkluaXRpYWxpemluZyk7XHJcblx0XHRcdHRoaXMubG9hZFNldHRpbmdzQW5kUHJpb3JFdmVudENvdW50cygpO1xyXG5cclxuXHRcdFx0Y29uc3QgY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10gPSB0aGlzLmdldEF2YWlsYWJsZUNoYW5uZWxUeXBlcygpO1xyXG5cclxuXHRcdFx0dGhpcy5zdXJ2ZXlDbGllbnQucmVmcmVzaFN1cnZleURlZmluaXRpb25zKGNoYW5uZWxUeXBlcyk7XHJcblxyXG5cdFx0XHR0aGlzLnNldFBlbmRpbmdTdXJ2ZXlzQW5kU3RhcnRGbG9vZGdhdGUoKTtcclxuXHRcdFx0dGhpcy5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0dGhpcy5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5FcnJvcik7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLlN0YXJ0LkZhaWxlZCxcclxuXHRcdFx0XHR7IEVycm9yTWVzc2FnZTogZSAmJiBlLnRvU3RyaW5nKCksIEVycm9yRGV0YWlsczogZSAmJiBlLnN0YWNrIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnQgdGhlIGVuZ2luZS4gIENoZWNrcyBmZWF0dXJlIGVuYWJsZSBzdGF0ZSwgY2F1c2VzIHN1cnZleSBkZWZpbml0aW9ucyB0byBiZSByZWFkLCBhbmQgdHJhY2tlZCBhY3Rpdml0aWVzIHRvIGJlIHNldCBvbiB0aGUgbGlzdGVuZXIuXHJcblx0ICovXHJcblx0cHVibGljIHN0YXJ0QXN5bmMoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRpZiAodGhpcy5pbml0aWFsaXphdGlvblN0YXR1cyA9PT0gSW5pdGlhbGl6YXRpb25TdGF0dXMuSW5pdGlhbGl6aW5nIHx8XHJcblx0XHRcdHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLlN0YXJ0ZWQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuSW5pdGlhbGl6aW5nKTtcclxuXHRcdFx0dGhpcy5sb2FkU2V0dGluZ3NBbmRQcmlvckV2ZW50Q291bnRzKCk7XHJcblxyXG5cdFx0XHRjb25zdCBjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSA9IHRoaXMuZ2V0QXZhaWxhYmxlQ2hhbm5lbFR5cGVzKCk7XHJcblxyXG5cdFx0XHRjb25zdCB0aGlzRmxvb2RnYXRlRW5naW5lID0gdGhpcztcclxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnN1cnZleUNsaWVudC5yZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNBc3luYyhjaGFubmVsVHlwZXMpLnRoZW4oXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFueSBzdG9wKCkgY2FsbHMgdGhhdCBoYXBwZW5lZCB3aGlsZSBpbml0aWFsaXppbmdcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXNGbG9vZGdhdGVFbmdpbmUuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLlN0b3BwZWQpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLlN0YXJ0ZWQpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXNGbG9vZGdhdGVFbmdpbmUuc3RvcCgpO1xyXG5cdFx0XHRcdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLlN0YXJ0QXN5bmMuU3RvcHBlZCxcclxuXHRcdFx0XHRcdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIlN0b3BwZWQgYmVjYXVzZSBvZiBhIHBlbmRpbmcgc3RvcCgpIGNhbGxcIiB9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnNldFBlbmRpbmdTdXJ2ZXlzQW5kU3RhcnRGbG9vZGdhdGUoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gT25SZWplY3RlZChlcnJvcjogRXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0dGhpc0Zsb29kZ2F0ZUVuZ2luZS5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5FcnJvcik7XHJcblx0XHRcdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLlN0YXJ0QXN5bmMuRmFpbGVkLFxyXG5cdFx0XHRcdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIlN1cnZleSByZWZyZXNoIGVycm9yIFwiICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpIH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuRXJyb3IpO1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5TdGFydEFzeW5jLkZhaWxlZCxcclxuXHRcdFx0XHR7IEVycm9yTWVzc2FnZTogZSAmJiBlLnRvU3RyaW5nKCksIEVycm9yRGV0YWlsczogZSAmJiBlLnN0YWNrIH0pO1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIHRoZSBlbmdpbmUuICBDYXVzZXMgdHJhY2tlZCBhY3Rpdml0aWVzIHRvIGJlIGNsZWFyZWQgYW5kIGFueSBpbi1wcm9ncmVzcyBjb3VudGVycyBub3Qgb3RoZXJ3aXNlIHNhdmVkIHRvIGJlIHRocm93biBvdXQuXHJcblx0ICovXHJcblx0cHVibGljIHN0b3AoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5pbml0aWFsaXphdGlvblN0YXR1cyA9PT0gSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCkge1xyXG5cdFx0XHR0aGlzLm1lcmdlQW5kU2F2ZSgpO1xyXG5cclxuXHRcdFx0Ly8gQ2xlYXIgb3VyIFN1cnZleSBsaXN0LCBhbmQgcHVzaCB0aGF0IHRocm91Z2ggdG8gdGhlIGxpc3RlbmVyXHJcblx0XHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXMobnVsbCk7XHJcblx0XHRcdHRoaXMudXBkYXRlQWN0aXZpdHlMaXN0ZW5lcldpdGhDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLlN0b3BwZWQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0cyB0aGUgSUFjdGl2aXR5TGlzdGVuZXIgbG9nZ2luZyBpbnRlcmZhY2UgZm9yIGNhbGxlcnMgdGhhdCB3YW50IHRvIGxvZyBkaXJlY3RseSByYXRoZXIgdGhhbiB0aHJvdWdoIHRlbGVtZXRyeVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRBY3Rpdml0eUxpc3RlbmVyKCk6IElBY3Rpdml0eUxpc3RlbmVyIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2aXR5TGlzdGVuZXI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldEluaXRpYWxpemF0aW9uU3RhdHVzKHN0YXR1czogSW5pdGlhbGl6YXRpb25TdGF0dXMpOiB2b2lkIHtcclxuXHRcdHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPSBzdGF0dXM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNhdmVTZXR0aW5ncygpOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RvcmFnZS5maWxlTG9jayhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncyk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy53cml0ZVN0cmluZyhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncywgRmxvb2RnYXRlU2V0dGluZ3MudG9Kc29uKHRoaXMuZmxvb2RnYXRlU2V0dGluZ3MpKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdHRoaXMuc3RvcmFnZS5maWxlVW5sb2NrKEZpbGVUeXBlLkZsb29kZ2F0ZVNldHRpbmdzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbG9hZFNldHRpbmdzQW5kUHJpb3JFdmVudENvdW50cygpOiB2b2lkIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIExvYWQgdXAgdGhlIHByaW9yIHN1cnZleSBoaXN0b3J5IGFuZCBwcmlvciBldmVudCBjb3VudHNcclxuXHRcdFx0dGhpcy5wcmV2aW91c1N1cnZleUFjdGl2YXRpb25TdGF0cyA9IHRoaXMuc3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIubG9hZCgpO1xyXG5cclxuXHRcdFx0dGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyA9XHJcblx0XHRcdFx0U3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LmZyb21Kc29uKHRoaXMucmVhZFN0cmluZyhGaWxlVHlwZS5TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMpKTtcclxuXHJcblx0XHRcdC8vIGdldCB0aGUgbGlzdCBvZiBzdXJ2ZXkgSWQgLSBhbGwgdGhlIHN1cnZleSBzaG91bGQgaGF2ZSBldmVudCBzZW50IGFscmVhZHlcclxuXHRcdFx0Y29uc3Qgc3RhdHM6IElEaWN0aW9uYXJ5PFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cz4gPSB0aGlzLnByZXZpb3VzU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLmdldFN0YXRzKCk7XHJcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHN0YXRzKSB7XHJcblx0XHRcdFx0aWYgKHN0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdHRoaXMuc3VydmV5RXZlbnRTZW50LnB1c2goa2V5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIExvYWQgdXAgdGhlIGdlbmVyYWwgZmxvb2RnYXRlU2V0dGluZ3NcclxuXHRcdFx0dGhpcy5mbG9vZGdhdGVTZXR0aW5ncyA9IEZsb29kZ2F0ZVNldHRpbmdzLmZyb21Kc29uKHRoaXMucmVhZFN0cmluZyhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncykpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5Db21tb24uRXJyb3IsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiRXJyb3IgbG9hZGluZyBwcmlvciBzZXR0aW5ncy9ldmVudHMgXCIgKyAoZSAmJiBlLnRvU3RyaW5nKCkpIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRBdmFpbGFibGVDaGFubmVsVHlwZXMoKTogR292ZXJuZWRDaGFubmVsVHlwZVtdIHtcclxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSd2ZSBsb2FkZWQgdGhlIGN1cnJlbnQgc3VydmV5IGRlZmluaXRpb25zXHJcblx0XHRjb25zdCBjaGFubmVsczogSUdvdmVybmVkQ2hhbm5lbERhdGFbXSA9IHRoaXMuZ292ZXJub3IuZ2V0QXZhaWxhYmxlQ2hhbm5lbERhdGEoKTtcclxuXHRcdGNvbnN0IGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdID0gW107XHJcblxyXG5cdFx0Y2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCkgPT4ge1xyXG5cdFx0XHRpZiAoY2hhbm5lbCkge1xyXG5cdFx0XHRcdGNoYW5uZWxUeXBlcy5wdXNoKGNoYW5uZWwuZ2V0VHlwZSgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGNoYW5uZWxUeXBlcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2V0UGVuZGluZ1N1cnZleXNBbmRTdGFydEZsb29kZ2F0ZSgpOiB2b2lkIHtcclxuXHRcdC8vIFVwZGF0ZSBvdXIgc3VydmV5IGxpc3QsIGFuZCBwdXNoIHRoYXQgdGhyb3VnaCB0byB0aGUgbGlzdGVuZXJcclxuXHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXModGhpcy5zdXJ2ZXlDbGllbnQuZ2V0QXBwU3VydmV5cygpKTtcclxuXHRcdHRoaXMudXBkYXRlQWN0aXZpdHlMaXN0ZW5lcldpdGhDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHJcblx0XHQvLyBNYXJrIHVzIGFzIHN0YXJ0ZWRcclxuXHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCk7XHJcblxyXG5cdFx0Ly8gTG9nIG91ciBmaXJzdCBzdGFydCAoYWthIGZsb29kZ2F0ZSBib290KSBldmVudFxyXG5cdFx0aWYgKCF0aGlzLmxvZ2dlZEZpcnN0U3RhcnQpIHtcclxuXHRcdFx0dGhpcy5sb2dnZWRGaXJzdFN0YXJ0ID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5nZXRBY3Rpdml0eUxpc3RlbmVyKCkubG9nQWN0aXZpdHkoU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5GbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZVN1cnZleUFjdGl2YXRpb25TdGF0cyhzdXJ2ZXk6IElTdXJ2ZXkpIHtcclxuXHRcdGNvbnN0IHN1cnZleUluZm8gPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0Y29uc3Qgc3VydmV5SWQgPSBzdXJ2ZXlJbmZvLmdldElkKCk7XHJcblx0XHRjb25zdCBzdGF0cyA9IHRoaXMucHJldmlvdXNTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMuZ2V0U3RhdHMoKVtzdXJ2ZXlJZF0gfHwgbmV3IFN1cnZleUFjdGl2YXRpb25TdGF0cygpO1xyXG5cdFx0c3RhdHMuVHlwZSA9IHN1cnZleS5nZXRUeXBlKCk7XHJcblx0XHRzdGF0cy5FeHBpcmF0aW9uVGltZVV0YyA9IHN1cnZleUluZm8uZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTtcclxuXHRcdHN0YXRzLkFjdGl2YXRpb25UaW1lVXRjID0gbmV3IERhdGUoKTtcclxuXHRcdHN0YXRzLlN1cnZleUxhdW5jaENvdW50Kys7XHJcblxyXG5cdFx0dGhpcy5wcmV2aW91c1N1cnZleUFjdGl2YXRpb25TdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgc3RhdHMpO1xyXG5cclxuXHRcdC8vIFNhdmUgdGhlIFN1cnZleUxhdW5jaENvdW50UGVyU2Vzc2lvbiBpbnRvIGdsb2JhbCBtZW1vcnkgYnV0IG5vdCBsb2NhbCBzdG9yYWdlXHJcblx0XHQvLyBzbyBpdCB3b24ndCBiZSBvdmVyd3JpdHRlbiBpbiBsb2NhbCBzdG9yYWdlIGJ5IGFub3RoZXIgYXBwIGluc3RhbmNlXHJcblx0XHRpZiAoIWdsb2JhbFNlc3Npb25TdXJ2ZXlBY3RpdmF0aW9uQ291bnRzLmhhc093blByb3BlcnR5KHN1cnZleUlkKSkge1xyXG5cdFx0XHRnbG9iYWxTZXNzaW9uU3VydmV5QWN0aXZhdGlvbkNvdW50c1tzdXJ2ZXlJZF0gPSAwO1xyXG5cdFx0fVxyXG5cdFx0Z2xvYmFsU2Vzc2lvblN1cnZleUFjdGl2YXRpb25Db3VudHNbc3VydmV5SWRdKys7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNhdmVTdXJ2ZXlBY3RpdmF0aW9uSGlzdG9yeSgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RvcmFnZS5maWxlTG9jayhGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHN0YXRDb2xsZWN0aW9uOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSB0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLmxvYWQoKTtcclxuXHJcblx0XHRcdGNvbnN0IHByZXZpb3VzU3RhdHMgPSB0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzLmdldFN0YXRzKCk7XHJcblxyXG5cdFx0XHQvLyBCdWlsZCB0aGUgdXBkYXRlIGNvbGxlY3Rpb25cclxuXHRcdFx0Y29uc3QgdXBkYXRlQ29sbGVjdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5sYXVuY2hlZFN1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5sYXVuY2hlZFN1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3VydmV5OiBJU3VydmV5ID0gdGhpcy5sYXVuY2hlZFN1cnZleXNba2V5XTtcclxuXHRcdFx0XHRcdGNvbnN0IHN1cnZleUlkID0gc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpO1xyXG5cclxuXHRcdFx0XHRcdC8vIE1ha2UgdGhpcyBwYXJ0IG9mIHRoZSB1cGRhdGUgbGlzdFxyXG5cdFx0XHRcdFx0Y29uc3Qgc3RhdHMgPSBwcmV2aW91c1N0YXRzW3N1cnZleUlkXTtcclxuXHRcdFx0XHRcdHVwZGF0ZUNvbGxlY3Rpb24uYWRkU3RhdHMoc3VydmV5SWQsIHN0YXRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFjdHVhbGx5IG1lcmdlIG91ciB1cGRhdGVzIGludG8gdGhlIGZ1bGwgY29sbGVjdGlvblxyXG5cdFx0XHRzdGF0Q29sbGVjdGlvbi5hY2N1bXVsYXRlKHVwZGF0ZUNvbGxlY3Rpb24pO1xyXG5cdFx0XHR0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLnNhdmUoc3RhdENvbGxlY3Rpb24pO1xyXG5cclxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRvIGtlZXAgb3VyIGludGVybmFsIGNvbGxlY3Rpb24gY29uc2lzdGVudCB3aXRoIHdoYXQgd2UganVzdCB3cm90ZVxyXG5cdFx0XHR0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzID0gc3RhdENvbGxlY3Rpb247XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHR0aGlzLnN0b3JhZ2UuZmlsZVVubG9jayhGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzYXZlU3VydmV5RXZlbnRBY3Rpdml0eUhpc3RvcnkoKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0b3JhZ2UuZmlsZUxvY2soRmlsZVR5cGUuU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbjogU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5ID1cclxuXHRcdFx0XHRTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkuZnJvbUpzb24odGhpcy5yZWFkU3RyaW5nKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cykpO1xyXG5cclxuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Ly8gRmlsbCBvdXQgb3VyIGxpc3Qgb2YgdXBkYXRlc1xyXG5cdFx0XHRjb25zdCB1cGRhdGVDb2xsZWN0aW9uID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbmRpZGF0ZVN1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBuZXcgU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKCk7XHJcblx0XHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIXN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuaXNBY3RpdmVGb3JEYXRlKG5vdykpIHtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzdGF0cy5FeHBpcmF0aW9uVGltZVV0YyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGFjdGl2aXRpZXMgd2hpY2ggYXJlIGFnZ3JlZ2F0ZWQsIGlmIHRoZXJlIGFyZW4ndCBhbnkgY29udGludWVcclxuXHRcdFx0XHRcdGNvbnN0IGFsbEFjdGl2aXRpZXM6IEFjdGl2aXR5VHJhY2tpbmdTZXQgPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEFjdGl2YXRpb25FdmVudCgpLmdldFRyYWNraW5nU2V0KCk7XHJcblx0XHRcdFx0XHRjb25zdCBhZ2dyZWdhdGVBY3Rpdml0aWVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHRcdFx0Y29uc3Qgbm9uQWdncmVnYXRlQWN0aXZpdGllczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHRcdFx0XHRhbGxBY3Rpdml0aWVzLmdldExpc3QoKS5mb3JFYWNoKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGEuZ2V0SXNBZ2dyZWdhdGUoKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YWdncmVnYXRlQWN0aXZpdGllcy5wdXNoKGRhdGEuZ2V0QWN0aXZpdHkoKSk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdG5vbkFnZ3JlZ2F0ZUFjdGl2aXRpZXMucHVzaChkYXRhLmdldEFjdGl2aXR5KCkpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0c3RhdHMuQ291bnRzID0gbmV3IEFycmF5KGFnZ3JlZ2F0ZUFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBTYXZlIG9mZiB0aGUgY291bnRzIHdlJ3ZlIGFkZGVkIGZvciB0aGlzIHNlc3Npb25cclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWdncmVnYXRlQWN0aXZpdGllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRzdGF0cy5Db3VudHNbaV0gPSB0aGlzLmFjdGl2aXR5TGlzdGVuZXIubW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoYWdncmVnYXRlQWN0aXZpdGllc1tpXSwgc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGFjdGl2aXR5IG9mIG5vbkFnZ3JlZ2F0ZUFjdGl2aXRpZXMpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3Rpdml0eUxpc3RlbmVyLnNhdmVTZXNzaW9uVHJhY2tpbmdBY3Rpdml0eShhY3Rpdml0eSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gTWFrZSB0aGlzIHBhcnQgb2YgdGhlIHVwZGF0ZSBsaXN0XHJcblx0XHRcdFx0XHR1cGRhdGVDb2xsZWN0aW9uLmFkZFN0YXRzKHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSwgc3RhdHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQWN0dWFsbHkgbWVyZ2Ugb3VyIHVwZGF0ZXMgaW50byB0aGUgZnVsbCBjb2xsZWN0aW9uXHJcblx0XHRcdHN0YXRDb2xsZWN0aW9uLmFjY3VtdWxhdGUodXBkYXRlQ29sbGVjdGlvbik7XHJcblxyXG5cdFx0XHR0aGlzLndyaXRlU3RyaW5nKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LnRvSnNvbihzdGF0Q29sbGVjdGlvbikpO1xyXG5cdFx0XHQvLyBNYWtlIHN1cmUgdG8ga2VlcCBvdXIgaW50ZXJuYWwgY29sbGVjdGlvbiBjb25zaXN0ZW50IHdpdGggd2hhdCB3ZSBqdXN0IHdyb3RlXHJcblx0XHRcdHRoaXMucHJldmlvdXNTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdHRoaXMuc3RvcmFnZS5maWxlVW5sb2NrKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldFBlbmRpbmdTdXJ2ZXlzKHBlbmRpbmdTdXJ2ZXlzOiBJRGljdGlvbmFyeTxJU3VydmV5Pik6IHZvaWQge1xyXG5cdFx0dGhpcy5jYW5kaWRhdGVTdXJ2ZXlzID0ge307XHJcblx0XHRpZiAocGVuZGluZ1N1cnZleXMpIHtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gcGVuZGluZ1N1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAocGVuZGluZ1N1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3VydmV5OiBJU3VydmV5ID0gcGVuZGluZ1N1cnZleXNba2V5XTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmxhdW5jaGVyRmFjdG9yeS5BY2NlcHRzU3VydmV5KHN1cnZleSkpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYW5kaWRhdGVTdXJ2ZXlzW2tleV0gPSBzdXJ2ZXk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEN1cnJlbnRTdXJ2ZXlEZWZpbml0aW9ucygpOiBJU3VydmV5W10ge1xyXG5cdFx0Ly8gR2V0IGEgdmVjdG9yIG9mIFN1cnZleXMgZnJvbSBvdXIgaWQtYmFzZWQgbWFwXHJcblx0XHRjb25zdCBzdXJ2ZXlMaXN0OiBJU3VydmV5W10gPSBuZXcgQXJyYXk8SVN1cnZleT4oKTtcclxuXHJcblx0XHRjb25zdCBhbGxDYW1wYWlnbkRlZmluaXRpb25JRHMgPSB0aGlzLmdldEFsbENhbXBhaWduRGVmaW5pdGlvbklEcygpO1xyXG5cdFx0Y29uc3QgYWxsQ2FuZGlkYXRlQ2FtcGFpZ25EZWZpbml0aW9uSURzID0gdGhpcy5nZXRBbGxDYW5kaWRhdGVDYW1wYWlnbkRlZmluaXRpb25JRHMoKTtcclxuXHJcblx0XHQvLyBHZXQgYWxsIHRoZSBjYW1wYWlnbiBkZWZpbml0aW9ucy4gV2UgbmVlZCBpbmZvIGZyb20gdGhlc2UgZm9yIHRlbGVtZXRyeS5cclxuXHRcdGNvbnN0IGFsbENhbXBhaWduRGVmaW5pdGlvbnMgPSAodGhpcy5zdXJ2ZXlDbGllbnQgYXMgQ2FtcGFpZ25NYW5hZ2VyKS5nZXRDYW1wYWlnbkRlZmluaXRpb25zKCk7XHJcblxyXG5cdFx0Y29uc3QgaXNTdXJ2ZXlBbGxvd2VkID0gKHN1cnZleUluZm86IElTdXJ2ZXlJbmZvKSA9PiB7XHJcblx0XHRcdC8vIGFsd2F5cyBhbGxvdyBidXNpbmVzcyBjcml0aWNhbCBhbmQgYXBwcm92ZWQgY2FtcGFpZ25zXHJcblx0XHRcdGlmIChpc0J1c2luZXNzQ3JpdGljYWxTdXJ2ZXkoc3VydmV5SW5mbykpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgc3VydmV5QWN0aXZhdGlvblN0YXRzID0gdGhpcy5wcmV2aW91c1N1cnZleUFjdGl2YXRpb25TdGF0cy5nZXRCeVN1cnZleUlkKHN1cnZleUluZm8uZ2V0SWQoKSk7XHJcblx0XHRcdGlmIChpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pICYmXHJcblx0XHRcdFx0IWhhc1N1cnZleVJlYWNoZWRNYXhMYXVuY2hlcyhzdXJ2ZXlJbmZvLCBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpICYmXHJcblx0XHRcdFx0IWhhc1N1cnZleVJlYWNoZWRNYXhMYXVuY2hlc1BlclNlc3Npb24oc3VydmV5SW5mbywgZ2xvYmFsU2Vzc2lvblN1cnZleUFjdGl2YXRpb25Db3VudHMpKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNraXAgb3ZlciBhbnkgY2FuZGlkYXRlIHN1cnZleXMgdGhhdCBoYXZlIGJlZW4gcHJldmlvdXNseSBjb21wbGV0ZWQgb3Igbm90IGFjdGl2ZSBhbnltb3JlXHJcblx0XHRcdGlmIChzdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgfHwgIXN1cnZleUluZm8uaXNBY3RpdmVGb3JEYXRlKG5ldyBEYXRlKCkpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5jYW5kaWRhdGVTdXJ2ZXlzKSB7XHJcblx0XHRcdGlmICh0aGlzLmNhbmRpZGF0ZVN1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHN1cnZleTogSVN1cnZleSA9IHRoaXMuY2FuZGlkYXRlU3VydmV5c1trZXldO1xyXG5cdFx0XHRcdGNvbnN0IHN1cnZleUluZm8gPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0XHRcdGNvbnN0IGNhbXBhaWduRGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uID0gYWxsQ2FtcGFpZ25EZWZpbml0aW9uc1tzdXJ2ZXlJbmZvPy5nZXRCYWNrRW5kSWQoKV07XHJcblx0XHRcdFx0aWYgKCFjYW1wYWlnbkRlZmluaXRpb24gfHwgIWlzU3VydmV5QWxsb3dlZChzdXJ2ZXlJbmZvKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBzZW5kIHRoZSBVc2VyU2VsZWN0ZWQgZXZlbnQgaWYgaXQgaXMgbm90IHNlbnQgYmVmb3JlXHJcblx0XHRcdFx0aWYgKHRoaXMuc3VydmV5RXZlbnRTZW50LmluZGV4T2Yoa2V5KSA8IDApIHtcclxuXHRcdFx0XHRcdHRoaXMuc3VydmV5RXZlbnRTZW50LnB1c2goa2V5KTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBhZGRpdGlvbmFsU3VydmV5SW5mbyA9IHRoaXMuZ2V0QWRkaXRpb25hbFN1cnZleUluZm9Gb3JUZWxlbWV0cnkoc3VydmV5LFxyXG5cdFx0XHRcdFx0XHRudWxsIC8qIGNvbnRleHRJbmZvICovLFxyXG5cdFx0XHRcdFx0XHRhbGxDYW1wYWlnbkRlZmluaXRpb25JRHMsXHJcblx0XHRcdFx0XHRcdGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcyk7XHJcblxyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLnRlbGVtZXRyeUxvZ2dlci5sb2dfVXNlclNlbGVjdGVkKHN1cnZleUluZm8uZ2V0QmFja0VuZElkKCksXHJcblx0XHRcdFx0XHRcdHN1cnZleUluZm8uZ2V0SWQoKSxcclxuXHRcdFx0XHRcdFx0c3VydmV5LmdldFR5cGUoKSxcclxuXHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFN1cnZleUluZm8pKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHN1cnZleUxpc3QucHVzaChzdXJ2ZXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN1cnZleUxpc3Q7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEFkZGl0aW9uYWxTdXJ2ZXlJbmZvRm9yVGVsZW1ldHJ5KHN1cnZleTogSVN1cnZleSxcclxuXHRcdGNvbnRleHRJbmZvOiBJQ29udGV4dERhdGFbXSwgYWxsQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBzdHJpbmdbXSwgYWxsQ2FuZGlkYXRlQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBzdHJpbmdbXSk6IHtcclxuXHRcdGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEczogc3RyaW5nW10sXHJcblx0XHRhbGxDYW1wYWlnbkRlZmluaXRpb25JRHM6IHN0cmluZ1tdLFxyXG5cdFx0Y29udGV4dENvdW50PzogbnVtYmVyLFxyXG5cdFx0c3VydmV5TGF1bmNoZXJUeXBlOiBzdHJpbmcsXHJcblx0XHRjaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSxcclxuXHRcdHBlcmNlbnRhZ2VOdW1lcmF0b3I6IG51bWJlcixcclxuXHRcdHBlcmNlbnRhZ2VEZW5vbWluYXRvcjogbnVtYmVyLFxyXG5cdFx0bm9taW5hdGlvblBlcmlvZE51bWJlcjogbnVtYmVyLFxyXG5cdFx0Y29vbGRvd25QZXJpb2ROdW1iZXI6IG51bWJlcixcclxuXHRcdGJ1c2luZXNzTGV2ZWw6IG51bWJlcixcclxuXHRcdG1heExhdW5jaGVzOiBudW1iZXIsXHJcblx0XHRtYXhMYXVuY2hlc1BlclNlc3Npb246IG51bWJlcixcclxuXHRcdGdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50U3RhdGU/OiBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLFxyXG5cdH0ge1xyXG5cdFx0Ly8gR2V0IGFsbCB0aGUgY2FtcGFpZ24gZGVmaW5pdGlvbnMuIFdlIG5lZWQgaW5mbyBmcm9tIHRoZXNlIGZvciB0ZWxlbWV0cnkuXHJcblx0XHRjb25zdCBhbGxDYW1wYWlnbkRlZmluaXRpb25zID0gKHRoaXMuc3VydmV5Q2xpZW50IGFzIENhbXBhaWduTWFuYWdlcikuZ2V0Q2FtcGFpZ25EZWZpbml0aW9ucygpO1xyXG5cclxuXHRcdC8vIEdldCB0aGUgY29ycmVzcG9uZGluZyBjYW1wYWlnbiBkZWZpbml0aW9uIHRvIHRoZSBzdXJ2ZXkgaW4gcXVlc3Rpb24uXHJcblx0XHRjb25zdCBjb3JyZXNwb25kaW5nQ2FtcGFpZ25EZWZpbml0aW9uID0gYWxsQ2FtcGFpZ25EZWZpbml0aW9uc1tzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpXTtcclxuXHJcblx0XHQvLyBTdXJ2ZXkgcHJvcGVydGllcyB0byBnZXQgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBDYW1wYWlnbkRlZmluaXRpb246XHJcblx0XHRsZXQgcGVyY2VudGFnZU51bWVyYXRvcjogbnVtYmVyO1xyXG5cdFx0bGV0IHBlcmNlbnRhZ2VEZW5vbWluYXRvcjogbnVtYmVyO1xyXG5cdFx0bGV0IG5vbWluYXRpb25QZXJpb2ROdW1iZXI6IG51bWJlcjtcclxuXHRcdGxldCBjb29sZG93blBlcmlvZE51bWJlcjogbnVtYmVyO1xyXG5cclxuXHRcdHBlcmNlbnRhZ2VOdW1lcmF0b3IgPSAoY29ycmVzcG9uZGluZ0NhbXBhaWduRGVmaW5pdGlvbi5ub21pbmF0aW9uU2NoZW1lIGFzIENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSkucGVyY2VudGFnZU51bWVyYXRvcjtcclxuXHRcdHBlcmNlbnRhZ2VEZW5vbWluYXRvciA9IChjb3JyZXNwb25kaW5nQ2FtcGFpZ25EZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUgYXMgQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lUmF0aW9QZXJjZW50YWdlKS5wZXJjZW50YWdlRGVub21pbmF0b3I7XHJcblxyXG5cdFx0bm9taW5hdGlvblBlcmlvZE51bWJlciA9IGNvcnJlc3BvbmRpbmdDYW1wYWlnbkRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5ub21pbmF0aW9uUGVyaW9kLmFzVGltZUludGVydmFsU2Vjb25kcygpO1xyXG5cdFx0bm9taW5hdGlvblBlcmlvZE51bWJlciA9IGlzTk9VKG5vbWluYXRpb25QZXJpb2ROdW1iZXIpID8gLTEgOiBub21pbmF0aW9uUGVyaW9kTnVtYmVyOyAvLyBTZXR0aW5nIHRvIC0xIGlmIG51bGwgb3IgdW5kZWZpbmVkXHJcblxyXG5cdFx0Y29vbGRvd25QZXJpb2ROdW1iZXIgPSBjb3JyZXNwb25kaW5nQ2FtcGFpZ25EZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuY29vbGRvd25QZXJpb2QuYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk7XHJcblx0XHRjb29sZG93blBlcmlvZE51bWJlciA9IGlzTk9VKGNvb2xkb3duUGVyaW9kTnVtYmVyKSA/IC0xIDogY29vbGRvd25QZXJpb2ROdW1iZXI7ICAvLyBTZXR0aW5nIHRvIC0xIGlmIG51bGwgb3IgdW5kZWZpbmVkXHJcblxyXG5cdFx0Y29uc3Qgc3VydmV5SW5mbyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRhbGxDYW1wYWlnbkRlZmluaXRpb25JRHMsXHJcblx0XHRcdGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcyxcclxuXHRcdFx0Y2hhbm5lbFR5cGU6IHN1cnZleUluZm8uZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpLFxyXG5cdFx0XHRjb250ZXh0Q291bnQ6IGNvbnRleHRJbmZvID8gY29udGV4dEluZm8ubGVuZ3RoIDogdW5kZWZpbmVkLFxyXG5cdFx0XHRjb29sZG93blBlcmlvZE51bWJlcixcclxuXHRcdFx0bm9taW5hdGlvblBlcmlvZE51bWJlcixcclxuXHRcdFx0cGVyY2VudGFnZURlbm9taW5hdG9yLFxyXG5cdFx0XHRwZXJjZW50YWdlTnVtZXJhdG9yLFxyXG5cdFx0XHRzdXJ2ZXlMYXVuY2hlclR5cGU6IHN1cnZleS5nZXRMYXVuY2hlclR5cGUoKSxcclxuXHJcblx0XHRcdGJ1c2luZXNzTGV2ZWw6IHN1cnZleUluZm8uZ2V0QnVzaW5lc3NMZXZlbCgpLFxyXG5cdFx0XHRtYXhMYXVuY2hlczogc3VydmV5SW5mby5nZXRNYXhMYXVuY2hlcygpLFxyXG5cdFx0XHRtYXhMYXVuY2hlc1BlclNlc3Npb246IHN1cnZleUluZm8uZ2V0TWF4TGF1bmNoZXNQZXJTZXNzaW9uKCksXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRBbGxDYW5kaWRhdGVDYW1wYWlnbkRlZmluaXRpb25JRHMoKTogc3RyaW5nW10ge1xyXG5cclxuXHRcdGNvbnN0IGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHQvLyBHZXQgYWxsIHRoZSBjYW5kaWRhdGUgc3VydmV5cycgY2FtcGFpZ24gZGVmaW5pdGlvbiBJRHNcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FuZGlkYXRlU3VydmV5cykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBjYW5kaWRhdGVTdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHRcdFx0XHRhbGxDYW5kaWRhdGVDYW1wYWlnbkRlZmluaXRpb25JRHMucHVzaChjYW5kaWRhdGVTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0QWxsQ2FtcGFpZ25EZWZpbml0aW9uSURzKCk6IHN0cmluZ1tdIHtcclxuXHJcblx0XHRjb25zdCBhbGxDYW1wYWlnbkRlZmluaXRpb25zID0gKHRoaXMuc3VydmV5Q2xpZW50IGFzIENhbXBhaWduTWFuYWdlcikuZ2V0Q2FtcGFpZ25EZWZpbml0aW9ucygpO1xyXG5cdFx0Y29uc3QgYWxsQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3QgZGVmaW5pdGlvbnNLZXkgaW4gYWxsQ2FtcGFpZ25EZWZpbml0aW9ucykge1xyXG5cdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFsbENhbXBhaWduRGVmaW5pdGlvbnMsIGRlZmluaXRpb25zS2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiA9IGFsbENhbXBhaWduRGVmaW5pdGlvbnNbZGVmaW5pdGlvbnNLZXldO1xyXG5cdFx0XHRcdGFsbENhbXBhaWduRGVmaW5pdGlvbklEcy5wdXNoKGRlZmluaXRpb24uY2FtcGFpZ25JZCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhbGxDYW1wYWlnbkRlZmluaXRpb25JRHM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUFjdGl2aXR5TGlzdGVuZXJXaXRoQ3VycmVudFN1cnZleURlZmluaXRpb25zKCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3VydmV5TGlzdDogSVN1cnZleVtdID0gdGhpcy5nZXRDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdGNvbnN0IHRyYWNraW5nQ29udHJhY3RMaXN0OiBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3Qgc3VydmV5IG9mIHN1cnZleUxpc3QpIHtcclxuXHRcdFx0Y29uc3Qgc3VydmV5SW5mbyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCk7XHJcblx0XHRcdGNvbnN0IHRyYWNraW5nQ29udHJhY3QgPSBuZXcgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0KHN1cnZleUluZm8uZ2V0SWQoKSwgc3VydmV5SW5mby5nZXRBY3RpdmF0aW9uRXZlbnQoKS5nZXRUcmFja2luZ1NldCgpKTtcclxuXHRcdFx0dHJhY2tpbmdDb250cmFjdExpc3QucHVzaCh0cmFja2luZ0NvbnRyYWN0KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuU2V0QWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0cyh0cmFja2luZ0NvbnRyYWN0TGlzdCwgdGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldENyaXRpY2FsUGVuZGluZ1N1cnZleXNBbmRVcGRhdGVBY3Rpdml0eUxpc3RlbmVyKCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlU3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHJcblx0XHQvLyBHZXQgYWxsIHRoZSBjYW5kaWRhdGUgc3VydmV5cycgY2FtcGFpZ24gZGVmaW5pdGlvbiBJRHNcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FuZGlkYXRlU3VydmV5cykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBjYW5kaWRhdGVTdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHRcdFx0XHRpZiAoaXNDcml0aWNhbFN1cnZleShjYW5kaWRhdGVTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpKSkge1xyXG5cdFx0XHRcdFx0YWN0aXZlU3VydmV5c1trZXldID0gY2FuZGlkYXRlU3VydmV5O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChPYmplY3Qua2V5cyhhY3RpdmVTdXJ2ZXlzKS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXMoYWN0aXZlU3VydmV5cyk7XHJcblx0XHRcdHRoaXMudXBkYXRlQWN0aXZpdHlMaXN0ZW5lcldpdGhDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2hvdWxkQWNjZXB0QWN0aXZpdHkoYWN0aXZpdHlOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkIHx8XHJcblx0XHRcdGFjdGl2aXR5TmFtZSA9PT0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5GbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SWQ6IHN0cmluZywgY29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKTogdm9pZCB7XHJcblx0XHQvLyBGaW5kIHRoZSBzdXJ2ZXkgb2JqZWN0IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHN1cnZleUlkIHBhc3NlZFxyXG5cdFx0Y29uc3Qgc3VydmV5czogSVN1cnZleVtdID0gdGhpcy5nZXRDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdGxldCBzdXJ2ZXk6IElTdXJ2ZXk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCB0ZW1wU3VydmV5IG9mIHN1cnZleXMpIHtcclxuXHRcdFx0aWYgKHRlbXBTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCkgPT09IHN1cnZleUlkKSB7XHJcblx0XHRcdFx0c3VydmV5ID0gdGVtcFN1cnZleTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVShzdXJ2ZXkpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLk9uU3VydmV5QWN0aXZhdGVkLlN1cnZleU5vdERlZmluZWQsXHJcblx0XHRcdFx0XCJTdXJ2ZXkgaXMgbm90IGRlZmluZWQgaW4gdGhlIGN1cnJlbnQgc3VydmV5IGRlZmluaXRpb25zLlwiLFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhlIGdvdmVybmFuY2Ugc2VydmljZSBpcyBpbiB1c2UsIGxhdW5jaCBzdXJ2ZXkgYXN5bmNocm9ub3VzbHlcclxuXHRcdFx0aWYgKHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQuaXNFbmFibGVkKGdvdmVybmVkQ2hhbm5lbFR5cGUpKSB7XHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBzdGFsZSBzdXJ2ZXlzLCBzbyB3ZSBjYW4gY2xlYXIgaXRzIHRyYWNrZXIgaWYgRW5naW5lIGlzIHN0b3BwZWRcclxuXHRcdFx0XHR0aGlzLnN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlLnB1c2goc3VydmV5KTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgbm8gc3VydmV5IGluIHN0YWxlIGJlZm9yZSwgbGF1bmNoIHRoZSBzdXJ2ZXkgcmlnaHQgYXdheVxyXG5cdFx0XHRcdGlmICh0aGlzLnN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHRcdFx0Ly8gTGF1bmNoIHRoZSBzdXJ2ZXkgYXN5bmNocm9ub3VzbHlcclxuXHRcdFx0XHRcdHRoaXMuY2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5KHN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm8pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmFjdGl2YXRlU3VydmV5KHN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm8pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5PblN1cnZleUFjdGl2YXRlZC5FcnJvcixcclxuXHRcdFx0XHR7IEVycm9yTWVzc2FnZTogYEVycm9yIGFjdGl2YXRpbmcgc3VydmV5ICR7ZSAmJiBlLnRvU3RyaW5nKCl9YCwgRXJyb3JEZXRhaWxzOiBlICYmIGUuc3RhY2sgfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFjdGl2YXRlU3VydmV5KHN1cnZleTogSVN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKSB7XHJcblx0XHRsZXQgbGF1bmNoU3VydmV5OiBib29sZWFuID0gZmFsc2U7XHJcblx0XHQvLyBGaWd1cmUgb3V0IGlmIHRoZSBhY3RpdmF0ZWQgc3VydmV5IGlzIHN0aWxsIHJlbGV2YW50XHJcblx0XHRpZiAoIXRoaXMuY2FuZGlkYXRlU3VydmV5c1tzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCldKSB7XHJcblx0XHRcdC8vIFN1cnZleSBpcyBubyBsb25nZXIgcmVsZXZhbnQgYnV0IHdhcyBhY3RpdmF0ZWQuIFN1cHByZXNzIGl0LlxyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5PblN1cnZleUFjdGl2YXRlZC5BY3RpdmF0aW9uSXJyZWxldmFudFN1cnZleSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRDYW1wYWlnbklkOiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpLFxyXG5cdFx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0gZWxzZSBpZiAoIXN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuaXNBY3RpdmVGb3JEYXRlKG5ldyBEYXRlKCkpKSB7XHJcblx0XHRcdC8vIFN1cnZleSBpcyBubyBsb25nZXIgYWN0aXZlIChlLmcuIGl0IHdhcyB3aGVuIHdlIHJlZ2lzdGVyZWQgaXQgYnV0IGl0IGhhcyBub3cgZXhwaXJlZClcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQWN0aXZhdGlvbkV4cGlyZWRTdXJ2ZXksXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Q2FtcGFpZ25JZDogc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKSxcclxuXHRcdFx0XHRcdFN1cnZleUlkOiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCksXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBSZWZyZXNoIGNoYW5uZWxzXHJcblx0XHRcdHRoaXMuZ292ZXJub3IucmVmcmVzaENoYW5uZWxEYXRhKCk7XHJcblxyXG5cdFx0XHRpZiAoaXNDcml0aWNhbFN1cnZleShzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpKSkge1xyXG5cdFx0XHRcdGxhdW5jaFN1cnZleSA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuZ292ZXJub3IuaXNDaGFubmVsT3Blbihnb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRcdC8vIENoYW5uZWwgaGFzIGNsb3NlZCBhbmQgbWF4TGF1bmNoZXMgaXMgbm90IHNldCwgc3VwcHJlc3MgdGhlIHN1cnZleVxyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQ2xvc2VkQ2hhbm5lbFR5cGUsXHJcblx0XHRcdFx0XHR7IENsb3NlZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlW2dvdmVybmVkQ2hhbm5lbFR5cGVdIH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIEdldCBsYXRlc3Qgc3VydmV5IHN0YXRlcyBmcm9tIHByb3ZpZGVyXHJcblx0XHRcdFx0Y29uc3QgcmVmcmVzaGVkU3VydmV5QWN0aXZhdGlvblN0YXRzID0gdGhpcy5zdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlci5sb2FkKCk7XHJcblx0XHRcdFx0aWYgKHJlZnJlc2hlZFN1cnZleUFjdGl2YXRpb25TdGF0cy5nZXRCeVN1cnZleUlkKHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSkpIHtcclxuXHRcdFx0XHRcdC8vIFN1cnZleSBzdGF0cyBleGlzdHMgYWxyZWFkeSwgZG9uJ3QgbGF1bmNoXHJcblx0XHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQWN0aXZhdGlvblN0YXRzU3VwcHJlc3NlZFN1cnZleSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdENhbXBhaWduSWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0QmFja0VuZElkKCksXHJcblx0XHRcdFx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSxcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmxhdW5jaGVkU3VydmV5cykubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHQvLyBmb3Igbm93IHdlIG9ubHkgc3VwcG9ydCBsYXVuY2hpbmcgb25lIHN1cnZleSBwZXIgc2Vzc2lvbiB1bmxlc3MgaXQgaXMgbXVsdGktbGF1bmNoIGNhbXBhaWduXHJcblx0XHRcdFx0XHQvLyBUcmFjayB0aGlzIHN1cnZleSBhY3RpdmF0aW9uIGZvciB0aGUgbGF1bmNoIGhpc3RvcnkgdHJhY2tlclxyXG5cdFx0XHRcdFx0bGF1bmNoU3VydmV5ID0gdHJ1ZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y29uc3QgdHJpZ2dlcmVkU3VydmV5ID0gT2JqZWN0LnZhbHVlcyh0aGlzLmxhdW5jaGVkU3VydmV5cylbMF07XHJcblx0XHRcdFx0XHRpZiAoIWlzTk9VKHRyaWdnZXJlZFN1cnZleSkpIHtcclxuXHRcdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuU2Vzc2lvblN1cHByZXNzZWRTdXJ2ZXksXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Q2FtcGFpZ25JZDogdHJpZ2dlcmVkU3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFN1cnZleUlkOiB0cmlnZ2VyZWRTdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCksXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAobGF1bmNoU3VydmV5KSB7XHJcblx0XHRcdFx0dGhpcy5sYXVuY2hlZFN1cnZleXNbc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpXSA9IHN1cnZleTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEF0IHRoaXMgcG9pbnQsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBvciBub3QgdGhlIHN1cnZleSBpcyBzdGlsbCByZWxldmFudCwgd2Ugc2hvdWxkIGZsdXNoIG91dCB0aGUgc3RhdHNcclxuXHRcdHRoaXMudXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHN1cnZleSk7XHJcblx0XHR0aGlzLm1lcmdlQW5kU2F2ZSgpO1xyXG5cdFx0Ly8gc2h1dCBvZmYgZnVydGhlciBzdXJ2ZXkgbGF1bmNoZXNcclxuXHRcdHRoaXMuYWN0aXZpdHlMaXN0ZW5lci5jbGVhclN1cnZleXMoKTtcclxuXHJcblx0XHQvLyBDbGVhciB0aGUgc3VydmV5IGZyb20gc3RhbGUgbGlzdFxyXG5cdFx0dGhpcy5zdGFsZVRyaWdnZXJlZFN1cnZleXNRdWV1ZSA9IFtdO1xyXG5cclxuXHRcdC8vIEFjdHVhbGx5IGxhdW5jaCB0aGUgc3VydmV5IGlmIHBvc3NpYmxlXHJcblx0XHRpZiAobGF1bmNoU3VydmV5KSB7XHJcblx0XHRcdC8vIEdldCB0aGUgc3RyaW5naWZpZWQganNvbiB3aXRoIGFjdGl2aXR5IG5hbWVzLCBjb3VudHMgYW5kIGlzQWdncmVnYXRlIGluZm8gZm9yIFRyaWdnZXRNZXQgdGVsZW1ldHJ5LlxyXG5cdFx0XHRjb25zdCBhY3Rpdml0eVRyYWNraW5nU3RyaW5nID0gc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRBY3RpdmF0aW9uRXZlbnQoKS5nZXRUcmFja2luZ1NldCgpXHJcblx0XHRcdC5nZXRBY3Rpdml0eVRyYWNraW5nSW5mbyh0aGlzLmFjdGl2aXR5TGlzdGVuZXIsIHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSk7XHJcblxyXG5cdFx0XHRjb25zdCBhZGRpdGlvbmFsU3VydmV5SW5mbyA9IHRoaXMuZ2V0QWRkaXRpb25hbFN1cnZleUluZm9Gb3JUZWxlbWV0cnkoc3VydmV5LCBjb250ZXh0SW5mbywgdGhpcy5nZXRBbGxDYW1wYWlnbkRlZmluaXRpb25JRHMoKSxcclxuXHRcdFx0XHR0aGlzLmdldEFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEcygpKTtcclxuXHJcblx0XHRcdC8vIE9ubHkgYWRkaW5nIHRoZSBnb3Zlcm5hbmNlIHNlcnZpY2UgY2xpZW50IHN0YXRlIGF0IFRyaWdnZXJNZXQgZXZlbnRcclxuXHRcdFx0YWRkaXRpb25hbFN1cnZleUluZm8uZ292ZXJuYW5jZVNlcnZpY2VDbGllbnRTdGF0ZSA9IHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VDbGllbnQuZ2V0Q2xpZW50U3RhdGUoKTtcclxuXHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXIubG9nX1RyaWdnZXJNZXQoc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKSwgc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpLFxyXG5cdFx0XHRcdHN1cnZleS5nZXRUeXBlKCksIGFjdGl2aXR5VHJhY2tpbmdTdHJpbmcsIEpTT04uc3RyaW5naWZ5KGFkZGl0aW9uYWxTdXJ2ZXlJbmZvKSk7XHJcblxyXG5cdFx0XHQvLyBTZXQgZ292ZXJuIGNoYW5uZWxcclxuXHRcdFx0dGhpcy5nb3Zlcm5vci5zdGFydENoYW5uZWxDb29sZG93bihnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHJcblx0XHRcdGNvbnN0IHN1cnZleUluZm8gPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0XHRsZXQgaXNTdXJ2ZXlDb21wbGV0ZSA9IHRydWU7XHJcblx0XHRcdGlmIChpc0J1c2luZXNzQ3JpdGljYWxTdXJ2ZXkoc3VydmV5SW5mbykpIHtcclxuXHRcdFx0XHQvLyBjcml0aWNhbCBjYW1wYWlnbnMgYXJlIG5vdCB0cmFja2VkXHJcblx0XHRcdFx0aXNTdXJ2ZXlDb21wbGV0ZSA9IGZhbHNlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGlzTXVsdGlMYXVuY2hTdXJ2ZXkoc3VydmV5SW5mbykpIHtcclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSB0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzLmdldEJ5U3VydmV5SWQoc3VydmV5SW5mby5nZXRJZCgpKTtcclxuXHRcdFx0XHRpc1N1cnZleUNvbXBsZXRlID0gaGFzU3VydmV5UmVhY2hlZE1heExhdW5jaGVzKHN1cnZleUluZm8sIHN1cnZleUFjdGl2YXRpb25TdGF0cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNldCBjYW1wYWlnbiBzdGF0ZXNcclxuXHRcdFx0dGhpcy5zdXJ2ZXlDbGllbnQub25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SW5mbywgaXNTdXJ2ZXlDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHQvLyBTaG93IHRoZSBzdXJ2ZXlcclxuXHRcdFx0dGhpcy5sYXVuY2hMYXVuY2hlcihzdXJ2ZXksIGNvbnRleHRJbmZvKTtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgY3JpdGljYWwgY2FtcGFpZ25zIGFuZCBzdGFydCB0cmFja2luZyBhZ2FpblxyXG5cdFx0XHR0aGlzLnNldENyaXRpY2FsUGVuZGluZ1N1cnZleXNBbmRVcGRhdGVBY3Rpdml0eUxpc3RlbmVyKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGNoZWNrR292ZXJuYW5jZVNlcnZpY2VBbmRBY3RpdmF0ZVN1cnZleShzdXJ2ZXk6IElTdXJ2ZXksXHJcblx0XHRnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlLFxyXG5cdFx0Y29udGV4dEluZm86IElDb250ZXh0RGF0YVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBHZXQgdGhlIGNvb2xkb3duIHNldHRpbmdcclxuXHRcdGNvbnN0IGNhbXBhaWduRGVmaW5pdGlvbiA9IHRoaXMuc3VydmV5Q2xpZW50LmdldENhbXBhaWduRGVmaW5pdGlvbnMoKVtzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpXTtcclxuXHRcdGNvbnN0IGNhbXBhaWduQ29vbGRvd24gPSBjYW1wYWlnbkRlZmluaXRpb24ubm9taW5hdGlvblNjaGVtZS5jb29sZG93blBlcmlvZC5hc1RpbWVJbnRlcnZhbFNlY29uZHMoKTtcclxuXHRcdGNvbnN0IGNoYW5uZWxDb29sZG93biA9IEdvdmVybm9yLkdldENoYW5uZWxDb29sRG93bihnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHJcblx0XHQvLyBDYWxsIHRoZSBHb3Zlcm5hbmNlIFNlcnZpY2VcclxuXHRcdGNvbnN0IHNlcnZpY2VSZXN1bHQ6IElHb3Zlcm5hbmNlU2VydmljZVJlc3VsdCA9IGF3YWl0IHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VDbGllbnRcclxuXHRcdFx0LmNoZWNrR292ZXJuYW5jZVBlcm1pdEFzeW5jKHN1cnZleSwgY2FtcGFpZ25Db29sZG93biwgY2hhbm5lbENvb2xkb3duLCBnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHRcdGxldCBsYXVuY2hTdXJ2ZXk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0XHQvLyBMb2cgdGhlIHN0YWxlXHJcblx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuQ2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5LkdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50Q29tcGxldGVkLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0TWVzc2FnZTogSlNPTi5zdHJpbmdpZnkodGhpcy5jcmVhdGVHb3J2ZXJuYW5jZVJlc3BvbnNlVGVsZW1ldHJ5KHNlcnZpY2VSZXN1bHQpKSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgaWYgZW5naW5lIGlzIHN0aWxsIHJ1bm5pbmdcclxuXHRcdGlmICh0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzICE9PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXNlcnZpY2VSZXN1bHQuZXJyb3IpIHtcclxuXHRcdFx0Ly8gQ2hlY2sgcmVzdWx0IGlzIHBlcm1pdHRlZFxyXG5cdFx0XHRpZiAoc2VydmljZVJlc3VsdC5wZXJtaXNzaW9uKSB7IC8vIHRoZSBHb3Zlcm5hbmNlIFNlcnZpY2UgaXMgcGVybWl0dGluZywgY29udGludWUgdG8gdHJpZ2dlclxyXG5cdFx0XHRcdGxhdW5jaFN1cnZleSA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29uc3QgbGFzdFN1cnZleVRyaWdnZXJJbmZvOiBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlID0gc2VydmljZVJlc3VsdC5sYXN0VHJpZ2dlclN1cnZleTtcclxuXHRcdFx0XHQvLyBGb3Igbm93LCB3ZSBvbmx5IGtub3cgdGhlIGNoYW5uZWwgaXMgaW4gY29vbGRvd24gYnV0IG5vdCB0aGUgc3BlY2lmaWMgc3VydmV5XHJcblx0XHRcdFx0Ly8gU28gb25seSBzZXQgZ292ZXJuZWQgY2hhbm5lbCB0byBuZXcgY29vbGRvd25cclxuXHRcdFx0XHR0aGlzLmdvdmVybm9yLnN0YXJ0Q2hhbm5lbENvb2xkb3duKGdvdmVybmVkQ2hhbm5lbFR5cGUsIGxhc3RTdXJ2ZXlUcmlnZ2VySW5mby5sYXN0VHJpZ2dlclN1cnZleVRpbWUpO1xyXG5cclxuXHRcdFx0XHQvLyBDbGVhciB0aGUgc3VydmV5IHJlbGF0aW5nIHRvIGNoYW5uZWxcclxuXHRcdFx0XHR0aGlzLmNsZWFyU3VydmV5V2l0aENoYW5uZWwoZ292ZXJuZWRDaGFubmVsVHlwZSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIElmIGZvcmNlIHRvIGRpc3BsYXkgd2l0aCBlcnJvciwgY29udGludWUgdG8gdHJpZ2dlciB0aGUgc3VydmV5XHJcblx0XHRcdGlmICh0aGlzLmdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50LnNob3VsZEZvcmNlRGlzcGxheSgpKSB7XHJcblx0XHRcdFx0bGF1bmNoU3VydmV5ID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0Ly8gTG9nIHRoZSBmb3JjZSB0byBkaXNwbGF5IGV2ZW50XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5DaGVja0dvdmVybmFuY2VTZXJ2aWNlQW5kQWN0aXZhdGVTdXJ2ZXkuR292ZXJuYW5jZVNlcnZpY2VGb3JjZVRvRGlzcGxheSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBzZXJ2aWNlUmVzdWx0LmVycm9yTWVzc2FnZSxcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxhdW5jaFN1cnZleSkge1xyXG5cdFx0XHQvLyBMYXVuY2ggdGhlIHN1cnZleVxyXG5cdFx0XHR0aGlzLmFjdGl2YXRlU3VydmV5KHN1cnZleSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgY29udGV4dEluZm8pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgdGhlcmUgaXMgb25seSBvbmUgc3VydmV5LCB3aGljaCBpcyB0aGUgY3VycmVudCBvbmUgaW4gcHJvY2VzcywgY2xlYXIgcXVldWUgYW5kIHJldHVyblxyXG5cdFx0aWYgKHRoaXMuc3RhbGVUcmlnZ2VyZWRTdXJ2ZXlzUXVldWUubGVuZ3RoIDw9IDEpIHtcclxuXHRcdFx0dGhpcy5zdGFsZVRyaWdnZXJlZFN1cnZleXNRdWV1ZSA9IFtdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIHRoZSBmaXJzdCBhY3RpdmF0ZWQgc3VydmV5IGZyb20gdGhlIGxpc3Qgd2hpY2ggaXMgdGhlIGN1cnJlbnQgb25lIGluIHByb2Nlc3NcclxuXHRcdHRoaXMuc3RhbGVUcmlnZ2VyZWRTdXJ2ZXlzUXVldWUuc2hpZnQoKTtcclxuXHJcblx0XHQvLyBQbGF5YmFjayB0aGUgbmV4dCBhY3RpdmF0ZWQgc3VydmV5IGluIHdhaXRpbmdcclxuXHRcdHRoaXMuY2hlY2tHb3Zlcm5hbmNlU2VydmljZUFuZEFjdGl2YXRlU3VydmV5KHRoaXMuc3RhbGVUcmlnZ2VyZWRTdXJ2ZXlzUXVldWVbMF0sIGdvdmVybmVkQ2hhbm5lbFR5cGUsIGNvbnRleHRJbmZvKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVhZFN0cmluZyhmaWxlVHlwZTogRmlsZVR5cGUpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RvcmFnZS5yZWFkKGZpbGVUeXBlKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgd3JpdGVTdHJpbmcoZmlsZVR5cGU6IEZpbGVUeXBlLCBzdHI6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKGZpbGVUeXBlLCBzdHIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsYXVuY2hMYXVuY2hlcihzdXJ2ZXk6IElTdXJ2ZXksIGNvbnRleHRJbmZvOiBJQ29udGV4dERhdGFbXSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgbGF1bmNoZXI6IElTdXJ2ZXlMYXVuY2hlciA9IHRoaXMubGF1bmNoZXJGYWN0b3J5Lm1ha2VTdXJ2ZXlMYXVuY2hlcihzdXJ2ZXkpO1xyXG5cdFx0aWYgKGxhdW5jaGVyKSB7XHJcblx0XHRcdHRoaXMubGF1bmNoZWRMYXVuY2hlcnMucHVzaChsYXVuY2hlcik7XHJcblx0XHRcdHRoaXMub25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjay5vblN1cnZleUFjdGl2YXRlZChsYXVuY2hlciwgc3VydmV5LCB7IGNvbnRleHRJbmZvIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjbGVhclN1cnZleVdpdGhDaGFubmVsKGdvdmVybmVkQ2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUpIHtcclxuXHRcdGNvbnN0IGFjdGl2ZVN1cnZleXM6IElEaWN0aW9uYXJ5PElTdXJ2ZXk+ID0ge307XHJcblxyXG5cdFx0Ly8gR2V0IGFsbCB0aGUgY2FuZGlkYXRlIHN1cnZleXMnIGNhbXBhaWduIGRlZmluaXRpb24gSURzXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbmRpZGF0ZVN1cnZleXMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2FuZGlkYXRlU3VydmV5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2FuZGlkYXRlU3VydmV5OiBJU3VydmV5ID0gdGhpcy5jYW5kaWRhdGVTdXJ2ZXlzW2tleV07XHJcblx0XHRcdFx0aWYgKGNhbmRpZGF0ZVN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpICE9PSBnb3Zlcm5lZENoYW5uZWxUeXBlKSB7XHJcblx0XHRcdFx0XHRhY3RpdmVTdXJ2ZXlzW2tleV0gPSBjYW5kaWRhdGVTdXJ2ZXk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jYW5kaWRhdGVTdXJ2ZXlzID0gYWN0aXZlU3VydmV5cztcclxuXHRcdHRoaXMuYWN0aXZpdHlMaXN0ZW5lci5VcGRhdGVBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzKHRoaXMuY2FuZGlkYXRlU3VydmV5cyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUdvcnZlcm5hbmNlUmVzcG9uc2VUZWxlbWV0cnkoc2VydmljZVJlc3VsdDogSUdvdmVybmFuY2VTZXJ2aWNlUmVzdWx0ICkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lU3RhdHVzOiB0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzLnRvU3RyaW5nKCksXHJcblx0XHRcdEdvdmVybmFuY2VTZXJ2aWNlUmVzdWx0OiBzZXJ2aWNlUmVzdWx0LFxyXG5cdFx0XHRTdGFsZVRyaWdnZXJlZFN1cnZleXNRdWV1ZUNvdW50OiB0aGlzLnN0YWxlVHJpZ2dlcmVkU3VydmV5c1F1ZXVlLmxlbmd0aCAtIDEsXHJcblx0XHR9O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/FloodgateEngine.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/FloodgateSettings.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/FloodgateSettings.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FloodgateSettings = void 0;\n/**\n * General floodgate settings\n */\nvar FloodgateSettings = /** @class */ (function () {\n    function FloodgateSettings() {\n    }\n    /**\n     * Convert to Json\n     */\n    FloodgateSettings.toJson = function (object) {\n        return JSON.stringify(object);\n    };\n    /**\n     * Load from Json\n     */\n    FloodgateSettings.fromJson = function (json) {\n        return JSON.parse(json);\n    };\n    return FloodgateSettings;\n}());\nexports.FloodgateSettings = FloodgateSettings;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0Zsb29kZ2F0ZVNldHRpbmdzLnRzPzRmMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSDtJQUFBO0lBY0EsQ0FBQztJQWJBOztPQUVHO0lBQ1csd0JBQU0sR0FBcEIsVUFBcUIsTUFBeUI7UUFDN0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNXLDBCQUFRLEdBQXRCLFVBQXVCLElBQVk7UUFDbEMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFDRix3QkFBQztBQUFELENBQUM7QUFkWSw4Q0FBaUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9GbG9vZGdhdGVTZXR0aW5ncy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHZW5lcmFsIGZsb29kZ2F0ZSBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEZsb29kZ2F0ZVNldHRpbmdzIHtcclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IEZsb29kZ2F0ZVNldHRpbmdzKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmcm9tIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIGZyb21Kc29uKGpzb246IHN0cmluZyk6IEZsb29kZ2F0ZVNldHRpbmdzIHtcclxuXHRcdHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/FloodgateSettings.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/GovernanceUtils.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/GovernanceUtils.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasSurveyReachedMaxLaunches = exports.hasSurveyReachedMaxLaunchesPerSession = exports.isCriticalSurvey = exports.isBusinessCriticalSurvey = exports.isMultiLaunchSurvey = void 0;\nvar Api_1 = __webpack_require__(/*! ./Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nfunction isMultiLaunchSurvey(surveyInfo) {\n    var maxLaunches = surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.getMaxLaunches();\n    return Utils_1.isNumber(maxLaunches) && maxLaunches > 1;\n}\nexports.isMultiLaunchSurvey = isMultiLaunchSurvey;\nfunction isBusinessCriticalSurvey(surveyInfo) {\n    var businessLevel = surveyInfo === null || surveyInfo === void 0 ? void 0 : surveyInfo.getBusinessLevel();\n    return !Utils_1.isNOU(businessLevel) && businessLevel === Api_1.ISurveyInfo.BusinessLevel.Critical;\n}\nexports.isBusinessCriticalSurvey = isBusinessCriticalSurvey;\nfunction isCriticalSurvey(surveyInfo) {\n    return isMultiLaunchSurvey(surveyInfo) || isBusinessCriticalSurvey(surveyInfo);\n}\nexports.isCriticalSurvey = isCriticalSurvey;\nfunction hasSurveyReachedMaxLaunchesPerSession(surveyInfo, surveyActivationStats) {\n    var _a;\n    if (isMultiLaunchSurvey(surveyInfo) && Utils_1.isNumber(surveyInfo.getMaxLaunchesPerSession())) {\n        var surveyLaunchCountInSession = (_a = surveyActivationStats[surveyInfo.getId()]) !== null && _a !== void 0 ? _a : 0;\n        var maxLaunchesPerSession = surveyInfo.getMaxLaunchesPerSession();\n        return surveyLaunchCountInSession >= maxLaunchesPerSession;\n    }\n    return true;\n}\nexports.hasSurveyReachedMaxLaunchesPerSession = hasSurveyReachedMaxLaunchesPerSession;\nfunction hasSurveyReachedMaxLaunches(surveyInfo, surveyActivationStats) {\n    if (isMultiLaunchSurvey(surveyInfo)) {\n        var surveyLaunchCount = (surveyActivationStats === null || surveyActivationStats === void 0 ? void 0 : surveyActivationStats.SurveyLaunchCount) || 0;\n        return surveyLaunchCount >= surveyInfo.getMaxLaunches();\n    }\n    return true;\n}\nexports.hasSurveyReachedMaxLaunches = hasSurveyReachedMaxLaunches;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmFuY2VVdGlscy50cz9kYjNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHlGQUF3QztBQUd4Qyx1RkFBMEM7QUFFMUMsU0FBZ0IsbUJBQW1CLENBQUMsVUFBdUI7SUFDMUQsSUFBTSxXQUFXLEdBQUcsVUFBVSxhQUFWLFVBQVUsdUJBQVYsVUFBVSxDQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ2pELE9BQU8sZ0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELENBQUM7QUFIRCxrREFHQztBQUVELFNBQWdCLHdCQUF3QixDQUFDLFVBQXVCO0lBQy9ELElBQU0sYUFBYSxHQUFHLFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3JELE9BQU8sQ0FBQyxhQUFLLENBQUMsYUFBYSxDQUFDLElBQUksYUFBYSxLQUFLLGlCQUFXLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztBQUN0RixDQUFDO0FBSEQsNERBR0M7QUFFRCxTQUFnQixnQkFBZ0IsQ0FBQyxVQUF1QjtJQUN2RCxPQUFPLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxJQUFJLHdCQUF3QixDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2hGLENBQUM7QUFGRCw0Q0FFQztBQUVELFNBQWdCLHFDQUFxQyxDQUFDLFVBQXVCLEVBQUUscUJBQTBDOztJQUN4SCxJQUFJLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxJQUFJLGdCQUFRLENBQUMsVUFBVSxDQUFDLHdCQUF3QixFQUFFLENBQUMsRUFBRTtRQUN2RixJQUFNLDBCQUEwQixTQUFHLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxtQ0FBSSxDQUFDLENBQUM7UUFDbEYsSUFBTSxxQkFBcUIsR0FBRyxVQUFVLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNwRSxPQUFPLDBCQUEwQixJQUFJLHFCQUFxQixDQUFDO0tBQzNEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDO0FBUkQsc0ZBUUM7QUFFRCxTQUFnQiwyQkFBMkIsQ0FBQyxVQUF1QixFQUFFLHFCQUE0QztJQUNoSCxJQUFJLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQ3BDLElBQU0saUJBQWlCLEdBQUcsc0JBQXFCLGFBQXJCLHFCQUFxQix1QkFBckIscUJBQXFCLENBQUUsaUJBQWlCLEtBQUksQ0FBQyxDQUFDO1FBQ3hFLE9BQU8saUJBQWlCLElBQUksVUFBVSxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ3hEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDO0FBUEQsa0VBT0MiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Hb3Zlcm5hbmNlVXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJU3VydmV5SW5mbyB9IGZyb20gXCIuL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnkgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgU3VydmV5QWN0aXZhdGlvblN0YXRzIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uXCI7XHJcbmltcG9ydCB7IGlzTk9VLCBpc051bWJlciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aUxhdW5jaFN1cnZleShzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbyk6IGJvb2xlYW4ge1xyXG5cdGNvbnN0IG1heExhdW5jaGVzID0gc3VydmV5SW5mbz8uZ2V0TWF4TGF1bmNoZXMoKTtcclxuXHRyZXR1cm4gaXNOdW1iZXIobWF4TGF1bmNoZXMpICYmIG1heExhdW5jaGVzID4gMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnVzaW5lc3NDcml0aWNhbFN1cnZleShzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbyk6IGJvb2xlYW4ge1xyXG5cdGNvbnN0IGJ1c2luZXNzTGV2ZWwgPSBzdXJ2ZXlJbmZvPy5nZXRCdXNpbmVzc0xldmVsKCk7XHJcblx0cmV0dXJuICFpc05PVShidXNpbmVzc0xldmVsKSAmJiBidXNpbmVzc0xldmVsID09PSBJU3VydmV5SW5mby5CdXNpbmVzc0xldmVsLkNyaXRpY2FsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNDcml0aWNhbFN1cnZleShzdXJ2ZXlJbmZvOiBJU3VydmV5SW5mbyk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiBpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pIHx8IGlzQnVzaW5lc3NDcml0aWNhbFN1cnZleShzdXJ2ZXlJbmZvKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc1N1cnZleVJlYWNoZWRNYXhMYXVuY2hlc1BlclNlc3Npb24oc3VydmV5SW5mbzogSVN1cnZleUluZm8sIHN1cnZleUFjdGl2YXRpb25TdGF0czogSURpY3Rpb25hcnk8bnVtYmVyPik6IGJvb2xlYW4ge1xyXG5cdGlmIChpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pICYmIGlzTnVtYmVyKHN1cnZleUluZm8uZ2V0TWF4TGF1bmNoZXNQZXJTZXNzaW9uKCkpKSB7XHJcblx0XHRjb25zdCBzdXJ2ZXlMYXVuY2hDb3VudEluU2Vzc2lvbiA9IHN1cnZleUFjdGl2YXRpb25TdGF0c1tzdXJ2ZXlJbmZvLmdldElkKCldID8/IDA7XHJcblx0XHRjb25zdCBtYXhMYXVuY2hlc1BlclNlc3Npb24gPSBzdXJ2ZXlJbmZvLmdldE1heExhdW5jaGVzUGVyU2Vzc2lvbigpO1xyXG5cdFx0cmV0dXJuIHN1cnZleUxhdW5jaENvdW50SW5TZXNzaW9uID49IG1heExhdW5jaGVzUGVyU2Vzc2lvbjtcclxuXHR9XHJcblxyXG5cdHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzU3VydmV5UmVhY2hlZE1heExhdW5jaGVzKHN1cnZleUluZm86IElTdXJ2ZXlJbmZvLCBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHM6IFN1cnZleUFjdGl2YXRpb25TdGF0cyk6IGJvb2xlYW4ge1xyXG5cdGlmIChpc011bHRpTGF1bmNoU3VydmV5KHN1cnZleUluZm8pKSB7XHJcblx0XHRjb25zdCBzdXJ2ZXlMYXVuY2hDb3VudCA9IHN1cnZleUFjdGl2YXRpb25TdGF0cz8uU3VydmV5TGF1bmNoQ291bnQgfHwgMDtcclxuXHRcdHJldHVybiBzdXJ2ZXlMYXVuY2hDb3VudCA+PSBzdXJ2ZXlJbmZvLmdldE1heExhdW5jaGVzKCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernanceUtils.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/GovernedChannel.js":
/*!****************************************************!*\
  !*** ../FloodgateCore/dist/src/GovernedChannel.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GovernedChannel = exports.GovernedChannelType = void 0;\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar GovernedChannelType;\n(function (GovernedChannelType) {\n    GovernedChannelType[GovernedChannelType[\"Standard\"] = 0] = \"Standard\";\n    GovernedChannelType[GovernedChannelType[\"Urgent\"] = 1] = \"Urgent\";\n    GovernedChannelType[GovernedChannelType[\"Banner\"] = 2] = \"Banner\";\n    GovernedChannelType[GovernedChannelType[\"TeachingMessage\"] = 3] = \"TeachingMessage\";\n})(GovernedChannelType = exports.GovernedChannelType || (exports.GovernedChannelType = {}));\n(function (GovernedChannelType) {\n    function getDefault() { return GovernedChannelType.Standard; }\n    GovernedChannelType.getDefault = getDefault;\n})(GovernedChannelType = exports.GovernedChannelType || (exports.GovernedChannelType = {}));\nvar GovernedChannel = /** @class */ (function () {\n    function GovernedChannel(type, name, cooldownSeconds, cooldownStartTime) {\n        if (!Utils.isEnumValue(type, GovernedChannelType)) {\n            throw new Error(\"type is not a valid GovernedChannelType\");\n        }\n        if (!name) {\n            throw new Error(\"name must not be null or empty\");\n        }\n        if (cooldownSeconds < 0) {\n            throw new Error(\"cooldownSeconds must not be negative\");\n        }\n        this.type = type;\n        this.name = name;\n        this.cooldownSeconds = cooldownSeconds;\n        this.setCooldownStartTime(cooldownStartTime);\n    }\n    GovernedChannel.prototype.setCooldownStartTime = function (cooldownStartTime) {\n        // Set the start time\n        this.cooldownStartTime = cooldownStartTime;\n        if (Utils.isNOU(this.cooldownStartTime)) {\n            // Null cooldownStartTime means cool down has never been initiated, so set the cooldownEndTime to distant past\n            this.cooldownEndTime = Utils.getDistantPast();\n            return;\n        }\n        // Calculate the end time, but don't overflow past max.\n        this.cooldownEndTime = Utils.addSecondsWithoutOverflow(this.cooldownStartTime, this.cooldownSeconds);\n    };\n    // @Override\n    GovernedChannel.prototype.isOpen = function () {\n        return this.isOpenAtDate(new Date());\n    };\n    // @Override\n    GovernedChannel.prototype.isOpenAtDate = function (date) {\n        if (!date) {\n            return false;\n        }\n        return (date > this.cooldownEndTime);\n    };\n    // @Override\n    GovernedChannel.prototype.getType = function () {\n        return this.type;\n    };\n    // @Override\n    GovernedChannel.prototype.getName = function () {\n        return this.name;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownSeconds = function () {\n        return this.cooldownSeconds;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownStartTime = function () {\n        return this.cooldownStartTime;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownEndTime = function () {\n        return this.cooldownEndTime;\n    };\n    return GovernedChannel;\n}());\nexports.GovernedChannel = GovernedChannel;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmVkQ2hhbm5lbC50cz8zMDU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFGQUFpQztBQUVqQyxJQUFZLG1CQUtYO0FBTEQsV0FBWSxtQkFBbUI7SUFDOUIscUVBQVE7SUFDUixpRUFBTTtJQUNOLGlFQUFNO0lBQ04sbUZBQWU7QUFDaEIsQ0FBQyxFQUxXLG1CQUFtQixHQUFuQiwyQkFBbUIsS0FBbkIsMkJBQW1CLFFBSzlCO0FBRUQsV0FBaUIsbUJBQW1CO0lBQ25DLFNBQWdCLFVBQVUsS0FBMEIsT0FBTyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQTFFLDhCQUFVLGFBQWdFO0FBQzNGLENBQUMsRUFGZ0IsbUJBQW1CLEdBQW5CLDJCQUFtQixLQUFuQiwyQkFBbUIsUUFFbkM7QUF5Q0Q7SUFPQyx5QkFBbUIsSUFBeUIsRUFBRSxJQUFZLEVBQUUsZUFBdUIsRUFBRSxpQkFBdUI7UUFDM0csSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLG1CQUFtQixDQUFDLEVBQUU7WUFDbEQsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBRUQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUVELElBQUksZUFBZSxHQUFHLENBQUMsRUFBRTtZQUN4QixNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7U0FDeEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztRQUN2QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU0sOENBQW9CLEdBQTNCLFVBQTRCLGlCQUF1QjtRQUNsRCxxQkFBcUI7UUFDckIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBRTNDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUN4Qyw4R0FBOEc7WUFDOUcsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDOUMsT0FBTztTQUNQO1FBRUQsdURBQXVEO1FBQ3ZELElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDdEcsQ0FBQztJQUVELFlBQVk7SUFDTCxnQ0FBTSxHQUFiO1FBQ0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLHNDQUFZLEdBQW5CLFVBQW9CLElBQVU7UUFDN0IsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLGlDQUFPLEdBQWQ7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCxpQ0FBTyxHQUFkO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZO0lBQ0wsNENBQWtCLEdBQXpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzdCLENBQUM7SUFFRCxZQUFZO0lBQ0wsOENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVk7SUFDTCw0Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDN0IsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQTlFWSwwQ0FBZSIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgZW51bSBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRTdGFuZGFyZCwgLy8gMFxyXG5cdFVyZ2VudCwgLy8gMVxyXG5cdEJhbm5lciwgLy8gMlxyXG5cdFRlYWNoaW5nTWVzc2FnZSwgLy8gM1xyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIEdvdmVybmVkQ2hhbm5lbFR5cGUge1xyXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0KCk6IEdvdmVybmVkQ2hhbm5lbFR5cGUgeyByZXR1cm4gR292ZXJuZWRDaGFubmVsVHlwZS5TdGFuZGFyZDsgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5lZENoYW5uZWxEYXRhIHtcclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSB0eXBlIG9mIEdvdmVybmVkQ2hhbm5lbCB0aGlzIG9iamVjdCByZXByZXNlbnRzXHJcblx0ICovXHJcblx0Z2V0VHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSBuYW1lIG9mIHRoaXMgR292ZXJuZWRDaGFubmVsXHJcblx0ICovXHJcblx0Z2V0TmFtZSgpOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGFtb3VudCBvZiB0aW1lIGR1cmluZyB3aGljaCB0aGlzIGNoYW5uZWwgd2lsbCByZWZ1c2UgbmV3IHN1cnZleXMgYWZ0ZXIgYSBzdWNjZXNzZnVsIHByb21wdFxyXG5cdCAqL1xyXG5cdGdldENvb2xkb3duU2Vjb25kcygpOiBudW1iZXI7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGxhc3QgdGltZSB0aGlzIGNoYW5uZWwgc3RhcnRlZCBhIGNvb2wgZG93biAoYWthIHRoZSBsYXN0IHRpbWUgYSBzdXJ2ZXkgd2FzIHN1Y2Nlc3NmdWxseSBzaG93bikuXHJcblx0ICogTnVsbCBpZiBjb29sIGRvd24gaGFzIG5ldmVyIGJlZW4gaW5pdGlhdGVkXHJcblx0ICovXHJcblx0Z2V0Q29vbGRvd25TdGFydFRpbWUoKTogRGF0ZTtcclxuXHJcblx0LyoqXHJcblx0ICogSWYgaW4gY29vbCBkb3duLCByZXR1cm5zIHRoZSB0aW1lIGluIHdoaWNoIHRoaXMgY2hhbm5lbCB3aWxsIG5leHQgYmUgXCJPcGVuXCIuXHJcblx0ICogRWxzZSByZXR1cm5zIHRoZSBsYXN0IHRpbWUgdGhpcyBjaGFubmVsIGJlY2FtZSBcIk9wZW5cIi5cclxuXHQgKi9cclxuXHRnZXRDb29sZG93bkVuZFRpbWUoKTogRGF0ZTtcclxuXHJcblx0LyoqXHJcblx0ICogV2hldGhlciBvciBub3QgdGhpcyBjaGFubmVsIGlzIG9wZW4gdG8gbmV3IHN1cnZleXMgYXQgdGhpcyBjdXJyZW50IHBvaW50IGluIHRpbWUgKGFrYSBOb3cpXHJcblx0ICovXHJcblx0aXNPcGVuKCk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdoZXRoZXIgb3Igbm90IHRoaXMgY2hhbm5lbCBpcyBvcGVuIHRvIG5ldyBzdXJ2ZXlzIGF0IHRoZSBzcGVjaWZpZWQgcG9pbnQgaW4gdGltZVxyXG5cdCAqL1xyXG5cdGlzT3BlbkF0RGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdvdmVybmVkQ2hhbm5lbCBpbXBsZW1lbnRzIElHb3Zlcm5lZENoYW5uZWxEYXRhIHtcclxuXHRwcml2YXRlIHR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0cHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBjb29sZG93blNlY29uZHM6IG51bWJlcjtcclxuXHRwcml2YXRlIGNvb2xkb3duU3RhcnRUaW1lOiBEYXRlO1xyXG5cdHByaXZhdGUgY29vbGRvd25FbmRUaW1lOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgbmFtZTogc3RyaW5nLCBjb29sZG93blNlY29uZHM6IG51bWJlciwgY29vbGRvd25TdGFydFRpbWU6IERhdGUpIHtcclxuXHRcdGlmICghVXRpbHMuaXNFbnVtVmFsdWUodHlwZSwgR292ZXJuZWRDaGFubmVsVHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBpcyBub3QgYSB2YWxpZCBHb3Zlcm5lZENoYW5uZWxUeXBlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghbmFtZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJuYW1lIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvb2xkb3duU2Vjb25kcyA8IDApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY29vbGRvd25TZWNvbmRzIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy5jb29sZG93blNlY29uZHMgPSBjb29sZG93blNlY29uZHM7XHJcblx0XHR0aGlzLnNldENvb2xkb3duU3RhcnRUaW1lKGNvb2xkb3duU3RhcnRUaW1lKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb29sZG93blN0YXJ0VGltZShjb29sZG93blN0YXJ0VGltZTogRGF0ZSk6IHZvaWQge1xyXG5cdFx0Ly8gU2V0IHRoZSBzdGFydCB0aW1lXHJcblx0XHR0aGlzLmNvb2xkb3duU3RhcnRUaW1lID0gY29vbGRvd25TdGFydFRpbWU7XHJcblxyXG5cdFx0aWYgKFV0aWxzLmlzTk9VKHRoaXMuY29vbGRvd25TdGFydFRpbWUpKSB7XHJcblx0XHRcdC8vIE51bGwgY29vbGRvd25TdGFydFRpbWUgbWVhbnMgY29vbCBkb3duIGhhcyBuZXZlciBiZWVuIGluaXRpYXRlZCwgc28gc2V0IHRoZSBjb29sZG93bkVuZFRpbWUgdG8gZGlzdGFudCBwYXN0XHJcblx0XHRcdHRoaXMuY29vbGRvd25FbmRUaW1lID0gVXRpbHMuZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgZW5kIHRpbWUsIGJ1dCBkb24ndCBvdmVyZmxvdyBwYXN0IG1heC5cclxuXHRcdHRoaXMuY29vbGRvd25FbmRUaW1lID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyh0aGlzLmNvb2xkb3duU3RhcnRUaW1lLCB0aGlzLmNvb2xkb3duU2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNPcGVuQXREYXRlKG5ldyBEYXRlKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzT3BlbkF0RGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRhdGUpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAoZGF0ZSA+IHRoaXMuY29vbGRvd25FbmRUaW1lKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGUge1xyXG5cdFx0cmV0dXJuIHRoaXMudHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvb2xkb3duU2Vjb25kcygpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25TZWNvbmRzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25TdGFydFRpbWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29vbGRvd25FbmRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25FbmRUaW1lO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernedChannel.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/GovernedChannelStateProvider.js":
/*!*****************************************************************!*\
  !*** ../FloodgateCore/dist/src/GovernedChannelStateProvider.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileBasedGovernedChannelStateProvider = exports.HostBasedGovernedChannelStateProvider = exports.GovernedChannelStateProviderFactory = exports.GovernedChannelState = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar StateProviderHelpers = __webpack_require__(/*! ./StateProviderHelpers */ \"../FloodgateCore/dist/src/StateProviderHelpers.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar GovernedChannelState = /** @class */ (function () {\n    function GovernedChannelState(type, cooldownStartTime) {\n        this.ChannelType = type;\n        this.CooldownStartTimeUtc = cooldownStartTime;\n        if (!this.validate()) {\n            throw new Error(\"Constructor arguments are not valid\");\n        }\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns class object\n     */\n    GovernedChannelState.deserialize = function (input) {\n        var result;\n        if (!input) {\n            return null;\n        }\n        // Validation is handled by GovernedChannelState's constructor\n        try {\n            result = new GovernedChannelState(input.ChannelType, input.CooldownStartTimeUtc);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.GovernedChannelState.Deserialize.Failed, { ErrorMessage: e.toString() });\n            return null;\n        }\n        return result;\n    };\n    GovernedChannelState.prototype.validate = function () {\n        if (!Utils.isEnumValue(this.ChannelType, GovernedChannel_1.GovernedChannelType)) {\n            return false;\n        }\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.CooldownStartTimeUtc)) {\n            this.CooldownStartTimeUtc = Utils.stringToDate(this.CooldownStartTimeUtc);\n            // Allow null and bad cooldownStartTime\n        }\n        else if (Utils.isNOU(this.CooldownStartTimeUtc) || !Utils.isDate(this.CooldownStartTimeUtc)) {\n            this.CooldownStartTimeUtc = Utils.getDistantPast();\n        }\n        return true;\n    };\n    GovernedChannelState.prototype.getType = function () {\n        return this.ChannelType;\n    };\n    GovernedChannelState.prototype.getCooldownStartTime = function () {\n        return this.CooldownStartTimeUtc;\n    };\n    return GovernedChannelState;\n}());\nexports.GovernedChannelState = GovernedChannelState;\nvar GovernedChannelStateProviderFactory = /** @class */ (function () {\n    function GovernedChannelStateProviderFactory() {\n    }\n    GovernedChannelStateProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedGovernedChannelStateProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedGovernedChannelStateProvider(fileBasedStorage);\n    };\n    return GovernedChannelStateProviderFactory;\n}());\nexports.GovernedChannelStateProviderFactory = GovernedChannelStateProviderFactory;\n/**\n * Class representing what is stored in the file.\n */\nvar FileData = /** @class */ (function () {\n    function FileData() {\n    }\n    return FileData;\n}());\nvar HostBasedGovernedChannelStateProvider = /** @class */ (function () {\n    function HostBasedGovernedChannelStateProvider(fileBasedStorage, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error(\"host-based storage must not be null\");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file-based provider is optional\n        if (fileBasedStorage) {\n            this.fileBasedStateProvider = new FileBasedGovernedChannelStateProvider(fileBasedStorage);\n        }\n    }\n    // @Override\n    HostBasedGovernedChannelStateProvider.prototype.load = function () {\n        var statesFromHost = this.getStatesFromHost();\n        var statesFromFile;\n        if (this.fileBasedStateProvider) {\n            statesFromFile = this.fileBasedStateProvider.load();\n        }\n        var StateCollections = StateProviderHelpers.MergeAndUpdateGovernedChannelStates(statesFromFile, statesFromHost);\n        return StateCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedGovernedChannelStateProvider.prototype.save = function (states) {\n        var _this = this;\n        if (!states) {\n            return;\n        }\n        var statesFromHost = this.getStatesFromHost();\n        var StateCollections = StateProviderHelpers.MergeAndUpdateGovernedChannelStates(states, statesFromHost);\n        var toBeUpdatedStates = StateCollections.find(1 /* ToBeUpdated */);\n        var mergedStates = StateCollections.find(0 /* Merged */);\n        // write delta_data to Host\n        if (toBeUpdatedStates) {\n            toBeUpdatedStates.forEach(function (state) {\n                var stateValue = StateProviderHelpers.makeSettingItemValue(JSON.stringify(state));\n                _this.hostBasedStorage.upsertSettingItem(FileType[FileType.GovernedChannelStates], String(state.getType()), stateValue);\n            });\n        }\n        // Write merged data to File\n        if (this.fileBasedStateProvider) {\n            this.fileBasedStateProvider.save(mergedStates);\n        }\n    };\n    HostBasedGovernedChannelStateProvider.prototype.getStatesFromHost = function () {\n        var states = [];\n        var settings = this.hostBasedStorage.readSettingList(FileType[FileType.GovernedChannelStates]);\n        for (var key in settings) {\n            if (!settings.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = settings[key];\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(value);\n            var itemObject = {};\n            try {\n                itemObject = JSON.parse(dataString);\n                var newState = GovernedChannelState.deserialize(itemObject);\n                if (newState) {\n                    states.push(newState);\n                }\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedGovernedChannelStateProvider.GetStatesFromHost.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + dataString });\n            }\n        }\n        return states;\n    };\n    return HostBasedGovernedChannelStateProvider;\n}());\nexports.HostBasedGovernedChannelStateProvider = HostBasedGovernedChannelStateProvider;\nvar FileBasedGovernedChannelStateProvider = /** @class */ (function () {\n    function FileBasedGovernedChannelStateProvider(storage) {\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedGovernedChannelStateProvider.prototype.load = function () {\n        // Load channel state from file using _storageProvider (get back string)\n        var readString = this.storage.read(FileType.GovernedChannelStates);\n        if (!readString) {\n            return [];\n        }\n        var fileData;\n        try {\n            fileData = JSON.parse(readString);\n            var result_1 = [];\n            if (fileData && fileData.ChannelStates) {\n                fileData.ChannelStates.forEach(function (state) {\n                    var newState = GovernedChannelState.deserialize(state);\n                    if (newState) {\n                        result_1.push(newState);\n                    }\n                });\n            }\n            return result_1;\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FileBasedGovernedChannelStateProvider.Load.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + readString });\n            return [];\n        }\n    };\n    // @Override\n    FileBasedGovernedChannelStateProvider.prototype.save = function (states) {\n        if (!states) {\n            return;\n        }\n        var fileData = new FileData();\n        fileData.ChannelStates = states;\n        var writeString = JSON.stringify(fileData);\n        this.storage.write(FileType.GovernedChannelStates, writeString);\n    };\n    return FileBasedGovernedChannelStateProvider;\n}());\nexports.FileBasedGovernedChannelStateProvider = FileBasedGovernedChannelStateProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIudHM/ZjBmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx5SkFBNkU7QUFDN0UsbUdBQTZDO0FBQzdDLHFIQUFvRDtBQUNwRCxxSEFBd0Q7QUFDeEQsa0lBQStEO0FBQy9ELHFGQUFpQztBQUNqQyxJQUFPLFFBQVEsR0FBRyx5QkFBeUIsQ0FBQyxRQUFRLENBQUM7QUFHckQ7SUFrQ0MsOEJBQW1CLElBQXlCLEVBQUUsaUJBQXVCO1FBQ3BFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxpQkFBaUIsQ0FBQztRQUU5QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN2RDtJQUNGLENBQUM7SUF4Q0Q7Ozs7T0FJRztJQUNXLGdDQUFXLEdBQXpCLFVBQTBCLEtBQVU7UUFDbkMsSUFBSSxNQUE0QixDQUFDO1FBRWpDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsOERBQThEO1FBQzlELElBQUk7WUFDSCxNQUFNLEdBQUcsSUFBSSxvQkFBb0IsQ0FDaEMsS0FBSyxDQUFDLFdBQVcsRUFDakIsS0FBSyxDQUFDLG9CQUFvQixDQUMxQixDQUFDO1NBQ0Y7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3pGLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFpQk0sdUNBQVEsR0FBZjtRQUNDLElB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QUFRLEdBQXlCLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFFL0UsSUFBSSxRQUFRLEVBQUU7d0JBQ2IsUUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztxQkFDdEI7Z0JBQ0YsQ0FBQyxDQUFDLENBQUM7YUFDSDtZQUVELE9BQU8sUUFBTSxDQUFDO1NBQ2Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMscUNBQXFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFDaEUsRUFBRSxZQUFZLEVBQUUscUNBQXFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLFdBQVcsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFJLEdBQVgsVUFBWSxNQUE4QjtRQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1osT0FBTztTQUNQO1FBRUQsSUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUNoQyxRQUFRLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUNoQyxJQUFNLFdBQVcsR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXJELElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBQ0YsNENBQUM7QUFBRCxDQUFDO0FBeERZLHNGQUFxQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIFN0YXRlUHJvdmlkZXJIZWxwZXJzIGZyb20gXCIuL1N0YXRlUHJvdmlkZXJIZWxwZXJzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCBTdGF0ZUxpc3RUeXBlID0gU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHb3Zlcm5lZENoYW5uZWxTdGF0ZSB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgY2xhc3Mgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogR292ZXJuZWRDaGFubmVsU3RhdGUge1xyXG5cdFx0bGV0IHJlc3VsdDogR292ZXJuZWRDaGFubmVsU3RhdGU7XHJcblxyXG5cdFx0aWYgKCFpbnB1dCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBWYWxpZGF0aW9uIGlzIGhhbmRsZWQgYnkgR292ZXJuZWRDaGFubmVsU3RhdGUncyBjb25zdHJ1Y3RvclxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmVzdWx0ID0gbmV3IEdvdmVybmVkQ2hhbm5lbFN0YXRlKFxyXG5cdFx0XHRcdGlucHV0LkNoYW5uZWxUeXBlLFxyXG5cdFx0XHRcdGlucHV0LkNvb2xkb3duU3RhcnRUaW1lVXRjLFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkdvdmVybmVkQ2hhbm5lbFN0YXRlLkRlc2VyaWFsaXplLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSB9KTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNoYW5uZWxUeXBlXCIpXHJcblx0cHJpdmF0ZSBDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ29vbGRvd25TdGFydFRpbWVVdGNcIilcclxuXHRwcml2YXRlIENvb2xkb3duU3RhcnRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgY29vbGRvd25TdGFydFRpbWU6IERhdGUpIHtcclxuXHRcdHRoaXMuQ2hhbm5lbFR5cGUgPSB0eXBlO1xyXG5cdFx0dGhpcy5Db29sZG93blN0YXJ0VGltZVV0YyA9IGNvb2xkb3duU3RhcnRUaW1lO1xyXG5cclxuXHRcdGlmICghdGhpcy52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNvbnN0cnVjdG9yIGFyZ3VtZW50cyBhcmUgbm90IHZhbGlkXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFVdGlscy5pc0VudW1WYWx1ZSh0aGlzLkNoYW5uZWxUeXBlLCBHb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbWFrZSBpdCBhIGRhdGUgb2JqZWN0IGlmIGl0J3MgYSB2YWxpZCBVVEMgZGF0ZSB0aW1lIHZhbHVlXHJcblx0XHRpZiAoVXRpbHMuaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkNvb2xkb3duU3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkNvb2xkb3duU3RhcnRUaW1lVXRjID0gVXRpbHMuc3RyaW5nVG9EYXRlKHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGMpO1xyXG5cdFx0Ly8gQWxsb3cgbnVsbCBhbmQgYmFkIGNvb2xkb3duU3RhcnRUaW1lXHJcblx0XHR9IGVsc2UgaWYgKFV0aWxzLmlzTk9VKHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGMpIHx8ICFVdGlscy5pc0RhdGUodGhpcy5Db29sZG93blN0YXJ0VGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5Db29sZG93blN0YXJ0VGltZVV0YyA9IFV0aWxzLmdldERpc3RhbnRQYXN0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLkNoYW5uZWxUeXBlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGM7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIHtcclxuXHRsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW107XHJcblxyXG5cdHNhdmUoY2hhbm5lbHM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShmaWxlQmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLFxyXG5cdFx0aG9zdEJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2spOiBJR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlciB7XHJcblx0XHRpZiAoaG9zdEJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSwgaG9zdEJhc2VkU3RvcmFnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBGaWxlQmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2UpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyB3aGF0IGlzIHN0b3JlZCBpbiB0aGUgZmlsZS5cclxuICovXHJcbmNsYXNzIEZpbGVEYXRhIHtcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDaGFubmVsU3RhdGVzXCIpXHJcblx0cHVibGljIENoYW5uZWxTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgZmlsZUJhc2VkU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlLWJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0YXRlUHJvdmlkZXIgPSBuZXcgRmlsZUJhc2VkR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzRnJvbUhvc3Q6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSB0aGlzLmdldFN0YXRlc0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN0YXRlc0Zyb21GaWxlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdO1xyXG5cdFx0aWYgKHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHRzdGF0ZXNGcm9tRmlsZSA9IHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHN0YXRlc0Zyb21GaWxlLCBzdGF0ZXNGcm9tSG9zdCk7XHJcblx0XHRyZXR1cm4gU3RhdGVDb2xsZWN0aW9ucy5maW5kKFN0YXRlTGlzdFR5cGUuTWVyZ2VkKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzYXZlKHN0YXRlczogR292ZXJuZWRDaGFubmVsU3RhdGVbXSk6IHZvaWQge1xyXG5cdFx0aWYgKCFzdGF0ZXMpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRlc0Zyb21Ib3N0OiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gdGhpcy5nZXRTdGF0ZXNGcm9tSG9zdCgpO1xyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHN0YXRlcywgc3RhdGVzRnJvbUhvc3QpO1xyXG5cdFx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cclxuXHRcdC8vIHdyaXRlIGRlbHRhX2RhdGEgdG8gSG9zdFxyXG5cdFx0aWYgKHRvQmVVcGRhdGVkU3RhdGVzKSB7XHJcblx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLmZvckVhY2goKHN0YXRlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGVWYWx1ZTogc3RyaW5nID0gU3RhdGVQcm92aWRlckhlbHBlcnMubWFrZVNldHRpbmdJdGVtVmFsdWUoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcclxuXHRcdFx0XHR0aGlzLmhvc3RCYXNlZFN0b3JhZ2UudXBzZXJ0U2V0dGluZ0l0ZW0oRmlsZVR5cGVbRmlsZVR5cGUuR292ZXJuZWRDaGFubmVsU3RhdGVzXSwgU3RyaW5nKHN0YXRlLmdldFR5cGUoKSksIHN0YXRlVmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5zYXZlKG1lcmdlZFN0YXRlcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFN0YXRlc0Zyb21Ib3N0KCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblx0XHRjb25zdCBzZXR0aW5nczogSUZsb29kZ2F0ZVNldHRpbmcgPSB0aGlzLmhvc3RCYXNlZFN0b3JhZ2UucmVhZFNldHRpbmdMaXN0KEZpbGVUeXBlW0ZpbGVUeXBlLkdvdmVybmVkQ2hhbm5lbFN0YXRlc10pO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHNldHRpbmdzKSB7XHJcblx0XHRcdGlmICghc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHNldHRpbmdzW2tleV07XHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGxldCBpdGVtT2JqZWN0OiBhbnkgPSB7fTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpdGVtT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IEdvdmVybmVkQ2hhbm5lbFN0YXRlID0gR292ZXJuZWRDaGFubmVsU3RhdGUuZGVzZXJpYWxpemUoaXRlbU9iamVjdCk7XHJcblx0XHRcdFx0aWYgKG5ld1N0YXRlKSB7XHJcblx0XHRcdFx0XHRzdGF0ZXMucHVzaChuZXdTdGF0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50Lkhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuR2V0U3RhdGVzRnJvbUhvc3QuRmFpbGVkLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyBkYXRhU3RyaW5nIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXRlcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdGlmICghc3RvcmFnZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Ly8gTG9hZCBjaGFubmVsIHN0YXRlIGZyb20gZmlsZSB1c2luZyBfc3RvcmFnZVByb3ZpZGVyIChnZXQgYmFjayBzdHJpbmcpXHJcblx0XHRjb25zdCByZWFkU3RyaW5nOiBzdHJpbmcgPSB0aGlzLnN0b3JhZ2UucmVhZChGaWxlVHlwZS5Hb3Zlcm5lZENoYW5uZWxTdGF0ZXMpO1xyXG5cdFx0aWYgKCFyZWFkU3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZmlsZURhdGE6IEZpbGVEYXRhO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZmlsZURhdGEgPSBKU09OLnBhcnNlKHJlYWRTdHJpbmcpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0OiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblxyXG5cdFx0XHRpZiAoZmlsZURhdGEgJiYgZmlsZURhdGEuQ2hhbm5lbFN0YXRlcykge1xyXG5cdFx0XHRcdGZpbGVEYXRhLkNoYW5uZWxTdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZSA9IEdvdmVybmVkQ2hhbm5lbFN0YXRlLmRlc2VyaWFsaXplKHN0YXRlKTtcclxuXHJcblx0XHRcdFx0XHRpZiAobmV3U3RhdGUpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gobmV3U3RhdGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZpbGVCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuTG9hZC5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyByZWFkU3RyaW5nIH0pO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShzdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiB2b2lkIHtcclxuXHRcdGlmICghc3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWxlRGF0YSA9IG5ldyBGaWxlRGF0YSgpO1xyXG5cdFx0ZmlsZURhdGEuQ2hhbm5lbFN0YXRlcyA9IHN0YXRlcztcclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmaWxlRGF0YSk7XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKEZpbGVUeXBlLkdvdmVybmVkQ2hhbm5lbFN0YXRlcywgd3JpdGVTdHJpbmcpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernedChannelStateProvider.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Governor.js":
/*!*********************************************!*\
  !*** ../FloodgateCore/dist/src/Governor.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Governor = exports.DEFAULT_TEACHING_MESSAGE_COOLDOWN = void 0;\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar GovernedChannelStateProvider_1 = __webpack_require__(/*! ./GovernedChannelStateProvider */ \"../FloodgateCore/dist/src/GovernedChannelStateProvider.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar isNOU = Utils.isNOU;\nexports.DEFAULT_TEACHING_MESSAGE_COOLDOWN = 15;\nvar DefaultChannelData = /** @class */ (function () {\n    function DefaultChannelData(name, cooldownSeconds) {\n        this.name = name;\n        this.cooldownSeconds = cooldownSeconds;\n    }\n    return DefaultChannelData;\n}());\nvar Governor = /** @class */ (function () {\n    function Governor(channelStateProvider) {\n        this.channels = [];\n        if (!channelStateProvider) {\n            throw new Error(\"channelStateProvider must not be null\");\n        }\n        this.channelStateProvider = channelStateProvider;\n        this.loadChannels();\n    }\n    Governor.GetChannelCoolDown = function (channelType) {\n        var channelData = Governor.defaultChannelData[channelType];\n        return channelData ? channelData.cooldownSeconds : 0;\n    };\n    Governor.SetDefaultChannelCoolDown = function (channelType, cooldownSeconds) {\n        var channelData = Governor.defaultChannelData[channelType];\n        if (channelData) {\n            channelData.cooldownSeconds = cooldownSeconds;\n        }\n    };\n    // @Override\n    Governor.prototype.refreshChannelData = function () {\n        this.loadChannels();\n    };\n    // @Override\n    Governor.prototype.getAvailableChannelData = function () {\n        var channelData = [];\n        for (var key in this.channels) {\n            if (this.channels.hasOwnProperty(key)) {\n                var channel = this.channels[key];\n                if (channel.isOpen()) {\n                    channelData.push(channel);\n                }\n            }\n        }\n        return channelData;\n    };\n    // @Override\n    Governor.prototype.isChannelOpen = function (type) {\n        if (isNOU(type)) {\n            throw new Error(\"type must not be null\");\n        }\n        return this.channels[type].isOpen();\n    };\n    // @Override\n    Governor.prototype.startChannelCooldown = function (type, date) {\n        if (isNOU(type)) {\n            throw new Error(\"type must not be null\");\n        }\n        date = date ? date : new Date();\n        // Start the cool down\n        this.channels[type].setCooldownStartTime(date);\n        // Save the new channel state for future sessions\n        this.saveChannelStates();\n    };\n    Governor.prototype.saveChannelStates = function () {\n        // Build up the list of channel states\n        var channelStates = [];\n        for (var key in this.channels) {\n            if (this.channels.hasOwnProperty(key)) {\n                var channel = this.channels[key];\n                var channelState = new GovernedChannelStateProvider_1.GovernedChannelState(channel.getType(), channel.getCooldownStartTime());\n                channelStates.push(channelState);\n            }\n        }\n        this.channelStateProvider.save(channelStates);\n    };\n    Governor.prototype.loadChannels = function () {\n        // Load up state from previous sessions\n        this.loadChannelStatesFromProvider();\n        // For any missing channels, init them from scratch\n        // There's no straightforward way to iterate enums, we need to iterate through the enum array\n        //    filtering out just the numeric enum values (excluding enum names).\n        for (var item in GovernedChannel_1.GovernedChannelType) {\n            if (GovernedChannel_1.GovernedChannelType.hasOwnProperty(item)) {\n                var key = Number(item);\n                // skip if key is not numeric enum value, or if already exists\n                if (isNaN(key) || this.channels[key]) {\n                    continue;\n                }\n                var defaultData = Governor.defaultChannelData[key];\n                var newChannel = new GovernedChannel_1.GovernedChannel(key, defaultData.name, defaultData.cooldownSeconds, null);\n                this.channels[key] = newChannel;\n            }\n        }\n    };\n    Governor.prototype.loadChannelStatesFromProvider = function () {\n        this.channels = [];\n        var channelStates = this.channelStateProvider.load();\n        for (var key in channelStates) {\n            if (channelStates.hasOwnProperty(key)) {\n                var channelState = channelStates[key];\n                var type = channelState.getType();\n                var defaultData = Governor.defaultChannelData[type];\n                var newChannel = new GovernedChannel_1.GovernedChannel(type, defaultData.name, defaultData.cooldownSeconds, channelState.getCooldownStartTime());\n                this.channels[newChannel.getType()] = newChannel;\n            }\n        }\n    };\n    Governor.minute = 60;\n    Governor.hour = 60 * Governor.minute;\n    Governor.day = 24 * Governor.hour;\n    // Array of default values for each channel type. Indexed by the GovernedChannelType enum name.\n    Governor.defaultChannelData = [\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Standard], 14 * Governor.day),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Urgent], 0),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Banner], 15 * Governor.day),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.TeachingMessage], exports.DEFAULT_TEACHING_MESSAGE_COOLDOWN * Governor.day),\n    ];\n    return Governor;\n}());\nexports.Governor = Governor;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybm9yLnRzPzI5YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUhBQStGO0FBQy9GLDRKQUFxRztBQUNyRyxxRkFBaUM7QUFFekIsU0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBRVgseUNBQWlDLEdBQUcsRUFBRSxDQUFDO0FBY3BEO0lBSUMsNEJBQW1CLElBQVksRUFBRSxlQUF1QjtRQUN2RCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN4QyxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDO0FBRUQ7SUE0QkMsa0JBQW1CLG9CQUFtRDtRQUY5RCxhQUFRLEdBQXNCLEVBQUUsQ0FBQztRQUd4QyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO1NBQ3pEO1FBRUQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQixDQUFDO1FBQ2pELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBbENhLDJCQUFrQixHQUFoQyxVQUFpQyxXQUFnQztRQUNoRSxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDN0QsT0FBTyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRWEsa0NBQXlCLEdBQXZDLFVBQXdDLFdBQWdDLEVBQUUsZUFBdUI7UUFDaEcsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdELElBQUksV0FBVyxFQUFFO1lBQ2hCLFdBQVcsQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO1NBQzlDO0lBQ0YsQ0FBQztJQTBCRCxZQUFZO0lBQ0wscUNBQWtCLEdBQXpC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QUFDLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7UUFDNUYsSUFBSSxrQkFBa0IsQ0FBQyxxQ0FBbUIsQ0FBQyxxQ0FBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUUsSUFBSSxrQkFBa0IsQ0FBQyxxQ0FBbUIsQ0FBQyxxQ0FBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQztRQUMxRixJQUFJLGtCQUFrQixDQUFDLHFDQUFtQixDQUFDLHFDQUFtQixDQUFDLGVBQWUsQ0FBQyxFQUFFLHlDQUFpQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7S0FDbEksQ0FBQztJQXVISCxlQUFDO0NBQUE7QUE5SVksNEJBQVEiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Hb3Zlcm5vci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbCwgR292ZXJuZWRDaGFubmVsVHlwZSwgSUdvdmVybmVkQ2hhbm5lbERhdGEgfSBmcm9tIFwiLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsU3RhdGUsIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9URUFDSElOR19NRVNTQUdFX0NPT0xET1dOID0gMTU7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5vciB7XHJcblx0Z2V0QXZhaWxhYmxlQ2hhbm5lbERhdGEoKTogSUdvdmVybmVkQ2hhbm5lbERhdGFbXTtcclxuXHJcblx0aXNDaGFubmVsT3Blbih0eXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbjtcclxuXHJcblx0c3RhcnRDaGFubmVsQ29vbGRvd24odHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgZGF0ZT86IERhdGUpOiB2b2lkO1xyXG5cclxuXHRyZWZyZXNoQ2hhbm5lbERhdGEoKTogdm9pZDtcclxuXHJcblx0c2F2ZUNoYW5uZWxTdGF0ZXMoKTogdm9pZDtcclxufVxyXG5cclxuY2xhc3MgRGVmYXVsdENoYW5uZWxEYXRhIHtcclxuXHRwdWJsaWMgY29vbGRvd25TZWNvbmRzOiBudW1iZXI7XHJcblx0cHVibGljIG5hbWU6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgY29vbGRvd25TZWNvbmRzOiBudW1iZXIpIHtcclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmNvb2xkb3duU2Vjb25kcyA9IGNvb2xkb3duU2Vjb25kcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHb3Zlcm5vciBpbXBsZW1lbnRzIElHb3Zlcm5vciB7XHJcblx0cHVibGljIHN0YXRpYyBHZXRDaGFubmVsQ29vbERvd24oY2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUpIHtcclxuXHRcdGNvbnN0IGNoYW5uZWxEYXRhID0gR292ZXJub3IuZGVmYXVsdENoYW5uZWxEYXRhW2NoYW5uZWxUeXBlXTtcclxuXHRcdHJldHVybiBjaGFubmVsRGF0YSA/IGNoYW5uZWxEYXRhLmNvb2xkb3duU2Vjb25kcyA6IDA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIFNldERlZmF1bHRDaGFubmVsQ29vbERvd24oY2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUsIGNvb2xkb3duU2Vjb25kczogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBjaGFubmVsRGF0YSA9IEdvdmVybm9yLmRlZmF1bHRDaGFubmVsRGF0YVtjaGFubmVsVHlwZV07XHJcblx0XHRpZiAoY2hhbm5lbERhdGEpIHtcclxuXHRcdFx0Y2hhbm5lbERhdGEuY29vbGRvd25TZWNvbmRzID0gY29vbGRvd25TZWNvbmRzO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWludXRlOiBudW1iZXIgPSA2MDtcclxuXHRwcml2YXRlIHN0YXRpYyBob3VyOiBudW1iZXIgPSA2MCAqIEdvdmVybm9yLm1pbnV0ZTtcclxuXHRwcml2YXRlIHN0YXRpYyBkYXk6IG51bWJlciA9IDI0ICogR292ZXJub3IuaG91cjtcclxuXHJcblx0Ly8gQXJyYXkgb2YgZGVmYXVsdCB2YWx1ZXMgZm9yIGVhY2ggY2hhbm5lbCB0eXBlLiBJbmRleGVkIGJ5IHRoZSBHb3Zlcm5lZENoYW5uZWxUeXBlIGVudW0gbmFtZS5cclxuXHRwcml2YXRlIHN0YXRpYyBkZWZhdWx0Q2hhbm5lbERhdGE6IERlZmF1bHRDaGFubmVsRGF0YVtdID0gW1xyXG5cdFx0bmV3IERlZmF1bHRDaGFubmVsRGF0YShHb3Zlcm5lZENoYW5uZWxUeXBlW0dvdmVybmVkQ2hhbm5lbFR5cGUuU3RhbmRhcmRdLCAxNCAqIEdvdmVybm9yLmRheSksXHJcblx0XHRuZXcgRGVmYXVsdENoYW5uZWxEYXRhKEdvdmVybmVkQ2hhbm5lbFR5cGVbR292ZXJuZWRDaGFubmVsVHlwZS5VcmdlbnRdLCAwKSxcclxuXHRcdG5ldyBEZWZhdWx0Q2hhbm5lbERhdGEoR292ZXJuZWRDaGFubmVsVHlwZVtHb3Zlcm5lZENoYW5uZWxUeXBlLkJhbm5lcl0sIDE1ICogR292ZXJub3IuZGF5KSxcclxuXHRcdG5ldyBEZWZhdWx0Q2hhbm5lbERhdGEoR292ZXJuZWRDaGFubmVsVHlwZVtHb3Zlcm5lZENoYW5uZWxUeXBlLlRlYWNoaW5nTWVzc2FnZV0sIERFRkFVTFRfVEVBQ0hJTkdfTUVTU0FHRV9DT09MRE9XTiAqIEdvdmVybm9yLmRheSksXHJcblx0XTtcclxuXHJcblx0cHJpdmF0ZSBjaGFubmVsU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBjaGFubmVsczogR292ZXJuZWRDaGFubmVsW10gPSBbXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGNoYW5uZWxTdGF0ZVByb3ZpZGVyOiBJR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcikge1xyXG5cdFx0aWYgKCFjaGFubmVsU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsU3RhdGVQcm92aWRlciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjaGFubmVsU3RhdGVQcm92aWRlcjtcclxuXHRcdHRoaXMubG9hZENoYW5uZWxzKCk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgcmVmcmVzaENoYW5uZWxEYXRhKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5sb2FkQ2hhbm5lbHMoKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRBdmFpbGFibGVDaGFubmVsRGF0YSgpOiBJR292ZXJuZWRDaGFubmVsRGF0YVtdIHtcclxuXHRcdGNvbnN0IGNoYW5uZWxEYXRhOiBJR292ZXJuZWRDaGFubmVsRGF0YVtdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5jaGFubmVscykge1xyXG5cdFx0XHRpZiAodGhpcy5jaGFubmVscy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2hhbm5lbDogR292ZXJuZWRDaGFubmVsID0gdGhpcy5jaGFubmVsc1trZXldO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hhbm5lbC5pc09wZW4oKSkge1xyXG5cdFx0XHRcdFx0Y2hhbm5lbERhdGEucHVzaChjaGFubmVsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY2hhbm5lbERhdGE7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNDaGFubmVsT3Blbih0eXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmNoYW5uZWxzW3R5cGVdLmlzT3BlbigpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHN0YXJ0Q2hhbm5lbENvb2xkb3duKHR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUsIGRhdGU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHRpZiAoaXNOT1UodHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gU3RhcnQgdGhlIGNvb2wgZG93blxyXG5cdFx0dGhpcy5jaGFubmVsc1t0eXBlXS5zZXRDb29sZG93blN0YXJ0VGltZShkYXRlKTtcclxuXHJcblx0XHQvLyBTYXZlIHRoZSBuZXcgY2hhbm5lbCBzdGF0ZSBmb3IgZnV0dXJlIHNlc3Npb25zXHJcblx0XHR0aGlzLnNhdmVDaGFubmVsU3RhdGVzKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2F2ZUNoYW5uZWxTdGF0ZXMoKTogdm9pZCB7XHJcblx0XHQvLyBCdWlsZCB1cCB0aGUgbGlzdCBvZiBjaGFubmVsIHN0YXRlc1xyXG5cdFx0Y29uc3QgY2hhbm5lbFN0YXRlczogR292ZXJuZWRDaGFubmVsU3RhdGVbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2hhbm5lbHMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2hhbm5lbHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGNoYW5uZWw6IEdvdmVybmVkQ2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNba2V5XTtcclxuXHRcdFx0XHRjb25zdCBjaGFubmVsU3RhdGU6IEdvdmVybmVkQ2hhbm5lbFN0YXRlID1cclxuXHRcdFx0XHRcdG5ldyBHb3Zlcm5lZENoYW5uZWxTdGF0ZShjaGFubmVsLmdldFR5cGUoKSwgY2hhbm5lbC5nZXRDb29sZG93blN0YXJ0VGltZSgpKTtcclxuXHJcblx0XHRcdFx0Y2hhbm5lbFN0YXRlcy5wdXNoKGNoYW5uZWxTdGF0ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNoYW5uZWxTdGF0ZVByb3ZpZGVyLnNhdmUoY2hhbm5lbFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvYWRDaGFubmVscygpOiB2b2lkIHtcclxuXHRcdC8vIExvYWQgdXAgc3RhdGUgZnJvbSBwcmV2aW91cyBzZXNzaW9uc1xyXG5cdFx0dGhpcy5sb2FkQ2hhbm5lbFN0YXRlc0Zyb21Qcm92aWRlcigpO1xyXG5cclxuXHRcdC8vIEZvciBhbnkgbWlzc2luZyBjaGFubmVscywgaW5pdCB0aGVtIGZyb20gc2NyYXRjaFxyXG5cdFx0Ly8gVGhlcmUncyBubyBzdHJhaWdodGZvcndhcmQgd2F5IHRvIGl0ZXJhdGUgZW51bXMsIHdlIG5lZWQgdG8gaXRlcmF0ZSB0aHJvdWdoIHRoZSBlbnVtIGFycmF5XHJcblx0XHQvLyAgICBmaWx0ZXJpbmcgb3V0IGp1c3QgdGhlIG51bWVyaWMgZW51bSB2YWx1ZXMgKGV4Y2x1ZGluZyBlbnVtIG5hbWVzKS5cclxuXHRcdGZvciAoY29uc3QgaXRlbSBpbiBHb3Zlcm5lZENoYW5uZWxUeXBlKSB7XHJcblx0XHRcdGlmIChHb3Zlcm5lZENoYW5uZWxUeXBlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcblx0XHRcdFx0Y29uc3Qga2V5OiBudW1iZXIgPSBOdW1iZXIoaXRlbSk7XHJcblxyXG5cdFx0XHRcdC8vIHNraXAgaWYga2V5IGlzIG5vdCBudW1lcmljIGVudW0gdmFsdWUsIG9yIGlmIGFscmVhZHkgZXhpc3RzXHJcblx0XHRcdFx0aWYgKGlzTmFOKGtleSkgfHwgdGhpcy5jaGFubmVsc1trZXldKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRlZmF1bHREYXRhOiBEZWZhdWx0Q2hhbm5lbERhdGEgPSBHb3Zlcm5vci5kZWZhdWx0Q2hhbm5lbERhdGFba2V5XTtcclxuXHRcdFx0XHRjb25zdCBuZXdDaGFubmVsOiBHb3Zlcm5lZENoYW5uZWwgPVxyXG5cdFx0XHRcdFx0bmV3IEdvdmVybmVkQ2hhbm5lbChrZXksIGRlZmF1bHREYXRhLm5hbWUsIGRlZmF1bHREYXRhLmNvb2xkb3duU2Vjb25kcywgbnVsbCk7XHJcblx0XHRcdFx0dGhpcy5jaGFubmVsc1trZXldID0gbmV3Q2hhbm5lbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2FkQ2hhbm5lbFN0YXRlc0Zyb21Qcm92aWRlcigpOiB2b2lkIHtcclxuXHRcdHRoaXMuY2hhbm5lbHMgPSBbXTtcclxuXHJcblx0XHRjb25zdCBjaGFubmVsU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gdGhpcy5jaGFubmVsU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gY2hhbm5lbFN0YXRlcykge1xyXG5cdFx0XHRpZiAoY2hhbm5lbFN0YXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2hhbm5lbFN0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZSA9IGNoYW5uZWxTdGF0ZXNba2V5XTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSA9IGNoYW5uZWxTdGF0ZS5nZXRUeXBlKCk7XHJcblx0XHRcdFx0Y29uc3QgZGVmYXVsdERhdGE6IERlZmF1bHRDaGFubmVsRGF0YSA9IEdvdmVybm9yLmRlZmF1bHRDaGFubmVsRGF0YVt0eXBlXTtcclxuXHRcdFx0XHRjb25zdCBuZXdDaGFubmVsOiBHb3Zlcm5lZENoYW5uZWwgPVxyXG5cdFx0XHRcdFx0bmV3IEdvdmVybmVkQ2hhbm5lbCh0eXBlLCBkZWZhdWx0RGF0YS5uYW1lLCBkZWZhdWx0RGF0YS5jb29sZG93blNlY29uZHMsIGNoYW5uZWxTdGF0ZS5nZXRDb29sZG93blN0YXJ0VGltZSgpKTtcclxuXHJcblx0XHRcdFx0dGhpcy5jaGFubmVsc1tuZXdDaGFubmVsLmdldFR5cGUoKV0gPSBuZXdDaGFubmVsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Governor.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/ISurveyInfo.js":
/*!************************************************!*\
  !*** ../FloodgateCore/dist/src/ISurveyInfo.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyInfo;\n(function (ISurveyInfo) {\n    var BusinessLevel;\n    (function (BusinessLevel) {\n        BusinessLevel[BusinessLevel[\"None\"] = 0] = \"None\";\n        BusinessLevel[BusinessLevel[\"Critical\"] = 1] = \"Critical\";\n    })(BusinessLevel = ISurveyInfo.BusinessLevel || (ISurveyInfo.BusinessLevel = {}));\n    ISurveyInfo.DOM_TYPE_TAGNAME = \"Type\";\n    ISurveyInfo.DOM_TYPE_VALUE = \"Survey\";\n    ISurveyInfo.DOM_ID_TAGNAME = \"SurveyID\";\n    ISurveyInfo.JSON_SURVEY_KEYNAME = \"survey\";\n    ISurveyInfo.JSON_ID_KEYNAME = \"surveyId\";\n})(ISurveyInfo || (ISurveyInfo = {}));\nmodule.exports = ISurveyInfo;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0lTdXJ2ZXlJbmZvLnRzP2ZmYTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXlHQSxJQUFPLFdBQVcsQ0F5QmpCO0FBekJELFdBQU8sV0FBVztJQVVqQixJQUFZLGFBR1g7SUFIRCxXQUFZLGFBQWE7UUFDeEIsaURBQVE7UUFDUix5REFBUTtJQUNULENBQUMsRUFIVyxhQUFhLEdBQWIseUJBQWEsS0FBYix5QkFBYSxRQUd4QjtJQU9ZLDRCQUFnQixHQUFHLE1BQU0sQ0FBQztJQUMxQiwwQkFBYyxHQUFHLFFBQVEsQ0FBQztJQUMxQiwwQkFBYyxHQUFHLFVBQVUsQ0FBQztJQUM1QiwrQkFBbUIsR0FBRyxRQUFRLENBQUM7SUFDL0IsMkJBQWUsR0FBRyxVQUFVLENBQUM7QUFDM0MsQ0FBQyxFQXpCTSxXQUFXLEtBQVgsV0FBVyxRQXlCakI7QUFFRCxpQkFBUyxXQUFXLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9JU3VydmV5SW5mby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTdXJ2ZXlEb21Xcml0ZXIgfSBmcm9tIFwiLi9BcGkvSVN1cnZleURvbVdyaXRlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0FwaS9JU3VydmV5SnNvbldyaXRlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi9JU3VydmV5RXZlbnRcIjtcclxuaW1wb3J0IHsgSVN1cnZleU1ldGFkYXRhIH0gZnJvbSBcIi4vSVN1cnZleU1ldGFkYXRhXCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZSBiYXNpY3Mgb2YgYSBTdXJ2ZXlcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5SW5mbyBleHRlbmRzIElTdXJ2ZXlEb21Xcml0ZXIsIElTdXJ2ZXlKc29uV3JpdGVyIHtcclxuXHQvKipcclxuXHQgKiBBIGdsb2JhbGx5IHVuaXF1ZSwgYnV0IG90aGVyd2lzZSBvcGFxdWUsIGlkZW50aXR5IGZvciB0aGlzIHBhcnRpY3VsYXIgc3VydmV5XHJcblx0ICovXHJcblx0Z2V0SWQoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBBIGdsb2JhbGx5IHVuaXF1ZSwgYnV0IG90aGVyd2lzZSBvcGFxdWUsIGlkZW50aXR5IGZvciB0aGlzIHBhcnRpY3VsYXIgc3VydmV5IG9uIHRoZSBPQ1YgYmFja2VuZFxyXG5cdCAqIE1heSBiZSB0aGUgc2FtZSwgb3IgZGlmZmVyZW50IHRoYW4gZ2V0SWRcclxuXHQgKi9cclxuXHRnZXRCYWNrRW5kSWQoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBUaGUgZ292ZXJlbmQgY2hhbm5lbCB0aGF0IHRoaXMgc3VydmV5IHdpbGwgYmUgZGVsaXZlcmVkL2ZpbHRlcmVkIHRocm91Z2hcclxuXHQgKi9cclxuXHRnZXRHb3Zlcm5lZENoYW5uZWxUeXBlKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSByYXcgc3RyaW5nIHByb3ZpZGVkIGFzIHRoZSBzdXJ2ZXkncyBzdGFydCBkYXRlLCB3aXRoIG5vIGVycm9yIGNoZWNraW5nXHJcblx0ICovXHJcblx0Z2V0UmF3U3RhcnRUaW1lVXRjKCk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogVGhlIHN0YXJ0IHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuICBCZWZvcmUgdGhlIGNsaWVudCBoYXMgcGFzc2VkIHRoaXMgZGF0ZVxyXG5cdCAqIHRoZSBzdXJ2ZXkgd2lsbCB3b24ndCBiZSBsb2FkZWQgaW50byB0aGUgc3VydmV5IGFjdGl2aXR5IGxpc3RlbmVyLlxyXG5cdCAqIElmIG5vIHN0YXJ0IGRhdGUgaXMgZ2l2ZW4sIHJldHVybnMgZGlzdGFudFBhc3QuXHJcblx0ICogSWYgYmFkIHN0YXJ0IGRhdGUgZ2l2ZW4sIHJldHVybnMgZGlzdGFudEZ1dHVyZVxyXG5cdCAqIE90aGVyd2lzZSwgcmV0dXJucyBkYXRlXHJcblx0ICovXHJcblx0Z2V0U3RhcnRUaW1lVXRjKCk6IERhdGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBleHBpcmF0aW9uIHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuIE9uY2UgdGhlIGNsaWVudCBoYXMgcGFzc2VkIHRoaXMgZGF0ZSwgaXQgc2hvdWxkIGNsZWFuIGFueVxyXG5cdCAqIGNhY2hlZCBkYXRhLCBhbmQgc2hvdWxkIHJlamVjdCBhbnkgaW5jb21pbmcgc3VydmV5cyB0aGF0IGhhdmUgb3RoZXJ3aXNlIGV4cGlyZWQgYnV0IGFyZSBzdGlsbCBhY3RpdmVcclxuXHQgKiBpbiB0aGUgZmxpZ2h0aW5nIHN5c3RlbVxyXG5cdCAqIElmIG5vL2JhZCBleHBpcmF0aW9uIGRhdGUgZ2l2ZW4sIHJldHVybnMgZGlzdGFudFBhc3QgdG8gbWFrZSBzdXJlIHRoaXMgc3VydmV5IGlzIGFsd2F5cyBleHBpcmVkLlxyXG5cdCAqL1xyXG5cdGdldEV4cGlyYXRpb25UaW1lVXRjKCk6IERhdGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBleHBpcmF0aW9uIHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuICBPbmNlIHRoZSBjbGllbnQgaGFzIHBhc3NlZCB0aGlzIGRhdGUsIGl0IHNob3VsZCBjbGVhbiBhbnlcclxuXHQgKiBjYWNoZWQgZGF0YSwgYW5kIHNob3VsZCByZWplY3QgYW55IGluY29taW5nIHN1cnZleXMgdGhhdCBoYXZlIG90aGVyd2lzZSBleHBpcmVkIGJ1dCBhcmUgc3RpbGwgYWN0aXZlXHJcblx0ICogaW4gdGhlIGZsaWdodGluZyBzeXN0ZW1cclxuXHQgKi9cclxuXHRnZXRSYXdFeHBpcmF0aW9uVGltZVV0YygpOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlICdkYXRlJyBpcyBiZXR3ZWVuIHRoZSBzdGFydC9leHBpcmF0aW9uIGRhdGVzIGZvciB0aGlzIHN1cnZleS5cclxuXHQgKi9cclxuXHRpc0FjdGl2ZUZvckRhdGUoZGF0ZTogRGF0ZSk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGFjdGl2YXRpb24gZXZlbnQgdGhhdCBzaG91bGQgYmUgcGx1bWJlZCB0aHJvdWdoIHRvIHRoZSBGbG9vZGdhdGVFbmdpbmUvU3VydmV5QWN0aXZpeXRMaXN0ZW5lci5cclxuXHQgKiBXaGVuIGFjdGl2YXRlZCwgdGhpcyBzdXJ2ZXkgc2hvdWxkIGJlIHNob3duIHRvIHRoZSB1c2VyLlxyXG5cdCAqL1xyXG5cdGdldEFjdGl2YXRpb25FdmVudCgpOiBJU3VydmV5RXZlbnQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIHByZWZlcnJlZCBsYXVuY2ggbWVjaGFuaXNtIGJhc2VkIG9uIHRoaXMgc3VydmV5J3MgZGF0YSBwYXlsb2FkLiAgVGhpcyBtYXkgb3IgbWF5IG5vdCBiZVxyXG5cdCAqIHJlc3BlY3RlZCBieSB0aGUgTGF1bmNoZXJGYWN0b3J5IGRlcGVuZGluZyBvbiB0aGUgcGxhdGZvcm0gYW5kIGltcGxlbWVudGF0aW9uLCBhbmQgaXMgc3RyaWN0bHkgY29uc2lkZXJlZFxyXG5cdCAqIGEgYmVoYXZpb3JhbCBoaW50XHJcblx0ICovXHJcblx0Z2V0UHJlZmVycmVkTGF1bmNoVHlwZSgpOiBJU3VydmV5SW5mby5MYXVuY2hUeXBlO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgYXJyYXlcclxuXHQgKi9cclxuXHRpc0FkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKGFkZGl0aW9uYWxEYXRhOiBJU3VydmV5SW5mby5BZGRpdGlvbmFsRGF0YVR5cGUpOiBib29sZWFuO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gdGhlIGxhdW5jaGVyIHR5cGUgc3RyaW5nXHJcblx0ICovXHJcblx0Z2V0TGF1bmNoZXJUeXBlKCk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogR2V0cyB0aGUgbWV0YWRhdGEgb2YgdGhlIHN1cnZleSwgdGhpcyBpcyBvcHRpb25hbCBidXQgaWYgYXZhaWxhYmxlIGl0IGNhbiBiZSB1c2VkIGJ5IGxhdW5jaGVyIHRvXHJcblx0ICogbWFrZSBhcHByb3ByaWF0ZSBkZWNpc2lvbnMgd2hpbGUgbGF1bmNoaW5nIGEgc3VyZmFjZS5cclxuXHQgKi9cclxuXHRnZXRNZXRhZGF0YSgpOiBJU3VydmV5TWV0YWRhdGE7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYnVzaW5lc3NMZXZlbFxyXG5cdCAqL1xyXG5cdGdldEJ1c2luZXNzTGV2ZWwoKTogSVN1cnZleUluZm8uQnVzaW5lc3NMZXZlbDtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBtYXhMYXVuY2hlc1xyXG5cdCAqL1xyXG5cdGdldE1heExhdW5jaGVzKCk6IG51bWJlcjtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBtYXhMYXVuY2hlcyBQZXIgc2Vzc2lvblxyXG5cdCAqL1xyXG5cdGdldE1heExhdW5jaGVzUGVyU2Vzc2lvbigpOiBudW1iZXI7XHJcbn1cclxuXHJcbm1vZHVsZSBJU3VydmV5SW5mbyB7XHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gTGF1bmNoVHlwZSB7XHJcblx0XHQvLyBObyBsYXVuY2ggdHlwZSBzcGVjaWZpZWQsIGRlZmVyIHRvIHRoZSBsYXVuY2hlciBmYWN0b3J5IGNvZGVcclxuXHRcdERlZmF1bHQgPSBcIkRlZmF1bHRcIixcclxuXHRcdC8vIFByZWZlciBhIG5vdGlmaWNhdGlvbi1iYXNlZCBsYXVuY2hlciAobGlrZSB0aGUgd2luZG93cyB0b2FzdCBsYXVuY2hlciB3aGVuIHByZXNlbnQpXHJcblx0XHROb3RpZmljYXRpb24gPSBcIk5vdGlmaWNhdGlvblwiLFxyXG5cdFx0Ly8gUHJlZmVyIGEgbW9kYWwtZGlhbG9nIGJhc2VkIGxhdW5jaGVyXHJcblx0XHRNb2RhbCA9IFwiTW9kYWxcIixcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBlbnVtIEJ1c2luZXNzTGV2ZWwge1xyXG5cdFx0Tm9uZSA9IDAsXHJcblx0XHRDcml0aWNhbCxcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIEFkZGl0aW9uYWxEYXRhVHlwZSB7XHJcblx0XHQvLyBSZXF1ZXN0IGVtYWlsIGFkZHJlc3NcclxuXHRcdEVtYWlsQWRkcmVzcyxcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBET01fVFlQRV9UQUdOQU1FID0gXCJUeXBlXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9UWVBFX1ZBTFVFID0gXCJTdXJ2ZXlcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lEX1RBR05BTUUgPSBcIlN1cnZleUlEXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fU1VSVkVZX0tFWU5BTUUgPSBcInN1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0lEX0tFWU5BTUUgPSBcInN1cnZleUlkXCI7XHJcbn1cclxuXHJcbmV4cG9ydCA9IElTdXJ2ZXlJbmZvO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ISurveyInfo.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/IndexedTracker.js":
/*!***************************************************!*\
  !*** ../FloodgateCore/dist/src/IndexedTracker.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IndexedTracker = void 0;\nvar IndexedTracker = /** @class */ (function () {\n    function IndexedTracker() {\n    }\n    return IndexedTracker;\n}());\nexports.IndexedTracker = IndexedTracker;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0luZGV4ZWRUcmFja2VyLnRzPzE5ZmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBR0E7SUFBQTtJQUlBLENBQUM7SUFBRCxxQkFBQztBQUFELENBQUM7QUFKWSx3Q0FBYyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0luZGV4ZWRUcmFja2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGl2aXR5VHJhY2tlciA9IHJlcXVpcmUoXCIuL0FjdGl2aXR5VHJhY2tlclwiKTtcclxuaW1wb3J0IElTdXJ2ZXkgPSByZXF1aXJlKFwiLi9BcGkvSVN1cnZleVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleGVkVHJhY2tlciB7XHJcblx0cHVibGljIGluZGV4OiBudW1iZXI7XHJcblx0cHVibGljIHN1cnZleUlkOiBzdHJpbmc7XHJcblx0cHVibGljIHRyYWNrZXI6IEFjdGl2aXR5VHJhY2tlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/IndexedTracker.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/StateProviderHelpers.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/StateProviderHelpers.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeAndUpdateSurveyActivationStats = exports.MergeAndUpdateCampaignStates = exports.MergeAndUpdateGovernedChannelStates = exports.makeSettingItemValue = exports.extractSettingItemValueSubString = exports.ItemCollection = void 0;\nvar SurveyStatCollectionActivation_1 = __webpack_require__(/*! ../src/SurveyStatCollectionActivation */ \"../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\");\nvar ItemCollection = /** @class */ (function () {\n    function ItemCollection() {\n        this.items = {};\n        this.itemCount = 0;\n    }\n    ItemCollection.prototype.add = function (key, value) {\n        if (!this.items[key]) {\n            this.itemCount++;\n        }\n        this.items[key] = value;\n    };\n    ItemCollection.prototype.find = function (key) {\n        return this.items[key];\n    };\n    ItemCollection.prototype.remove = function (key) {\n        var item = this.items[key];\n        if (item) {\n            delete this.items[key];\n            this.itemCount--;\n        }\n        return item;\n    };\n    ItemCollection.prototype.count = function () {\n        return this.itemCount;\n    };\n    return ItemCollection;\n}());\nexports.ItemCollection = ItemCollection;\nfunction extractSettingItemValueSubString(itemValue) {\n    if (!itemValue) {\n        return itemValue;\n    }\n    var beginPos = itemValue.indexOf(SETTING_DATA_OPEN_TAG) + SETTING_DATA_OPEN_TAG.length;\n    var endPos = itemValue.indexOf(SETTING_DATA_CLOSE_TAG);\n    if (beginPos < 0 || endPos < 0) {\n        return itemValue;\n    }\n    return itemValue.substring(beginPos, endPos);\n}\nexports.extractSettingItemValueSubString = extractSettingItemValueSubString;\nfunction makeSettingItemValue(value) {\n    if (!value) {\n        return SETTING_DATA_OPEN_TAG + SETTING_DATA_CLOSE_TAG;\n    }\n    return SETTING_DATA_OPEN_TAG + value + SETTING_DATA_CLOSE_TAG;\n}\nexports.makeSettingItemValue = makeSettingItemValue;\nfunction MergeAndUpdateGovernedChannelStates(previousStates, currentStates) {\n    var stateCollections = new ItemCollection();\n    // Todo: move the following into a generic method to be shared\n    if (!previousStates && !currentStates) {\n        return stateCollections;\n    }\n    if (!previousStates) {\n        stateCollections.add(0 /* Merged */, currentStates);\n        return stateCollections;\n    }\n    if (!currentStates) {\n        stateCollections.add(0 /* Merged */, previousStates);\n        stateCollections.add(1 /* ToBeUpdated */, previousStates);\n        return stateCollections;\n    }\n    var mergedStates = [];\n    var toBeUpdatedStates = [];\n    if (previousStates) {\n        previousStates.forEach(function (previousState) {\n            // find matching in current states\n            var pos = -1;\n            var currentState;\n            for (var i = 0; i < currentStates.length; i++) {\n                currentState = currentStates[i];\n                if (currentState.getType() === previousState.getType()) {\n                    pos = i;\n                    break;\n                }\n            }\n            // if previous state is not in current states\n            if (pos === -1) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n                return;\n            }\n            // if ActivationTimeUtc of previous is greater than current\n            if (previousState.getCooldownStartTime() > currentState.getCooldownStartTime()) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n            }\n            else {\n                // add current state to merged\n                mergedStates.push(currentState);\n            }\n            // remove state from current states\n            currentStates.splice(pos, 1);\n        });\n    }\n    // for the remaining current states\n    if (currentStates) {\n        currentStates.forEach(function (currentState) {\n            // add current state to merged\n            mergedStates.push(currentState);\n        });\n    }\n    stateCollections.add(0 /* Merged */, mergedStates);\n    if (toBeUpdatedStates.length > 0) {\n        stateCollections.add(1 /* ToBeUpdated */, toBeUpdatedStates);\n    }\n    return stateCollections;\n}\nexports.MergeAndUpdateGovernedChannelStates = MergeAndUpdateGovernedChannelStates;\nfunction MergeAndUpdateCampaignStates(previousStates, currentStates) {\n    var stateCollections = new ItemCollection();\n    if (!previousStates && !currentStates) {\n        return stateCollections;\n    }\n    if (!previousStates) {\n        stateCollections.add(0 /* Merged */, currentStates);\n        return stateCollections;\n    }\n    if (!currentStates) {\n        stateCollections.add(0 /* Merged */, previousStates);\n        stateCollections.add(1 /* ToBeUpdated */, previousStates);\n        return stateCollections;\n    }\n    var mergedStates = [];\n    var toBeUpdatedStates = [];\n    if (previousStates) {\n        previousStates.forEach(function (previousState) {\n            var current = new Date();\n            // find matching in current states\n            var pos = -1;\n            var currentState;\n            for (var i = 0; i < currentStates.length; i++) {\n                currentState = currentStates[i];\n                if (currentState.CampaignId === previousState.CampaignId) {\n                    pos = i;\n                    break;\n                }\n            }\n            // if previous state is not in current states\n            if (pos === -1) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n                return;\n            }\n            // if current state is in cooldown, add to merged list\n            if (currentState.LastCooldownEndTimeUtc > current) {\n                // add previous state to merged list\n                mergedStates.push(currentState);\n                // emove state from current states\n                currentStates.splice(pos, 1);\n                return;\n            }\n            // if previous state is in cooldown, add to merged and toUpdated lists\n            if (previousState.LastCooldownEndTimeUtc > current) {\n                // add previous state to merged list\n                mergedStates.push(previousState);\n                // add previous state to to-be-updated list\n                toBeUpdatedStates.push(previousState);\n                // emove state from current states\n                currentStates.splice(pos, 1);\n                return;\n            }\n            // add previous state to toUpdated and merged for the following two conditions:\n            //  1. previous cooldown time wins, or\n            //  2. cooldown times are the same and previous nomination wins\n            if (previousState.getCooldownStartDate() > currentState.getCooldownStartDate()\n                || (previousState.getCooldownStartDate() === currentState.getCooldownStartDate()\n                    && previousState.LastNominationTimeUtc > currentState.LastNominationTimeUtc)) {\n                mergedStates.push(previousState);\n                toBeUpdatedStates.push(previousState);\n            }\n            else {\n                // add current state to merged\n                mergedStates.push(currentState);\n            }\n            // remove state from current states\n            currentStates.splice(pos, 1);\n        });\n    }\n    // for the remaining current states\n    if (currentStates) {\n        currentStates.forEach(function (current) {\n            // add current state to merged\n            mergedStates.push(current);\n        });\n    }\n    stateCollections.add(0 /* Merged */, mergedStates);\n    if (toBeUpdatedStates.length > 0) {\n        stateCollections.add(1 /* ToBeUpdated */, toBeUpdatedStates);\n    }\n    return stateCollections;\n}\nexports.MergeAndUpdateCampaignStates = MergeAndUpdateCampaignStates;\nfunction MergeAndUpdateSurveyActivationStats(previousStats, currentStats) {\n    var statsCollections = new ItemCollection();\n    // Handle previousStats and/or currentStats equal to null\n    if (!previousStats && !currentStats) {\n        return statsCollections;\n    }\n    if (!previousStats) {\n        statsCollections.add(0 /* Merged */, currentStats);\n        return statsCollections;\n    }\n    if (!currentStats) {\n        statsCollections.add(0 /* Merged */, previousStats);\n        statsCollections.add(1 /* ToBeUpdated */, previousStats);\n        return statsCollections;\n    }\n    // Enumerate preivous stats\n    var mergedStats = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n    var toBeUpdatedStats = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n    var previousStatsDictionary = previousStats.getStats();\n    var currentStatsDictionary = currentStats.getStats();\n    for (var surveyId in previousStatsDictionary) {\n        if (previousStatsDictionary.hasOwnProperty(surveyId)) {\n            // if an updated stat is not found\n            var currentActivationStats = currentStatsDictionary[surveyId];\n            if (!currentActivationStats) {\n                // add to merged collection\n                mergedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                // add to-be-updated collection\n                toBeUpdatedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                continue;\n            }\n            // if previous stat has higher activation time\n            var previousActivationStats = previousStatsDictionary[surveyId];\n            if (previousActivationStats.ActivationTimeUtc > currentActivationStats.ActivationTimeUtc) {\n                // add to merged collection\n                mergedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                // add to-be-updated collection\n                toBeUpdatedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n            }\n            else {\n                // add to current stat merged collection\n                mergedStats.addStats(surveyId, currentStatsDictionary[surveyId]);\n            }\n            // delete from stats\n            delete currentStatsDictionary[surveyId];\n        }\n    }\n    // merge any remaining stats\n    for (var surveyId in currentStatsDictionary) {\n        if (currentStatsDictionary.hasOwnProperty(surveyId)) {\n            mergedStats.addStats(surveyId, currentStatsDictionary[surveyId]);\n        }\n    }\n    // always return merged list\n    statsCollections.add(0 /* Merged */, mergedStats);\n    // since dictionaries don't have an empty check, enumerate the  first entry to check for non-empty\n    var toBeUpdatedStatsDictionary = toBeUpdatedStats.getStats();\n    for (var toBeUpdated in toBeUpdatedStatsDictionary) {\n        if (toBeUpdatedStatsDictionary.hasOwnProperty(toBeUpdated)) {\n            // not empty, return to-be-updated\n            statsCollections.add(1 /* ToBeUpdated */, toBeUpdatedStats);\n            break;\n        }\n    }\n    return statsCollections;\n}\nexports.MergeAndUpdateSurveyActivationStats = MergeAndUpdateSurveyActivationStats;\nvar SETTING_DATA_OPEN_TAG = \"<data>\";\nvar SETTING_DATA_CLOSE_TAG = \"</data>\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N0YXRlUHJvdmlkZXJIZWxwZXJzLnRzPzQwYmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUtBQThHO0FBb0I5RztJQUFBO1FBQ1MsVUFBSyxHQUF5QixFQUFFLENBQUM7UUFDakMsY0FBUyxHQUFXLENBQUMsQ0FBQztJQTJCL0IsQ0FBQztJQXpCTyw0QkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLEtBQVE7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVNLDZCQUFJLEdBQVgsVUFBWSxHQUFXO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRU0sK0JBQU0sR0FBYixVQUFjLEdBQVc7UUFDeEIsSUFBTSxJQUFJLEdBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVoQyxJQUFJLElBQUksRUFBRTtZQUNULE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDakI7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSw4QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3ZCLENBQUM7SUFDRixxQkFBQztBQUFELENBQUM7QUE3Qlksd0NBQWM7QUErQjNCLFNBQWdCLGdDQUFnQyxDQUFDLFNBQWlCO0lBQ2pFLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDZixPQUFPLFNBQVMsQ0FBQztLQUNqQjtJQUVELElBQU0sUUFBUSxHQUFXLFNBQVMsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsR0FBRyxx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QUE3RUQsa0ZBNkVDO0FBRUQsSUFBTSxxQkFBcUIsR0FBRyxRQUFRLENBQUM7QUFDdkMsSUFBTSxzQkFBc0IsR0FBRyxTQUFTLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdGF0ZVByb3ZpZGVySGVscGVycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1cnZleUFjdGl2YXRpb25TdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIH0gZnJvbSBcIi4uL3NyYy9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25TdGF0ZSB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJRGljdGlvbmFyeSB9IGZyb20gXCIuL0NvbW1vblwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxTdGF0ZSB9IGZyb20gXCIuL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHRoZSBzdGF0ZSBsaXN0IHR5cGVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW51bSBTdGF0ZUxpc3RUeXBlIHtcclxuXHRNZXJnZWQsXHJcblx0VG9CZVVwZGF0ZWQsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUtleWVkQ29sbGVjdGlvbjxUPiB7XHJcblx0YWRkKGtleTogbnVtYmVyLCB2YWx1ZTogVCk7XHJcblx0ZmluZChrZXk6IG51bWJlcik6IFQ7XHJcblx0cmVtb3ZlKGtleTogbnVtYmVyKTtcclxuXHRjb3VudCgpOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJdGVtQ29sbGVjdGlvbjxUPiBpbXBsZW1lbnRzIElLZXllZENvbGxlY3Rpb248VD4ge1xyXG5cdHByaXZhdGUgaXRlbXM6IHsgW2tleTogbnVtYmVyXTogVCB9ID0ge307XHJcblx0cHJpdmF0ZSBpdGVtQ291bnQ6IG51bWJlciA9IDA7XHJcblxyXG5cdHB1YmxpYyBhZGQoa2V5OiBudW1iZXIsIHZhbHVlOiBUKSB7XHJcblx0XHRpZiAoIXRoaXMuaXRlbXNba2V5XSkge1xyXG5cdFx0XHR0aGlzLml0ZW1Db3VudCsrO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pdGVtc1trZXldID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZmluZChrZXk6IG51bWJlcik6IFQge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXRlbXNba2V5XTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyByZW1vdmUoa2V5OiBudW1iZXIpOiBUIHtcclxuXHRcdGNvbnN0IGl0ZW06IFQgPSB0aGlzLml0ZW1zW2tleV07XHJcblxyXG5cdFx0aWYgKGl0ZW0pIHtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuaXRlbXNba2V5XTtcclxuXHRcdFx0dGhpcy5pdGVtQ291bnQtLTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjb3VudCgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXRlbUNvdW50O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKGl0ZW1WYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoIWl0ZW1WYWx1ZSkge1xyXG5cdFx0cmV0dXJuIGl0ZW1WYWx1ZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGJlZ2luUG9zOiBudW1iZXIgPSBpdGVtVmFsdWUuaW5kZXhPZihTRVRUSU5HX0RBVEFfT1BFTl9UQUcpICsgU0VUVElOR19EQVRBX09QRU5fVEFHLmxlbmd0aDtcclxuXHRjb25zdCBlbmRQb3M6IG51bWJlciA9IGl0ZW1WYWx1ZS5pbmRleE9mKFNFVFRJTkdfREFUQV9DTE9TRV9UQUcpO1xyXG5cclxuXHRpZiAoYmVnaW5Qb3MgPCAwIHx8IGVuZFBvcyA8IDApIHtcclxuXHRcdHJldHVybiBpdGVtVmFsdWU7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaXRlbVZhbHVlLnN1YnN0cmluZyhiZWdpblBvcywgZW5kUG9zKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTZXR0aW5nSXRlbVZhbHVlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdGlmICghdmFsdWUpIHtcclxuXHRcdHJldHVybiBTRVRUSU5HX0RBVEFfT1BFTl9UQUcgKyBTRVRUSU5HX0RBVEFfQ0xPU0VfVEFHO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIFNFVFRJTkdfREFUQV9PUEVOX1RBRyArIHZhbHVlICsgU0VUVElOR19EQVRBX0NMT1NFX1RBRztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHByZXZpb3VzU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdLFxyXG5cdGN1cnJlbnRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiBJS2V5ZWRDb2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+IHtcclxuXHRjb25zdCBzdGF0ZUNvbGxlY3Rpb25zOiBJS2V5ZWRDb2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+ID0gbmV3IEl0ZW1Db2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+KCk7XHJcblxyXG5cdC8vIFRvZG86IG1vdmUgdGhlIGZvbGxvd2luZyBpbnRvIGEgZ2VuZXJpYyBtZXRob2QgdG8gYmUgc2hhcmVkXHJcblx0aWYgKCFwcmV2aW91c1N0YXRlcyAmJiAhY3VycmVudFN0YXRlcykge1xyXG5cdFx0cmV0dXJuIHN0YXRlQ29sbGVjdGlvbnM7XHJcblx0fVxyXG5cclxuXHRpZiAoIXByZXZpb3VzU3RhdGVzKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCwgY3VycmVudFN0YXRlcyk7XHJcblx0XHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghY3VycmVudFN0YXRlcykge1xyXG5cdFx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIHByZXZpb3VzU3RhdGVzKTtcclxuXHRcdHN0YXRlQ29sbGVjdGlvbnMuYWRkKFN0YXRlTGlzdFR5cGUuVG9CZVVwZGF0ZWQsIHByZXZpb3VzU3RhdGVzKTtcclxuXHRcdHJldHVybiBzdGF0ZUNvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbWVyZ2VkU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBbXTtcclxuXHJcblx0aWYgKHByZXZpb3VzU3RhdGVzKSB7XHJcblx0XHRwcmV2aW91c1N0YXRlcy5mb3JFYWNoKChwcmV2aW91c1N0YXRlKSA9PiB7XHJcblx0XHRcdC8vIGZpbmQgbWF0Y2hpbmcgaW4gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0bGV0IHBvcyA9IC0xO1xyXG5cdFx0XHRsZXQgY3VycmVudFN0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlc1tpXTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFN0YXRlLmdldFR5cGUoKSA9PT0gcHJldmlvdXNTdGF0ZS5nZXRUeXBlKCkpIHtcclxuXHRcdFx0XHRcdHBvcyA9IGk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHByZXZpb3VzIHN0YXRlIGlzIG5vdCBpbiBjdXJyZW50IHN0YXRlc1xyXG5cdFx0XHRpZiAocG9zID09PSAtMSkge1xyXG5cdFx0XHRcdC8vIGFkZCBwcmV2aW91cyBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvVXBkYXRlZFxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgQWN0aXZhdGlvblRpbWVVdGMgb2YgcHJldmlvdXMgaXMgZ3JlYXRlciB0aGFuIGN1cnJlbnRcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydFRpbWUoKSA+IGN1cnJlbnRTdGF0ZS5nZXRDb29sZG93blN0YXJ0VGltZSgpKSB7XHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKHByZXZpb3VzU3RhdGUpO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gdG9VcGRhdGVkXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgY3VycmVudCBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChjdXJyZW50U3RhdGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyByZW1vdmUgc3RhdGUgZnJvbSBjdXJyZW50IHN0YXRlc1xyXG5cdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBmb3IgdGhlIHJlbWFpbmluZyBjdXJyZW50IHN0YXRlc1xyXG5cdGlmIChjdXJyZW50U3RhdGVzKSB7XHJcblx0XHRjdXJyZW50U3RhdGVzLmZvckVhY2goKGN1cnJlbnRTdGF0ZSkgPT4ge1xyXG5cdFx0XHQvLyBhZGQgY3VycmVudCBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2goY3VycmVudFN0YXRlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRlcyk7XHJcblxyXG5cdGlmICh0b0JlVXBkYXRlZFN0YXRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCB0b0JlVXBkYXRlZFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlQ2FtcGFpZ25TdGF0ZXMocHJldmlvdXNTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSxcclxuXHRjdXJyZW50U3RhdGVzOiBDYW1wYWlnblN0YXRlW10pOiBJS2V5ZWRDb2xsZWN0aW9uPENhbXBhaWduU3RhdGVbXT4ge1xyXG5cdGNvbnN0IHN0YXRlQ29sbGVjdGlvbnM6IElLZXllZENvbGxlY3Rpb248Q2FtcGFpZ25TdGF0ZVtdPiA9IG5ldyBJdGVtQ29sbGVjdGlvbjxDYW1wYWlnblN0YXRlW10+KCk7XHJcblxyXG5cdGlmICghcHJldmlvdXNTdGF0ZXMgJiYgIWN1cnJlbnRTdGF0ZXMpIHtcclxuXHRcdHJldHVybiBzdGF0ZUNvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0aWYgKCFwcmV2aW91c1N0YXRlcykge1xyXG5cdFx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIGN1cnJlbnRTdGF0ZXMpO1xyXG5cdFx0cmV0dXJuIHN0YXRlQ29sbGVjdGlvbnM7XHJcblx0fVxyXG5cclxuXHRpZiAoIWN1cnJlbnRTdGF0ZXMpIHtcclxuXHRcdHN0YXRlQ29sbGVjdGlvbnMuYWRkKFN0YXRlTGlzdFR5cGUuTWVyZ2VkLCBwcmV2aW91c1N0YXRlcyk7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCBwcmV2aW91c1N0YXRlcyk7XHJcblx0XHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGNvbnN0IG1lcmdlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gW107XHJcblx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFtdO1xyXG5cclxuXHRpZiAocHJldmlvdXNTdGF0ZXMpIHtcclxuXHRcdHByZXZpb3VzU3RhdGVzLmZvckVhY2goKHByZXZpb3VzU3RhdGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudCA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0XHQvLyBmaW5kIG1hdGNoaW5nIGluIGN1cnJlbnQgc3RhdGVzXHJcblx0XHRcdGxldCBwb3MgPSAtMTtcclxuXHRcdFx0bGV0IGN1cnJlbnRTdGF0ZTogQ2FtcGFpZ25TdGF0ZTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlc1tpXTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFN0YXRlLkNhbXBhaWduSWQgPT09IHByZXZpb3VzU3RhdGUuQ2FtcGFpZ25JZCkge1xyXG5cdFx0XHRcdFx0cG9zID0gaTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgcHJldmlvdXMgc3RhdGUgaXMgbm90IGluIGN1cnJlbnQgc3RhdGVzXHJcblx0XHRcdGlmIChwb3MgPT09IC0xKSB7XHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKHByZXZpb3VzU3RhdGUpO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gdG9VcGRhdGVkXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpZiBjdXJyZW50IHN0YXRlIGlzIGluIGNvb2xkb3duLCBhZGQgdG8gbWVyZ2VkIGxpc3RcclxuXHRcdFx0aWYgKGN1cnJlbnRTdGF0ZS5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID4gY3VycmVudCkge1xyXG5cdFx0XHRcdC8vIGFkZCBwcmV2aW91cyBzdGF0ZSB0byBtZXJnZWQgbGlzdFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHByZXZpb3VzIHN0YXRlIGlzIGluIGNvb2xkb3duLCBhZGQgdG8gbWVyZ2VkIGFuZCB0b1VwZGF0ZWQgbGlzdHNcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuTGFzdENvb2xkb3duRW5kVGltZVV0YyA+IGN1cnJlbnQpIHtcclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gbWVyZ2VkIGxpc3RcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvLWJlLXVwZGF0ZWQgbGlzdFxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvVXBkYXRlZCBhbmQgbWVyZ2VkIGZvciB0aGUgZm9sbG93aW5nIHR3byBjb25kaXRpb25zOlxyXG5cdFx0XHQvLyAgMS4gcHJldmlvdXMgY29vbGRvd24gdGltZSB3aW5zLCBvclxyXG5cdFx0XHQvLyAgMi4gY29vbGRvd24gdGltZXMgYXJlIHRoZSBzYW1lIGFuZCBwcmV2aW91cyBub21pbmF0aW9uIHdpbnNcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydERhdGUoKSA+IGN1cnJlbnRTdGF0ZS5nZXRDb29sZG93blN0YXJ0RGF0ZSgpXHJcblx0XHRcdFx0fHwgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydERhdGUoKSA9PT0gY3VycmVudFN0YXRlLmdldENvb2xkb3duU3RhcnREYXRlKClcclxuXHRcdFx0XHRcdCYmIHByZXZpb3VzU3RhdGUuTGFzdE5vbWluYXRpb25UaW1lVXRjID4gY3VycmVudFN0YXRlLkxhc3ROb21pbmF0aW9uVGltZVV0YylcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gYWRkIGN1cnJlbnQgc3RhdGUgdG8gbWVyZ2VkXHJcblx0XHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2goY3VycmVudFN0YXRlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0Y3VycmVudFN0YXRlcy5zcGxpY2UocG9zLCAxKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gZm9yIHRoZSByZW1haW5pbmcgY3VycmVudCBzdGF0ZXNcclxuXHRpZiAoY3VycmVudFN0YXRlcykge1xyXG5cdFx0Y3VycmVudFN0YXRlcy5mb3JFYWNoKChjdXJyZW50KSA9PiB7XHJcblx0XHRcdC8vIGFkZCBjdXJyZW50IHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChjdXJyZW50KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRlcyk7XHJcblxyXG5cdGlmICh0b0JlVXBkYXRlZFN0YXRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCB0b0JlVXBkYXRlZFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHByZXZpb3VzU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbixcclxuXHRjdXJyZW50U3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IElLZXllZENvbGxlY3Rpb248U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uPiB7XHJcblxyXG5cdGNvbnN0IHN0YXRzQ29sbGVjdGlvbnM6IElLZXllZENvbGxlY3Rpb248U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uPiA9IG5ldyBJdGVtQ29sbGVjdGlvbjxTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24+KCk7XHJcblxyXG5cdC8vIEhhbmRsZSBwcmV2aW91c1N0YXRzIGFuZC9vciBjdXJyZW50U3RhdHMgZXF1YWwgdG8gbnVsbFxyXG5cdGlmICghcHJldmlvdXNTdGF0cyAmJiAhY3VycmVudFN0YXRzKSB7XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghcHJldmlvdXNTdGF0cykge1xyXG5cdFx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIGN1cnJlbnRTdGF0cyk7XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghY3VycmVudFN0YXRzKSB7XHJcblx0XHRzdGF0c0NvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCwgcHJldmlvdXNTdGF0cyk7XHJcblx0XHRzdGF0c0NvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCBwcmV2aW91c1N0YXRzKTtcclxuXHRcdHJldHVybiBzdGF0c0NvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0Ly8gRW51bWVyYXRlIHByZWl2b3VzIHN0YXRzXHJcblx0Y29uc3QgbWVyZ2VkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblxyXG5cdGNvbnN0IHByZXZpb3VzU3RhdHNEaWN0aW9uYXJ5OiBJRGljdGlvbmFyeTxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+ID0gcHJldmlvdXNTdGF0cy5nZXRTdGF0cygpO1xyXG5cdGNvbnN0IGN1cnJlbnRTdGF0c0RpY3Rpb25hcnk6IElEaWN0aW9uYXJ5PFN1cnZleUFjdGl2YXRpb25TdGF0cz4gPSBjdXJyZW50U3RhdHMuZ2V0U3RhdHMoKTtcclxuXHJcblx0Zm9yIChjb25zdCBzdXJ2ZXlJZCBpbiBwcmV2aW91c1N0YXRzRGljdGlvbmFyeSkge1xyXG5cdFx0aWYgKHByZXZpb3VzU3RhdHNEaWN0aW9uYXJ5Lmhhc093blByb3BlcnR5KHN1cnZleUlkKSkge1xyXG5cdFx0XHQvLyBpZiBhbiB1cGRhdGVkIHN0YXQgaXMgbm90IGZvdW5kXHJcblx0XHRcdGNvbnN0IGN1cnJlbnRBY3RpdmF0aW9uU3RhdHM6IFN1cnZleUFjdGl2YXRpb25TdGF0cyA9IGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdO1xyXG5cdFx0XHRpZiAoIWN1cnJlbnRBY3RpdmF0aW9uU3RhdHMpIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gbWVyZ2VkIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRtZXJnZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHQvLyBhZGQgdG8tYmUtdXBkYXRlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBwcmV2aW91cyBzdGF0IGhhcyBoaWdoZXIgYWN0aXZhdGlvbiB0aW1lXHJcblx0XHRcdGNvbnN0IHByZXZpb3VzQWN0aXZhdGlvblN0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBwcmV2aW91c1N0YXRzRGljdGlvbmFyeVtzdXJ2ZXlJZF07XHJcblx0XHRcdGlmIChwcmV2aW91c0FjdGl2YXRpb25TdGF0cy5BY3RpdmF0aW9uVGltZVV0YyA+IGN1cnJlbnRBY3RpdmF0aW9uU3RhdHMuQWN0aXZhdGlvblRpbWVVdGMpIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gbWVyZ2VkIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRtZXJnZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHQvLyBhZGQgdG8tYmUtdXBkYXRlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gY3VycmVudCBzdGF0IG1lcmdlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0bWVyZ2VkU3RhdHMuYWRkU3RhdHMoc3VydmV5SWQsIGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVsZXRlIGZyb20gc3RhdHNcclxuXHRcdFx0ZGVsZXRlIGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gbWVyZ2UgYW55IHJlbWFpbmluZyBzdGF0c1xyXG5cdGZvciAoY29uc3Qgc3VydmV5SWQgaW4gY3VycmVudFN0YXRzRGljdGlvbmFyeSkge1xyXG5cdFx0aWYgKGN1cnJlbnRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdG1lcmdlZFN0YXRzLmFkZFN0YXRzKHN1cnZleUlkLCBjdXJyZW50U3RhdHNEaWN0aW9uYXJ5W3N1cnZleUlkXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBhbHdheXMgcmV0dXJuIG1lcmdlZCBsaXN0XHJcblx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRzKTtcclxuXHJcblx0Ly8gc2luY2UgZGljdGlvbmFyaWVzIGRvbid0IGhhdmUgYW4gZW1wdHkgY2hlY2ssIGVudW1lcmF0ZSB0aGUgIGZpcnN0IGVudHJ5IHRvIGNoZWNrIGZvciBub24tZW1wdHlcclxuXHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzRGljdGlvbmFyeTogSURpY3Rpb25hcnk8U3VydmV5QWN0aXZhdGlvblN0YXRzPiA9IHRvQmVVcGRhdGVkU3RhdHMuZ2V0U3RhdHMoKTtcclxuXHRmb3IgKGNvbnN0IHRvQmVVcGRhdGVkIGluIHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5KSB7XHJcblx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkodG9CZVVwZGF0ZWQpKSB7XHJcblx0XHRcdC8vIG5vdCBlbXB0eSwgcmV0dXJuIHRvLWJlLXVwZGF0ZWRcclxuXHRcdFx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCwgdG9CZVVwZGF0ZWRTdGF0cyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHN0YXRzQ29sbGVjdGlvbnM7XHJcbn1cclxuXHJcbmNvbnN0IFNFVFRJTkdfREFUQV9PUEVOX1RBRyA9IFwiPGRhdGE+XCI7XHJcbmNvbnN0IFNFVFRJTkdfREFUQV9DTE9TRV9UQUcgPSBcIjwvZGF0YT5cIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/StateProviderHelpers.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyActivityListener.js":
/*!***********************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyActivityListener.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ActivityTracker = __webpack_require__(/*! ./ActivityTracker */ \"../FloodgateCore/dist/src/ActivityTracker.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar IndexedTracker_1 = __webpack_require__(/*! ./IndexedTracker */ \"../FloodgateCore/dist/src/IndexedTracker.js\");\nvar SurveyStatCollectionEventActivity_1 = __webpack_require__(/*! ./SurveyStatCollectionEventActivity */ \"../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar queuedActivities = [];\nvar pendingActivityCount = 0;\nvar previousTrackedActivityMap = {};\n/**\n * This class tracks log calls against named activity strings (matched on strict case-sensitive equality)\n * and calls the provided callback when all activity thresholds for a given survey have been crossed\n */\nvar SurveyActivityListener = /** @class */ (function () {\n    function SurveyActivityListener(callback, loggerCallback) {\n        // Save incoming activity context data in a dictionary with SurveyID as key, activity data array as value\n        this.activityContext = {};\n        if (!callback) {\n            throw new Error(\"callback must not be null\");\n        }\n        this.trackedActivityMap = {};\n        this.callback = callback;\n        this.loggerCallback = loggerCallback;\n    }\n    SurveyActivityListener.resetSessionActivity = function () {\n        previousTrackedActivityMap = {};\n    };\n    SurveyActivityListener.prototype.logActivity = function (activityName, increment, context) {\n        if (increment === void 0) { increment = 1; }\n        this.logActivity_private(activityName, 0 /* Increment */, increment, null, context);\n    };\n    SurveyActivityListener.prototype.logActivityStartTime = function (activityName, startTime) {\n        this.logActivity_private(activityName, 1 /* StartTime */, 0, startTime, null);\n    };\n    SurveyActivityListener.prototype.logActivityStopTime = function (activityName, stopTime) {\n        this.logActivity_private(activityName, 2 /* StopTime */, 0, stopTime, null);\n    };\n    SurveyActivityListener.prototype.SetActivityTrackingContracts = function (activityTrackingContracts, baseline) {\n        if (baseline === void 0) { baseline = new SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity(); }\n        var duplicateCounter = 0;\n        if (!activityTrackingContracts || activityTrackingContracts.length === 0 || !baseline) {\n            return;\n        }\n        // Populate a new map based on the passed in surveys, but propagating and tracking activity counts\n        // we may have seen against those events\n        // NOTE: We will lose activity counts for survey events that are no longer relevant.\n        var newMap = {};\n        var trackedSurveyIds = [];\n        for (var _i = 0, activityTrackingContracts_1 = activityTrackingContracts; _i < activityTrackingContracts_1.length; _i++) {\n            var activityTrackingContract = activityTrackingContracts_1[_i];\n            var trackingSet = activityTrackingContract.trackingSet;\n            // Added to the new set to make sure they are not duplicated. Based on MSO.\n            if (trackedSurveyIds.indexOf(activityTrackingContract.surveyId) === -1) {\n                trackedSurveyIds.push(activityTrackingContract.surveyId);\n            }\n            else {\n                // Duplicate surveyId being added, count it for the log.\n                duplicateCounter++;\n                continue;\n            }\n            // At this point, the survey's activities are safe to add.\n            // Set up the structures we need to transfer baseline counts (from previous sessions) or current counts (from previous trackers)\n            // Both vectors must be sorted in the same order as the trackingSet.List items\n            var baselineStats = baseline.getBySurveyId(activityTrackingContract.surveyId);\n            var baselineCounts = [trackingSet.getList().length];\n            var currentIndexedTrackers = new Array(trackingSet.getList().length);\n            var currentBaselineIndex = 0;\n            var currentIndex = 0;\n            for (var _a = 0, _b = trackingSet.getList(); _a < _b.length; _a++) {\n                var trackingData = _b[_a];\n                // Baseline stats count is 0 for events with \"IsAggregate = false\"\n                baselineCounts[currentIndex] = 0;\n                if (trackingData.getIsAggregate() && baselineStats && currentBaselineIndex < baselineStats.Counts.length) {\n                    baselineCounts[currentIndex] = baselineStats.Counts[currentBaselineIndex++];\n                }\n                // Session stats may be available in the previous trackedActivityMap\n                // Transfer the old \"current session\" count to the new tracker\n                // Is set to null if not available\n                if (previousTrackedActivityMap[trackingData.getActivity()]) {\n                    for (var _c = 0, _d = previousTrackedActivityMap[trackingData.getActivity()]; _c < _d.length; _c++) {\n                        var tracker = _d[_c];\n                        if (tracker.surveyId === activityTrackingContract.surveyId) {\n                            currentIndexedTrackers[currentIndex] = tracker;\n                            break;\n                        }\n                    }\n                }\n                currentIndex++;\n            }\n            // Make a new tracker and init the counts appropriately.\n            var newTracker = new ActivityTracker(trackingSet);\n            // If in a future change we start keeping trackers registered past activation, this will change\n            newTracker.initCounts(baselineCounts, currentIndexedTrackers, false /*wasActivatedThisSession*/);\n            // Setup the indexed trackers\n            for (var _e = 0, _f = newTracker.generateActivityIndexList(); _e < _f.length; _e++) {\n                var activityIndex = _f[_e];\n                var indexedTracker = new IndexedTracker_1.IndexedTracker();\n                indexedTracker.index = activityIndex.index;\n                indexedTracker.surveyId = activityTrackingContract.surveyId;\n                indexedTracker.tracker = newTracker;\n                if (!newMap[activityIndex.activity]) {\n                    newMap[activityIndex.activity] = [];\n                }\n                // Register the new tracker in our new map\n                newMap[activityIndex.activity].push(indexedTracker);\n            }\n        }\n        if (duplicateCounter > 0) {\n            var telemetryLogger = this.loggerCallback && this.loggerCallback();\n            if (telemetryLogger) {\n                telemetryLogger.log_Error(Constants_1.TelemetryEvent.SurveyActivity.SetActivityTrackingContracts.DuplicateSurveyID, \"Duplicate surveyId passed in activityTrackingContracts. Duplicate count: \" + duplicateCounter);\n            }\n        }\n        // Set the new map in place of the old\n        this.copyObject(this.trackedActivityMap, newMap);\n    };\n    SurveyActivityListener.prototype.clearSurveys = function () {\n        var _this = this;\n        Object.getOwnPropertyNames(this.trackedActivityMap).forEach(function (key) {\n            delete _this.trackedActivityMap[key];\n        });\n    };\n    SurveyActivityListener.prototype.saveSessionTrackingActivity = function (activity) {\n        // Set the new activity in place of the old\n        previousTrackedActivityMap[activity] = this.trackedActivityMap[activity];\n    };\n    // Get the indexedTracker that corresponds to the SurveyID and return that count. otherwise return 0.\n    SurveyActivityListener.prototype.getCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.getCount(indexedTracker.index);\n    };\n    SurveyActivityListener.prototype.getSessionCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.getSessionCount(indexedTracker.index);\n    };\n    /**\n     * An atomic get-and-set method.  Returns the current SessionCount, resetting it to zero and adding it into the established baseline\n     */\n    SurveyActivityListener.prototype.moveSessionCountIntoBaseCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.moveSessionCountIntoBaseCount(indexedTracker.index);\n    };\n    SurveyActivityListener.prototype.getSurveyIds = function (activity) {\n        if (Utils_1.isNOU(activity)) {\n            return undefined;\n        }\n        var indexedTrackers = this.trackedActivityMap[activity];\n        if (!indexedTrackers) {\n            return undefined;\n        }\n        var surveyIds = indexedTrackers.map(function (indexedTracker) { return indexedTracker.surveyId; });\n        return surveyIds;\n    };\n    SurveyActivityListener.prototype.setCallback = function (callback) {\n        this.callback = callback;\n    };\n    SurveyActivityListener.prototype.UpdateActivityTrackingContracts = function (surveyList) {\n        if (Utils_1.isNOU(surveyList) || Object.keys(surveyList).length === 0) {\n            this.clearSurveys();\n            return;\n        }\n        for (var key in this.trackedActivityMap) {\n            if (this.trackedActivityMap.hasOwnProperty(key)) {\n                var tracker = this.trackedActivityMap[key];\n                // loop through tracker and remove the ones not associate with given surveys\n                for (var i = tracker.length - 1; i >= 0; --i) {\n                    if (surveyList.hasOwnProperty(tracker[i].surveyId)) {\n                        continue;\n                    }\n                    tracker.splice(i, 1);\n                }\n            }\n        }\n    };\n    SurveyActivityListener.prototype.getIndexedTracker = function (activity, surveyId) {\n        var indexedTrackers = this.trackedActivityMap[activity];\n        if (!indexedTrackers) {\n            return undefined;\n        }\n        var indexedTracker;\n        for (var _i = 0, indexedTrackers_1 = indexedTrackers; _i < indexedTrackers_1.length; _i++) {\n            var tracker = indexedTrackers_1[_i];\n            if (tracker.surveyId === surveyId) {\n                indexedTracker = tracker;\n                break;\n            }\n        }\n        return indexedTracker;\n    };\n    SurveyActivityListener.prototype.resetQueuedActivities = function () {\n        queuedActivities = [];\n    };\n    SurveyActivityListener.prototype.logActivity_private = function (activityName, logType, increment, timestamp, context) {\n        var _this = this;\n        if (this.callback && !this.callback.shouldAcceptActivity(activityName)) {\n            pendingActivityCount++;\n            if (queuedActivities.length < SurveyActivityListener.MaxPendingActivitiesQueueSize) {\n                queuedActivities.push({ activityName: activityName, logType: logType, increment: increment, timestamp: timestamp });\n            }\n        }\n        // Count any activities that are posted before 'FloodgateFirstStart' activity happens\n        if (activityName === SurveyActivityListener.FloodgateStartActivityName) {\n            if (pendingActivityCount > 0) {\n                // Get the activity names of the queued activities for telemetry, send only first 25.\n                var activityNames = queuedActivities.slice(0, 25).map(function (queuedActivity) { return queuedActivity.activityName; });\n                var telemetryLogger = this.loggerCallback && this.loggerCallback();\n                if (telemetryLogger) {\n                    // Sampling this telemetry event to 5%\n                    telemetryLogger.log_Event(Constants_1.TelemetryEvent.SurveyActivity.LogActivity.EventsReprocessed, {\n                        ActivityNames: JSON.stringify(activityNames),\n                        Count: queuedActivities.length,\n                        Dropped: pendingActivityCount - queuedActivities.length,\n                    }, 0.05);\n                }\n                // replay all the queued activities one by one as the floodgate engine has started now\n                queuedActivities.map(function (queuedActivity) { return _this.logActivity_core(queuedActivity.activityName, queuedActivity.logType, queuedActivity.increment, queuedActivity.timestamp, context); });\n            }\n            pendingActivityCount = 0;\n            this.resetQueuedActivities();\n        }\n        this.logActivity_core(activityName, logType, increment, timestamp, context);\n    };\n    SurveyActivityListener.prototype.logActivity_core = function (activityName, logType, increment, timestamp, context) {\n        var indexedTrackers = this.trackedActivityMap[activityName];\n        if (!indexedTrackers || indexedTrackers.length === 0) {\n            return;\n        }\n        var indices = [];\n        // If we have more than one tracker shuffle trackers to randomize which is evaluated first\n        if (indexedTrackers.length > 1) {\n            indices = new Array(indexedTrackers.length);\n            for (var i = 0; i < indices.length; i++) {\n                indices[i] = i;\n            }\n            indices = Utils_1.fyShuffle(indices); // shuffle and reassign\n        }\n        else {\n            indices.push(0); // just have a zero. Shuffling is not needed.\n        }\n        // Loop through trackers in shuffled order\n        for (var _i = 0, indices_1 = indices; _i < indices_1.length; _i++) {\n            var index = indices_1[_i];\n            var tracker = indexedTrackers[index];\n            switch (logType) {\n                case 1 /* StartTime */: {\n                    tracker.tracker.startTime(tracker.index, timestamp);\n                    continue; // Look at the next tracker. Increment not needed.\n                }\n                case 2 /* StopTime */: {\n                    increment = tracker.tracker.stopTime(tracker.index, timestamp);\n                    // fall through to increment the activity as well.\n                }\n                case 0 /* Increment */: {\n                    break;\n                }\n                default: {\n                    continue;\n                }\n            }\n            if (context) {\n                var trackerSurveyId = tracker.surveyId;\n                this.activityContext[trackerSurveyId] = this.activityContext[trackerSurveyId] || [];\n                this.activityContext[trackerSurveyId].push({ activityName: activityName, context: context });\n            }\n            var result = tracker.tracker.incrementActivity(tracker.index, increment);\n            if (result === 2 /* AllActivitiesActivated */) {\n                // Check the activated surveys list to ensure whether any previous survey is still in process\n                // If not, the length should be 1 and call to execute this survey right away\n                // This should only happen if calling to Governance Service, due to the call is asynchronous\n                this.executeCallback(tracker.surveyId);\n                break;\n                /* Breaking here to let one and only one callback to be made from a logActivity call.\n                This ensures only one survey can fully 'trigger' for a logActivity call. Others that would also\n                have triggered must wait until the next call to trigger (without there being a cooldown, of course).\n                */\n            }\n        }\n    };\n    SurveyActivityListener.prototype.executeCallback = function (surveyId) {\n        this.callback.run(surveyId, this.activityContext[surveyId]);\n    };\n    SurveyActivityListener.prototype.copyObject = function (target, source) {\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    };\n    SurveyActivityListener.FloodgateStartActivityName = \"FloodgateFirstStart\";\n    // The size of the dropped activities is set to 100 due to the following two reasons.\n    // 1) To prevent the array growing too big and causing memory issues.\n    // 2) Based on the telemetry analysis of number of dropped activities, the count is very small and much lesser than 100.\n    SurveyActivityListener.MaxPendingActivitiesQueueSize = 100;\n    return SurveyActivityListener;\n}());\nmodule.exports = SurveyActivityListener;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUFjdGl2aXR5TGlzdGVuZXIudHM/MWNiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsbUhBQXFEO0FBUXJELG1HQUE2QztBQUM3QyxrSEFBa0Q7QUFDbEQsMktBQWtIO0FBQ2xILHVGQUEyQztBQUUzQyxJQUFJLGdCQUFnQixHQUFtRCxFQUFFLENBQUM7QUFDMUUsSUFBSSxvQkFBb0IsR0FBVyxDQUFDLENBQUM7QUFDckMsSUFBSSwwQkFBMEIsR0FBdUMsRUFBRSxDQUFDO0FBRXhFOzs7R0FHRztBQUNIO0lBa0JDLGdDQUFtQixRQUEwRCxFQUFFLGNBQWdEO1FBUC9ILHlHQUF5RztRQUNqRyxvQkFBZSxHQUFtQyxFQUFFLENBQUM7UUFPNUQsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUVELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDdEMsQ0FBQztJQW5CYSwyQ0FBb0IsR0FBbEM7UUFDQywwQkFBMEIsR0FBRyxFQUFFLENBQUM7SUFDakMsQ0FBQztJQW1CTSw0Q0FBVyxHQUFsQixVQUFtQixZQUFvQixFQUFFLFNBQXFCLEVBQUUsT0FBNEM7UUFBbkUseUNBQXFCO1FBQzdELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLHFCQUFrRCxTQUFTLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2xILENBQUM7SUFFTSxxREFBb0IsR0FBM0IsVUFBNEIsWUFBb0IsRUFBRSxTQUFnQjtRQUNqRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxxQkFBa0QsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RyxDQUFDO0lBRU0sb0RBQW1CLEdBQTFCLFVB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Q0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVPLDJDQUFVLEdBQWxCLFVBQW1CLE1BQVUsRUFBRSxNQUFVO1FBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsR0FBRztZQUMvQixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQTVWYSxpREFBMEIsR0FBRyxxQkFBcUIsQ0FBQztJQUNqRSxxRkFBcUY7SUFDckYscUVBQXFFO0lBQ3JFLHdIQUF3SDtJQUMxRyxvREFBNkIsR0FBRyxHQUFHLENBQUM7SUF5Vm5ELDZCQUFDO0NBQUE7QUFzQkQsaUJBQVMsc0JBQXNCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWN0aXZpdHlUcmFja2VyIGZyb20gXCIuL0FjdGl2aXR5VHJhY2tlclwiO1xyXG5pbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3QgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nQ29udHJhY3RcIjtcclxuaW1wb3J0IHsgQWN0aXZpdHlUcmFja2luZ1NldCB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdTZXRcIjtcclxuaW1wb3J0ICogYXMgSUFjdGl2aXR5TGlzdGVuZXIgZnJvbSBcIi4vQXBpL0lBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgfSBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBJQ29udGV4dERhdGEgfSBmcm9tIFwiLi9BcGkvSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2tcIjtcclxuaW1wb3J0IElTdXJ2ZXkgPSByZXF1aXJlKFwiLi9BcGkvSVN1cnZleVwiKTtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnkgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgSW5kZXhlZFRyYWNrZXIgfSBmcm9tIFwiLi9JbmRleGVkVHJhY2tlclwiO1xyXG5pbXBvcnQgeyBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMsIFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSB9IGZyb20gXCIuL1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eVwiO1xyXG5pbXBvcnQgeyBmeVNodWZmbGUsIGlzTk9VIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbmxldCBxdWV1ZWRBY3Rpdml0aWVzOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLklRdWV1ZWRBY3Rpdml0eVBhcmFtc1tdID0gW107XHJcbmxldCBwZW5kaW5nQWN0aXZpdHlDb3VudDogbnVtYmVyID0gMDtcclxubGV0IHByZXZpb3VzVHJhY2tlZEFjdGl2aXR5TWFwOiB7IFtpZDogc3RyaW5nXTogSW5kZXhlZFRyYWNrZXJbXSB9ID0ge307XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyB0cmFja3MgbG9nIGNhbGxzIGFnYWluc3QgbmFtZWQgYWN0aXZpdHkgc3RyaW5ncyAobWF0Y2hlZCBvbiBzdHJpY3QgY2FzZS1zZW5zaXRpdmUgZXF1YWxpdHkpXHJcbiAqIGFuZCBjYWxscyB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgd2hlbiBhbGwgYWN0aXZpdHkgdGhyZXNob2xkcyBmb3IgYSBnaXZlbiBzdXJ2ZXkgaGF2ZSBiZWVuIGNyb3NzZWRcclxuICovXHJcbmNsYXNzIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIgaW1wbGVtZW50cyBJQWN0aXZpdHlMaXN0ZW5lciB7XHJcblx0cHVibGljIHN0YXRpYyBGbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZSA9IFwiRmxvb2RnYXRlRmlyc3RTdGFydFwiO1xyXG5cdC8vIFRoZSBzaXplIG9mIHRoZSBkcm9wcGVkIGFjdGl2aXRpZXMgaXMgc2V0IHRvIDEwMCBkdWUgdG8gdGhlIGZvbGxvd2luZyB0d28gcmVhc29ucy5cclxuXHQvLyAxKSBUbyBwcmV2ZW50IHRoZSBhcnJheSBncm93aW5nIHRvbyBiaWcgYW5kIGNhdXNpbmcgbWVtb3J5IGlzc3Vlcy5cclxuXHQvLyAyKSBCYXNlZCBvbiB0aGUgdGVsZW1ldHJ5IGFuYWx5c2lzIG9mIG51bWJlciBvZiBkcm9wcGVkIGFjdGl2aXRpZXMsIHRoZSBjb3VudCBpcyB2ZXJ5IHNtYWxsIGFuZCBtdWNoIGxlc3NlciB0aGFuIDEwMC5cclxuXHRwdWJsaWMgc3RhdGljIE1heFBlbmRpbmdBY3Rpdml0aWVzUXVldWVTaXplID0gMTAwO1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIHJlc2V0U2Vzc2lvbkFjdGl2aXR5KCk6IHZvaWQge1xyXG5cdFx0cHJldmlvdXNUcmFja2VkQWN0aXZpdHlNYXAgPSB7fTtcclxuXHR9XHJcblxyXG5cdC8vIFNhdmXigK9pbmNvbWluZ+KAr2FjdGl2aXR5IGNvbnRleHTigK9kYXRh4oCvaW7igK9h4oCvZGljdGlvbmFyeeKAr3dpdGjigK9TdXJ2ZXlJRCBhc+KAr2tleSzigK9hY3Rpdml0eeKAr2RhdGHigK9hcnJheeKAr2Fz4oCvdmFsdWVcclxuXHRwcml2YXRlIGFjdGl2aXR5Q29udGV4dDogUmVjb3JkPHN0cmluZyzigK9JQ29udGV4dERhdGFbXT4gPSB7fTtcclxuXHJcblx0cHJpdmF0ZSB0cmFja2VkQWN0aXZpdHlNYXA6IHsgW2lkOiBzdHJpbmddOiBJbmRleGVkVHJhY2tlcltdIH07XHJcblx0cHJpdmF0ZSBjYWxsYmFjazogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5JQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrO1xyXG5cdHByaXZhdGUgbG9nZ2VyQ2FsbGJhY2s6ICgpID0+IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXI7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihjYWxsYmFjazogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5JQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrLCBsb2dnZXJDYWxsYmFjaz86ICgpID0+IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdGlmICghY2FsbGJhY2spIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2FsbGJhY2sgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcCA9IHt9O1xyXG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG5cdFx0dGhpcy5sb2dnZXJDYWxsYmFjayA9IGxvZ2dlckNhbGxiYWNrO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0FjdGl2aXR5KGFjdGl2aXR5TmFtZTogc3RyaW5nLCBpbmNyZW1lbnQ6IG51bWJlciA9IDEsIGNvbnRleHQ/OuKAr0lBY3Rpdml0eUxpc3RlbmVyLklBY3Rpdml0eUNvbnRleHQpOiB2b2lkIHtcclxuXHRcdHRoaXMubG9nQWN0aXZpdHlfcHJpdmF0ZShhY3Rpdml0eU5hbWUsIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5JbmNyZW1lbnQsIGluY3JlbWVudCwgbnVsbCwgY29udGV4dCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9nQWN0aXZpdHlTdGFydFRpbWUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIHN0YXJ0VGltZT86IERhdGUpOiB2b2lkIHtcclxuXHRcdHRoaXMubG9nQWN0aXZpdHlfcHJpdmF0ZShhY3Rpdml0eU5hbWUsIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5TdGFydFRpbWUsIDAsIHN0YXJ0VGltZSwgbnVsbCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9nQWN0aXZpdHlTdG9wVGltZShhY3Rpdml0eU5hbWU6IHN0cmluZywgc3RvcFRpbWU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X3ByaXZhdGUoYWN0aXZpdHlOYW1lLCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuU3RvcFRpbWUsIDAsIHN0b3BUaW1lLCBudWxsKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBTZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzKGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHM6IEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdFtdLFxyXG5cdFx0YmFzZWxpbmUgPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5KCkpOiB2b2lkIHtcclxuXHJcblx0XHRsZXQgZHVwbGljYXRlQ291bnRlciA9IDA7XHJcblxyXG5cdFx0aWYgKCFhY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzIHx8IGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMubGVuZ3RoID09PSAwIHx8ICFiYXNlbGluZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUG9wdWxhdGUgYSBuZXcgbWFwIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gc3VydmV5cywgYnV0IHByb3BhZ2F0aW5nIGFuZCB0cmFja2luZyBhY3Rpdml0eSBjb3VudHNcclxuXHRcdC8vIHdlIG1heSBoYXZlIHNlZW4gYWdhaW5zdCB0aG9zZSBldmVudHNcclxuXHRcdC8vIE5PVEU6IFdlIHdpbGwgbG9zZSBhY3Rpdml0eSBjb3VudHMgZm9yIHN1cnZleSBldmVudHMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlbGV2YW50LlxyXG5cdFx0Y29uc3QgbmV3TWFwOiB7IFtpZDogc3RyaW5nXTogSW5kZXhlZFRyYWNrZXJbXSB9ID0ge307XHJcblx0XHRjb25zdCB0cmFja2VkU3VydmV5SWRzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3QgYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0IG9mIGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMpIHtcclxuXHRcdFx0Y29uc3QgdHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQgPSBhY3Rpdml0eVRyYWNraW5nQ29udHJhY3QudHJhY2tpbmdTZXQ7XHJcblxyXG5cdFx0XHQvLyBBZGRlZCB0byB0aGUgbmV3IHNldCB0byBtYWtlIHN1cmUgdGhleSBhcmUgbm90IGR1cGxpY2F0ZWQuIEJhc2VkIG9uIE1TTy5cclxuXHRcdFx0aWYgKHRyYWNrZWRTdXJ2ZXlJZHMuaW5kZXhPZihhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpID09PSAtMSkge1xyXG5cdFx0XHRcdHRyYWNrZWRTdXJ2ZXlJZHMucHVzaChhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIER1cGxpY2F0ZSBzdXJ2ZXlJZCBiZWluZyBhZGRlZCwgY291bnQgaXQgZm9yIHRoZSBsb2cuXHJcblx0XHRcdFx0ZHVwbGljYXRlQ291bnRlcisrO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCB0aGUgc3VydmV5J3MgYWN0aXZpdGllcyBhcmUgc2FmZSB0byBhZGQuXHJcblx0XHRcdC8vIFNldCB1cCB0aGUgc3RydWN0dXJlcyB3ZSBuZWVkIHRvIHRyYW5zZmVyIGJhc2VsaW5lIGNvdW50cyAoZnJvbSBwcmV2aW91cyBzZXNzaW9ucykgb3IgY3VycmVudCBjb3VudHMgKGZyb20gcHJldmlvdXMgdHJhY2tlcnMpXHJcblx0XHRcdC8vIEJvdGggdmVjdG9ycyBtdXN0IGJlIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgdHJhY2tpbmdTZXQuTGlzdCBpdGVtc1xyXG5cdFx0XHRjb25zdCBiYXNlbGluZVN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBiYXNlbGluZS5nZXRCeVN1cnZleUlkKGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5zdXJ2ZXlJZCk7XHJcblx0XHRcdGNvbnN0IGJhc2VsaW5lQ291bnRzOiBudW1iZXJbXSA9IFt0cmFja2luZ1NldC5nZXRMaXN0KCkubGVuZ3RoXTtcclxuXHRcdFx0Y29uc3QgY3VycmVudEluZGV4ZWRUcmFja2VyczogSW5kZXhlZFRyYWNrZXJbXSA9IG5ldyBBcnJheTxJbmRleGVkVHJhY2tlcj4odHJhY2tpbmdTZXQuZ2V0TGlzdCgpLmxlbmd0aCk7XHJcblxyXG5cdFx0XHRsZXQgY3VycmVudEJhc2VsaW5lSW5kZXggPSAwO1xyXG5cdFx0XHRsZXQgY3VycmVudEluZGV4ID0gMDtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgdHJhY2tpbmdEYXRhIG9mIHRyYWNraW5nU2V0LmdldExpc3QoKSkge1xyXG5cdFx0XHRcdC8vIEJhc2VsaW5lIHN0YXRzIGNvdW50IGlzIDAgZm9yIGV2ZW50cyB3aXRoIFwiSXNBZ2dyZWdhdGUgPSBmYWxzZVwiXHJcblx0XHRcdFx0YmFzZWxpbmVDb3VudHNbY3VycmVudEluZGV4XSA9IDA7XHJcblx0XHRcdFx0aWYgKHRyYWNraW5nRGF0YS5nZXRJc0FnZ3JlZ2F0ZSgpICYmIGJhc2VsaW5lU3RhdHMgJiYgY3VycmVudEJhc2VsaW5lSW5kZXggPCBiYXNlbGluZVN0YXRzLkNvdW50cy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGJhc2VsaW5lQ291bnRzW2N1cnJlbnRJbmRleF0gPSBiYXNlbGluZVN0YXRzLkNvdW50c1tjdXJyZW50QmFzZWxpbmVJbmRleCsrXTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFNlc3Npb24gc3RhdHMgbWF5IGJlIGF2YWlsYWJsZSBpbiB0aGUgcHJldmlvdXMgdHJhY2tlZEFjdGl2aXR5TWFwXHJcblx0XHRcdFx0Ly8gVHJhbnNmZXIgdGhlIG9sZCBcImN1cnJlbnQgc2Vzc2lvblwiIGNvdW50IHRvIHRoZSBuZXcgdHJhY2tlclxyXG5cdFx0XHRcdC8vIElzIHNldCB0byBudWxsIGlmIG5vdCBhdmFpbGFibGVcclxuXHRcdFx0XHRpZiAocHJldmlvdXNUcmFja2VkQWN0aXZpdHlNYXBbdHJhY2tpbmdEYXRhLmdldEFjdGl2aXR5KCldKSB7XHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHRyYWNrZXIgb2YgcHJldmlvdXNUcmFja2VkQWN0aXZpdHlNYXBbdHJhY2tpbmdEYXRhLmdldEFjdGl2aXR5KCldKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0cmFja2VyLnN1cnZleUlkID09PSBhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50SW5kZXhlZFRyYWNrZXJzW2N1cnJlbnRJbmRleF0gPSB0cmFja2VyO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjdXJyZW50SW5kZXgrKztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWFrZSBhIG5ldyB0cmFja2VyIGFuZCBpbml0IHRoZSBjb3VudHMgYXBwcm9wcmlhdGVseS5cclxuXHRcdFx0Y29uc3QgbmV3VHJhY2tlciA9IG5ldyBBY3Rpdml0eVRyYWNrZXIodHJhY2tpbmdTZXQpO1xyXG5cdFx0XHQvLyBJZiBpbiBhIGZ1dHVyZSBjaGFuZ2Ugd2Ugc3RhcnQga2VlcGluZyB0cmFja2VycyByZWdpc3RlcmVkIHBhc3QgYWN0aXZhdGlvbiwgdGhpcyB3aWxsIGNoYW5nZVxyXG5cdFx0XHRuZXdUcmFja2VyLmluaXRDb3VudHMoYmFzZWxpbmVDb3VudHMsIGN1cnJlbnRJbmRleGVkVHJhY2tlcnMsIGZhbHNlIC8qd2FzQWN0aXZhdGVkVGhpc1Nlc3Npb24qLyk7XHJcblxyXG5cdFx0XHQvLyBTZXR1cCB0aGUgaW5kZXhlZCB0cmFja2Vyc1xyXG5cdFx0XHRmb3IgKGNvbnN0IGFjdGl2aXR5SW5kZXggb2YgbmV3VHJhY2tlci5nZW5lcmF0ZUFjdGl2aXR5SW5kZXhMaXN0KCkpIHtcclxuXHRcdFx0XHRjb25zdCBpbmRleGVkVHJhY2tlciA9IG5ldyBJbmRleGVkVHJhY2tlcigpO1xyXG5cdFx0XHRcdGluZGV4ZWRUcmFja2VyLmluZGV4ID0gYWN0aXZpdHlJbmRleC5pbmRleDtcclxuXHRcdFx0XHRpbmRleGVkVHJhY2tlci5zdXJ2ZXlJZCA9IGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5zdXJ2ZXlJZDtcclxuXHRcdFx0XHRpbmRleGVkVHJhY2tlci50cmFja2VyID0gbmV3VHJhY2tlcjtcclxuXHJcblx0XHRcdFx0aWYgKCFuZXdNYXBbYWN0aXZpdHlJbmRleC5hY3Rpdml0eV0pIHtcclxuXHRcdFx0XHRcdG5ld01hcFthY3Rpdml0eUluZGV4LmFjdGl2aXR5XSA9IFtdO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gUmVnaXN0ZXIgdGhlIG5ldyB0cmFja2VyIGluIG91ciBuZXcgbWFwXHJcblx0XHRcdFx0bmV3TWFwW2FjdGl2aXR5SW5kZXguYWN0aXZpdHldLnB1c2goaW5kZXhlZFRyYWNrZXIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGR1cGxpY2F0ZUNvdW50ZXIgPiAwKSB7XHJcblx0XHRcdGNvbnN0IHRlbGVtZXRyeUxvZ2dlciA9IHRoaXMubG9nZ2VyQ2FsbGJhY2sgJiYgdGhpcy5sb2dnZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FcnJvcihUZWxlbWV0cnlFdmVudC5TdXJ2ZXlBY3Rpdml0eS5TZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzLkR1cGxpY2F0ZVN1cnZleUlELFxyXG5cdFx0XHRcdFx0XCJEdXBsaWNhdGUgc3VydmV5SWQgcGFzc2VkIGluIGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMuIER1cGxpY2F0ZSBjb3VudDogXCIgKyBkdXBsaWNhdGVDb3VudGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB0aGUgbmV3IG1hcCBpbiBwbGFjZSBvZiB0aGUgb2xkXHJcblx0XHR0aGlzLmNvcHlPYmplY3QodGhpcy50cmFja2VkQWN0aXZpdHlNYXAsIG5ld01hcCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY2xlYXJTdXJ2ZXlzKCk6IHZvaWQge1xyXG5cdFx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy50cmFja2VkQWN0aXZpdHlNYXApLmZvckVhY2goKGtleSkgPT4ge1xyXG5cdFx0XHRkZWxldGUgdGhpcy50cmFja2VkQWN0aXZpdHlNYXBba2V5XTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNhdmVTZXNzaW9uVHJhY2tpbmdBY3Rpdml0eShhY3Rpdml0eTogc3RyaW5nKTogdm9pZCB7XHJcblx0XHQvLyBTZXQgdGhlIG5ldyBhY3Rpdml0eSBpbiBwbGFjZSBvZiB0aGUgb2xkXHJcblx0XHRwcmV2aW91c1RyYWNrZWRBY3Rpdml0eU1hcFthY3Rpdml0eV0gPSB0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcFthY3Rpdml0eV07XHJcblx0fVxyXG5cclxuXHQvLyBHZXQgdGhlIGluZGV4ZWRUcmFja2VyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIFN1cnZleUlEIGFuZCByZXR1cm4gdGhhdCBjb3VudC4gb3RoZXJ3aXNlIHJldHVybiAwLlxyXG5cdHB1YmxpYyBnZXRDb3VudChhY3Rpdml0eTogc3RyaW5nLCBzdXJ2ZXlJZDogc3RyaW5nKTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VyID0gdGhpcy5nZXRJbmRleGVkVHJhY2tlcihhY3Rpdml0eSwgc3VydmV5SWQpO1xyXG5cdFx0aWYgKCFpbmRleGVkVHJhY2tlcikge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaW5kZXhlZFRyYWNrZXIudHJhY2tlci5nZXRDb3VudChpbmRleGVkVHJhY2tlci5pbmRleCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbkNvdW50KGFjdGl2aXR5OiBzdHJpbmcsIHN1cnZleUlkOiBzdHJpbmcpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXIgPSB0aGlzLmdldEluZGV4ZWRUcmFja2VyKGFjdGl2aXR5LCBzdXJ2ZXlJZCk7XHJcblx0XHRpZiAoIWluZGV4ZWRUcmFja2VyKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleGVkVHJhY2tlci50cmFja2VyLmdldFNlc3Npb25Db3VudChpbmRleGVkVHJhY2tlci5pbmRleCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBbiBhdG9taWMgZ2V0LWFuZC1zZXQgbWV0aG9kLiAgUmV0dXJucyB0aGUgY3VycmVudCBTZXNzaW9uQ291bnQsIHJlc2V0dGluZyBpdCB0byB6ZXJvIGFuZCBhZGRpbmcgaXQgaW50byB0aGUgZXN0YWJsaXNoZWQgYmFzZWxpbmVcclxuXHQgKi9cclxuXHRwdWJsaWMgbW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoYWN0aXZpdHk6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZyk6IG51bWJlciB7XHJcblx0XHRjb25zdCBpbmRleGVkVHJhY2tlciA9IHRoaXMuZ2V0SW5kZXhlZFRyYWNrZXIoYWN0aXZpdHksIHN1cnZleUlkKTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXIpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGluZGV4ZWRUcmFja2VyLnRyYWNrZXIubW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoaW5kZXhlZFRyYWNrZXIuaW5kZXgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFN1cnZleUlkcyhhY3Rpdml0eTogc3RyaW5nKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xyXG5cdFx0aWYgKGlzTk9VKGFjdGl2aXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VycyA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2FjdGl2aXR5XTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VydmV5SWRzID0gaW5kZXhlZFRyYWNrZXJzLm1hcCgoaW5kZXhlZFRyYWNrZXIpID0+IGluZGV4ZWRUcmFja2VyLnN1cnZleUlkKTtcclxuXHRcdHJldHVybiBzdXJ2ZXlJZHM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2FsbGJhY2soY2FsbGJhY2s6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjayk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFVwZGF0ZUFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMoc3VydmV5TGlzdDogSURpY3Rpb25hcnk8SVN1cnZleT4pOiB2b2lkIHtcclxuXHRcdGlmIChpc05PVShzdXJ2ZXlMaXN0KSB8fCBPYmplY3Qua2V5cyhzdXJ2ZXlMaXN0KS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0dGhpcy5jbGVhclN1cnZleXMoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwKSB7XHJcblx0XHRcdGlmICh0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgdHJhY2tlcjogSW5kZXhlZFRyYWNrZXJbXSA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2tleV07XHJcblxyXG5cdFx0XHRcdC8vIGxvb3AgdGhyb3VnaCB0cmFja2VyIGFuZCByZW1vdmUgdGhlIG9uZXMgbm90IGFzc29jaWF0ZSB3aXRoIGdpdmVuIHN1cnZleXNcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gdHJhY2tlci5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG5cdFx0XHRcdFx0aWYgKHN1cnZleUxpc3QuaGFzT3duUHJvcGVydHkodHJhY2tlcltpXS5zdXJ2ZXlJZCkpIHtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0cmFja2VyLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SW5kZXhlZFRyYWNrZXIoYWN0aXZpdHk6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZyk6IEluZGV4ZWRUcmFja2VyIHwgdW5kZWZpbmVkIHtcclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VycyA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2FjdGl2aXR5XTtcclxuXHJcblx0XHRpZiAoIWluZGV4ZWRUcmFja2Vycykge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbmRleGVkVHJhY2tlcjogSW5kZXhlZFRyYWNrZXIgfCB1bmRlZmluZWQ7XHJcblx0XHRmb3IgKGNvbnN0IHRyYWNrZXIgb2YgaW5kZXhlZFRyYWNrZXJzKSB7XHJcblx0XHRcdGlmICh0cmFja2VyLnN1cnZleUlkID09PSBzdXJ2ZXlJZCkge1xyXG5cdFx0XHRcdGluZGV4ZWRUcmFja2VyID0gdHJhY2tlcjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleGVkVHJhY2tlcjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVzZXRRdWV1ZWRBY3Rpdml0aWVzKCk6IHZvaWQge1xyXG5cdFx0cXVldWVkQWN0aXZpdGllcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2dBY3Rpdml0eV9wcml2YXRlKGFjdGl2aXR5TmFtZTogc3RyaW5nLFxyXG5cdFx0bG9nVHlwZTogU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5Mb2dBY3Rpb25UeXBlLFxyXG5cdFx0aW5jcmVtZW50OiBudW1iZXIsXHJcblx0XHR0aW1lc3RhbXA6IERhdGUsXHJcblx0XHRjb250ZXh0OuKAr0lBY3Rpdml0eUxpc3RlbmVyLklBY3Rpdml0eUNvbnRleHQpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmNhbGxiYWNrICYmICF0aGlzLmNhbGxiYWNrLnNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZSkpIHtcclxuXHRcdFx0cGVuZGluZ0FjdGl2aXR5Q291bnQrKztcclxuXHRcdFx0aWYgKHF1ZXVlZEFjdGl2aXRpZXMubGVuZ3RoIDwgU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5NYXhQZW5kaW5nQWN0aXZpdGllc1F1ZXVlU2l6ZSkge1xyXG5cdFx0XHRcdHF1ZXVlZEFjdGl2aXRpZXMucHVzaCh7YWN0aXZpdHlOYW1lLCBsb2dUeXBlLCBpbmNyZW1lbnQsIHRpbWVzdGFtcH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ291bnQgYW55IGFjdGl2aXRpZXMgdGhhdCBhcmUgcG9zdGVkIGJlZm9yZSAnRmxvb2RnYXRlRmlyc3RTdGFydCcgYWN0aXZpdHkgaGFwcGVuc1xyXG5cdFx0aWYgKGFjdGl2aXR5TmFtZSA9PT0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5GbG9vZGdhdGVTdGFydEFjdGl2aXR5TmFtZSkge1xyXG5cdFx0XHRpZiAocGVuZGluZ0FjdGl2aXR5Q291bnQgPiAwKSB7XHJcblx0XHRcdFx0Ly8gR2V0IHRoZSBhY3Rpdml0eSBuYW1lcyBvZiB0aGUgcXVldWVkIGFjdGl2aXRpZXMgZm9yIHRlbGVtZXRyeSwgc2VuZCBvbmx5IGZpcnN0IDI1LlxyXG5cdFx0XHRcdGNvbnN0IGFjdGl2aXR5TmFtZXMgPSBxdWV1ZWRBY3Rpdml0aWVzLnNsaWNlKDAsIDI1KS5tYXAoKHF1ZXVlZEFjdGl2aXR5KSA9PiBxdWV1ZWRBY3Rpdml0eS5hY3Rpdml0eU5hbWUpO1xyXG5cclxuXHRcdFx0XHRjb25zdCB0ZWxlbWV0cnlMb2dnZXIgPSB0aGlzLmxvZ2dlckNhbGxiYWNrICYmIHRoaXMubG9nZ2VyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0XHQvLyBTYW1wbGluZyB0aGlzIHRlbGVtZXRyeSBldmVudCB0byA1JVxyXG5cdFx0XHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5TdXJ2ZXlBY3Rpdml0eS5Mb2dBY3Rpdml0eS5FdmVudHNSZXByb2Nlc3NlZCxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdEFjdGl2aXR5TmFtZXM6IEpTT04uc3RyaW5naWZ5KGFjdGl2aXR5TmFtZXMpLFxyXG5cdFx0XHRcdFx0XHRcdENvdW50OiBxdWV1ZWRBY3Rpdml0aWVzLmxlbmd0aCxcclxuXHRcdFx0XHRcdFx0XHREcm9wcGVkOiBwZW5kaW5nQWN0aXZpdHlDb3VudCAtIHF1ZXVlZEFjdGl2aXRpZXMubGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHQwLjA1KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHJlcGxheSBhbGwgdGhlIHF1ZXVlZCBhY3Rpdml0aWVzIG9uZSBieSBvbmUgYXMgdGhlIGZsb29kZ2F0ZSBlbmdpbmUgaGFzIHN0YXJ0ZWQgbm93XHJcblx0XHRcdFx0cXVldWVkQWN0aXZpdGllcy5tYXAoKHF1ZXVlZEFjdGl2aXR5KSA9PiB0aGlzLmxvZ0FjdGl2aXR5X2NvcmUoXHJcblx0XHRcdFx0XHRxdWV1ZWRBY3Rpdml0eS5hY3Rpdml0eU5hbWUsIHF1ZXVlZEFjdGl2aXR5LmxvZ1R5cGUsIHF1ZXVlZEFjdGl2aXR5LmluY3JlbWVudCwgcXVldWVkQWN0aXZpdHkudGltZXN0YW1wLCBjb250ZXh0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHBlbmRpbmdBY3Rpdml0eUNvdW50ID0gMDtcclxuXHRcdFx0dGhpcy5yZXNldFF1ZXVlZEFjdGl2aXRpZXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X2NvcmUoYWN0aXZpdHlOYW1lLCBsb2dUeXBlLCBpbmNyZW1lbnQsIHRpbWVzdGFtcCwgY29udGV4dCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvZ0FjdGl2aXR5X2NvcmUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsXHJcblx0XHRsb2dUeXBlOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUsXHJcblx0XHRpbmNyZW1lbnQ6IG51bWJlcixcclxuXHRcdHRpbWVzdGFtcDogRGF0ZSxcclxuXHRcdGNvbnRleHQ64oCvSUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5Q29udGV4dCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXJzOiBJbmRleGVkVHJhY2tlcltdID0gdGhpcy50cmFja2VkQWN0aXZpdHlNYXBbYWN0aXZpdHlOYW1lXTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzIHx8IGluZGV4ZWRUcmFja2Vycy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuXHRcdC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSB0cmFja2VyIHNodWZmbGUgdHJhY2tlcnMgdG8gcmFuZG9taXplIHdoaWNoIGlzIGV2YWx1YXRlZCBmaXJzdFxyXG5cdFx0aWYgKGluZGV4ZWRUcmFja2Vycy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdGluZGljZXMgPSBuZXcgQXJyYXk8bnVtYmVyPihpbmRleGVkVHJhY2tlcnMubGVuZ3RoKTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aW5kaWNlc1tpXSA9IGk7XHJcblx0XHRcdH1cclxuXHRcdFx0aW5kaWNlcyA9IGZ5U2h1ZmZsZShpbmRpY2VzKTsgLy8gc2h1ZmZsZSBhbmQgcmVhc3NpZ25cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluZGljZXMucHVzaCgwKTsgLy8ganVzdCBoYXZlIGEgemVyby4gU2h1ZmZsaW5nIGlzIG5vdCBuZWVkZWQuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHRyYWNrZXJzIGluIHNodWZmbGVkIG9yZGVyXHJcblx0XHRmb3IgKGNvbnN0IGluZGV4IG9mIGluZGljZXMpIHtcclxuXHRcdFx0Y29uc3QgdHJhY2tlcjogSW5kZXhlZFRyYWNrZXIgPSBpbmRleGVkVHJhY2tlcnNbaW5kZXhdO1xyXG5cdFx0XHRzd2l0Y2ggKGxvZ1R5cGUpIHtcclxuXHRcdFx0XHRjYXNlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5TdGFydFRpbWU6IHtcclxuXHRcdFx0XHRcdHRyYWNrZXIudHJhY2tlci5zdGFydFRpbWUodHJhY2tlci5pbmRleCwgdGltZXN0YW1wKTtcclxuXHRcdFx0XHRcdGNvbnRpbnVlOyAvLyBMb29rIGF0IHRoZSBuZXh0IHRyYWNrZXIuIEluY3JlbWVudCBub3QgbmVlZGVkLlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYXNlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5TdG9wVGltZToge1xyXG5cdFx0XHRcdFx0aW5jcmVtZW50ID0gdHJhY2tlci50cmFja2VyLnN0b3BUaW1lKHRyYWNrZXIuaW5kZXgsIHRpbWVzdGFtcCk7XHJcblx0XHRcdFx0XHQvLyBmYWxsIHRocm91Z2ggdG8gaW5jcmVtZW50IHRoZSBhY3Rpdml0eSBhcyB3ZWxsLlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYXNlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZS5JbmNyZW1lbnQ6IHtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRkZWZhdWx0OiB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjb250ZXh0KSB7XHJcblx0XHRcdFx0Y29uc3QgdHJhY2tlclN1cnZleUlkID0gdHJhY2tlci5zdXJ2ZXlJZDtcclxuXHRcdFx0XHR0aGlzLmFjdGl2aXR5Q29udGV4dFt0cmFja2VyU3VydmV5SWRdID0gdGhpcy5hY3Rpdml0eUNvbnRleHRbdHJhY2tlclN1cnZleUlkXSB8fCBbXTtcclxuXHRcdFx0XHR0aGlzLmFjdGl2aXR5Q29udGV4dFt0cmFja2VyU3VydmV5SWRdLnB1c2goeyBhY3Rpdml0eU5hbWUsIGNvbnRleHQgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHJlc3VsdDogQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdCA9IHRyYWNrZXIudHJhY2tlci5pbmNyZW1lbnRBY3Rpdml0eSh0cmFja2VyLmluZGV4LCBpbmNyZW1lbnQpO1xyXG5cdFx0XHRpZiAocmVzdWx0ID09PSBBY3Rpdml0eVRyYWNrZXIuSW5jcmVtZW50UmVzdWx0LkFsbEFjdGl2aXRpZXNBY3RpdmF0ZWQpIHtcclxuXHRcdFx0XHQvLyBDaGVjayB0aGUgYWN0aXZhdGVkIHN1cnZleXMgbGlzdCB0byBlbnN1cmUgd2hldGhlciBhbnkgcHJldmlvdXMgc3VydmV5IGlzIHN0aWxsIGluIHByb2Nlc3NcclxuXHRcdFx0XHQvLyBJZiBub3QsIHRoZSBsZW5ndGggc2hvdWxkIGJlIDEgYW5kIGNhbGwgdG8gZXhlY3V0ZSB0aGlzIHN1cnZleSByaWdodCBhd2F5XHJcblx0XHRcdFx0Ly8gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgY2FsbGluZyB0byBHb3Zlcm5hbmNlIFNlcnZpY2UsIGR1ZSB0byB0aGUgY2FsbCBpcyBhc3luY2hyb25vdXNcclxuXHRcdFx0XHR0aGlzLmV4ZWN1dGVDYWxsYmFjayh0cmFja2VyLnN1cnZleUlkKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHQvKiBCcmVha2luZyBoZXJlIHRvIGxldCBvbmUgYW5kIG9ubHkgb25lIGNhbGxiYWNrIHRvIGJlIG1hZGUgZnJvbSBhIGxvZ0FjdGl2aXR5IGNhbGwuXHJcblx0XHRcdFx0VGhpcyBlbnN1cmVzIG9ubHkgb25lIHN1cnZleSBjYW4gZnVsbHkgJ3RyaWdnZXInIGZvciBhIGxvZ0FjdGl2aXR5IGNhbGwuIE90aGVycyB0aGF0IHdvdWxkIGFsc29cclxuXHRcdFx0XHRoYXZlIHRyaWdnZXJlZCBtdXN0IHdhaXQgdW50aWwgdGhlIG5leHQgY2FsbCB0byB0cmlnZ2VyICh3aXRob3V0IHRoZXJlIGJlaW5nIGEgY29vbGRvd24sIG9mIGNvdXJzZSkuXHJcblx0XHRcdFx0Ki9cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBleGVjdXRlQ2FsbGJhY2soc3VydmV5SWQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWxsYmFjay5ydW4oc3VydmV5SWQsIHRoaXMuYWN0aXZpdHlDb250ZXh0W3N1cnZleUlkXSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvcHlPYmplY3QodGFyZ2V0OiB7fSwgc291cmNlOiB7fSkge1xyXG5cdFx0T2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKChrZXkpID0+IHtcclxuXHRcdFx0dGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIFN1cnZleUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdGV4cG9ydCBpbnRlcmZhY2UgSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjayB7XHJcblx0XHRydW4oc3VydmV5SWQ6IHN0cmluZywgY29udGV4dERhdGE6IElDb250ZXh0RGF0YVtdKTogdm9pZDtcclxuXHRcdHNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZTogc3RyaW5nKTogYm9vbGVhbjtcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIExvZ0FjdGlvblR5cGUge1xyXG5cdFx0SW5jcmVtZW50LFxyXG5cdFx0U3RhcnRUaW1lLFxyXG5cdFx0U3RvcFRpbWUsXHJcblx0fVxyXG5cclxuXHRleHBvcnQgaW50ZXJmYWNlIElRdWV1ZWRBY3Rpdml0eVBhcmFtcyB7XHJcblx0XHRhY3Rpdml0eU5hbWU6IHN0cmluZztcclxuXHRcdGxvZ1R5cGU6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZTtcclxuXHRcdGluY3JlbWVudDogbnVtYmVyO1xyXG5cdFx0dGltZXN0YW1wOiBEYXRlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyActivityListener.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js":
/*!***********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CVSurveyComponent = /** @class */ (function () {\n    function CVSurveyComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.customerVoiceFormId) {\n            throw new Error(\"data.formID must not be null or empty\");\n        }\n        this.data = data;\n    }\n    CVSurveyComponent.make = function (data) {\n        try {\n            return new CVSurveyComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CVSurveyComponent.prototype.getType = function () {\n        return \"CVSurvey\" /* CVSurvey */;\n    };\n    CVSurveyComponent.prototype.getFormId = function () {\n        return this.data.customerVoiceFormId;\n    };\n    // @Override\n    CVSurveyComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_CVSURVEY_TAGNAME);\n        return [element];\n    };\n    // @Override\n    CVSurveyComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_CVSURVEY_KEYNAME] = this.getFormId();\n        return result;\n    };\n    // @Override\n    CVSurveyComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_CVSURVEYFORMID_KEYNAME] = this.getFormId(),\n            _a;\n    };\n    return CVSurveyComponent;\n}());\n(function (CVSurveyComponent) {\n    var CVSurveyComponentData = /** @class */ (function () {\n        function CVSurveyComponentData() {\n        }\n        return CVSurveyComponentData;\n    }());\n    CVSurveyComponent.CVSurveyComponentData = CVSurveyComponentData;\n})(CVSurveyComponent || (CVSurveyComponent = {}));\nmodule.exports = CVSurveyComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvQ1ZTdXJ2ZXlDb21wb25lbnQudHM/MmU3ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsK0hBQTREO0FBRTVEO0lBV0MsMkJBQW1CLElBQTZDO1FBQy9ELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUN6RDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFuQmEsc0JBQUksR0FBbEIsVUFBbUIsSUFBNkM7UUFDL0QsSUFBSTtZQUNILE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNuQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFlTSxtQ0FBTyxHQUFkO1FBQ0MsaUNBQXNDO0lBQ3ZDLENBQUM7SUFFTSxxQ0FBUyxHQUFoQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUNELElBQU0sT0FBTyxHQUFZLEdBQUcsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNsRixPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZSxHQUF0QjtRQUNDLElBQU0sTUFBTSxHQUFXLEVBQUUsQ0FBQztRQUUxQixNQUFNLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbEUsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLDRDQUFnQixHQUF2Qjs7UUFDQztZQUNDLEdBQUMsZ0JBQWdCLENBQUMsMkJBQTJCLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRTtlQUMvRDtJQUNILENBQUM7SUFDRix3QkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGlCQUFpQjtJQUN2QjtRQUFBO1FBRUEsQ0FBQztRQUFELDRCQUFDO0lBQUQsQ0FBQztJQUZZLHVDQUFxQix3QkFFakM7QUFDRixDQUFDLEVBSk0saUJBQWlCLEtBQWpCLGlCQUFpQixRQUl2QjtBQUVELGlCQUFTLGlCQUFpQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9DVlN1cnZleUNvbXBvbmVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElDVlN1cnZleUNvbXBvbmVudCB9IGZyb20gXCJzcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgQ1ZTdXJ2ZXlDb21wb25lbnQgaW1wbGVtZW50cyBJQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBDVlN1cnZleUNvbXBvbmVudC5DVlN1cnZleUNvbXBvbmVudERhdGEpOiBJQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBDVlN1cnZleUNvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IENWU3VydmV5Q29tcG9uZW50LkNWU3VydmV5Q29tcG9uZW50RGF0YTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IENWU3VydmV5Q29tcG9uZW50LkNWU3VydmV5Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5jdXN0b21lclZvaWNlRm9ybUlkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuZm9ybUlEIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IElTdXJ2ZXlDb21wb25lbnQuVHlwZSB7XHJcblx0XHRyZXR1cm4gSVN1cnZleUNvbXBvbmVudC5UeXBlLkNWU3VydmV5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEZvcm1JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5jdXN0b21lclZvaWNlRm9ybUlkO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9DVlNVUlZFWV9UQUdOQU1FKTtcclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdFtJU3VydmV5Q29tcG9uZW50LkpTT05fQ1ZTVVJWRVlfS0VZTkFNRV0gPSB0aGlzLmdldEZvcm1JZCgpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21wb25lbnRKc29uKCk6IG9iamVjdCB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0NWU1VSVkVZRk9STUlEX0tFWU5BTUVdOiB0aGlzLmdldEZvcm1JZCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBDVlN1cnZleUNvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIENWU3VydmV5Q29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgY3VzdG9tZXJWb2ljZUZvcm1JZDogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ1ZTdXJ2ZXlDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js":
/*!**********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ./../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CommentComponent = /** @class */ (function () {\n    function CommentComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        this.data = data;\n        this.userComment = \"\";\n    }\n    CommentComponent.make = function (data) {\n        try {\n            return new CommentComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    CommentComponent.prototype.getType = function () {\n        return \"Comment\" /* Comment */;\n    };\n    // @Override\n    CommentComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    CommentComponent.prototype.setSubmittedText = function (userComment) {\n        this.userComment = userComment;\n    };\n    // @Override\n    CommentComponent.prototype.getSubmittedText = function () {\n        return this.userComment;\n    };\n    // @Override\n    CommentComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_COMMENT_TAGNAME);\n        element.appendChild(doc.createTextNode(this.getSubmittedText()));\n        return [element];\n    };\n    // @Override\n    CommentComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_COMMENT_KEYNAME] = this.getSubmittedText();\n        return result;\n    };\n    // @Override\n    CommentComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a;\n    };\n    return CommentComponent;\n}());\n(function (CommentComponent) {\n    var CommentComponentData = /** @class */ (function () {\n        function CommentComponentData() {\n        }\n        return CommentComponentData;\n    }());\n    CommentComponent.CommentComponentData = CommentComponentData;\n})(CommentComponent || (CommentComponent = {}));\nmodule.exports = CommentComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudC50cz8zODJiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxpSUFBK0Q7QUFFL0Q7SUFZQywwQkFBbUIsSUFBMkM7UUFDN0QsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FBQztTQUMzRDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFyQmEscUJBQUksR0FBbEIsVUFBbUIsSUFBMkM7UUFDN0QsSUFBSTtZQUNILE9BQU8sSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFpQkQsWUFBWTtJQUNMLGtDQUFPLEdBQWQ7UUFDQywrQkFBcUM7SUFDdEMsQ0FBQztJQUVELFlBQVk7SUFDTCxzQ0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZ0IsR0FBdkIsVUFBd0IsV0FBbUI7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZ0IsR0FBdkI7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDN0M7UUFFRCxJQUFNLE9BQU8sR0FBWSxHQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDakYsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVqRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCwwQ0FBZSxHQUF0QjtRQUNDLElBQU0sTUFBTSxHQUFXLEVBQUUsQ0FBQztRQUMxQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4RSxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWdCLEdBQXZCOztRQUNDO1lBQ0MsR0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsSUFBRyxJQUFJLENBQUMsV0FBVyxFQUFFO2VBQzNEO0lBQ0gsQ0FBQztJQUNGLHVCQUFDO0FBQUQsQ0FBQztBQUVELFdBQU8sZ0JBQWdCO0lBQ3RCO1FBQUE7UUFFQSxDQUFDO1FBQUQsMkJBQUM7SUFBRCxDQUFDO0lBRlkscUNBQW9CLHVCQUVoQztBQUNGLENBQUMsRUFKTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBSXRCO0FBRUQsaUJBQVMsZ0JBQWdCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlDb21wb25lbnRzL0NvbW1lbnRDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ29tbWVudENvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgSVN1cnZleUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuLy4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCIpO1xyXG5cclxuY2xhc3MgQ29tbWVudENvbXBvbmVudCBpbXBsZW1lbnRzIElDb21tZW50Q29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSk6IElDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ29tbWVudENvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0cHJpdmF0ZSB1c2VyQ29tbWVudDogc3RyaW5nO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHRcdHRoaXMudXNlckNvbW1lbnQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleUNvbXBvbmVudC5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzZXRTdWJtaXR0ZWRUZXh0KHVzZXJDb21tZW50OiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdHRoaXMudXNlckNvbW1lbnQgPSB1c2VyQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdWJtaXR0ZWRUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VyQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmICghZG9jKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXlDb21wb25lbnQuRE9NX0NPTU1FTlRfVEFHTkFNRSk7XHJcblx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldFN1Ym1pdHRlZFRleHQoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9DT01NRU5UX0tFWU5BTUVdID0gdGhpcy5nZXRTdWJtaXR0ZWRUZXh0KCk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudEpzb24oKTogb2JqZWN0IHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUVVFU1RJT05fS0VZTkFNRV06IHRoaXMuZ2V0UXVlc3Rpb24oKSxcclxuXHRcdH07XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgQ29tbWVudENvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIENvbW1lbnRDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ29tbWVudENvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js":
/*!************************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar InterceptComponent = /** @class */ (function () {\n    function InterceptComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.title) {\n            throw new Error(\"data.title must not be null or empty\");\n        }\n        if (!data.url) {\n            throw new Error(\"data.url must not be null or empty\");\n        }\n        this.data = data;\n    }\n    InterceptComponent.make = function (data) {\n        try {\n            return new InterceptComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    InterceptComponent.prototype.getType = function () {\n        return \"Intercept\" /* Intercept */;\n    };\n    // @Override\n    InterceptComponent.prototype.getTitle = function () {\n        return this.data.title;\n    };\n    // @Override\n    InterceptComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    InterceptComponent.prototype.getUrl = function () {\n        return this.data.url;\n    };\n    // @Override\n    InterceptComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        return [doc.createElement(ISurveyComponent.DOM_INTERCEPT_TAGNAME)];\n    };\n    // @Override\n    InterceptComponent.prototype.getJsonElements = function () {\n        var _a;\n        return _a = {}, _a[ISurveyComponent.JSON_INTERCEPT_KEYNAME] = \"\", _a;\n    };\n    // @Override\n    InterceptComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_TITLE_KEYNAME] = this.getTitle(),\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_INTERCEPTURL_KEYNAME] = this.getUrl(),\n            _a;\n    };\n    return InterceptComponent;\n}());\n(function (InterceptComponent) {\n    var InterceptComponentData = /** @class */ (function () {\n        function InterceptComponentData() {\n        }\n        return InterceptComponentData;\n    }());\n    InterceptComponent.InterceptComponentData = InterceptComponentData;\n})(InterceptComponent || (InterceptComponent = {}));\nmodule.exports = InterceptComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvSW50ZXJjZXB0Q29tcG9uZW50LnRzPzMyNDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUc1RDtJQVdDLDRCQUFtQixJQUErQztRQUNqRSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7U0FDdEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBekJhLHVCQUFJLEdBQWxCLFVBQW1CLElBQStDO1FBQ2pFLElBQUk7WUFDSCxPQUFPLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDcEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBcUJELFlBQVk7SUFDTCxvQ0FBTyxHQUFkO1FBQ0MsbUNBQXVDO0lBQ3hDLENBQUM7SUFFRCxZQUFZO0lBQ0wscUNBQVEsR0FBZjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELFlBQVk7SUFDTCx3Q0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVk7SUFDTCxtQ0FBTSxHQUFiO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFBWTtJQUNMLDJDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsWUFBWTtJQUNMLDRDQUFlLEdBQXRCOztRQUNDLGdCQUFRLEdBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLElBQUcsRUFBRSxLQUFFO0lBQ3hELENBQUM7SUFFRCxZQUFZO0lBQ0wsNkNBQWdCLEdBQXZCOztRQUNDO1lBQ0MsR0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3RELEdBQUMsZ0JBQWdCLENBQUMscUJBQXFCLElBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUM1RCxHQUFDLGdCQUFnQixDQUFDLHlCQUF5QixJQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7ZUFDMUQ7SUFDSCxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDO0FBRUQsV0FBTyxrQkFBa0I7SUFDeEI7UUFBQTtRQUlBLENBQUM7UUFBRCw2QkFBQztJQUFELENBQUM7SUFKWSx5Q0FBc0IseUJBSWxDO0FBQ0YsQ0FBQyxFQU5NLGtCQUFrQixLQUFsQixrQkFBa0IsUUFNeEI7QUFFRCxpQkFBUyxrQkFBa0IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1N1cnZleUNvbXBvbmVudHMvSW50ZXJjZXB0Q29tcG9uZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgSUludGVyY2VwdENvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JSW50ZXJjZXB0Q29tcG9uZW50XCI7XHJcblxyXG5jbGFzcyBJbnRlcmNlcHRDb21wb25lbnQgaW1wbGVtZW50cyBJSW50ZXJjZXB0Q29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogSW50ZXJjZXB0Q29tcG9uZW50LkludGVyY2VwdENvbXBvbmVudERhdGEpOiBJSW50ZXJjZXB0Q29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgSW50ZXJjZXB0Q29tcG9uZW50KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGF0YTogSW50ZXJjZXB0Q29tcG9uZW50LkludGVyY2VwdENvbXBvbmVudERhdGE7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRhOiBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEudGl0bGUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS50aXRsZSBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnVybCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnVybCBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5JbnRlcmNlcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEudGl0bGU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VXJsKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnVybDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdICB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9JTlRFUkNFUFRfVEFHTkFNRSldO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtbSVN1cnZleUNvbXBvbmVudC5KU09OX0lOVEVSQ0VQVF9LRVlOQU1FXTogXCJcIn07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9USVRMRV9LRVlOQU1FXTogdGhpcy5nZXRUaXRsZSgpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fSU5URVJDRVBUVVJMX0tFWU5BTUVdOiB0aGlzLmdldFVybCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBJbnRlcmNlcHRDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjbGFzcyBJbnRlcmNlcHRDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0cHVibGljIHRpdGxlOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgdXJsOiBzdHJpbmc7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBJbnRlcmNlcHRDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js":
/*!*****************************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar MultipleChoiceComponent = /** @class */ (function () {\n    function MultipleChoiceComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.availableOptions || data.availableOptions.length < 2) {\n            throw new Error(\"data.availableOptions must not be null or have less than two choices\");\n        }\n        data.availableOptions.forEach(function (option) {\n            if (!option) {\n                throw new Error(\"Option values must not contain null or empty\");\n            }\n        });\n        this.data = data;\n        this.optionStates = new Array(data.availableOptions.length);\n        // Initialize with all false values\n        for (var i = 0; i < this.optionStates.length; i++) {\n            this.optionStates[i] = false;\n        }\n    }\n    MultipleChoiceComponent.make = function (data) {\n        try {\n            return new MultipleChoiceComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    MultipleChoiceComponent.prototype.getType = function () {\n        return \"MultipleChoice\" /* MultipleChoice */;\n    };\n    MultipleChoiceComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    MultipleChoiceComponent.prototype.getAvailableOptions = function () {\n        return this.data.availableOptions;\n    };\n    MultipleChoiceComponent.prototype.getOptionSelectedStates = function () {\n        return this.optionStates;\n    };\n    MultipleChoiceComponent.prototype.getMinNumberofSelectedOptions = function () {\n        return this.data.minNumberOfSelectedOptions;\n    };\n    MultipleChoiceComponent.prototype.getMaxNumberofSelectedOptions = function () {\n        return this.data.maxNumberOfSelectedOptions;\n    };\n    MultipleChoiceComponent.prototype.setOptionSelectedStates = function (selectedStates) {\n        for (var i = 0; i < selectedStates.length; i++) {\n            this.optionStates[i] = selectedStates[i];\n        }\n    };\n    MultipleChoiceComponent.prototype.ValidateMinNumberofSelectedOptions = function () {\n        var result = 0;\n        this.optionStates.forEach(function (element) {\n            if (element) {\n                result++;\n            }\n        });\n        return (result >= this.getMinNumberofSelectedOptions());\n    };\n    MultipleChoiceComponent.prototype.ValidateMaxNumberofSelectedOptions = function () {\n        var result = 0;\n        this.optionStates.forEach(function (element) {\n            if (element) {\n                result++;\n            }\n        });\n        return (result <= this.getMaxNumberofSelectedOptions());\n    };\n    MultipleChoiceComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_MULTIPLECHOICE_TAGNAME);\n        element.appendChild(doc.createTextNode(this.getOptionSelectedStates().toString()));\n        return [element];\n    };\n    // @Override\n    MultipleChoiceComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] = this.getOptionSelectedStates().toString();\n        return result;\n    };\n    // @Override\n    MultipleChoiceComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME] = this.getAvailableOptions(),\n            _a;\n    };\n    return MultipleChoiceComponent;\n}());\n(function (MultipleChoiceComponent) {\n    var MultipleChoiceComponentData = /** @class */ (function () {\n        function MultipleChoiceComponentData() {\n        }\n        return MultipleChoiceComponentData;\n    }());\n    MultipleChoiceComponent.MultipleChoiceComponentData = MultipleChoiceComponentData;\n})(MultipleChoiceComponent || (MultipleChoiceComponent = {}));\nmodule.exports = MultipleChoiceComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvTXVsdGlwbGVDaG9pY2VDb21wb25lbnQudHM/MDBkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsK0hBQTREO0FBRzVEO0lBWUMsaUNBQW1CLElBQXlEO1FBQzNFLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7U0FDM0Q7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9ELE1BQU0sSUFBSSxLQUFLLENBQUMsc0VBQXNFLENBQUMsQ0FBQztTQUN4RjtRQUVELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNO1lBQ3BDLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO2FBQ2hFO1FBQ0YsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksS0FBSyxDQUFVLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRSxtQ0FBbUM7UUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xELElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzdCO0lBQ0YsQ0FBQztJQWxDYSw0QkFBSSxHQUFsQixVQUFtQixJQUF5RDtRQUMzRSxJ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LENBQUM7QUFFRCxXQUFPLHVCQUF1QjtJQUM3QjtRQUFBO1FBS0EsQ0FBQztRQUFELGtDQUFDO0lBQUQsQ0FBQztJQUxZLG1EQUEyQiw4QkFLdkM7QUFDRixDQUFDLEVBUE0sdUJBQXVCLEtBQXZCLHVCQUF1QixRQU83QjtBQUVELGlCQUFTLHVCQUF1QixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9NdWx0aXBsZUNob2ljZUNvbXBvbmVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IElNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JTXVsdGlwbGVDaG9pY2VDb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IGltcGxlbWVudHMgSU11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQuTXVsdGlwbGVDaG9pY2VDb21wb25lbnREYXRhKTogSU11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgTXVsdGlwbGVDaG9pY2VDb21wb25lbnQoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkYXRhOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudC5NdWx0aXBsZUNob2ljZUNvbXBvbmVudERhdGE7XHJcblx0cHJpdmF0ZSBvcHRpb25TdGF0ZXM6IGJvb2xlYW5bXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50Lk11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuYXZhaWxhYmxlT3B0aW9ucyB8fCBkYXRhLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoIDwgMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLmF2YWlsYWJsZU9wdGlvbnMgbXVzdCBub3QgYmUgbnVsbCBvciBoYXZlIGxlc3MgdGhhbiB0d28gY2hvaWNlc1wiKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRhLmF2YWlsYWJsZU9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XHJcblx0XHRcdGlmICghb3B0aW9uKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiT3B0aW9uIHZhbHVlcyBtdXN0IG5vdCBjb250YWluIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcyA9IG5ldyBBcnJheTxib29sZWFuPihkYXRhLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoKTtcclxuXHRcdC8vIEluaXRpYWxpemUgd2l0aCBhbGwgZmFsc2UgdmFsdWVzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9uU3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMub3B0aW9uU3RhdGVzW2ldID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5NdWx0aXBsZUNob2ljZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRBdmFpbGFibGVPcHRpb25zKCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYXZhaWxhYmxlT3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRPcHRpb25TZWxlY3RlZFN0YXRlcygpOiBib29sZWFuW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9uU3RhdGVzO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE1pbk51bWJlcm9mU2VsZWN0ZWRPcHRpb25zKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE1heE51bWJlcm9mU2VsZWN0ZWRPcHRpb25zKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldE9wdGlvblNlbGVjdGVkU3RhdGVzKHNlbGVjdGVkU3RhdGVzOiBib29sZWFuW10pOiB2b2lkIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRTdGF0ZXMubGVuZ3RoOyBpICsrKSB7XHJcblx0XHRcdHRoaXMub3B0aW9uU3RhdGVzW2ldID0gc2VsZWN0ZWRTdGF0ZXNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgVmFsaWRhdGVNaW5OdW1iZXJvZlNlbGVjdGVkT3B0aW9ucygpOiBib29sZWFuIHtcclxuXHRcdGxldCByZXN1bHQ6IG51bWJlciA9IDA7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmVzdWx0Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiAocmVzdWx0ID49IHRoaXMuZ2V0TWluTnVtYmVyb2ZTZWxlY3RlZE9wdGlvbnMoKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgVmFsaWRhdGVNYXhOdW1iZXJvZlNlbGVjdGVkT3B0aW9ucygpOiBib29sZWFuIHtcclxuXHRcdGxldCByZXN1bHQ6IG51bWJlciA9IDA7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmVzdWx0Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiAocmVzdWx0IDw9IHRoaXMuZ2V0TWF4TnVtYmVyb2ZTZWxlY3RlZE9wdGlvbnMoKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9NVUxUSVBMRUNIT0lDRV9UQUdOQU1FKTtcclxuXHJcblx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldE9wdGlvblNlbGVjdGVkU3RhdGVzKCkudG9TdHJpbmcoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9NVUxUSVBMRUNIT0lDRV9LRVlOQU1FXSA9IHRoaXMuZ2V0T3B0aW9uU2VsZWN0ZWRTdGF0ZXMoKS50b1N0cmluZygpO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9RVUVTVElPTl9LRVlOQU1FXTogdGhpcy5nZXRRdWVzdGlvbigpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR09QVElPTlNfS0VZTkFNRV06IHRoaXMuZ2V0QXZhaWxhYmxlT3B0aW9ucygpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHRcdHB1YmxpYyBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXTtcclxuXHRcdHB1YmxpYyBtaW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9uczogbnVtYmVyO1xyXG5cdFx0cHVibGljIG1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zOiBudW1iZXI7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBNdWx0aXBsZUNob2ljZUNvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js":
/*!*********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar PromptComponent = /** @class */ (function () {\n    function PromptComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.title) {\n            throw new Error(\"data.title must not be null or empty\");\n        }\n        if (!data.yesButtonLabel) {\n            throw new Error(\"data.yesButtonLabel must not be null or empty\");\n        }\n        if (!data.noButtonLabel) {\n            throw new Error(\"data.noButtonLabel must not be null or empty\");\n        }\n        this.data = data;\n        this.selectedButton = 0 /* Unselected */;\n    }\n    PromptComponent.make = function (data) {\n        try {\n            return new PromptComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    PromptComponent.prototype.getType = function () {\n        return \"Prompt\" /* Prompt */;\n    };\n    // @Override\n    PromptComponent.prototype.getTitle = function () {\n        return this.data.title;\n    };\n    // @Override\n    PromptComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    PromptComponent.prototype.getYesButtonText = function () {\n        return this.data.yesButtonLabel;\n    };\n    // @Override\n    PromptComponent.prototype.getNoButtonText = function () {\n        return this.data.noButtonLabel;\n    };\n    // @Override\n    PromptComponent.prototype.setButtonSelected = function (selected) {\n        if (selected) {\n            this.selectedButton = selected;\n        }\n    };\n    // @Override\n    PromptComponent.prototype.getButtonSelected = function () {\n        return this.selectedButton;\n    };\n    // @Override\n    PromptComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_PROMPT_TAGNAME);\n        element.appendChild(doc.createTextNode(this.promptButtonToString(this.getButtonSelected())));\n        return [element];\n    };\n    // @Override\n    PromptComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.promptButtonToString(this.getButtonSelected());\n        return result;\n    };\n    // @Override\n    PromptComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_TITLE_KEYNAME] = this.getTitle(),\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_PROMPTYESTEXT_KEYNAME] = this.getYesButtonText(),\n            _a[ISurveyComponent.JSON_PROMPTNOTEXT_KEYNAME] = this.getNoButtonText(),\n            _a;\n    };\n    PromptComponent.prototype.promptButtonToString = function (value) {\n        switch (value) {\n            case 0 /* Unselected */:\n                return \"Unselected\";\n            case 1 /* Yes */:\n                return \"Yes\";\n            case 2 /* No */:\n                return \"No\";\n            default:\n                return \"Unknown\";\n        }\n    };\n    return PromptComponent;\n}());\n(function (PromptComponent) {\n    var PromptComponentData = /** @class */ (function () {\n        function PromptComponentData() {\n        }\n        return PromptComponentData;\n    }());\n    PromptComponent.PromptComponentData = PromptComponentData;\n})(PromptComponent || (PromptComponent = {}));\nmodule.exports = PromptComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50LnRzPzRjZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUk1RDtJQVlDLHlCQUFtQixJQUF5QztRQUMzRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1NBQ2pFO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGNBQWMscUJBQWtDLENBQUM7SUFDdkQsQ0FBQztJQTlCYSxvQkFBSSxHQUFsQixVQUFtQixJQUF5QztRQUMzRCxJQUFJO1lBQ0gsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUEwQkQsWUFBWTtJQUNMLGlDQUFPLEdBQWQ7UUFDQyw2QkFBb0M7SUFDckMsQ0FBQztJQUVELFlBQVk7SUFDTCxrQ0FBUSxHQUFmO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLHFDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFnQixHQUF2QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBZSxHQUF0QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBaUIsR0FBeEIsVUFBeUIsUUFBOEI7UUFDdEQsSUFBSSxRQUFRLEVBQUU7WUFDYixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQztTQUMvQjtJQUNGLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWlCLEdBQXhCO1FBQ0MsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzVCLENBQUM7SUFFRCxZQUFZO0lBQ0wsd0NBQWMsR0FBckIsVUFBc0IsR0FBYTtRQUNsQyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1QsTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1NBQzdDO1FBRUQsSUFBTSxPQUFPLEdBQVksR0FBRyxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hGLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFN0YsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZO0lBQ0wseUNBQWUsR0FBdEI7UUFDQyxJQUFNLE1BQU0sR0FBVyxFQUFFLENBQUM7UUFDMUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7UUFDbkcsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFnQixHQUF2Qjs7UUFDQztZQUNDLEdBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN0RCxHQUFDLGdCQUFnQixDQUFDLHFCQUFxQixJQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDNUQsR0FBQyxnQkFBZ0IsQ0FBQywwQkFBMEIsSUFBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdEUsR0FBQyxnQkFBZ0IsQ0FBQyx5QkFBeUIsSUFBRyxJQUFJLENBQUMsZUFBZSxFQUFFO2VBQ25FO0lBQ0gsQ0FBQztJQUVPLDhDQUFvQixHQUE1QixVQUE2QixLQUEyQjtRQUN2RCxRQUFRLEtBQUssRUFBRTtZQUNkO2dCQUNDLE9BQU8sWUFBWSxDQUFDO1lBQ3JCO2dCQUNDLE9BQU8sS0FBSyxDQUFDO1lBQ2Q7Z0JBQ0MsT0FBTyxJQUFJLENBQUM7WUFDYjtnQkFDQyxPQUFPLFNBQVMsQ0FBQztTQUNsQjtJQUNGLENBQUM7SUFDRixzQkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGVBQWU7SUFDckI7UUFBQTtRQUtBLENBQUM7UUFBRCwwQkFBQztJQUFELENBQUM7SUFMWSxtQ0FBbUIsc0JBSy9CO0FBQ0YsQ0FBQyxFQVBNLGVBQWUsS0FBZixlQUFlLFFBT3JCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9Qcm9tcHRDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBJUHJvbXB0IGZyb20gXCIuLy4uL0FwaS9JUHJvbXB0XCI7XHJcbmltcG9ydCB7IElQcm9tcHRDb21wb25lbnQgfSBmcm9tIFwiLi8uLi9BcGkvSVByb21wdENvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgUHJvbXB0Q29tcG9uZW50IGltcGxlbWVudHMgSVByb21wdENvbXBvbmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKTogSVByb21wdENvbXBvbmVudCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IFByb21wdENvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhO1xyXG5cdHByaXZhdGUgc2VsZWN0ZWRCdXR0b246IElQcm9tcHQuUHJvbXB0QnV0dG9uO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEucXVlc3Rpb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5xdWVzdGlvbiBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnRpdGxlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEudGl0bGUgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS55ZXNCdXR0b25MYWJlbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnllc0J1dHRvbkxhYmVsIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEubm9CdXR0b25MYWJlbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLm5vQnV0dG9uTGFiZWwgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5zZWxlY3RlZEJ1dHRvbiA9IElQcm9tcHQuUHJvbXB0QnV0dG9uLlVuc2VsZWN0ZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEudGl0bGU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0WWVzQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS55ZXNCdXR0b25MYWJlbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXROb0J1dHRvblRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEubm9CdXR0b25MYWJlbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzZXRCdXR0b25TZWxlY3RlZChzZWxlY3RlZDogSVByb21wdC5Qcm9tcHRCdXR0b24pOiB2b2lkIHtcclxuXHRcdGlmIChzZWxlY3RlZCkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQnV0dG9uID0gc2VsZWN0ZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0QnV0dG9uU2VsZWN0ZWQoKTogSVByb21wdC5Qcm9tcHRCdXR0b24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2VsZWN0ZWRCdXR0b247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSAge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUNvbXBvbmVudC5ET01fUFJPTVBUX1RBR05BTUUpO1xyXG5cdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUodGhpcy5wcm9tcHRCdXR0b25Ub1N0cmluZyh0aGlzLmdldEJ1dHRvblNlbGVjdGVkKCkpKSk7XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGNvbnN0IHJlc3VsdDogb2JqZWN0ID0ge307XHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1BST01QVF9LRVlOQU1FXSA9IHRoaXMucHJvbXB0QnV0dG9uVG9TdHJpbmcodGhpcy5nZXRCdXR0b25TZWxlY3RlZCgpKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9USVRMRV9LRVlOQU1FXTogdGhpcy5nZXRUaXRsZSgpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUWUVTVEVYVF9LRVlOQU1FXTogdGhpcy5nZXRZZXNCdXR0b25UZXh0KCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUTk9URVhUX0tFWU5BTUVdOiB0aGlzLmdldE5vQnV0dG9uVGV4dCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcHJvbXB0QnV0dG9uVG9TdHJpbmcodmFsdWU6IElQcm9tcHQuUHJvbXB0QnV0dG9uKTogc3RyaW5nIHtcclxuXHRcdHN3aXRjaCAodmFsdWUpIHtcclxuXHRcdFx0Y2FzZSBJUHJvbXB0LlByb21wdEJ1dHRvbi5VbnNlbGVjdGVkOlxyXG5cdFx0XHRcdHJldHVybiBcIlVuc2VsZWN0ZWRcIjtcclxuXHRcdFx0Y2FzZSBJUHJvbXB0LlByb21wdEJ1dHRvbi5ZZXM6XHJcblx0XHRcdFx0cmV0dXJuIFwiWWVzXCI7XHJcblx0XHRcdGNhc2UgSVByb21wdC5Qcm9tcHRCdXR0b24uTm86XHJcblx0XHRcdFx0cmV0dXJuIFwiTm9cIjtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gXCJVbmtub3duXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgUHJvbXB0Q29tcG9uZW50IHtcclxuXHRleHBvcnQgY2xhc3MgUHJvbXB0Q29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHRcdHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG5cdFx0cHVibGljIHllc0J1dHRvbkxhYmVsOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgbm9CdXR0b25MYWJlbDogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gUHJvbXB0Q29tcG9uZW50O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js":
/*!*********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar RatingComponent = /** @class */ (function () {\n    function RatingComponent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.question) {\n            throw new Error(\"data.question must not be null or empty\");\n        }\n        if (!data.ratingValuesAscending || data.ratingValuesAscending.length < 2) {\n            throw new Error(\"data.ratingValuesAscending must not be null or have less than two choices\");\n        }\n        data.ratingValuesAscending.forEach(function (rating) {\n            if (!rating) {\n                throw new Error(\"rating values must not contain null or empty\");\n            }\n        });\n        this.data = data;\n        this.selectedIndex = -1;\n    }\n    RatingComponent.make = function (data) {\n        try {\n            return new RatingComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    RatingComponent.prototype.getType = function () {\n        return \"Rating\" /* Rating */;\n    };\n    RatingComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    RatingComponent.prototype.getRatingValuesAscending = function () {\n        return this.data.ratingValuesAscending;\n    };\n    RatingComponent.prototype.getSelectedRating = function () {\n        if (!this.isRatingIndexValid(this.selectedIndex)) {\n            return \"\";\n        }\n        return this.data.ratingValuesAscending[this.selectedIndex];\n    };\n    RatingComponent.prototype.setSelectedRatingIndex = function (selected) {\n        if (this.isRatingIndexValid(selected)) {\n            this.selectedIndex = selected;\n        }\n        else {\n            this.selectedIndex = -1;\n        }\n    };\n    RatingComponent.prototype.getSelectedRatingIndex = function () {\n        return this.selectedIndex;\n    };\n    RatingComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_RATING_TAGNAME);\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            element.appendChild(doc.createTextNode(\"Not rated\"));\n        }\n        else {\n            // Enforce six digits after the decimal\n            element.appendChild(doc.createTextNode(this.getNormalizedRatingScore().toFixed(6)));\n        }\n        return [element];\n    };\n    // @Override\n    RatingComponent.prototype.getJsonElements = function () {\n        var result = {};\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            result[ISurveyComponent.JSON_RATING_KEYNAME] = \"Not rated\";\n        }\n        else {\n            result[ISurveyComponent.JSON_RATING_KEYNAME] = this.getNormalizedRatingScore();\n        }\n        return result;\n    };\n    // @Override\n    RatingComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME] = this.getRatingValuesAscending(),\n            _a;\n    };\n    RatingComponent.prototype.getNormalizedRatingScore = function () {\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            return -1;\n        }\n        if (this.data.isZeroBased) {\n            return (this.selectedIndex) / (this.data.ratingValuesAscending.length - 1);\n        }\n        else {\n            return (this.selectedIndex + 1.0) / this.data.ratingValuesAscending.length;\n        }\n    };\n    RatingComponent.prototype.isRatingIndexValid = function (index) {\n        return (index >= 0 && index < this.data.ratingValuesAscending.length);\n    };\n    return RatingComponent;\n}());\n(function (RatingComponent) {\n    var RatingComponentData = /** @class */ (function () {\n        function RatingComponentData() {\n        }\n        return RatingComponentData;\n    }());\n    RatingComponent.RatingComponentData = RatingComponentData;\n})(RatingComponent || (RatingComponent = {}));\nmodule.exports = RatingComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvUmF0aW5nQ29tcG9uZW50LnRzP2UwNjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUc1RDtJQVlDLHlCQUFtQixJQUF5QztRQUMzRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6RSxNQUFNLElBQUksS0FBSyxDQUFDLDJFQUEyRSxDQUFDLENBQUM7U0FDN0Y7UUFFRCxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBTTtZQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsOENBQThDLENBQUMsQ0FBQzthQUNoRTtRQUNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBOUJhLG9CQUFJLEdBQWxCLFVBQW1CLElBQXlDO1FBQzNELElBQUk7WUFDSCxPQUFPLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQTBCTSxpQ0FBTyxHQUFkO1FBQ0MsNkJBQW9DO0lBQ3JDLENBQUM7SUFFTSxxQ0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFD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QUMsTUFBTSxDQUFDO1NBQzNFO0lBQ0YsQ0FBQztJQUVPLDRDQUFrQixHQUExQixVQUEyQixLQUFhO1FBQ3ZDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRixzQkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGVBQWU7SUFDckI7UUFBQTtRQUlBLENBQUM7UUFBRCwwQkFBQztJQUFELENBQUM7SUFKWSxtQ0FBbUIsc0JBSS9CO0FBQ0YsQ0FBQyxFQU5NLGVBQWUsS0FBZixlQUFlLFFBTXJCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBJUmF0aW5nQ29tcG9uZW50IH0gZnJvbSBcIi4vLi4vQXBpL0lSYXRpbmdDb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIFJhdGluZ0NvbXBvbmVudCBpbXBsZW1lbnRzIElSYXRpbmdDb21wb25lbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSk6IElSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBSYXRpbmdDb21wb25lbnQoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkYXRhOiBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YTtcclxuXHRwcml2YXRlIHNlbGVjdGVkSW5kZXg6IG51bWJlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhKSB7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnF1ZXN0aW9uKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEucXVlc3Rpb24gbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcgfHwgZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoIDwgMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyBtdXN0IG5vdCBiZSBudWxsIG9yIGhhdmUgbGVzcyB0aGFuIHR3byBjaG9pY2VzXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmZvckVhY2goKHJhdGluZykgPT4ge1xyXG5cdFx0XHRpZiAoIXJhdGluZykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInJhdGluZyB2YWx1ZXMgbXVzdCBub3QgY29udGFpbiBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UmF0aW5nVmFsdWVzQXNjZW5kaW5nKCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNlbGVjdGVkUmF0aW5nKCk6IHN0cmluZyB7XHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuc2VsZWN0ZWRJbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmdbdGhpcy5zZWxlY3RlZEluZGV4XTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRTZWxlY3RlZFJhdGluZ0luZGV4KHNlbGVjdGVkOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmlzUmF0aW5nSW5kZXhWYWxpZChzZWxlY3RlZCkpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTZWxlY3RlZFJhdGluZ0luZGV4KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5zZWxlY3RlZEluZGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUNvbXBvbmVudC5ET01fUkFUSU5HX1RBR05BTUUpO1xyXG5cclxuXHRcdGlmICghdGhpcy5pc1JhdGluZ0luZGV4VmFsaWQodGhpcy5nZXRTZWxlY3RlZFJhdGluZ0luZGV4KCkpKSB7XHJcblx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKFwiTm90IHJhdGVkXCIpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEVuZm9yY2Ugc2l4IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxyXG5cdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldE5vcm1hbGl6ZWRSYXRpbmdTY29yZSgpLnRvRml4ZWQoNikpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gW2VsZW1lbnRdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpKSkge1xyXG5cdFx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IFwiTm90IHJhdGVkXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IHRoaXMuZ2V0Tm9ybWFsaXplZFJhdGluZ1Njb3JlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21wb25lbnRKc29uKCk6IG9iamVjdCB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUkFUSU5HT1BUSU9OU19LRVlOQU1FXTogdGhpcy5nZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Tm9ybWFsaXplZFJhdGluZ1Njb3JlKCk6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpKSkge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZGF0YS5pc1plcm9CYXNlZCkge1xyXG5cdFx0XHRyZXR1cm4gKHRoaXMuc2VsZWN0ZWRJbmRleCkgLyAodGhpcy5kYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGggLSAxKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiAodGhpcy5zZWxlY3RlZEluZGV4ICsgMS4wKSAvIHRoaXMuZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpc1JhdGluZ0luZGV4VmFsaWQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5kYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGgpO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZSBSYXRpbmdDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjbGFzcyBSYXRpbmdDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0cHVibGljIHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW107XHJcblx0XHRwdWJsaWMgaXNaZXJvQmFzZWQ6IGJvb2xlYW47XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBSYXRpbmdDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyEvents.js":
/*!*************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyEvents.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CountedActivitySequenceEventData = exports.CountedActivitySequenceEvent = exports.CountedActivityEventData = exports.CountedActivityEvent = void 0;\nvar ActivityTrackingData_1 = __webpack_require__(/*! ./ActivityTrackingData */ \"../FloodgateCore/dist/src/ActivityTrackingData.js\");\nvar ActivityTrackingSet_1 = __webpack_require__(/*! ./ActivityTrackingSet */ \"../FloodgateCore/dist/src/ActivityTrackingSet.js\");\nvar CountedActivityEvent = /** @class */ (function () {\n    function CountedActivityEvent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (data.count <= 0) {\n            throw new Error(\"count must be greater than 0\");\n        }\n        if (!data.activity || data.activity.length === 0) {\n            throw new Error(\"activity must not be null or an empty string\");\n        }\n        this.data = data;\n    }\n    CountedActivityEvent.make = function (data) {\n        try {\n            return new CountedActivityEvent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CountedActivityEvent.prototype.getActivity = function () {\n        return this.data.activity;\n    };\n    CountedActivityEvent.prototype.getCount = function () {\n        return this.data.count;\n    };\n    CountedActivityEvent.prototype.isAggregate = function () {\n        return this.data.isAggregate;\n    };\n    CountedActivityEvent.prototype.getType = function () {\n        return \"CountedActivity\" /* CountedActivity */;\n    };\n    CountedActivityEvent.prototype.getTrackingSet = function () {\n        var trackingDataList = new Array();\n        trackingDataList.push(new ActivityTrackingData_1.ActivityTrackingData(this.data.activity, this.data.count, this.data.isAggregate));\n        return new ActivityTrackingSet_1.ActivityTrackingSet(false, trackingDataList);\n    };\n    return CountedActivityEvent;\n}());\nexports.CountedActivityEvent = CountedActivityEvent;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar CountedActivityEventData = /** @class */ (function () {\n    function CountedActivityEventData() {\n    }\n    return CountedActivityEventData;\n}());\nexports.CountedActivityEventData = CountedActivityEventData;\nvar CountedActivitySequenceEvent = /** @class */ (function () {\n    function CountedActivitySequenceEvent(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.sequence) {\n            throw new Error(\"data.sequence must not be null\");\n        }\n        if (data.sequence.length === 0) {\n            throw new Error(\"data.sequence size must be greater than 0\");\n        }\n        this.data = [];\n        for (var _i = 0, _a = data.sequence; _i < _a.length; _i++) {\n            var countedActivityEventData = _a[_i];\n            this.data.push(new CountedActivityEvent(countedActivityEventData));\n        }\n    }\n    CountedActivitySequenceEvent.make = function (data) {\n        try {\n            return new CountedActivitySequenceEvent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CountedActivitySequenceEvent.prototype.getSequence = function () {\n        return this.data;\n    };\n    CountedActivitySequenceEvent.prototype.getType = function () {\n        return \"CountedActivitySequence\" /* CountedActivitySequence */;\n    };\n    CountedActivitySequenceEvent.prototype.getTrackingSet = function () {\n        var trackingDataList = new Array();\n        for (var _i = 0, _a = this.data; _i < _a.length; _i++) {\n            var countedActivityEvent = _a[_i];\n            trackingDataList.push(new ActivityTrackingData_1.ActivityTrackingData(countedActivityEvent.getActivity(), countedActivityEvent.getCount(), countedActivityEvent.isAggregate()));\n        }\n        return new ActivityTrackingSet_1.ActivityTrackingSet(true, trackingDataList);\n    };\n    return CountedActivitySequenceEvent;\n}());\nexports.CountedActivitySequenceEvent = CountedActivitySequenceEvent;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar CountedActivitySequenceEventData = /** @class */ (function () {\n    function CountedActivitySequenceEventData() {\n    }\n    /**\n     * No args constructor needed for serialization.\n     */\n    CountedActivitySequenceEventData.prototype.CountedActivitySequenceEventData = function () {\n    };\n    return CountedActivitySequenceEventData;\n}());\nexports.CountedActivitySequenceEventData = CountedActivitySequenceEventData;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUV2ZW50cy50cz9mYWVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG9JQUE4RDtBQUM5RCxpSUFBNEQ7QUE0QjVEO0lBV0MsOEJBQW1CLElBQThCO1FBQ2hELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO1lBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztTQUNoRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNqRCxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDaEU7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBdEJhLHlCQUFJLEdBQWxCLFVBQW1CLElBQThCO1FBQ2hELElBQUk7WUFDSCxPQUFPLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBa0JNLDBDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRU0sdUNBQVEsR0FBZjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVNLDBDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM5QixDQUFDO0lBRU0sc0NBQU8sR0FBZDtRQUNDLCtDQUF5QztJQUMxQyxDQUFDO0lBRU0sNkNBQWMsR0FBckI7UUFDQyxJQUFNLGdCQUFnQixHQUFHLElBQUksS0FBSyxFQUF3QixDQUFDO1FBQzNELGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDJDQUFvQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUM1RyxPQUFPLElBQUkseUNBQW1CLENBQUMsS0FBSyxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTlDWSxvREFBb0I7QUFnRGpDOztHQUVHO0FBQ0g7SUFBQTtJQUlBLENBQUM7SUFBRCwrQkFBQztBQUFELENBQUM7QUFKWSw0REFBd0I7QUFNckM7SUFXQyxzQ0FBbUIsSUFBc0M7UUFDeEQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUNELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLENBQUMsQ0FBQztTQUM3RDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2YsS0FBdUMsVUFBYSxFQUFiLFNBQUksQ0FBQyxRQUFRLEVBQWIsY0FBYSxFQUFiLElBQWEsRUFBRTtZQUFqRCxJQUFNLHdCQUF3QjtZQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztTQUNuRTtJQUNGLENBQUM7SUF6QmEsaUNBQUksR0FBbEIsVUFBbUIsSUFBc0M7UUFDeEQsSUFBSTtZQUNILE9BQU8sSUFBSSw0QkFBNEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFxQk0sa0RBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVNLDhDQUFPLEdBQWQ7UUFDQywrREFBaUQ7SUFDbEQsQ0FBQztJQUVNLHFEQUFjLEdBQXJCO1FBQ0MsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEtBQUssRUFBd0IsQ0FBQztRQUUzRCxLQUFtQyxVQUFTLEVBQVQsU0FBSSxDQUFDLElBQUksRUFBVCxjQUFTLEVBQVQsSUFBUyxFQUFFO1lBQXpDLElBQU0sb0JBQW9CO1lBQzlCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDJDQUFvQixDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxFQUFFLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxFQUNqSCxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUkseUNBQW1CLENBQUMsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNGLG1DQUFDO0FBQUQsQ0FBQztBQTlDWSxvRUFBNEI7QUFnRHpDOztHQUVHO0FBQ0g7SUFBQTtJQVFBLENBQUM7SUFMQTs7T0FFRztJQUNJLDJFQUFnQyxHQUF2QztJQUNBLENBQUM7SUFDRix1Q0FBQztBQUFELENBQUM7QUFSWSw0RUFBZ0MiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlFdmVudHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nRGF0YSB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdEYXRhXCI7XHJcbmltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi9JU3VydmV5RXZlbnRcIjtcclxuXHJcbi8qKlxyXG4gKiBBIFN1cnZleUV2ZW50IHRoYXQgY291bnRzIG9jY3VycmVuY2VzIG9mIGEgbGl0ZXJhbCBzdHJpbmcgbG9nZ2VkIGJ5IHRoZSBwcm9kdWN0LlxyXG4gKiBTdXJ2ZXkgaXMgYWN0aXZhdGVkIG9uY2UgdGhlIGFjdGl2aXR5IG9jY3VycyBDb3VudCB0aW1lcy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvdW50ZWRBY3Rpdml0eUV2ZW50IGV4dGVuZHMgSVN1cnZleUV2ZW50IHtcclxuXHQvKipcclxuXHQgKiBOYW1lIG9mIHRoZSBhY3Rpdml0eSB0byBsaXN0ZW4gZm9yXHJcblx0ICovXHJcblx0Z2V0QWN0aXZpdHkoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBOdW1iZXIgb2YgdGltZXMgdGhlIG5hbWVkIGFjdGl2aXR5IG11c3QgYmUgbG9nZ2VkIHRvIGFjdGl2YXRlXHJcblx0ICovXHJcblx0Z2V0Q291bnQoKTogbnVtYmVyO1xyXG5cclxuXHQvKipcclxuXHQgKiBXaGV0aGVyIG9yIG5vdCB0aGUgY291bnQgc2hvdWxkIGJlIHBlcnNpc3RlZCBhY3Jvc3MgYXBwIHNlc3Npb25zXHJcblx0ICovXHJcblx0aXNBZ2dyZWdhdGUoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCBleHRlbmRzIElTdXJ2ZXlFdmVudCB7XHJcblx0Z2V0U2VxdWVuY2UoKTogSUNvdW50ZWRBY3Rpdml0eUV2ZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVkQWN0aXZpdHlFdmVudCBpbXBsZW1lbnRzIElDb3VudGVkQWN0aXZpdHlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSk6IElDb3VudGVkQWN0aXZpdHlFdmVudCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IENvdW50ZWRBY3Rpdml0eUV2ZW50KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGF0YTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhKSB7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuY291bnQgPD0gMCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLmFjdGl2aXR5IHx8IGRhdGEuYWN0aXZpdHkubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImFjdGl2aXR5IG11c3Qgbm90IGJlIG51bGwgb3IgYW4gZW1wdHkgc3RyaW5nXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYWN0aXZpdHk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q291bnQoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmlzQWdncmVnYXRlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleUV2ZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlFdmVudC5UeXBlLkNvdW50ZWRBY3Rpdml0eTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUcmFja2luZ1NldCgpOiBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRcdGNvbnN0IHRyYWNraW5nRGF0YUxpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2luZ0RhdGE+KCk7XHJcblx0XHR0cmFja2luZ0RhdGFMaXN0LnB1c2gobmV3IEFjdGl2aXR5VHJhY2tpbmdEYXRhKHRoaXMuZGF0YS5hY3Rpdml0eSwgdGhpcy5kYXRhLmNvdW50LCB0aGlzLmRhdGEuaXNBZ2dyZWdhdGUpKTtcclxuXHRcdHJldHVybiBuZXcgQWN0aXZpdHlUcmFja2luZ1NldChmYWxzZSwgdHJhY2tpbmdEYXRhTGlzdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhIHtcclxuXHRwdWJsaWMgYWN0aXZpdHk6IHN0cmluZztcclxuXHRwdWJsaWMgY291bnQ6IG51bWJlcjtcclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50IGltcGxlbWVudHMgSUNvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSk6IElDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IElDb3VudGVkQWN0aXZpdHlFdmVudFtdO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuc2VxdWVuY2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5zZXF1ZW5jZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuc2VxdWVuY2UubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuc2VxdWVuY2Ugc2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IFtdO1xyXG5cdFx0Zm9yIChjb25zdCBjb3VudGVkQWN0aXZpdHlFdmVudERhdGEgb2YgZGF0YS5zZXF1ZW5jZSkge1xyXG5cdFx0XHR0aGlzLmRhdGEucHVzaChuZXcgQ291bnRlZEFjdGl2aXR5RXZlbnQoY291bnRlZEFjdGl2aXR5RXZlbnREYXRhKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2VxdWVuY2UoKTogSUNvdW50ZWRBY3Rpdml0eUV2ZW50W10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IElTdXJ2ZXlFdmVudC5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5RXZlbnQuVHlwZS5Db3VudGVkQWN0aXZpdHlTZXF1ZW5jZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUcmFja2luZ1NldCgpOiBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRcdGNvbnN0IHRyYWNraW5nRGF0YUxpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2luZ0RhdGE+KCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBjb3VudGVkQWN0aXZpdHlFdmVudCBvZiB0aGlzLmRhdGEpIHtcclxuXHRcdFx0dHJhY2tpbmdEYXRhTGlzdC5wdXNoKG5ldyBBY3Rpdml0eVRyYWNraW5nRGF0YShjb3VudGVkQWN0aXZpdHlFdmVudC5nZXRBY3Rpdml0eSgpLCBjb3VudGVkQWN0aXZpdHlFdmVudC5nZXRDb3VudCgpLFxyXG5cdFx0XHRcdGNvdW50ZWRBY3Rpdml0eUV2ZW50LmlzQWdncmVnYXRlKCkpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IEFjdGl2aXR5VHJhY2tpbmdTZXQodHJ1ZSwgdHJhY2tpbmdEYXRhTGlzdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEge1xyXG5cdHB1YmxpYyBzZXF1ZW5jZTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhW107XHJcblxyXG5cdC8qKlxyXG5cdCAqIE5vIGFyZ3MgY29uc3RydWN0b3IgbmVlZGVkIGZvciBzZXJpYWxpemF0aW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSgpIHtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyEvents.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyMetadata.js":
/*!***************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyMetadata.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Metadata = exports.SurveyMetadata = void 0;\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar SurveyMetadata = /** @class */ (function () {\n    function SurveyMetadata(data) {\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        if (!data.contentMetadata) {\n            throw new Error(\"content metadata must not be null\");\n        }\n        if (!Utils.isObject(data.contentMetadata)) {\n            throw new Error(\"content metadata must be of object type\");\n        }\n        this.data = data;\n    }\n    SurveyMetadata.make = function (data) {\n        try {\n            return new SurveyMetadata(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    SurveyMetadata.prototype.getContentMetadata = function () {\n        return this.data.contentMetadata;\n    };\n    return SurveyMetadata;\n}());\nexports.SurveyMetadata = SurveyMetadata;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar Metadata = /** @class */ (function () {\n    function Metadata() {\n    }\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleU1ldGFkYXRhLnRzP2U0NzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EscUZBQWlDO0FBRWpDO0lBV0Msd0JBQW1CLElBQWM7UUFDaEMsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7U0FDM0Q7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBdEJhLG1CQUFJLEdBQWxCLFVBQW1CLElBQWM7UUFDaEMsSUFBSTtZQUNILE9BQU8sSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBa0JNLDJDQUFrQixHQUF6QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDbEMsQ0FBQztJQUNGLHFCQUFDO0FBQUQsQ0FBQztBQTVCWSx3Q0FBYztBQThCM0I7O0dBRUc7QUFDSDtJQUFBO0lBRUEsQ0FBQztJQUFELGVBQUM7QUFBRCxDQUFDO0FBRlksNEJBQVEiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlNZXRhZGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuL0lTdXJ2ZXlNZXRhZGF0YVwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleU1ldGFkYXRhIGltcGxlbWVudHMgSVN1cnZleU1ldGFkYXRhIHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogTWV0YWRhdGEpOiBJU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlNZXRhZGF0YShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IE1ldGFkYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogTWV0YWRhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuY29udGVudE1ldGFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvbnRlbnQgbWV0YWRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghVXRpbHMuaXNPYmplY3QoZGF0YS5jb250ZW50TWV0YWRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvbnRlbnQgbWV0YWRhdGEgbXVzdCBiZSBvZiBvYmplY3QgdHlwZVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbnRlbnRNZXRhZGF0YSgpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5jb250ZW50TWV0YWRhdGE7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWV0YWRhdGEge1xyXG5cdHB1YmxpYyBjb250ZW50TWV0YWRhdGE6IG9iamVjdDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyMetadata.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyStatCollection.js":
/*!*********************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyStatCollection.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurveyStatCollection = void 0;\n/**\n * Generic class for managing a collection of survey stats. Includes read-from/write-to json structures or a file,\n * as well as merge routines for combining collections\n */\nvar SurveyStatCollection = /** @class */ (function () {\n    function SurveyStatCollection() {\n        // The following property name matches the JSON root key name for proper serialization/ deserialization\n        this.Surveys = {};\n        this.Surveys = {};\n    }\n    /**\n     * Add stats. Overwrites if already exists.\n     */\n    SurveyStatCollection.prototype.addStats = function (surveyId, stats) {\n        this.Surveys[surveyId] = stats;\n    };\n    /**\n     * Get a SurveyActivationStats object by surveyId. Returns null if surveyId is not found\n     */\n    SurveyStatCollection.prototype.getBySurveyId = function (surveyId) {\n        return (this.Surveys[surveyId]);\n    };\n    /**\n     * Get all stats available\n     */\n    SurveyStatCollection.prototype.getStats = function () {\n        return this.Surveys;\n    };\n    return SurveyStatCollection;\n}());\nexports.SurveyStatCollection = SurveyStatCollection;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uLnRzPzJkMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUE7OztHQUdHO0FBQ0g7SUFJQztRQUhBLHVHQUF1RztRQUMvRixZQUFPLEdBQXdCLEVBQUUsQ0FBQztRQUd6QyxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQ7O09BRUc7SUFDSSx1Q0FBUSxHQUFmLFVBQWdCLFFBQWdCLEVBQUUsS0FBYTtRQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSw0Q0FBYSxHQUFwQixVQUFxQixRQUFnQjtRQUNwQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRDs7T0FFRztJQUNJLHVDQUFRLEdBQWY7UUFDQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDckIsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTVCcUIsb0RBQW9CIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRGljdGlvbmFyeSB9IGZyb20gXCIuL0NvbW1vblwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyaWMgY2xhc3MgZm9yIG1hbmFnaW5nIGEgY29sbGVjdGlvbiBvZiBzdXJ2ZXkgc3RhdHMuIEluY2x1ZGVzIHJlYWQtZnJvbS93cml0ZS10byBqc29uIHN0cnVjdHVyZXMgb3IgYSBmaWxlLFxyXG4gKiBhcyB3ZWxsIGFzIG1lcmdlIHJvdXRpbmVzIGZvciBjb21iaW5pbmcgY29sbGVjdGlvbnNcclxuICovXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxUU3RhdHM+IHtcclxuXHQvLyBUaGUgZm9sbG93aW5nIHByb3BlcnR5IG5hbWUgbWF0Y2hlcyB0aGUgSlNPTiByb290IGtleSBuYW1lIGZvciBwcm9wZXIgc2VyaWFsaXphdGlvbi8gZGVzZXJpYWxpemF0aW9uXHJcblx0cHJpdmF0ZSBTdXJ2ZXlzOiBJRGljdGlvbmFyeTxUU3RhdHM+ID0ge307XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuU3VydmV5cyA9IHt9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHN0YXRzLiBPdmVyd3JpdGVzIGlmIGFscmVhZHkgZXhpc3RzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhZGRTdGF0cyhzdXJ2ZXlJZDogc3RyaW5nLCBzdGF0czogVFN0YXRzKTogdm9pZCB7XHJcblx0XHR0aGlzLlN1cnZleXNbc3VydmV5SWRdID0gc3RhdHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYSBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgb2JqZWN0IGJ5IHN1cnZleUlkLiBSZXR1cm5zIG51bGwgaWYgc3VydmV5SWQgaXMgbm90IGZvdW5kXHJcblx0ICovXHJcblx0cHVibGljIGdldEJ5U3VydmV5SWQoc3VydmV5SWQ6IHN0cmluZyk6IFRTdGF0cyB7XHJcblx0XHRyZXR1cm4gKHRoaXMuU3VydmV5c1tzdXJ2ZXlJZF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFsbCBzdGF0cyBhdmFpbGFibGVcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U3RhdHMoKTogSURpY3Rpb25hcnk8VFN0YXRzPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5TdXJ2ZXlzO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollection.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyStatCollectionActivation.js":
/*!*******************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyStatCollectionActivation.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurveyActivationStats = exports.FileBasedSurveyActivationStatsProvider = exports.HostBasedSurveyActivationStatsProvider = exports.SurveyActivationStatsProviderFactory = exports.SurveyStatCollectionActivation = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar ISurvey = __webpack_require__(/*! ./Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar StateProviderHelpers = __webpack_require__(/*! ./StateProviderHelpers */ \"../FloodgateCore/dist/src/StateProviderHelpers.js\");\nvar SurveyStatCollection_1 = __webpack_require__(/*! ./SurveyStatCollection */ \"../FloodgateCore/dist/src/SurveyStatCollection.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/**\n * StatCollection for activated surveys.  Should be used to track the SurveyIds\n * that have been recently shown to a user\n */\n// TODO (gachoi) Check if this applies - VSOBug: 1443010 One bad Stat object fails the entire serialization\nvar SurveyStatCollectionActivation = /** @class */ (function (_super) {\n    __extends(SurveyStatCollectionActivation, _super);\n    function SurveyStatCollectionActivation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Load from Json\n     */\n    SurveyStatCollectionActivation.fromJson = function (json) {\n        var statCollection = new SurveyStatCollectionActivation();\n        if (!json) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed, { ErrorMessage: \"Input json is null or empty.\" });\n            return statCollection;\n        }\n        var readStats;\n        try {\n            readStats = JSON.parse(json);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed, { ErrorMessage: \"Json parsing failed. \" + e.toString() });\n            return statCollection;\n        }\n        if (!statCollection.deserialize(readStats)) {\n            return new SurveyStatCollectionActivation();\n        }\n        return statCollection;\n    };\n    /**\n     * Convert to Json\n     */\n    SurveyStatCollectionActivation.toJson = function (object) {\n        if (!object) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.ToJson.Failed, { ErrorMessage: \"Input json is null or empty.\" });\n            object = new SurveyStatCollectionActivation();\n        }\n        return JSON.stringify(object);\n    };\n    /**\n     * Add another SurveyStatCollectionActivation object\n     */\n    SurveyStatCollectionActivation.prototype.accumulate = function (other) {\n        if (!other) {\n            return;\n        }\n        var stats = other.getStats();\n        // SurveyActivationStats accumulation simply overwrites any keys from 'other' into our collection\n        for (var key in stats) {\n            if (stats.hasOwnProperty(key)) {\n                this.addStats(key, stats[key]);\n            }\n        }\n    };\n    /**\n     * Method to deserialize SurveyStatCollectionActivation\n     * @param input: collection of SurveyStatCollectionActivation\n     * Returns result of validation check\n     */\n    SurveyStatCollectionActivation.prototype.deserialize = function (input) {\n        var rawStats = input.Surveys;\n        var now = new Date();\n        for (var key in rawStats) {\n            if (rawStats.hasOwnProperty(key)) {\n                var newStat = new SurveyActivationStats();\n                if (newStat.deserialize(rawStats[key]) && newStat.ExpirationTimeUtc > now) {\n                    this.addStats(key, newStat);\n                }\n            }\n        }\n        return this.validate();\n    };\n    /**\n     * Validate the Surveys\n     * Returns false if validation fails\n     */\n    SurveyStatCollectionActivation.prototype.validate = function () {\n        return Utils.isObject(this.getStats());\n    };\n    return SurveyStatCollectionActivation;\n}(SurveyStatCollection_1.SurveyStatCollection));\nexports.SurveyStatCollectionActivation = SurveyStatCollectionActivation;\nvar SurveyActivationStatsProviderFactory = /** @class */ (function () {\n    function SurveyActivationStatsProviderFactory() {\n    }\n    SurveyActivationStatsProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedSurveyActivationStatsProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedSurveyActivationStatsProvider(fileBasedStorage);\n    };\n    return SurveyActivationStatsProviderFactory;\n}());\nexports.SurveyActivationStatsProviderFactory = SurveyActivationStatsProviderFactory;\nvar HostBasedSurveyActivationStatsProvider = /** @class */ (function () {\n    function HostBasedSurveyActivationStatsProvider(fileBasedStorageProvider, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error(\"host-based storage must not be null\");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file based provider is optional\n        if (fileBasedStorageProvider) {\n            this.fileBasedStorageProvider = new FileBasedSurveyActivationStatsProvider(fileBasedStorageProvider);\n        }\n    }\n    // @Override\n    HostBasedSurveyActivationStatsProvider.prototype.load = function () {\n        var surveyStatsFromHost = this.getSurveyStatsFromHost();\n        var surveyStatsFromFile = new SurveyStatCollectionActivation();\n        if (this.fileBasedStorageProvider) {\n            surveyStatsFromFile = this.fileBasedStorageProvider.load();\n        }\n        var surveyStatsCollections = StateProviderHelpers.MergeAndUpdateSurveyActivationStats(surveyStatsFromFile, surveyStatsFromHost);\n        return surveyStatsCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedSurveyActivationStatsProvider.prototype.save = function (stats) {\n        if (!stats) {\n            return;\n        }\n        var statsFromHost = this.getSurveyStatsFromHost();\n        var statCollection = StateProviderHelpers.MergeAndUpdateSurveyActivationStats(stats, statsFromHost);\n        var toBeUpdatedStats = statCollection.find(1 /* ToBeUpdated */);\n        var mergedStates = statCollection.find(0 /* Merged */);\n        // write delta_data to Roaming\n        if (toBeUpdatedStats) {\n            var toBeUpdatedStatsDictionary = toBeUpdatedStats.getStats();\n            for (var surveyId in toBeUpdatedStatsDictionary) {\n                if (toBeUpdatedStatsDictionary.hasOwnProperty(surveyId)) {\n                    var item = StateProviderHelpers.makeSettingItemValue(JSON.stringify(toBeUpdatedStatsDictionary[surveyId]));\n                    this.hostBasedStorage.upsertSettingItem(FileType[FileType.SurveyActivationStats], surveyId, item);\n                }\n            }\n        }\n        // Write merged data to File\n        if (this.fileBasedStorageProvider) {\n            this.fileBasedStorageProvider.save(mergedStates);\n        }\n    };\n    HostBasedSurveyActivationStatsProvider.prototype.getSurveyStatsFromHost = function () {\n        var statsCollection = new SurveyStatCollectionActivation();\n        var itemData = this.hostBasedStorage.readSettingList(FileType[FileType.SurveyActivationStats]);\n        var now = new Date();\n        for (var surveyId in itemData) {\n            if (!itemData.hasOwnProperty(surveyId)) {\n                continue;\n            }\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(itemData[surveyId]);\n            var newStats = new SurveyActivationStats();\n            try {\n                var readStats = JSON.parse(dataString);\n                newStats.deserialize(readStats);\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedSurveyActivationStatsProvider.GetSurveyStatsFromHost.Failed, { ErrorMessage: \"Json parsing/deserializing failed. \" + e.toString() + \".  Input:\" + dataString });\n            }\n            if (newStats.ExpirationTimeUtc <= now) {\n                // Delete survey stat from host storage if it's expired.\n                this.hostBasedStorage.deleteSettingItem(FileType[FileType.SurveyActivationStats], surveyId);\n            }\n            else {\n                statsCollection.addStats(surveyId, newStats);\n            }\n        }\n        return statsCollection;\n    };\n    return HostBasedSurveyActivationStatsProvider;\n}());\nexports.HostBasedSurveyActivationStatsProvider = HostBasedSurveyActivationStatsProvider;\nvar FileBasedSurveyActivationStatsProvider = /** @class */ (function () {\n    function FileBasedSurveyActivationStatsProvider(storage) {\n        if (!storage) {\n            throw new Error(\"storage must not be null\");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedSurveyActivationStatsProvider.prototype.load = function () {\n        var readString = this.storage.read(IFloodgateStorageProvider.FileType.SurveyActivationStats);\n        if (!readString) {\n            return new SurveyStatCollectionActivation();\n        }\n        return SurveyStatCollectionActivation.fromJson(readString);\n    };\n    // @Override\n    FileBasedSurveyActivationStatsProvider.prototype.save = function (surveyStatCollectionActivation) {\n        if (!surveyStatCollectionActivation) {\n            return;\n        }\n        var writeString = SurveyStatCollectionActivation.toJson(surveyStatCollectionActivation);\n        this.storage.write(IFloodgateStorageProvider.FileType.SurveyActivationStats, writeString);\n    };\n    return FileBasedSurveyActivationStatsProvider;\n}());\nexports.FileBasedSurveyActivationStatsProvider = FileBasedSurveyActivationStatsProvider;\nvar SurveyActivationStats = /** @class */ (function () {\n    function SurveyActivationStats() {\n        this.SurveyLaunchCount = 0;\n        this.SurveyLaunchCountPerSession = 0;\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    SurveyActivationStats.prototype.deserialize = function (input) {\n        var _a, _b;\n        this.ActivationTimeUtc = input.ActivationTimeUtc;\n        this.ExpirationTimeUtc = input.ExpirationTimeUtc;\n        this.Type = input.Type;\n        this.SurveyLaunchCount = (_a = input.SurveyLaunchCount) !== null && _a !== void 0 ? _a : 0;\n        this.SurveyLaunchCountPerSession = (_b = input.SurveyLaunchCountPerSession) !== null && _b !== void 0 ? _b : 0;\n        return this.validate();\n    };\n    /**\n     * Method to call after deserialization to validate generated object.\n     * Returns false if not valid.\n     */\n    SurveyActivationStats.prototype.validate = function () {\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ActivationTimeUtc)) {\n            this.ActivationTimeUtc = Utils.stringToDate(this.ActivationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ExpirationTimeUtc)) {\n            this.ExpirationTimeUtc = Utils.stringToDate(this.ExpirationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        if (!Utils.isNumber(this.SurveyLaunchCount) ||\n            !Utils.isNumber(this.SurveyLaunchCountPerSession)) {\n            return false;\n        }\n        return Utils.isEnumValue(this.Type, ISurvey.Type);\n    };\n    return SurveyActivationStats;\n}());\nexports.SurveyActivationStats = SurveyActivationStats;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi50cz9iM2QyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSx5SkFBNkU7QUFDN0UsSUFBTyxRQUFRLEdBQUcseUJBQXlCLENBQUMsUUFBUSxDQUFDO0FBQ3JELG1HQUF5QztBQUV6QyxtR0FBNkM7QUFDN0MscUhBQW9EO0FBQ3BELGtJQUErRDtBQUMvRCxvSUFBOEQ7QUFDOUQscUZBQWlDO0FBRWpDOzs7R0FHRztBQUNILDJHQUEyRztBQUMzRztJQUFvRCxrREFBMkM7SUFBL0Y7O0lBd0ZBLENBQUM7SUF2RkE7O09BRUc7SUFDVyx1Q0FBUSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQU0sY0FBYyxHQUFHLElBQUksOEJBQThCLEVBQUUsQ0FBQztRQUU1RCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLFNBQVMsQ0FDN0MsMEJBQWMsQ0FBQyw4QkFBOEIsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUUsWUFBWSxFQUFFLDhCQUE4QixFQUFFLENBQUMsQ0FBQztZQUNsSCxPQUFPLGNBQWMsQ0FBQztTQUN0QjtRQUVELElBQUksU0FBeUMsQ0FBQztRQUM5QyxJQUFJO1lBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsOEJBQThCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSx1QkFBdUIsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQzFILE9BQU8sY0FBYyxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsU0FBUyxD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QUFDLGlCQUFpQixDQUFDLENBQUM7U0FDcEU7YUFBTTtZQUNOLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDMUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxFQUFFO1lBQ25ELE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxPQUFPLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNGLDRCQUFDO0FBQUQsQ0FBQztBQWpEWSxzREFBcUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnksIElTZXJpYWxpemFibGUgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCAqIGFzIFN0YXRlUHJvdmlkZXJIZWxwZXJzIGZyb20gXCIuL1N0YXRlUHJvdmlkZXJIZWxwZXJzXCI7XHJcbmltcG9ydCB7IFN1cnZleVN0YXRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiBTdGF0Q29sbGVjdGlvbiBmb3IgYWN0aXZhdGVkIHN1cnZleXMuICBTaG91bGQgYmUgdXNlZCB0byB0cmFjayB0aGUgU3VydmV5SWRzXHJcbiAqIHRoYXQgaGF2ZSBiZWVuIHJlY2VudGx5IHNob3duIHRvIGEgdXNlclxyXG4gKi9cclxuLy8gVE9ETyAoZ2FjaG9pKSBDaGVjayBpZiB0aGlzIGFwcGxpZXMgLSBWU09CdWc6IDE0NDMwMTAgT25lIGJhZCBTdGF0IG9iamVjdCBmYWlscyB0aGUgZW50aXJlIHNlcmlhbGl6YXRpb25cclxuZXhwb3J0IGNsYXNzIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiBleHRlbmRzIFN1cnZleVN0YXRDb2xsZWN0aW9uPFN1cnZleUFjdGl2YXRpb25TdGF0cz4gaW1wbGVtZW50cyBJU2VyaWFsaXphYmxlIHtcclxuXHQvKipcclxuXHQgKiBMb2FkIGZyb20gSnNvblxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgZnJvbUpzb24oanNvbjogc3RyaW5nKTogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIHtcclxuXHRcdGNvbnN0IHN0YXRDb2xsZWN0aW9uID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbigpO1xyXG5cclxuXHRcdGlmICghanNvbikge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi5Gcm9tSnNvbi5GYWlsZWQsIHsgRXJyb3JNZXNzYWdlOiBcIklucHV0IGpzb24gaXMgbnVsbCBvciBlbXB0eS5cIiB9KTtcclxuXHRcdFx0cmV0dXJuIHN0YXRDb2xsZWN0aW9uO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCByZWFkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbjtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlYWRTdGF0cyA9IEpTT04ucGFyc2UoanNvbik7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uLkZyb21Kc29uLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgfSk7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0YXRDb2xsZWN0aW9uLmRlc2VyaWFsaXplKHJlYWRTdGF0cykpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RhdENvbGxlY3Rpb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHN0cmluZyB7XHJcblx0XHRpZiAoIW9iamVjdCkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi5Ub0pzb24uRmFpbGVkLCB7IEVycm9yTWVzc2FnZTogXCJJbnB1dCBqc29uIGlzIG51bGwgb3IgZW1wdHkuXCIgfSk7XHJcblx0XHRcdG9iamVjdCA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBhbm90aGVyIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgYWNjdW11bGF0ZShvdGhlcjogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKTogdm9pZCB7XHJcblx0XHRpZiAoIW90aGVyKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGF0czogSURpY3Rpb25hcnk8U3VydmV5QWN0aXZhdGlvblN0YXRzPiA9IG90aGVyLmdldFN0YXRzKCk7XHJcblx0XHQvLyBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgYWNjdW11bGF0aW9uIHNpbXBseSBvdmVyd3JpdGVzIGFueSBrZXlzIGZyb20gJ290aGVyJyBpbnRvIG91ciBjb2xsZWN0aW9uXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdGF0cykge1xyXG5cdFx0XHRpZiAoc3RhdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdHRoaXMuYWRkU3RhdHMoa2V5LCBzdGF0c1trZXldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvblxyXG5cdCAqIEBwYXJhbSBpbnB1dDogY29sbGVjdGlvbiBvZiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cclxuXHQgKiBSZXR1cm5zIHJlc3VsdCBvZiB2YWxpZGF0aW9uIGNoZWNrXHJcblx0ICovXHJcblx0cHVibGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IHJhd1N0YXRzOiBJRGljdGlvbmFyeTxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+ID0gaW5wdXQuU3VydmV5cztcclxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gcmF3U3RhdHMpIHtcclxuXHRcdFx0aWYgKHJhd1N0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBuZXdTdGF0ID0gbmV3IFN1cnZleUFjdGl2YXRpb25TdGF0cygpO1xyXG5cclxuXHRcdFx0XHRpZiAobmV3U3RhdC5kZXNlcmlhbGl6ZShyYXdTdGF0c1trZXldKSAmJiBuZXdTdGF0LkV4cGlyYXRpb25UaW1lVXRjID4gbm93KSB7XHJcblx0XHRcdFx0XHR0aGlzLmFkZFN0YXRzKGtleSwgbmV3U3RhdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIHRoZSBTdXJ2ZXlzXHJcblx0ICogUmV0dXJucyBmYWxzZSBpZiB2YWxpZGF0aW9uIGZhaWxzXHJcblx0ICovXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIFV0aWxzLmlzT2JqZWN0KHRoaXMuZ2V0U3RhdHMoKSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0bG9hZCgpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb247XHJcblxyXG5cdHNhdmUoc3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJGYWN0b3J5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZmlsZUJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcixcclxuXHRcdGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKTogSVN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyIHtcclxuXHRcdGlmIChob3N0QmFzZWRTdG9yYWdlKSB7XHJcblx0XHRcdHJldHVybiBuZXcgSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSwgaG9zdEJhc2VkU3RvcmFnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBGaWxlQmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciBpbXBsZW1lbnRzIElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IEZpbGVCYXNlZFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyO1xyXG5cdHByaXZhdGUgaG9zdEJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2s7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlIGJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyID0gbmV3IEZpbGVCYXNlZFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlcik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9hZCgpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24ge1xyXG5cdFx0Y29uc3Qgc3VydmV5U3RhdHNGcm9tSG9zdDogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gdGhpcy5nZXRTdXJ2ZXlTdGF0c0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN1cnZleVN0YXRzRnJvbUZpbGU6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdGlmICh0aGlzLmZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0XHRzdXJ2ZXlTdGF0c0Zyb21GaWxlID0gdGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIubG9hZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1cnZleVN0YXRzQ29sbGVjdGlvbnMgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5NZXJnZUFuZFVwZGF0ZVN1cnZleUFjdGl2YXRpb25TdGF0cyhzdXJ2ZXlTdGF0c0Zyb21GaWxlLCBzdXJ2ZXlTdGF0c0Zyb21Ib3N0KTtcclxuXHRcdHJldHVybiBzdXJ2ZXlTdGF0c0NvbGxlY3Rpb25zLmZpbmQoU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmUoc3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHZvaWQge1xyXG5cdFx0aWYgKCFzdGF0cykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhdHNGcm9tSG9zdDogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gdGhpcy5nZXRTdXJ2ZXlTdGF0c0Zyb21Ib3N0KCk7XHJcblx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbiA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHN0YXRzLCBzdGF0c0Zyb21Ib3N0KTtcclxuXHRcdGNvbnN0IHRvQmVVcGRhdGVkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IHN0YXRDb2xsZWN0aW9uLmZpbmQoU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IHN0YXRDb2xsZWN0aW9uLmZpbmQoU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cclxuXHRcdC8vIHdyaXRlIGRlbHRhX2RhdGEgdG8gUm9hbWluZ1xyXG5cdFx0aWYgKHRvQmVVcGRhdGVkU3RhdHMpIHtcclxuXHRcdFx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnk6IElEaWN0aW9uYXJ5PFN1cnZleUFjdGl2YXRpb25TdGF0cz4gPSB0b0JlVXBkYXRlZFN0YXRzLmdldFN0YXRzKCk7XHJcblx0XHRcdGZvciAoY29uc3Qgc3VydmV5SWQgaW4gdG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkpIHtcclxuXHRcdFx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtOiBzdHJpbmcgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5tYWtlU2V0dGluZ0l0ZW1WYWx1ZShcclxuXHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKSk7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlLnVwc2VydFNldHRpbmdJdGVtKEZpbGVUeXBlW0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c10sXHJcblx0XHRcdFx0XHRcdHN1cnZleUlkLCBpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIuc2F2ZShtZXJnZWRTdGF0ZXMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRTdXJ2ZXlTdGF0c0Zyb21Ib3N0KCk6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiB7XHJcblx0XHRjb25zdCBzdGF0c0NvbGxlY3Rpb246IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyAgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblx0XHRjb25zdCBpdGVtRGF0YTogSUZsb29kZ2F0ZVNldHRpbmcgPSB0aGlzLmhvc3RCYXNlZFN0b3JhZ2UucmVhZFNldHRpbmdMaXN0KEZpbGVUeXBlW0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c10pO1xyXG5cclxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcblx0XHRmb3IgKGNvbnN0IHN1cnZleUlkIGluIGl0ZW1EYXRhKSB7XHJcblx0XHRcdGlmICghaXRlbURhdGEuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKGl0ZW1EYXRhW3N1cnZleUlkXSk7XHJcblx0XHRcdGNvbnN0IG5ld1N0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBuZXcgU3VydmV5QWN0aXZhdGlvblN0YXRzKCk7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgcmVhZFN0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpO1xyXG5cdFx0XHRcdG5ld1N0YXRzLmRlc2VyaWFsaXplKHJlYWRTdGF0cyk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIuR2V0U3VydmV5U3RhdHNGcm9tSG9zdC5GYWlsZWQsXHJcblx0XHRcdFx0XHR7IEVycm9yTWVzc2FnZTogXCJKc29uIHBhcnNpbmcvZGVzZXJpYWxpemluZyBmYWlsZWQuIFwiICsgZS50b1N0cmluZygpICsgXCIuICBJbnB1dDpcIiArIGRhdGFTdHJpbmcgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChuZXdTdGF0cy5FeHBpcmF0aW9uVGltZVV0YyA8PSBub3cpIHtcclxuXHRcdFx0XHQvLyBEZWxldGUgc3VydmV5IHN0YXQgZnJvbSBob3N0IHN0b3JhZ2UgaWYgaXQncyBleHBpcmVkLlxyXG5cdFx0XHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZS5kZWxldGVTZXR0aW5nSXRlbShGaWxlVHlwZVtGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHNdLCBzdXJ2ZXlJZCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3RhdHNDb2xsZWN0aW9uLmFkZFN0YXRzKHN1cnZleUlkLCBuZXdTdGF0cyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzdGF0c0NvbGxlY3Rpb247XHJcblx0fVxyXG59XHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciBpbXBsZW1lbnRzIElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0aWYgKCFzdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvYWQoKTogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIHtcclxuXHRcdGNvbnN0IHJlYWRTdHJpbmc6IHN0cmluZyA9IHRoaXMuc3RvcmFnZS5yZWFkKElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUuU3VydmV5QWN0aXZhdGlvblN0YXRzKTtcclxuXHRcdGlmICghcmVhZFN0cmluZykge1xyXG5cdFx0XHRyZXR1cm4gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24uZnJvbUpzb24ocmVhZFN0cmluZyk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShzdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb246IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHZvaWQge1xyXG5cdFx0aWYgKCFzdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24udG9Kc29uKHN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik7XHJcblx0XHR0aGlzLnN0b3JhZ2Uud3JpdGUoSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMsIHdyaXRlU3RyaW5nKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgaW1wbGVtZW50cyBJU2VyaWFsaXphYmxlIHtcclxuXHQvLyBUaGUgZm9sbG93aW5nIHByb3BlcnR5IG5hbWVzIG1hdGNoIEpTT04gcHJvcGVydHkgbmFtZXMgZm9yIHByb3BlciBzZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvblxyXG5cdHB1YmxpYyBFeHBpcmF0aW9uVGltZVV0YzogRGF0ZTtcclxuXHRwdWJsaWMgQWN0aXZhdGlvblRpbWVVdGM6IERhdGU7XHJcblx0cHVibGljIFR5cGU6IElTdXJ2ZXkuVHlwZTtcclxuXHRwdWJsaWMgU3VydmV5TGF1bmNoQ291bnQgPSAwO1xyXG5cdHB1YmxpYyBTdXJ2ZXlMYXVuY2hDb3VudFBlclNlc3Npb24gPSAwO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIG9iamVjdCB0byBjbGFzcyBvYmplY3RcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHR0aGlzLkFjdGl2YXRpb25UaW1lVXRjID0gaW5wdXQuQWN0aXZhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gaW5wdXQuRXhwaXJhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLlR5cGUgPSBpbnB1dC5UeXBlO1xyXG5cdFx0dGhpcy5TdXJ2ZXlMYXVuY2hDb3VudCA9IGlucHV0LlN1cnZleUxhdW5jaENvdW50ID8/IDA7XHJcblx0XHR0aGlzLlN1cnZleUxhdW5jaENvdW50UGVyU2Vzc2lvbiA9IGlucHV0LlN1cnZleUxhdW5jaENvdW50UGVyU2Vzc2lvbiA/PyAwO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gY2FsbCBhZnRlciBkZXNlcmlhbGl6YXRpb24gdG8gdmFsaWRhdGUgZ2VuZXJhdGVkIG9iamVjdC5cclxuXHQgKiBSZXR1cm5zIGZhbHNlIGlmIG5vdCB2YWxpZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHQvLyBtYWtlIGl0IGEgZGF0ZSBvYmplY3QgaWYgaXQncyBhIHZhbGlkIFVUQyBkYXRlIHRpbWUgdmFsdWVcclxuXHRcdGlmIChVdGlscy5pc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuQWN0aXZhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuQWN0aXZhdGlvblRpbWVVdGMgPSBVdGlscy5zdHJpbmdUb0RhdGUodGhpcy5BY3RpdmF0aW9uVGltZVV0Yyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbWFrZSBpdCBhIGRhdGUgb2JqZWN0IGlmIGl0J3MgYSB2YWxpZCBVVEMgZGF0ZSB0aW1lIHZhbHVlXHJcblx0XHRpZiAoVXRpbHMuaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkV4cGlyYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gVXRpbHMuc3RyaW5nVG9EYXRlKHRoaXMuRXhwaXJhdGlvblRpbWVVdGMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghVXRpbHMuaXNOdW1iZXIodGhpcy5TdXJ2ZXlMYXVuY2hDb3VudCkgfHxcclxuXHRcdFx0IVV0aWxzLmlzTnVtYmVyKHRoaXMuU3VydmV5TGF1bmNoQ291bnRQZXJTZXNzaW9uKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFV0aWxzLmlzRW51bVZhbHVlKHRoaXMuVHlwZSwgSVN1cnZleS5UeXBlKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js":
/*!**********************************************************************!*\
  !*** ../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurveyEventActivityStats = exports.SurveyStatCollectionEventActivity = void 0;\nvar Constants_1 = __webpack_require__(/*! ./Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar SurveyStatCollection_1 = __webpack_require__(/*! ./SurveyStatCollection */ \"../FloodgateCore/dist/src/SurveyStatCollection.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/**\n * StatCollection for EventActivity counts.  Should be used to store/merge\n * aggregate values between sessions tracking the same surveys/events\n * E.g. A survey that activates after 3 boots.\n */\n// TODO (gachoi) check the following - VSOBug: 1443010 One bad Stat object fails the entire serialization\nvar SurveyStatCollectionEventActivity = /** @class */ (function (_super) {\n    __extends(SurveyStatCollectionEventActivity, _super);\n    function SurveyStatCollectionEventActivity() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Load from Json\n     */\n    SurveyStatCollectionEventActivity.fromJson = function (json) {\n        var statCollection = new SurveyStatCollectionEventActivity();\n        if (!json) {\n            return statCollection;\n        }\n        var readStats;\n        try {\n            readStats = JSON.parse(json);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionEventActivity.FromJson.Failed, { ErrorMessage: \"Json parsing failed. \" + e.toString() });\n            return statCollection;\n        }\n        if (!statCollection.deserialize(readStats)) {\n            return new SurveyStatCollectionEventActivity();\n        }\n        return statCollection;\n    };\n    /**\n     * Convert to Json\n     */\n    SurveyStatCollectionEventActivity.toJson = function (object) {\n        if (!object) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionEventActivity.ToJson.Failed, { ErrorMessage: \"Input json is null or empty.\" });\n            object = new SurveyStatCollectionEventActivity();\n        }\n        return JSON.stringify(object);\n    };\n    /**\n     * Add another SurveyStatCollectionEventActivity object\n     */\n    SurveyStatCollectionEventActivity.prototype.accumulate = function (other) {\n        if (!other) {\n            return;\n        }\n        var stats = other.getStats();\n        // SurveyEventActivityStats accumulation simply overwrites any keys from 'other' into our collection\n        for (var key in stats) {\n            if (stats.hasOwnProperty(key)) {\n                var ourStats = this.getBySurveyId(key);\n                // If it does not already exist\n                if (!ourStats) {\n                    ourStats = new SurveyEventActivityStats();\n                    ourStats.Counts = [];\n                    this.addStats(key, ourStats);\n                }\n                ourStats.ExpirationTimeUtc = stats[key].ExpirationTimeUtc;\n                // If for some reason the other counts array is larger, resize ourStats.counts\n                if (ourStats.Counts.length < stats[key].Counts.length) {\n                    var resizedCounts = ourStats.Counts.slice();\n                    ourStats.Counts = resizedCounts;\n                }\n                for (var i = 0; i < stats[key].Counts.length; i++) {\n                    if (!ourStats.Counts[i]) {\n                        ourStats.Counts[i] = 0;\n                    }\n                    ourStats.Counts[i] += stats[key].Counts[i];\n                }\n            }\n        }\n    };\n    /**\n     * Method to deserialize SurveyStatCollectionEventActivity\n     * @param input: collection of SurveyStatCollectionEventActivity\n     * Returns result of validation check\n     */\n    SurveyStatCollectionEventActivity.prototype.deserialize = function (input) {\n        var rawStats = input.Surveys;\n        var now = new Date();\n        for (var key in rawStats) {\n            if (rawStats.hasOwnProperty(key)) {\n                var newStat = new SurveyEventActivityStats();\n                if (newStat.deserialize(rawStats[key]) && newStat.ExpirationTimeUtc > now) {\n                    this.addStats(key, newStat);\n                }\n            }\n        }\n        return this.validate();\n    };\n    /**\n     * Validate the Surveys\n     * Returns false if validation fails\n     */\n    SurveyStatCollectionEventActivity.prototype.validate = function () {\n        return Utils.isObject(this.getStats());\n    };\n    return SurveyStatCollectionEventActivity;\n}(SurveyStatCollection_1.SurveyStatCollection));\nexports.SurveyStatCollectionEventActivity = SurveyStatCollectionEventActivity;\nvar SurveyEventActivityStats = /** @class */ (function () {\n    function SurveyEventActivityStats() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    SurveyEventActivityStats.prototype.deserialize = function (input) {\n        this.ExpirationTimeUtc = input.ExpirationTimeUtc;\n        this.Counts = input.Counts;\n        return this.validate();\n    };\n    /**\n     * Method to call after deserialization to validate generated object.\n     * Returns false if not valid.\n     */\n    SurveyEventActivityStats.prototype.validate = function () {\n        if (!this.Counts) {\n            return false;\n        }\n        for (var i = 0; i < this.Counts.length; i++) {\n            var val = this.Counts[i];\n            if (!Utils.isNumber(val)) {\n                return false;\n            }\n            if (val < 0) {\n                this.Counts[i] = 0;\n            }\n        }\n        // make it a date object if it's a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ExpirationTimeUtc)) {\n            this.ExpirationTimeUtc = Utils.stringToDate(this.ExpirationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        return true;\n    };\n    return SurveyEventActivityStats;\n}());\nexports.SurveyEventActivityStats = SurveyEventActivityStats;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS50cz83ODA5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtR0FBNkM7QUFDN0MscUhBQW9EO0FBQ3BELG9JQUE4RDtBQUM5RCxxRkFBaUM7QUFFakM7Ozs7R0FJRztBQUNILHlHQUF5RztBQUN6RztJQUF1RCxxREFBOEM7SUFBckc7O0lBZ0hBLENBQUM7SUE5R0E7O09BRUc7SUFDVywwQ0FBUSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQU0sY0FBYyxHQUFHLElBQUksaUNBQWlDLEVBQUUsQ0FBQztRQUUvRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsT0FBTyxjQUFjLENBQUM7U0FDdEI7UUFFRCxJQUFJLFNBQTRDLENBQUM7UUFDakQsSUFBSTtZQUNILFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzdCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLGlDQUFpQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQ2hFLEVBQUUsWUFBWSxFQUFFLHVCQUF1QixHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDM0QsT0FBTyxjQUFjLENBQUM7U0FDdEI7UUFFRCxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUMzQyxPQUFPLElBQUksaUNBQWlDLEVBQUUsQ0FBQztTQUMvQztRQUVELE9BQU8sY0FBYyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7T0FFRztJQUNXLHdDQUFNLEdBQXBCLFVBQXFCLE1BQXlDO1FBQzdELElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDWixpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLGlDQUFpQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQzlELEVBQUUsWUFBWSxFQUFFLDhCQUE4QixFQUFFLENBQUMsQ0FBQztZQUNuRCxNQUFNLEdBQUcsSUFBSSxpQ0FBaUMsRUFBRSxDQUFDO1NBQ2pEO1FBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNJLHNEQUFVLEdBQWpCLFVBQWtCLEtBQXdDO1FBQ3pELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxPQUFPO1NBQ1A7UUFFRCxJQUFNLEtBQUssR0FBMEMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3RFLG9HQUFvRztRQUNwRyxLQUFLLElBQU0sR0FBRyxJQUFJLEtBQUssRUFBRTtZQUN4QixJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQzlCLElBQUksUUFBUSxHQUE2QixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVqRSwrQkFBK0I7Z0JBQy9CLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2QsUUFBUSxHQUFHLElBQUksd0JBQXdCLEVBQUUsQ0FBQztvQkFDMUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7b0JBQ3JCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2lCQUM3QjtnQkFFRCxRQUFRLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDO2dCQUUxRCw4RUFBOEU7Z0JBQzlFLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7b0JBQ3RELElBQU0sYUFBYSxHQUFhLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQ3hELFFBQVEsQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO2lCQUNoQztnQkFFRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ2xELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO3dCQUN4QixRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDdkI7b0JBRUQsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUMzQzthQUNEO1NBQ0Q7SUFDRixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLHVEQUFXLEdBQWxCLFVBQW1CLEtBQVU7UUFDNUIsSUFBTSxRQUFRLEdBQTBDLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDdEUsSUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUV2QixLQUFLLElBQU0sR0FBRyxJQUFJLFFBQVEsRUFBRTtZQUMzQixJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2pDLElBQU0sT0FBTyxHQUFHLElBQUksd0JBQXdCLEVBQUUsQ0FBQztnQkFFL0MsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLEVBQUU7b0JBQzFFLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2lCQUM1QjthQUNEO1NBQ0Q7UUFFRCxPQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksb0RBQVEsR0FBZjtRQUNDLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0Ysd0NBQUM7QUFBRCxDQUFDLENBaEhzRCwyQ0FBb0IsR0FnSDFFO0FBaEhZLDhFQUFpQztBQWtIOUM7SUFBQTtJQStDQSxDQUFDO0lBMUNBOzs7O09BSUc7SUFDSSw4Q0FBVyxHQUFsQixVQUFtQixLQUFVO1FBQzVCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUMsaUJBQWlCLENBQUM7UUFDakQsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBRTNCLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSSwyQ0FBUSxHQUFmO1FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDakIsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM1QyxJQUFNLEdBQUcsR0FBVyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRW5DLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUN6QixPQUFPLEtBQUssQ0FBQzthQUNiO1lBRUQsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ25CO1NBQ0Q7UUFFRCw0REFBNEQ7UUFDNUQsSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFDdEQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7U0FDcEU7YUFBTTtZQUNOLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFDRiwrQkFBQztBQUFELENBQUM7QUEvQ1ksNERBQXdCIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSURpY3Rpb25hcnksIElTZXJpYWxpemFibGUgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCB7IFN1cnZleVN0YXRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiBTdGF0Q29sbGVjdGlvbiBmb3IgRXZlbnRBY3Rpdml0eSBjb3VudHMuICBTaG91bGQgYmUgdXNlZCB0byBzdG9yZS9tZXJnZVxyXG4gKiBhZ2dyZWdhdGUgdmFsdWVzIGJldHdlZW4gc2Vzc2lvbnMgdHJhY2tpbmcgdGhlIHNhbWUgc3VydmV5cy9ldmVudHNcclxuICogRS5nLiBBIHN1cnZleSB0aGF0IGFjdGl2YXRlcyBhZnRlciAzIGJvb3RzLlxyXG4gKi9cclxuLy8gVE9ETyAoZ2FjaG9pKSBjaGVjayB0aGUgZm9sbG93aW5nIC0gVlNPQnVnOiAxNDQzMDEwIE9uZSBiYWQgU3RhdCBvYmplY3QgZmFpbHMgdGhlIGVudGlyZSBzZXJpYWxpemF0aW9uXHJcbmV4cG9ydCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgZXh0ZW5kcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+IGltcGxlbWVudHMgSVNlcmlhbGl6YWJsZSB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZnJvbSBKc29uXHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBmcm9tSnNvbihqc29uOiBzdHJpbmcpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkge1xyXG5cdFx0Y29uc3Qgc3RhdENvbGxlY3Rpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5KCk7XHJcblxyXG5cdFx0aWYgKCFqc29uKSB7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgcmVhZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZWFkU3RhdHMgPSBKU09OLnBhcnNlKGpzb24pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5Gcm9tSnNvbi5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgfSk7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0YXRDb2xsZWN0aW9uLmRlc2VyaWFsaXplKHJlYWRTdGF0cykpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RhdENvbGxlY3Rpb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSk6IHN0cmluZyB7XHJcblx0XHRpZiAoIW9iamVjdCkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5Ub0pzb24uRmFpbGVkLFxyXG5cdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIklucHV0IGpzb24gaXMgbnVsbCBvciBlbXB0eS5cIiB9KTtcclxuXHRcdFx0b2JqZWN0ID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGFub3RoZXIgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5IG9iamVjdFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhY2N1bXVsYXRlKG90aGVyOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkpOiB2b2lkIHtcclxuXHRcdGlmICghb3RoZXIpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRzOiBJRGljdGlvbmFyeTxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+ID0gb3RoZXIuZ2V0U3RhdHMoKTtcclxuXHRcdC8vIFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyBhY2N1bXVsYXRpb24gc2ltcGx5IG92ZXJ3cml0ZXMgYW55IGtleXMgZnJvbSAnb3RoZXInIGludG8gb3VyIGNvbGxlY3Rpb25cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHN0YXRzKSB7XHJcblx0XHRcdGlmIChzdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0bGV0IG91clN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSB0aGlzLmdldEJ5U3VydmV5SWQoa2V5KTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxyXG5cdFx0XHRcdGlmICghb3VyU3RhdHMpIHtcclxuXHRcdFx0XHRcdG91clN0YXRzID0gbmV3IFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cygpO1xyXG5cdFx0XHRcdFx0b3VyU3RhdHMuQ291bnRzID0gW107XHJcblx0XHRcdFx0XHR0aGlzLmFkZFN0YXRzKGtleSwgb3VyU3RhdHMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0b3VyU3RhdHMuRXhwaXJhdGlvblRpbWVVdGMgPSBzdGF0c1trZXldLkV4cGlyYXRpb25UaW1lVXRjO1xyXG5cclxuXHRcdFx0XHQvLyBJZiBmb3Igc29tZSByZWFzb24gdGhlIG90aGVyIGNvdW50cyBhcnJheSBpcyBsYXJnZXIsIHJlc2l6ZSBvdXJTdGF0cy5jb3VudHNcclxuXHRcdFx0XHRpZiAob3VyU3RhdHMuQ291bnRzLmxlbmd0aCA8IHN0YXRzW2tleV0uQ291bnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmVzaXplZENvdW50czogbnVtYmVyW10gPSBvdXJTdGF0cy5Db3VudHMuc2xpY2UoKTtcclxuXHRcdFx0XHRcdG91clN0YXRzLkNvdW50cyA9IHJlc2l6ZWRDb3VudHM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRzW2tleV0uQ291bnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAoIW91clN0YXRzLkNvdW50c1tpXSkge1xyXG5cdFx0XHRcdFx0XHRvdXJTdGF0cy5Db3VudHNbaV0gPSAwO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG91clN0YXRzLkNvdW50c1tpXSArPSBzdGF0c1trZXldLkNvdW50c1tpXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBkZXNlcmlhbGl6ZSBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHlcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IGNvbGxlY3Rpb24gb2YgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHRjb25zdCByYXdTdGF0czogSURpY3Rpb25hcnk8U3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzPiA9IGlucHV0LlN1cnZleXM7XHJcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHJhd1N0YXRzKSB7XHJcblx0XHRcdGlmIChyYXdTdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdCA9IG5ldyBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMoKTtcclxuXHJcblx0XHRcdFx0aWYgKG5ld1N0YXQuZGVzZXJpYWxpemUocmF3U3RhdHNba2V5XSkgJiYgbmV3U3RhdC5FeHBpcmF0aW9uVGltZVV0YyA+IG5vdykge1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRTdGF0cyhrZXksIG5ld1N0YXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSB0aGUgU3VydmV5c1xyXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgdmFsaWRhdGlvbiBmYWlsc1xyXG5cdCAqL1xyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBVdGlscy5pc09iamVjdCh0aGlzLmdldFN0YXRzKCkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyBpbXBsZW1lbnRzIElTZXJpYWxpemFibGUge1xyXG5cdC8vIFRoZSBmb2xsb3dpbmcgcHJvcGVydHkgbmFtZXMgbWF0Y2ggSlNPTiBwcm9wZXJ0eSBuYW1lcyBmb3IgcHJvcGVyIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uXHJcblx0cHVibGljIEV4cGlyYXRpb25UaW1lVXRjOiBEYXRlO1xyXG5cdHB1YmxpYyBDb3VudHM6IG51bWJlcltdO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIG9iamVjdCB0byBjbGFzcyBvYmplY3RcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gaW5wdXQuRXhwaXJhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLkNvdW50cyA9IGlucHV0LkNvdW50cztcclxuXHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGNhbGwgYWZ0ZXIgZGVzZXJpYWxpemF0aW9uIHRvIHZhbGlkYXRlIGdlbmVyYXRlZCBvYmplY3QuXHJcblx0ICogUmV0dXJucyBmYWxzZSBpZiBub3QgdmFsaWQuXHJcblx0ICovXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCF0aGlzLkNvdW50cykge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkNvdW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCB2YWw6IG51bWJlciA9IHRoaXMuQ291bnRzW2ldO1xyXG5cclxuXHRcdFx0aWYgKCFVdGlscy5pc051bWJlcih2YWwpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodmFsIDwgMCkge1xyXG5cdFx0XHRcdHRoaXMuQ291bnRzW2ldID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG1ha2UgaXQgYSBkYXRlIG9iamVjdCBpZiBpdCdzIGEgdmFsaWQgVVRDIGRhdGUgdGltZSB2YWx1ZVxyXG5cdFx0aWYgKFV0aWxzLmlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5FeHBpcmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5FeHBpcmF0aW9uVGltZVV0YyA9IFV0aWxzLnN0cmluZ1RvRGF0ZSh0aGlzLkV4cGlyYXRpb25UaW1lVXRjKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/FpsSurvey.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/FpsSurvey.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\");\nvar CVSurveyComponent = __webpack_require__(/*! ../SurveyComponents/CVSurveyComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js\");\nvar MultipleChoiceComponent = __webpack_require__(/*! ../SurveyComponents/MultipleChoiceComponent */ \"../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js\");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ \"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU;\nvar FpsSurvey = /** @class */ (function (_super) {\n    __extends(FpsSurvey, _super);\n    function FpsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = data.commentData ? (new CommentComponent(data.commentData)) : null;\n        _this.rating = data.ratingData ? (new RatingComponent(data.ratingData)) : null;\n        _this.multipleChoice = data.multipleChoiceData ? (new MultipleChoiceComponent(data.multipleChoiceData)) : null;\n        _this.cvSurvey = data.cvSurveyData ? (new CVSurveyComponent(data.cvSurveyData)) : null;\n        return _this;\n    }\n    FpsSurvey.make = function (data) {\n        try {\n            return new FpsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    FpsSurvey.makeFps = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var availableOptions = [];\n        var content = surveyModel.content;\n        // Prompt is required and at least one of the other components are required\n        if (isNOU(content) || isNOU(content.prompt) ||\n            (isNOU(content.rating) && isNOU(content.multipleChoice) &&\n                isNOU(content.comment))) {\n            return null;\n        }\n        var data = new FpsSurvey.FpsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        if (isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)) {\n            return null;\n        }\n        if (content.rating) {\n            data.ratingData = new RatingComponent.RatingComponentData();\n            data.ratingData.question = sp.getCustomString(content.rating.question);\n            data.ratingData.isZeroBased = content.rating.isZeroBased;\n            for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var customString = sp.getCustomString(value);\n                if (isNOU(customString)) {\n                    return null;\n                }\n                ratingValuesAscending.push(customString);\n            }\n            data.ratingData.ratingValuesAscending = ratingValuesAscending;\n            if (isNOU(data.ratingData.question)\n                || isNOU(data.ratingData.ratingValuesAscending)) {\n                return null;\n            }\n        }\n        if (content.multipleChoice) {\n            data.multipleChoiceData = new MultipleChoiceComponent.MultipleChoiceComponentData();\n            data.multipleChoiceData.question = sp.getCustomString(content.multipleChoice.question);\n            data.multipleChoiceData.minNumberOfSelectedOptions = content.multipleChoice.minNumberOfSelectedOptions;\n            data.multipleChoiceData.maxNumberOfSelectedOptions = content.multipleChoice.maxNumberOfSelectedOptions;\n            for (var _b = 0, _c = content.multipleChoice.availableOptions; _b < _c.length; _b++) {\n                var value = _c[_b];\n                var customString = sp.getCustomString(value);\n                if (isNOU(customString)) {\n                    return null;\n                }\n                availableOptions.push(customString);\n            }\n            data.multipleChoiceData.availableOptions = availableOptions;\n            if (isNOU(data.multipleChoiceData.question)\n                || isNOU(data.multipleChoiceData.availableOptions)) {\n                return null;\n            }\n        }\n        if (content.comment) {\n            data.commentData = new CommentComponent.CommentComponentData();\n            data.commentData.question = sp.getCustomString(content.comment.question);\n            if (isNOU(data.commentData.question)) {\n                return null;\n            }\n        }\n        // cvsurvey data is not required on all surveys.\n        if (content.cvSurvey) {\n            data.cvSurveyData = new CVSurveyComponent.CVSurveyComponentData();\n            data.cvSurveyData.customerVoiceFormId = content.cvSurvey.customerVoiceFormId;\n            if (isNOU(data.cvSurveyData.customerVoiceFormId)) {\n                return null;\n            }\n        }\n        return this.make(data);\n    };\n    // @Override\n    FpsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Fps;\n    };\n    // @Override\n    FpsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    FpsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    FpsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    FpsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    FpsSurvey.prototype.getMultipleChoiceComponent = function () {\n        return this.multipleChoice;\n    };\n    FpsSurvey.prototype.getCVSurveyComponent = function () {\n        return this.cvSurvey;\n    };\n    // @Override\n    FpsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case \"Comment\" /* Comment */:\n                return this.getCommentComponent();\n            case \"Prompt\" /* Prompt */:\n                return this.getPromptComponent();\n            case \"Rating\" /* Rating */:\n                return this.getRatingComponent();\n            case \"MultipleChoice\" /* MultipleChoice */:\n                return this.getMultipleChoiceComponent();\n            case \"CVSurvey\" /* CVSurvey */:\n                return this.getCVSurveyComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    FpsSurvey.prototype.getDomElements = function (doc) {\n        if (isNOU(doc)) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurvey.DOM_FPS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        if (this.getRatingComponent()) {\n            this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n                if (!isNOU(child)) {\n                    element.appendChild(child);\n                }\n            });\n        }\n        if (this.getMultipleChoiceComponent()) {\n            this.getMultipleChoiceComponent().getDomElements(doc).forEach(function (child) {\n                if (!isNOU(child)) {\n                    element.appendChild(child);\n                }\n            });\n        }\n        return [element];\n    };\n    // @Override\n    FpsSurvey.prototype.getJsonElements = function () {\n        var _a;\n        var result = {};\n        result = Utils.overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME] = {};\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME][ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME] =\n            JSON.stringify((_a = {},\n                _a[ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME] = this.makeSurveyStrings(),\n                _a[ISurveyComponent.JSON_SURVEYSPECIFICDATA_KEYNAME] = this.makeResponseString(),\n                _a));\n        return result;\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    FpsSurvey.prototype.makeResponseString = function () {\n        var response = {};\n        if (this.question) {\n            response[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.getCommentComponent().getSubmittedText()];\n        }\n        if (this.multipleChoice) {\n            response[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] =\n                [this.getMultipleChoiceComponent().getOptionSelectedStates()];\n        }\n        if (this.rating) {\n            response[ISurveyComponent.JSON_RATING_KEYNAME] = [\n                { numberOfOptions: this.getRatingComponent().getRatingValuesAscending().length,\n                    selectedRating: this.getRatingComponent().getSelectedRatingIndex() }\n            ];\n        }\n        return JSON.stringify(response);\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    FpsSurvey.prototype.makeSurveyStrings = function () {\n        var actualStrings = {};\n        if (this.prompt) {\n            actualStrings[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.prompt.getComponentJson();\n        }\n        if (this.rating) {\n            actualStrings[ISurveyComponent.JSON_RATING_KEYNAME] = [this.rating.getComponentJson()];\n        }\n        if (this.question) {\n            actualStrings[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.question.getComponentJson()];\n        }\n        if (this.multipleChoice) {\n            actualStrings[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] = [this.multipleChoice.getComponentJson()];\n        }\n        return JSON.stringify(actualStrings);\n    };\n    return FpsSurvey;\n}(Survey_1.Survey));\n(function (FpsSurvey) {\n    /**\n     * Data required for a Fps Survey\n     */\n    var FpsSurveyData = /** @class */ (function () {\n        function FpsSurveyData() {\n        }\n        return FpsSurveyData;\n    }());\n    FpsSurvey.FpsSurveyData = FpsSurveyData;\n})(FpsSurvey || (FpsSurvey = {}));\nmodule.exports = FpsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvRnBzU3VydmV5LnRzPzIwYzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFDMUMsK0hBQTREO0FBRzVELHlKQUF5RTtBQUN6RSw0SkFBMkU7QUFDM0UsOEtBQXVGO0FBQ3ZGLHNKQUF1RTtBQUN2RSxzSkFBdUU7QUFDdkUsc0ZBQWtDO0FBQ2xDLGtHQUFrQztBQUNsQyw4SEFBdUQ7QUFFL0MsU0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBRXhCO0lBQXdCLDZCQUFNO0lBMEg3QixtQkFBb0IsSUFBNkI7UUFBakQsWUFDQyxpQkFBTyxTQVdQO1FBVkEsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxLQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ25GLEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzlFLEtBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksdUJBQXVCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENB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Q0QsV0FBTyxTQUFTO0lBQ2Y7O09BRUc7SUFDSDtRQUFBO1FBT0EsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQVBZLHVCQUFhLGdCQU96QjtBQUNGLENBQUMsRUFaTSxTQUFTLEtBQVQsU0FBUyxRQVlmO0FBRUQsaUJBQVMsU0FBUyxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9GcHNTdXJ2ZXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSUZwc1N1cnZleSB9IGZyb20gXCIuLi9BcGkvSUZwc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBDVlN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9DVlN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9NdWx0aXBsZUNob2ljZUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuY2xhc3MgRnBzU3VydmV5IGV4dGVuZHMgU3VydmV5IGltcGxlbWVudHMgSUZwc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IEZwc1N1cnZleS5GcHNTdXJ2ZXlEYXRhKTogSUZwc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEZwc1N1cnZleShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2VGcHMoYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIsXHJcblx0XHRzdXJ2ZXlNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSk6IElGcHNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Y29uc3QgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50ID0gc3VydmV5TW9kZWwuY29udGVudDtcclxuXHJcblx0XHQvLyBQcm9tcHQgaXMgcmVxdWlyZWQgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aGUgb3RoZXIgY29tcG9uZW50cyBhcmUgcmVxdWlyZWRcclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LnByb21wdCkgfHxcclxuXHRcdFx0KGlzTk9VKGNvbnRlbnQucmF0aW5nKSAmJiBpc05PVShjb250ZW50Lm11bHRpcGxlQ2hvaWNlKSAmJlxyXG5cdFx0XHRpc05PVShjb250ZW50LmNvbW1lbnQpKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBGcHNTdXJ2ZXkuRnBzU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhID0gbmV3IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEudGl0bGUgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQudGl0bGUpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0LnF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC55ZXNMYWJlbCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC5ub0xhYmVsKTtcclxuXHJcblx0XHRpZiAoIGlzTk9VKGRhdGEucHJvbXB0RGF0YS50aXRsZSlcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRlbnQucmF0aW5nKSB7XHJcblx0XHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5yYXRpbmcucXVlc3Rpb24pO1xyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEuaXNaZXJvQmFzZWQgPSBjb250ZW50LnJhdGluZy5pc1plcm9CYXNlZDtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgY29udGVudC5yYXRpbmcucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VzdG9tU3RyaW5nOiBzdHJpbmcgPSBzcC5nZXRDdXN0b21TdHJpbmcodmFsdWUpO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNOT1UoY3VzdG9tU3RyaW5nKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmcucHVzaChjdXN0b21TdHJpbmcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nID0gcmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGRhdGEucmF0aW5nRGF0YS5xdWVzdGlvbilcclxuXHRcdFx0XHR8fCBpc05PVShkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZW50Lm11bHRpcGxlQ2hvaWNlKSB7XHJcblx0XHRcdGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhID0gbmV3IE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50Lk11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0XHRkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50Lm11bHRpcGxlQ2hvaWNlLnF1ZXN0aW9uKTtcclxuXHRcdFx0ZGF0YS5tdWx0aXBsZUNob2ljZURhdGEubWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMgPSBjb250ZW50Lm11bHRpcGxlQ2hvaWNlLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdFx0XHRkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5tYXhOdW1iZXJPZlNlbGVjdGVkT3B0aW9ucyA9IGNvbnRlbnQubXVsdGlwbGVDaG9pY2UubWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnM7XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIGNvbnRlbnQubXVsdGlwbGVDaG9pY2UuYXZhaWxhYmxlT3B0aW9ucykge1xyXG5cdFx0XHRcdGNvbnN0IGN1c3RvbVN0cmluZzogc3RyaW5nID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzTk9VKGN1c3RvbVN0cmluZykpIHtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YXZhaWxhYmxlT3B0aW9ucy5wdXNoKGN1c3RvbVN0cmluZyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLmF2YWlsYWJsZU9wdGlvbnMgPSBhdmFpbGFibGVPcHRpb25zO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHRcdHx8IGlzTk9VKGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLmF2YWlsYWJsZU9wdGlvbnMpKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRlbnQuY29tbWVudCkge1xyXG5cdFx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHRcdFx0ZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmNvbW1lbnQucXVlc3Rpb24pO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24pKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjdnN1cnZleSBkYXRhIGlzIG5vdCByZXF1aXJlZCBvbiBhbGwgc3VydmV5cy5cclxuXHRcdGlmIChjb250ZW50LmN2U3VydmV5KSB7XHJcblx0XHRcdGRhdGEuY3ZTdXJ2ZXlEYXRhID0gbmV3IENWU3VydmV5Q29tcG9uZW50LkNWU3VydmV5Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0XHRkYXRhLmN2U3VydmV5RGF0YS5jdXN0b21lclZvaWNlRm9ybUlkID0gIGNvbnRlbnQuY3ZTdXJ2ZXkuY3VzdG9tZXJWb2ljZUZvcm1JZDtcclxuXHJcblx0XHRcdGlmIChpc05PVShkYXRhLmN2U3VydmV5RGF0YS5jdXN0b21lclZvaWNlRm9ybUlkKSkge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMubWFrZShkYXRhKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3VydmV5SW5mbzogU3VydmV5RGF0YVNvdXJjZTtcclxuXHRwcml2YXRlIHF1ZXN0aW9uOiBDb21tZW50Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcHJvbXB0OiBQcm9tcHRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSByYXRpbmc6IFJhdGluZ0NvbXBvbmVudDtcclxuXHRwcml2YXRlIG11bHRpcGxlQ2hvaWNlOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudDtcclxuXHRwcml2YXRlIGN2U3VydmV5OiBDVlN1cnZleUNvbXBvbmVudDtcclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcihkYXRhOiBGcHNTdXJ2ZXkuRnBzU3VydmV5RGF0YSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdGlmIChpc05PVShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXlJbmZvID0gbmV3IFN1cnZleURhdGFTb3VyY2UoZGF0YS5iYXNlRGF0YSk7XHJcblx0XHR0aGlzLnByb21wdCA9IG5ldyBQcm9tcHRDb21wb25lbnQoZGF0YS5wcm9tcHREYXRhKTtcclxuXHRcdHRoaXMucXVlc3Rpb24gPSBkYXRhLmNvbW1lbnREYXRhID8gKG5ldyBDb21tZW50Q29tcG9uZW50KGRhdGEuY29tbWVudERhdGEpKSA6IG51bGw7XHJcblx0XHR0aGlzLnJhdGluZyA9IGRhdGEucmF0aW5nRGF0YSA/IChuZXcgUmF0aW5nQ29tcG9uZW50KGRhdGEucmF0aW5nRGF0YSkpIDogbnVsbDtcclxuXHRcdHRoaXMubXVsdGlwbGVDaG9pY2UgPSBkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YSA/IChuZXcgTXVsdGlwbGVDaG9pY2VDb21wb25lbnQoZGF0YS5tdWx0aXBsZUNob2ljZURhdGEpKSA6IG51bGw7XHJcblx0XHR0aGlzLmN2U3VydmV5ID0gZGF0YS5jdlN1cnZleURhdGEgPyAobmV3IENWU3VydmV5Q29tcG9uZW50KGRhdGEuY3ZTdXJ2ZXlEYXRhKSkgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuRnBzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN1cnZleUluZm8oKTogSVN1cnZleUluZm8ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5SW5mbztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21tZW50Q29tcG9uZW50KCk6IENvbW1lbnRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJvbXB0Q29tcG9uZW50KCk6IFByb21wdENvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF0aW5nQ29tcG9uZW50KCk6IFJhdGluZ0NvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5yYXRpbmc7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbGVDaG9pY2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTogQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3ZTdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50KGNvbXBvbmVudFR5cGU6IElTdXJ2ZXlDb21wb25lbnQuVHlwZSk6IElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0c3dpdGNoIChjb21wb25lbnRUeXBlKSB7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLkNvbW1lbnQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UHJvbXB0Q29tcG9uZW50KCk7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLlJhdGluZzpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuTXVsdGlwbGVDaG9pY2U6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ1ZTdXJ2ZXk6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmIChpc05PVShkb2MpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXkuRE9NX0ZQU19UQUdOQU1FKTtcclxuXHJcblx0XHR0aGlzLmdldFN1cnZleUluZm8oKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmICghaXNOT1UoY2hpbGQpKSB7XHJcblx0XHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCkpIHtcclxuXHRcdFx0dGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKSkge1xyXG5cdFx0XHR0aGlzLmdldE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRcdGlmICghaXNOT1UoY2hpbGQpKSB7XHJcblx0XHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRsZXQgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRyZXN1bHQgPSBVdGlscy5vdmVycmlkZVZhbHVlcyh0aGlzLmdldFN1cnZleUluZm8oKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHRcdHJlc3VsdFtJU3VydmV5Q29tcG9uZW50LkpTT05fQVBQTElDQVRJT05fS0VZTkFNRV0gPSB7fTtcclxuXHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0FQUExJQ0FUSU9OX0tFWU5BTUVdW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9FWFRFTkRFRE1BTklGRVNUREFUQV9LRVlOQU1FXSA9XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1NVUlZFWVNUUklOR1NfS0VZTkFNRV06IHRoaXMubWFrZVN1cnZleVN0cmluZ3MoKSxcclxuXHRcdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1NVUlZFWVNQRUNJRklDREFUQV9LRVlOQU1FXTogdGhpcy5tYWtlUmVzcG9uc2VTdHJpbmcoKSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIE1ha2VzIHRoZSBzdHJpbmcgdG8gc2VuZCB0byBNYW5pZmVzdCByZXNwZWN0aW5nIHRoZSBjb21wb25lbnRzIHByZXNlbnQgaW4gdGhlIHN1cnZleVxyXG5cdHByaXZhdGUgbWFrZVJlc3BvbnNlU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCByZXNwb25zZTogb2JqZWN0ID0ge307XHJcblxyXG5cdFx0aWYgKHRoaXMucXVlc3Rpb24pIHtcclxuXHRcdFx0cmVzcG9uc2VbSVN1cnZleUNvbXBvbmVudC5KU09OX0NPTU1FTlRfS0VZTkFNRV0gPSBbdGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0U3VibWl0dGVkVGV4dCgpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5tdWx0aXBsZUNob2ljZSkge1xyXG5cdFx0XHRyZXNwb25zZVtJU3VydmV5Q29tcG9uZW50LkpTT05fTVVMVElQTEVDSE9JQ0VfS0VZTkFNRV0gPVxyXG5cdFx0XHRcdFt0aGlzLmdldE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50KCkuZ2V0T3B0aW9uU2VsZWN0ZWRTdGF0ZXMoKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMucmF0aW5nKSB7XHJcblx0XHRcdHJlc3BvbnNlW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9SQVRJTkdfS0VZTkFNRV0gPSBbXHJcblx0XHRcdFx0e251bWJlck9mT3B0aW9uczogdGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKS5sZW5ndGgsXHJcblx0XHRcdHNlbGVjdGVkUmF0aW5nOiB0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldFNlbGVjdGVkUmF0aW5nSW5kZXgoKSB9XTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpO1xyXG5cdH1cclxuXHJcblx0Ly8gTWFrZXMgdGhlIHN0cmluZyB0byBzZW5kIHRvIE1hbmlmZXN0IHJlc3BlY3RpbmcgdGhlIGNvbXBvbmVudHMgcHJlc2VudCBpbiB0aGUgc3VydmV5XHJcblx0cHJpdmF0ZSBtYWtlU3VydmV5U3RyaW5ncygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgYWN0dWFsU3RyaW5nczogb2JqZWN0ID0ge307XHJcblxyXG5cdFx0aWYgKHRoaXMucHJvbXB0KSB7XHJcblx0XHRcdGFjdHVhbFN0cmluZ3NbSVN1cnZleUNvbXBvbmVudC5KU09OX1BST01QVF9LRVlOQU1FXSA9IHRoaXMucHJvbXB0LmdldENvbXBvbmVudEpzb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5yYXRpbmcpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fUkFUSU5HX0tFWU5BTUVdID0gW3RoaXMucmF0aW5nLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMucXVlc3Rpb24pIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fQ09NTUVOVF9LRVlOQU1FXSA9IFt0aGlzLnF1ZXN0aW9uLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMubXVsdGlwbGVDaG9pY2UpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fTVVMVElQTEVDSE9JQ0VfS0VZTkFNRV0gPSBbdGhpcy5tdWx0aXBsZUNob2ljZS5nZXRDb21wb25lbnRKc29uKCldO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShhY3R1YWxTdHJpbmdzKTtcclxuXHR9XHJcbn1cclxubW9kdWxlIEZwc1N1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBGcHMgU3VydmV5XHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIEZwc1N1cnZleURhdGEge1xyXG5cdFx0cHVibGljIGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cdFx0cHVibGljIGNvbW1lbnREYXRhOiBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIHByb21wdERhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIHJhdGluZ0RhdGE6IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIG11bHRpcGxlQ2hvaWNlRGF0YTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQuTXVsdGlwbGVDaG9pY2VDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIGN2U3VydmV5RGF0YTogQ1ZTdXJ2ZXlDb21wb25lbnQuQ1ZTdXJ2ZXlDb21wb25lbnREYXRhO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gRnBzU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/FpsSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js":
/*!**************************************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU;\nvar GenericMessagingSurfaceSurvey = /** @class */ (function (_super) {\n    __extends(GenericMessagingSurfaceSurvey, _super);\n    function GenericMessagingSurfaceSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        // This check cannot be done in survey info constructor\n        // as metadata is specific to this survey type.\n        if (isNOU(_this.surveyInfo.getMetadata())) {\n            throw new Error(\"metadata must not be null\");\n        }\n        return _this;\n    }\n    GenericMessagingSurfaceSurvey.make = function (data) {\n        try {\n            return new GenericMessagingSurfaceSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    GenericMessagingSurfaceSurvey.makeCustom = function (baseData) {\n        if (isNOU(baseData)) {\n            return null;\n        }\n        var data = new GenericMessagingSurfaceSurvey.GenericMessagingSurfaceSurveyData();\n        data.baseData = baseData;\n        return this.make(data);\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getType = function () {\n        return ISurvey.Type.GenericMessagingSurface;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getComponent = function (componentType) {\n        return null;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getDomElements = function (doc) {\n        return [];\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getJsonElements = function () {\n        return {};\n    };\n    return GenericMessagingSurfaceSurvey;\n}(Survey_1.Survey));\n(function (GenericMessagingSurfaceSurvey) {\n    /**\n     * Data required for a Generic Surface Survey\n     */\n    var GenericMessagingSurfaceSurveyData = /** @class */ (function () {\n        function GenericMessagingSurfaceSurveyData() {\n        }\n        return GenericMessagingSurfaceSurveyData;\n    }());\n    GenericMessagingSurfaceSurvey.GenericMessagingSurfaceSurveyData = GenericMessagingSurfaceSurveyData;\n})(GenericMessagingSurfaceSurvey || (GenericMessagingSurfaceSurvey = {}));\nmodule.exports = GenericMessagingSurfaceSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkudHM/ZWEwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLG9HQUEwQztBQUcxQyxzRkFBa0M7QUFDbEMsa0dBQWtDO0FBQ2xDLDhIQUF1RDtBQUUvQyxTQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFeEI7SUFBNEMsaURBQU07SUFzQmpELHVDQUFvQixJQUFxRTtRQUF6RixZQUNDLGlCQUFPLFNBWVA7UUFYQSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0RCx1REFBdUQ7UUFDdkQsK0NBQStDO1FBQy9DLElBQUksS0FBSyxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDN0M7O0lBQ0YsQ0FBQztJQWxDYSxrQ0FBSSxHQUFsQixVQUFtQixJQUFxRTtRQUN2RixJQUFJO1lBQ0gsT0FBTyxJQUFJLDZCQUE2QixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQy9DO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVhLHdDQUFVLEdBQXhCLFVBQXlCLFFBQStDO1FBQ3ZFLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLDZCQUE2QixDQUFDLGlDQUFpQyxFQUFFLENBQUM7UUFDbkYsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFFekIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFtQkQsWUFBWTtJQUNMLCtDQUFPLEdBQWQ7UUFDQyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDN0MsQ0FBQztJQUVELFlBQVk7SUFDTCxxREFBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFZLEdBQW5CLFVBQW9CLGFBQW9DO1FBQ3ZELE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVELFlBQVk7SUFDTCxzREFBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUVELFlBQVk7SUFDTCx1REFBZSxHQUF0QjtRQUNDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUNGLG9DQUFDO0FBQUQsQ0FBQyxDQTdEMkMsZUFBTSxHQTZEakQ7QUFFRCxXQUFPLDZCQUE2QjtJQUNuQzs7T0FFRztJQUNIO1FBQUE7UUFFQSxDQUFDO1FBQUQsd0NBQUM7SUFBRCxDQUFDO0lBRlksK0RBQWlDLG9DQUU3QztBQUNGLENBQUMsRUFQTSw2QkFBNkIsS0FBN0IsNkJBQTZCLFFBT25DO0FBRUQsaUJBQVMsNkJBQTZCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL0dlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLi9VdGlsc1wiO1xyXG5pbXBvcnQgeyBTdXJ2ZXkgfSBmcm9tIFwiLi9TdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgU3VydmV5RGF0YVNvdXJjZSBmcm9tIFwiLi9TdXJ2ZXlEYXRhU291cmNlXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IGV4dGVuZHMgU3VydmV5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhKTogSVN1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZUN1c3RvbShiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSk6IElTdXJ2ZXkge1xyXG5cdFx0aWYgKGlzTk9VKGJhc2VEYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5LkdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN1cnZleUluZm8gPSBuZXcgU3VydmV5RGF0YVNvdXJjZShkYXRhLmJhc2VEYXRhKTtcclxuXHJcblx0XHQvLyBUaGlzIGNoZWNrIGNhbm5vdCBiZSBkb25lIGluIHN1cnZleSBpbmZvIGNvbnN0cnVjdG9yXHJcblx0XHQvLyBhcyBtZXRhZGF0YSBpcyBzcGVjaWZpYyB0byB0aGlzIHN1cnZleSB0eXBlLlxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuc3VydmV5SW5mby5nZXRNZXRhZGF0YSgpKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJtZXRhZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0cmV0dXJuIFtdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHt9O1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IHtcclxuXHQvKipcclxuXHQgKiBEYXRhIHJlcXVpcmVkIGZvciBhIEdlbmVyaWMgU3VyZmFjZSBTdXJ2ZXlcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhIHtcclxuXHRcdHB1YmxpYyBiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/InterceptSurvey.js":
/*!************************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/InterceptSurvey.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar InterceptComponent = __webpack_require__(/*! ../SurveyComponents/InterceptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU;\nvar InterceptSurvey = /** @class */ (function (_super) {\n    __extends(InterceptSurvey, _super);\n    function InterceptSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.intercept = new InterceptComponent(data.interceptData);\n        return _this;\n    }\n    InterceptSurvey.make = function (data) {\n        try {\n            return new InterceptSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    InterceptSurvey.makeIntercept = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var content = surveyModel.content;\n        // Intercept component is required.\n        if (isNOU(content) || isNOU(content.intercept)) {\n            return null;\n        }\n        var data = new InterceptSurvey.InterceptSurveyData();\n        data.baseData = baseData;\n        data.interceptData = new InterceptComponent.InterceptComponentData();\n        data.interceptData.title = sp.getCustomString(content.intercept.title);\n        data.interceptData.question = sp.getCustomString(content.intercept.question);\n        data.interceptData.url = sp.getCustomString(content.intercept.url);\n        if (isNOU(data.interceptData.title)\n            || isNOU(data.interceptData.question)\n            || isNOU(data.interceptData.url)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    // @Override\n    InterceptSurvey.prototype.getType = function () {\n        return ISurvey.Type.Intercept;\n    };\n    // @Override\n    InterceptSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    InterceptSurvey.prototype.getInterceptComponent = function () {\n        return this.intercept;\n    };\n    // @Override\n    InterceptSurvey.prototype.getComponent = function (componentType) {\n        return (componentType === \"Intercept\" /* Intercept */) ? this.getInterceptComponent() : null;\n    };\n    // @Override\n    InterceptSurvey.prototype.getDomElements = function (doc) {\n        return [];\n    };\n    // @Override\n    InterceptSurvey.prototype.getJsonElements = function () {\n        return {};\n    };\n    return InterceptSurvey;\n}(Survey_1.Survey));\n(function (InterceptSurvey) {\n    /**\n     * Data required for an Intercept Survey\n     */\n    var InterceptSurveyData = /** @class */ (function () {\n        function InterceptSurveyData() {\n        }\n        return InterceptSurveyData;\n    }());\n    InterceptSurvey.InterceptSurveyData = InterceptSurveyData;\n})(InterceptSurvey || (InterceptSurvey = {}));\nmodule.exports = InterceptSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvSW50ZXJjZXB0U3VydmV5LnRzPzZiM2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFJMUMsK0pBQTZFO0FBQzdFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBSyxLQUFLLE1BQVYsQ0FBVztBQUV4QjtJQUE4QixtQ0FBTTtJQTZDbkMseUJBQW9CLElBQXlDO1FBQTdELFlBQ0MsaUJBQU8sU0FPUDtRQU5BLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUVELEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs7SUFDN0QsQ0FBQztJQXBEYSxvQkFBSSxHQUFsQixVQUFtQixJQUF5QztRQUMzRCxJQUFJO1lBQ0gsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFFYSw2QkFBYSxHQUEzQixVQUE0QixRQUErQyxFQUFFLEVBQTRCLEVBQ3hHLFdBQW1DO1FBRW5DLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDdkQsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0sT0FBTyxHQUEwQixXQUFXLENBQUMsT0FBTyxDQUFDO1FBRTNELG1DQUFtQztRQUNuQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQy9DLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLGVBQWUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBRXpCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRXJFLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRW5FLElBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO2VBQ2hDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztlQUNsQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUVsQyxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFlRCxZQUFZO0lBQ0wsaUNBQU8sR0FBZDtRQUNDLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVk7SUFDTCx1Q0FBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLCtDQUFxQixHQUE1QjtRQUNDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2QixDQUFDO0lBRUQsWUFBWTtJQUNMLHNDQUFZLEdBQW5CLFVBQW9CLGFBQW9DO1FBQ3ZELE9BQU8sQ0FBQyxhQUFhLGdDQUFvQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbEcsQ0FBQztJQUVELFlBQVk7SUFDTCx3Q0FBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBZSxHQUF0QjtRQUNDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQyxDQXBGNkIsZUFBTSxHQW9GbkM7QUFDRCxXQUFPLGVBQWU7SUFDckI7O09BRUc7SUFDSDtRQUFBO1FBR0EsQ0FBQztRQUFELDBCQUFDO0lBQUQsQ0FBQztJQUhZLG1DQUFtQixzQkFHL0I7QUFDRixDQUFDLEVBUk0sZUFBZSxLQUFmLGVBQWUsUUFRckI7QUFFRCxpQkFBUyxlQUFlLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL0ludGVyY2VwdFN1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdHJpbmdQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJSW50ZXJjZXB0U3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JSW50ZXJjZXB0U3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3VydmV5Q29udGVudCwgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgSW50ZXJjZXB0Q29tcG9uZW50IGZyb20gXCIuLi9TdXJ2ZXlDb21wb25lbnRzL0ludGVyY2VwdENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgU3VydmV5IH0gZnJvbSBcIi4vU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIFN1cnZleURhdGFTb3VyY2UgZnJvbSBcIi4vU3VydmV5RGF0YVNvdXJjZVwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5jbGFzcyBJbnRlcmNlcHRTdXJ2ZXkgZXh0ZW5kcyBTdXJ2ZXkgaW1wbGVtZW50cyBJSW50ZXJjZXB0U3VydmV5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogSW50ZXJjZXB0U3VydmV5LkludGVyY2VwdFN1cnZleURhdGEpOiBJSW50ZXJjZXB0U3VydmV5IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgSW50ZXJjZXB0U3VydmV5KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZUludGVyY2VwdChiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSwgc3A6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdHN1cnZleU1vZGVsOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlKTogSUludGVyY2VwdFN1cnZleSB7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGJhc2VEYXRhKSB8fCBpc05PVShzcCkgfHwgaXNOT1Uoc3VydmV5TW9kZWwpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbnRlbnQ6IENhbXBhaWduU3VydmV5Q29udGVudCA9IHN1cnZleU1vZGVsLmNvbnRlbnQ7XHJcblxyXG5cdFx0Ly8gSW50ZXJjZXB0IGNvbXBvbmVudCBpcyByZXF1aXJlZC5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmludGVyY2VwdCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBJbnRlcmNlcHRTdXJ2ZXkuSW50ZXJjZXB0U3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdGRhdGEuaW50ZXJjZXB0RGF0YSA9IG5ldyBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cclxuXHRcdGRhdGEuaW50ZXJjZXB0RGF0YS50aXRsZSA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmludGVyY2VwdC50aXRsZSk7XHJcblx0XHRkYXRhLmludGVyY2VwdERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5pbnRlcmNlcHQucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5pbnRlcmNlcHREYXRhLnVybCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmludGVyY2VwdC51cmwpO1xyXG5cclxuXHRcdGlmICggaXNOT1UoZGF0YS5pbnRlcmNlcHREYXRhLnRpdGxlKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLmludGVyY2VwdERhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEuaW50ZXJjZXB0RGF0YS51cmwpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlKGRhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlJbmZvOiBTdXJ2ZXlEYXRhU291cmNlO1xyXG5cdHByaXZhdGUgaW50ZXJjZXB0OiBJbnRlcmNlcHRDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogSW50ZXJjZXB0U3VydmV5LkludGVyY2VwdFN1cnZleURhdGEpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHRpZiAoaXNOT1UoZGF0YSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3VydmV5SW5mbyA9IG5ldyBTdXJ2ZXlEYXRhU291cmNlKGRhdGEuYmFzZURhdGEpO1xyXG5cdFx0dGhpcy5pbnRlcmNlcHQgPSBuZXcgSW50ZXJjZXB0Q29tcG9uZW50KGRhdGEuaW50ZXJjZXB0RGF0YSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXkuVHlwZS5JbnRlcmNlcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEludGVyY2VwdENvbXBvbmVudCgpOiBJbnRlcmNlcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW50ZXJjZXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiAoY29tcG9uZW50VHlwZSA9PT0gSVN1cnZleUNvbXBvbmVudC5UeXBlLkludGVyY2VwdCkgPyB0aGlzLmdldEludGVyY2VwdENvbXBvbmVudCgpIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdHJldHVybiB7fTtcclxuXHR9XHJcbn1cclxubW9kdWxlIEludGVyY2VwdFN1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYW4gSW50ZXJjZXB0IFN1cnZleVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBjbGFzcyBJbnRlcmNlcHRTdXJ2ZXlEYXRhIHtcclxuXHRcdHB1YmxpYyBiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YTtcclxuXHRcdHB1YmxpYyBpbnRlcmNlcHREYXRhOiBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEludGVyY2VwdFN1cnZleTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/InterceptSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/NlqsSurvey.js":
/*!*******************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/NlqsSurvey.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ \"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU, overrideValues = Utils.overrideValues;\nvar NlqsSurvey = /** @class */ (function (_super) {\n    __extends(NlqsSurvey, _super);\n    function NlqsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = new CommentComponent(data.commentData);\n        _this.rating = new RatingComponent(data.ratingData);\n        return _this;\n    }\n    NlqsSurvey.make = function (data) {\n        try {\n            return new NlqsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    NlqsSurvey.makeNlqs = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var content = surveyModel.content;\n        if (isNOU(content) || isNOU(content.comment)\n            || isNOU(content.prompt) || isNOU(content.rating)) {\n            return null;\n        }\n        var data = new NlqsSurvey.NlqsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        data.ratingData.question = sp.getCustomString(content.rating.question);\n        data.ratingData.isZeroBased = content.rating.isZeroBased;\n        data.commentData.question = sp.getCustomString(content.comment.question);\n        for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var customString = sp.getCustomString(value);\n            if (isNOU(customString)) {\n                return null;\n            }\n            ratingValuesAscending.push(customString);\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        if (isNOU(data.ratingData.question)\n            || isNOU(data.commentData.question)\n            || isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)\n            || isNOU(data.ratingData.ratingValuesAscending)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    // @Override\n    NlqsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Nlqs;\n    };\n    // @Override\n    NlqsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    NlqsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    NlqsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    NlqsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    NlqsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case \"Comment\" /* Comment */:\n                return this.getCommentComponent();\n            case \"Prompt\" /* Prompt */:\n                return this.getPromptComponent();\n            case \"Rating\" /* Rating */:\n                return this.getRatingComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    NlqsSurvey.prototype.getDomElements = function (doc) {\n        if (isNOU(doc)) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurvey.DOM_NLQS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        return [element];\n    };\n    // @Override\n    NlqsSurvey.prototype.getJsonElements = function () {\n        var result = {};\n        result = overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result = overrideValues(this.getCommentComponent().getJsonElements(), result);\n        result = overrideValues(this.getRatingComponent().getJsonElements(), result);\n        return result;\n    };\n    return NlqsSurvey;\n}(Survey_1.Survey));\n(function (NlqsSurvey) {\n    /**\n     * Data required for a Nlqs Survey\n     */\n    var NlqsSurveyData = /** @class */ (function () {\n        function NlqsSurveyData() {\n        }\n        return NlqsSurveyData;\n    }());\n    NlqsSurvey.NlqsSurveyData = NlqsSurveyData;\n})(NlqsSurvey || (NlqsSurvey = {}));\nmodule.exports = NlqsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvTmxxc1N1cnZleS50cz9jZjU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRUEsb0dBQTBDO0FBSTFDLHlKQUF5RTtBQUN6RSxzSkFBdUU7QUFDdkUsc0pBQXVFO0FBQ3ZFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBcUIsS0FBSyxNQUExQixFQUFFLGNBQWMsR0FBSyxLQUFLLGVBQVYsQ0FBVztBQUV4QztJQUF5Qiw4QkFBTTtJQXNFOUIsb0JBQW9CLElBQStCO1FBQW5ELFlBQ0MsaUJBQU8sU0FTUDtRQVJBLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUVELEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkQsS0FBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzs7SUFDcEQsQ0FBQztJQS9FYSxlQUFJLEdBQWxCLFVBQW1CLElBQStCO1FBQ2pELElBQUk7WUFDSCxPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVhLG1CQUFRLEdBQXRCLFVBQXVCLFFBQStDLEVBQUUsRUFBNEIsRUFDbkcsV0FBbUM7UUFFbkMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFD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QUM7UUFFN0UsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBQ0YsaUJBQUM7QUFBRCxDQUFDLENBaEt3QixlQUFNLEdBZ0s5QjtBQUVELFdBQU8sVUFBVTtJQUNoQjs7T0FFRztJQUNIO1FBQUE7UUFLQSxDQUFDO1FBQUQscUJBQUM7SUFBRCxDQUFDO0lBTFkseUJBQWMsaUJBSzFCO0FBQ0YsQ0FBQyxFQVZNLFVBQVUsS0FBVixVQUFVLFFBVWhCO0FBRUQsaUJBQVMsVUFBVSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9ObHFzU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElObHFzU3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JTmxxc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UsIG92ZXJyaWRlVmFsdWVzIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIE5scXNTdXJ2ZXkgZXh0ZW5kcyBTdXJ2ZXkgaW1wbGVtZW50cyBJTmxxc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IE5scXNTdXJ2ZXkuTmxxc1N1cnZleURhdGEpOiBJTmxxc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IE5scXNTdXJ2ZXkoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtYWtlTmxxcyhiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSwgc3A6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdHN1cnZleU1vZGVsOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlKTogSU5scXNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBjb250ZW50OiBDYW1wYWlnblN1cnZleUNvbnRlbnQgPSBzdXJ2ZXlNb2RlbC5jb250ZW50O1xyXG5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmNvbW1lbnQpXHJcblx0XHRcdHx8IGlzTk9VKGNvbnRlbnQucHJvbXB0KSB8fCBpc05PVShjb250ZW50LnJhdGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTmxxc1N1cnZleS5ObHFzU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhID0gbmV3IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEgPSBuZXcgQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSgpO1xyXG5cclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC50aXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0Lnllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0Lm5vTGFiZWwpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucmF0aW5nLnF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5pc1plcm9CYXNlZCA9IGNvbnRlbnQucmF0aW5nLmlzWmVyb0Jhc2VkO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmNvbW1lbnQucXVlc3Rpb24pO1xyXG5cclxuXHRcdGZvciAoY29uc3QgdmFsdWUgb2YgY29udGVudC5yYXRpbmcucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSB7XHJcblx0XHRcdGNvbnN0IGN1c3RvbVN0cmluZzogc3RyaW5nID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGlmIChpc05PVShjdXN0b21TdHJpbmcpKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZy5wdXNoKGN1c3RvbVN0cmluZyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHJcblx0XHRpZiAoaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEudGl0bGUpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbilcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbClcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblx0cHJpdmF0ZSBxdWVzdGlvbjogQ29tbWVudENvbXBvbmVudDtcclxuXHRwcml2YXRlIHByb21wdDogUHJvbXB0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcmF0aW5nOiBSYXRpbmdDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogTmxxc1N1cnZleS5ObHFzU3VydmV5RGF0YSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdGlmIChpc05PVShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXlJbmZvID0gbmV3IFN1cnZleURhdGFTb3VyY2UoZGF0YS5iYXNlRGF0YSk7XHJcblx0XHR0aGlzLnByb21wdCA9IG5ldyBQcm9tcHRDb21wb25lbnQoZGF0YS5wcm9tcHREYXRhKTtcclxuXHRcdHRoaXMucXVlc3Rpb24gPSBuZXcgQ29tbWVudENvbXBvbmVudChkYXRhLmNvbW1lbnREYXRhKTtcclxuXHRcdHRoaXMucmF0aW5nID0gbmV3IFJhdGluZ0NvbXBvbmVudChkYXRhLnJhdGluZ0RhdGEpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuTmxxcztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdXJ2ZXlJbmZvKCk6IElTdXJ2ZXlJbmZvIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleUluZm87XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tbWVudENvbXBvbmVudCgpOiBDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnF1ZXN0aW9uO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFByb21wdENvbXBvbmVudCgpOiBQcm9tcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvbXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFJhdGluZ0NvbXBvbmVudCgpOiBSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucmF0aW5nO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHN3aXRjaCAoY29tcG9uZW50VHlwZSkge1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Db21tZW50OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuUHJvbXB0OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldFByb21wdENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCk7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoaXNOT1UoZG9jKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5LkRPTV9OTFFTX1RBR05BTUUpO1xyXG5cclxuXHRcdHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRpZiAoIWlzTk9VKGNoaWxkKSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGxldCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdCA9IG92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cdFx0cmVzdWx0ID0gb3ZlcnJpZGVWYWx1ZXModGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0SnNvbkVsZW1lbnRzKCksIHJlc3VsdCk7XHJcblx0XHRyZXN1bHQgPSBvdmVycmlkZVZhbHVlcyh0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgTmxxc1N1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBObHFzIFN1cnZleVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBjbGFzcyBObHFzU3VydmV5RGF0YSB7XHJcblx0XHRwdWJsaWMgYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGE7XHJcblx0XHRwdWJsaWMgY29tbWVudERhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcHJvbXB0RGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcmF0aW5nRGF0YTogUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGE7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBObHFzU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/NlqsSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/NpsSurvey.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/NpsSurvey.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ \"../FloodgateCore/dist/src/Api/ISurveyComponent.js\");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\");\nvar CVSurveyComponent = __webpack_require__(/*! ../SurveyComponents/CVSurveyComponent */ \"../FloodgateCore/dist/src/SurveyComponents/CVSurveyComponent.js\");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ \"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ \"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ \"../FloodgateCore/dist/src/Surveys/Survey.js\");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ \"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\");\nvar isNOU = Utils.isNOU, overrideValues = Utils.overrideValues;\nvar NpsSurvey = /** @class */ (function (_super) {\n    __extends(NpsSurvey, _super);\n    function NpsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (!data) {\n            throw new Error(\"data must not be null\");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = new CommentComponent(data.commentData);\n        _this.rating = new RatingComponent(data.ratingData);\n        _this.cvSurvey = data.cvSurveyData ? (new CVSurveyComponent(data.cvSurveyData)) : null;\n        return _this;\n    }\n    NpsSurvey.make = function (data) {\n        try {\n            return new NpsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    NpsSurvey.makeCustom = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var content = surveyModel.content;\n        if (isNOU(content) || isNOU(content.comment)\n            || isNOU(content.prompt) || isNOU(content.rating)) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        data.ratingData.question = sp.getCustomString(content.rating.question);\n        data.ratingData.isZeroBased = content.rating.isZeroBased;\n        data.commentData.question = sp.getCustomString(content.comment.question);\n        for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var customString = sp.getCustomString(value);\n            if (isNOU(customString)) {\n                return null;\n            }\n            ratingValuesAscending.push(customString);\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        if (isNOU(data.ratingData.question)\n            || isNOU(data.commentData.question)\n            || isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)\n            || isNOU(data.ratingData.ratingValuesAscending)) {\n            return null;\n        }\n        // cvsurvey data is not required on all surveys.\n        if (content.cvSurvey) {\n            data.cvSurveyData = new CVSurveyComponent.CVSurveyComponentData();\n            data.cvSurveyData.customerVoiceFormId = content.cvSurvey.customerVoiceFormId;\n            if (isNOU(data.cvSurveyData.customerVoiceFormId)) {\n                return null;\n            }\n        }\n        return this.make(data);\n    };\n    NpsSurvey.make5Point = function (baseData, sp) {\n        if (!baseData || !sp) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.ratingData.isZeroBased = false;\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData.question = sp.loadStringResource(4 /* NpsRatingQuestion */);\n        data.commentData.question = sp.loadStringResource(21 /* NpsCommentQuestion */);\n        data.promptData.title = sp.loadStringResource(0 /* NpsPromptTitle */);\n        data.promptData.question = sp.loadStringResource(1 /* NpsPromptQuestion */);\n        data.promptData.yesButtonLabel = sp.loadStringResource(2 /* NpsPromptYesLabel */);\n        data.promptData.noButtonLabel = sp.loadStringResource(3 /* NpsPromptNotNowLabel */);\n        var ratingValuesAscending = new Array(5);\n        ratingValuesAscending[0] = sp.loadStringResource(16 /* Nps5RatingValue1 */);\n        ratingValuesAscending[1] = sp.loadStringResource(17 /* Nps5RatingValue2 */);\n        ratingValuesAscending[2] = sp.loadStringResource(18 /* Nps5RatingValue3 */);\n        ratingValuesAscending[3] = sp.loadStringResource(19 /* Nps5RatingValue4 */);\n        ratingValuesAscending[4] = sp.loadStringResource(20 /* Nps5RatingValue5 */);\n        if (!data.ratingData.question\n            || !data.commentData.question\n            || !data.promptData.title\n            || !data.promptData.question\n            || !data.promptData.yesButtonLabel\n            || !data.promptData.noButtonLabel\n            || !ratingValuesAscending[0]\n            || !ratingValuesAscending[1]\n            || !ratingValuesAscending[2]\n            || !ratingValuesAscending[3]\n            || !ratingValuesAscending[4]) {\n            return null;\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        return this.make(data);\n    };\n    NpsSurvey.make11Point = function (baseData, sp) {\n        if (!baseData || !sp) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.ratingData.isZeroBased = true;\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData.question = sp.loadStringResource(4 /* NpsRatingQuestion */);\n        data.commentData.question = sp.loadStringResource(21 /* NpsCommentQuestion */);\n        data.promptData.title = sp.loadStringResource(0 /* NpsPromptTitle */);\n        data.promptData.question = sp.loadStringResource(1 /* NpsPromptQuestion */);\n        data.promptData.yesButtonLabel = sp.loadStringResource(2 /* NpsPromptYesLabel */);\n        data.promptData.noButtonLabel = sp.loadStringResource(3 /* NpsPromptNotNowLabel */);\n        var ratingValuesAscending = new Array(11);\n        ratingValuesAscending[0] = sp.loadStringResource(5 /* Nps11RatingValue0 */);\n        ratingValuesAscending[1] = sp.loadStringResource(6 /* Nps11RatingValue1 */);\n        ratingValuesAscending[2] = sp.loadStringResource(7 /* Nps11RatingValue2 */);\n        ratingValuesAscending[3] = sp.loadStringResource(8 /* Nps11RatingValue3 */);\n        ratingValuesAscending[4] = sp.loadStringResource(9 /* Nps11RatingValue4 */);\n        ratingValuesAscending[5] = sp.loadStringResource(10 /* Nps11RatingValue5 */);\n        ratingValuesAscending[6] = sp.loadStringResource(11 /* Nps11RatingValue6 */);\n        ratingValuesAscending[7] = sp.loadStringResource(12 /* Nps11RatingValue7 */);\n        ratingValuesAscending[8] = sp.loadStringResource(13 /* Nps11RatingValue8 */);\n        ratingValuesAscending[9] = sp.loadStringResource(14 /* Nps11RatingValue9 */);\n        ratingValuesAscending[10] = sp.loadStringResource(15 /* Nps11RatingValue10 */);\n        if (!data.ratingData.question\n            || !data.commentData.question\n            || !data.promptData.title\n            || !data.promptData.question\n            || !data.promptData.yesButtonLabel\n            || !data.promptData.noButtonLabel\n            || !ratingValuesAscending[0]\n            || !ratingValuesAscending[1]\n            || !ratingValuesAscending[2]\n            || !ratingValuesAscending[3]\n            || !ratingValuesAscending[4]\n            || !ratingValuesAscending[5]\n            || !ratingValuesAscending[6]\n            || !ratingValuesAscending[7]\n            || !ratingValuesAscending[8]\n            || !ratingValuesAscending[9]\n            || !ratingValuesAscending[10]) {\n            return null;\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        return this.make(data);\n    };\n    // @Override\n    NpsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Nps;\n    };\n    // @Override\n    NpsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    NpsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    NpsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    NpsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    NpsSurvey.prototype.getCVSurveyComponent = function () {\n        return this.cvSurvey;\n    };\n    // @Override\n    NpsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case \"Comment\" /* Comment */:\n                return this.getCommentComponent();\n            case \"Prompt\" /* Prompt */:\n                return this.getPromptComponent();\n            case \"Rating\" /* Rating */:\n                return this.getRatingComponent();\n            case \"CVSurvey\" /* CVSurvey */:\n                return this.getCVSurveyComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    NpsSurvey.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var element = doc.createElement(ISurvey.DOM_NPS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        return [element];\n    };\n    // @Override\n    NpsSurvey.prototype.getJsonElements = function () {\n        var _a;\n        var result = {};\n        result = overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result = overrideValues(this.getCommentComponent().getJsonElements(), result);\n        result = overrideValues(this.getRatingComponent().getJsonElements(), result);\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME] = {};\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME][ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME] =\n            JSON.stringify((_a = {}, _a[ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME] = this.makeSurveyStrings(), _a));\n        return result;\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    NpsSurvey.prototype.makeSurveyStrings = function () {\n        var actualStrings = {};\n        if (this.prompt) {\n            actualStrings[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.prompt.getComponentJson();\n        }\n        if (this.rating) {\n            actualStrings[ISurveyComponent.JSON_RATING_KEYNAME] = [this.rating.getComponentJson()];\n        }\n        if (this.question) {\n            actualStrings[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.question.getComponentJson()];\n        }\n        return JSON.stringify(actualStrings);\n    };\n    return NpsSurvey;\n}(Survey_1.Survey));\n(function (NpsSurvey) {\n    /**\n     * Data required for a Nps Survey\n     */\n    var NpsSurveyData = /** @class */ (function () {\n        function NpsSurveyData() {\n        }\n        return NpsSurveyData;\n    }());\n    NpsSurvey.NpsSurveyData = NpsSurveyData;\n})(NpsSurvey || (NpsSurvey = {}));\nmodule.exports = NpsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvTnBzU3VydmV5LnRzPzQ5YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFDMUMsK0hBQTREO0FBRzVELHlKQUF5RTtBQUN6RSw0SkFBMkU7QUFDM0Usc0pBQXVFO0FBQ3ZFLHNKQUF1RTtBQUN2RSxzRkFBa0M7QUFDbEMsa0dBQWtDO0FBQ2xDLDhIQUF1RDtBQUUvQyxTQUFLLEdBQXFCLEtBQUssTUFBMUIsRUFBRSxjQUFjLEdBQUssS0FBSyxlQUFWLENBQVc7QUFFeEM7SUFBd0IsNkJBQU07SUFvTDdCLG1CQUFvQixJQUE2QjtRQUFqRCxZQUNDLGlCQUFPLFNBVVA7UUFUQSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxLQUFJLENBQUMsUUFBUSxHQUFHLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3ZELEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7O0lBQ3ZGLENBQUM7SUE5TGEsY0FBSSxHQUFsQixVQUFtQixJQUE2QjtRQUMvQyxJQUFJO1lBQ0gsT0FBTyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztT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QkFBZ0IsQ0FBQyxpQ0FBaUMsQ0FBQztZQUNwRyxJQUFJLENBQUMsU0FBUyxXQUFFLEdBQUMsZ0JBQWdCLENBQUMsMEJBQTBCLElBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE1BQUUsQ0FBQztRQUUzRixPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCx1RkFBdUY7SUFDL0UscUNBQWlCLEdBQXpCO1FBQ0MsSUFBTSxhQUFhLEdBQVcsRUFBRSxDQUFDO1FBRWpDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNoQixhQUFhLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7U0FDckY7UUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsYUFBYSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQztTQUN2RjtRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixhQUFhLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1NBQzFGO1FBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFDRixnQkFBQztBQUFELENBQUMsQ0E3U3VCLGVBQU0sR0E2UzdCO0FBRUQsV0FBTyxTQUFTO0lBQ2Y7O09BRUc7SUFDSDtRQUFBO1FBTUEsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQU5ZLHVCQUFhLGdCQU16QjtBQUNGLENBQUMsRUFYTSxTQUFTLEtBQVQsU0FBUyxRQVdmO0FBRUQsaUJBQVMsU0FBUyxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9OcHNTdXJ2ZXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSU5wc1N1cnZleSB9IGZyb20gXCIuLi9BcGkvSU5wc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBDVlN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9DVlN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UsIG92ZXJyaWRlVmFsdWVzIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIE5wc1N1cnZleSBleHRlbmRzIFN1cnZleSBpbXBsZW1lbnRzIElOcHNTdXJ2ZXkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBOcHNTdXJ2ZXkuTnBzU3VydmV5RGF0YSk6IElOcHNTdXJ2ZXkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBOcHNTdXJ2ZXkoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtYWtlQ3VzdG9tKGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhLCBzcDogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLFxyXG5cdFx0c3VydmV5TW9kZWw6IENhbXBhaWduU3VydmV5VGVtcGxhdGUpOiBJTnBzU3VydmV5IHtcclxuXHJcblx0XHRpZiAoaXNOT1UoYmFzZURhdGEpIHx8IGlzTk9VKHNwKSB8fCBpc05PVShzdXJ2ZXlNb2RlbCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmF0aW5nVmFsdWVzQXNjZW5kaW5nOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Y29uc3QgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50ID0gc3VydmV5TW9kZWwuY29udGVudDtcclxuXHJcblx0XHRpZiAoaXNOT1UoY29udGVudCkgfHwgaXNOT1UoY29udGVudC5jb21tZW50KVxyXG5cdFx0XHR8fCBpc05PVShjb250ZW50LnByb21wdCkgfHwgaXNOT1UoY29udGVudC5yYXRpbmcpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKCk7XHJcblx0XHRkYXRhLmJhc2VEYXRhID0gYmFzZURhdGE7XHJcblx0XHRkYXRhLnByb21wdERhdGEgPSBuZXcgUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YSA9IG5ldyBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhKCk7XHJcblxyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnRpdGxlID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0LnRpdGxlKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC5xdWVzdGlvbik7XHJcblx0XHRkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQueWVzTGFiZWwpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWwgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQubm9MYWJlbCk7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5yYXRpbmcucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLmlzWmVyb0Jhc2VkID0gY29udGVudC5yYXRpbmcuaXNaZXJvQmFzZWQ7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQuY29tbWVudC5xdWVzdGlvbik7XHJcblxyXG5cdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiBjb250ZW50LnJhdGluZy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpIHtcclxuXHRcdFx0Y29uc3QgY3VzdG9tU3RyaW5nOiBzdHJpbmcgPSBzcC5nZXRDdXN0b21TdHJpbmcodmFsdWUpO1xyXG5cclxuXHRcdFx0aWYgKGlzTk9VKGN1c3RvbVN0cmluZykpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nLnB1c2goY3VzdG9tU3RyaW5nKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nID0gcmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cclxuXHRcdGlmIChpc05PVShkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS50aXRsZSlcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3ZzdXJ2ZXkgZGF0YSBpcyBub3QgcmVxdWlyZWQgb24gYWxsIHN1cnZleXMuXHJcblx0XHRpZiAoY29udGVudC5jdlN1cnZleSkge1xyXG5cdFx0XHRkYXRhLmN2U3VydmV5RGF0YSA9IG5ldyBDVlN1cnZleUNvbXBvbmVudC5DVlN1cnZleUNvbXBvbmVudERhdGEoKTtcclxuXHRcdFx0ZGF0YS5jdlN1cnZleURhdGEuY3VzdG9tZXJWb2ljZUZvcm1JZCA9ICBjb250ZW50LmN2U3VydmV5LmN1c3RvbWVyVm9pY2VGb3JtSWQ7XHJcblxyXG5cdFx0XHRpZiAoaXNOT1UoZGF0YS5jdlN1cnZleURhdGEuY3VzdG9tZXJWb2ljZUZvcm1JZCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2U1UG9pbnQoYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIpOiBJTnBzU3VydmV5IHtcclxuXHRcdGlmICghYmFzZURhdGEgfHwgIXNwKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTnBzU3VydmV5Lk5wc1N1cnZleURhdGEoKTtcclxuXHRcdGRhdGEuYmFzZURhdGEgPSBiYXNlRGF0YTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLmlzWmVyb0Jhc2VkID0gZmFsc2U7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YSA9IG5ldyBQcm9tcHRDb21wb25lbnQuUHJvbXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1JhdGluZ1F1ZXN0aW9uKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzQ29tbWVudFF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHRUaXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0UXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdE5vdE5vd0xhYmVsKTtcclxuXHRcdGNvbnN0IHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW10gPSBuZXcgQXJyYXkoNSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMV0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMik7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMl0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMyk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbM10gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlNCk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlNSk7XHJcblxyXG5cdFx0aWYgKCFkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEuY29tbWVudERhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS50aXRsZVxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uXHJcblx0XHRcdHx8ICFkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWxcclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMF1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzJdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbM11cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s0XSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2UxMVBvaW50KGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhLCBzcDogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyKTogSU5wc1N1cnZleSB7XHJcblx0XHRpZiAoIWJhc2VEYXRhIHx8ICFzcCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKCk7XHJcblx0XHRkYXRhLmJhc2VEYXRhID0gYmFzZURhdGE7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5pc1plcm9CYXNlZCA9IHRydWU7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YSA9IG5ldyBQcm9tcHRDb21wb25lbnQuUHJvbXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1JhdGluZ1F1ZXN0aW9uKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzQ29tbWVudFF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHRUaXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0UXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdE5vdE5vd0xhYmVsKTtcclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gbmV3IEFycmF5KDExKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1swXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlMCk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMV0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzJdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWUyKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1szXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlMyk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTQpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzVdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWU1KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s2XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlNik7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbN10gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTcpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzhdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWU4KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s5XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlOSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMTBdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWUxMCk7XHJcblxyXG5cdFx0aWYgKCFkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEuY29tbWVudERhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS50aXRsZVxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uXHJcblx0XHRcdHx8ICFkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWxcclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMF1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzJdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbM11cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s0XVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzVdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNl1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s3XVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzhdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbOV1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxMF0pIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEucmF0aW5nRGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcgPSByYXRpbmdWYWx1ZXNBc2NlbmRpbmc7XHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlKGRhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlJbmZvOiBTdXJ2ZXlEYXRhU291cmNlO1xyXG5cdHByaXZhdGUgcXVlc3Rpb246IENvbW1lbnRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSBwcm9tcHQ6IFByb21wdENvbXBvbmVudDtcclxuXHRwcml2YXRlIHJhdGluZzogUmF0aW5nQ29tcG9uZW50O1xyXG5cdHByaXZhdGUgY3ZTdXJ2ZXk6IENWU3VydmV5Q29tcG9uZW50O1xyXG5cclxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKGRhdGE6IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN1cnZleUluZm8gPSBuZXcgU3VydmV5RGF0YVNvdXJjZShkYXRhLmJhc2VEYXRhKTtcclxuXHRcdHRoaXMucHJvbXB0ID0gbmV3IFByb21wdENvbXBvbmVudChkYXRhLnByb21wdERhdGEpO1xyXG5cdFx0dGhpcy5xdWVzdGlvbiA9IG5ldyBDb21tZW50Q29tcG9uZW50KGRhdGEuY29tbWVudERhdGEpO1xyXG5cdFx0dGhpcy5yYXRpbmcgPSBuZXcgUmF0aW5nQ29tcG9uZW50KGRhdGEucmF0aW5nRGF0YSk7XHJcblx0XHR0aGlzLmN2U3VydmV5ID0gZGF0YS5jdlN1cnZleURhdGEgPyAobmV3IENWU3VydmV5Q29tcG9uZW50KGRhdGEuY3ZTdXJ2ZXlEYXRhKSkgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuTnBzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN1cnZleUluZm8oKTogSVN1cnZleUluZm8ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5SW5mbztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21tZW50Q29tcG9uZW50KCk6IENvbW1lbnRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJvbXB0Q29tcG9uZW50KCk6IFByb21wdENvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF0aW5nQ29tcG9uZW50KCk6IFJhdGluZ0NvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5yYXRpbmc7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTogQ1ZTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3ZTdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50KGNvbXBvbmVudFR5cGU6IElTdXJ2ZXlDb21wb25lbnQuVHlwZSk6IElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdFx0c3dpdGNoIChjb21wb25lbnRUeXBlKSB7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLkNvbW1lbnQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UHJvbXB0Q29tcG9uZW50KCk7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLlJhdGluZzpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ1ZTdXJ2ZXk6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q1ZTdXJ2ZXlDb21wb25lbnQoKTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmICghZG9jKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXkuRE9NX05QU19UQUdOQU1FKTtcclxuXHJcblx0XHR0aGlzLmdldFN1cnZleUluZm8oKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmIChjaGlsZCkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmIChjaGlsZCkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKGNoaWxkKSB7XHJcblx0XHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRsZXQgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRyZXN1bHQgPSBvdmVycmlkZVZhbHVlcyh0aGlzLmdldFN1cnZleUluZm8oKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHRcdHJlc3VsdCA9IG92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0Q29tbWVudENvbXBvbmVudCgpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cdFx0cmVzdWx0ID0gb3ZlcnJpZGVWYWx1ZXModGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0FQUExJQ0FUSU9OX0tFWU5BTUVdID0ge307XHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX0FQUExJQ0FUSU9OX0tFWU5BTUVdW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9FWFRFTkRFRE1BTklGRVNUREFUQV9LRVlOQU1FXSA9XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KHtbSVN1cnZleUNvbXBvbmVudC5KU09OX1NVUlZFWVNUUklOR1NfS0VZTkFNRV06IHRoaXMubWFrZVN1cnZleVN0cmluZ3MoKX0pO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBNYWtlcyB0aGUgc3RyaW5nIHRvIHNlbmQgdG8gTWFuaWZlc3QgcmVzcGVjdGluZyB0aGUgY29tcG9uZW50cyBwcmVzZW50IGluIHRoZSBzdXJ2ZXlcclxuXHRwcml2YXRlIG1ha2VTdXJ2ZXlTdHJpbmdzKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBhY3R1YWxTdHJpbmdzOiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAodGhpcy5wcm9tcHQpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUX0tFWU5BTUVdID0gdGhpcy5wcm9tcHQuZ2V0Q29tcG9uZW50SnNvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnJhdGluZykge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9SQVRJTkdfS0VZTkFNRV0gPSBbdGhpcy5yYXRpbmcuZ2V0Q29tcG9uZW50SnNvbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5xdWVzdGlvbikge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9DT01NRU5UX0tFWU5BTUVdID0gW3RoaXMucXVlc3Rpb24uZ2V0Q29tcG9uZW50SnNvbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYWN0dWFsU3RyaW5ncyk7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgTnBzU3VydmV5IHtcclxuXHQvKipcclxuXHQgKiBEYXRhIHJlcXVpcmVkIGZvciBhIE5wcyBTdXJ2ZXlcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgTnBzU3VydmV5RGF0YSB7XHJcblx0XHRwdWJsaWMgYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGE7XHJcblx0XHRwdWJsaWMgY29tbWVudERhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcHJvbXB0RGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcmF0aW5nRGF0YTogUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgY3ZTdXJ2ZXlEYXRhOiBDVlN1cnZleUNvbXBvbmVudC5DVlN1cnZleUNvbXBvbmVudERhdGE7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBOcHNTdXJ2ZXk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/NpsSurvey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/Survey.js":
/*!***************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/Survey.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Survey = void 0;\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar Utils = __webpack_require__(/*! ./../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar Survey = /** @class */ (function () {\n    function Survey() {\n    }\n    Survey.prototype.getCampaignId = function () {\n        return this.getSurveyInfo().getBackEndId();\n    };\n    Survey.prototype.getLauncherType = function () {\n        return this.getSurveyInfo().getLauncherType();\n    };\n    Survey.prototype.getClientFeedbackId = function () {\n        return this.clientFeedbackId;\n    };\n    Survey.prototype.submit = function () {\n        var surveyType = ISurvey.Type[this.getType()];\n        var transporter = FloodgateEngine_1.FloodgateEngine.getTransportFactory().makeTransporter(surveyType);\n        transporter.setManifestValues(this.getJsonElements());\n        this.clientFeedbackId = transporter.getClientFeedbackId();\n        transporter.submit();\n    };\n    Survey.prototype.getPreGeneratedClientFeedbackId = function () {\n        if (this.clientFeedbackId) {\n            return this.clientFeedbackId;\n        }\n        else {\n            return this.clientFeedbackId = Utils.guid();\n        }\n    };\n    return Survey;\n}());\nexports.Survey = Survey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvU3VydmV5LnRzPzZkZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0dBQTJDO0FBRzNDLHNIQUFxRDtBQUVyRCx3RkFBb0M7QUFFcEM7SUFBQTtJQXlDQSxDQUFDO0lBbkNPLDhCQUFhLEdBQXBCO1FBQ0MsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDNUMsQ0FBQztJQUVNLGdDQUFlLEdBQXRCO1FBQ0MsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDL0MsQ0FBQztJQUVNLG9DQUFtQixHQUExQjtRQUNDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQzlCLENBQUM7SUFFTSx1QkFBTSxHQUFiO1FBQ0MsSUFBTSxVQUFVLEdBQVcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUN4RCxJQUFNLFdBQVcsR0FBaUIsaUNBQWUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNwRyxXQUFXLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzFELFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRU0sZ0RBQStCLEdBQXRDO1FBQ0MsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7U0FDN0I7YUFBTTtZQUNOLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUM1QztJQUNGLENBQUM7SUFTRixhQUFDO0FBQUQsQ0FBQztBQXpDcUIsd0JBQU0iLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL1N1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJU3VydmV5ID0gcmVxdWlyZShcIi4uL0FwaS9JU3VydmV5XCIpO1xyXG5pbXBvcnQgSVN1cnZleUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiKTtcclxuaW1wb3J0IHsgSVRyYW5zcG9ydGVyIH0gZnJvbSBcIi4uL0FwaS9JVHJhbnNwb3J0ZXJcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdXJ2ZXkgaW1wbGVtZW50cyBJU3VydmV5IHtcclxuXHRwcml2YXRlIHN1cnZleTogSVN1cnZleTtcclxuXHRwcml2YXRlIGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50O1xyXG5cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdW5jaGVyVHlwZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldExhdW5jaGVyVHlwZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENsaWVudEZlZWRiYWNrSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3VibWl0KCkge1xyXG5cdFx0Y29uc3Qgc3VydmV5VHlwZTogc3RyaW5nID0gSVN1cnZleS5UeXBlW3RoaXMuZ2V0VHlwZSgpXTtcclxuXHRcdGNvbnN0IHRyYW5zcG9ydGVyOiBJVHJhbnNwb3J0ZXIgPSBGbG9vZGdhdGVFbmdpbmUuZ2V0VHJhbnNwb3J0RmFjdG9yeSgpLm1ha2VUcmFuc3BvcnRlcihzdXJ2ZXlUeXBlKTtcclxuXHRcdHRyYW5zcG9ydGVyLnNldE1hbmlmZXN0VmFsdWVzKHRoaXMuZ2V0SnNvbkVsZW1lbnRzKCkpO1xyXG5cdFx0dGhpcy5jbGllbnRGZWVkYmFja0lkID0gdHJhbnNwb3J0ZXIuZ2V0Q2xpZW50RmVlZGJhY2tJZCgpO1xyXG5cdFx0dHJhbnNwb3J0ZXIuc3VibWl0KCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJlR2VuZXJhdGVkQ2xpZW50RmVlZGJhY2tJZCgpOiBzdHJpbmcge1xyXG5cdFx0aWYgKHRoaXMuY2xpZW50RmVlZGJhY2tJZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jbGllbnRGZWVkYmFja0lkO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY2xpZW50RmVlZGJhY2tJZCA9IFV0aWxzLmd1aWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0Ly8gQWJzdHJhY3QgY2xhc3NlcyB0aGF0IGFyZSBpbXBsZW1lbnRlZCBieSBhY3R1YWwgU3VydmV5c1xyXG5cdHB1YmxpYyBhYnN0cmFjdCBnZXRUeXBlKCk6IElTdXJ2ZXkuVHlwZTtcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldFN1cnZleUluZm8oKTogSVN1cnZleUluZm87XHJcblxyXG5cdHB1YmxpYyBhYnN0cmFjdCBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0O1xyXG5cclxuXHRwdWJsaWMgYWJzdHJhY3QgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/Survey.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js":
/*!*************************************************************!*\
  !*** ../FloodgateCore/dist/src/Surveys/SurveyDataSource.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ISurvey = __webpack_require__(/*! ../../src/Api/ISurvey */ \"../FloodgateCore/dist/src/Api/ISurvey.js\");\nvar GovernedChannel_1 = __webpack_require__(/*! ../GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\nvar ISurveyInfo = __webpack_require__(/*! ../ISurveyInfo */ \"../FloodgateCore/dist/src/ISurveyInfo.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar getDistantFuture = Utils.getDistantFuture, getDistantPast = Utils.getDistantPast, isNOU = Utils.isNOU, isDate = Utils.isDate;\nvar SurveyDataSource = /** @class */ (function () {\n    function SurveyDataSource(data) {\n        if (isNOU(data)) {\n            throw new Error(\"data must not be null\");\n        }\n        if (isNOU(data.id) || data.id === \"\") {\n            throw new Error(\"data.id must not be null or empty\");\n        }\n        if (isNOU(data.governedChannelType)) {\n            data.governedChannelType = GovernedChannel_1.GovernedChannelType.getDefault();\n        }\n        if (isNOU(data.expirationTimeUtc) || data.expirationTimeUtc === \"\") {\n            throw new Error(\"data.expirationTimeUtc must not be null or empty\");\n        }\n        if (isNOU(data.activationEvent)) {\n            throw new Error(\"data.activationEvent must not be null\");\n        }\n        if (isNOU(data.backEndIdentifier) || data.backEndIdentifier === \"\") {\n            data.backEndIdentifier = data.id;\n        }\n        if (isNOU(data.launcherType)) {\n            data.launcherType = ISurvey.LAUNCHER_TYPE_DEFAULT;\n        }\n        this.data = data;\n    }\n    // @Override\n    SurveyDataSource.prototype.getId = function () {\n        return this.data.id;\n    };\n    // @Override\n    SurveyDataSource.prototype.getBackEndId = function () {\n        return this.data.backEndIdentifier;\n    };\n    // @Override\n    SurveyDataSource.prototype.getGovernedChannelType = function () {\n        return this.data.governedChannelType;\n    };\n    // @Override\n    SurveyDataSource.prototype.getRawStartTimeUtc = function () {\n        return this.data.startTimeUtc;\n    };\n    // @Override\n    SurveyDataSource.prototype.getStartTimeUtc = function () {\n        if (isNOU(this.data.startTimeUtc)) {\n            return getDistantPast(); // Optional start date means the survey has started\n        }\n        var parsed = new Date(this.data.startTimeUtc);\n        if (!isDate(parsed)) {\n            return getDistantFuture(); // Badly specified start dates means the survey never starts\n        }\n        return parsed;\n    };\n    // @Override\n    SurveyDataSource.prototype.getExpirationTimeUtc = function () {\n        // Bad or missing expiration date means survey is always expired.\n        if (isNOU(this.data.expirationTimeUtc)) {\n            return getDistantPast();\n        }\n        var parsed = new Date(this.data.expirationTimeUtc);\n        if (!isDate(parsed)) {\n            return getDistantPast();\n        }\n        return parsed;\n    };\n    // @Override\n    SurveyDataSource.prototype.getRawExpirationTimeUtc = function () {\n        return this.data.expirationTimeUtc;\n    };\n    // @Override\n    SurveyDataSource.prototype.isActiveForDate = function (date) {\n        if (isNOU(date)) {\n            return false;\n        }\n        return (date >= this.getStartTimeUtc() && date <= this.getExpirationTimeUtc());\n    };\n    // @Override\n    SurveyDataSource.prototype.getActivationEvent = function () {\n        return this.data.activationEvent;\n    };\n    // @Override\n    SurveyDataSource.prototype.getPreferredLaunchType = function () {\n        return this.data.preferredLaunchType;\n    };\n    // @Override\n    SurveyDataSource.prototype.isAdditionalDataRequested = function (additionalDataToCheck) {\n        if (isNOU(this.data.additionalDataRequested)) {\n            return false;\n        }\n        for (var _i = 0, _a = this.data.additionalDataRequested; _i < _a.length; _i++) {\n            var additionalData = _a[_i];\n            if (additionalData === additionalDataToCheck) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // @Override\n    SurveyDataSource.prototype.getLauncherType = function () {\n        return this.data.launcherType;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMetadata = function () {\n        return this.data.metadata;\n    };\n    // @Override\n    SurveyDataSource.prototype.getBusinessLevel = function () {\n        return this.data.businessLevel;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMaxLaunches = function () {\n        return this.data.maxLaunches;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMaxLaunchesPerSession = function () {\n        return this.data.maxLaunchesPerSession;\n    };\n    // @Override\n    SurveyDataSource.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error(\"Document must not be null\");\n        }\n        var typeElement = doc.createElement(ISurveyInfo.DOM_TYPE_TAGNAME);\n        typeElement.appendChild(doc.createTextNode(ISurveyInfo.DOM_TYPE_VALUE));\n        var idElement = doc.createElement(ISurveyInfo.DOM_ID_TAGNAME);\n        idElement.appendChild(doc.createTextNode(this.getBackEndId()));\n        return [typeElement, idElement];\n    };\n    // @Override\n    SurveyDataSource.prototype.getJsonElements = function () {\n        var surveyObject = {};\n        surveyObject[ISurveyInfo.JSON_ID_KEYNAME] = this.getBackEndId();\n        var result = {};\n        result[ISurveyInfo.JSON_SURVEY_KEYNAME] = surveyObject;\n        return result;\n    };\n    return SurveyDataSource;\n}());\n(function (SurveyDataSource) {\n    /**\n     * Basic data needed for all Surveys\n     */\n    var SurveyDataSourceData = /** @class */ (function () {\n        function SurveyDataSourceData() {\n            this.preferredLaunchType = \"Default\" /* Default */;\n        }\n        return SurveyDataSourceData;\n    }());\n    SurveyDataSource.SurveyDataSourceData = SurveyDataSourceData;\n})(SurveyDataSource || (SurveyDataSource = {}));\nmodule.exports = SurveyDataSource;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvU3VydmV5RGF0YVNvdXJjZS50cz84MzQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwyR0FBaUQ7QUFDakQsc0hBQXlEO0FBRXpELHdHQUE4QztBQUc5QyxzRkFBa0M7QUFFMUIsb0JBQWdCLEdBQW9DLEtBQUssaUJBQXpDLEVBQUUsY0FBYyxHQUFvQixLQUFLLGVBQXpCLEVBQUUsS0FBSyxHQUFhLEtBQUssTUFBbEIsRUFBRSxNQUFNLEdBQUssS0FBSyxPQUFWLENBQVc7QUFFbEU7SUFHQywwQkFBbUIsSUFBMkM7UUFDN0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3JDLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxxQ0FBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUM1RDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxFQUFFLEVBQUU7WUFDbkUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO1NBQ3BFO1FBQ0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUN6RDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxFQUFFLEVBQUU7WUFDbkUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7U0FDakM7UUFDRCxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUM7U0FDbEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRUQsWUFBWTtJQUNMLGdDQUFLLEdBQVo7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxZQUFZO0lBQ0wsdUNBQVksR0FBbkI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDcEMsQ0FBQztJQUVELFlBQVk7SUFDTCxpREFBc0IsR0FBN0I7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7SUFDdEMsQ0FBQztJQUVELFlBQVk7SUFDTCw2Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQy9CLENBQUM7SUFFRCxZQUFZO0lBQ0wsMENBQWUsR0FBdEI7UUFDQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ2xDLE9BQU8sY0FBYyxFQUFFLENBQUMsQ0FBQyxtREFBbUQ7U0FDNUU7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDcEIsT0FBTyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsNERBQTREO1NBQ3ZGO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLCtDQUFvQixHQUEzQjtRQUNDLGlFQUFpRTtRQUVqRSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7WUFDdkMsT0FBTyxjQUFjLEVBQUUsQ0FBQztTQUN4QjtRQUVELElBQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3BCLE9BQU8sY0FBYyxFQUFFLENBQUM7U0FDeEI7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCxZQUFZO0lBQ0wsa0RBQXVCLEdBQTlCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ3BDLENBQUM7SUFFRCxZQUFZO0lBQ0wsMENBQWUsR0FBdEIsVUFBdUIsSUFBVTtRQUNoQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNoQixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVELFlBQVk7SUFDTCw2Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxZQUFZO0lBQ0wsaURBQXNCLEdBQTdCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ3RDLENBQUM7SUFFRCxZQUFZO0lBQ0wsb0RBQXlCLEdBQWhDLFVBQWlDLHFCQUFxRDtRQUNyRixJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEVBQUU7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUNELEtBQTZCLFVBQWlDLEVBQWpDLFNBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQWpDLGNBQWlDLEVBQWpDLElBQWlDLEVBQUU7WUFBM0QsSUFBTSxjQUFjO1lBQ3hCLElBQUksY0FBYyxLQUFLLHFCQUFxQixFQUFFO2dCQUM3QyxPQUFPLElBQUksQ0FBQzthQUNaO1NBQ0Q7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFFRCxZQUFZO0lBQ0wsMENBQWUsR0FBdEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQy9CLENBQUM7SUFFRCxZQUFZO0lBQ0wsc0NBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQzNCLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWdCLEdBQXZCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoQyxDQUFDO0lBRUQsWUFBWTtJQUNMLHlDQUFjLEdBQXJCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM5QixDQUFDO0lBRUQsWUFBWTtJQUNMLG1EQUF3QixHQUEvQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN4QyxDQUFDO0lBRUQsWUFBWTtJQUNMLHlDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUVELElBQU0sV0FBVyxHQUFZLEdBQUcsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDN0UsV0FBVyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBRXhFLElBQU0sU0FBUyxHQUFZLEdBQUcsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3pFLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRS9ELE9BQU8sQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7SUFDTCwwQ0FBZSxHQUF0QjtRQUNDLElBQU0sWUFBWSxHQUFXLEVBQUUsQ0FBQztRQUNoQyxZQUFZLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUVoRSxJQUFNLE1BQU0sR0FBVyxFQUFFLENBQUM7UUFDMUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLFlBQVksQ0FBQztRQUV2RCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFDRix1QkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGdCQUFnQjtJQUN0Qjs7T0FFRztJQUNIO1FBQUE7WUFPUSx3QkFBbUIsMkJBQTBEO1FBUXJGLENBQUM7UUFBRCwyQkFBQztJQUFELENBQUM7SUFmWSxxQ0FBb0IsdUJBZWhDO0FBQ0YsQ0FBQyxFQXBCTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBb0J0QjtBQUVELGlCQUFTLGdCQUFnQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9TdXJ2ZXlEYXRhU291cmNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vLi4vc3JjL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiLi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi4vSVN1cnZleUV2ZW50XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgeyBCdXNpbmVzc0xldmVsIH0gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuLi9JU3VydmV5TWV0YWRhdGFcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5jb25zdCB7IGdldERpc3RhbnRGdXR1cmUsIGdldERpc3RhbnRQYXN0LCBpc05PVSwgaXNEYXRlIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIFN1cnZleURhdGFTb3VyY2UgaW1wbGVtZW50cyBJU3VydmV5SW5mbyB7XHJcblx0cHJpdmF0ZSBkYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSkge1xyXG5cdFx0aWYgKGlzTk9VKGRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmIChpc05PVShkYXRhLmlkKSB8fCBkYXRhLmlkID09PSBcIlwiKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuaWQgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmIChpc05PVShkYXRhLmdvdmVybmVkQ2hhbm5lbFR5cGUpKSB7XHJcblx0XHRcdGRhdGEuZ292ZXJuZWRDaGFubmVsVHlwZSA9IEdvdmVybmVkQ2hhbm5lbFR5cGUuZ2V0RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuZXhwaXJhdGlvblRpbWVVdGMpIHx8IGRhdGEuZXhwaXJhdGlvblRpbWVVdGMgPT09IFwiXCIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5leHBpcmF0aW9uVGltZVV0YyBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuYWN0aXZhdGlvbkV2ZW50KSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLmFjdGl2YXRpb25FdmVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuYmFja0VuZElkZW50aWZpZXIpIHx8IGRhdGEuYmFja0VuZElkZW50aWZpZXIgPT09IFwiXCIpIHtcclxuXHRcdFx0ZGF0YS5iYWNrRW5kSWRlbnRpZmllciA9IGRhdGEuaWQ7XHJcblx0XHR9XHJcblx0XHRpZiAoaXNOT1UoZGF0YS5sYXVuY2hlclR5cGUpKSB7XHJcblx0XHRcdGRhdGEubGF1bmNoZXJUeXBlID0gSVN1cnZleS5MQVVOQ0hFUl9UWVBFX0RFRkFVTFQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5pZDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRCYWNrRW5kSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYmFja0VuZElkZW50aWZpZXI7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuZ292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRSYXdTdGFydFRpbWVVdGMoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuc3RhcnRUaW1lVXRjO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN0YXJ0VGltZVV0YygpOiBEYXRlIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmRhdGEuc3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0RGlzdGFudFBhc3QoKTsgLy8gT3B0aW9uYWwgc3RhcnQgZGF0ZSBtZWFucyB0aGUgc3VydmV5IGhhcyBzdGFydGVkXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcGFyc2VkID0gbmV3IERhdGUodGhpcy5kYXRhLnN0YXJ0VGltZVV0Yyk7XHJcblx0XHRpZiAoIWlzRGF0ZShwYXJzZWQpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50RnV0dXJlKCk7IC8vIEJhZGx5IHNwZWNpZmllZCBzdGFydCBkYXRlcyBtZWFucyB0aGUgc3VydmV5IG5ldmVyIHN0YXJ0c1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYXJzZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTogRGF0ZSB7XHJcblx0XHQvLyBCYWQgb3IgbWlzc2luZyBleHBpcmF0aW9uIGRhdGUgbWVhbnMgc3VydmV5IGlzIGFsd2F5cyBleHBpcmVkLlxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmRhdGEuZXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHBhcnNlZCA9IG5ldyBEYXRlKHRoaXMuZGF0YS5leHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHRpZiAoIWlzRGF0ZShwYXJzZWQpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYXJzZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF3RXhwaXJhdGlvblRpbWVVdGMoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuZXhwaXJhdGlvblRpbWVVdGM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNBY3RpdmVGb3JEYXRlKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkYXRlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChkYXRlID49IHRoaXMuZ2V0U3RhcnRUaW1lVXRjKCkgJiYgZGF0ZSA8PSB0aGlzLmdldEV4cGlyYXRpb25UaW1lVXRjKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEFjdGl2YXRpb25FdmVudCgpOiBJU3VydmV5RXZlbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5hY3RpdmF0aW9uRXZlbnQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJlZmVycmVkTGF1bmNoVHlwZSgpOiBJU3VydmV5SW5mby5MYXVuY2hUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucHJlZmVycmVkTGF1bmNoVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0FkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKGFkZGl0aW9uYWxEYXRhVG9DaGVjazogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5kYXRhLmFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRmb3IgKGNvbnN0IGFkZGl0aW9uYWxEYXRhIG9mIHRoaXMuZGF0YS5hZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCkge1xyXG5cdFx0XHRpZiAoYWRkaXRpb25hbERhdGEgPT09IGFkZGl0aW9uYWxEYXRhVG9DaGVjaykge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0TGF1bmNoZXJUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmxhdW5jaGVyVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRNZXRhZGF0YSgpOiBJU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5tZXRhZGF0YTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRCdXNpbmVzc0xldmVsKCk6IEJ1c2luZXNzTGV2ZWwge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5idXNpbmVzc0xldmVsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldE1heExhdW5jaGVzKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1heExhdW5jaGVzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldE1heExhdW5jaGVzUGVyU2Vzc2lvbigpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5tYXhMYXVuY2hlc1BlclNlc3Npb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHR5cGVFbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUluZm8uRE9NX1RZUEVfVEFHTkFNRSk7XHJcblx0XHR0eXBlRWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoSVN1cnZleUluZm8uRE9NX1RZUEVfVkFMVUUpKTtcclxuXHJcblx0XHRjb25zdCBpZEVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5SW5mby5ET01fSURfVEFHTkFNRSk7XHJcblx0XHRpZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHRoaXMuZ2V0QmFja0VuZElkKCkpKTtcclxuXHJcblx0XHRyZXR1cm4gW3R5cGVFbGVtZW50LCBpZEVsZW1lbnRdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0Y29uc3Qgc3VydmV5T2JqZWN0OiBvYmplY3QgPSB7fTtcclxuXHRcdHN1cnZleU9iamVjdFtJU3VydmV5SW5mby5KU09OX0lEX0tFWU5BTUVdID0gdGhpcy5nZXRCYWNrRW5kSWQoKTtcclxuXHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlJbmZvLkpTT05fU1VSVkVZX0tFWU5BTUVdID0gc3VydmV5T2JqZWN0O1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgU3VydmV5RGF0YVNvdXJjZSB7XHJcblx0LyoqXHJcblx0ICogQmFzaWMgZGF0YSBuZWVkZWQgZm9yIGFsbCBTdXJ2ZXlzXHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIFN1cnZleURhdGFTb3VyY2VEYXRhIHtcclxuXHRcdHB1YmxpYyBpZDogc3RyaW5nO1xyXG5cdFx0cHVibGljIGJhY2tFbmRJZGVudGlmaWVyOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHRcdHB1YmxpYyBzdGFydFRpbWVVdGM6IHN0cmluZztcclxuXHRcdHB1YmxpYyBleHBpcmF0aW9uVGltZVV0Yzogc3RyaW5nO1xyXG5cdFx0cHVibGljIGFjdGl2YXRpb25FdmVudDogSVN1cnZleUV2ZW50O1xyXG5cdFx0cHVibGljIHByZWZlcnJlZExhdW5jaFR5cGU6IElTdXJ2ZXlJbmZvLkxhdW5jaFR5cGUgPSBJU3VydmV5SW5mby5MYXVuY2hUeXBlLkRlZmF1bHQ7XHJcblx0XHRwdWJsaWMgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQ6IElTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZVtdO1xyXG5cdFx0cHVibGljIGxhdW5jaGVyVHlwZTogc3RyaW5nO1xyXG5cdFx0cHVibGljIG1ldGFkYXRhOiBJU3VydmV5TWV0YWRhdGE7XHJcblxyXG5cdFx0cHVibGljIGJ1c2luZXNzTGV2ZWw6IEJ1c2luZXNzTGV2ZWw7XHJcblx0XHRwdWJsaWMgbWF4TGF1bmNoZXM6IG51bWJlcjtcclxuXHRcdHB1YmxpYyBtYXhMYXVuY2hlc1BlclNlc3Npb246IG51bWJlcjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFN1cnZleURhdGFTb3VyY2U7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/UserFact/UserFact.js":
/*!******************************************************!*\
  !*** ../FloodgateCore/dist/src/UserFact/UserFact.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserFact = void 0;\nvar Constants_1 = __webpack_require__(/*! ../Constants */ \"../FloodgateCore/dist/src/Constants.js\");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ \"../FloodgateCore/dist/src/FloodgateEngine.js\");\nvar Utils = __webpack_require__(/*! ../Utils */ \"../FloodgateCore/dist/src/Utils.js\");\nvar isNOU = Utils.isNOU, isNumber = Utils.isNumber, isArray = Utils.isArray;\nvar commonComparatorTypes = [\n    0 /* Equal */,\n    1 /* NotEqual */,\n    2 /* GreaterThan */,\n    3 /* GreaterThanOrEqual */,\n    4 /* LessThan */,\n    5 /* LessThanOrEqual */,\n];\nvar UserFact = /** @class */ (function () {\n    function UserFact(input) {\n        this.input = input;\n    }\n    UserFact.deserialize = function (rawUserFactSpec) {\n        return this.validate(rawUserFactSpec) ? new UserFact(rawUserFactSpec) : null;\n    };\n    UserFact.validate = function (input) {\n        if (!input) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Input is null or undefined for user fact\");\n            return false;\n        }\n        // Values is used for type UserFactType.ListOfStrings\n        if (!input.Value && input.Values) {\n            input.Value = input.Values;\n        }\n        if (isNOU(input.Name) || isNOU(input.Type) || isNOU(input.Value)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Either of the required parameters Name: \" + input.Name + \", Type: \" + input.Type + \" or Value: \" + input.Value + \" are not provided for the user fact\");\n            return false;\n        }\n        if (!this.validateUserFactType(input.Type)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Invalid UserFactType value \" + input.Type + \" is provided for user fact\");\n            return false;\n        }\n        if (input.Type === 6 /* ListFile */) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Unsupported UserFactType value \" + input.Type + \" is provided for user fact\");\n            return false;\n        }\n        if (input.LatencyType && !this.validateLatencyType(input.LatencyType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Invalid LatencyType value \" + input.LatencyType + \" is provided for user fact of type \" + input.Type);\n            return false;\n        }\n        if (input.LatencyType && input.LatencyType !== 0 /* None */ && isNOU(input.LatencyDurationInSeconds)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"LatencyDurationInSeconds value \" + input.LatencyDurationInSeconds + \" is not provided for user fact of type \" + input.Type);\n            return false;\n        }\n        if (input.LatencyDurationInSeconds && !isNumber(input.LatencyDurationInSeconds)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Invalid LatencyDurationInSeconds value \" + input.LatencyDurationInSeconds + \" is provided for user fact of type \" + input.Type);\n            return false;\n        }\n        if (input.Type === 1 /* TimeIntervalInSeconds */ && isNOU(input.IntervalType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, \"Required parameter intervalType is not provided for user fact of type \" + input.Type);\n            return false;\n        }\n        var supportedComparatorTypes = this.getComparatorTypes(input.Type);\n        if (input.Comparator && !isComparatorTypeSupported(input.Comparator, supportedComparatorTypes)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, \"Unsupported comparator type for user fact of type \" + input.Type);\n            return false;\n        }\n        return true;\n    };\n    UserFact.getComparatorTypes = function (userFactType) {\n        switch (userFactType) {\n            case 0 /* Boolean */:\n                return [0 /* Equal */, 1 /* NotEqual */];\n            case 4 /* String */:\n                return [0 /* Equal */,\n                    1 /* NotEqual */,\n                    6 /* In */,\n                    7 /* NotIn */,\n                    8 /* InverseIn */,\n                    9 /* InverseNotIn */];\n            case 5 /* ListOfStrings */:\n                return [6 /* In */, 7 /* NotIn */, 8 /* InverseIn */, 9 /* InverseNotIn */];\n            case 1 /* TimeIntervalInSeconds */:\n            case 2 /* DateTimeUTC */:\n            case 3 /* Number */:\n            case 6 /* ListFile */:\n                return commonComparatorTypes;\n            default:\n                assertNever(userFactType);\n        }\n        return commonComparatorTypes;\n    };\n    UserFact.validateLatencyType = function (latency) {\n        return (latency === 0 /* None */ ||\n            latency === 3 /* ClientIngestionDateTime */ ||\n            latency === 1 /* SourceDateTime */ ||\n            latency === 2 /* StorageDateTime */) ? true : assertNever(latency);\n    };\n    UserFact.validateUserFactType = function (factType) {\n        return (factType === 0 /* Boolean */ ||\n            factType === 2 /* DateTimeUTC */ ||\n            factType === 3 /* Number */ ||\n            factType === 4 /* String */ ||\n            factType === 1 /* TimeIntervalInSeconds */ ||\n            factType === 5 /* ListOfStrings */ ||\n            factType === 6 /* ListFile */) ? true : assertNever(factType);\n    };\n    UserFact.prototype.isAMatch = function (rawUserFact) {\n        if (!rawUserFact || !rawUserFact.userFactValue) {\n            return false;\n        }\n        if (!this.isLatencyAcceptable(rawUserFact)) {\n            return false;\n        }\n        try {\n            var factType = this.getType();\n            if (factType === 0 /* Boolean */) {\n                return compareBooleanValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 2 /* DateTimeUTC */) {\n                return compareDateTimeUTCValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 3 /* Number */) {\n                return compareNumberValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 4 /* String */) {\n                return compareStringValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 1 /* TimeIntervalInSeconds */) {\n                return compareTimeIntervalValues(this.getValue(), rawUserFact, this.getComparator(), this.getIntervalType());\n            }\n            else if (factType === 5 /* ListOfStrings */) {\n                return compareListValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, \"Unsupported type of user fact was provided \" + factType);\n                return false;\n            }\n        }\n        catch (error) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, error);\n            return false;\n        }\n    };\n    UserFact.prototype.getType = function () {\n        return this.input.Type;\n    };\n    UserFact.prototype.getName = function () {\n        return this.input.Name;\n    };\n    UserFact.prototype.getValue = function () {\n        return this.input.Value;\n    };\n    UserFact.prototype.getComparator = function () {\n        return this.input.Comparator || 0 /* Equal */;\n    };\n    UserFact.prototype.getLatencyType = function () {\n        return this.input.LatencyType || 0 /* None */;\n    };\n    UserFact.prototype.getLatencyDurationInSeconds = function () {\n        return this.input.LatencyDurationInSeconds;\n    };\n    UserFact.prototype.getIntervalType = function () {\n        return this.input.IntervalType;\n    };\n    UserFact.prototype.isLatencyAcceptable = function (rawUserFact) {\n        var factType = this.getType();\n        if (!isNOU(this.getLatencyDurationInSeconds()) &&\n            !evaluateFactCandidacy(this.getLatencyType(), this.getLatencyDurationInSeconds(), rawUserFact)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch, {\n                ErrorMessage: \"Latency duration not acceptable - { Name: \\\"\" + rawUserFact.userFactName + \"\\\" }\",\n                TimeMilliseconds: this.getLatencyDurationInSeconds(),\n                Type: \"\" + factType,\n            });\n            return false;\n        }\n        return true;\n    };\n    return UserFact;\n}());\nexports.UserFact = UserFact;\nfunction evaluateFactCandidacy(latencyType, latencyDurationInSeconds, userFact) {\n    var userFactTime;\n    switch (latencyType) {\n        case 0 /* None */:\n            break;\n        case 1 /* SourceDateTime */:\n            userFactTime = userFact.sourceDateTime;\n            break;\n        case 2 /* StorageDateTime */:\n            userFactTime = userFact.storageDateTime;\n            break;\n        case 3 /* ClientIngestionDateTime */:\n            userFactTime = userFact.clientIngestionDateTime;\n            break;\n        default:\n            assertNever(latencyType);\n    }\n    if (!isNOU(userFactTime)) {\n        var userFactTimeInMilliseconds = Date.parse(userFactTime);\n        var currentTimeInMilliseconds = Date.now();\n        return currentTimeInMilliseconds - userFactTimeInMilliseconds <= (latencyDurationInSeconds * 1000);\n    }\n    return true;\n}\nfunction compareBooleanValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInBoolean = JSON.parse(rawUserFact.userFactValue.toLowerCase());\n    return compareValues(!!userFactSpecValue, !!rawUserFactValueInBoolean, comparator);\n}\nfunction compareDateTimeUTCValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInMilliseconds = Date.parse(rawUserFact.userFactValue);\n    if (!isAValidNumber(rawUserFactValueInMilliseconds, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    var userFactSpecValueInMilliseconds = Date.parse(userFactSpecValue);\n    if (!isAValidNumber(userFactSpecValueInMilliseconds, userFactSpecValue, null, 2 /* DateTimeUTC */)) {\n        return false;\n    }\n    return compareValues(userFactSpecValueInMilliseconds, rawUserFactValueInMilliseconds, comparator);\n}\nfunction compareNumberValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInNumber = parseInt(rawUserFact.userFactValue, 10);\n    if (!isAValidNumber(rawUserFactValueInNumber, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    return compareValues(userFactSpecValue, rawUserFactValueInNumber, comparator);\n}\nfunction compareStringValues(userFactSpecValue, rawUserFact, comparator) {\n    return compareValues(userFactSpecValue.toLowerCase(), rawUserFact.userFactValue.toLowerCase(), comparator);\n}\nfunction compareTimeIntervalValues(userFactSpecValue, rawUserFact, comparator, intervalType) {\n    var rawUserFactValueInMilliseconds = Date.parse(rawUserFact.userFactValue);\n    if (!isAValidNumber(rawUserFactValueInMilliseconds, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    // Diff from now and users input date\n    // IntervalTo - Internval to current date from fact date (fact date is expected to be before current date)\n    // IntervalFrom - Interval from current date to fact date (fact date is expected to be after current date)\n    var currentTimeInMilliseconds = Date.now();\n    var currentDateDiff = intervalType === 0 /* IntervalTo */ ?\n        (currentTimeInMilliseconds - rawUserFactValueInMilliseconds) : (rawUserFactValueInMilliseconds - currentTimeInMilliseconds);\n    if (currentDateDiff < 0) {\n        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch, {\n            ErrorMessage: \"Interval type not acceptable - { Spec: \" + userFactSpecValue + \", Name: \\\"\" + rawUserFact.userFactName + \"\\\" }\",\n            TimeMilliseconds: currentDateDiff,\n            Type: \"\" + intervalType,\n        });\n        return false;\n    }\n    var dayInMilliseconds = 86400000;\n    var userFactSpecValueInMilliseconds = userFactSpecValue * dayInMilliseconds;\n    // check if the above diff satisfies the comparison criteria\n    return compareValues(userFactSpecValueInMilliseconds, currentDateDiff, comparator);\n}\nfunction compareListValues(userFactSpecValue, rawUserFact, comparator) {\n    return compareValues(userFactSpecValue, rawUserFact.userFactValue, comparator);\n}\nfunction isComparatorTypeSupported(comparator, supportedComparatorTypes) {\n    return supportedComparatorTypes.indexOf(comparator) !== -1;\n}\nfunction compareValues(userFactSpecValue, userFactRawValue, comparator) {\n    switch (comparator) {\n        case 0 /* Equal */:\n            return userFactRawValue === userFactSpecValue;\n        case 1 /* NotEqual */:\n            return userFactRawValue !== userFactSpecValue;\n        case 2 /* GreaterThan */:\n            return userFactRawValue > userFactSpecValue;\n        case 3 /* GreaterThanOrEqual */:\n            return userFactRawValue >= userFactSpecValue;\n        case 4 /* LessThan */:\n            return userFactRawValue < userFactSpecValue;\n        case 5 /* LessThanOrEqual */:\n            return userFactRawValue <= userFactSpecValue;\n        case 6 /* In */:\n            return isFactValueInTargetItem(userFactSpecValue, userFactRawValue);\n        case 7 /* NotIn */:\n            return !isFactValueInTargetItem(userFactSpecValue, userFactRawValue);\n        case 8 /* InverseIn */:\n            return isFactValueInTargetItem(userFactRawValue, userFactSpecValue);\n        case 9 /* InverseNotIn */:\n            return !isFactValueInTargetItem(userFactRawValue, userFactSpecValue);\n        default:\n            assertNever(comparator);\n    }\n}\nfunction assertNever(_) {\n    return false;\n}\nfunction isFactValueInTargetItem(userFactTargetValues, userFactRawValue) {\n    if (typeof userFactRawValue === \"string\") {\n        var factValue_1 = userFactRawValue.toLowerCase();\n        if (typeof userFactTargetValues === \"string\") {\n            // both the inputs are strings, do a plain indexOf\n            return userFactTargetValues.toLowerCase().indexOf(factValue_1) !== -1;\n        }\n        if (isArray(userFactTargetValues)) {\n            var specValues = userFactTargetValues;\n            return specValues.some(function (specValue) { return specValue && specValue.toString().toLowerCase() === factValue_1; });\n        }\n    }\n    if (isArray(userFactTargetValues)) {\n        return userFactTargetValues.indexOf(userFactRawValue) !== -1;\n    }\n    return false;\n}\nfunction isAValidNumber(numberValue, value, rawUserFactName, factType) {\n    if (!isNumber(numberValue)) {\n        var errorMessage = \"User fact \" + rawUserFactName + \" has invalid value \" + value;\n        if (factType) {\n            errorMessage = \"Invalid value \" + value + \" was provided for user fact of type \" + factType;\n        }\n        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, errorMessage);\n        return false;\n    }\n    return true;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1VzZXJGYWN0L1VzZXJGYWN0LnRzP2E4NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0dBQThDO0FBQzlDLHNIQUFxRDtBQUNyRCxzRkFBa0M7QUFJMUIsU0FBSyxHQUF3QixLQUFLLE1BQTdCLEVBQUUsUUFBUSxHQUFjLEtBQUssU0FBbkIsRUFBRSxPQUFPLEdBQUssS0FBSyxRQUFWLENBQVc7QUFDM0MsSUFBTSxxQkFBcUIsR0FBcUI7Ozs7Ozs7Q0FPL0MsQ0FBQztBQUVGO0lBOEhDLGtCQUFZLEtBQXFCO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUEvSGEsb0JBQVcsR0FBekIsVUFBMEIsZUFBb0I7UUFDN0MsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzlFLENBQUM7SUFFYyxpQkFBUSxHQUF2QixVQUF3QixLQUFVO1FBQ2pDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxNQUFNLEVBQzVELDBDQUEwQyxDQUFDLENBQUM7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELHFEQUFxRDtRQUNyRCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ2pDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztTQUMzQjtRQUVELElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDakUs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T0FBTyxLQUFLLENBQUM7QUFDZCxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsV0FBbUIsRUFBRSxLQUFhLEVBQUUsZUFBdUIsRUFBRSxRQUF1QjtJQUMzRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1FBQzNCLElBQUksWUFBWSxHQUFHLGVBQWEsZUFBZSwyQkFBc0IsS0FBTyxDQUFDO1FBQzdFLElBQUksUUFBUSxFQUFFO1lBQ2IsWUFBWSxHQUFHLG1CQUFpQixLQUFLLDRDQUF1QyxRQUFVLENBQUM7U0FDdkY7UUFFRCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQ3JELFlBQVksQ0FBQyxDQUFDO1FBRWYsT0FBTyxLQUFLLENBQUM7S0FDYjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1VzZXJGYWN0L1VzZXJGYWN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuLi9GbG9vZGdhdGVFbmdpbmVcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IElVc2VyRmFjdCB9IGZyb20gXCIuL0lVc2VyRmFjdFwiO1xyXG5pbXBvcnQgeyBDb21wYXJhdG9yVHlwZSwgQ3VycmVudFRpbWVJbnRlcnZhbFR5cGUsIElVc2VyRmFjdElucHV0LCBVc2VyRmFjdExhdGVuY3lUeXBlLCBVc2VyRmFjdFR5cGUgfSBmcm9tIFwiLi9Vc2VyRmFjdE1vZGVsXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VLCBpc051bWJlciwgaXNBcnJheSB9ID0gVXRpbHM7XHJcbmNvbnN0IGNvbW1vbkNvbXBhcmF0b3JUeXBlczogQ29tcGFyYXRvclR5cGVbXSA9IFtcclxuXHRDb21wYXJhdG9yVHlwZS5FcXVhbCxcclxuXHRDb21wYXJhdG9yVHlwZS5Ob3RFcXVhbCxcclxuXHRDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbixcclxuXHRDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbk9yRXF1YWwsXHJcblx0Q29tcGFyYXRvclR5cGUuTGVzc1RoYW4sXHJcblx0Q29tcGFyYXRvclR5cGUuTGVzc1RoYW5PckVxdWFsLFxyXG5dO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJGYWN0IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKHJhd1VzZXJGYWN0U3BlYzogYW55KTogVXNlckZhY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGUocmF3VXNlckZhY3RTcGVjKSA/IG5ldyBVc2VyRmFjdChyYXdVc2VyRmFjdFNwZWMpIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHZhbGlkYXRlKGlucHV0OiBhbnkpIHtcclxuXHRcdGlmICghaW5wdXQpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0XCJJbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZCBmb3IgdXNlciBmYWN0XCIpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVmFsdWVzIGlzIHVzZWQgZm9yIHR5cGUgVXNlckZhY3RUeXBlLkxpc3RPZlN0cmluZ3NcclxuXHRcdGlmICghaW5wdXQuVmFsdWUgJiYgaW5wdXQuVmFsdWVzKSB7XHJcblx0XHRcdGlucHV0LlZhbHVlID0gaW5wdXQuVmFsdWVzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dC5OYW1lKSB8fCBpc05PVShpbnB1dC5UeXBlKSB8fCBpc05PVShpbnB1dC5WYWx1ZSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0YEVpdGhlciBvZiB0aGUgcmVxdWlyZWQgcGFyYW1ldGVycyBOYW1lOiAke2lucHV0Lk5hbWV9LCBUeXBlOiAke2lucHV0LlR5cGV9IG9yIFZhbHVlOiAke2lucHV0LlZhbHVlfSBhcmUgbm90IHByb3ZpZGVkIGZvciB0aGUgdXNlciBmYWN0YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMudmFsaWRhdGVVc2VyRmFjdFR5cGUoaW5wdXQuVHlwZSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0YEludmFsaWQgVXNlckZhY3RUeXBlIHZhbHVlICR7aW5wdXQuVHlwZX0gaXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdGApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LlR5cGUgPT09IFVzZXJGYWN0VHlwZS5MaXN0RmlsZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRgVW5zdXBwb3J0ZWQgVXNlckZhY3RUeXBlIHZhbHVlICR7aW5wdXQuVHlwZX0gaXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdGApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkxhdGVuY3lUeXBlICYmICF0aGlzLnZhbGlkYXRlTGF0ZW5jeVR5cGUoaW5wdXQuTGF0ZW5jeVR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBJbnZhbGlkIExhdGVuY3lUeXBlIHZhbHVlICR7aW5wdXQuTGF0ZW5jeVR5cGV9IGlzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2lucHV0LlR5cGV9YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuTGF0ZW5jeVR5cGUgJiYgaW5wdXQuTGF0ZW5jeVR5cGUgIT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuTm9uZSAmJiBpc05PVShpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHMpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBMYXRlbmN5RHVyYXRpb25JblNlY29uZHMgdmFsdWUgJHtpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHN9IGlzIG5vdCBwcm92aWRlZCBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcyAmJiAhaXNOdW1iZXIoaW5wdXQuTGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRgSW52YWxpZCBMYXRlbmN5RHVyYXRpb25JblNlY29uZHMgdmFsdWUgJHtpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHN9IGlzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2lucHV0LlR5cGV9YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuVHlwZSA9PT0gVXNlckZhY3RUeXBlLlRpbWVJbnRlcnZhbEluU2Vjb25kcyAmJiBpc05PVShpbnB1dC5JbnRlcnZhbFR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBSZXF1aXJlZCBwYXJhbWV0ZXIgaW50ZXJ2YWxUeXBlIGlzIG5vdCBwcm92aWRlZCBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VwcG9ydGVkQ29tcGFyYXRvclR5cGVzID0gdGhpcy5nZXRDb21wYXJhdG9yVHlwZXMoaW5wdXQuVHlwZSk7XHJcblx0XHRpZiAoaW5wdXQuQ29tcGFyYXRvciAmJiAhaXNDb21wYXJhdG9yVHlwZVN1cHBvcnRlZChpbnB1dC5Db21wYXJhdG9yLCBzdXBwb3J0ZWRDb21wYXJhdG9yVHlwZXMpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNJc0FNYXRjaC5GYWlsZWQsXHJcblx0XHRcdFx0YFVuc3VwcG9ydGVkIGNvbXBhcmF0b3IgdHlwZSBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRDb21wYXJhdG9yVHlwZXModXNlckZhY3RUeXBlOiBVc2VyRmFjdFR5cGUpOiBDb21wYXJhdG9yVHlwZVtdICB7XHJcblx0XHRzd2l0Y2ggKHVzZXJGYWN0VHlwZSkge1xyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5Cb29sZWFuOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuRXF1YWwsIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsXTtcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuU3RyaW5nOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuRXF1YWwsXHJcblx0XHRcdFx0XHRcdENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsLFxyXG5cdFx0XHRcdFx0XHRDb21wYXJhdG9yVHlwZS5JbixcclxuXHRcdFx0XHRcdFx0Q29tcGFyYXRvclR5cGUuTm90SW4sXHJcblx0XHRcdFx0XHRcdENvbXBhcmF0b3JUeXBlLkludmVyc2VJbixcclxuXHRcdFx0XHRcdFx0Q29tcGFyYXRvclR5cGUuSW52ZXJzZU5vdEluXTtcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuTGlzdE9mU3RyaW5nczpcclxuXHRcdFx0XHRyZXR1cm4gW0NvbXBhcmF0b3JUeXBlLkluLCBDb21wYXJhdG9yVHlwZS5Ob3RJbiwgQ29tcGFyYXRvclR5cGUuSW52ZXJzZUluLCBDb21wYXJhdG9yVHlwZS5JbnZlcnNlTm90SW5dO1xyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5UaW1lSW50ZXJ2YWxJblNlY29uZHM6XHJcblx0XHRcdGNhc2UgVXNlckZhY3RUeXBlLkRhdGVUaW1lVVRDOlxyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5OdW1iZXI6XHJcblx0XHRcdGNhc2UgVXNlckZhY3RUeXBlLkxpc3RGaWxlOlxyXG5cdFx0XHRcdHJldHVybiBjb21tb25Db21wYXJhdG9yVHlwZXM7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0YXNzZXJ0TmV2ZXIodXNlckZhY3RUeXBlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY29tbW9uQ29tcGFyYXRvclR5cGVzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGVMYXRlbmN5VHlwZShsYXRlbmN5OiBVc2VyRmFjdExhdGVuY3lUeXBlKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHRsYXRlbmN5ID09PSBVc2VyRmFjdExhdGVuY3lUeXBlLk5vbmUgfHxcclxuXHRcdFx0bGF0ZW5jeSA9PT0gVXNlckZhY3RMYXRlbmN5VHlwZS5DbGllbnRJbmdlc3Rpb25EYXRlVGltZSB8fFxyXG5cdFx0XHRsYXRlbmN5ID09PSBVc2VyRmFjdExhdGVuY3lUeXBlLlNvdXJjZURhdGVUaW1lIHx8XHJcblx0XHRcdGxhdGVuY3kgPT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuU3RvcmFnZURhdGVUaW1lXHJcblx0XHQpID8gdHJ1ZSA6IGFzc2VydE5ldmVyKGxhdGVuY3kpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGVVc2VyRmFjdFR5cGUoZmFjdFR5cGU6IFVzZXJGYWN0VHlwZSkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5Cb29sZWFuIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuRGF0ZVRpbWVVVEMgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5OdW1iZXIgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5TdHJpbmcgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5UaW1lSW50ZXJ2YWxJblNlY29uZHMgfHxcclxuXHRcdFx0ZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5MaXN0T2ZTdHJpbmdzIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuTGlzdEZpbGVcclxuXHRcdCkgPyB0cnVlIDogYXNzZXJ0TmV2ZXIoZmFjdFR5cGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbnB1dDogSVVzZXJGYWN0SW5wdXQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlucHV0OiBJVXNlckZhY3RJbnB1dCkge1xyXG5cdFx0dGhpcy5pbnB1dCA9IGlucHV0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzQU1hdGNoKHJhd1VzZXJGYWN0OiBJVXNlckZhY3QpOiBib29sZWFuIHtcclxuXHRcdGlmICghcmF3VXNlckZhY3QgfHwgIXJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5pc0xhdGVuY3lBY2NlcHRhYmxlKHJhd1VzZXJGYWN0KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZmFjdFR5cGUgPSB0aGlzLmdldFR5cGUoKTtcclxuXHRcdFx0aWYgKGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuQm9vbGVhbikge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlQm9vbGVhblZhbHVlcyh0aGlzLmdldFZhbHVlKCksIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5EYXRlVGltZVVUQykge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlRGF0ZVRpbWVVVENWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIHN0cmluZywgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLk51bWJlcikge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlTnVtYmVyVmFsdWVzKHRoaXMuZ2V0VmFsdWUoKSBhcyBudW1iZXIsIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5TdHJpbmcpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29tcGFyZVN0cmluZ1ZhbHVlcyh0aGlzLmdldFZhbHVlKCkgYXMgc3RyaW5nLCByYXdVc2VyRmFjdCwgdGhpcy5nZXRDb21wYXJhdG9yKCkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuVGltZUludGVydmFsSW5TZWNvbmRzKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNvbXBhcmVUaW1lSW50ZXJ2YWxWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIG51bWJlciwgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpLCB0aGlzLmdldEludGVydmFsVHlwZSgpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLkxpc3RPZlN0cmluZ3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29tcGFyZUxpc3RWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIHVua25vd24gYXMgc3RyaW5nW10sIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjSXNBTWF0Y2guRmFpbGVkLFxyXG5cdFx0XHRcdFx0YFVuc3VwcG9ydGVkIHR5cGUgb2YgdXNlciBmYWN0IHdhcyBwcm92aWRlZCAke2ZhY3RUeXBlfWApO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLkZhaWxlZCxcclxuXHRcdFx0XHRlcnJvcik7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuVHlwZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXROYW1lKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuTmFtZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWYWx1ZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0LlZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbXBhcmF0b3IoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5Db21wYXJhdG9yIHx8IENvbXBhcmF0b3JUeXBlLkVxdWFsO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdGVuY3lUeXBlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuTGF0ZW5jeVR5cGUgfHwgVXNlckZhY3RMYXRlbmN5VHlwZS5Ob25lO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdGVuY3lEdXJhdGlvbkluU2Vjb25kcygpIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0LkxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcnZhbFR5cGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5JbnRlcnZhbFR5cGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzTGF0ZW5jeUFjY2VwdGFibGUocmF3VXNlckZhY3Q6IElVc2VyRmFjdCkge1xyXG5cdFx0Y29uc3QgZmFjdFR5cGUgPSB0aGlzLmdldFR5cGUoKTtcclxuXHJcblx0XHRpZiAoIWlzTk9VKHRoaXMuZ2V0TGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKCkpICYmXHJcblx0XHRcdCFldmFsdWF0ZUZhY3RDYW5kaWRhY3kodGhpcy5nZXRMYXRlbmN5VHlwZSgpLCB0aGlzLmdldExhdGVuY3lEdXJhdGlvbkluU2Vjb25kcygpLCByYXdVc2VyRmFjdCkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLk1pc21hdGNoLCB7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IGBMYXRlbmN5IGR1cmF0aW9uIG5vdCBhY2NlcHRhYmxlIC0geyBOYW1lOiBcIiR7cmF3VXNlckZhY3QudXNlckZhY3ROYW1lfVwiIH1gLFxyXG5cdFx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogdGhpcy5nZXRMYXRlbmN5RHVyYXRpb25JblNlY29uZHMoKSxcclxuXHRcdFx0XHRcdFR5cGU6IGAke2ZhY3RUeXBlfWAsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZXZhbHVhdGVGYWN0Q2FuZGlkYWN5KGxhdGVuY3lUeXBlOiBVc2VyRmFjdExhdGVuY3lUeXBlLCBsYXRlbmN5RHVyYXRpb25JblNlY29uZHM6IG51bWJlciwgdXNlckZhY3Q6IElVc2VyRmFjdCkge1xyXG5cdGxldCB1c2VyRmFjdFRpbWU6IHN0cmluZztcclxuXHRzd2l0Y2ggKGxhdGVuY3lUeXBlKSB7XHJcblx0XHRjYXNlIFVzZXJGYWN0TGF0ZW5jeVR5cGUuTm9uZTpcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFVzZXJGYWN0TGF0ZW5jeVR5cGUuU291cmNlRGF0ZVRpbWU6XHJcblx0XHRcdHVzZXJGYWN0VGltZSA9IHVzZXJGYWN0LnNvdXJjZURhdGVUaW1lO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgVXNlckZhY3RMYXRlbmN5VHlwZS5TdG9yYWdlRGF0ZVRpbWU6XHJcblx0XHRcdHVzZXJGYWN0VGltZSA9IHVzZXJGYWN0LnN0b3JhZ2VEYXRlVGltZTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFVzZXJGYWN0TGF0ZW5jeVR5cGUuQ2xpZW50SW5nZXN0aW9uRGF0ZVRpbWU6XHJcblx0XHRcdHVzZXJGYWN0VGltZSA9IHVzZXJGYWN0LmNsaWVudEluZ2VzdGlvbkRhdGVUaW1lO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGFzc2VydE5ldmVyKGxhdGVuY3lUeXBlKTtcclxuXHRcdH1cclxuXHJcblx0aWYgKCFpc05PVSh1c2VyRmFjdFRpbWUpKSB7XHJcblx0XHRjb25zdCB1c2VyRmFjdFRpbWVJbk1pbGxpc2Vjb25kcyA9IERhdGUucGFyc2UodXNlckZhY3RUaW1lKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMgPSBEYXRlLm5vdygpO1xyXG5cclxuXHRcdHJldHVybiBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzIC0gdXNlckZhY3RUaW1lSW5NaWxsaXNlY29uZHMgPD0gKGxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcyAqIDEwMDApO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVCb29sZWFuVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlOiBhbnksIHJhd1VzZXJGYWN0OiBJVXNlckZhY3QsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKSB7XHJcblx0Y29uc3QgcmF3VXNlckZhY3RWYWx1ZUluQm9vbGVhbiA9IEpTT04ucGFyc2UocmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyghIXVzZXJGYWN0U3BlY1ZhbHVlLCAhIXJhd1VzZXJGYWN0VmFsdWVJbkJvb2xlYW4sIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlRGF0ZVRpbWVVVENWYWx1ZXModXNlckZhY3RTcGVjVmFsdWU6IHN0cmluZywgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUpIHtcclxuXHRjb25zdCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGNvbnN0IHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHVzZXJGYWN0U3BlY1ZhbHVlKTtcclxuXHRpZiAoIWlzQVZhbGlkTnVtYmVyKHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMsIHVzZXJGYWN0U3BlY1ZhbHVlLCBudWxsLCBVc2VyRmFjdFR5cGUuRGF0ZVRpbWVVVEMpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMsIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTnVtYmVyVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlOiBudW1iZXIsIHJhd1VzZXJGYWN0OiBJVXNlckZhY3QsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKSB7XHJcblx0Y29uc3QgcmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyID0gcGFyc2VJbnQocmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZSwgMTApO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZSwgcmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyLCBjb21wYXJhdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVN0cmluZ1ZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZTogc3RyaW5nLCByYXdVc2VyRmFjdDogSVVzZXJGYWN0LCBjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSkge1xyXG5cdHJldHVybiBjb21wYXJlVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlLnRvTG93ZXJDYXNlKCksIHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUudG9Mb3dlckNhc2UoKSwgY29tcGFyYXRvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVUaW1lSW50ZXJ2YWxWYWx1ZXMoXHJcblx0dXNlckZhY3RTcGVjVmFsdWU6IG51bWJlciwgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUsIGludGVydmFsVHlwZTogQ3VycmVudFRpbWVJbnRlcnZhbFR5cGUpIHtcclxuXHRjb25zdCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvLyBEaWZmIGZyb20gbm93IGFuZCB1c2VycyBpbnB1dCBkYXRlXHJcblx0Ly8gSW50ZXJ2YWxUbyAtIEludGVybnZhbCB0byBjdXJyZW50IGRhdGUgZnJvbSBmYWN0IGRhdGUgKGZhY3QgZGF0ZSBpcyBleHBlY3RlZCB0byBiZSBiZWZvcmUgY3VycmVudCBkYXRlKVxyXG5cdC8vIEludGVydmFsRnJvbSAtIEludGVydmFsIGZyb20gY3VycmVudCBkYXRlIHRvIGZhY3QgZGF0ZSAoZmFjdCBkYXRlIGlzIGV4cGVjdGVkIHRvIGJlIGFmdGVyIGN1cnJlbnQgZGF0ZSlcclxuXHRjb25zdCBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzID0gRGF0ZS5ub3coKTtcclxuXHRjb25zdCBjdXJyZW50RGF0ZURpZmYgPSBpbnRlcnZhbFR5cGUgPT09IEN1cnJlbnRUaW1lSW50ZXJ2YWxUeXBlLkludGVydmFsVG8gP1xyXG5cdFx0KGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMgLSByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMpIDogKHJhd1VzZXJGYWN0VmFsdWVJbk1pbGxpc2Vjb25kcyAtIGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMpO1xyXG5cdGlmIChjdXJyZW50RGF0ZURpZmYgPCAwKSB7XHJcblx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLk1pc21hdGNoLCB7XHJcblx0XHRcdFx0RXJyb3JNZXNzYWdlOiBgSW50ZXJ2YWwgdHlwZSBub3QgYWNjZXB0YWJsZSAtIHsgU3BlYzogJHt1c2VyRmFjdFNwZWNWYWx1ZX0sIE5hbWU6IFwiJHtyYXdVc2VyRmFjdC51c2VyRmFjdE5hbWV9XCIgfWAsXHJcblx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogY3VycmVudERhdGVEaWZmLFxyXG5cdFx0XHRcdFR5cGU6IGAke2ludGVydmFsVHlwZX1gLFxyXG5cdFx0XHR9LFxyXG5cdFx0KTtcclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRjb25zdCBkYXlJbk1pbGxpc2Vjb25kcyA9IDg2NDAwMDAwO1xyXG5cdGNvbnN0IHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMgPSB1c2VyRmFjdFNwZWNWYWx1ZSAqIGRheUluTWlsbGlzZWNvbmRzO1xyXG5cclxuXHQvLyBjaGVjayBpZiB0aGUgYWJvdmUgZGlmZiBzYXRpc2ZpZXMgdGhlIGNvbXBhcmlzb24gY3JpdGVyaWFcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZUluTWlsbGlzZWNvbmRzLCBjdXJyZW50RGF0ZURpZmYsIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTGlzdFZhbHVlczxUIGV4dGVuZHMgc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcj4odXNlckZhY3RTcGVjVmFsdWU6IFRbXSwgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUpIHtcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZSwgcmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZSBhcyBULCBjb21wYXJhdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb21wYXJhdG9yVHlwZVN1cHBvcnRlZChjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSwgc3VwcG9ydGVkQ29tcGFyYXRvclR5cGVzOiBDb21wYXJhdG9yVHlwZVtdKSB7XHJcblx0cmV0dXJuIHN1cHBvcnRlZENvbXBhcmF0b3JUeXBlcy5pbmRleE9mKGNvbXBhcmF0b3IpICE9PSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVZhbHVlczxUIGV4dGVuZHMgc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcj4oXHJcblx0dXNlckZhY3RTcGVjVmFsdWU6IFQgfCBUW10sIHVzZXJGYWN0UmF3VmFsdWU6IFQsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKTogYm9vbGVhbiB7XHJcblx0c3dpdGNoIChjb21wYXJhdG9yKSB7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA9PT0gdXNlckZhY3RTcGVjVmFsdWU7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSAhPT0gdXNlckZhY3RTcGVjVmFsdWU7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkdyZWF0ZXJUaGFuOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA+IHVzZXJGYWN0U3BlY1ZhbHVlO1xyXG5cdFx0Y2FzZSBDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbk9yRXF1YWw6XHJcblx0XHRcdHJldHVybiB1c2VyRmFjdFJhd1ZhbHVlID49IHVzZXJGYWN0U3BlY1ZhbHVlO1xyXG5cdFx0Y2FzZSBDb21wYXJhdG9yVHlwZS5MZXNzVGhhbjpcclxuXHRcdFx0cmV0dXJuIHVzZXJGYWN0UmF3VmFsdWUgPCB1c2VyRmFjdFNwZWNWYWx1ZTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuTGVzc1RoYW5PckVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA8PSB1c2VyRmFjdFNwZWNWYWx1ZTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuSW46XHJcblx0XHRcdHJldHVybiBpc0ZhY3RWYWx1ZUluVGFyZ2V0SXRlbSh1c2VyRmFjdFNwZWNWYWx1ZSwgdXNlckZhY3RSYXdWYWx1ZSk7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLk5vdEluOlxyXG5cdFx0XHRyZXR1cm4gIWlzRmFjdFZhbHVlSW5UYXJnZXRJdGVtKHVzZXJGYWN0U3BlY1ZhbHVlLCB1c2VyRmFjdFJhd1ZhbHVlKTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuSW52ZXJzZUluOlxyXG5cdFx0XHRyZXR1cm4gaXNGYWN0VmFsdWVJblRhcmdldEl0ZW0odXNlckZhY3RSYXdWYWx1ZSwgdXNlckZhY3RTcGVjVmFsdWUgYXMgVCk7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkludmVyc2VOb3RJbjpcclxuXHRcdFx0cmV0dXJuICFpc0ZhY3RWYWx1ZUluVGFyZ2V0SXRlbSh1c2VyRmFjdFJhd1ZhbHVlLCB1c2VyRmFjdFNwZWNWYWx1ZSBhcyBUKTtcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGFzc2VydE5ldmVyKGNvbXBhcmF0b3IpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoXzogbmV2ZXIpIHtcclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRmFjdFZhbHVlSW5UYXJnZXRJdGVtPFQ+KHVzZXJGYWN0VGFyZ2V0VmFsdWVzOiBUIHwgVFtdLCB1c2VyRmFjdFJhd1ZhbHVlOiBUKTogYm9vbGVhbiB7XHJcblx0aWYgKHR5cGVvZiB1c2VyRmFjdFJhd1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRjb25zdCBmYWN0VmFsdWUgPSB1c2VyRmFjdFJhd1ZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRpZiAodHlwZW9mIHVzZXJGYWN0VGFyZ2V0VmFsdWVzID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdC8vIGJvdGggdGhlIGlucHV0cyBhcmUgc3RyaW5ncywgZG8gYSBwbGFpbiBpbmRleE9mXHJcblx0XHRcdHJldHVybiAodXNlckZhY3RUYXJnZXRWYWx1ZXMgYXMgc3RyaW5nKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmFjdFZhbHVlKSAhPT0gLTE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzQXJyYXkodXNlckZhY3RUYXJnZXRWYWx1ZXMpKSB7XHJcblx0XHRcdGNvbnN0IHNwZWNWYWx1ZXMgPSB1c2VyRmFjdFRhcmdldFZhbHVlcyBhcyBUW107XHJcblx0XHRcdHJldHVybiBzcGVjVmFsdWVzLnNvbWUoKHNwZWNWYWx1ZSkgPT4gc3BlY1ZhbHVlICYmIHNwZWNWYWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT09IGZhY3RWYWx1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoaXNBcnJheSh1c2VyRmFjdFRhcmdldFZhbHVlcykpIHtcclxuXHRcdHJldHVybiAodXNlckZhY3RUYXJnZXRWYWx1ZXMgYXMgVFtdKS5pbmRleE9mKHVzZXJGYWN0UmF3VmFsdWUpICE9PSAtMTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNBVmFsaWROdW1iZXIobnVtYmVyVmFsdWU6IG51bWJlciwgdmFsdWU6IHN0cmluZywgcmF3VXNlckZhY3ROYW1lOiBzdHJpbmcsIGZhY3RUeXBlPzogVXNlckZhY3RUeXBlKSB7XHJcblx0aWYgKCFpc051bWJlcihudW1iZXJWYWx1ZSkpIHtcclxuXHRcdGxldCBlcnJvck1lc3NhZ2UgPSBgVXNlciBmYWN0ICR7cmF3VXNlckZhY3ROYW1lfSBoYXMgaW52YWxpZCB2YWx1ZSAke3ZhbHVlfWA7XHJcblx0XHRpZiAoZmFjdFR5cGUpIHtcclxuXHRcdFx0ZXJyb3JNZXNzYWdlID0gYEludmFsaWQgdmFsdWUgJHt2YWx1ZX0gd2FzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2ZhY3RUeXBlfWA7XHJcblx0XHR9XHJcblxyXG5cdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNJc0FNYXRjaC5GYWlsZWQsXHJcblx0XHRcdGVycm9yTWVzc2FnZSk7XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/UserFact/UserFact.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/UserFact/UserFactHelper.js":
/*!************************************************************!*\
  !*** ../FloodgateCore/dist/src/UserFact/UserFactHelper.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUserFacts = exports.deserializeUserFacts = void 0;\nvar UserFact_1 = __webpack_require__(/*! ./UserFact */ \"../FloodgateCore/dist/src/UserFact/UserFact.js\");\nexports.deserializeUserFacts = function (input) {\n    var userFacts = [];\n    for (var key in input.UserFacts) {\n        if (input.UserFacts.hasOwnProperty(key)) {\n            var userFactInput = input.UserFacts[key];\n            if (userFactInput) {\n                userFacts.push(UserFact_1.UserFact.deserialize(userFactInput));\n            }\n        }\n    }\n    if (userFacts.length === 0) {\n        userFacts = null;\n    }\n    return userFacts;\n};\nexports.validateUserFacts = function (userFacts) {\n    if (userFacts) {\n        for (var key in userFacts) {\n            if (userFacts.hasOwnProperty(key) && !userFacts[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1VzZXJGYWN0L1VzZXJGYWN0SGVscGVyLnRzPzk4OGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUdBQXNDO0FBRXpCLDRCQUFvQixHQUFHLFVBQUMsS0FBVTtJQUM5QyxJQUFJLFNBQVMsR0FBZSxFQUFFLENBQUM7SUFDL0IsS0FBSyxJQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFO1FBQ2xDLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDeEMsSUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUUzQyxJQUFJLGFBQWEsRUFBRTtnQkFDbEIsU0FBUyxDQUFDLElBQUksQ0FBQyxtQkFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2FBQ3BEO1NBQ0Q7S0FDRDtJQUVELElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDM0IsU0FBUyxHQUFHLElBQUksQ0FBQztLQUNqQjtJQUVELE9BQU8sU0FBUyxDQUFDO0FBRWxCLENBQUMsQ0FBQztBQUVXLHlCQUFpQixHQUFHLFVBQUMsU0FBcUI7SUFDdEQsSUFBSSxTQUFTLEVBQUU7UUFDZCxLQUFLLElBQU0sR0FBRyxJQUFJLFNBQVMsRUFBRTtZQUM1QixJQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3JELE9BQU8sS0FBSyxDQUFDO2FBQ2I7U0FDRDtLQUNEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Vc2VyRmFjdC9Vc2VyRmFjdEhlbHBlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJGYWN0IH0gZnJvbSBcIi4vVXNlckZhY3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZVVzZXJGYWN0cyA9IChpbnB1dDogYW55KTogVXNlckZhY3RbXSA9PiB7XHJcblx0bGV0IHVzZXJGYWN0czogVXNlckZhY3RbXSA9IFtdO1xyXG5cdGZvciAoY29uc3Qga2V5IGluIGlucHV0LlVzZXJGYWN0cykge1xyXG5cdFx0aWYgKGlucHV0LlVzZXJGYWN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdGNvbnN0IHVzZXJGYWN0SW5wdXQgPSBpbnB1dC5Vc2VyRmFjdHNba2V5XTtcclxuXHJcblx0XHRcdGlmICh1c2VyRmFjdElucHV0KSB7XHJcblx0XHRcdFx0dXNlckZhY3RzLnB1c2goVXNlckZhY3QuZGVzZXJpYWxpemUodXNlckZhY3RJbnB1dCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAodXNlckZhY3RzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dXNlckZhY3RzID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHJldHVybiB1c2VyRmFjdHM7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlckZhY3RzID0gKHVzZXJGYWN0czogVXNlckZhY3RbXSk6IGJvb2xlYW4gPT4ge1xyXG5cdGlmICh1c2VyRmFjdHMpIHtcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHVzZXJGYWN0cykge1xyXG5cdFx0XHRpZiAodXNlckZhY3RzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVzZXJGYWN0c1trZXldKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/UserFact/UserFactHelper.js\n");

/***/ }),

/***/ "../FloodgateCore/dist/src/Utils.js":
/*!******************************************!*\
  !*** ../FloodgateCore/dist/src/Utils.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/*\n * Utils.ts\n *\n * Module for utility functions\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeParseObject = exports.isValidUserId = exports.fyShuffle = exports.dateToShortUtcString = exports.isUtcDatetimeString = exports.overrideValues = exports.stringToDate = exports.makeArrayFromObjectValuesSortedByKeyString = exports.guid = exports.extractLanguageSubtag = exports.isValidLanguageSubTag = exports.subtractSecondsWithoutOverflow = exports.addSecondsWithoutOverflow = exports.MIN_DATE_MILLISECONDS = exports.MAX_DATE_MILLISECONDS = exports.getDistantFuture = exports.getDistantPast = exports.isBoolean = exports.isString = exports.isArray = exports.isFunction = exports.isObject = exports.isNOU = exports.isNumber = exports.isEnumValue = exports.isDate = exports.timeAdd = void 0;\n/**\n * Add time to a given date\n * Example, timeAdd(new Date(), 'minute', 5)  //returns 5 minutes from now\n * @param date  Date to start with\n * @param interval  One of: hour or h, minute or m, second or s\n * @param units  units of the given interval to add\n * @return date\n */\nfunction timeAdd(date, interval, units) {\n    switch (interval.toLowerCase()) {\n        case \"h\":\n        case \"hour\":\n            return new Date(date.getTime() + (units * 3600000));\n        case \"m\":\n        case \"minute\":\n            return new Date(date.getTime() + (units * 60000));\n        case \"s\":\n        case \"second\":\n            return new Date(date.getTime() + (units * 1000));\n        default:\n            throw new Error(\"Invalid interval value of \" + interval);\n    }\n}\nexports.timeAdd = timeAdd;\n/**\n * Check if an input value is a valid date, null or undefined return false.\n * @param input  input value\n * @return boolean\n */\nfunction isDate(input) {\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n        // it is a date\n        if (!(isNaN(input.getTime()))) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isDate = isDate;\n/**\n * Check if an input value is a valid value in the input enum\n * @param value  input value\n * @param input  input enum\n * Returns true if value exists in the enum\n */\nfunction isEnumValue(value, input) {\n    return (value in input);\n}\nexports.isEnumValue = isEnumValue;\n/**\n * Check if an input value is a number\n * @param value: input value\n */\nfunction isNumber(value) {\n    return (value !== null && !isNaN(value) && isFinite(value));\n}\nexports.isNumber = isNumber;\n/**\n * Check if an input value is null or undefined\n * @param value: input value\n */\nfunction isNOU(value) {\n    return (value === null || value === undefined);\n}\nexports.isNOU = isNOU;\n/**\n * Check if an input value is an object\n * @param value: input value\n */\nfunction isObject(value) {\n    return (value !== null && value !== undefined && (typeof value === \"object\"));\n}\nexports.isObject = isObject;\n/**\n * Check if an input value is an array\n * @param value: input value\n */\nfunction isFunction(value) {\n    return (value !== null && value !== undefined && (typeof value === \"function\"));\n}\nexports.isFunction = isFunction;\n/**\n * Check if an input value is an array\n * @param value: input value\n */\nfunction isArray(value) {\n    return (value !== null && value !== undefined && (Array.isArray(value)));\n}\nexports.isArray = isArray;\n/**\n * Check if given value is a string\n * @param {any} value value\n */\nfunction isString(value) {\n    return (typeof value === \"string\");\n}\nexports.isString = isString;\n/**\n * Check if value is an object\n * @param {any} value value\n */\nfunction isBoolean(value) {\n    return typeof (value) === \"boolean\";\n}\nexports.isBoolean = isBoolean;\n/**\n * Returns a lower temporal boundary\n * @return date\n */\nfunction getDistantPast() {\n    // Corresponds to UTC 1601-01-01T00:00:00Z\n    return new Date(-11644473600000);\n}\nexports.getDistantPast = getDistantPast;\n/**\n * Get an upper temporal boundary\n * @return date\n */\nfunction getDistantFuture() {\n    // Corresponds to UTC 4001-01-01T00:00:00Z\n    return new Date(64092211200000);\n}\nexports.getDistantFuture = getDistantFuture;\nexports.MAX_DATE_MILLISECONDS = 8640000000000000;\nexports.MIN_DATE_MILLISECONDS = -8640000000000000;\n/**\n * Adds seconds to a date, if overflows returns Date(Number.Max_VALUE)\n *\n * @param date    date to add to\n * @param seconds seconds as number\n * @return Resulting date\n */\nfunction addSecondsWithoutOverflow(date, seconds) {\n    if (!date) {\n        return null;\n    }\n    if (seconds < 0) {\n        return subtractSecondsWithoutOverflow(date, -1 * seconds);\n    }\n    else {\n        var milliseconds = date.getTime() + seconds * 1000;\n        if (milliseconds < exports.MAX_DATE_MILLISECONDS) {\n            return new Date(milliseconds);\n        }\n        else {\n            return new Date(exports.MAX_DATE_MILLISECONDS);\n        }\n    }\n}\nexports.addSecondsWithoutOverflow = addSecondsWithoutOverflow;\n/**\n * Subtracts seconds from a date, if overflows returns Date(Number.MIN_VALUE)\n *\n * @param date   date to subtract from\n * @param seconds seconds as number\n * @return Resulting date\n */\nfunction subtractSecondsWithoutOverflow(date, seconds) {\n    if (!date) {\n        return null;\n    }\n    if (seconds < 0) {\n        seconds = -seconds;\n        return this.addSecondsWithoutOverflow(date, seconds);\n    }\n    var milliseconds = date.getTime() - (seconds * 1000);\n    if (milliseconds > exports.MIN_DATE_MILLISECONDS) {\n        return new Date(milliseconds);\n    }\n    else {\n        return new Date(exports.MIN_DATE_MILLISECONDS);\n    }\n}\nexports.subtractSecondsWithoutOverflow = subtractSecondsWithoutOverflow;\n// region Language related\n/**\n * Effectively un-anchored on the right side because tags can have many more trailing sub-parts than we care to extract\n * Refer to https://www.ietf.org/rfc/rfc5646.txt\n */\nvar LANGUAGE_AND_SCRIPT_TAG_PATTERN = \"^\" +\n    // capture 1:language subtag\n    \"(\" +\n    \"(?:[a-zA-Z]{2,3}(?:-[a-zA-Z]{3}){0,3})\" + // 2-3 Alpha chars, followed by up to three optional extension tags, each of format -AAA, A=Alpha char\n    \"|\" +\n    \"(?:[a-zA-Z]{4,8})\" + // 4-Alpha chars (reserved in standard) or 5-8 Alpha chars\n    \")\" +\n    \"(?:\" +\n    \"-\" +\n    // capture 2: optional script subtag (without leading dash), exactly 4 alpha chars\n    \"([a-zA-Z]{4})\" + // 4-Alpha chars\n    \")?\" +\n    // capture 3: optional region subtag (without leading dash), exactly 2 alpha chars or 3 digits\n    \"(?:-([a-zA-Z]{2}|[0-9]{3}))?\" +\n    \"(\" +\n    // capture 4: any left-overs, rejecting remainder strings that don't end here or lead with a dash.\n    \"-.*\" +\n    \")?\" +\n    \"$\";\nfunction isValidLanguageSubTag(subTag) {\n    if (!subTag) {\n        return false;\n    }\n    var extractedSubTag = extractLanguageSubtag(subTag);\n    if (!extractedSubTag) {\n        return false;\n    }\n    return extractedSubTag === subTag;\n}\nexports.isValidLanguageSubTag = isValidLanguageSubTag;\nfunction extractLanguageSubtag(language) {\n    if (!language) {\n        return null;\n    }\n    var matches = language.match(LANGUAGE_AND_SCRIPT_TAG_PATTERN);\n    if (!matches || matches.length < 1 || !isNOU(matches[4])) {\n        return null;\n    }\n    // return the first capture group which should be the original input if there is a match\n    // For example, \"en-US\" input should return \"en-US\", and \"en\" input should return \"en\".\n    return matches[0];\n}\nexports.extractLanguageSubtag = extractLanguageSubtag;\n// endregion\n/**\n * Create guid string\n */\nfunction guid() {\n    // Stitch in '4' in the third group\n    return (randomHex4() + randomHex4() + \"-\" + randomHex4() + \"-4\" + randomHex4().substr(0, 3) + \"-\" + randomHex4() + \"-\"\n        + randomHex4() + randomHex4() + randomHex4()).toLowerCase();\n}\nexports.guid = guid;\n/**\n * Create random Hex4 string\n */\nfunction randomHex4() {\n    return (Math.floor(((1 + Math.random()) * 0x10000))).toString(16).substring(1);\n}\n/**\n * Create an array from input object values sorted by object key\n * @param Object input object\n * @return array\n */\nfunction makeArrayFromObjectValuesSortedByKeyString(object) {\n    var keys = Object.keys(object);\n    keys.sort();\n    var values = [];\n    for (var id in keys) {\n        if (keys.hasOwnProperty(id)) {\n            var key = keys[id];\n            values.push(object[key]);\n        }\n    }\n    return values;\n}\nexports.makeArrayFromObjectValuesSortedByKeyString = makeArrayFromObjectValuesSortedByKeyString;\n/**\n * Create a date object from an input string\n * @param Object input string\n * @return date\n */\nfunction stringToDate(input) {\n    if (!isString(input)) {\n        return null;\n    }\n    var newDate = input ? new Date(input) : null;\n    return isDate(newDate) ? newDate : null;\n}\nexports.stringToDate = stringToDate;\n/**\n * Takes two objects (source, target) and returns the target object with values in the source added to it.\n * It overwrites any source properties which already exist in target.\n */\nfunction overrideValues(sourceObject, targetobject) {\n    if (!targetobject) {\n        return targetobject;\n    }\n    var result = targetobject;\n    if (sourceObject) {\n        for (var field in sourceObject) {\n            if (sourceObject.hasOwnProperty(field)) {\n                result[field] = sourceObject[field];\n            }\n        }\n    }\n    return result;\n}\nexports.overrideValues = overrideValues;\n/**\n * Test a string is in our supported ISO8601 UTC format of \"yyyy-MM-ddTHH:mm:ssZ\" and \"yyyy-MM-ddTHH:mm:ss.fffZ\"\n * @param input Input string to be evaluated.\n */\nfunction isUtcDatetimeString(input) {\n    if (!isString(input)) {\n        return false;\n    }\n    var supportedUtcRegex = /^(\\d{4}\\-\\d\\d\\-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d\\d\\d)?Z)$/;\n    return supportedUtcRegex.test(input);\n}\nexports.isUtcDatetimeString = isUtcDatetimeString;\n/**\n * Convert a date object to a string in ISO8601 UTC format supported by Floodgate (\"yyyy-MM-ddTHH:mm:ssZ\")\n * @param input Input date object\n */\nfunction dateToShortUtcString(input) {\n    if (!isDate(input)) {\n        return null;\n    }\n    function pad(n) {\n        return (n < 10) ? (\"0\" + n) : n.toString();\n    }\n    return input.getUTCFullYear() +\n        \"-\" + pad(input.getUTCMonth() + 1) +\n        \"-\" + pad(input.getUTCDate()) +\n        \"T\" + pad(input.getUTCHours()) +\n        \":\" + pad(input.getUTCMinutes()) +\n        \":\" + pad(input.getUTCSeconds()) +\n        \"Z\";\n}\nexports.dateToShortUtcString = dateToShortUtcString;\n/*\nImplementing the Fisher-Yates Shuffle\n(Shuffles in situ)\n*/\nfunction fyShuffle(arrIn) {\n    if (isNOU(arrIn)) {\n        return undefined;\n    }\n    // If the array is empty or has one element, do nothing.\n    if (arrIn.length === 0 || arrIn.length === 1) {\n        return arrIn;\n    }\n    var lastNonShuffledElement = arrIn.length - 1;\n    // While there is still a non shuffled element.\n    while (lastNonShuffledElement > 0) {\n        // Pick one of the non shuffled elements (num range [0,lastNonShuffledElement+1))\n        var pickIndex = Math.floor(Math.random() * (lastNonShuffledElement + 1));\n        // And swap it with the last non shuffled element\n        var temp = arrIn[lastNonShuffledElement];\n        arrIn[lastNonShuffledElement] = arrIn[pickIndex];\n        arrIn[pickIndex] = temp;\n        lastNonShuffledElement--;\n    }\n    return arrIn;\n}\nexports.fyShuffle = fyShuffle;\n/**\n * Check if value is an valid user id\n * One or two character before colon, a colon, and some word after colon.\n * @param {any} value value\n */\nfunction isValidUserId(value) {\n    if (!isString(value)) {\n        return false;\n    }\n    var supportedUserIdRegex = /^([a-z]{1,2}):\\w+/;\n    return supportedUserIdRegex.test(value);\n}\nexports.isValidUserId = isValidUserId;\n/**\n * Safely read an object\n */\nfunction safeParseObject(serializedValue, defaultValue) {\n    try {\n        var parsedObject = serializedValue && (serializedValue[0] === \"{\" || serializedValue[0] === \"[\")\n            ? JSON.parse(serializedValue)\n            : undefined;\n        return parsedObject !== null && parsedObject !== void 0 ? parsedObject : defaultValue;\n    }\n    catch (e) {\n        // ignore\n    }\n    return defaultValue;\n}\nexports.safeParseObject = safeParseObject;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1V0aWxzLnRzP2NmZTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7O0dBSUc7OztBQUVIOzs7Ozs7O0dBT0c7QUFDSCxTQUFnQixPQUFPLENBQUMsSUFBVSxFQUFFLFFBQWdCLEVBQUUsS0FBYTtJQUNsRSxRQUFRLFFBQVEsQ0FBQyxXQUFXLEVBQUUsRUFBRTtRQUMvQixLQUFLLEdBQUcsQ0FBQztRQUNULEtBQUssTUFBTTtZQUNWLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDckQsS0FBSyxHQUFHLENBQUM7UUFDVCxLQUFLLFFBQVE7WUFDWixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25ELEtBQUssR0FBRyxDQUFDO1FBQ1QsS0FBSyxRQUFRO1lBQ1osT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNsRDtZQUNDLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUM7S0FDMUQ7QUFDRixDQUFDO0FBZEQsMEJBY0M7QUFFRDs7OztHQUlHO0FBQ0gsU0FBZ0IsTUFBTSxDQUFDLEtBQVU7SUFDaEMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssZUFBZSxFQUFFO1FBQzlELGVBQWU7UUFDZixJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRTtZQUM5QixPQUFPLElBQUksQ0FBQztTQUNaO0tBQ0Q7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNkLENBQUM7QUFSRCx3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QUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBUEQsc0NBT0M7QUFFRDs7R0FFRztBQUNILFNBQWdCLGVBQWUsQ0FBSSxlQUF1QixFQUFFLFlBQWdCO0lBQzNFLElBQUk7UUFDSCxJQUFNLFlBQVksR0FBRyxlQUFlLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLGVBQWUsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUM7WUFDN0YsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO1lBQzdCLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDakIsT0FBTyxZQUFZLGFBQVosWUFBWSxjQUFaLFlBQVksR0FBSSxZQUFZLENBQUM7S0FDcEM7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNYLFNBQVM7S0FDVDtJQUVELE9BQU8sWUFBWSxDQUFDO0FBQ3JCLENBQUM7QUFYRCwwQ0FXQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVXRpbHMudHNcclxuICpcclxuICogTW9kdWxlIGZvciB1dGlsaXR5IGZ1bmN0aW9uc1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBBZGQgdGltZSB0byBhIGdpdmVuIGRhdGVcclxuICogRXhhbXBsZSwgdGltZUFkZChuZXcgRGF0ZSgpLCAnbWludXRlJywgNSkgIC8vcmV0dXJucyA1IG1pbnV0ZXMgZnJvbSBub3dcclxuICogQHBhcmFtIGRhdGUgIERhdGUgdG8gc3RhcnQgd2l0aFxyXG4gKiBAcGFyYW0gaW50ZXJ2YWwgIE9uZSBvZjogaG91ciBvciBoLCBtaW51dGUgb3IgbSwgc2Vjb25kIG9yIHNcclxuICogQHBhcmFtIHVuaXRzICB1bml0cyBvZiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgdG8gYWRkXHJcbiAqIEByZXR1cm4gZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVBZGQoZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IHN0cmluZywgdW5pdHM6IG51bWJlcik6IERhdGUge1xyXG5cdHN3aXRjaCAoaW50ZXJ2YWwudG9Mb3dlckNhc2UoKSkge1xyXG5cdFx0Y2FzZSBcImhcIjpcclxuXHRcdGNhc2UgXCJob3VyXCI6XHJcblx0XHRcdHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArICh1bml0cyAqIDM2MDAwMDApKTtcclxuXHRcdGNhc2UgXCJtXCI6XHJcblx0XHRjYXNlIFwibWludXRlXCI6XHJcblx0XHRcdHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArICh1bml0cyAqIDYwMDAwKSk7XHJcblx0XHRjYXNlIFwic1wiOlxyXG5cdFx0Y2FzZSBcInNlY29uZFwiOlxyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyAodW5pdHMgKiAxMDAwKSk7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGludGVydmFsIHZhbHVlIG9mIFwiICsgaW50ZXJ2YWwpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGlucHV0IHZhbHVlIGlzIGEgdmFsaWQgZGF0ZSwgbnVsbCBvciB1bmRlZmluZWQgcmV0dXJuIGZhbHNlLlxyXG4gKiBAcGFyYW0gaW5wdXQgIGlucHV0IHZhbHVlXHJcbiAqIEByZXR1cm4gYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0aWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09IFwiW29iamVjdCBEYXRlXVwiKSB7XHJcblx0XHQvLyBpdCBpcyBhIGRhdGVcclxuXHRcdGlmICghKGlzTmFOKGlucHV0LmdldFRpbWUoKSkpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhIHZhbGlkIHZhbHVlIGluIHRoZSBpbnB1dCBlbnVtXHJcbiAqIEBwYXJhbSB2YWx1ZSAgaW5wdXQgdmFsdWVcclxuICogQHBhcmFtIGlucHV0ICBpbnB1dCBlbnVtXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB2YWx1ZSBleGlzdHMgaW4gdGhlIGVudW1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VudW1WYWx1ZSh2YWx1ZTogYW55LCBpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSBpbiBpbnB1dCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhIG51bWJlclxyXG4gKiBAcGFyYW0gdmFsdWU6IGlucHV0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodmFsdWUgIT09IG51bGwgJiYgIWlzTmFOKHZhbHVlKSAmJiBpc0Zpbml0ZSh2YWx1ZSkpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gaW5wdXQgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWRcclxuICogQHBhcmFtIHZhbHVlOiBpbnB1dCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTk9VKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gaW5wdXQgdmFsdWUgaXMgYW4gb2JqZWN0XHJcbiAqIEBwYXJhbSB2YWx1ZTogaW5wdXQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGlucHV0IHZhbHVlIGlzIGFuIGFycmF5XHJcbiAqIEBwYXJhbSB2YWx1ZTogaW5wdXQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhbiBhcnJheVxyXG4gKiBAcGFyYW0gdmFsdWU6IGlucHV0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChBcnJheS5pc0FycmF5KHZhbHVlKSkpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYSBzdHJpbmdcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIG9iamVjdFxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiB0eXBlb2YgKHZhbHVlKSA9PT0gXCJib29sZWFuXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbG93ZXIgdGVtcG9yYWwgYm91bmRhcnlcclxuICogQHJldHVybiBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFudFBhc3QoKTogRGF0ZSB7XHJcblx0Ly8gQ29ycmVzcG9uZHMgdG8gVVRDIDE2MDEtMDEtMDFUMDA6MDA6MDBaXHJcblx0cmV0dXJuIG5ldyBEYXRlKC0xMTY0NDQ3MzYwMDAwMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYW4gdXBwZXIgdGVtcG9yYWwgYm91bmRhcnlcclxuICogQHJldHVybiBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFudEZ1dHVyZSgpOiBEYXRlIHtcclxuXHQvLyBDb3JyZXNwb25kcyB0byBVVEMgNDAwMS0wMS0wMVQwMDowMDowMFpcclxuXHRyZXR1cm4gbmV3IERhdGUoNjQwOTIyMTEyMDAwMDApO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTUFYX0RBVEVfTUlMTElTRUNPTkRTOiBudW1iZXIgPSA4NjQwMDAwMDAwMDAwMDAwO1xyXG5leHBvcnQgY29uc3QgTUlOX0RBVEVfTUlMTElTRUNPTkRTOiBudW1iZXIgPSAtODY0MDAwMDAwMDAwMDAwMDtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHNlY29uZHMgdG8gYSBkYXRlLCBpZiBvdmVyZmxvd3MgcmV0dXJucyBEYXRlKE51bWJlci5NYXhfVkFMVUUpXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgIGRhdGUgdG8gYWRkIHRvXHJcbiAqIEBwYXJhbSBzZWNvbmRzIHNlY29uZHMgYXMgbnVtYmVyXHJcbiAqIEByZXR1cm4gUmVzdWx0aW5nIGRhdGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRTZWNvbmRzV2l0aG91dE92ZXJmbG93KGRhdGU6IERhdGUsIHNlY29uZHM6IG51bWJlcik6IERhdGUge1xyXG5cdGlmICghZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vjb25kcyA8IDApIHtcclxuXHRcdHJldHVybiBzdWJ0cmFjdFNlY29uZHNXaXRob3V0T3ZlcmZsb3coZGF0ZSwgLTEgKiBzZWNvbmRzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29uc3QgbWlsbGlzZWNvbmRzOiBudW1iZXIgPSBkYXRlLmdldFRpbWUoKSArIHNlY29uZHMgKiAxMDAwO1xyXG5cclxuXHRcdGlmIChtaWxsaXNlY29uZHMgPCBNQVhfREFURV9NSUxMSVNFQ09ORFMpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoTUFYX0RBVEVfTUlMTElTRUNPTkRTKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgc2Vjb25kcyBmcm9tIGEgZGF0ZSwgaWYgb3ZlcmZsb3dzIHJldHVybnMgRGF0ZShOdW1iZXIuTUlOX1ZBTFVFKVxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgIGRhdGUgdG8gc3VidHJhY3QgZnJvbVxyXG4gKiBAcGFyYW0gc2Vjb25kcyBzZWNvbmRzIGFzIG51bWJlclxyXG4gKiBAcmV0dXJuIFJlc3VsdGluZyBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3RTZWNvbmRzV2l0aG91dE92ZXJmbG93KGRhdGU6IERhdGUsIHNlY29uZHM6IG51bWJlcik6IERhdGUge1xyXG5cdGlmICghZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vjb25kcyA8IDApIHtcclxuXHRcdHNlY29uZHMgPSAtc2Vjb25kcztcclxuXHRcdHJldHVybiB0aGlzLmFkZFNlY29uZHNXaXRob3V0T3ZlcmZsb3coZGF0ZSwgc2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBtaWxsaXNlY29uZHM6IG51bWJlciA9IGRhdGUuZ2V0VGltZSgpIC0gKHNlY29uZHMgKiAxMDAwKTtcclxuXHJcblx0aWYgKG1pbGxpc2Vjb25kcyA+IE1JTl9EQVRFX01JTExJU0VDT05EUykge1xyXG5cdFx0cmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBuZXcgRGF0ZShNSU5fREFURV9NSUxMSVNFQ09ORFMpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVnaW9uIExhbmd1YWdlIHJlbGF0ZWRcclxuXHJcbi8qKlxyXG4gKiBFZmZlY3RpdmVseSB1bi1hbmNob3JlZCBvbiB0aGUgcmlnaHQgc2lkZSBiZWNhdXNlIHRhZ3MgY2FuIGhhdmUgbWFueSBtb3JlIHRyYWlsaW5nIHN1Yi1wYXJ0cyB0aGFuIHdlIGNhcmUgdG8gZXh0cmFjdFxyXG4gKiBSZWZlciB0byBodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNTY0Ni50eHRcclxuICovXHJcbmNvbnN0IExBTkdVQUdFX0FORF9TQ1JJUFRfVEFHX1BBVFRFUk46IHN0cmluZyA9XHJcblx0XCJeXCIgK1xyXG5cdC8vIGNhcHR1cmUgMTpsYW5ndWFnZSBzdWJ0YWdcclxuXHRcIihcIiArXHJcblx0XCIoPzpbYS16QS1aXXsyLDN9KD86LVthLXpBLVpdezN9KXswLDN9KVwiICsgIC8vIDItMyBBbHBoYSBjaGFycywgZm9sbG93ZWQgYnkgdXAgdG8gdGhyZWUgb3B0aW9uYWwgZXh0ZW5zaW9uIHRhZ3MsIGVhY2ggb2YgZm9ybWF0IC1BQUEsIEE9QWxwaGEgY2hhclxyXG5cdFwifFwiICtcclxuXHRcIig/OlthLXpBLVpdezQsOH0pXCIgKyAgICAgICAgICAgICAgICAgICAgICAgLy8gNC1BbHBoYSBjaGFycyAocmVzZXJ2ZWQgaW4gc3RhbmRhcmQpIG9yIDUtOCBBbHBoYSBjaGFyc1xyXG5cdFwiKVwiICtcclxuXHRcIig/OlwiICtcclxuXHRcIi1cIiArXHJcblx0Ly8gY2FwdHVyZSAyOiBvcHRpb25hbCBzY3JpcHQgc3VidGFnICh3aXRob3V0IGxlYWRpbmcgZGFzaCksIGV4YWN0bHkgNCBhbHBoYSBjaGFyc1xyXG5cdFwiKFthLXpBLVpdezR9KVwiICsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA0LUFscGhhIGNoYXJzXHJcblx0XCIpP1wiICtcclxuXHQvLyBjYXB0dXJlIDM6IG9wdGlvbmFsIHJlZ2lvbiBzdWJ0YWcgKHdpdGhvdXQgbGVhZGluZyBkYXNoKSwgZXhhY3RseSAyIGFscGhhIGNoYXJzIG9yIDMgZGlnaXRzXHJcblx0XCIoPzotKFthLXpBLVpdezJ9fFswLTldezN9KSk/XCIgK1xyXG5cdFwiKFwiICtcclxuXHQvLyBjYXB0dXJlIDQ6IGFueSBsZWZ0LW92ZXJzLCByZWplY3RpbmcgcmVtYWluZGVyIHN0cmluZ3MgdGhhdCBkb24ndCBlbmQgaGVyZSBvciBsZWFkIHdpdGggYSBkYXNoLlxyXG5cdFwiLS4qXCIgK1xyXG5cdFwiKT9cIiArXHJcblx0XCIkXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZExhbmd1YWdlU3ViVGFnKHN1YlRhZzogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0aWYgKCFzdWJUYWcpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGV4dHJhY3RlZFN1YlRhZzogc3RyaW5nID0gZXh0cmFjdExhbmd1YWdlU3VidGFnKHN1YlRhZyk7XHJcblx0aWYgKCFleHRyYWN0ZWRTdWJUYWcpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBleHRyYWN0ZWRTdWJUYWcgPT09IHN1YlRhZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RMYW5ndWFnZVN1YnRhZyhsYW5ndWFnZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoIWxhbmd1YWdlKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGNvbnN0IG1hdGNoZXMgPSBsYW5ndWFnZS5tYXRjaChMQU5HVUFHRV9BTkRfU0NSSVBUX1RBR19QQVRURVJOKTtcclxuXHRpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAxIHx8ICFpc05PVShtYXRjaGVzWzRdKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvLyByZXR1cm4gdGhlIGZpcnN0IGNhcHR1cmUgZ3JvdXAgd2hpY2ggc2hvdWxkIGJlIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB0aGVyZSBpcyBhIG1hdGNoXHJcblx0Ly8gRm9yIGV4YW1wbGUsIFwiZW4tVVNcIiBpbnB1dCBzaG91bGQgcmV0dXJuIFwiZW4tVVNcIiwgYW5kIFwiZW5cIiBpbnB1dCBzaG91bGQgcmV0dXJuIFwiZW5cIi5cclxuXHRyZXR1cm4gbWF0Y2hlc1swXTtcclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vKipcclxuICogQ3JlYXRlIGd1aWQgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG5cdC8vIFN0aXRjaCBpbiAnNCcgaW4gdGhlIHRoaXJkIGdyb3VwXHJcblx0cmV0dXJuIChyYW5kb21IZXg0KCkgKyByYW5kb21IZXg0KCkgKyBcIi1cIiArIHJhbmRvbUhleDQoKSArIFwiLTRcIiArIHJhbmRvbUhleDQoKS5zdWJzdHIoMCwgMykgKyBcIi1cIiArIHJhbmRvbUhleDQoKSArIFwiLVwiXHJcblx0XHQrIHJhbmRvbUhleDQoKSArIHJhbmRvbUhleDQoKSArIHJhbmRvbUhleDQoKSkudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSByYW5kb20gSGV4NCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbUhleDQoKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gKE1hdGguZmxvb3IoKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYW4gYXJyYXkgZnJvbSBpbnB1dCBvYmplY3QgdmFsdWVzIHNvcnRlZCBieSBvYmplY3Qga2V5XHJcbiAqIEBwYXJhbSBPYmplY3QgaW5wdXQgb2JqZWN0XHJcbiAqIEByZXR1cm4gYXJyYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQXJyYXlGcm9tT2JqZWN0VmFsdWVzU29ydGVkQnlLZXlTdHJpbmcob2JqZWN0OiBvYmplY3QpOiBhbnlbXSB7XHJcblx0Y29uc3Qga2V5czogc3RyaW5nW10gPSBPYmplY3Qua2V5cyhvYmplY3QpO1xyXG5cdGtleXMuc29ydCgpO1xyXG5cclxuXHRjb25zdCB2YWx1ZXM6IGFueVtdID0gW107XHJcblx0Zm9yIChjb25zdCBpZCBpbiBrZXlzKSB7XHJcblx0XHRpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuXHRcdFx0Y29uc3Qga2V5OiBzdHJpbmcgPSBrZXlzW2lkXTtcclxuXHRcdFx0dmFsdWVzLnB1c2gob2JqZWN0W2tleV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGRhdGUgb2JqZWN0IGZyb20gYW4gaW5wdXQgc3RyaW5nXHJcbiAqIEBwYXJhbSBPYmplY3QgaW5wdXQgc3RyaW5nXHJcbiAqIEByZXR1cm4gZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvRGF0ZShpbnB1dDogYW55KTogRGF0ZSB7XHJcblx0aWYgKCFpc1N0cmluZyhpbnB1dCkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbmV3RGF0ZTogRGF0ZSA9IGlucHV0ID8gbmV3IERhdGUoaW5wdXQpIDogbnVsbDtcclxuXHRyZXR1cm4gaXNEYXRlKG5ld0RhdGUpID8gbmV3RGF0ZSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUYWtlcyB0d28gb2JqZWN0cyAoc291cmNlLCB0YXJnZXQpIGFuZCByZXR1cm5zIHRoZSB0YXJnZXQgb2JqZWN0IHdpdGggdmFsdWVzIGluIHRoZSBzb3VyY2UgYWRkZWQgdG8gaXQuXHJcbiAqIEl0IG92ZXJ3cml0ZXMgYW55IHNvdXJjZSBwcm9wZXJ0aWVzIHdoaWNoIGFscmVhZHkgZXhpc3QgaW4gdGFyZ2V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJyaWRlVmFsdWVzPFQ+KHNvdXJjZU9iamVjdDogVCwgdGFyZ2V0b2JqZWN0OiBUKTogVCB7XHJcblx0aWYgKCF0YXJnZXRvYmplY3QpIHtcclxuXHRcdHJldHVybiB0YXJnZXRvYmplY3Q7XHJcblx0fVxyXG5cclxuXHRjb25zdCByZXN1bHQ6IFQgPSB0YXJnZXRvYmplY3Q7XHJcblxyXG5cdGlmIChzb3VyY2VPYmplY3QpIHtcclxuXHRcdGZvciAoY29uc3QgZmllbGQgaW4gc291cmNlT2JqZWN0KSB7XHJcblx0XHRcdGlmIChzb3VyY2VPYmplY3QuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0KHJlc3VsdCBhcyBhbnkpW2ZpZWxkXSA9IChzb3VyY2VPYmplY3QgYXMgYW55KVtmaWVsZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUZXN0IGEgc3RyaW5nIGlzIGluIG91ciBzdXBwb3J0ZWQgSVNPODYwMSBVVEMgZm9ybWF0IG9mIFwieXl5eS1NTS1kZFRISDptbTpzc1pcIiBhbmQgXCJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZlpcIlxyXG4gKiBAcGFyYW0gaW5wdXQgSW5wdXQgc3RyaW5nIHRvIGJlIGV2YWx1YXRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1V0Y0RhdGV0aW1lU3RyaW5nKGlucHV0OiBhbnkpOiBib29sZWFuIHtcclxuXHRpZiAoIWlzU3RyaW5nKGlucHV0KSkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y29uc3Qgc3VwcG9ydGVkVXRjUmVnZXggPSAvXihcXGR7NH1cXC1cXGRcXGRcXC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoXFwuXFxkXFxkXFxkKT9aKSQvO1xyXG5cdHJldHVybiBzdXBwb3J0ZWRVdGNSZWdleC50ZXN0KGlucHV0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBkYXRlIG9iamVjdCB0byBhIHN0cmluZyBpbiBJU084NjAxIFVUQyBmb3JtYXQgc3VwcG9ydGVkIGJ5IEZsb29kZ2F0ZSAoXCJ5eXl5LU1NLWRkVEhIOm1tOnNzWlwiKVxyXG4gKiBAcGFyYW0gaW5wdXQgSW5wdXQgZGF0ZSBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkYXRlVG9TaG9ydFV0Y1N0cmluZyhpbnB1dDogRGF0ZSk6IHN0cmluZyB7XHJcblx0aWYgKCFpc0RhdGUoaW5wdXQpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHBhZChuOiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIChuIDwgMTApID8gKFwiMFwiICsgbikgOiBuLnRvU3RyaW5nKCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaW5wdXQuZ2V0VVRDRnVsbFllYXIoKSArXHJcblx0XHRcIi1cIiArIHBhZChpbnB1dC5nZXRVVENNb250aCgpICsgMSkgK1xyXG5cdFx0XCItXCIgKyBwYWQoaW5wdXQuZ2V0VVRDRGF0ZSgpKSArXHJcblx0XHRcIlRcIiArIHBhZChpbnB1dC5nZXRVVENIb3VycygpKSArXHJcblx0XHRcIjpcIiArIHBhZChpbnB1dC5nZXRVVENNaW51dGVzKCkpICtcclxuXHRcdFwiOlwiICsgcGFkKGlucHV0LmdldFVUQ1NlY29uZHMoKSkgK1xyXG5cdFx0XCJaXCI7XHJcbn1cclxuXHJcbi8qXHJcbkltcGxlbWVudGluZyB0aGUgRmlzaGVyLVlhdGVzIFNodWZmbGVcclxuKFNodWZmbGVzIGluIHNpdHUpXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBmeVNodWZmbGUoYXJySW46IG51bWJlcltdKTogbnVtYmVyW10gfCB1bmRlZmluZWQge1xyXG5cclxuXHRpZiAoaXNOT1UoYXJySW4pKSB7XHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0Ly8gSWYgdGhlIGFycmF5IGlzIGVtcHR5IG9yIGhhcyBvbmUgZWxlbWVudCwgZG8gbm90aGluZy5cclxuXHRpZiAoYXJySW4ubGVuZ3RoID09PSAwIHx8IGFyckluLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0cmV0dXJuIGFyckluO1xyXG5cdH1cclxuXHJcblx0bGV0IGxhc3ROb25TaHVmZmxlZEVsZW1lbnQgPSBhcnJJbi5sZW5ndGggLSAxO1xyXG5cclxuXHQvLyBXaGlsZSB0aGVyZSBpcyBzdGlsbCBhIG5vbiBzaHVmZmxlZCBlbGVtZW50LlxyXG5cdHdoaWxlIChsYXN0Tm9uU2h1ZmZsZWRFbGVtZW50ID4gMCkge1xyXG5cclxuXHRcdC8vIFBpY2sgb25lIG9mIHRoZSBub24gc2h1ZmZsZWQgZWxlbWVudHMgKG51bSByYW5nZSBbMCxsYXN0Tm9uU2h1ZmZsZWRFbGVtZW50KzEpKVxyXG5cdFx0Y29uc3QgcGlja0luZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxhc3ROb25TaHVmZmxlZEVsZW1lbnQgKyAxKSk7XHJcblxyXG5cdFx0Ly8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgbGFzdCBub24gc2h1ZmZsZWQgZWxlbWVudFxyXG5cdFx0Y29uc3QgdGVtcCA9IGFyckluW2xhc3ROb25TaHVmZmxlZEVsZW1lbnRdO1xyXG5cdFx0YXJySW5bbGFzdE5vblNodWZmbGVkRWxlbWVudF0gPSBhcnJJbltwaWNrSW5kZXhdO1xyXG5cdFx0YXJySW5bcGlja0luZGV4XSA9IHRlbXA7XHJcblxyXG5cdFx0bGFzdE5vblNodWZmbGVkRWxlbWVudC0tO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGFyckluO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gdmFsaWQgdXNlciBpZFxyXG4gKiBPbmUgb3IgdHdvIGNoYXJhY3RlciBiZWZvcmUgY29sb24sIGEgY29sb24sIGFuZCBzb21lIHdvcmQgYWZ0ZXIgY29sb24uXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRVc2VySWQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdGlmICghaXNTdHJpbmcodmFsdWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzdXBwb3J0ZWRVc2VySWRSZWdleCA9IC9eKFthLXpdezEsMn0pOlxcdysvO1xyXG5cdHJldHVybiBzdXBwb3J0ZWRVc2VySWRSZWdleC50ZXN0KHZhbHVlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNhZmVseSByZWFkIGFuIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVQYXJzZU9iamVjdDxUPihzZXJpYWxpemVkVmFsdWU6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCk6IFQge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBwYXJzZWRPYmplY3QgPSBzZXJpYWxpemVkVmFsdWUgJiYgKHNlcmlhbGl6ZWRWYWx1ZVswXSA9PT0gXCJ7XCIgfHwgc2VyaWFsaXplZFZhbHVlWzBdID09PSBcIltcIilcclxuXHRcdFx0XHRcdFx0XHQ/IEpTT04ucGFyc2Uoc2VyaWFsaXplZFZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdDogdW5kZWZpbmVkO1xyXG5cdFx0cmV0dXJuIHBhcnNlZE9iamVjdCA/PyBkZWZhdWx0VmFsdWU7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Ly8gaWdub3JlXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Utils.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/annotations.js":
/*!******************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/annotations.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AnnotationState = void 0;\r\nvar AnnotationState;\r\n(function (AnnotationState) {\r\n    AnnotationState[AnnotationState[\"Undefined\"] = 0] = \"Undefined\";\r\n    //only dealt with on server side\r\n    AnnotationState[AnnotationState[\"Created\"] = 10] = \"Created\";\r\n    AnnotationState[AnnotationState[\"Sent\"] = 20] = \"Sent\";\r\n    AnnotationState[AnnotationState[\"Duplicated\"] = 30] = \"Duplicated\";\r\n    //dealt with on client side and server side\r\n    AnnotationState[AnnotationState[\"Seen\"] = 40] = \"Seen\";\r\n    AnnotationState[AnnotationState[\"Tried\"] = 50] = \"Tried\";\r\n    AnnotationState[AnnotationState[\"Kept\"] = 60] = \"Kept\";\r\n    AnnotationState[AnnotationState[\"Rejected\"] = 70] = \"Rejected\";\r\n})(AnnotationState = exports.AnnotationState || (exports.AnnotationState = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2Fubm90YXRpb25zLnRzPzg2MWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsSUFBWSxlQVdYO0FBWEQsV0FBWSxlQUFlO0lBQ3ZCLCtEQUFhO0lBQ2IsZ0NBQWdDO0lBQ2hDLDREQUFZO0lBQ1osc0RBQVM7SUFDVCxrRUFBZTtJQUNmLDJDQUEyQztJQUMzQyxzREFBUztJQUNULHdEQUFVO0lBQ1Ysc0RBQVM7SUFDVCw4REFBYTtBQUNqQixDQUFDLEVBWFcsZUFBZSxHQUFmLHVCQUFlLEtBQWYsdUJBQWUsUUFXMUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9hbm5vdGF0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QnO1xyXG5cclxuZXhwb3J0IGVudW0gQW5ub3RhdGlvblN0YXRlIHtcclxuICAgIFVuZGVmaW5lZCA9IDAsXHJcbiAgICAvL29ubHkgZGVhbHQgd2l0aCBvbiBzZXJ2ZXIgc2lkZVxyXG4gICAgQ3JlYXRlZCA9IDEwLFxyXG4gICAgU2VudCA9IDIwLFxyXG4gICAgRHVwbGljYXRlZCA9IDMwLCAvL29ubHkgdG8gYmUgdXNlZCBmb3IgbG9ncyAtLSBhbm5vdGF0aW9uIHNob3VsZCBuZXZlciBiZSBhc3NpZ25lZCB0aGlzIHN0YXRlXHJcbiAgICAvL2RlYWx0IHdpdGggb24gY2xpZW50IHNpZGUgYW5kIHNlcnZlciBzaWRlXHJcbiAgICBTZWVuID0gNDAsXHJcbiAgICBUcmllZCA9IDUwLFxyXG4gICAgS2VwdCA9IDYwLFxyXG4gICAgUmVqZWN0ZWQgPSA3MFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFubm90YXRpb25NZXRhRGF0YSB7XHJcbiAgICBzdGF0ZT86IEFubm90YXRpb25TdGF0ZTtcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIGFubm90YXRpb24gY2FuIGJlIHNoYXJlZCB3aXRoIGNvYXV0aG9ycyxcclxuICAgICAqIGkuZS4sIGFuIGFubm90YXRpb24gdGhhdCBpcyBub3QgcGVyc29uYWxpemVkIHRvIGEgZ2l2ZW4gdXNlci5cclxuICAgICAqL1xyXG4gICAgc2hhcmVhYmxlPzogYm9vbGVhbjtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmaWVsZCBpcyBpbnRlbmRlZCB0byBiZSBleHRlbmRlZCBieSB3b3JrZmxvdyBhdXRob3JzXHJcbiAgICAgKiB0aGF0IHdhbnQgdG8gdXNlIGN1c3RvbSBtZXRhZGF0YSBmb3IgdGhlaXIgYW5ub3RhdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIGN1c3RvbU1ldGFkYXRhPzogSVNjaGVtYU9iamVjdDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQW5ub3RhdGlvbkFjdGl2YXRpb25Db25maWdzIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHR5cGUgbmFtZSBvZiBhbm5vdGF0aW9uLlxyXG4gICAgICovXHJcbiAgICBhbm5vdGF0aW9uVHlwZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmaWVsZCBjb250YWlucyBhbGwgY29uZmlncyBvZiBnaXZlbiBhbm5vdGF0aW9uIHR5cGUuXHJcbiAgICAgKiBUaGUgbGF0ZXIgY29uZmlnIGFycml2ZXMsIHRoZSBsYXRlciBpdCBhcHBlYXJzIGluIHRoZSBhcnJheS5cclxuICAgICAqL1xyXG4gICAgY29uZmlnczogSVNjaGVtYU9iamVjdFtdO1xyXG59XHJcblxyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGFubm90YXRpb25zLiBNYXkgaGF2ZSBvdGhlciBhbm5vdGF0aW9ucyBhcyBjaGlsZHJlbi5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUFubm90YXRpb24gZXh0ZW5kcyBJU2NoZW1hT2JqZWN0IHtcclxuICAgIC8qKlxyXG4gICAgICogVW5pcXVlIElEIG9mIHRoaXMgYW5ub3RhdGlvbi4gTXVzdCBub3QgYmUgcmUtdXNlZCBmb3IgYW4gYW5ub3RhdGlvbiBvbiBhXHJcbiAgICAgKiBkaWZmZXJlbnQgcGFyZW50IChzaW1pbGFybHksIGFubm90YXRpb25zIG1heSBiZSB1cGRhdGVkIG9yIGRlbGV0ZWQsIGJ1dFxyXG4gICAgICogbWF5IG5vdCBiZSBtb3ZlZCB0byBhIGRpZmZlcmVudCBwYXJlbnQpLiBJZiB0aGlzIGlzIG5vdCBzZXQgYnkgdGhlIHdvcmtmbG93XHJcbiAgICAgKiB0aGF0IHByb2R1Y2VkIHRoZSBhbm5vdGF0aW9uLCBpdCB3aWxsIGJlIHNldCB0byBhIHJhbmRvbSBHVUlEIGJ5IHRoZVxyXG4gICAgICogcnVudGltZS4gSWYgYSB3b3JrZmxvdyBwcm9kdWNlcyBhbiBhbm5vdGF0aW9uIGlkZW50aWNhbCB0byBhbiBleGlzdGluZ1xyXG4gICAgICogYW5ub3RhdGlvbiB0aGF0IGRpZmZlcnMgb25seSBieSBJRCwgdGhlIG5ld2VyIGFubm90YXRpb24gd2lsbCBiZSBkaXNjYXJkZWRcclxuICAgICAqIGFuZCBubyB1cGRhdGUgd2lsbCBiZSBzZW50IHRvIHRoZSBjbGllbnQuXHJcbiAgICAgKi9cclxuICAgIGlkPzogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIElEIG9mIHRoZSBvd25lciBvZiB0aGUgYW5ub3RhdGlvbiAoaS5lLiB0aGUgc2VydmljZSBvciB0aGUgZW5naW5lIHRoYXRcclxuICAgICAqIHByb2R1Y2VkIHRoZSBhbm5vdGF0aW9uKVxyXG4gICAgICovXHJcbiAgICBvd25lcklkPzogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhYmxlIGJ1dCBub3QgbmVjZXNzYXJpbHkgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHRoZSByYW5nZSBvZiBjb250ZW50IGNvdmVyZWRcclxuICAgICAqIGJ5IHRoaXMgYW5ub3RhdGlvbi4gVGhlIG1ldGhvZCBieSB3aGljaCB0aGlzIGlzIGdlbmVyYXRlZCBpcyB1bnNwZWNpZmllZFxyXG4gICAgICogYW5kIHdpbGwgc29tZXRpbWVzIHZhcnkgYWNyb3NzIGRpZmZlcmVudCB0eXBlcyBvZiBhbm5vdGF0aW9ucywgYnV0IGl0XHJcbiAgICAgKiBzaG91bGQgZ2VuZXJhbGx5IGJlIHRob3VnaHQgb2YgYXMgYSBoYXNoIG92ZXIgYWxsIHRoZSBjb250ZW50IHdpdGhpbiB0aGVcclxuICAgICAqIFwiaW52YWxpZGF0aW9uIHJhbmdlXCIgb2YgdGhlIGFubm90YXRpb24gKHRoYXQgaXMsIHRoZSBwYXJ0cyBvZiB0aGUgdXNlciBjb250ZW50XHJcbiAgICAgKiBpbiB3aGljaCBhbnkgZWRpdCB3aWxsIHJlbmRlciB0aGUgYW5ub3RhdGlvbiBzdGFsZSwgcG9zc2libHkgaW5jbHVkaW5nIGZvcm1hdHRpbmdcclxuICAgICAqIGFuZCBvdGhlciBtZXRhZGF0YSBpbiBhZGRpdGlvbiB0byBiYXNpYyBjb250ZW50IHN1Y2ggYXMgdGV4dCkuXHJcbiAgICAgKlxyXG4gICAgICogVGhlc2UgbWF5IGJlIHNoYXJlZCBieSBtdWx0aXBsZSBhbm5vdGF0aW9ucyBjb3ZlcmluZyBleGFjdGx5IHRoZSBzYW1lIGNvbnRlbnQuXHJcbiAgICAgKiBSYW5kb20gY29sbGlzaW9ucyBiZXR3ZWVuIGRpZmZlcmVudCByZWdpb25zIG11c3QgYmUgYXZvaWRlZC4gVGhpcyBoYXNoIHNob3VsZFxyXG4gICAgICogaGF2ZSBhIG1pbmltdW0gb2YgOCBieXRlcyBvZiBlbnRyb3B5LlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgaXMgdXNlZCBieSBPZmZpY2UgY2xpZW50cyB0byBpbXBsZW1lbnQgcGVyc2lzdGVuY2UgZmVhdHVyZXMuIElmIGxlZnRcclxuICAgICAqIHVuc2V0LCBzb21lIGZlYXR1cmVzIG1heSBiZSB0dXJuZWQgb2ZmIGZvciB0aGlzIGFubm90YXRpb24uXHJcbiAgICAgKi9cclxuICAgIGludmFsaWRhdGlvbkhhc2g/OiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmZvcm1hdGlvbiBhYm91dCBob3cgdGhlIHVzZXIgaGFzIGludGVyYWN0ZWQgd2l0aCB0aGUgYW5ub3RhdGlvblxyXG4gICAgICogKHNlbnQsIHNlZW4sIHRyaWVkLCBrZXB0KS4gVGhlIHByb3BlcnR5IG5hbWUgaXMgZGVsaWJlcmF0ZWx5XHJcbiAgICAgKiBvYmZ1c2NhdGVkIHRvIHJlZHVjZSB0aGUgc2l6ZSBvZiB0aGUgc2VyaWFsaXplZCBvYmplY3QgYW5kIGlzXHJcbiAgICAgKiBpbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlLCB3aGVyZWFzIHRoZSBtZXRhZGF0YSBwcm9wZXJ0eSBpcyBpbnRlbmRlZFxyXG4gICAgICogZm9yIGV4dGVybmFsIHVzZSBieSB3b3JrZmxvdyBhdXRob3JzLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgcHJvcGVydHkgd2lsbCBoYXZlIHRoZSBmb2xsb3dpbmcgbmFtZXMgaW4gb3VyIHRhcmdldCBsYW5ndWFnZXM6XHJcbiAgICAgKiBAY3BwbmFtZSBNZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBNXz86IEFubm90YXRpb25NZXRhRGF0YTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluZm9ybWF0aW9uIGFib3V0IGhvdyB0aGUgdXNlciBoYXMgaW50ZXJhY3RlZCB3aXRoIHRoZSBhbm5vdGF0aW9uXHJcbiAgICAgKiAoc2VudCwgc2VlbiwgdHJpZWQsIGtlcHQpLiBUaGlzIGlzIGJhY2tlZCBieSB0aGUgTV8gZmllbGQsIGJ1dFxyXG4gICAgICogcHJvdmlkZXMgYSBiZXR0ZXIgcHJvcGVydHkgbmFtZSBmb3Igd29ya2Zsb3cgYXV0aG9ycyB0byB1c2UuXHJcbiAgICAgKi9cclxuICAgIG1ldGFkYXRhPzogQW5ub3RhdGlvbk1ldGFEYXRhO1xyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHNpbXBsZSB0cnVlL2ZhbHNlIGNsYXNzaWZpY2F0aW9uIGFubm90YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24gZXh0ZW5kcyBJQW5ub3RhdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzc2lmaWNhdGlvblxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIGNsYXNzaWZpY2F0aW9uXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHZhbHVlOiBib29sZWFuO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/annotations.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://dev.azure.com/office/ISS/_git/augloop-server?path=%2Fmodules%2Ftypes-core%2Fsrc%2Fannotations.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BinaryClassificationAnnotation = exports.Annotation = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar Annotation = /** @class */ (function () {\r\n    function Annotation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Annotation, this, obj);\r\n    }\r\n    Object.defineProperty(Annotation.prototype, \"metadata\", {\r\n        get: function () { return this.M_; },\r\n        set: function (value) { this.M_ = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Annotation.getTypeName = function () {\r\n        return 'AugLoop_Core_Annotation';\r\n    };\r\n    Annotation.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Annotation type or its inheritor and implements {@link IAnnotation}\r\n     */\r\n    Annotation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Annotation.getTypeName()]);\r\n    };\r\n    Annotation.H_ = { T_: Annotation.getTypeName(), B_: Annotation.getBaseTypes() };\r\n    return Annotation;\r\n}());\r\nexports.Annotation = Annotation;\r\nvar BinaryClassificationAnnotation = /** @class */ (function () {\r\n    function BinaryClassificationAnnotation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(BinaryClassificationAnnotation, this, obj);\r\n    }\r\n    Object.defineProperty(BinaryClassificationAnnotation.prototype, \"metadata\", {\r\n        get: function () { return this.M_; },\r\n        set: function (value) { this.M_ = value; },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    BinaryClassificationAnnotation.getTypeName = function () {\r\n        return 'AugLoop_Core_BinaryClassificationAnnotation';\r\n    };\r\n    BinaryClassificationAnnotation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Annotation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of BinaryClassificationAnnotation type or its inheritor and implements {@link IBinaryClassificationAnnotation}\r\n     */\r\n    BinaryClassificationAnnotation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [BinaryClassificationAnnotation.getTypeName()]);\r\n    };\r\n    BinaryClassificationAnnotation.H_ = { T_: BinaryClassificationAnnotation.getTypeName(), B_: BinaryClassificationAnnotation.getBaseTypes() };\r\n    return BinaryClassificationAnnotation;\r\n}());\r\nexports.BinaryClassificationAnnotation = BinaryClassificationAnnotation;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9hbm5vdGF0aW9ucy5nLnRzP2Q0MTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlGQUFpRjtBQUNqRixtQkFBbUI7QUFDbkIseURBQXlEO0FBQ3pELG1IQUFtSDtBQUNuSCx3RkFBd0Y7QUFDeEYsb0JBQW9CO0FBQ3BCLGlGQUFpRjs7O0FBR2pGLGlKQUFpRDtBQUdqRDtJQVFJLG9CQUFtQixHQUFpQjtRQUNoQyw4QkFBWSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFMRCxzQkFBVyxnQ0FBUTthQUFuQixjQUF3RCxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ3pFLFVBQW9CLEtBQXFDLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDOzs7T0FETjtJQU0zRCxzQkFBVyxHQUF6QjtRQUNJLE9BQU8seUJBQXlCLENBQUM7SUFDckMsQ0FBQztJQUNhLHVCQUFZLEdBQTFCO1FBQ0ksT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRUQ7O09BRUc7SUFDVyxvQkFBUyxHQUF2QixVQUF3QixZQUEyQjtRQUMvQyxPQUFPLDhCQUFZLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQU5zQixhQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQU9oRyxpQkFBQztDQUFBO0FBeEJZLGdDQUFVO0FBMEJ2QjtJQVVJLHdDQUFtQixHQUFxQztRQUNwRCw4QkFBWSxDQUFDLE1BQU0sQ0FBQyw4QkFBOEIsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUxELHNCQUFXLG9EQUFRO2FBQW5CLGNBQXdELE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDekUsVUFBb0IsS0FBcUMsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7OztPQUROO0lBTTNELDBDQUFXLEdBQXpCO1FBQ0ksT0FBTyw2Q0FBNkMsQ0FBQztJQUN6RCxDQUFDO0lBQ2EsMkNBQVksR0FBMUI7UUFDSSxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQ7O09BRUc7SUFDVyx3Q0FBUyxHQUF2QixVQUF3QixZQUEyQjtRQUMvQyxPQUFPLDhCQUFZLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDLDhCQUE4QixDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RyxDQUFDO0lBTnNCLGlDQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsOEJBQThCLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLDhCQUE4QixDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUFPeEkscUNBQUM7Q0FBQTtBQTFCWSx3RUFBOEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9nZW5lcmF0ZWQvYW5ub3RhdGlvbnMuZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyA8YXV0by1nZW5lcmF0ZWQ+XHJcbi8vIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBAYXVnbG9vcC9jb2RlLWdlbiB0b29sLlxyXG4vLyBTb3VyY2U6IGh0dHBzOi8vZGV2LmF6dXJlLmNvbS9vZmZpY2UvSVNTL19naXQvYXVnbG9vcC1zZXJ2ZXI/cGF0aD0lMkZtb2R1bGVzJTJGdHlwZXMtY29yZSUyRnNyYyUyRmFubm90YXRpb25zLnRzXHJcbi8vIENoYW5nZXMgdG8gdGhpcyBmaWxlIG1heSBjYXVzZSBpbmNvcnJlY3QgYmVoYXZpb3IgYW5kIHdpbGwgYmUgbG9zdCB1cG9uIHJlZ2VuZXJhdGlvbi5cclxuLy8gPC9hdXRvLWdlbmVyYXRlZD5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5pbXBvcnQgeyBBbm5vdGF0aW9uTWV0YURhdGEsIElBbm5vdGF0aW9uLCBJQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uIH0gZnJvbSAnLi4vYW5ub3RhdGlvbnMnO1xyXG5pbXBvcnQgeyBTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QuZyc7XHJcbmltcG9ydCB7IElTY2hlbWFPYmplY3QsIFNjaGVtYU9iamVjdEhlYWRlciB9IGZyb20gJy4uL3NjaGVtYS1vYmplY3QnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFubm90YXRpb24gaW1wbGVtZW50cyBJQW5ub3RhdGlvbiB7XHJcbiAgICBwdWJsaWMgaWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgb3duZXJJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpbnZhbGlkYXRpb25IYXNoPzogc3RyaW5nO1xyXG4gICAgcHVibGljIE1fPzogQW5ub3RhdGlvbk1ldGFEYXRhO1xyXG4gICAgcHVibGljIGdldCBtZXRhZGF0YSgpOiBBbm5vdGF0aW9uTWV0YURhdGEgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5NXzsgfVxyXG4gICAgcHVibGljIHNldCBtZXRhZGF0YSh2YWx1ZTogQW5ub3RhdGlvbk1ldGFEYXRhIHwgdW5kZWZpbmVkKSB7IHRoaXMuTV8gPSB2YWx1ZTsgfVxyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUFubm90YXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKEFubm90YXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfQW5ub3RhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEFubm90YXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IEFubm90YXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIEFubm90YXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJQW5ub3RhdGlvbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElBbm5vdGF0aW9uIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtBbm5vdGF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbiBpbXBsZW1lbnRzIElCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24ge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBpZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBvd25lcklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGludmFsaWRhdGlvbkhhc2g/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgTV8/OiBBbm5vdGF0aW9uTWV0YURhdGE7XHJcbiAgICBwdWJsaWMgZ2V0IG1ldGFkYXRhKCk6IEFubm90YXRpb25NZXRhRGF0YSB8IHVuZGVmaW5lZCB7IHJldHVybiB0aGlzLk1fOyB9XHJcbiAgICBwdWJsaWMgc2V0IG1ldGFkYXRhKHZhbHVlOiBBbm5vdGF0aW9uTWV0YURhdGEgfCB1bmRlZmluZWQpIHsgdGhpcy5NXyA9IHZhbHVlOyB9XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfQW5ub3RhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEJpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9ufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSUJpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/generated/operations.g.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/generated/operations.g.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://dev.azure.com/office/ISS/_git/augloop-server?path=%2Fmodules%2Ftypes-core%2Fsrc%2Foperations.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SignalOperation = exports.MicroSyncOperation = exports.DeltaUpdateOperation = exports.VisibilityOperation = exports.FocusOperation = exports.PurgeOperation = exports.DeleteOperation = exports.UpdateOperation = exports.UpdateAnnotationMetaDataOperation = exports.MoveOperation = exports.AddOperation = exports.OperationWithSiblingContext = exports.Operation = exports.ItemChangesDelta = exports.ItemDelta = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar ItemDelta = /** @class */ (function () {\r\n    function ItemDelta(obj) {\r\n        schema_object_g_1.SchemaObject.assign(ItemDelta, this, obj);\r\n    }\r\n    ItemDelta.getTypeName = function () {\r\n        return 'AugLoop_Core_ItemDelta';\r\n    };\r\n    ItemDelta.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of ItemDelta type or its inheritor and implements {@link IItemDelta}\r\n     */\r\n    ItemDelta.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [ItemDelta.getTypeName()]);\r\n    };\r\n    ItemDelta.H_ = { T_: ItemDelta.getTypeName(), B_: ItemDelta.getBaseTypes() };\r\n    return ItemDelta;\r\n}());\r\nexports.ItemDelta = ItemDelta;\r\nvar ItemChangesDelta = /** @class */ (function () {\r\n    function ItemChangesDelta(obj) {\r\n        schema_object_g_1.SchemaObject.assign(ItemChangesDelta, this, obj);\r\n    }\r\n    ItemChangesDelta.getTypeName = function () {\r\n        return 'AugLoop_Core_ItemChangesDelta';\r\n    };\r\n    ItemChangesDelta.getBaseTypes = function () {\r\n        return ['AugLoop_Core_ItemDelta'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of ItemChangesDelta type or its inheritor and implements {@link IItemChangesDelta}\r\n     */\r\n    ItemChangesDelta.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [ItemChangesDelta.getTypeName()]);\r\n    };\r\n    ItemChangesDelta.H_ = { T_: ItemChangesDelta.getTypeName(), B_: ItemChangesDelta.getBaseTypes() };\r\n    return ItemChangesDelta;\r\n}());\r\nexports.ItemChangesDelta = ItemChangesDelta;\r\nvar Operation = /** @class */ (function () {\r\n    function Operation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Operation, this, obj);\r\n    }\r\n    Operation.getTypeName = function () {\r\n        return 'AugLoop_Core_Operation';\r\n    };\r\n    Operation.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Operation type or its inheritor and implements {@link IOperation}\r\n     */\r\n    Operation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Operation.getTypeName()]);\r\n    };\r\n    Operation.H_ = { T_: Operation.getTypeName(), B_: Operation.getBaseTypes() };\r\n    return Operation;\r\n}());\r\nexports.Operation = Operation;\r\nvar OperationWithSiblingContext = /** @class */ (function () {\r\n    function OperationWithSiblingContext(obj) {\r\n        schema_object_g_1.SchemaObject.assign(OperationWithSiblingContext, this, obj);\r\n    }\r\n    OperationWithSiblingContext.getTypeName = function () {\r\n        return 'AugLoop_Core_OperationWithSiblingContext';\r\n    };\r\n    OperationWithSiblingContext.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of OperationWithSiblingContext type or its inheritor and implements {@link IOperationWithSiblingContext}\r\n     */\r\n    OperationWithSiblingContext.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [OperationWithSiblingContext.getTypeName()]);\r\n    };\r\n    OperationWithSiblingContext.H_ = { T_: OperationWithSiblingContext.getTypeName(), B_: OperationWithSiblingContext.getBaseTypes() };\r\n    return OperationWithSiblingContext;\r\n}());\r\nexports.OperationWithSiblingContext = OperationWithSiblingContext;\r\nvar AddOperation = /** @class */ (function () {\r\n    function AddOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(AddOperation, this, obj);\r\n    }\r\n    AddOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_AddOperation';\r\n    };\r\n    AddOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_OperationWithSiblingContext', 'AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of AddOperation type or its inheritor and implements {@link IAddOperation}\r\n     */\r\n    AddOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [AddOperation.getTypeName()]);\r\n    };\r\n    AddOperation.H_ = { T_: AddOperation.getTypeName(), B_: AddOperation.getBaseTypes() };\r\n    return AddOperation;\r\n}());\r\nexports.AddOperation = AddOperation;\r\nvar MoveOperation = /** @class */ (function () {\r\n    function MoveOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(MoveOperation, this, obj);\r\n    }\r\n    MoveOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_MoveOperation';\r\n    };\r\n    MoveOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_OperationWithSiblingContext', 'AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of MoveOperation type or its inheritor and implements {@link IMoveOperation}\r\n     */\r\n    MoveOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [MoveOperation.getTypeName()]);\r\n    };\r\n    MoveOperation.H_ = { T_: MoveOperation.getTypeName(), B_: MoveOperation.getBaseTypes() };\r\n    return MoveOperation;\r\n}());\r\nexports.MoveOperation = MoveOperation;\r\nvar UpdateAnnotationMetaDataOperation = /** @class */ (function () {\r\n    function UpdateAnnotationMetaDataOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(UpdateAnnotationMetaDataOperation, this, obj);\r\n    }\r\n    UpdateAnnotationMetaDataOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_UpdateAnnotationMetaDataOperation';\r\n    };\r\n    UpdateAnnotationMetaDataOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of UpdateAnnotationMetaDataOperation type or its inheritor and implements {@link IUpdateAnnotationMetaDataOperation}\r\n     */\r\n    UpdateAnnotationMetaDataOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [UpdateAnnotationMetaDataOperation.getTypeName()]);\r\n    };\r\n    UpdateAnnotationMetaDataOperation.H_ = { T_: UpdateAnnotationMetaDataOperation.getTypeName(), B_: UpdateAnnotationMetaDataOperation.getBaseTypes() };\r\n    return UpdateAnnotationMetaDataOperation;\r\n}());\r\nexports.UpdateAnnotationMetaDataOperation = UpdateAnnotationMetaDataOperation;\r\nvar UpdateOperation = /** @class */ (function () {\r\n    function UpdateOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(UpdateOperation, this, obj);\r\n    }\r\n    UpdateOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_UpdateOperation';\r\n    };\r\n    UpdateOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of UpdateOperation type or its inheritor and implements {@link IUpdateOperation}\r\n     */\r\n    UpdateOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [UpdateOperation.getTypeName()]);\r\n    };\r\n    UpdateOperation.H_ = { T_: UpdateOperation.getTypeName(), B_: UpdateOperation.getBaseTypes() };\r\n    return UpdateOperation;\r\n}());\r\nexports.UpdateOperation = UpdateOperation;\r\nvar DeleteOperation = /** @class */ (function () {\r\n    function DeleteOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(DeleteOperation, this, obj);\r\n    }\r\n    DeleteOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_DeleteOperation';\r\n    };\r\n    DeleteOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of DeleteOperation type or its inheritor and implements {@link IDeleteOperation}\r\n     */\r\n    DeleteOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [DeleteOperation.getTypeName()]);\r\n    };\r\n    DeleteOperation.H_ = { T_: DeleteOperation.getTypeName(), B_: DeleteOperation.getBaseTypes() };\r\n    return DeleteOperation;\r\n}());\r\nexports.DeleteOperation = DeleteOperation;\r\nvar PurgeOperation = /** @class */ (function () {\r\n    function PurgeOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(PurgeOperation, this, obj);\r\n    }\r\n    PurgeOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_PurgeOperation';\r\n    };\r\n    PurgeOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of PurgeOperation type or its inheritor and implements {@link IPurgeOperation}\r\n     */\r\n    PurgeOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [PurgeOperation.getTypeName()]);\r\n    };\r\n    PurgeOperation.H_ = { T_: PurgeOperation.getTypeName(), B_: PurgeOperation.getBaseTypes() };\r\n    return PurgeOperation;\r\n}());\r\nexports.PurgeOperation = PurgeOperation;\r\nvar FocusOperation = /** @class */ (function () {\r\n    function FocusOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(FocusOperation, this, obj);\r\n    }\r\n    FocusOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_FocusOperation';\r\n    };\r\n    FocusOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of FocusOperation type or its inheritor and implements {@link IFocusOperation}\r\n     */\r\n    FocusOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [FocusOperation.getTypeName()]);\r\n    };\r\n    FocusOperation.H_ = { T_: FocusOperation.getTypeName(), B_: FocusOperation.getBaseTypes() };\r\n    return FocusOperation;\r\n}());\r\nexports.FocusOperation = FocusOperation;\r\nvar VisibilityOperation = /** @class */ (function () {\r\n    function VisibilityOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(VisibilityOperation, this, obj);\r\n    }\r\n    VisibilityOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_VisibilityOperation';\r\n    };\r\n    VisibilityOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of VisibilityOperation type or its inheritor and implements {@link IVisibilityOperation}\r\n     */\r\n    VisibilityOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [VisibilityOperation.getTypeName()]);\r\n    };\r\n    VisibilityOperation.H_ = { T_: VisibilityOperation.getTypeName(), B_: VisibilityOperation.getBaseTypes() };\r\n    return VisibilityOperation;\r\n}());\r\nexports.VisibilityOperation = VisibilityOperation;\r\nvar DeltaUpdateOperation = /** @class */ (function () {\r\n    function DeltaUpdateOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(DeltaUpdateOperation, this, obj);\r\n    }\r\n    DeltaUpdateOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_DeltaUpdateOperation';\r\n    };\r\n    DeltaUpdateOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of DeltaUpdateOperation type or its inheritor and implements {@link IDeltaUpdateOperation}\r\n     */\r\n    DeltaUpdateOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [DeltaUpdateOperation.getTypeName()]);\r\n    };\r\n    DeltaUpdateOperation.H_ = { T_: DeltaUpdateOperation.getTypeName(), B_: DeltaUpdateOperation.getBaseTypes() };\r\n    return DeltaUpdateOperation;\r\n}());\r\nexports.DeltaUpdateOperation = DeltaUpdateOperation;\r\nvar MicroSyncOperation = /** @class */ (function () {\r\n    function MicroSyncOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(MicroSyncOperation, this, obj);\r\n    }\r\n    MicroSyncOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_MicroSyncOperation';\r\n    };\r\n    MicroSyncOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of MicroSyncOperation type or its inheritor and implements {@link IMicroSyncOperation}\r\n     */\r\n    MicroSyncOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [MicroSyncOperation.getTypeName()]);\r\n    };\r\n    MicroSyncOperation.H_ = { T_: MicroSyncOperation.getTypeName(), B_: MicroSyncOperation.getBaseTypes() };\r\n    return MicroSyncOperation;\r\n}());\r\nexports.MicroSyncOperation = MicroSyncOperation;\r\nvar SignalOperation = /** @class */ (function () {\r\n    function SignalOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(SignalOperation, this, obj);\r\n    }\r\n    SignalOperation.getTypeName = function () {\r\n        return 'AugLoop_Signals_SignalOperation';\r\n    };\r\n    SignalOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of SignalOperation type or its inheritor and implements {@link ISignalOperation}\r\n     */\r\n    SignalOperation.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [SignalOperation.getTypeName()]);\r\n    };\r\n    SignalOperation.H_ = { T_: SignalOperation.getTypeName(), B_: SignalOperation.getBaseTypes() };\r\n    return SignalOperation;\r\n}());\r\nexports.SignalOperation = SignalOperation;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9vcGVyYXRpb25zLmcudHM/MDJjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUZBQWlGO0FBQ2pGLG1CQUFtQjtBQUNuQix5REFBeUQ7QUFDekQsa0hBQWtIO0FBQ2xILHdGQUF3RjtBQUN4RixvQkFBb0I7QUFDcEIsaUZBQWlGOzs7QUFHakYsaUpBQWlEO0FBSWpEO0lBRUksbUJBQW1CLEdBQWdCO1FBQy9CLDhCQUFZLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUNhLHFCQUFXLEdBQXpCO1FBQ0ksT0FBTyx3QkFBd0IsQ0FBQztJQUNwQyxDQUFDO0lBQ2Esc0JBQVksR0FBMUI7UUFDSSxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRDs7T0FFRztJQUNXLG1CQUFTLEdBQXZCLFVBQXdCLFlBQTJCO1FBQy9DLE9BQU8sOEJBQVksQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBTnNCLFlBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxTQUFTLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBTzlGLGdCQUFDO0NBQUE7QUFsQlksOEJBQVM7QUFvQnRCO0lBR0ksMEJBQW1CLEdBQXVCO1FBQ3RDLDhCQUFZLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBQ2EsNEJBQVcsR0FBekI7UUFDSSxPQUFPLCtCQUErQixDQUFDO0lBQzNDLENBQUM7SUFDYSw2QkFBWSxHQUExQjtRQUNJLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRDs7T0FFRztJQUNXLDBCQUFTLEdBQXZC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RUFBRSxlQUFlLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQU8xRyxzQkFBQztDQUFBO0FBckJZLDBDQUFlIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvZ2VuZXJhdGVkL29wZXJhdGlvbnMuZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyA8YXV0by1nZW5lcmF0ZWQ+XHJcbi8vIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBAYXVnbG9vcC9jb2RlLWdlbiB0b29sLlxyXG4vLyBTb3VyY2U6IGh0dHBzOi8vZGV2LmF6dXJlLmNvbS9vZmZpY2UvSVNTL19naXQvYXVnbG9vcC1zZXJ2ZXI/cGF0aD0lMkZtb2R1bGVzJTJGdHlwZXMtY29yZSUyRnNyYyUyRm9wZXJhdGlvbnMudHNcclxuLy8gQ2hhbmdlcyB0byB0aGlzIGZpbGUgbWF5IGNhdXNlIGluY29ycmVjdCBiZWhhdmlvciBhbmQgd2lsbCBiZSBsb3N0IHVwb24gcmVnZW5lcmF0aW9uLlxyXG4vLyA8L2F1dG8tZ2VuZXJhdGVkPlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmltcG9ydCB7IElBZGRPcGVyYXRpb24sIElEZWxldGVPcGVyYXRpb24sIElEZWx0YVVwZGF0ZU9wZXJhdGlvbiwgSUZvY3VzT3BlcmF0aW9uLCBJSXRlbUNoYW5nZXNEZWx0YSwgSUl0ZW1EZWx0YSwgSU1pY3JvU3luY09wZXJhdGlvbiwgSU1vdmVPcGVyYXRpb24sIElPcGVyYXRpb24sIElPcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQsIElQdXJnZU9wZXJhdGlvbiwgSVNpZ25hbE9wZXJhdGlvbiwgSVVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbiwgSVVwZGF0ZU9wZXJhdGlvbiwgSVZpc2liaWxpdHlPcGVyYXRpb24sIEl0ZW0sIEl0ZW1DaGFuZ2VzLCBJdGVtUGF0aCB9IGZyb20gJy4uL29wZXJhdGlvbnMnO1xyXG5pbXBvcnQgeyBTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QuZyc7XHJcbmltcG9ydCB7IElTY2hlbWFPYmplY3QsIFNjaGVtYU9iamVjdEhlYWRlciB9IGZyb20gJy4uL3NjaGVtYS1vYmplY3QnO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uTWV0YURhdGEgfSBmcm9tICcuLi9hbm5vdGF0aW9ucyc7XHJcblxyXG5leHBvcnQgY2xhc3MgSXRlbURlbHRhIGltcGxlbWVudHMgSUl0ZW1EZWx0YSB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJSXRlbURlbHRhKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihJdGVtRGVsdGEsIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfSXRlbURlbHRhJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogSXRlbURlbHRhLmdldFR5cGVOYW1lKCksIEJfOiBJdGVtRGVsdGEuZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIEl0ZW1EZWx0YSB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElJdGVtRGVsdGF9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJSXRlbURlbHRhIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtJdGVtRGVsdGEuZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSXRlbUNoYW5nZXNEZWx0YSBpbXBsZW1lbnRzIElJdGVtQ2hhbmdlc0RlbHRhIHtcclxuICAgIHB1YmxpYyBjaGFuZ2VzOiBJdGVtQ2hhbmdlc1tdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUl0ZW1DaGFuZ2VzRGVsdGEpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKEl0ZW1DaGFuZ2VzRGVsdGEsIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfSXRlbUNoYW5nZXNEZWx0YSc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX0l0ZW1EZWx0YSddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEl0ZW1DaGFuZ2VzRGVsdGEuZ2V0VHlwZU5hbWUoKSwgQl86IEl0ZW1DaGFuZ2VzRGVsdGEuZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIEl0ZW1DaGFuZ2VzRGVsdGEgdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJSXRlbUNoYW5nZXNEZWx0YX1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElJdGVtQ2hhbmdlc0RlbHRhIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtJdGVtQ2hhbmdlc0RlbHRhLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbiBpbXBsZW1lbnRzIElPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogT3BlcmF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIE9wZXJhdGlvbiB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElPcGVyYXRpb259XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJT3BlcmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0IGltcGxlbWVudHMgSU9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCB7XHJcbiAgICBwdWJsaWMgcHJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIG5leHRJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSU9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCkge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX09wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IE9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dC5nZXRUeXBlTmFtZSgpLCBCXzogT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBPcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQgdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0fVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSU9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFkZE9wZXJhdGlvbiBpbXBsZW1lbnRzIElBZGRPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHByZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBuZXh0SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcGFyZW50UmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXRlbXM6IEl0ZW1bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElBZGRPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKEFkZE9wZXJhdGlvbiwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9BZGRPcGVyYXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQnLCAnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEFkZE9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogQWRkT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBBZGRPcGVyYXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJQWRkT3BlcmF0aW9ufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSUFkZE9wZXJhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbQWRkT3BlcmF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVPcGVyYXRpb24gaW1wbGVtZW50cyBJTW92ZU9wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgcHJldlBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHByZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBuZXh0SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcGFyZW50UmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXRlbXM6IEl0ZW1bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElNb3ZlT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihNb3ZlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX01vdmVPcGVyYXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQnLCAnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IE1vdmVPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IE1vdmVPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIE1vdmVPcGVyYXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJTW92ZU9wZXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElNb3ZlT3BlcmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtNb3ZlT3BlcmF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbiBpbXBsZW1lbnRzIElVcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIE1fOiBBbm5vdGF0aW9uTWV0YURhdGE7XHJcbiAgICBwdWJsaWMgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcGFyZW50UmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXRlbXM6IEl0ZW1bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElVcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbiwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9VcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb24nXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBVcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IFVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgVXBkYXRlQW5ub3RhdGlvbk1ldGFEYXRhT3BlcmF0aW9uIHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSVVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElVcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW1VwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBVcGRhdGVPcGVyYXRpb24gaW1wbGVtZW50cyBJVXBkYXRlT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSVVwZGF0ZU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oVXBkYXRlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1VwZGF0ZU9wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFVwZGF0ZU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogVXBkYXRlT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBVcGRhdGVPcGVyYXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJVXBkYXRlT3BlcmF0aW9ufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSVVwZGF0ZU9wZXJhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbVXBkYXRlT3BlcmF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERlbGV0ZU9wZXJhdGlvbiBpbXBsZW1lbnRzIElEZWxldGVPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJRGVsZXRlT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihEZWxldGVPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfRGVsZXRlT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogRGVsZXRlT3BlcmF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBEZWxldGVPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIERlbGV0ZU9wZXJhdGlvbiB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElEZWxldGVPcGVyYXRpb259XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJRGVsZXRlT3BlcmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtEZWxldGVPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHVyZ2VPcGVyYXRpb24gaW1wbGVtZW50cyBJUHVyZ2VPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJUHVyZ2VPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFB1cmdlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1B1cmdlT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogUHVyZ2VPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IFB1cmdlT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBQdXJnZU9wZXJhdGlvbiB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElQdXJnZU9wZXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElQdXJnZU9wZXJhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbUHVyZ2VPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRm9jdXNPcGVyYXRpb24gaW1wbGVtZW50cyBJRm9jdXNPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIGlzRm9jdXNlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUZvY3VzT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihGb2N1c09wZXJhdGlvbiwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9Gb2N1c09wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEZvY3VzT3BlcmF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBGb2N1c09wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgRm9jdXNPcGVyYXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJRm9jdXNPcGVyYXRpb259XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJRm9jdXNPcGVyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW0ZvY3VzT3BlcmF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpc2liaWxpdHlPcGVyYXRpb24gaW1wbGVtZW50cyBJVmlzaWJpbGl0eU9wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgaXNWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJVmlzaWJpbGl0eU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oVmlzaWJpbGl0eU9wZXJhdGlvbiwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9WaXNpYmlsaXR5T3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogVmlzaWJpbGl0eU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogVmlzaWJpbGl0eU9wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgVmlzaWJpbGl0eU9wZXJhdGlvbiB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElWaXNpYmlsaXR5T3BlcmF0aW9ufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSVZpc2liaWxpdHlPcGVyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW1Zpc2liaWxpdHlPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGVsdGFVcGRhdGVPcGVyYXRpb24gaW1wbGVtZW50cyBJRGVsdGFVcGRhdGVPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJRGVsdGFVcGRhdGVPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKERlbHRhVXBkYXRlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0RlbHRhVXBkYXRlT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogRGVsdGFVcGRhdGVPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IERlbHRhVXBkYXRlT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBEZWx0YVVwZGF0ZU9wZXJhdGlvbiB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElEZWx0YVVwZGF0ZU9wZXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElEZWx0YVVwZGF0ZU9wZXJhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbRGVsdGFVcGRhdGVPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWljcm9TeW5jT3BlcmF0aW9uIGltcGxlbWVudHMgSU1pY3JvU3luY09wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2VxPzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9wVHlwZT86IHN0cmluZztcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSU1pY3JvU3luY09wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oTWljcm9TeW5jT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX01pY3JvU3luY09wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IE1pY3JvU3luY09wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogTWljcm9TeW5jT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBNaWNyb1N5bmNPcGVyYXRpb24gdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJTWljcm9TeW5jT3BlcmF0aW9ufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSU1pY3JvU3luY09wZXJhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbTWljcm9TeW5jT3BlcmF0aW9uLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNpZ25hbE9wZXJhdGlvbiBpbXBsZW1lbnRzIElTaWduYWxPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJU2lnbmFsT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihTaWduYWxPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX1NpZ25hbHNfU2lnbmFsT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogU2lnbmFsT3BlcmF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBTaWduYWxPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIFNpZ25hbE9wZXJhdGlvbiB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElTaWduYWxPcGVyYXRpb259XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJU2lnbmFsT3BlcmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtTaWduYWxPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/operations.g.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://dev.azure.com/office/ISS/_git/augloop-server?path=%2Fmodules%2Ftypes-core%2Fsrc%2Fschema-object.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SchemaObject = void 0;\r\nvar SchemaObject = /** @class */ (function () {\r\n    function SchemaObject(obj) {\r\n        SchemaObject.assign(SchemaObject, this, obj);\r\n    }\r\n    SchemaObject.getTypeName = function () {\r\n        return 'AugLoop_Core_SchemaObject';\r\n    };\r\n    SchemaObject.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    // Get type name for the given ISchemaObject instance.\r\n    // Example:\r\n    //   SchemaObject.getTypeNameFor(new Foo()) === 'Foo'\r\n    SchemaObject.getTypeNameFor = function (obj) {\r\n        return (obj && obj.H_) ? obj.H_.T_ : undefined;\r\n    };\r\n    // Get base types for the given ISchemaObject instance.\r\n    // Example:\r\n    //   SchemaObject.getBaseTypesFor(new Foo()) === ['Bar', 'Baz']\r\n    SchemaObject.getBaseTypesFor = function (obj) {\r\n        return (obj && obj.H_ && obj.H_.B_) ? obj.H_.B_ : [];\r\n    };\r\n    // Get all types (direct and base) for the given ISchemaObject instance.\r\n    // Example:\r\n    //   SchemaObject.getTypesFor(new Foo()) == ['Foo', 'Bar', 'Baz']\r\n    SchemaObject.getAllTypesFor = function (obj) {\r\n        var typeName = SchemaObject.getTypeNameFor(obj);\r\n        return typeName ? __spreadArray([typeName], SchemaObject.getBaseTypesFor(obj), true) : [];\r\n    };\r\n    // Returns true if the given object has any of the types in the given array,\r\n    // or if that array is undefined or empty.\r\n    SchemaObject.matchesTypesFor = function (obj, types) {\r\n        if (!Array.isArray(types) || types.length === 0) {\r\n            // Nothing passed in means \"match everything\"\r\n            return true;\r\n        }\r\n        var objType = SchemaObject.getTypeNameFor(obj);\r\n        var baseTypes = SchemaObject.getBaseTypesFor(obj);\r\n        for (var _i = 0, types_1 = types; _i < types_1.length; _i++) {\r\n            var typeName = types_1[_i];\r\n            if (typeName === objType) {\r\n                return true;\r\n            }\r\n            if (baseTypes.indexOf(typeName) >= 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    SchemaObject.assign = function (ctr, target, source) {\r\n        // Assign source properties to target\r\n        if (source) {\r\n            for (var _i = 0, _a = Object.keys(source); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                target[key] = source[key];\r\n            }\r\n        }\r\n        // Cast away readonly to set the header\r\n        target.H_ = ctr.H_;\r\n        // Return target instance\r\n        return target;\r\n    };\r\n    SchemaObject.H_ = { T_: SchemaObject.getTypeName(), B_: SchemaObject.getBaseTypes() };\r\n    return SchemaObject;\r\n}());\r\nexports.SchemaObject = SchemaObject;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9zY2hlbWEtb2JqZWN0LmcudHM/YjJhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUZBQWlGO0FBQ2pGLG1CQUFtQjtBQUNuQix5REFBeUQ7QUFDekQscUhBQXFIO0FBQ3JILHdGQUF3RjtBQUN4RixvQkFBb0I7QUFDcEIsaUZBQWlGOzs7Ozs7Ozs7Ozs7QUFLakY7SUFFSSxzQkFBbUIsR0FBbUI7UUFDbEMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFDYSx3QkFBVyxHQUF6QjtRQUNJLE9BQU8sMkJBQTJCLENBQUM7SUFDdkMsQ0FBQztJQUNhLHlCQUFZLEdBQTFCO1FBQ0ksT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBR0Qsc0RBQXNEO0lBQ3RELFdBQVc7SUFDWCxxREFBcUQ7SUFDdkMsMkJBQWMsR0FBNUIsVUFBNkIsR0FBa0I7UUFDM0MsT0FBTyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDbkQsQ0FBQztJQUVELHVEQUF1RDtJQUN2RCxXQUFXO0lBQ1gsK0RBQStEO0lBQ2pELDRCQUFlLEdBQTdCLFVBQThCLEdBQWtCO1FBQzVDLE9BQU8sQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3pELENBQUM7SUFFRCx3RUFBd0U7SUFDeEUsV0FBVztJQUNYLGlFQUFpRTtJQUNuRCwyQkFBYyxHQUE1QixVQUE2QixHQUFrQjtRQUMzQyxJQUFNLFFBQVEsR0FBVyxZQUFZLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELE9BQU8sUUFBUSxDQUFDLENBQUMsZ0JBQUUsUUFBUSxHQUFLLFlBQVksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLFFBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUM1RSxDQUFDO0lBRUQsNEVBQTRFO0lBQzVFLDBDQUEwQztJQUM1Qiw0QkFBZSxHQUE3QixVQUE4QixHQUFrQixFQUFFLEtBQWU7UUFDN0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDN0MsNkNBQTZDO1lBQzdDLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxJQUFNLE9BQU8sR0FBRyxZQUFZLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pELElBQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEQsS0FBdUIsVUFBSyxFQUFMLGVBQUssRUFBTCxtQkFBSyxFQUFMLElBQUssRUFBRTtZQUF6QixJQUFNLFFBQVE7WUFDZixJQUFJLFFBQVEsS0FBSyxPQUFPLEVBQUU7Z0JBQ3RCLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7WUFDRCxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNsQyxPQUFPLElBQUksQ0FBQzthQUNmO1NBQ0o7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRWEsbUJBQU0sR0FBcEIsVUFBcUIsR0FBNkIsRUFBRSxNQUFxQixFQUFFLE1BQXNCO1FBQzdGLHFDQUFxQztRQUNyQyxJQUFJLE1BQU0sRUFBRTtZQUNSLEtBQWtCLFVBQW1CLEVBQW5CLFdBQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQW5CLGNBQW1CLEVBQW5CLElBQW1CLEVBQUU7Z0JBQWxDLElBQU0sR0FBRztnQkFDVixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzdCO1NBQ0o7UUFDRCx1Q0FBdUM7UUFDdEMsTUFBcUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNuRix5QkFBeUI7UUFDekIsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQXZEc0IsZUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFlBQVksQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsWUFBWSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUF3RHBHLG1CQUFDO0NBQUE7QUFuRVksb0NBQVkiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9nZW5lcmF0ZWQvc2NoZW1hLW9iamVjdC5nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gVGhpcyBjb2RlIHdhcyBnZW5lcmF0ZWQgYnkgdGhlIEBhdWdsb29wL2NvZGUtZ2VuIHRvb2wuXHJcbi8vIFNvdXJjZTogaHR0cHM6Ly9kZXYuYXp1cmUuY29tL29mZmljZS9JU1MvX2dpdC9hdWdsb29wLXNlcnZlcj9wYXRoPSUyRm1vZHVsZXMlMkZ0eXBlcy1jb3JlJTJGc3JjJTJGc2NoZW1hLW9iamVjdC50c1xyXG4vLyBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yIGFuZCB3aWxsIGJlIGxvc3QgdXBvbiByZWdlbmVyYXRpb24uXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuaW1wb3J0IHsgSVNjaGVtYU9iamVjdCwgU2NoZW1hT2JqZWN0SGVhZGVyIH0gZnJvbSAnLi4vc2NoZW1hLW9iamVjdCc7XHJcbmltcG9ydCB7IElTY2hlbWFPYmplY3RDb25zdHJ1Y3RvciB9IGZyb20gJy4uL3NjaGVtYS1vYmplY3QtY29uc3RydWN0b3InO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjaGVtYU9iamVjdCBpbXBsZW1lbnRzIElTY2hlbWFPYmplY3Qge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSVNjaGVtYU9iamVjdCkge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oU2NoZW1hT2JqZWN0LCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1NjaGVtYU9iamVjdCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFNjaGVtYU9iamVjdC5nZXRUeXBlTmFtZSgpLCBCXzogU2NoZW1hT2JqZWN0LmdldEJhc2VUeXBlcygpIH07XHJcblxyXG4gICAgLy8gR2V0IHR5cGUgbmFtZSBmb3IgdGhlIGdpdmVuIElTY2hlbWFPYmplY3QgaW5zdGFuY2UuXHJcbiAgICAvLyBFeGFtcGxlOlxyXG4gICAgLy8gICBTY2hlbWFPYmplY3QuZ2V0VHlwZU5hbWVGb3IobmV3IEZvbygpKSA9PT0gJ0ZvbydcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWVGb3Iob2JqOiBJU2NoZW1hT2JqZWN0KTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gKG9iaiAmJiBvYmouSF8pID8gb2JqLkhfLlRfIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBiYXNlIHR5cGVzIGZvciB0aGUgZ2l2ZW4gSVNjaGVtYU9iamVjdCBpbnN0YW5jZS5cclxuICAgIC8vIEV4YW1wbGU6XHJcbiAgICAvLyAgIFNjaGVtYU9iamVjdC5nZXRCYXNlVHlwZXNGb3IobmV3IEZvbygpKSA9PT0gWydCYXInLCAnQmF6J11cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzRm9yKG9iajogSVNjaGVtYU9iamVjdCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gKG9iaiAmJiBvYmouSF8gJiYgb2JqLkhfLkJfKSA/IG9iai5IXy5CXyA6IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBhbGwgdHlwZXMgKGRpcmVjdCBhbmQgYmFzZSkgZm9yIHRoZSBnaXZlbiBJU2NoZW1hT2JqZWN0IGluc3RhbmNlLlxyXG4gICAgLy8gRXhhbXBsZTpcclxuICAgIC8vICAgU2NoZW1hT2JqZWN0LmdldFR5cGVzRm9yKG5ldyBGb28oKSkgPT0gWydGb28nLCAnQmFyJywgJ0JheiddXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEFsbFR5cGVzRm9yKG9iajogSVNjaGVtYU9iamVjdCk6IHN0cmluZ1tdIHtcclxuICAgICAgICBjb25zdCB0eXBlTmFtZTogc3RyaW5nID0gU2NoZW1hT2JqZWN0LmdldFR5cGVOYW1lRm9yKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVOYW1lID8gW3R5cGVOYW1lLCAuLi5TY2hlbWFPYmplY3QuZ2V0QmFzZVR5cGVzRm9yKG9iaildIDogW107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGFueSBvZiB0aGUgdHlwZXMgaW4gdGhlIGdpdmVuIGFycmF5LFxyXG4gICAgLy8gb3IgaWYgdGhhdCBhcnJheSBpcyB1bmRlZmluZWQgb3IgZW1wdHkuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hdGNoZXNUeXBlc0ZvcihvYmo6IElTY2hlbWFPYmplY3QsIHR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlcykgfHwgdHlwZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgcGFzc2VkIGluIG1lYW5zIFwibWF0Y2ggZXZlcnl0aGluZ1wiXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvYmpUeXBlID0gU2NoZW1hT2JqZWN0LmdldFR5cGVOYW1lRm9yKG9iaik7XHJcbiAgICAgICAgY29uc3QgYmFzZVR5cGVzID0gU2NoZW1hT2JqZWN0LmdldEJhc2VUeXBlc0ZvcihvYmopO1xyXG4gICAgICAgIGZvciAoY29uc3QgdHlwZU5hbWUgb2YgdHlwZXMpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVOYW1lID09PSBvYmpUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYmFzZVR5cGVzLmluZGV4T2YodHlwZU5hbWUpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzc2lnbihjdHI6IElTY2hlbWFPYmplY3RDb25zdHJ1Y3RvciwgdGFyZ2V0OiBJU2NoZW1hT2JqZWN0LCBzb3VyY2U/OiBJU2NoZW1hT2JqZWN0KSB7XHJcbiAgICAgICAgLy8gQXNzaWduIHNvdXJjZSBwcm9wZXJ0aWVzIHRvIHRhcmdldFxyXG4gICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc291cmNlKSkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDYXN0IGF3YXkgcmVhZG9ubHkgdG8gc2V0IHRoZSBoZWFkZXJcclxuICAgICAgICAodGFyZ2V0IGFzIHsgLXJlYWRvbmx5IFtLIGluIGtleW9mIElTY2hlbWFPYmplY3RdOiBJU2NoZW1hT2JqZWN0W0tdIH0pLkhfID0gY3RyLkhfO1xyXG4gICAgICAgIC8vIFJldHVybiB0YXJnZXQgaW5zdGFuY2VcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/generated/signals.g.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/generated/signals.g.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://dev.azure.com/office/ISS/_git/augloop-server?path=%2Fmodules%2Ftypes-core%2Fsrc%2Fsignals.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Signal = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar Signal = /** @class */ (function () {\r\n    function Signal(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Signal, this, obj);\r\n    }\r\n    Signal.getTypeName = function () {\r\n        return 'AugLoop_Signals_Signal';\r\n    };\r\n    Signal.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Signal type or its inheritor and implements {@link ISignal}\r\n     */\r\n    Signal.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Signal.getTypeName()]);\r\n    };\r\n    Signal.H_ = { T_: Signal.getTypeName(), B_: Signal.getBaseTypes() };\r\n    return Signal;\r\n}());\r\nexports.Signal = Signal;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9zaWduYWxzLmcudHM/ODhjMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUZBQWlGO0FBQ2pGLG1CQUFtQjtBQUNuQix5REFBeUQ7QUFDekQsK0dBQStHO0FBQy9HLHdGQUF3RjtBQUN4RixvQkFBb0I7QUFDcEIsaUZBQWlGOzs7QUFHakYsaUpBQWlEO0FBR2pEO0lBSUksZ0JBQW1CLEdBQWE7UUFDNUIsOEJBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBQ2Esa0JBQVcsR0FBekI7UUFDSSxPQUFPLHdCQUF3QixDQUFDO0lBQ3BDLENBQUM7SUFDYSxtQkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVEOztPQUVHO0lBQ1csZ0JBQVMsR0FBdkIsVUFBd0IsWUFBMkI7UUFDL0MsT0FBTyw4QkFBWSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFOc0IsU0FBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUFPeEYsYUFBQztDQUFBO0FBcEJZLHdCQUFNIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvZ2VuZXJhdGVkL3NpZ25hbHMuZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyA8YXV0by1nZW5lcmF0ZWQ+XHJcbi8vIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBAYXVnbG9vcC9jb2RlLWdlbiB0b29sLlxyXG4vLyBTb3VyY2U6IGh0dHBzOi8vZGV2LmF6dXJlLmNvbS9vZmZpY2UvSVNTL19naXQvYXVnbG9vcC1zZXJ2ZXI/cGF0aD0lMkZtb2R1bGVzJTJGdHlwZXMtY29yZSUyRnNyYyUyRnNpZ25hbHMudHNcclxuLy8gQ2hhbmdlcyB0byB0aGlzIGZpbGUgbWF5IGNhdXNlIGluY29ycmVjdCBiZWhhdmlvciBhbmQgd2lsbCBiZSBsb3N0IHVwb24gcmVnZW5lcmF0aW9uLlxyXG4vLyA8L2F1dG8tZ2VuZXJhdGVkPlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmltcG9ydCB7IElTaWduYWwgfSBmcm9tICcuLi9zaWduYWxzJztcclxuaW1wb3J0IHsgU2NoZW1hT2JqZWN0IH0gZnJvbSAnLi9zY2hlbWEtb2JqZWN0LmcnO1xyXG5pbXBvcnQgeyBJU2NoZW1hT2JqZWN0LCBTY2hlbWFPYmplY3RIZWFkZXIgfSBmcm9tICcuLi9zY2hlbWEtb2JqZWN0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaWduYWwgaW1wbGVtZW50cyBJU2lnbmFsIHtcclxuICAgIHB1YmxpYyB0YXJnZXRPYmplY3Q/OiBJU2NoZW1hT2JqZWN0O1xyXG4gICAgcHVibGljIHRpbWVzdGFtcD86IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElTaWduYWwpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFNpZ25hbCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfU2lnbmFsc19TaWduYWwnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBTaWduYWwuZ2V0VHlwZU5hbWUoKSwgQl86IFNpZ25hbC5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgU2lnbmFsIHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSVNpZ25hbH1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElTaWduYWwge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW1NpZ25hbC5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/signals.g.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js":
/*!************************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://dev.azure.com/office/ISS/_git/augloop-server?path=%2Fmodules%2Ftypes-core%2Fsrc%2Ftiles.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TenantContextHolder = exports.UserContextHolder = exports.ContextHolder = exports.DynamicContext = exports.GridNeighborhoodContext = exports.GridCell = exports.SubDocument = exports.Document = exports.Session = exports.TileGroup = exports.Binary = exports.Blob = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar Blob = /** @class */ (function () {\r\n    function Blob(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Blob, this, obj);\r\n    }\r\n    Blob.getTypeName = function () {\r\n        return 'AugLoop_Core_Blob';\r\n    };\r\n    Blob.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Blob type or its inheritor and implements {@link IBlob}\r\n     */\r\n    Blob.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Blob.getTypeName()]);\r\n    };\r\n    Blob.H_ = { T_: Blob.getTypeName(), B_: Blob.getBaseTypes() };\r\n    return Blob;\r\n}());\r\nexports.Blob = Blob;\r\nvar Binary = /** @class */ (function () {\r\n    function Binary(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Binary, this, obj);\r\n    }\r\n    Binary.getTypeName = function () {\r\n        return 'AugLoop_Core_Binary';\r\n    };\r\n    Binary.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Binary type or its inheritor and implements {@link IBinary}\r\n     */\r\n    Binary.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Binary.getTypeName()]);\r\n    };\r\n    Binary.H_ = { T_: Binary.getTypeName(), B_: Binary.getBaseTypes() };\r\n    return Binary;\r\n}());\r\nexports.Binary = Binary;\r\nvar TileGroup = /** @class */ (function () {\r\n    function TileGroup(obj) {\r\n        schema_object_g_1.SchemaObject.assign(TileGroup, this, obj);\r\n    }\r\n    TileGroup.getTypeName = function () {\r\n        return 'AugLoop_Core_TileGroup';\r\n    };\r\n    TileGroup.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of TileGroup type or its inheritor and implements {@link ITileGroup}\r\n     */\r\n    TileGroup.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [TileGroup.getTypeName()]);\r\n    };\r\n    TileGroup.H_ = { T_: TileGroup.getTypeName(), B_: TileGroup.getBaseTypes() };\r\n    return TileGroup;\r\n}());\r\nexports.TileGroup = TileGroup;\r\nvar Session = /** @class */ (function () {\r\n    function Session(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Session, this, obj);\r\n    }\r\n    Session.getTypeName = function () {\r\n        return 'AugLoop_Core_Session';\r\n    };\r\n    Session.getBaseTypes = function () {\r\n        return ['AugLoop_Core_TileGroup'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Session type or its inheritor and implements {@link ISession}\r\n     */\r\n    Session.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Session.getTypeName()]);\r\n    };\r\n    Session.H_ = { T_: Session.getTypeName(), B_: Session.getBaseTypes() };\r\n    return Session;\r\n}());\r\nexports.Session = Session;\r\nvar Document = /** @class */ (function () {\r\n    function Document(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Document, this, obj);\r\n    }\r\n    Document.getTypeName = function () {\r\n        return 'AugLoop_Core_Document';\r\n    };\r\n    Document.getBaseTypes = function () {\r\n        return ['AugLoop_Core_TileGroup'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of Document type or its inheritor and implements {@link IDocument}\r\n     */\r\n    Document.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [Document.getTypeName()]);\r\n    };\r\n    Document.H_ = { T_: Document.getTypeName(), B_: Document.getBaseTypes() };\r\n    return Document;\r\n}());\r\nexports.Document = Document;\r\nvar SubDocument = /** @class */ (function () {\r\n    function SubDocument(obj) {\r\n        schema_object_g_1.SchemaObject.assign(SubDocument, this, obj);\r\n    }\r\n    SubDocument.getTypeName = function () {\r\n        return 'AugLoop_Core_SubDocument';\r\n    };\r\n    SubDocument.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of SubDocument type or its inheritor and implements {@link ISubDocument}\r\n     */\r\n    SubDocument.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [SubDocument.getTypeName()]);\r\n    };\r\n    SubDocument.H_ = { T_: SubDocument.getTypeName(), B_: SubDocument.getBaseTypes() };\r\n    return SubDocument;\r\n}());\r\nexports.SubDocument = SubDocument;\r\nvar GridCell = /** @class */ (function () {\r\n    function GridCell(obj) {\r\n        schema_object_g_1.SchemaObject.assign(GridCell, this, obj);\r\n    }\r\n    GridCell.getTypeName = function () {\r\n        return 'AugLoop_Core_GridCell';\r\n    };\r\n    GridCell.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of GridCell type or its inheritor and implements {@link IGridCell}\r\n     */\r\n    GridCell.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [GridCell.getTypeName()]);\r\n    };\r\n    GridCell.H_ = { T_: GridCell.getTypeName(), B_: GridCell.getBaseTypes() };\r\n    return GridCell;\r\n}());\r\nexports.GridCell = GridCell;\r\nvar GridNeighborhoodContext = /** @class */ (function () {\r\n    function GridNeighborhoodContext(obj) {\r\n        schema_object_g_1.SchemaObject.assign(GridNeighborhoodContext, this, obj);\r\n    }\r\n    GridNeighborhoodContext.getTypeName = function () {\r\n        return 'AugLoop_Core_GridNeighborhoodContext';\r\n    };\r\n    GridNeighborhoodContext.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of GridNeighborhoodContext type or its inheritor and implements {@link IGridNeighborhoodContext}\r\n     */\r\n    GridNeighborhoodContext.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [GridNeighborhoodContext.getTypeName()]);\r\n    };\r\n    GridNeighborhoodContext.H_ = { T_: GridNeighborhoodContext.getTypeName(), B_: GridNeighborhoodContext.getBaseTypes() };\r\n    return GridNeighborhoodContext;\r\n}());\r\nexports.GridNeighborhoodContext = GridNeighborhoodContext;\r\nvar DynamicContext = /** @class */ (function () {\r\n    function DynamicContext(obj) {\r\n        schema_object_g_1.SchemaObject.assign(DynamicContext, this, obj);\r\n    }\r\n    DynamicContext.getTypeName = function () {\r\n        return 'AugLoop_Core_DynamicContext';\r\n    };\r\n    DynamicContext.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of DynamicContext type or its inheritor and implements {@link IDynamicContext}\r\n     */\r\n    DynamicContext.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [DynamicContext.getTypeName()]);\r\n    };\r\n    DynamicContext.H_ = { T_: DynamicContext.getTypeName(), B_: DynamicContext.getBaseTypes() };\r\n    return DynamicContext;\r\n}());\r\nexports.DynamicContext = DynamicContext;\r\nvar ContextHolder = /** @class */ (function () {\r\n    function ContextHolder(obj) {\r\n        schema_object_g_1.SchemaObject.assign(ContextHolder, this, obj);\r\n    }\r\n    ContextHolder.getTypeName = function () {\r\n        return 'AugLoop_Core_ContextHolder';\r\n    };\r\n    ContextHolder.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of ContextHolder type or its inheritor and implements {@link IContextHolder}\r\n     */\r\n    ContextHolder.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [ContextHolder.getTypeName()]);\r\n    };\r\n    ContextHolder.H_ = { T_: ContextHolder.getTypeName(), B_: ContextHolder.getBaseTypes() };\r\n    return ContextHolder;\r\n}());\r\nexports.ContextHolder = ContextHolder;\r\nvar UserContextHolder = /** @class */ (function () {\r\n    function UserContextHolder(obj) {\r\n        schema_object_g_1.SchemaObject.assign(UserContextHolder, this, obj);\r\n    }\r\n    UserContextHolder.getTypeName = function () {\r\n        return 'AugLoop_Core_UserContextHolder';\r\n    };\r\n    UserContextHolder.getBaseTypes = function () {\r\n        return ['AugLoop_Core_ContextHolder'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of UserContextHolder type or its inheritor and implements {@link IUserContextHolder}\r\n     */\r\n    UserContextHolder.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [UserContextHolder.getTypeName()]);\r\n    };\r\n    UserContextHolder.H_ = { T_: UserContextHolder.getTypeName(), B_: UserContextHolder.getBaseTypes() };\r\n    return UserContextHolder;\r\n}());\r\nexports.UserContextHolder = UserContextHolder;\r\nvar TenantContextHolder = /** @class */ (function () {\r\n    function TenantContextHolder(obj) {\r\n        schema_object_g_1.SchemaObject.assign(TenantContextHolder, this, obj);\r\n    }\r\n    TenantContextHolder.getTypeName = function () {\r\n        return 'AugLoop_Core_TenantContextHolder';\r\n    };\r\n    TenantContextHolder.getBaseTypes = function () {\r\n        return ['AugLoop_Core_ContextHolder'];\r\n    };\r\n    /**\r\n     * Checks if passed schema object is of TenantContextHolder type or its inheritor and implements {@link ITenantContextHolder}\r\n     */\r\n    TenantContextHolder.typeGuard = function (schemaObject) {\r\n        return schema_object_g_1.SchemaObject.matchesTypesFor(schemaObject, [TenantContextHolder.getTypeName()]);\r\n    };\r\n    TenantContextHolder.H_ = { T_: TenantContextHolder.getTypeName(), B_: TenantContextHolder.getBaseTypes() };\r\n    return TenantContextHolder;\r\n}());\r\nexports.TenantContextHolder = TenantContextHolder;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC90aWxlcy5nLnRzPzQ0YTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlGQUFpRjtBQUNqRixtQkFBbUI7QUFDbkIseURBQXlEO0FBQ3pELDZHQUE2RztBQUM3Ryx3RkFBd0Y7QUFDeEYsb0JBQW9CO0FBQ3BCLGlGQUFpRjs7O0FBR2pGLGlKQUFpRDtBQUdqRDtJQU1JLGNBQW1CLEdBQVc7UUFDMUIsOEJBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ2EsZ0JBQVcsR0FBekI7UUFDSSxPQUFPLG1CQUFtQixDQUFDO0lBQy9CLENBQUM7SUFDYSxpQkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVEOztPQUVHO0lBQ1csY0FBUyxHQUF2QixVQUF3QixZQUEyQjtRQUMvQyxPQUFPLDhCQUFZLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUUsQ0FBQztJQU5zQixPQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQU9wRixXQUFDO0NBQUE7QUF0Qlksb0JBQUk7QUF3QmpCO0lBR0ksZ0JBQW1CLEdBQWE7UUFDNUIsOEJBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBQ2Esa0JBQVcsR0FBekI7UUFDSSxPQUFPLHFCQUFxQixDQUFDO0lBQ2pDLENBQUM7SUFDYSxtQkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVEOztPQUVHO0lBQ1csZ0JBQVMsR0FBdkIsVUFBd0IsWUFBMkI7UUFDL0MsT0FBTyw4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QTFCO1FBQ0ksT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVEOztPQUVHO0lBQ1csNkJBQVMsR0FBdkIsVUFBd0IsWUFBMkI7UUFDL0MsT0FBTyw4QkFBWSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0YsQ0FBQztJQU5zQixzQkFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBT2xILDBCQUFDO0NBQUE7QUFsQlksa0RBQW1CIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvZ2VuZXJhdGVkL3RpbGVzLmcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gPGF1dG8tZ2VuZXJhdGVkPlxyXG4vLyBUaGlzIGNvZGUgd2FzIGdlbmVyYXRlZCBieSB0aGUgQGF1Z2xvb3AvY29kZS1nZW4gdG9vbC5cclxuLy8gU291cmNlOiBodHRwczovL2Rldi5henVyZS5jb20vb2ZmaWNlL0lTUy9fZ2l0L2F1Z2xvb3Atc2VydmVyP3BhdGg9JTJGbW9kdWxlcyUyRnR5cGVzLWNvcmUlMkZzcmMlMkZ0aWxlcy50c1xyXG4vLyBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yIGFuZCB3aWxsIGJlIGxvc3QgdXBvbiByZWdlbmVyYXRpb24uXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuaW1wb3J0IHsgSUJpbmFyeSwgSUJsb2IsIElCbG9iUmVmLCBJQ29udGV4dEhvbGRlciwgSURvY3VtZW50LCBJRHluYW1pY0NvbnRleHQsIElHcmlkQ2VsbCwgSUdyaWROZWlnaGJvcmhvb2RDb250ZXh0LCBJU2Vzc2lvbiwgSVN1YkRvY3VtZW50LCBJVGVuYW50Q29udGV4dEhvbGRlciwgSVRpbGVHcm91cCwgSVVzZXJDb250ZXh0SG9sZGVyLCBPcGVuVHlwZSB9IGZyb20gJy4uL3RpbGVzJztcclxuaW1wb3J0IHsgU2NoZW1hT2JqZWN0IH0gZnJvbSAnLi9zY2hlbWEtb2JqZWN0LmcnO1xyXG5pbXBvcnQgeyBJU2NoZW1hT2JqZWN0LCBTY2hlbWFPYmplY3RIZWFkZXIgfSBmcm9tICcuLi9zY2hlbWEtb2JqZWN0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBCbG9iIGltcGxlbWVudHMgSUJsb2Ige1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZUJ5dGVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YT86IFVpbnQ4QXJyYXk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVBvaW50ZXI/OiBJQmxvYlJlZjtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElCbG9iKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihCbG9iLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0Jsb2InO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBCbG9iLmdldFR5cGVOYW1lKCksIEJfOiBCbG9iLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBCbG9iIHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSUJsb2J9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJQmxvYiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbQmxvYi5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCaW5hcnkgaW1wbGVtZW50cyBJQmluYXJ5IHtcclxuICAgIHB1YmxpYyBkYXRhPzogVWludDhBcnJheTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElCaW5hcnkpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKEJpbmFyeSwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9CaW5hcnknO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBCaW5hcnkuZ2V0VHlwZU5hbWUoKSwgQl86IEJpbmFyeS5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgQmluYXJ5IHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSUJpbmFyeX1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElCaW5hcnkge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW0JpbmFyeS5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUaWxlR3JvdXAgaW1wbGVtZW50cyBJVGlsZUdyb3VwIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElUaWxlR3JvdXApIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFRpbGVHcm91cCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9UaWxlR3JvdXAnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBUaWxlR3JvdXAuZ2V0VHlwZU5hbWUoKSwgQl86IFRpbGVHcm91cC5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgVGlsZUdyb3VwIHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSVRpbGVHcm91cH1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElUaWxlR3JvdXAge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW1RpbGVHcm91cC5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTZXNzaW9uIGltcGxlbWVudHMgSVNlc3Npb24ge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFjdGl2ZVVzZXJJZDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHdpZHRoRHBpPzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlaWdodERwaT86IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElTZXNzaW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihTZXNzaW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1Nlc3Npb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9UaWxlR3JvdXAnXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBTZXNzaW9uLmdldFR5cGVOYW1lKCksIEJfOiBTZXNzaW9uLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBTZXNzaW9uIHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSVNlc3Npb259XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJU2Vzc2lvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbU2Vzc2lvbi5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEb2N1bWVudCBpbXBsZW1lbnRzIElEb2N1bWVudCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWFkb25seTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0aXRsZT86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB1cmw/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlblR5cGU/OiBPcGVuVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElEb2N1bWVudCkge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oRG9jdW1lbnQsIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfRG9jdW1lbnQnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9UaWxlR3JvdXAnXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBEb2N1bWVudC5nZXRUeXBlTmFtZSgpLCBCXzogRG9jdW1lbnQuZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIERvY3VtZW50IHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSURvY3VtZW50fVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSURvY3VtZW50IHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtEb2N1bWVudC5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdWJEb2N1bWVudCBpbXBsZW1lbnRzIElTdWJEb2N1bWVudCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJU3ViRG9jdW1lbnQpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFN1YkRvY3VtZW50LCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1N1YkRvY3VtZW50JztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogU3ViRG9jdW1lbnQuZ2V0VHlwZU5hbWUoKSwgQl86IFN1YkRvY3VtZW50LmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBTdWJEb2N1bWVudCB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElTdWJEb2N1bWVudH1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElTdWJEb2N1bWVudCB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbU3ViRG9jdW1lbnQuZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZENlbGwgaW1wbGVtZW50cyBJR3JpZENlbGwge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbjogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJvdzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUdyaWRDZWxsKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihHcmlkQ2VsbCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9HcmlkQ2VsbCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEdyaWRDZWxsLmdldFR5cGVOYW1lKCksIEJfOiBHcmlkQ2VsbC5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgR3JpZENlbGwgdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJR3JpZENlbGx9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJR3JpZENlbGwge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW0dyaWRDZWxsLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWROZWlnaGJvcmhvb2RDb250ZXh0IGltcGxlbWVudHMgSUdyaWROZWlnaGJvcmhvb2RDb250ZXh0IHtcclxuICAgIHB1YmxpYyByZWFkb25seSB3aWR0aDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJldHJpZXZlZFdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmV0cmlldmVkSGVpZ2h0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmVpZ2hib3Job29kVG9wUm93OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmVpZ2hib3Job29kTGVmdENvbHVtbjogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldEdyaWRUb3BSb3c6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXRHcmlkTGVmdENvbHVtbjogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldEdyaWRSZWxhdGl2ZVRvcFJvdzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldEdyaWRSZWxhdGl2ZUxlZnRDb2x1bW46IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBudW1iZXJPZk5vbkVtcHR5Q2VsbHM6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElHcmlkTmVpZ2hib3Job29kQ29udGV4dCkge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oR3JpZE5laWdoYm9yaG9vZENvbnRleHQsIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfR3JpZE5laWdoYm9yaG9vZENvbnRleHQnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBHcmlkTmVpZ2hib3Job29kQ29udGV4dC5nZXRUeXBlTmFtZSgpLCBCXzogR3JpZE5laWdoYm9yaG9vZENvbnRleHQuZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIEdyaWROZWlnaGJvcmhvb2RDb250ZXh0IHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSUdyaWROZWlnaGJvcmhvb2RDb250ZXh0fVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVHdWFyZChzY2hlbWFPYmplY3Q6IElTY2hlbWFPYmplY3QpOiBzY2hlbWFPYmplY3QgaXMgSUdyaWROZWlnaGJvcmhvb2RDb250ZXh0IHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtHcmlkTmVpZ2hib3Job29kQ29udGV4dC5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEeW5hbWljQ29udGV4dCBpbXBsZW1lbnRzIElEeW5hbWljQ29udGV4dCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJRHluYW1pY0NvbnRleHQpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKER5bmFtaWNDb250ZXh0LCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0R5bmFtaWNDb250ZXh0JztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogRHluYW1pY0NvbnRleHQuZ2V0VHlwZU5hbWUoKSwgQl86IER5bmFtaWNDb250ZXh0LmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBEeW5hbWljQ29udGV4dCB0eXBlIG9yIGl0cyBpbmhlcml0b3IgYW5kIGltcGxlbWVudHMge0BsaW5rIElEeW5hbWljQ29udGV4dH1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElEeW5hbWljQ29udGV4dCB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbRHluYW1pY0NvbnRleHQuZ2V0VHlwZU5hbWUoKV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGV4dEhvbGRlciBpbXBsZW1lbnRzIElDb250ZXh0SG9sZGVyIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElDb250ZXh0SG9sZGVyKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihDb250ZXh0SG9sZGVyLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0NvbnRleHRIb2xkZXInO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBDb250ZXh0SG9sZGVyLmdldFR5cGVOYW1lKCksIEJfOiBDb250ZXh0SG9sZGVyLmdldEJhc2VUeXBlcygpIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgc2NoZW1hIG9iamVjdCBpcyBvZiBDb250ZXh0SG9sZGVyIHR5cGUgb3IgaXRzIGluaGVyaXRvciBhbmQgaW1wbGVtZW50cyB7QGxpbmsgSUNvbnRleHRIb2xkZXJ9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJQ29udGV4dEhvbGRlciB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYU9iamVjdC5tYXRjaGVzVHlwZXNGb3Ioc2NoZW1hT2JqZWN0LCBbQ29udGV4dEhvbGRlci5nZXRUeXBlTmFtZSgpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VyQ29udGV4dEhvbGRlciBpbXBsZW1lbnRzIElVc2VyQ29udGV4dEhvbGRlciB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJVXNlckNvbnRleHRIb2xkZXIpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFVzZXJDb250ZXh0SG9sZGVyLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1VzZXJDb250ZXh0SG9sZGVyJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfQ29udGV4dEhvbGRlciddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFVzZXJDb250ZXh0SG9sZGVyLmdldFR5cGVOYW1lKCksIEJfOiBVc2VyQ29udGV4dEhvbGRlci5nZXRCYXNlVHlwZXMoKSB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcGFzc2VkIHNjaGVtYSBvYmplY3QgaXMgb2YgVXNlckNvbnRleHRIb2xkZXIgdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJVXNlckNvbnRleHRIb2xkZXJ9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdHlwZUd1YXJkKHNjaGVtYU9iamVjdDogSVNjaGVtYU9iamVjdCk6IHNjaGVtYU9iamVjdCBpcyBJVXNlckNvbnRleHRIb2xkZXIge1xyXG4gICAgICAgIHJldHVybiBTY2hlbWFPYmplY3QubWF0Y2hlc1R5cGVzRm9yKHNjaGVtYU9iamVjdCwgW1VzZXJDb250ZXh0SG9sZGVyLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRlbmFudENvbnRleHRIb2xkZXIgaW1wbGVtZW50cyBJVGVuYW50Q29udGV4dEhvbGRlciB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJVGVuYW50Q29udGV4dEhvbGRlcikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oVGVuYW50Q29udGV4dEhvbGRlciwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9UZW5hbnRDb250ZXh0SG9sZGVyJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfQ29udGV4dEhvbGRlciddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFRlbmFudENvbnRleHRIb2xkZXIuZ2V0VHlwZU5hbWUoKSwgQl86IFRlbmFudENvbnRleHRIb2xkZXIuZ2V0QmFzZVR5cGVzKCkgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBzY2hlbWEgb2JqZWN0IGlzIG9mIFRlbmFudENvbnRleHRIb2xkZXIgdHlwZSBvciBpdHMgaW5oZXJpdG9yIGFuZCBpbXBsZW1lbnRzIHtAbGluayBJVGVuYW50Q29udGV4dEhvbGRlcn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0eXBlR3VhcmQoc2NoZW1hT2JqZWN0OiBJU2NoZW1hT2JqZWN0KTogc2NoZW1hT2JqZWN0IGlzIElUZW5hbnRDb250ZXh0SG9sZGVyIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hT2JqZWN0Lm1hdGNoZXNUeXBlc0ZvcihzY2hlbWFPYmplY3QsIFtUZW5hbnRDb250ZXh0SG9sZGVyLmdldFR5cGVOYW1lKCldKTtcclxuICAgIH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ItemChanges = exports.ItemOperation = void 0;\r\n__exportStar(__webpack_require__(/*! ./annotations */ \"./node_modules/@augloop/types-core/dist/src/annotations.js\"), exports);\r\nvar operations_1 = __webpack_require__(/*! ./operations */ \"./node_modules/@augloop/types-core/dist/src/operations.js\");\r\nObject.defineProperty(exports, \"ItemOperation\", { enumerable: true, get: function () { return operations_1.ItemOperation; } });\r\nObject.defineProperty(exports, \"ItemChanges\", { enumerable: true, get: function () { return operations_1.ItemChanges; } });\r\n__exportStar(__webpack_require__(/*! ./schema-object-constructor */ \"./node_modules/@augloop/types-core/dist/src/schema-object-constructor.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./signals */ \"./node_modules/@augloop/types-core/dist/src/signals.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./tiles */ \"./node_modules/@augloop/types-core/dist/src/tiles.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/annotations.g */ \"./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/operations.g */ \"./node_modules/@augloop/types-core/dist/src/generated/operations.g.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/signals.g */ \"./node_modules/@augloop/types-core/dist/src/generated/signals.g.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/tiles.g */ \"./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js\"), exports);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2luZGV4LnRzPzBlM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLDhIQUE4QjtBQUM5Qix3SEFBOFg7QUFBcEUsd0hBQWE7QUFBcUIsb0hBQVc7QUFFdlcsMEpBQTRDO0FBQzVDLHNIQUEwQjtBQUMxQixrSEFBd0I7QUFDeEIsc0pBQTBDO0FBQzFDLG9KQUF5QztBQUN6QywwSkFBNEM7QUFDNUMsOElBQXNDO0FBQ3RDLDBJQUFvQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AYXVnbG9vcC90eXBlcy1jb3JlL2Rpc3Qvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9hbm5vdGF0aW9ucyc7XHJcbmV4cG9ydCB7IEl0ZW1QYXRoS2V5LCBPcGVyYXRpb25UeXBlLCBJQWRkT3BlcmF0aW9uLCBJRGVsZXRlT3BlcmF0aW9uLCBJRm9jdXNPcGVyYXRpb24sIElNb3ZlT3BlcmF0aW9uLCBJT3BlcmF0aW9uLCBJT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LCBJUHVyZ2VPcGVyYXRpb24sIElVcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24sIElVcGRhdGVPcGVyYXRpb24sIElWaXNpYmlsaXR5T3BlcmF0aW9uLCBJU2lnbmFsT3BlcmF0aW9uLCBJdGVtLCBJdGVtUGF0aCwgSXRlbVdpdGhQYXRoLCBJSXRlbVJlZmVyZW5jZSwgSUl0ZW1EZWx0YSwgSXRlbU9wZXJhdGlvbiwgSUl0ZW1DaGFuZ2VzRGVsdGEsIEl0ZW1DaGFuZ2VzIH0gZnJvbSAnLi9vcGVyYXRpb25zJztcclxuZXhwb3J0IHsgSVNjaGVtYU9iamVjdCwgU2NoZW1hT2JqZWN0SGVhZGVyIH0gZnJvbSAnLi9zY2hlbWEtb2JqZWN0JztcclxuZXhwb3J0ICogZnJvbSAnLi9zY2hlbWEtb2JqZWN0LWNvbnN0cnVjdG9yJztcclxuZXhwb3J0ICogZnJvbSAnLi9zaWduYWxzJztcclxuZXhwb3J0ICogZnJvbSAnLi90aWxlcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGVkL2Fubm90YXRpb25zLmcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlZC9vcGVyYXRpb25zLmcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlZC9zY2hlbWEtb2JqZWN0LmcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlZC9zaWduYWxzLmcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlZC90aWxlcy5nJztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/index.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/operations.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/operations.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ItemChanges = exports.ItemOperation = void 0;\r\nvar ItemOperation;\r\n(function (ItemOperation) {\r\n    ItemOperation[ItemOperation[\"None\"] = 0] = \"None\";\r\n    ItemOperation[ItemOperation[\"Added\"] = 1] = \"Added\";\r\n    ItemOperation[ItemOperation[\"Updated\"] = 2] = \"Updated\";\r\n    ItemOperation[ItemOperation[\"Deleted\"] = 3] = \"Deleted\";\r\n})(ItemOperation = exports.ItemOperation || (exports.ItemOperation = {}));\r\n/**\r\n * Types of changes for tiles.\r\n * What each change means depends on specific scenario.\r\n */\r\nvar ItemChanges;\r\n(function (ItemChanges) {\r\n    /**\r\n     * TextTile: Content of tile has changed.\r\n     */\r\n    ItemChanges[ItemChanges[\"ContentChanged\"] = 0] = \"ContentChanged\";\r\n    /**\r\n     * TextTile: Content was previously empty (null, undefined, only white spaces).\r\n     */\r\n    ItemChanges[ItemChanges[\"ContentWasEmpty\"] = 1] = \"ContentWasEmpty\";\r\n    /**\r\n     * FormattedTextTile: Formatting has changed.\r\n     */\r\n    ItemChanges[ItemChanges[\"FormattingChanged\"] = 2] = \"FormattingChanged\";\r\n})(ItemChanges = exports.ItemChanges || (exports.ItemChanges = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL29wZXJhdGlvbnMudHM/NzczMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUF5REEsSUFBWSxhQUtYO0FBTEQsV0FBWSxhQUFhO0lBQ3JCLGlEQUFJO0lBQ0osbURBQUs7SUFDTCx1REFBTztJQUNQLHVEQUFPO0FBQ1gsQ0FBQyxFQUxXLGFBQWEsR0FBYixxQkFBYSxLQUFiLHFCQUFhLFFBS3hCO0FBU0Q7OztHQUdHO0FBQ0YsSUFBWSxXQWFaO0FBYkEsV0FBWSxXQUFXO0lBQ3BCOztPQUVHO0lBQ0gsaUVBQWM7SUFDZDs7T0FFRztJQUNILG1FQUFlO0lBQ2Y7O09BRUc7SUFDSCx1RUFBaUI7QUFDckIsQ0FBQyxFQWJZLFdBQVcsR0FBWCxtQkFBVyxLQUFYLG1CQUFXLFFBYXZCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvb3BlcmF0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QnO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uTWV0YURhdGEgfSBmcm9tICcuL2Fubm90YXRpb25zJztcclxuXHJcbi8qKlxyXG4gKiBUaGUgcGF0aCB0byBhbiBpdGVtIGluIHRoZSBzZXNzaW9uLiBFYWNoIGVsZW1lbnQgbXVzdCBiZSB1bmlxdWUgd2l0aGluIGl0c1xyXG4gKiBwYXJlbnQgKHNpbWlsYXIgdG8gYSBmaWxlIHBhdGgpLiBDYXNlLXNlbnNpdGl2ZS5cclxuICovXHJcbmV4cG9ydCB0eXBlIEl0ZW1QYXRoID0gc3RyaW5nW107XHJcblxyXG5leHBvcnQgdHlwZSBJdGVtUGF0aEtleSA9IHN0cmluZztcclxuXHJcbmV4cG9ydCB0eXBlIE9wZXJhdGlvblR5cGUgPSBzdHJpbmc7XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHNpbmdsZSBpdGVtIGluIHRoZSBzZXNzaW9uIChzdWNoIGFzIGEgdGlsZSBvciBhbiBhbm5vdGF0aW9uKVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJdGVtIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhpcyBpdGVtICh1bmlxdWUgd2l0aGluIGl0cyBwYXJlbnQpLiBDYXNlLXNlbnNpdGl2ZS5cclxuICAgICAqL1xyXG4gICAgaWQ6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wdGlvbmFsIGlkZW50aXR5IG9mIHRoZSBzb3VyY2UgdGhpcyBpdGVtICh1c2VkIHRvIGdyb3VwIHJlbGF0ZWQgaXRlbXMpXHJcbiAgICAgKi9cclxuICAgIHNvdXJjZT86IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSByZXZpc2lvbiB0aGF0IGlkZW50aWZpZXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhpcyBpdGVtIChtdXN0IGJlXHJcbiAgICAgKiB1bmlxdWUgZm9yIHRoaXMgaXRlbSkuIE9wdGlvbmFsIGZvciBvcGVyYXRpb25zIHRoYXQgZG8gbm90IGNoYW5nZSB0aGVcclxuICAgICAqIHN0YXRlIG9mIGV4aXN0aW5nIGl0ZW1zIChzdWNoIGFzIGZvY3VzIGFuZCB2aXNpYmxlKS5cclxuICAgICAqL1xyXG4gICAgcmV2SWQ/OiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgc2NvcGUgaXRlbSBmcm9tIHdoaWNoIHRoaXMgaXRlbSB3YXMgb3JpZ2luYWxseVxyXG4gICAgICogZ2VuZXJhdGVkLiBUaGlzIGF0dHJpYnV0ZSBncm91cHMgaXRlbSByZWxhdGVkIHRvIGFuIGV4ZWN1dGlvbiBvZiB0aGVcclxuICAgICAqIEpvaW5Xb3JrZmxvdyB0aGF0IHRoZSBzY29wZSBpdGVtIGlzIHJlbGF0ZWQuIE9wdGlvbmFsIGZvciBpdGVtcyB0aGF0XHJcbiAgICAgKiBkbyBub3QgYmVsb25nIHRvIGEgSm9pbldvcmtmbG93IHNjb3BlLlxyXG4gICAgICovXHJcbiAgICBjb250ZXh0SWQ/OiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY29udGVudHMgb2YgdGhlIGl0ZW0uIE9wdGlvbmFsIGZvciBvcGVyYXRpb25zIHRoYXQgZG8gbm90IGNoYW5nZVxyXG4gICAgICogdGhlIHN0YXRlIG9mIGV4aXN0aW5nIGl0ZW1zIChzdWNoIGFzIGZvY3VzIGFuZCB2aXNpYmxlKS5cclxuICAgICAqL1xyXG4gICAgYm9keT86IElTY2hlbWFPYmplY3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl0ZW1SZWZlcmVuY2Uge1xyXG4gICAgLyoqXHJcbiAgICAgKiBGdWxseSBxdWFsaWZpZWQgcGF0aCB0byB0aGUgcmVmZXJlbmNlZCB0aWxlLlxyXG4gICAgICogRXhhbXBsZTogWydzZXNzaW9uJywgJ2RvY0lkJywgJ3JlZmVyZW5jZWRUaWxlSWQnXVxyXG4gICAgICovXHJcbiAgICByZWFkb25seSByZWZlcmVuY2VkUGF0aDogSXRlbVBhdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEl0ZW1PcGVyYXRpb24ge1xyXG4gICAgTm9uZSxcclxuICAgIEFkZGVkLFxyXG4gICAgVXBkYXRlZCxcclxuICAgIERlbGV0ZWRcclxufVxyXG5cclxuLyoqXHJcbiAqIEl0ZW0gZGVsdGFzIGFyZSBkaWZmcyBiZXR3ZWVuIGEgY3VycmVudCByZXZpc2lvbiBvZiBhIHRpbGUgYW5kIHRoZSBleHBlY3RlZCBuZXcgcmV2aXNpb24uXHJcbiAqIERlbHRhcyBjb250YWluIGFsbCB0aGUgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gdHJhbnNmb3JtIHRoZSBjdXJyZW50IHRpbGUgcmV2aXNpb24gdG8gdGhlXHJcbiAqIG5ldyBvbmUgYW5kIGFyZSBzZWxmIGNvbnRhaW5lZC5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUl0ZW1EZWx0YSBleHRlbmRzIElTY2hlbWFPYmplY3QgeyB9XHJcblxyXG4vKipcclxuICogVHlwZXMgb2YgY2hhbmdlcyBmb3IgdGlsZXMuXHJcbiAqIFdoYXQgZWFjaCBjaGFuZ2UgbWVhbnMgZGVwZW5kcyBvbiBzcGVjaWZpYyBzY2VuYXJpby5cclxuICovXHJcbiBleHBvcnQgZW51bSBJdGVtQ2hhbmdlcyB7XHJcbiAgICAvKipcclxuICAgICAqIFRleHRUaWxlOiBDb250ZW50IG9mIHRpbGUgaGFzIGNoYW5nZWQuXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRDaGFuZ2VkLFxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXh0VGlsZTogQ29udGVudCB3YXMgcHJldmlvdXNseSBlbXB0eSAobnVsbCwgdW5kZWZpbmVkLCBvbmx5IHdoaXRlIHNwYWNlcykuXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRXYXNFbXB0eSxcclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0dGVkVGV4dFRpbGU6IEZvcm1hdHRpbmcgaGFzIGNoYW5nZWQuXHJcbiAgICAgKi9cclxuICAgIEZvcm1hdHRpbmdDaGFuZ2VkLFxyXG59XHJcblxyXG4vKipcclxuICogRGVsdGEgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aWxlIGNoYW5nZXMgc2luY2UgbGFzdCB3b3JrZmxvdyBleGVjdXRpb24uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElJdGVtQ2hhbmdlc0RlbHRhIGV4dGVuZHMgSUl0ZW1EZWx0YSB7XHJcbiAgICBjaGFuZ2VzOiBJdGVtQ2hhbmdlc1tdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEl0ZW1XaXRoUGF0aCBleHRlbmRzIEl0ZW0ge1xyXG4gICAgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBkZWx0YT86IElJdGVtRGVsdGE7XHJcbiAgICBvcD86IEl0ZW1PcGVyYXRpb247XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgb3BlcmF0aW9ucyAoYXRvbWljIG1vZGlmaWNhdGlvbnMgdG8gdGhlIHNlc3Npb24gc3RhdGUpXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElPcGVyYXRpb24gZXh0ZW5kcyBJU2NoZW1hT2JqZWN0IHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBhdGggdG8gdGhlIHBhcmVudCBvZiB0aGUgaXRlbXMgaW52b2x2ZWQgaW4gdGhlIG9wZXJhdGlvbi4gRW1wdHkgaWYgdGhpcyBvcGVyYXRpb25cclxuICAgICAqIGFwcGxpZXMgdG8gdGhlIHJvb3QgaXRlbS5cclxuICAgICAqL1xyXG4gICAgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgb3B0aW9uYWwgZXhwZWN0ZWQgcmV2aXNpb24gb2YgdGhlIHBhcmVudCBpdGVtIGluIG9yZGVyIGZvciB0aGlzIG9wZXJhdGlvbiB0byBiZVxyXG4gICAgICogY29uc2lzdGVudCB3aXRoIHRoZSBzdGF0ZSBvZiB0aGUgcGFyZW50LiBUeXBpY2FsbHkgdXNlZCBieSBvcGVyYXRpb25zIG1vZGlmeWluZ1xyXG4gICAgICogYW5ub3RhdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHNldCBvZiBpdGVtcyBpbnZvbHZlZCBpbiB0aGUgb3BlcmF0aW9uLiBJZiBtdWx0aXBsZSBpdGVtcyBhcmUgcHJvdmlkZWQsIHRoZXkgbXVzdFxyXG4gICAgICogYmUgY29udGlndW91cyBzaWJsaW5ncy4gRWFjaCBpdGVtIGlzIG1vZGlmaWVkIGluIHNlcXVlbmNlIChzbyBvcmRlciBtYXR0ZXJzKSBhbmQgdGhlXHJcbiAgICAgKiBvdmVyYWxsIG9wZXJhdGlvbiBpcyBjb25zaWRlcmVkIGF0b21pYzsgYSBzZXNzaW9uIHRoYXQgaGFzIG1vZGlmaWVkIG9ubHkgc29tZSBvZiB0aGVcclxuICAgICAqIGl0ZW1zIGlzIG5vdCBpbiBhIHZhbGlkIHN0YXRlLlxyXG4gICAgICovXHJcbiAgICBpdGVtczogSXRlbVtdO1xyXG59XHJcblxyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgQWRkL01vdmUgb3BlcmF0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0IGV4dGVuZHMgSU9wZXJhdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIFByZXZpb3VzIHNpYmxpbmcgKHJlc2VydmVkIHN0cmluZyAnI2hlYWQjJyBpbmRpY2F0ZXMgdGhpcyBpcyB0aGUgZmlyc3Qgc2libGluZyksIGlkZW50aWZpZWRcclxuICAgICAqIGJ5IGl0cyBJdGVtLmlkIGZpZWxkLiBJZiBub3Qgc3VwcGxpZWQsIG9yZGVyaW5nIFdSVCBpdGVtcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBvcGVyYXRpb24gaXNcclxuICAgICAqIGRldGVybWluZWQgYnkgb3BlcmF0aW9uIHNlcXVlbmNlIG9yZGVyIChpdGVtcyBhcmUgYWRkZWQgdG8gdGhlIGVuZCBieSBkZWZhdWx0KS5cclxuICAgICAqL1xyXG4gICAgcHJldklkPzogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTmV4dCBzaWJsaW5nIChyZXNlcnZlZCBzdHJpbmcgJyN0YWlsIycgaW5kaWNhdGVzIHRoaXMgaXMgdGhlIGxhc3Qgc2libGluZyksIGlkZW50aWZpZWRcclxuICAgICAqIGJ5IGl0cyBJdGVtLmlkIGZpZWxkLiBJZiBub3Qgc3VwcGxpZWQsIG9yZGVyaW5nIFdSVCBpdGVtcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBvcGVyYXRpb24gaXNcclxuICAgICAqIGRldGVybWluZWQgYnkgb3BlcmF0aW9uIHNlcXVlbmNlIG9yZGVyIChpdGVtcyBhcmUgYWRkZWQgdG8gdGhlIGVuZCBieSBkZWZhdWx0KS5cclxuICAgICAqL1xyXG4gICAgbmV4dElkPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkcyBvbmUgb3IgbW9yZSBpdGVtcyB0byB0aGUgc2Vzc2lvbiBzdGF0ZS4gU2VlIGJhc2UgY2xhc3MgZm9yIHNpYmxpbmcgY29udGV4dC5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUFkZE9wZXJhdGlvbiBleHRlbmRzIElPcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQgeyB9XHJcblxyXG4vKipcclxuICogTW92ZXMgb25lIG9yIG1vcmUgaXRlbXMgdG8gYSBkaWZmZXJlbnQgcGFyZW50LiBTZWUgYmFzZSBjbGFzcyBmb3Igc2libGluZyBjb250ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTW92ZU9wZXJhdGlvbiBleHRlbmRzIElPcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcGFyZW50IHBhdGggZnJvbSB3aGljaCB0aGUgaXRlbXMgYXJlIG1vdmluZ1xyXG4gICAgICovXHJcbiAgICBwcmV2UGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbiBleHRlbmRzIElPcGVyYXRpb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY3BwbmFtZSBNZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBNXzogQW5ub3RhdGlvbk1ldGFEYXRhO1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlcyB0aGUgZW50aXJlIGNvbnRlbnQgb2Ygb25lIG9yIG1vcmUgaXRlbXMuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElVcGRhdGVPcGVyYXRpb24gZXh0ZW5kcyBJT3BlcmF0aW9uIHsgfVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZXMgb25lIG9yIG1vcmUgaXRlbXMsIGFuZCB0aGVpciBjaGlsZHJlbiwgZnJvbSB0aGUgc2Vzc2lvbiBzdGF0ZS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSURlbGV0ZU9wZXJhdGlvbiBleHRlbmRzIElPcGVyYXRpb24geyB9XHJcblxyXG4vKipcclxuICogUHVyZ2VzIGFuIGl0ZW0gKGFuZCBpdHMgc3VidHJlZSksIGtlZXBpbmcgZXZlcnl0aGluZyBlbHNlLlxyXG4gKiBUaGlzIGlzIGFuIGVmZmljaWVudCB3YXkgdG8gcmVtb3ZlIGEgbGFyZ2UgcG9ydGlvbiBvZiB0aGUgbW9kZWwuXHJcbiAqIFVzZSBvbmx5IHdoZW4gdGhlIHBvcnRpb24gcmVtb3ZlZCBpcyBtdWNoIGxhcmdlciB0aGFuIHdoYXQgd2lsbFxyXG4gKiBiZSBsZWZ0LiBGb3IgZXhhbXBsZSBkZWxldGluZyB0aGUgd2hvbGUgZG9jdW1lbnQuXHJcbiAqXHJcbiAqIFNpZGUgZWZmZWN0cyBvZiB0aGlzIG9wZXJhdGlvbnMgaXMgY2FuY2VsaW5nIGFsbCBub3RpZmljYXRpb25zXHJcbiAqIHRvIHdvcmtmbG93cyBhbmQgbm90IHRyaWdnZXJpbmcgYW55IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSByZW1vdmVkXHJcbiAqIHBvcnRpb24uIFVzZSBhdCB5b3VyIG93biByaXNrLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJUHVyZ2VPcGVyYXRpb24gZXh0ZW5kcyBJT3BlcmF0aW9uIHsgfVxyXG5cclxuLyoqXHJcbiAqIEluZGljYXRlcyB0aGF0IG9uZSBvciBtb3JlIGl0ZW1zIGhhdmUgZ2FpbmVkIG9yIGxvc3QgdXNlciBmb2N1cy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUZvY3VzT3BlcmF0aW9uIGV4dGVuZHMgSU9wZXJhdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuZXcgZm9jdXMgc3RhdGVcclxuICAgICAqL1xyXG4gICAgaXNGb2N1c2VkOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogSW5kaWNhdGVzIHRoYXQgb25lIG9yIG1vcmUgaXRlbXMgaGF2ZSBnYWluZWQgb3IgbG9zdCB1c2VyIHZpc2liaWxpdHkuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElWaXNpYmlsaXR5T3BlcmF0aW9uIGV4dGVuZHMgSU9wZXJhdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuZXcgdmlzaWJpbGl0eSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBpc1Zpc2libGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIG1vcmUgZWZmaWNpZW50IHVwZGF0ZSBvcGVyYXRpb24gdGhhdCB1c2VzIGRlbHRhcyBpbnN0ZWFkIG9mIGZ1bGwgdGlsZXMgZm9yXHJcbiAqIGhvc3RzIHRoYXQgc3VwcG9ydCBwcm9kdWNpbmcgdGlsZSBkZWx0YXMuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElEZWx0YVVwZGF0ZU9wZXJhdGlvbiBleHRlbmRzIElPcGVyYXRpb24geyB9XHJcblxyXG5cclxuLyoqXHJcbiAqIEFuIG9wZXJhdGlvbiB1c2VkIGJ5IHRoZSBjbGllbnQgdG8gc2VuZCBhIE1pY3JvU3luY01lc3NhZ2UgdG8gdGhlIHNlcnZlci5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1pY3JvU3luY09wZXJhdGlvbiBleHRlbmRzIElPcGVyYXRpb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXF1ZW5jZSBudW1iZXIgKG1lc3NhZ2UgaXMgYXBwbGllZCBvbiByZWNlaXB0IGlmIG9taXR0ZWQpLlxyXG4gICAgICogTm90IHlldCBpbXBsZW1lbnRlZCBieSBzZXJ2ZXJcclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgc2VxPzogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT25lIG9mICdBZGQnLCAnVXBkYXRlJywgJ0RlbGV0ZScgKGRlZmF1bHRzIHRvICdBZGQnIGlmIG9taXR0ZWQpLlxyXG4gICAgICogTm90IHlldCBpbXBsZW1lbnRlZCBieSBzZXJ2ZXJcclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgb3BUeXBlPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udGFpbnMgYW55IHNpZ25hbHMgdGhhdCBvY2N1cnJlZCBkdXJpbmcgdGhlIHNlc3Npb24uXHJcbiAqIEB0eXBlcHJlZml4IEF1Z0xvb3BfU2lnbmFsc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJU2lnbmFsT3BlcmF0aW9uIGV4dGVuZHMgSU9wZXJhdGlvbiB7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/operations.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/schema-object-constructor.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/schema-object-constructor.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AYXVnbG9vcC90eXBlcy1jb3JlL2Rpc3Qvc3JjL3NjaGVtYS1vYmplY3QtY29uc3RydWN0b3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/schema-object-constructor.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/signals.js":
/*!**************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/signals.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL3NpZ25hbHMudHM/YjE5ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUciLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9zaWduYWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBjb3B5cmlnaHQgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IElTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QnO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBiYXNlIGludGVyZmFjZSBvZiBhbGwgc2lnbmFscy5cclxuICogQHJlbWFya3MgU2lnbmFscyBhcmUgdXNlZCB0byBjYXB0dXJlIHVzZXIgYW5kIHN5c3RlbSBhY3Rpb25zIGluIHRoZSBzZXNzaW9uXHJcbiAqIGFuZCBidWlsZCBsb2dpYyBvbiB0b3Agb2YgdGhhdCBmb3IgYXV0b21hdGljIHRyaWdnZXJpbmcgYW5kIHJlY29tbWVuZGF0aW9uc1xyXG4gKiBAZXh0ZW5kcyBJU2NoZW1hT2JqZWN0XHJcbiAqIEB0eXBlcHJlZml4IEF1Z0xvb3BfU2lnbmFsc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJU2lnbmFsIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBvYmplY3QgdGhpcyBzaWduYWwgaXMgdGFyZ2V0aW5nLiBJdCBjYW4gYmUgYSBkb2N1bWVudCwgdGlsZSwgb3IgYW4gYW5ub3RhdGlvbi5cclxuICAgICAqIEByZW1hcmtzIFdoZW4gYG51bGxgLCB0aGUgc2lnbmFsIGlzIGEgZ2VuZXJpYyBzaWduYWwgaW4gdGhlIHNlc3Npb24uXHJcbiAgICAgKi9cclxuICAgIHRhcmdldE9iamVjdD86IElTY2hlbWFPYmplY3Q7IC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2NoZW1hIG9iamVjdCByZWZlcmVuY2VcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB0aW1lIG9mIHNpZ25hbCBjcmVhdGlvbi5cclxuICAgICAqL1xyXG4gICAgdGltZXN0YW1wPzogbnVtYmVyO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/signals.js\n");

/***/ }),

/***/ "./node_modules/@augloop/types-core/dist/src/tiles.js":
/*!************************************************************!*\
  !*** ./node_modules/@augloop/types-core/dist/src/tiles.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridConstants = exports.OpenType = exports.BlobRefType = void 0;\r\n// Binary\r\n// Below types are allowing us to send one or more binary contents contained in other schema objects\r\n// Will be sent more efficiently over the network\r\nvar BlobRefType;\r\n(function (BlobRefType) {\r\n    // If this is set then there is no way to get the binary data\r\n    BlobRefType[BlobRefType[\"None\"] = 0] = \"None\";\r\n    // When this is set value is URL we can simply call HTTPS GET to fetch binary data. This URL must be on the AL service allow-list.\r\n    BlobRefType[BlobRefType[\"HttpsGetDownloadUrl\"] = 1] = \"HttpsGetDownloadUrl\";\r\n    // When this is set value is a blob coded location that can be used to retrieve the data from the Azure Blob Storage.\r\n    // It is only valid for one pair of session key and userId.\r\n    BlobRefType[BlobRefType[\"AlCodedLocation\"] = 2] = \"AlCodedLocation\";\r\n})(BlobRefType = exports.BlobRefType || (exports.BlobRefType = {}));\r\n// Document Open Type\r\n// Represents the method with which the document was opened at the client\r\nvar OpenType;\r\n(function (OpenType) {\r\n    // the document was newly created\r\n    OpenType[OpenType[\"NewDocument\"] = 0] = \"NewDocument\";\r\n    // an old document opened for editing\r\n    OpenType[OpenType[\"EditDocument\"] = 1] = \"EditDocument\";\r\n    // document to be viewed\r\n    OpenType[OpenType[\"ViewOnlyDocument\"] = 2] = \"ViewOnlyDocument\";\r\n})(OpenType = exports.OpenType || (exports.OpenType = {}));\r\nvar GridConstants = /** @class */ (function () {\r\n    function GridConstants() {\r\n    }\r\n    GridConstants.lowerIndexBound = 1;\r\n    GridConstants.maxNumberOfRows = 1048576;\r\n    GridConstants.maxNumberOfColumns = 16384;\r\n    GridConstants.firstColumnName = 'A';\r\n    GridConstants.lastColumnName = 'XFD';\r\n    return GridConstants;\r\n}());\r\nexports.GridConstants = GridConstants;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL3RpbGVzLnRzPzkyZjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsU0FBUztBQUNULG9HQUFvRztBQUNwRyxpREFBaUQ7QUFDakQsSUFBWSxXQVFYO0FBUkQsV0FBWSxXQUFXO0lBQ25CLDZEQUE2RDtJQUM3RCw2Q0FBUTtJQUNSLGtJQUFrSTtJQUNsSSwyRUFBbUI7SUFDbkIscUhBQXFIO0lBQ3JILDJEQUEyRDtJQUMzRCxtRUFBZTtBQUNuQixDQUFDLEVBUlcsV0FBVyxHQUFYLG1CQUFXLEtBQVgsbUJBQVcsUUFRdEI7QUE4Q0QscUJBQXFCO0FBQ3JCLHlFQUF5RTtBQUN6RSxJQUFZLFFBT1g7QUFQRCxXQUFZLFFBQVE7SUFDaEIsaUNBQWlDO0lBQ2pDLHFEQUFlO0lBQ2YscUNBQXFDO0lBQ3JDLHVEQUFnQjtJQUNoQix3QkFBd0I7SUFDeEIsK0RBQW9CO0FBQ3hCLENBQUMsRUFQVyxRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQU9uQjtBQXFCRDtJQUFBO0lBTUEsQ0FBQztJQUxtQiw2QkFBZSxHQUFHLENBQUMsQ0FBQztJQUNwQiw2QkFBZSxHQUFHLE9BQU8sQ0FBQztJQUMxQixnQ0FBa0IsR0FBRyxLQUFLLENBQUM7SUFDM0IsNkJBQWUsR0FBRyxHQUFHLENBQUM7SUFDdEIsNEJBQWMsR0FBRyxLQUFLLENBQUM7SUFDM0Msb0JBQUM7Q0FBQTtBQU5ZLHNDQUFhIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvdGlsZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJU2NoZW1hT2JqZWN0IH0gZnJvbSAnLi9zY2hlbWEtb2JqZWN0JztcclxuXHJcbi8vIEJpbmFyeVxyXG4vLyBCZWxvdyB0eXBlcyBhcmUgYWxsb3dpbmcgdXMgdG8gc2VuZCBvbmUgb3IgbW9yZSBiaW5hcnkgY29udGVudHMgY29udGFpbmVkIGluIG90aGVyIHNjaGVtYSBvYmplY3RzXHJcbi8vIFdpbGwgYmUgc2VudCBtb3JlIGVmZmljaWVudGx5IG92ZXIgdGhlIG5ldHdvcmtcclxuZXhwb3J0IGVudW0gQmxvYlJlZlR5cGUge1xyXG4gICAgLy8gSWYgdGhpcyBpcyBzZXQgdGhlbiB0aGVyZSBpcyBubyB3YXkgdG8gZ2V0IHRoZSBiaW5hcnkgZGF0YVxyXG4gICAgTm9uZSA9IDAsXHJcbiAgICAvLyBXaGVuIHRoaXMgaXMgc2V0IHZhbHVlIGlzIFVSTCB3ZSBjYW4gc2ltcGx5IGNhbGwgSFRUUFMgR0VUIHRvIGZldGNoIGJpbmFyeSBkYXRhLiBUaGlzIFVSTCBtdXN0IGJlIG9uIHRoZSBBTCBzZXJ2aWNlIGFsbG93LWxpc3QuXHJcbiAgICBIdHRwc0dldERvd25sb2FkVXJsLFxyXG4gICAgLy8gV2hlbiB0aGlzIGlzIHNldCB2YWx1ZSBpcyBhIGJsb2IgY29kZWQgbG9jYXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgZGF0YSBmcm9tIHRoZSBBenVyZSBCbG9iIFN0b3JhZ2UuXHJcbiAgICAvLyBJdCBpcyBvbmx5IHZhbGlkIGZvciBvbmUgcGFpciBvZiBzZXNzaW9uIGtleSBhbmQgdXNlcklkLlxyXG4gICAgQWxDb2RlZExvY2F0aW9uXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJsb2JSZWYge1xyXG4gICAgcmVhZG9ubHkgcmVmVHlwZTogQmxvYlJlZlR5cGU7XHJcbiAgICByZWFkb25seSB2YWx1ZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElCbG9iIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvLyBVbmlxdWUgSWQgc2V0IGZvciB0aGUgY29udGVudCB3aGVuIHVwbG9hZGluZyBpdC4gVGhpcyBpcyBzZXQgYnkgY2xpZW50IGFuZCBtdXN0IGJlIHVuaXF1ZSBmb3IgdGhlIHdob2xlIHNlc3Npb24uXHJcbiAgICByZWFkb25seSBpZDogc3RyaW5nO1xyXG5cclxuICAgIC8vIFNpemUgb2YgZGF0YSBpbiBieXRlc1xyXG4gICAgcmVhZG9ubHkgc2l6ZUJ5dGVzOiBudW1iZXI7XHJcblxyXG4gICAgLy8gQWN0dWFsIGRhdGEgb3IgQUwgaW50ZXJuYWwgSWQgdXNlZCBmb3IgZmV0Y2hpbmcgZGF0YS4gT3B0aW9uYWwgaWYgZGF0YSBpcyBub3QgZGVsaXZlcmVkIGF0IHRoaXMgcG9pbnQgaW4gdGltZS5cclxuICAgIC8vIElmIGl0IGlzIGludGVybmFsIElkIGl0IGlzIGNyZWF0ZWQgYW5kIG1haW50YWluZWQgYnkgQUwuXHJcbiAgICByZWFkb25seSBkYXRhPzogVWludDhBcnJheTtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gZGF0YS4gT3B0aW9uYWwgaWYgZGF0YS9yZWZlcmVuY2UgaXMgbm90IGRlbGl2ZXJlZCBhdCB0aGlzIHBvaW50IGluIHRpbWUuXHJcbiAgICByZWFkb25seSBkYXRhUG9pbnRlcj86IElCbG9iUmVmO1xyXG59XHJcblxyXG4vLyBCaW5hcnlcclxuLy8gVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBzY2hlbWEgb2JqZWN0cyB0aGF0IGhhdmUgbGFyZ2UgYmluYXJ5IHBvcnRpb25zXHJcbi8vIFdpbGwgYmUgc2VudCBtb3JlIGVmZmljaWVudGx5IG92ZXIgdGhlIG5ldHdvcmtcclxuZXhwb3J0IGludGVyZmFjZSBJQmluYXJ5IGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICBkYXRhPzogVWludDhBcnJheTtcclxufVxyXG5cclxuLy8gVGlsZUdyb3VwXHJcbi8vIFJlcHJlc2VudHMgYSBncm91cCBvZiB0aWxlcy4gVGhpcyBjYW4gYmUgdXNlZCBieSBob3N0cyB0b1xyXG4vLyBwcm92aWRlIGFueSBhcmJpdHJhcnkgZ3JvdXBpbmcgb2YgdGlsZXMgYXQgYW55IGxldmVsLlxyXG5leHBvcnQgaW50ZXJmYWNlIElUaWxlR3JvdXAgZXh0ZW5kcyBJU2NoZW1hT2JqZWN0IHsgfVxyXG5cclxuLy8gU2Vzc2lvblxyXG4vLyBSZXByZXNlbnRzIGEgdXNlciBzZXNzaW9uLiBBIHVzZXIgc2Vzc2lvbiBjYW4gaGF2ZSBtb3JlIHRoYW4gb25lIGRvY3VtZW50LlxyXG4vLyBJdCBpcyB0aGUgcm9vdCBvZiB0aGUgd2hvbGUgY29udGVudCB0cmVlXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNlc3Npb24gZXh0ZW5kcyBJVGlsZUdyb3VwIHtcclxuICAgIC8vIFRoZSBjdXJyZW50IGFjdGl2ZSB1c2VyIElEXHJcbiAgICByZWFkb25seSBhY3RpdmVVc2VySWQ6IHN0cmluZztcclxuXHJcbiAgICAvLyBEUElzIG9mIGNsaWVudCBzY3JlZW5cclxuICAgIHJlYWRvbmx5IHdpZHRoRHBpPzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaGVpZ2h0RHBpPzogbnVtYmVyO1xyXG59XHJcblxyXG4vLyBEb2N1bWVudCBPcGVuIFR5cGVcclxuLy8gUmVwcmVzZW50cyB0aGUgbWV0aG9kIHdpdGggd2hpY2ggdGhlIGRvY3VtZW50IHdhcyBvcGVuZWQgYXQgdGhlIGNsaWVudFxyXG5leHBvcnQgZW51bSBPcGVuVHlwZSB7XHJcbiAgICAvLyB0aGUgZG9jdW1lbnQgd2FzIG5ld2x5IGNyZWF0ZWRcclxuICAgIE5ld0RvY3VtZW50ID0gMCxcclxuICAgIC8vIGFuIG9sZCBkb2N1bWVudCBvcGVuZWQgZm9yIGVkaXRpbmdcclxuICAgIEVkaXREb2N1bWVudCA9IDEsXHJcbiAgICAvLyBkb2N1bWVudCB0byBiZSB2aWV3ZWRcclxuICAgIFZpZXdPbmx5RG9jdW1lbnQgPSAyXHJcbn1cclxuXHJcbi8vIERvY3VtZW50XHJcbi8vIFJlcHJlc2VudHMgYSBkb2N1bWVudCBub2RlXHJcbmV4cG9ydCBpbnRlcmZhY2UgSURvY3VtZW50IGV4dGVuZHMgSVRpbGVHcm91cCB7XHJcbiAgICAvLyB3aGV0aGVyIHRoZSBkb2N1bWVudCBpcyByZWFkb25seSBvciBub3RcclxuICAgIHJlYWRvbmx5IGlzUmVhZG9ubHk6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gZG9jdW1lbnQgdGl0bGVcclxuICAgIHJlYWRvbmx5IHRpdGxlPzogc3RyaW5nO1xyXG5cclxuICAgIC8vIGRvY3VtZW50IHVybFxyXG4gICAgcmVhZG9ubHkgdXJsPzogc3RyaW5nO1xyXG5cclxuICAgIC8vIGRldGVybWluZXMgdGhlIE9wZW5UeXBlIG9mIHRoZSBkb2N1bWVudFxyXG4gICAgcmVhZG9ubHkgb3BlblR5cGU/OiBPcGVuVHlwZTtcclxufVxyXG5cclxuLy8gUmVwcmVzZW50cyBhbiBpbnRlcmZhY2UgZm9yIHN1Yi1kb2N1bWVudCBub2Rlc1xyXG5leHBvcnQgaW50ZXJmYWNlIElTdWJEb2N1bWVudCBleHRlbmRzIElTY2hlbWFPYmplY3Qge31cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkQ29uc3RhbnRzIHtcclxuICAgIHN0YXRpYyByZWFkb25seSBsb3dlckluZGV4Qm91bmQgPSAxO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IG1heE51bWJlck9mUm93cyA9IDEwNDg1NzY7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWF4TnVtYmVyT2ZDb2x1bW5zID0gMTYzODQ7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgZmlyc3RDb2x1bW5OYW1lID0gJ0EnO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGxhc3RDb2x1bW5OYW1lID0gJ1hGRCc7XHJcbn1cclxuXHJcbi8vIFJlcHJlc2VudHMgYW55IGNlbGwgd2l0aGluIGEgdGFibGUuIFRoaXMgY2FuIGJlIHVzZWQgYnkgYm90aCBXb3JkIGFuZCBFeGNlbCB0YWJsZXMuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdyaWRDZWxsIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvLyBUaGUgY29sdW1uIG51bWJlciBvZiB0aGlzIGNlbGxcclxuICAgIHJlYWRvbmx5IGNvbHVtbjogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSByb3cgbnVtYmVyIG9mIHRoaXMgY2VsbFxyXG4gICAgcmVhZG9ubHkgcm93OiBudW1iZXI7XHJcbn1cclxuXHJcbi8vIFJlcHJlc2VudHMgdGhlIGNvbnRleHQgb2YgdGhlIGdyaWQgbmVpZ2hib3Job29kIGZvciB3aGVuIGEgZ3JpZCBpcyBwYXNzZWQgdG9cclxuLy8gZXhlY3V0ZSB3b3JrZmxvdyBhcyBhbiBhcnJheS4gVXNlZCBieSB0aGUgd29ya2Zsb3cgdG8gcmVjb25zdHJ1Y3QgdGhlIG5laWdoYm9yaG9vZFxyXG5leHBvcnQgaW50ZXJmYWNlIElHcmlkTmVpZ2hib3Job29kQ29udGV4dCBleHRlbmRzIElTY2hlbWFPYmplY3Qge1xyXG4gICAgLy8gVGhlIHdpZHRoIG9mIHRoZSBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XHJcblxyXG4gICAgLy8gVGhlIGhlaWdodCBvZiB0aGUgbmVpZ2hib3Job29kXHJcbiAgICByZWFkb25seSBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICAvLyBUaGUgd2lkdGggb2YgdGhlIHJldHJpZXZlZCBwYXJ0IG9mIG5laWdoYm9yaG9vZFxyXG4gICAgcmVhZG9ubHkgcmV0cmlldmVkV2lkdGg6IG51bWJlcjtcclxuXHJcbiAgICAvLyBUaGUgaGVpZ2h0IG9mIHRoZSByZXRyaWV2ZWQgcGFydCBvZiBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IHJldHJpZXZlZEhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSByb3cgb2YgdGhlIGNlbGwgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IG5laWdoYm9yaG9vZFRvcFJvdzogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSBjb2x1bW4gb2YgdGhlIGNlbGwgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IG5laWdoYm9yaG9vZExlZnRDb2x1bW46IG51bWJlcjtcclxuXHJcbiAgICAvLyBUaGUgcm93IG9mIHRoZSBjZWxsIGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgZ3JpZCBpbnNpZGUgdGhlIG5laWdoYm9yaG9vZFxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0R3JpZFRvcFJvdzogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSBjb2x1bW4gb2YgdGhlIGNlbGwgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBncmlkIGluc2lkZSB0aGUgbmVpZ2hib3Job29kXHJcbiAgICByZWFkb25seSB0YXJnZXRHcmlkTGVmdENvbHVtbjogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVsYXRpdmUgbG9jYXRpb24gb2YgdG9wIHJvdyBvZiB0YXJnZXQgZ3JpZCBpbiB0aGUgbmVpZ2hib3Job29kXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHRhcmdldEdyaWRSZWxhdGl2ZVRvcFJvdzogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVsYXRpdmUgbG9jYXRpb24gb2YgbGVmdCBjb2x1bW4gb2YgdGFyZ2V0IGdyaWQgaW4gdGhlIG5laWdoYm9yaG9vZFxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB0YXJnZXRHcmlkUmVsYXRpdmVMZWZ0Q29sdW1uOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG5vbi1lbXB0eSBjZWxscyBvZiB0aGUgbmVpZ2hib3Job29kXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG51bWJlck9mTm9uRW1wdHlDZWxsczogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogQmFzZSBpbnRlcmZhY2UgcmVwcmVzZW50cyBhbGwgdGhlIGNvbnRleHQgaW5mb3JtYXRpb24gZm9yIGR5bmFtaWMgd29ya2Zsb3cgZXhlY3V0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJRHluYW1pY0NvbnRleHQgZXh0ZW5kcyBJU2NoZW1hT2JqZWN0IHsgfVxyXG5cclxuLyoqXHJcbiAqIEJhc2UgaW50ZXJmYWNlIHJlcHJlc2VudGluZyBzZXNzaW9uIGNvbnRleHQgaG9sZGVyLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJQ29udGV4dEhvbGRlciBleHRlbmRzIElTY2hlbWFPYmplY3QgeyB9XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHJlcHJlc2VudGluZyBVc2VyIHdpdGhpbiB0aGUgc2Vzc2lvbi5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJDb250ZXh0SG9sZGVyIGV4dGVuZHMgSUNvbnRleHRIb2xkZXIge1xyXG4gICAgLy8gQ3VycmVudGx5IGVtcHR5LCBpbiBmdXR1cmUgc2hvdWxkIHByb2JhYmx5IHRha2Ugc29tZSB1c2VyIHJlbGF0ZWQgcHJvcGVydGllcyBmcm9tIHNlc3Npb24uXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVRlbmFudENvbnRleHRIb2xkZXIgZXh0ZW5kcyBJQ29udGV4dEhvbGRlciB7XHJcbiAgICAvLyBDdXJyZW50bHkgZW1wdHksIGluIGZ1dHVyZSBzaG91bGQgcHJvYmFibHkgdGFrZSBzb21lIHRlbmFudCByZWxhdGVkIHByb3BlcnRpZXMgZnJvbSBzZXNzaW9uLlxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/tiles.js\n");

/***/ }),

/***/ "./node_modules/es6-promise/auto.js":
/*!******************************************!*\
  !*** ./node_modules/es6-promise/auto.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n\nmodule.exports = __webpack_require__(/*! ./ */ \"./node_modules/es6-promise/dist/es6-promise.js\").polyfill();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvYXV0by5qcz8wODIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDYTtBQUNiLGlCQUFpQixtQkFBTyxDQUFDLDBEQUFJIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlL2F1dG8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGZpbGUgY2FuIGJlIHJlcXVpcmVkIGluIEJyb3dzZXJpZnkgYW5kIE5vZGUuanMgZm9yIGF1dG9tYXRpYyBwb2x5ZmlsbFxuLy8gVG8gdXNlIGl0OiAgcmVxdWlyZSgnZXM2LXByb21pc2UvYXV0bycpO1xuJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLycpLnBvbHlmaWxsKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/auto.js\n");

/***/ }),

/***/ "./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process, global) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29uZmlnL3ZlcnNpb25UZW1wbGF0ZS50eHQ/MDk1MCIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3V0aWxzLmpzP2ZhYTEiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9hc2FwLmpzPzc2N2YiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS90aGVuLmpzP2JhYzYiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9wcm9taXNlL3Jlc29sdmUuanM/MDQwNSIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlLy1pbnRlcm5hbC5qcz9mMWI2Iiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvZW51bWVyYXRvci5qcz9hNGJjIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS9hbGwuanM/YzFhNyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmFjZS5qcz8zN2NiIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS9yZWplY3QuanM/NTFjNyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UuanM/NTQwYiIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3BvbHlmaWxsLmpzPzAzNTUiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS5qcz8yZDRlIl0sIm5hbWVzIjpbInJlc29sdmUiLCJfcmVzb2x2ZSIsInRoZW4iLCJvcmlnaW5hbFRoZW4iLCJvcmlnaW5hbFJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiX3JlamVjdCIsIlJlc29sdmUiLCJSZWplY3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDTk8sU0FBUyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7RUFDbEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUM7RUFDcEIsT0FBTyxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUks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QUFJLENBQUMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDOztFQUV0QixJQUFJLENBQUMsRUFBRTtJQUNMLElBQUksZUFBZSxHQUFHLElBQUksQ0FBQztJQUMzQixJQUFJO01BQ0YsZUFBZSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztLQUMvRCxDQUFDLE9BQU8sQ0FBQyxFQUFFOztLQUVYOztJQUVELElBQUksZUFBZSxLQUFLLGtCQUFrQixJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtNQUNyRCxPQUFPO0tBQ1I7R0FDRjs7RUFFRCxLQUFLLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUM7OztBQzlCMUIsQ0QrQkM7QUM5QkRBLFNBQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQzVCQSxTQUFPLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cbiIsImV4cG9ydCBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaXNBcnJheSA9IF9pc0FycmF5OyIsInZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxuZXhwb3J0IHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn0iLCJpbXBvcnQgeyBpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlLCBGVUxGSUxMRUQsIFJFSkVDVEVELCBub29wLCBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSIsImltcG9ydCB7IG5vb3AsIHJlc29sdmUgYXMgX3Jlc29sdmUgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufSIsImltcG9ydCB7IG9iamVjdE9yRnVuY3Rpb24sIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBvcmlnaW5hbFRoZW4gZnJvbSAnLi90aGVuJztcbmltcG9ydCBvcmlnaW5hbFJlc29sdmUgZnJvbSAnLi9wcm9taXNlL3Jlc29sdmUnO1xuXG5leHBvcnQgdmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuID09PSBvcmlnaW5hbFRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBvcmlnaW5hbFJlc29sdmUpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4pO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZXhwb3J0IHsgbmV4dElkLCBtYWtlUHJvbWlzZSwgbm9vcCwgcmVzb2x2ZSwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIHB1Ymxpc2gsIHB1Ymxpc2hSZWplY3Rpb24sIGluaXRpYWxpemVQcm9taXNlLCBpbnZva2VDYWxsYmFjaywgRlVMRklMTEVELCBSRUpFQ1RFRCwgUEVORElORywgaGFuZGxlTWF5YmVUaGVuYWJsZSB9OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTWF5YmVUaGVuYWJsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIEZVTEZJTExFRCwgUkVKRUNURUQsIFBFTkRJTkcsIGhhbmRsZU1heWJlVGhlbmFibGUgfSBmcm9tICcuLy1pbnRlcm5hbCc7XG5cbmltcG9ydCB0aGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IG9yaWdpbmFsUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgb3JpZ2luYWxUaGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgeyBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUgPT09IG9yaWdpbmFsUmVzb2x2ZSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IG9yaWdpbmFsVGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRW51bWVyYXRvcjtcbjsiLCJpbXBvcnQgRW51bWVyYXRvciBmcm9tICcuLi9lbnVtZXJhdG9yJztcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbm9vcCwgcmVqZWN0IGFzIF9yZWplY3QgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgbmV4dElkLCBQUk9NSVNFX0lELCBpbml0aWFsaXplUHJvbWlzZSB9IGZyb20gJy4vLWludGVybmFsJztcbmltcG9ydCB7IGFzYXAsIHNldEFzYXAsIHNldFNjaGVkdWxlciB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBhbGwgZnJvbSAnLi9wcm9taXNlL2FsbCc7XG5pbXBvcnQgcmFjZSBmcm9tICcuL3Byb21pc2UvcmFjZSc7XG5pbXBvcnQgUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgUmVqZWN0IGZyb20gJy4vcHJvbWlzZS9yZWplY3QnO1xuaW1wb3J0IHRoZW4gZnJvbSAnLi90aGVuJztcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gUmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gUmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDsiLCIvKmdsb2JhbCBzZWxmKi9cbmltcG9ydCBQcm9taXNlIGZyb20gJy4vcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn0iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2VzNi1wcm9taXNlL3Byb21pc2UnO1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJy4vZXM2LXByb21pc2UvcG9seWZpbGwnO1xuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/dist/es6-promise.js\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzP2U1YzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __createBinding, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__extends\", function() { return __extends; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__rest\", function() { return __rest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__decorate\", function() { return __decorate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__param\", function() { return __param; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__metadata\", function() { return __metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__awaiter\", function() { return __awaiter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__generator\", function() { return __generator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__createBinding\", function() { return __createBinding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__exportStar\", function() { return __exportStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__values\", function() { return __values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__read\", function() { return __read; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spread\", function() { return __spread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spreadArrays\", function() { return __spreadArrays; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__await\", function() { return __await; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncGenerator\", function() { return __asyncGenerator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncDelegator\", function() { return __asyncDelegator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncValues\", function() { return __asyncValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__makeTemplateObject\", function() { return __makeTemplateObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importStar\", function() { return __importStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importDefault\", function() { return __importDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldGet\", function() { return __classPrivateFieldGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldSet\", function() { return __classPrivateFieldSet; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzP2ZlYzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTs7QUFFTztBQUNQO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBOztBQUVPO0FBQ1A7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBOztBQUVPO0FBQ1AsbUNBQW1DLG9DQUFvQztBQUN2RTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUCwyQkFBMkIsK0RBQStELGdCQUFnQixFQUFFLEVBQUU7QUFDOUc7QUFDQSxtQ0FBbUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNqRyxrQ0FBa0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNwRywrQkFBK0IscUZBQXFGO0FBQ3BIO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixNQUFNLGdCQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7O0FBRU87QUFDUCxpREFBaUQsUUFBUTtBQUN6RCx3Q0FBd0MsUUFBUTtBQUNoRCx3REFBd0QsUUFBUTtBQUNoRTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQixzRkFBc0YsYUFBYSxFQUFFO0FBQ3RILHNCQUFzQixnQ0FBZ0MscUNBQXFDLDBDQUEwQyxFQUFFLEVBQUUsR0FBRztBQUM1SSwyQkFBMkIsTUFBTSxlQUFlLEVBQUUsWUFBWSxvQkFBb0IsRUFBRTtBQUNwRixzQkFBc0Isb0dBQW9HO0FBQzFILDZCQUE2Qix1QkFBdUI7QUFDcEQsNEJBQTRCLHdCQUF3QjtBQUNwRCwyQkFBMkIseURBQXlEO0FBQ3BGOztBQUVPO0FBQ1A7QUFDQSxpQkFBaUIsNENBQTRDLFNBQVMsRUFBRSxxREFBcUQsYUFBYSxFQUFFO0FBQzVJLHlCQUF5Qiw2QkFBNkIsb0JBQW9CLGdEQUFnRCxnQkFBZ0IsRUFBRSxLQUFLO0FBQ2pKOztBQUVPO0FBQ1A7QUFDQTtBQUNBLDJHQUEyRyxzRkFBc0YsYUFBYSxFQUFFO0FBQ2hOLHNCQUFzQiw4QkFBOEIsZ0RBQWdELHVEQUF1RCxFQUFFLEVBQUUsR0FBRztBQUNsSyw0Q0FBNEMsc0NBQXNDLFVBQVUsb0JBQW9CLEVBQUUsRUFBRSxVQUFVO0FBQzlIOztBQUVPO0FBQ1AsZ0NBQWdDLHVDQUF1QyxhQUFhLEVBQUUsRUFBRSxPQUFPLGtCQUFrQjtBQUNqSDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNENBQTRDO0FBQzVDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzc3ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./node_modules/whatwg-fetch/fetch.js":
/*!********************************************!*\
  !*** ./node_modules/whatwg-fetch/fetch.js ***!
  \********************************************/
/*! exports provided: Headers, Request, Response, DOMException, fetch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return Headers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Request\", function() { return Request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return Response; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMException\", function() { return DOMException; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\nvar global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzPzM1NjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EscUNBQXFDLDBCQUEwQjtBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLDBCQUEwQixlQUFlO0FBQ3RFOztBQUVPO0FBQ1A7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID1cbiAgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzKSB8fFxuICAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYpIHx8XG4gICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwpXG5cbnZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIGdsb2JhbCxcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIGdsb2JhbCAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgYmxvYjpcbiAgICAnRmlsZVJlYWRlcicgaW4gZ2xvYmFsICYmXG4gICAgJ0Jsb2InIGluIGdsb2JhbCAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gZ2xvYmFsLFxuICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBnbG9iYWxcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH4hXS9pLnRlc3QobmFtZSkgfHwgbmFtZSA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZTogXCInICsgbmFtZSArICdcIicpXG4gIH1cbiAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgdmFyIGl0ZXJhdG9yID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXRlcmF0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICB0aGlzLm1hcCA9IHt9XG5cbiAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgfSwgdGhpcylcbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUgKyAnLCAnICsgdmFsdWUgOiB2YWx1ZVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICB9XG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKG5hbWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGl0ZW1zLnB1c2godmFsdWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbn1cblxuZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgfVxuICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgfVxuICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbignJylcbn1cblxuZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gIGlmIChidWYuc2xpY2UpIHtcbiAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gIH0gZWxzZSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICB9XG59XG5cbmZ1bmN0aW9uIEJvZHkoKSB7XG4gIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgIC8qXG4gICAgICBmZXRjaC1tb2NrIHdyYXBzIHRoZSBSZXNwb25zZSBvYmplY3QgaW4gYW4gRVM2IFByb3h5IHRvXG4gICAgICBwcm92aWRlIHVzZWZ1bCB0ZXN0IGhhcm5lc3MgZmVhdHVyZXMgc3VjaCBhcyBmbHVzaC4gSG93ZXZlciwgb25cbiAgICAgIEVTNSBicm93c2VycyB3aXRob3V0IGZldGNoIG9yIFByb3h5IHN1cHBvcnQgcG9sbHlmaWxscyBtdXN0IGJlIHVzZWQ7XG4gICAgICB0aGUgcHJveHktcG9sbHlmaWxsIGlzIHVuYWJsZSB0byBwcm94eSBhbiBhdHRyaWJ1dGUgdW5sZXNzIGl0IGV4aXN0c1xuICAgICAgb24gdGhlIG9iamVjdCBiZWZvcmUgdGhlIFByb3h5IGlzIGNyZWF0ZWQuIFRoaXMgY2hhbmdlIGVuc3VyZXNcbiAgICAgIFJlc3BvbnNlLmJvZHlVc2VkIGV4aXN0cyBvbiB0aGUgaW5zdGFuY2UsIHdoaWxlIG1haW50YWluaW5nIHRoZVxuICAgICAgc2VtYW50aWMgb2Ygc2V0dGluZyBSZXF1ZXN0LmJvZHlVc2VkIGluIHRoZSBjb25zdHJ1Y3RvciBiZWZvcmVcbiAgICAgIF9pbml0Qm9keSBpcyBjYWxsZWQuXG4gICAgKi9cbiAgICB0aGlzLmJvZHlVc2VkID0gdGhpcy5ib2R5VXNlZFxuICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgIGlmICghYm9keSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChib2R5KVxuICAgIH1cblxuICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICB2YXIgaXNDb25zdW1lZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChpc0NvbnN1bWVkKSB7XG4gICAgICAgICAgcmV0dXJuIGlzQ29uc3VtZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ1ZmZlci5zbGljZShcbiAgICAgICAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlT2Zmc2V0ICsgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICB9XG4gIH1cblxuICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG52YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG5mdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgcmV0dXJuIG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xID8gdXBjYXNlZCA6IG1ldGhvZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVxdWVzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgdXNlIHRoZSBcIm5ld1wiIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgfVxuICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgIHRoaXMuc2lnbmFsID0gaW5wdXQuc2lnbmFsXG4gICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gIH1cblxuICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbidcbiAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB9XG4gIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgdGhpcy5zaWduYWwgPSBvcHRpb25zLnNpZ25hbCB8fCB0aGlzLnNpZ25hbFxuICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gIH1cbiAgdGhpcy5faW5pdEJvZHkoYm9keSlcblxuICBpZiAodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpIHtcbiAgICBpZiAob3B0aW9ucy5jYWNoZSA9PT0gJ25vLXN0b3JlJyB8fCBvcHRpb25zLmNhY2hlID09PSAnbm8tY2FjaGUnKSB7XG4gICAgICAvLyBTZWFyY2ggZm9yIGEgJ18nIHBhcmFtZXRlciBpbiB0aGUgcXVlcnkgc3RyaW5nXG4gICAgICB2YXIgcmVQYXJhbVNlYXJjaCA9IC8oWz8mXSlfPVteJl0qL1xuICAgICAgaWYgKHJlUGFyYW1TZWFyY2gudGVzdCh0aGlzLnVybCkpIHtcbiAgICAgICAgLy8gSWYgaXQgYWxyZWFkeSBleGlzdHMgdGhlbiBzZXQgdGhlIHZhbHVlIHdpdGggdGhlIGN1cnJlbnQgdGltZVxuICAgICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UocmVQYXJhbVNlYXJjaCwgJyQxXz0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGEgbmV3ICdfJyBwYXJhbWV0ZXIgdG8gdGhlIGVuZCB3aXRoIHRoZSBjdXJyZW50IHRpbWVcbiAgICAgICAgdmFyIHJlUXVlcnlTdHJpbmcgPSAvXFw/L1xuICAgICAgICB0aGlzLnVybCArPSAocmVRdWVyeVN0cmluZy50ZXN0KHRoaXMudXJsKSA/ICcmJyA6ICc/JykgKyAnXz0nICsgbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHtib2R5OiB0aGlzLl9ib2R5SW5pdH0pXG59XG5cbmZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgYm9keVxuICAgIC50cmltKClcbiAgICAuc3BsaXQoJyYnKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICByZXR1cm4gZm9ybVxufVxuXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzIzMCNzZWN0aW9uLTMuMlxuICB2YXIgcHJlUHJvY2Vzc2VkSGVhZGVycyA9IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKVxuICAvLyBBdm9pZGluZyBzcGxpdCB2aWEgcmVnZXggdG8gd29yayBhcm91bmQgYSBjb21tb24gSUUxMSBidWcgd2l0aCB0aGUgY29yZS1qcyAzLjYuMCByZWdleCBwb2x5ZmlsbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2l0aHViL2ZldGNoL2lzc3Vlcy83NDhcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzc1MVxuICBwcmVQcm9jZXNzZWRIZWFkZXJzXG4gICAgLnNwbGl0KCdcXHInKVxuICAgIC5tYXAoZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICByZXR1cm4gaGVhZGVyLmluZGV4T2YoJ1xcbicpID09PSAwID8gaGVhZGVyLnN1YnN0cigxLCBoZWFkZXIubGVuZ3RoKSA6IGhlYWRlclxuICAgIH0pXG4gICAgLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBoZWFkZXJzXG59XG5cbkJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXNwb25zZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgdXNlIHRoZSBcIm5ld1wiIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpXG4gIH1cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSBvcHRpb25zLnN0YXR1c1RleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogJycgKyBvcHRpb25zLnN0YXR1c1RleHRcbiAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxufVxuXG5Cb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG5SZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgdXJsOiB0aGlzLnVybFxuICB9KVxufVxuXG5SZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxudmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cblJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxufVxuXG5leHBvcnQgdmFyIERPTUV4Y2VwdGlvbiA9IGdsb2JhbC5ET01FeGNlcHRpb25cbnRyeSB7XG4gIG5ldyBET01FeGNlcHRpb24oKVxufSBjYXRjaCAoZXJyKSB7XG4gIERPTUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIG5hbWUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHZhciBlcnJvciA9IEVycm9yKG1lc3NhZ2UpXG4gICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrXG4gIH1cbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRE9NRXhjZXB0aW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaChpbnB1dCwgaW5pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgIH1cblxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgZnVuY3Rpb24gYWJvcnRYaHIoKSB7XG4gICAgICB4aHIuYWJvcnQoKVxuICAgIH1cblxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgfVxuICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH0sIDApXG4gICAgfVxuXG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH0sIDApXG4gICAgfVxuXG4gICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICAgIH0sIDApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZml4VXJsKHVybCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHVybCA9PT0gJycgJiYgZ2xvYmFsLmxvY2F0aW9uLmhyZWYgPyBnbG9iYWwubG9jYXRpb24uaHJlZiA6IHVybFxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdXJsXG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIGZpeFVybChyZXF1ZXN0LnVybCksIHRydWUpXG5cbiAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ29taXQnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyKSB7XG4gICAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHN1cHBvcnQuYXJyYXlCdWZmZXIgJiZcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgJiZcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykuaW5kZXhPZignYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJykgIT09IC0xXG4gICAgICApIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5pdCAmJiB0eXBlb2YgaW5pdC5oZWFkZXJzID09PSAnb2JqZWN0JyAmJiAhKGluaXQuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpbml0LmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCBub3JtYWxpemVWYWx1ZShpbml0LmhlYWRlcnNbbmFtZV0pKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICB9KVxufVxuXG5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblxuaWYgKCFnbG9iYWwuZmV0Y2gpIHtcbiAgZ2xvYmFsLmZldGNoID0gZmV0Y2hcbiAgZ2xvYmFsLkhlYWRlcnMgPSBIZWFkZXJzXG4gIGdsb2JhbC5SZXF1ZXN0ID0gUmVxdWVzdFxuICBnbG9iYWwuUmVzcG9uc2UgPSBSZXNwb25zZVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/whatwg-fetch/fetch.js\n");

/***/ }),

/***/ "./scripts/app/App_Floodgate_Bare.ts":
/*!*******************************************!*\
  !*** ./scripts/app/App_Floodgate_Bare.ts ***!
  \*******************************************/
/*! exports provided: getEngineStartPromise, resetEngine, setEngineStartPromise, start, startInternal, stop, initialize, reset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony import */ var _CommonApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommonApp */ \"./scripts/app/CommonApp.ts\");\n/* harmony import */ var _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CommonFloodgate */ \"./scripts/app/CommonFloodgate.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateTelemetryLogger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FloodgateCore/FloodgateTelemetryLogger */ \"./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Constants */ \"../FloodgateCore/dist/src/Constants.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getEngineStartPromise\", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"getEngineStartPromise\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"resetEngine\", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"resetEngine\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setEngineStartPromise\", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"setEngineStartPromise\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"start\", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"start\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"startInternal\", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"startInternal\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"stop\", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"stop\"]; });\n\n/**\r\n * App_Floodgate_Bare.ts\r\n *\r\n * The entry point for floodgate with core functionality only, no UI support.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DefaultFloodgateStringProvider = /** @class */ (function () {\r\n    function DefaultFloodgateStringProvider() {\r\n    }\r\n    DefaultFloodgateStringProvider.prototype.loadStringResource = function (stringId) {\r\n        return \"na\";\r\n    };\r\n    DefaultFloodgateStringProvider.prototype.getCustomString = function (str) {\r\n        return \"na\";\r\n    };\r\n    return DefaultFloodgateStringProvider;\r\n}());\r\n/**\r\n * Initialize. Must be called before any other call to floodgate.\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction initialize() {\r\n    return new Promise(function (resolve, reject) {\r\n        var rejectAndLogError = function (errorMessage) {\r\n            var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_4__[\"FloodgateEngine\"].getTelemetryLogger();\r\n            if (telemetryLogger) {\r\n                telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_5__[\"TelemetryEvent\"].Floodgate.Initialize.Failed, { ErrorMessage: errorMessage });\r\n            }\r\n            reject(errorMessage);\r\n        };\r\n        if (_CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"getInitialized\"]()) {\r\n            resolve();\r\n            return;\r\n        }\r\n        try {\r\n            _CommonApp__WEBPACK_IMPORTED_MODULE_0__[\"initialize\"]();\r\n        }\r\n        catch (err) {\r\n            rejectAndLogError(\"CommonApp initialization failed: {\" + err + \"}\");\r\n            return;\r\n        }\r\n        _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_4__[\"FloodgateEngine\"].setTelemetryLogger(new _FloodgateCore_FloodgateTelemetryLogger__WEBPACK_IMPORTED_MODULE_3__[\"default\"]());\r\n        try {\r\n            // Use a dummy string provider as App_Floodgate_Bare doesn't support UIStrings\r\n            _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"setStringProvider\"](new DefaultFloodgateStringProvider());\r\n            _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"initialize\"]();\r\n        }\r\n        catch (err) {\r\n            rejectAndLogError(\"CommonFloodgate initialization failed: {\" + err + \"}\");\r\n            return;\r\n        }\r\n        resolve();\r\n    });\r\n}\r\n/**\r\n * Reset the floodgate module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    _CommonApp__WEBPACK_IMPORTED_MODULE_0__[\"reset\"]();\r\n    _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__[\"reset\"]();\r\n}\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__[\"setFloodgateInitialize\"](initialize);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9BcHBfRmxvb2RnYXRlX0JhcmUudHM/OTRkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUNzQztBQUNZO0FBQ1g7QUFDc0M7QUFHbEI7QUFDa0I7QUFHdkQ7QUFFekI7SUFBQTtJQVFBLENBQUM7SUFQTywyREFBa0IsR0FBekIsVUFBMEIsUUFBaUQ7UUFDMUUsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sd0RBQWUsR0FBdEIsVUFBdUIsR0FBVztRQUNqQyxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFDRixxQ0FBQztBQUFELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLFVBQVU7SUFDekIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQU0saUJBQWlCLEdBQUcsVUFBQyxZQUFvQjtZQUM5QyxJQUFNLGVBQWUsR0FBRywyRUFBZSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDN0QsSUFBSSxlQUFlLEVBQUU7Z0JBQ3BCLGVBQWUsQ0FBQyxTQUFTLENBQUMsNkZBQWMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO2FBQ3RHO1lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3RCLENBQUMsQ0FBQztRQUVGLElBQUksK0RBQThCLEVBQUUsRUFBRTtZQUNyQyxPQUFPLEVBQUUsQ0FBQztZQUNWLE9BQU87U0FDUDtRQUVELElBQUk7WUFDSCxxREFBb0IsRUFBRSxDQUFDO1NBQ3ZCO1FBQUMsT0FBTyxHQUFHLEVBQUU7WUFDYixpQkFBaUIsQ0FBQyxvQ0FBb0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDcEUsT0FBTztTQUNQO1FBRUQsMkVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLCtFQUF3QixFQUFFLENBQUMsQ0FBQztRQUVuRSxJQUFJO1lBQ0gsOEVBQThFO1lBQzlFLGtFQUFpQyxDQUFDLElBQUksOEJBQThCLEVBQUUsQ0FBQyxDQUFDO1lBQ3hFLDJEQUEwQixFQUFFLENBQUM7U0FDN0I7UUFBQyxPQUFPLEdBQUcsRUFBRTtZQUNiLGlCQUFpQixDQUFDLDBDQUEwQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUMxRSxPQUFPO1NBQ1A7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxLQUFLO0lBQ3BCLGdEQUFlLEVBQUUsQ0FBQztJQUNsQixzREFBcUIsRUFBRSxDQUFDO0FBQ3pCLENBQUM7QUFFRCxxRUFBNkIsQ0FBQyxVQUFVLENBQUMsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0FwcF9GbG9vZGdhdGVfQmFyZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBcHBfRmxvb2RnYXRlX0JhcmUudHNcclxuICpcclxuICogVGhlIGVudHJ5IHBvaW50IGZvciBmbG9vZGdhdGUgd2l0aCBjb3JlIGZ1bmN0aW9uYWxpdHkgb25seSwgbm8gVUkgc3VwcG9ydC5cclxuICovXHJcbmltcG9ydCAqIGFzIENvbW1vbkFwcCBmcm9tIFwiLi9Db21tb25BcHBcIjtcclxuaW1wb3J0ICogYXMgQ29tbW9uRmxvb2RnYXRlIGZyb20gXCIuL0NvbW1vbkZsb29kZ2F0ZVwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBBcGkgZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0NvbnN0YW50c1wiO1xyXG5cclxuZXhwb3J0IHsgZ2V0RW5naW5lU3RhcnRQcm9taXNlLCByZXNldEVuZ2luZSwgc2V0RW5naW5lU3RhcnRQcm9taXNlLCBzdGFydCwgc3RhcnRJbnRlcm5hbCwgc3RvcCB9XHJcblx0ZnJvbSBcIi4vQ29tbW9uRmxvb2RnYXRlXCJcclxuXHJcbmNsYXNzIERlZmF1bHRGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBpbXBsZW1lbnRzIEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIge1xyXG5cdHB1YmxpYyBsb2FkU3RyaW5nUmVzb3VyY2Uoc3RyaW5nSWQ6IEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZSk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJuYVwiO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEN1c3RvbVN0cmluZyhzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJuYVwiO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUuIE11c3QgYmUgY2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgY2FsbCB0byBmbG9vZGdhdGUuXHJcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIHJlamVjdGVkIGlmIHRoZSBjYWxsIGZhaWxzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0Y29uc3QgcmVqZWN0QW5kTG9nRXJyb3IgPSAoZXJyb3JNZXNzYWdlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0Y29uc3QgdGVsZW1ldHJ5TG9nZ2VyID0gRmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpO1xyXG5cdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuSW5pdGlhbGl6ZS5GYWlsZWQsIHsgRXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UgfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJlamVjdChlcnJvck1lc3NhZ2UpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAoQ29tbW9uRmxvb2RnYXRlLmdldEluaXRpYWxpemVkKCkpIHtcclxuXHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Q29tbW9uQXBwLmluaXRpYWxpemUoKTtcclxuXHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRyZWplY3RBbmRMb2dFcnJvcihcIkNvbW1vbkFwcCBpbml0aWFsaXphdGlvbiBmYWlsZWQ6IHtcIiArIGVyciArIFwifVwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdEZsb29kZ2F0ZUVuZ2luZS5zZXRUZWxlbWV0cnlMb2dnZXIobmV3IEZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlcigpKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBVc2UgYSBkdW1teSBzdHJpbmcgcHJvdmlkZXIgYXMgQXBwX0Zsb29kZ2F0ZV9CYXJlIGRvZXNuJ3Qgc3VwcG9ydCBVSVN0cmluZ3NcclxuXHRcdFx0Q29tbW9uRmxvb2RnYXRlLnNldFN0cmluZ1Byb3ZpZGVyKG5ldyBEZWZhdWx0Rmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIoKSk7XHJcblx0XHRcdENvbW1vbkZsb29kZ2F0ZS5pbml0aWFsaXplKCk7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJDb21tb25GbG9vZGdhdGUgaW5pdGlhbGl6YXRpb24gZmFpbGVkOiB7XCIgKyBlcnIgKyBcIn1cIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXNvbHZlKCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgZmxvb2RnYXRlIG1vZHVsZS4gVXNlZCBpbiB1bml0IHRlc3RzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KCkge1xyXG5cdENvbW1vbkFwcC5yZXNldCgpO1xyXG5cdENvbW1vbkZsb29kZ2F0ZS5yZXNldCgpO1xyXG59XHJcblxyXG5XaW5kb3cuc2V0Rmxvb2RnYXRlSW5pdGlhbGl6ZShpbml0aWFsaXplKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/App_Floodgate_Bare.ts\n");

/***/ }),

/***/ "./scripts/app/Common/UrlUtils.ts":
/*!****************************************!*\
  !*** ./scripts/app/Common/UrlUtils.ts ***!
  \****************************************/
/*! exports provided: buildQueryParameters */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildQueryParameters\", function() { return buildQueryParameters; });\n/*\r\n * UrlUtils.ts\r\n */\r\nfunction buildQueryParameters(keyAndValues, encodeValueAsURI) {\r\n    if (encodeValueAsURI === void 0) { encodeValueAsURI = true; }\r\n    var queryParamsString = \"\";\r\n    for (var key in keyAndValues || []) {\r\n        if (keyAndValues.hasOwnProperty(key)) {\r\n            var value = keyAndValues[key];\r\n            if (value !== null && value !== undefined && typeof value !== \"object\") {\r\n                var prefix = !queryParamsString ? \"\" : \"&\";\r\n                var encodedValue = encodeValueAsURI ? encodeURIComponent(value) : value;\r\n                var queryParamItem = key + \"=\" + encodedValue;\r\n                queryParamsString += prefix + queryParamItem;\r\n            }\r\n        }\r\n    }\r\n    return queryParamsString;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb24vVXJsVXRpbHMudHM/MmQ5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFNSSxTQUFTLG9CQUFvQixDQUFDLFlBQTBCLEVBQUUsZ0JBQWdDO0lBQWhDLDBEQUFnQztJQUNoRyxJQUFJLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztJQUMzQixLQUFLLElBQU0sR0FBRyxJQUFJLFlBQVksSUFBSSxFQUFFLEVBQUU7UUFDckMsSUFBSSxZQUFZLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3JDLElBQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQyxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7Z0JBQ3ZFLElBQU0sTUFBTSxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO2dCQUM3QyxJQUFNLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztnQkFDMUUsSUFBTSxjQUFjLEdBQU0sR0FBRyxTQUFJLFlBQWMsQ0FBQztnQkFDaEQsaUJBQWlCLElBQUksTUFBTSxHQUFHLGNBQWMsQ0FBQzthQUM3QztTQUNEO0tBQ0Q7SUFFRCxPQUFPLGlCQUFpQixDQUFDO0FBQzFCLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db21tb24vVXJsVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBVcmxVdGlscy50c1xyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVF1ZXJ5UGFyYW1zIHtcclxuXHRba2V5OiBzdHJpbmddOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5UGFyYW1ldGVycyhrZXlBbmRWYWx1ZXM6IElRdWVyeVBhcmFtcywgZW5jb2RlVmFsdWVBc1VSSTogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcge1xyXG5cdGxldCBxdWVyeVBhcmFtc1N0cmluZyA9IFwiXCI7XHJcblx0Zm9yIChjb25zdCBrZXkgaW4ga2V5QW5kVmFsdWVzIHx8IFtdKSB7XHJcblx0XHRpZiAoa2V5QW5kVmFsdWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBrZXlBbmRWYWx1ZXNba2V5XTtcclxuXHRcdFx0aWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XHJcblx0XHRcdFx0Y29uc3QgcHJlZml4ID0gIXF1ZXJ5UGFyYW1zU3RyaW5nID8gXCJcIiA6IFwiJlwiO1xyXG5cdFx0XHRcdGNvbnN0IGVuY29kZWRWYWx1ZSA9IGVuY29kZVZhbHVlQXNVUkkgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XHJcblx0XHRcdFx0Y29uc3QgcXVlcnlQYXJhbUl0ZW0gPSBgJHtrZXl9PSR7ZW5jb2RlZFZhbHVlfWA7XHJcblx0XHRcdFx0cXVlcnlQYXJhbXNTdHJpbmcgKz0gcHJlZml4ICsgcXVlcnlQYXJhbUl0ZW07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBxdWVyeVBhcmFtc1N0cmluZztcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Common/UrlUtils.ts\n");

/***/ }),

/***/ "./scripts/app/CommonApp.ts":
/*!**********************************!*\
  !*** ./scripts/app/CommonApp.ts ***!
  \**********************************/
/*! exports provided: initialize, reset, isFeedbackSurveyEnabledByAADC */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFeedbackSurveyEnabledByAADC\", function() { return isFeedbackSurveyEnabledByAADC; });\n/* harmony import */ var _Polyfills_Promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Polyfills/Promise */ \"./scripts/app/Polyfills/Promise.ts\");\n/* harmony import */ var _Version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Version */ \"./scripts/app/Version.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * CommonApp.ts\r\n *\r\n * Common logic for entrypoints.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar APP_NAME = \"OfficeFeedbackSDK\";\r\n/**\r\n * Has the SDK been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Has the SDK allow AADC\r\n */\r\nvar commonPolicyAllowAADC = false;\r\n/**\r\n * Initialize\r\n */\r\nfunction initialize() {\r\n    if (initialized) {\r\n        return;\r\n    }\r\n    if (!_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.initOptions) {\r\n        throw new Error(\"Window.OfficeBrowserFeedback.initOptions not set\");\r\n    }\r\n    _Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.sdkVersion = _Version__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().setCommonInitOptions(_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.initOptions);\r\n    commonPolicyAllowAADC = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().isFeedbackSurveyEnabledByAADC();\r\n    _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"initialize\"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions(), APP_NAME, _Version__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getSdkSessionId(), _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getEventSampling());\r\n    initialized = true;\r\n    if (!commonPolicyAllowAADC) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].FEEDBACK_SURVEYSDISABLED_AADC, 1 /* Critical */, {\r\n            Data: JSON.stringify({\r\n                ageGroup: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions().ageGroup,\r\n                authenticationType: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions().authenticationType,\r\n            }),\r\n        });\r\n    }\r\n}\r\n/**\r\n * Reset the module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n}\r\n/**\r\n * Return Flag to determine whether Feedback and Survey is enabled by AADC.\r\n * Return true if Feedback and Survey is enabled.\r\n * Otherwise, return false.\r\n */\r\nfunction isFeedbackSurveyEnabledByAADC() {\r\n    return commonPolicyAllowAADC;\r\n}\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"setIsFeedbackSurveyEnabledByAADC\"](isFeedbackSurveyEnabledByAADC);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25BcHAudHM/MWE5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRTBCO0FBRUc7QUFDK0I7QUFDckI7QUFDRztBQUU3QyxJQUFNLFFBQVEsR0FBVyxtQkFBbUIsQ0FBQztBQUU3Qzs7R0FFRztBQUNILElBQUksV0FBVyxHQUFZLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILElBQUkscUJBQXFCLEdBQVksS0FBSyxDQUFDO0FBRTNDOztHQUVHO0FBQ0ksU0FBUyxVQUFVO0lBQ3pCLElBQUksV0FBVyxFQUFFO1FBQ2hCLE9BQU87S0FDUDtJQUVELElBQUksQ0FBQyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxFQUFFO1FBQ3BELE1BQU0sSUFBSSxLQUFLLENBQUMsa0RBQWtELENBQUMsQ0FBQztLQUNwRTtJQUVELGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLEdBQUcsZ0RBQU8sQ0FBQztJQUN4RCxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixDQUFDLGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN6RixxQkFBcUIsR0FBRyxnRUFBaUIsRUFBRSxDQUFDLDZCQUE2QixFQUFFLENBQUM7SUFFNUUsMkRBQWtCLENBQ2pCLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsRUFDMUMsUUFBUSxFQUNSLGdEQUFPLEVBQ1AsZ0VBQWlCLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFDckMsZ0VBQWlCLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUN0QyxDQUFDO0lBRUYsV0FBVyxHQUFHLElBQUksQ0FBQztJQUVuQixJQUFJLENBQUMscUJBQXFCLEVBQUU7UUFDM0IsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsNkJBQTZCLG9CQUUxRTtZQUNDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUNwQixRQUFRLEVBQUUsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFFBQVE7Z0JBQzdELGtCQUFrQixFQUFFLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxrQkFBa0I7YUFDakYsQ0FBQztTQUNGLENBQUMsQ0FBQztLQUNKO0FBQ0YsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxLQUFLO0lBQ3BCLFdBQVcsR0FBRyxLQUFLLENBQUM7QUFDckIsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSSxTQUFTLDZCQUE2QjtJQUM1QyxPQUFPLHFCQUFxQixDQUFDO0FBQzlCLENBQUM7QUFFRCwrRUFBdUMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQ29tbW9uQXBwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbW1vbkFwcC50c1xyXG4gKlxyXG4gKiBDb21tb24gbG9naWMgZm9yIGVudHJ5cG9pbnRzLlxyXG4gKi9cclxuXHJcbmltcG9ydCBcIi4vUG9seWZpbGxzL1Byb21pc2VcIjtcclxuXHJcbmltcG9ydCBWZXJzaW9uIGZyb20gXCIuL1ZlcnNpb25cIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0ICogYXMgV2luZG93IGZyb20gXCIuL1dpbmRvdy9XaW5kb3dcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmNvbnN0IEFQUF9OQU1FOiBzdHJpbmcgPSBcIk9mZmljZUZlZWRiYWNrU0RLXCI7XHJcblxyXG4vKipcclxuICogSGFzIHRoZSBTREsgYmVlbiBpbml0aWFsaXplZFxyXG4gKi9cclxubGV0IGluaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogSGFzIHRoZSBTREsgYWxsb3cgQUFEQ1xyXG4gKi9cclxubGV0IGNvbW1vblBvbGljeUFsbG93QUFEQzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IHZvaWQge1xyXG5cdGlmIChpbml0aWFsaXplZCkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0aWYgKCFXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJXaW5kb3cuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zIG5vdCBzZXRcIik7XHJcblx0fVxyXG5cclxuXHRXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNka1ZlcnNpb24gPSBWZXJzaW9uO1xyXG5cdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0Q29tbW9uSW5pdE9wdGlvbnMoV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5pbml0T3B0aW9ucyk7XHJcblx0Y29tbW9uUG9saWN5QWxsb3dBQURDID0gQ29uZmlndXJhdGlvbi5nZXQoKS5pc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQygpO1xyXG5cclxuXHRMb2dnaW5nLmluaXRpYWxpemUoXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCksXHJcblx0XHRBUFBfTkFNRSxcclxuXHRcdFZlcnNpb24sXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldFNka1Nlc3Npb25JZCgpLFxyXG5cdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRFdmVudFNhbXBsaW5nKClcclxuXHQpO1xyXG5cclxuXHRpbml0aWFsaXplZCA9IHRydWU7XHJcblxyXG5cdGlmICghY29tbW9uUG9saWN5QWxsb3dBQURDKSB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuRkVFREJBQ0tfU1VSVkVZU0RJU0FCTEVEX0FBREMsXHJcblx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdHtcclxuXHRcdFx0XHREYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XHRhZ2VHcm91cDogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFnZUdyb3VwLFxyXG5cdFx0XHRcdFx0YXV0aGVudGljYXRpb25UeXBlOiBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgbW9kdWxlLiBVc2VkIGluIHVuaXQgdGVzdHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XHJcblx0aW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBGbGFnIHRvIGRldGVybWluZSB3aGV0aGVyIEZlZWRiYWNrIGFuZCBTdXJ2ZXkgaXMgZW5hYmxlZCBieSBBQURDLlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiBGZWVkYmFjayBhbmQgU3VydmV5IGlzIGVuYWJsZWQuXHJcbiAqIE90aGVyd2lzZSwgcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmVlZGJhY2tTdXJ2ZXlFbmFibGVkQnlBQURDKCk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiBjb21tb25Qb2xpY3lBbGxvd0FBREM7XHJcbn1cclxuXHJcbldpbmRvdy5zZXRJc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyhpc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/CommonApp.ts\n");

/***/ }),

/***/ "./scripts/app/CommonFloodgate.ts":
/*!****************************************!*\
  !*** ./scripts/app/CommonFloodgate.ts ***!
  \****************************************/
/*! exports provided: initialize, setInitialized, getInitialized, setEngineStartPromise, getEngineStartPromise, setStringProvider, startInternal, start, stop, getEngine, resetEngine, reset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setInitialized\", function() { return setInitialized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getInitialized\", function() { return getInitialized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEngineStartPromise\", function() { return setEngineStartPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEngineStartPromise\", function() { return getEngineStartPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setStringProvider\", function() { return setStringProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startInternal\", function() { return startInternal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"start\", function() { return start; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stop\", function() { return stop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEngine\", function() { return getEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetEngine\", function() { return resetEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _FloodgateCore_AdaptiveSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FloodgateCore/AdaptiveSurveyLauncherFactory */ \"./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts\");\n/* harmony import */ var _FloodgateCore_TransporterFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FloodgateCore/TransporterFactory */ \"./scripts/app/FloodgateCore/TransporterFactory.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateEnvironmentProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FloodgateCore/FloodgateEnvironmentProvider */ \"./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStringProvider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FloodgateCore/FloodgateStringProvider */ \"./scripts/app/FloodgateCore/FloodgateStringProvider.ts\");\n/* harmony import */ var _TargetedMessaging_TargetedMessagingCampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TargetedMessaging/TargetedMessagingCampaignDefinitionProvider */ \"./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts\");\n/* harmony import */ var _TargetedMessaging_UserFactsProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TargetedMessaging/UserFactsProvider */ \"./scripts/app/TargetedMessaging/UserFactsProvider.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Campaign/CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Constants */ \"../FloodgateCore/dist/src/Constants.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Governor */ \"../FloodgateCore/dist/src/Governor.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_SurveyActivityListener__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/SurveyActivityListener */ \"../FloodgateCore/dist/src/SurveyActivityListener.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_SurveyActivityListener__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_SurveyActivityListener__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _GovernanceService_GovernanceServiceClient__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./GovernanceService/GovernanceServiceClient */ \"./scripts/app/GovernanceService/GovernanceServiceClient.ts\");\n/* harmony import */ var _Personalizer_PersonalizerClient__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Personalizer/PersonalizerClient */ \"./scripts/app/Personalizer/PersonalizerClient.ts\");\n/**\r\n * CommonFloodgate.ts\r\n *\r\n * Common functionalities shared by App_Floodgate and App_Floodgate_Bare modules.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has floodgate been initialized\r\n */\r\nvar initialized = false;\r\nvar startCount = 0;\r\nvar engine;\r\nvar engineStartPromise = null;\r\nvar engineTmsProvider = null;\r\nvar userFactsProvider = null;\r\nvar stringProvider;\r\nfunction initialize() {\r\n    if (!_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isStorageAvailable()) {\r\n        throw new Error(\"window.localStorage is not available.\");\r\n    }\r\n    _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().OfficeBrowserFeedback.floodgate = _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().OfficeBrowserFeedback.floodgate || {};\r\n    var floodgateInitOptions = _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().OfficeBrowserFeedback.floodgate.initOptions;\r\n    floodgateInitOptions = floodgateInitOptions || {};\r\n    // Validate and copy campaign definitions to local storage\r\n    if (floodgateInitOptions.campaignDefinitions !== undefined) {\r\n        var filteredResult = Object(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10__[\"FilterValidCampaignDefinitions\"])(floodgateInitOptions.campaignDefinitions);\r\n        if (filteredResult.error) {\r\n            throw new Error(\"floodgate.initOptions.campaignDefinitions error: \" + filteredResult.error);\r\n        }\r\n        (new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__[\"default\"]()).write(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11__[\"IFloodgateStorageProvider\"].FileType.CampaignDefinitions, JSON.stringify(floodgateInitOptions.campaignDefinitions));\r\n    }\r\n    var configuration = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]();\r\n    configuration.setFloodgateInitOptions(floodgateInitOptions);\r\n    _ms_ofb_officefloodgatecore_dist_src_SurveyActivityListener__WEBPACK_IMPORTED_MODULE_16___default.a.resetSessionActivity();\r\n    _Personalizer_PersonalizerClient__WEBPACK_IMPORTED_MODULE_18__[\"get\"]().setup(configuration);\r\n    _GovernanceService_GovernanceServiceClient__WEBPACK_IMPORTED_MODULE_17__[\"get\"]().setup(configuration);\r\n    initialized = true;\r\n    if (!configuration.getFloodgateInitOptions().surveyEnabled) {\r\n        var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__[\"FloodgateEngine\"].getTelemetryLogger();\r\n        if (telemetryLogger) {\r\n            telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__[\"TelemetryEvent\"].Floodgate.Start.SurveysDisabled, { Count: startCount, Message: \"Floodgate initialized with surveys disabled (surveyEnabled is false)\" });\r\n        }\r\n    }\r\n}\r\nfunction setInitialized(initValue) {\r\n    initialized = initValue;\r\n}\r\nfunction getInitialized() {\r\n    return initialized;\r\n}\r\nfunction setEngineStartPromise(startPromise) {\r\n    engineStartPromise = startPromise;\r\n}\r\nfunction getEngineStartPromise() {\r\n    return engineStartPromise;\r\n}\r\nfunction setStringProvider(provider) {\r\n    stringProvider = provider;\r\n}\r\n/**\r\n * To support the multi-window scenario on web we need to initialize the engine on each resume.\r\n * Hence this separate method which does make() and start() together.\r\n */\r\nfunction startInternal(loadSynchronously, customEngine) {\r\n    if (customEngine === void 0) { customEngine = null; }\r\n    if (engineStartPromise) {\r\n        return engineStartPromise;\r\n    }\r\n    startCount++;\r\n    var startPromise = new Promise(function (resolve, reject) {\r\n        var rejectAndLogError = function (errorMessage, error) {\r\n            var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__[\"FloodgateEngine\"].getTelemetryLogger();\r\n            if (telemetryLogger) {\r\n                telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__[\"TelemetryEvent\"].Floodgate.Start.Failed, { Count: startCount, ErrorMessage: errorMessage, ErrorDetails: error && error.stack });\r\n            }\r\n            reject(errorMessage);\r\n        };\r\n        try {\r\n            var commonInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getCommonInitOptions();\r\n            if (!commonInitOptions) {\r\n                rejectAndLogError(\"Invalid floodgate common init options, state: \" + initialized);\r\n                return;\r\n            }\r\n            var floodgateInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getFloodgateInitOptions();\r\n            if (!floodgateInitOptions) {\r\n                var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__[\"FloodgateEngine\"].getTelemetryLogger();\r\n                if (telemetryLogger) {\r\n                    telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__[\"TelemetryEvent\"].Floodgate.Start.Warning, { Count: startCount, ErrorMessage: \"Invalid floodgate init options, state: \" + initialized });\r\n                }\r\n                _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().setFloodgateInitOptions({});\r\n                floodgateInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getFloodgateInitOptions();\r\n            }\r\n            if (!customEngine && !engineTmsProvider) {\r\n                // AssetsProvider wraps auth callbacks which should not run every time we start()\r\n                var authTokenCallback = floodgateInitOptions && floodgateInitOptions.authTokenCallback;\r\n                if (authTokenCallback) {\r\n                    engineTmsProvider = new _TargetedMessaging_TargetedMessagingCampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_7__[\"TargetedMessagingCampaignDefinitionProvider\"]();\r\n                    userFactsProvider = new _TargetedMessaging_UserFactsProvider__WEBPACK_IMPORTED_MODULE_8__[\"UserFactsProvider\"]();\r\n                }\r\n            }\r\n            var currentTeachingCooldown = _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__[\"Governor\"].GetChannelCoolDown(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__[\"GovernedChannelType\"].TeachingMessage);\r\n            var teachingCooldown = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_13__[\"getDynamicSetting\"])(\"TeachingMessageCooldown\" /* teachingMessageCooldown */, currentTeachingCooldown);\r\n            _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__[\"Governor\"].SetDefaultChannelCoolDown(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__[\"GovernedChannelType\"].TeachingMessage, teachingCooldown);\r\n            engine = customEngine || _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__[\"FloodgateEngine\"].make(commonInitOptions.build || \"\", _FloodgateCore_AdaptiveSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__[\"default\"].make(), floodgateInitOptions.onSurveyActivatedCallback, new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__[\"default\"](), floodgateInitOptions.settingStorageCallback, stringProvider ? stringProvider : new _FloodgateCore_FloodgateStringProvider__WEBPACK_IMPORTED_MODULE_6__[\"default\"](), new _FloodgateCore_FloodgateEnvironmentProvider__WEBPACK_IMPORTED_MODULE_4__[\"default\"](), new _FloodgateCore_TransporterFactory__WEBPACK_IMPORTED_MODULE_3__[\"default\"](), [engineTmsProvider], userFactsProvider, _GovernanceService_GovernanceServiceClient__WEBPACK_IMPORTED_MODULE_17__[\"get\"]());\r\n            if (!engine) {\r\n                setEngineStartPromise(null);\r\n                rejectAndLogError(\"Failed to create floodgate engine\");\r\n                return;\r\n            }\r\n            // start subsequent invocations in sync mode\r\n            var shouldStartEngineInSync = loadSynchronously || startCount > 1;\r\n            if (shouldStartEngineInSync) {\r\n                engine.start();\r\n                resolve();\r\n            }\r\n            else {\r\n                var enginePromise = engine.startAsync();\r\n                if (!enginePromise) {\r\n                    // ideally this should never happen\r\n                    setEngineStartPromise(null);\r\n                    rejectAndLogError(\"Failed to get floodgate engine\");\r\n                    return;\r\n                }\r\n                enginePromise.then(function onFulfilled() {\r\n                    resolve();\r\n                }).catch(function onRejected(startError) {\r\n                    setEngineStartPromise(null);\r\n                    rejectAndLogError(\"Failed to start floodgate engine\", startError);\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            setEngineStartPromise(null);\r\n            rejectAndLogError(\"Failed to load floodgate engine: \" + (e && e.toString()), e);\r\n        }\r\n    });\r\n    setEngineStartPromise(startPromise);\r\n    // reset on error\r\n    startPromise.catch(function (error) {\r\n        setEngineStartPromise(null);\r\n    });\r\n    return startPromise;\r\n}\r\nfunction start(loadSynchronously) {\r\n    if (loadSynchronously === void 0) { loadSynchronously = false; }\r\n    return startInternal(loadSynchronously);\r\n}\r\n/**\r\n * A proxy for the engine.stop() method for consistency with the start() method.\r\n */\r\nfunction stop() {\r\n    if (engine) {\r\n        engine.stop();\r\n    }\r\n    setEngineStartPromise(null);\r\n}\r\n/**\r\n * Get the engine object\r\n * @returns the engine object\r\n */\r\nfunction getEngine() {\r\n    return engine;\r\n}\r\n/**\r\n * Reset the floodgate engine state. Used in unit tests.\r\n */\r\nfunction resetEngine() {\r\n    startCount = 0;\r\n    engineStartPromise = null;\r\n    engine = null;\r\n    engineTmsProvider = null;\r\n    userFactsProvider = null;\r\n}\r\n/**\r\n * Reset the floodgate module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n    resetEngine();\r\n}\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"setFloodgateGetEngine\"](getEngine);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"setFloodgateStart\"](start);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"setFloodgateStop\"](stop);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25GbG9vZGdhdGUudHM/Mjc1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRTREO0FBQ3JCO0FBQ2dEO0FBQ3RCO0FBQ29CO0FBQ1I7QUFDRjtBQUVYO0FBQ087QUFHWjtBQUVjO0FBQ2E7QUFDVDtBQUVLO0FBRVo7QUFDa0I7QUFDTTtBQUNWO0FBQ2Y7QUFFeEU7O0dBRUc7QUFDSCxJQUFJLFdBQVcsR0FBWSxLQUFLLENBQUM7QUFDakMsSUFBSSxVQUFVLEdBQVcsQ0FBQyxDQUFDO0FBRTNCLElBQUksTUFBdUIsQ0FBQztBQUM1QixJQUFJLGtCQUFrQixHQUFpQixJQUFJLENBQUM7QUFDNUMsSUFBSSxpQkFBaUIsR0FBZ0QsSUFBSSxDQUFDO0FBQzFFLElBQUksaUJBQWlCLEdBQXNCLElBQUksQ0FBQztBQUNoRCxJQUFJLGNBQTRDLENBQUM7QUFFMUMsU0FBUyxVQUFVO0lBQ3pCLElBQUksQ0FBQywrRUFBd0IsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO1FBQ25ELE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztLQUN6RDtJQUVELGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLEdBQUcsa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsSUFBSSxFQUFTLENBQUM7SUFFekcsSUFBSSxvQkFBb0IsR0FBRyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQztJ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LENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsS0FBSztJQUNwQixXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLFdBQVcsRUFBRSxDQUFDO0FBQ2YsQ0FBQztBQUVELG9FQUE0QixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3hDLGdFQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLCtEQUF1QixDQUFDLElBQUksQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQ29tbW9uRmxvb2RnYXRlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbW1vbkZsb29kZ2F0ZS50c1xyXG4gKlxyXG4gKiBDb21tb24gZnVuY3Rpb25hbGl0aWVzIHNoYXJlZCBieSBBcHBfRmxvb2RnYXRlIGFuZCBBcHBfRmxvb2RnYXRlX0JhcmUgbW9kdWxlcy5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgQWRhcHRpdmVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkgZnJvbSBcIi4vRmxvb2RnYXRlQ29yZS9BZGFwdGl2ZVN1cnZleUxhdW5jaGVyRmFjdG9yeVwiO1xyXG5pbXBvcnQgVHJhbnNwb3J0ZXJGYWN0b3J5IGZyb20gXCIuL0Zsb29kZ2F0ZUNvcmUvVHJhbnNwb3J0ZXJGYWN0b3J5XCI7XHJcbmltcG9ydCBGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyIGZyb20gXCIuL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlclwiO1xyXG5pbXBvcnQgRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCBGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIgfSBmcm9tXHJcblx0XCIuL1RhcmdldGVkTWVzc2FnaW5nL1RhcmdldGVkTWVzc2FnaW5nQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgVXNlckZhY3RzUHJvdmlkZXIgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZy9Vc2VyRmFjdHNQcm92aWRlclwiO1xyXG5cclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgeyBGbG9vZGdhdGVFbmdpbmUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmltcG9ydCB7IEZpbHRlclZhbGlkQ2FtcGFpZ25EZWZpbml0aW9ucyB9IGZyb21cclxuXHRcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Db25zdGFudHNcIjtcclxuXHJcbmltcG9ydCB7IGdldER5bmFtaWNTZXR0aW5nLCBTZXR0aW5nS2V5IH0gZnJvbSBcIi4vQ29uZmlndXJhdGlvbi9EeW5hbWljQ29uZmlndXJhdGlvblwiO1xyXG5cclxuaW1wb3J0IHsgR292ZXJub3IgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0dvdmVybm9yXCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbFwiO1xyXG5pbXBvcnQgU3VydmV5QWN0aXZpdHlMaXN0ZW5lciBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL1N1cnZleUFjdGl2aXR5TGlzdGVuZXJcIjtcclxuaW1wb3J0ICogYXMgR292ZXJuYW5jZVNlcnZpY2VDbGllbnQgZnJvbSBcIi4vR292ZXJuYW5jZVNlcnZpY2UvR292ZXJuYW5jZVNlcnZpY2VDbGllbnRcIjtcclxuaW1wb3J0ICogYXMgUGVyc29uYWxpemVyQ2xpZW50IGZyb20gXCIuL1BlcnNvbmFsaXplci9QZXJzb25hbGl6ZXJDbGllbnRcIjtcclxuXHJcbi8qKlxyXG4gKiBIYXMgZmxvb2RnYXRlIGJlZW4gaW5pdGlhbGl6ZWRcclxuICovXHJcbmxldCBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5sZXQgc3RhcnRDb3VudDogbnVtYmVyID0gMDtcclxuXHJcbmxldCBlbmdpbmU6IEZsb29kZ2F0ZUVuZ2luZTtcclxubGV0IGVuZ2luZVN0YXJ0UHJvbWlzZTogUHJvbWlzZTxhbnk+ID0gbnVsbDtcclxubGV0IGVuZ2luZVRtc1Byb3ZpZGVyOiBUYXJnZXRlZE1lc3NhZ2luZ0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyID0gbnVsbDtcclxubGV0IHVzZXJGYWN0c1Byb3ZpZGVyOiBVc2VyRmFjdHNQcm92aWRlciA9IG51bGw7XHJcbmxldCBzdHJpbmdQcm92aWRlcjogQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlcjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IHZvaWQge1xyXG5cdGlmICghRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmlzU3RvcmFnZUF2YWlsYWJsZSgpKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ3aW5kb3cubG9jYWxTdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG5cdH1cclxuXHJcblx0V2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5mbG9vZGdhdGUgPSBXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmZsb29kZ2F0ZSB8fCB7fSBhcyBhbnk7XHJcblxyXG5cdGxldCBmbG9vZGdhdGVJbml0T3B0aW9ucyA9IFdpbmRvdy5nZXQoKS5PZmZpY2VCcm93c2VyRmVlZGJhY2suZmxvb2RnYXRlLmluaXRPcHRpb25zO1xyXG5cdGZsb29kZ2F0ZUluaXRPcHRpb25zID0gZmxvb2RnYXRlSW5pdE9wdGlvbnMgfHwge30gYXMgYW55O1xyXG5cclxuXHQvLyBWYWxpZGF0ZSBhbmQgY29weSBjYW1wYWlnbiBkZWZpbml0aW9ucyB0byBsb2NhbCBzdG9yYWdlXHJcblx0aWYgKGZsb29kZ2F0ZUluaXRPcHRpb25zLmNhbXBhaWduRGVmaW5pdGlvbnMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0Y29uc3QgZmlsdGVyZWRSZXN1bHQgPSBGaWx0ZXJWYWxpZENhbXBhaWduRGVmaW5pdGlvbnMoZmxvb2RnYXRlSW5pdE9wdGlvbnMuY2FtcGFpZ25EZWZpbml0aW9ucyk7XHJcblxyXG5cdFx0aWYgKGZpbHRlcmVkUmVzdWx0LmVycm9yKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImZsb29kZ2F0ZS5pbml0T3B0aW9ucy5jYW1wYWlnbkRlZmluaXRpb25zIGVycm9yOiBcIiArIGZpbHRlcmVkUmVzdWx0LmVycm9yKTtcclxuXHRcdH1cclxuXHJcblx0XHQobmV3IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcigpKS53cml0ZShcclxuXHRcdFx0SUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZS5DYW1wYWlnbkRlZmluaXRpb25zLFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShmbG9vZGdhdGVJbml0T3B0aW9ucy5jYW1wYWlnbkRlZmluaXRpb25zKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBDb25maWd1cmF0aW9uLmdldCgpO1xyXG5cclxuXHRjb25maWd1cmF0aW9uLnNldEZsb29kZ2F0ZUluaXRPcHRpb25zKGZsb29kZ2F0ZUluaXRPcHRpb25zKTtcclxuXHRTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLnJlc2V0U2Vzc2lvbkFjdGl2aXR5KCk7XHJcblx0UGVyc29uYWxpemVyQ2xpZW50LmdldCgpLnNldHVwKGNvbmZpZ3VyYXRpb24pO1xyXG5cdEdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50LmdldCgpLnNldHVwKGNvbmZpZ3VyYXRpb24pO1xyXG5cdGluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHJcblx0aWYgKCFjb25maWd1cmF0aW9uLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuc3VydmV5RW5hYmxlZCkge1xyXG5cdFx0Y29uc3QgdGVsZW1ldHJ5TG9nZ2VyID0gRmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpO1xyXG5cdFx0aWYgKHRlbGVtZXRyeUxvZ2dlcikge1xyXG5cdFx0XHR0ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5TdGFydC5TdXJ2ZXlzRGlzYWJsZWQsXHJcblx0XHRcdFx0eyBDb3VudDogc3RhcnRDb3VudCwgTWVzc2FnZTogXCJGbG9vZGdhdGUgaW5pdGlhbGl6ZWQgd2l0aCBzdXJ2ZXlzIGRpc2FibGVkIChzdXJ2ZXlFbmFibGVkIGlzIGZhbHNlKVwiIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEluaXRpYWxpemVkKGluaXRWYWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdGluaXRpYWxpemVkID0gaW5pdFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XHJcblx0cmV0dXJuIGluaXRpYWxpemVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RW5naW5lU3RhcnRQcm9taXNlKHN0YXJ0UHJvbWlzZTogUHJvbWlzZTxhbnk+KTogYW55IHtcclxuXHRlbmdpbmVTdGFydFByb21pc2UgPSBzdGFydFByb21pc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmdpbmVTdGFydFByb21pc2UoKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gZW5naW5lU3RhcnRQcm9taXNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RyaW5nUHJvdmlkZXIocHJvdmlkZXI6IEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIpOiB2b2lkIHtcclxuXHRzdHJpbmdQcm92aWRlciA9IHByb3ZpZGVyO1xyXG59XHJcblxyXG4vKipcclxuICogVG8gc3VwcG9ydCB0aGUgbXVsdGktd2luZG93IHNjZW5hcmlvIG9uIHdlYiB3ZSBuZWVkIHRvIGluaXRpYWxpemUgdGhlIGVuZ2luZSBvbiBlYWNoIHJlc3VtZS5cclxuICogSGVuY2UgdGhpcyBzZXBhcmF0ZSBtZXRob2Qgd2hpY2ggZG9lcyBtYWtlKCkgYW5kIHN0YXJ0KCkgdG9nZXRoZXIuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRJbnRlcm5hbChsb2FkU3luY2hyb25vdXNseTogYm9vbGVhbiwgY3VzdG9tRW5naW5lOiBGbG9vZGdhdGVFbmdpbmUgPSBudWxsKTogUHJvbWlzZTxhbnk+IHtcclxuXHRpZiAoZW5naW5lU3RhcnRQcm9taXNlKSB7XHJcblx0XHRyZXR1cm4gZW5naW5lU3RhcnRQcm9taXNlO1xyXG5cdH1cclxuXHJcblx0c3RhcnRDb3VudCsrO1xyXG5cdGNvbnN0IHN0YXJ0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGNvbnN0IHJlamVjdEFuZExvZ0Vycm9yID0gKGVycm9yTWVzc2FnZTogc3RyaW5nLCBlcnJvcj86IEVycm9yKSA9PiB7XHJcblx0XHRcdGNvbnN0IHRlbGVtZXRyeUxvZ2dlciA9IEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKTtcclxuXHRcdFx0aWYgKHRlbGVtZXRyeUxvZ2dlcikge1xyXG5cdFx0XHRcdHRlbGVtZXRyeUxvZ2dlci5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlN0YXJ0LkZhaWxlZCxcclxuXHRcdFx0XHRcdHsgQ291bnQ6IHN0YXJ0Q291bnQsIEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLCBFcnJvckRldGFpbHM6IGVycm9yICYmIGVycm9yLnN0YWNrIH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZWplY3QoZXJyb3JNZXNzYWdlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY29tbW9uSW5pdE9wdGlvbnMgPSBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCk7XHJcblx0XHRcdGlmICghY29tbW9uSW5pdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRyZWplY3RBbmRMb2dFcnJvcihcIkludmFsaWQgZmxvb2RnYXRlIGNvbW1vbiBpbml0IG9wdGlvbnMsIHN0YXRlOiBcIiArIGluaXRpYWxpemVkKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCBmbG9vZGdhdGVJbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0aWYgKCFmbG9vZGdhdGVJbml0T3B0aW9ucykge1xyXG5cdFx0XHRcdGNvbnN0IHRlbGVtZXRyeUxvZ2dlciA9IEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKTtcclxuXHRcdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0XHR0ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5TdGFydC5XYXJuaW5nLFxyXG5cdFx0XHRcdFx0XHR7IENvdW50OiBzdGFydENvdW50LCBFcnJvck1lc3NhZ2U6IFwiSW52YWxpZCBmbG9vZGdhdGUgaW5pdCBvcHRpb25zLCBzdGF0ZTogXCIgKyBpbml0aWFsaXplZCB9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoe30gYXMgYW55KTtcclxuXHRcdFx0XHRmbG9vZGdhdGVJbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFjdXN0b21FbmdpbmUgJiYgIWVuZ2luZVRtc1Byb3ZpZGVyKSB7XHJcblx0XHRcdFx0Ly8gQXNzZXRzUHJvdmlkZXIgd3JhcHMgYXV0aCBjYWxsYmFja3Mgd2hpY2ggc2hvdWxkIG5vdCBydW4gZXZlcnkgdGltZSB3ZSBzdGFydCgpXHJcblx0XHRcdFx0Y29uc3QgYXV0aFRva2VuQ2FsbGJhY2sgPSBmbG9vZGdhdGVJbml0T3B0aW9ucyAmJiBmbG9vZGdhdGVJbml0T3B0aW9ucy5hdXRoVG9rZW5DYWxsYmFjaztcclxuXHRcdFx0XHRpZiAoYXV0aFRva2VuQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdGVuZ2luZVRtc1Byb3ZpZGVyID0gbmV3IFRhcmdldGVkTWVzc2FnaW5nQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIoKTtcclxuXHRcdFx0XHRcdHVzZXJGYWN0c1Byb3ZpZGVyID0gbmV3IFVzZXJGYWN0c1Byb3ZpZGVyKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBjdXJyZW50VGVhY2hpbmdDb29sZG93biA9IEdvdmVybm9yLkdldENoYW5uZWxDb29sRG93bihHb3Zlcm5lZENoYW5uZWxUeXBlLlRlYWNoaW5nTWVzc2FnZSk7XHJcblx0XHRcdGNvbnN0IHRlYWNoaW5nQ29vbGRvd24gPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnRlYWNoaW5nTWVzc2FnZUNvb2xkb3duLCBjdXJyZW50VGVhY2hpbmdDb29sZG93bik7XHJcblx0XHRcdEdvdmVybm9yLlNldERlZmF1bHRDaGFubmVsQ29vbERvd24oR292ZXJuZWRDaGFubmVsVHlwZS5UZWFjaGluZ01lc3NhZ2UsIHRlYWNoaW5nQ29vbGRvd24pO1xyXG5cclxuXHRcdFx0ZW5naW5lID0gY3VzdG9tRW5naW5lIHx8IEZsb29kZ2F0ZUVuZ2luZS5tYWtlKFxyXG5cdFx0XHRcdGNvbW1vbkluaXRPcHRpb25zLmJ1aWxkIHx8IFwiXCIsXHJcblx0XHRcdFx0QWRhcHRpdmVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkubWFrZSgpLFxyXG5cdFx0XHRcdGZsb29kZ2F0ZUluaXRPcHRpb25zLm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssXHJcblx0XHRcdFx0bmV3IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcigpLFxyXG5cdFx0XHRcdGZsb29kZ2F0ZUluaXRPcHRpb25zLnNldHRpbmdTdG9yYWdlQ2FsbGJhY2ssXHJcblx0XHRcdFx0c3RyaW5nUHJvdmlkZXIgPyBzdHJpbmdQcm92aWRlciA6IG5ldyBGbG9vZGdhdGVTdHJpbmdQcm92aWRlcigpLFxyXG5cdFx0XHRcdG5ldyBGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyKCksXHJcblx0XHRcdFx0bmV3IFRyYW5zcG9ydGVyRmFjdG9yeSgpLFxyXG5cdFx0XHRcdFtlbmdpbmVUbXNQcm92aWRlcl0sXHJcblx0XHRcdFx0dXNlckZhY3RzUHJvdmlkZXIsXHJcblx0XHRcdFx0R292ZXJuYW5jZVNlcnZpY2VDbGllbnQuZ2V0KClcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGlmICghZW5naW5lKSB7XHJcblx0XHRcdFx0c2V0RW5naW5lU3RhcnRQcm9taXNlKG51bGwpO1xyXG5cdFx0XHRcdHJlamVjdEFuZExvZ0Vycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBmbG9vZGdhdGUgZW5naW5lXCIpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gc3RhcnQgc3Vic2VxdWVudCBpbnZvY2F0aW9ucyBpbiBzeW5jIG1vZGVcclxuXHRcdFx0Y29uc3Qgc2hvdWxkU3RhcnRFbmdpbmVJblN5bmMgPSBsb2FkU3luY2hyb25vdXNseSB8fCBzdGFydENvdW50ID4gMTtcclxuXHRcdFx0aWYgKHNob3VsZFN0YXJ0RW5naW5lSW5TeW5jKSB7XHJcblx0XHRcdFx0ZW5naW5lLnN0YXJ0KCk7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnN0IGVuZ2luZVByb21pc2UgPSBlbmdpbmUuc3RhcnRBc3luYygpO1xyXG5cdFx0XHRcdGlmICghZW5naW5lUHJvbWlzZSkge1xyXG5cdFx0XHRcdFx0Ly8gaWRlYWxseSB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW5cclxuXHRcdFx0XHRcdHNldEVuZ2luZVN0YXJ0UHJvbWlzZShudWxsKTtcclxuXHRcdFx0XHRcdHJlamVjdEFuZExvZ0Vycm9yKFwiRmFpbGVkIHRvIGdldCBmbG9vZGdhdGUgZW5naW5lXCIpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZW5naW5lUHJvbWlzZS50aGVuKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25GdWxmaWxsZWQoKSB7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25SZWplY3RlZChzdGFydEVycm9yOiBFcnJvcikge1xyXG5cdFx0XHRcdFx0XHRzZXRFbmdpbmVTdGFydFByb21pc2UobnVsbCk7XHJcblx0XHRcdFx0XHRcdHJlamVjdEFuZExvZ0Vycm9yKFwiRmFpbGVkIHRvIHN0YXJ0IGZsb29kZ2F0ZSBlbmdpbmVcIiwgc3RhcnRFcnJvcik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRzZXRFbmdpbmVTdGFydFByb21pc2UobnVsbCk7XHJcblx0XHRcdHJlamVjdEFuZExvZ0Vycm9yKFwiRmFpbGVkIHRvIGxvYWQgZmxvb2RnYXRlIGVuZ2luZTogXCIgKyAoZSAmJiBlLnRvU3RyaW5nKCkpLCBlKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0c2V0RW5naW5lU3RhcnRQcm9taXNlKHN0YXJ0UHJvbWlzZSk7XHJcblxyXG5cdC8vIHJlc2V0IG9uIGVycm9yXHJcblx0c3RhcnRQcm9taXNlLmNhdGNoKChlcnJvcikgPT4ge1xyXG5cdFx0c2V0RW5naW5lU3RhcnRQcm9taXNlKG51bGwpO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gc3RhcnRQcm9taXNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQobG9hZFN5bmNocm9ub3VzbHk6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8YW55PiB7XHJcblx0cmV0dXJuIHN0YXJ0SW50ZXJuYWwobG9hZFN5bmNocm9ub3VzbHkpO1xyXG59XHJcblxyXG4vKipcclxuICogQSBwcm94eSBmb3IgdGhlIGVuZ2luZS5zdG9wKCkgbWV0aG9kIGZvciBjb25zaXN0ZW5jeSB3aXRoIHRoZSBzdGFydCgpIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzdG9wKCkge1xyXG5cdGlmIChlbmdpbmUpIHtcclxuXHRcdGVuZ2luZS5zdG9wKCk7XHJcblx0fVxyXG5cclxuXHRzZXRFbmdpbmVTdGFydFByb21pc2UobnVsbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGVuZ2luZSBvYmplY3RcclxuICogQHJldHVybnMgdGhlIGVuZ2luZSBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmdpbmUoKTogRmxvb2RnYXRlRW5naW5lIHtcclxuXHRyZXR1cm4gZW5naW5lO1xyXG59XHJcblxyXG4vKipcclxuICogUmVzZXQgdGhlIGZsb29kZ2F0ZSBlbmdpbmUgc3RhdGUuIFVzZWQgaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldEVuZ2luZSgpIHtcclxuXHRzdGFydENvdW50ID0gMDtcclxuXHRlbmdpbmVTdGFydFByb21pc2UgPSBudWxsO1xyXG5cdGVuZ2luZSA9IG51bGw7XHJcblx0ZW5naW5lVG1zUHJvdmlkZXIgPSBudWxsO1xyXG5cdHVzZXJGYWN0c1Byb3ZpZGVyID0gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc2V0IHRoZSBmbG9vZGdhdGUgbW9kdWxlLiBVc2VkIGluIHVuaXQgdGVzdHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XHJcblx0aW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHRyZXNldEVuZ2luZSgpO1xyXG59XHJcblxyXG5XaW5kb3cuc2V0Rmxvb2RnYXRlR2V0RW5naW5lKGdldEVuZ2luZSk7XHJcbldpbmRvdy5zZXRGbG9vZGdhdGVTdGFydChzdGFydCk7XHJcbldpbmRvdy5zZXRGbG9vZGdhdGVTdG9wKHN0b3ApO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/CommonFloodgate.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/Configuration.ts":
/*!****************************************************!*\
  !*** ./scripts/app/Configuration/Configuration.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Configuration\", function() { return Configuration; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateFeedbackType\", function() { return validateFeedbackType; });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _Localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Localization */ \"./scripts/app/Localization.ts\");\n/* harmony import */ var _IInitOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IInitOptions */ \"./scripts/app/Configuration/IInitOptions.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomResources\", function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AgeGroup\", function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AuthenticationType\", function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"]; });\n\n/* harmony import */ var _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ILaunchOptions */ \"./scripts/app/Configuration/ILaunchOptions.ts\");\n/* harmony import */ var _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__) if([\"default\",\"Configuration\",\"get\",\"validateFeedbackType\",\"CustomResources\",\"AgeGroup\",\"AuthenticationType\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/**\r\n * Configuration.ts\r\n *\r\n * Module for logic relating to the sdk user configuration\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Class representing a configuration (user provided options)\r\n */\r\nvar Configuration = /** @class */ (function () {\r\n    function Configuration() {\r\n        this.feedbackSubmitted = false;\r\n    }\r\n    /**\r\n     * Validate category options, default \"show\" to false if CategoryOptions is not provided.\r\n     * @param categories Category options\r\n     * @returns {ICategoryOptions} the validated CategoryOptions\r\n     */\r\n    Configuration.validateCategoryOptions = function (categories) {\r\n        if (!categories) {\r\n            return { show: false };\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](categories.show, \"categories.show\");\r\n        if (categories.customCategories) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectArray\"](categories.customCategories, \"categories.customCategories\");\r\n            for (var _i = 0, _a = categories.customCategories; _i < _a.length; _i++) {\r\n                var customCategory = _a[_i];\r\n                _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](customCategory, \"custom category '\" + customCategory + \"'\");\r\n                if (customCategory.length > 20) {\r\n                    throw \"custom category '\" + customCategory + \"' too long, max 20 characters.\";\r\n                }\r\n            }\r\n        }\r\n        return categories;\r\n    };\r\n    Configuration.prototype.getFeedbackSubmitted = function () {\r\n        return this.feedbackSubmitted;\r\n    };\r\n    Configuration.prototype.setFeedbackSubmitted = function (value) {\r\n        this.feedbackSubmitted = value;\r\n    };\r\n    Configuration.prototype.getCommonInitOptions = function () {\r\n        return this.commonInitOptions;\r\n    };\r\n    Configuration.prototype.getInAppFeedbackInitOptions = function () {\r\n        return this.inAppFeedbackInitOptions;\r\n    };\r\n    Configuration.prototype.getInAppFeedbackLaunchOptions = function () {\r\n        return this.inAppFeedbackLaunchOptions;\r\n    };\r\n    Configuration.prototype.getFloodgateInitOptions = function () {\r\n        return this.floodgateInitOptions;\r\n    };\r\n    Configuration.prototype.getFloodgateSurvey = function () {\r\n        return this.floodgateSurvey;\r\n    };\r\n    Configuration.prototype.getSdkSessionId = function () {\r\n        if (!this.sdkSessionId) {\r\n            this.sdkSessionId = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"guid\"]();\r\n        }\r\n        return this.sdkSessionId;\r\n    };\r\n    Configuration.prototype.getEventSampling = function () {\r\n        return this.eventSampling;\r\n    };\r\n    /**\r\n     * Set initOptions for common functionality.\r\n     */\r\n    Configuration.prototype.setCommonInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectObject\"](passedInitOptions, \"passedInitOptions\");\r\n        var initOptions = {\r\n            appId: passedInitOptions.appId,\r\n            applicationGroup: passedInitOptions.applicationGroup || {},\r\n            build: passedInitOptions.build,\r\n            cid: passedInitOptions.cid,\r\n            environment: passedInitOptions.environment,\r\n            intlFilename: passedInitOptions.intlFilename,\r\n            intlUrl: passedInitOptions.intlUrl,\r\n            webSurfacesResourceBaseUrl: passedInitOptions.webSurfacesResourceBaseUrl,\r\n            locale: passedInitOptions.locale,\r\n            onError: passedInitOptions.onError,\r\n            originalLocale: passedInitOptions.locale,\r\n            primaryColour: passedInitOptions.primaryColour,\r\n            secondaryColour: passedInitOptions.secondaryColour,\r\n            sessionId: passedInitOptions.sessionId,\r\n            stylesUrl: passedInitOptions.stylesUrl,\r\n            telemetryGroup: passedInitOptions.telemetryGroup || {},\r\n            userEmail: passedInitOptions.userEmail,\r\n            webGroup: passedInitOptions.webGroup || {},\r\n            eventSampling: passedInitOptions.eventSampling,\r\n            petrolTimeout: passedInitOptions.petrolTimeout,\r\n            isCommercialHost: passedInitOptions.isCommercialHost,\r\n            customResourcesSetExternally: passedInitOptions.customResourcesSetExternally,\r\n            emailPolicyValue: passedInitOptions.emailPolicyValue,\r\n            screenshotPolicyValue: passedInitOptions.screenshotPolicyValue,\r\n            ageGroup: passedInitOptions.ageGroup,\r\n            authenticationType: passedInitOptions.authenticationType,\r\n            applicationSettings: passedInitOptions.applicationSettings,\r\n            webSurfacesSettings: passedInitOptions.webSurfacesSettings,\r\n        };\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](initOptions.appId, \"initOptions.appId\");\r\n        if (!(initOptions.appId % 1 === 0 && initOptions.appId > 0)) {\r\n            throw \"initOptions.appId is not a positive integer: \" + initOptions.appId;\r\n        }\r\n        // tslint:disable-next-line: no-bitwise\r\n        var expectedValues = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Strings | _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Css;\r\n        if (initOptions.customResourcesSetExternally === undefined) {\r\n            initOptions.customResourcesSetExternally = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].None;\r\n            // tslint:disable-next-line: no-bitwise\r\n        }\r\n        else if (typeof (initOptions.customResourcesSetExternally) !== \"number\" ||\r\n            // tslint:disable-next-line: no-bitwise\r\n            (initOptions.customResourcesSetExternally | expectedValues) !== expectedValues) {\r\n            throw \"initOptions.customResourcesSetExternally has an invalid value: \" + initOptions.customResourcesSetExternally;\r\n        }\r\n        // tslint:disable-next-line: no-bitwise\r\n        if ((initOptions.customResourcesSetExternally & _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Css) !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Css) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.stylesUrl, \"initOptions.stylesUrl\");\r\n        }\r\n        // tslint:disable-next-line: no-bitwise\r\n        if ((initOptions.customResourcesSetExternally & _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Strings) !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"CustomResources\"].Strings) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.intlUrl, \"initOptions.intlUrl\");\r\n        }\r\n        if (initOptions.intlFilename !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.intlFilename, \"initOptions.intlFilename\");\r\n        }\r\n        else {\r\n            initOptions.intlFilename = \"officebrowserfeedbackstrings.js\";\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](initOptions.environment, \"initOptions.environment\");\r\n        if (!(initOptions.environment === 1 || initOptions.environment === 0)) {\r\n            throw \"initOptions.environment has a bad value: \" + initOptions.environment;\r\n        }\r\n        if (initOptions.userEmail !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.userEmail, \"initOptions.userEmail\");\r\n        }\r\n        else {\r\n            initOptions.userEmail = \"\";\r\n        }\r\n        if (initOptions.sessionId !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.sessionId, \"initOptions.sessionId\");\r\n        }\r\n        else {\r\n            initOptions.sessionId = \"00000000-0000-0000-0000-000000000000\";\r\n        }\r\n        // Copy sessionID over to telemetryGroup\r\n        initOptions.telemetryGroup.processSessionId = initOptions.sessionId;\r\n        if (initOptions.cid !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.cid, \"initOptions.cid\");\r\n            // Copy cid over to extendedManifestData of applicationGroup\r\n            initOptions.applicationGroup.extendedManifestData = JSON.stringify({ cid: initOptions.cid });\r\n        }\r\n        if (initOptions.build !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.build, \"initOptions.build\");\r\n            var buildRegex = \"^[0-9]{1,9}(\\\\.[0-9]{1,9})?(\\\\.[0-9]{1,9})?(\\\\.[0-9]{1,9})?$\";\r\n            if (!new RegExp(buildRegex).test(initOptions.build)) {\r\n                initOptions.build = \"0.0.0.0\";\r\n            }\r\n        }\r\n        else {\r\n            initOptions.build = \"0.0.0.0\";\r\n        }\r\n        // Copy build over to telemetryGroup\r\n        initOptions.telemetryGroup.officeBuild = initOptions.build;\r\n        var hexColourRegex = new RegExp(\"^#[0-9a-f]{3}([0-9a-f]{3})?$\", \"i\");\r\n        if (initOptions.primaryColour !== undefined) {\r\n            if (!hexColourRegex.test(initOptions.primaryColour)) {\r\n                initOptions.primaryColour = undefined;\r\n            }\r\n        }\r\n        if (initOptions.secondaryColour !== undefined) {\r\n            if (!hexColourRegex.test(initOptions.secondaryColour)) {\r\n                initOptions.secondaryColour = undefined;\r\n            }\r\n        }\r\n        if (initOptions.locale !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.locale, \"initOptions.locale\");\r\n            initOptions.locale = _Localization__WEBPACK_IMPORTED_MODULE_2__[\"validate\"](initOptions.locale);\r\n        }\r\n        else {\r\n            initOptions.locale = \"en\";\r\n        }\r\n        if (initOptions.onError === undefined) {\r\n            initOptions.onError = function (err) { return; };\r\n        }\r\n        if (initOptions.petrolTimeout !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](initOptions.petrolTimeout, \"initOptions.petrolTimeout\");\r\n        }\r\n        if (initOptions.authenticationType !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectEnum\"](initOptions.authenticationType, _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"], \"initOptions.authenticationType\");\r\n        }\r\n        else {\r\n            initOptions.authenticationType = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].Unauthenticated;\r\n        }\r\n        // For AAD or Unauthenticated, ageGroup value is unknown, so it's safe to only parse for MSA\r\n        if (initOptions.ageGroup !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectEnum\"](initOptions.ageGroup, _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"], \"initOptions.ageGroup\");\r\n        }\r\n        else {\r\n            initOptions.ageGroup = _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Undefined;\r\n        }\r\n        this.eventSampling = this.parseEventSamplingOption(initOptions.eventSampling);\r\n        this.commonInitOptions = initOptions;\r\n        this.commonPolicyAllowAADC = this.determineAADCPolicy(initOptions.authenticationType, initOptions.ageGroup);\r\n        if (initOptions.isCommercialHost === undefined || initOptions.isCommercialHost == null) {\r\n            initOptions.isCommercialHost = false; // By default privacy consent is not shown. (From SDK's perspective)\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.isCommercialHost, \"initOptions.isCommercialHost\");\r\n        }\r\n        if (initOptions.emailPolicyValue === undefined) {\r\n            initOptions.emailPolicyValue = 0 /* NotConfigured */;\r\n        }\r\n        else if (typeof (initOptions.emailPolicyValue) !== \"number\" ||\r\n            (initOptions.emailPolicyValue !== 0 /* NotConfigured */ &&\r\n                initOptions.emailPolicyValue !== 1 /* Enabled */ &&\r\n                initOptions.emailPolicyValue !== 2 /* Disabled */)) {\r\n            throw \"initOptions.emailPolicyValue has an invalid value: \" + initOptions.emailPolicyValue;\r\n        }\r\n        if (initOptions.screenshotPolicyValue === undefined) {\r\n            initOptions.screenshotPolicyValue = 0 /* NotConfigured */;\r\n        }\r\n        else if (typeof (initOptions.screenshotPolicyValue) !== \"number\" ||\r\n            initOptions.screenshotPolicyValue !== 0 /* NotConfigured */ &&\r\n                initOptions.screenshotPolicyValue !== 1 /* Enabled */ &&\r\n                initOptions.screenshotPolicyValue !== 2 /* Disabled */) {\r\n            throw \"initOptions.screenshotPolicyValue has an invalid value: \" + initOptions.screenshotPolicyValue;\r\n        }\r\n    };\r\n    /**\r\n     * Set init options for inAppFeedback\r\n     */\r\n    Configuration.prototype.setInAppFeedbackInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectObject\"](passedInitOptions, \"passedInitOptions\");\r\n        var initOptions = {\r\n            bugForm: passedInitOptions.bugForm,\r\n            onDismiss: passedInitOptions.onDismiss,\r\n            screenshot: passedInitOptions.screenshot,\r\n            showEmailAddress: passedInitOptions.showEmailAddress,\r\n            userEmail: passedInitOptions.userEmail,\r\n            transitionEnabled: passedInitOptions.transitionEnabled,\r\n            isShowThanks: passedInitOptions.isShowThanks,\r\n            sendFeedbackPolicyValue: passedInitOptions.sendFeedbackPolicyValue,\r\n            feedbackForumUrl: passedInitOptions.feedbackForumUrl !== undefined ?\r\n                passedInitOptions.feedbackForumUrl :\r\n                undefined,\r\n            myFeedbackForumUrl: passedInitOptions.myFeedbackForumUrl !== undefined ?\r\n                passedInitOptions.myFeedbackForumUrl :\r\n                undefined,\r\n        };\r\n        if (initOptions.onDismiss === undefined) {\r\n            initOptions.onDismiss = function (submitted) { return; };\r\n        }\r\n        if (initOptions.bugForm !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.bugForm, \"initOptions.bugForm\");\r\n        }\r\n        else {\r\n            initOptions.bugForm = false;\r\n        }\r\n        if (initOptions.userEmail !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.userEmail, \"initOptions.userEmail\");\r\n        }\r\n        if (initOptions.screenshot !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.screenshot, \"initOptions.screenshot\");\r\n        }\r\n        else {\r\n            initOptions.screenshot = true;\r\n        }\r\n        if (initOptions.showEmailAddress !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.showEmailAddress, \"initOptions.showEmailAddress\");\r\n        }\r\n        else {\r\n            initOptions.showEmailAddress = true;\r\n        }\r\n        if (initOptions.feedbackForumUrl !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.feedbackForumUrl, \"initOptions.feedbackForumUrl\");\r\n        }\r\n        else {\r\n            initOptions.feedbackForumUrl = undefined;\r\n        }\r\n        if (initOptions.isShowThanks !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.isShowThanks, \"initOptions.isShowThanks\");\r\n        }\r\n        else {\r\n            initOptions.isShowThanks = true;\r\n        }\r\n        if (initOptions.myFeedbackForumUrl !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](initOptions.myFeedbackForumUrl, \"initOptions.myFeedbackForumUrl\");\r\n        }\r\n        else {\r\n            initOptions.myFeedbackForumUrl = undefined;\r\n        }\r\n        if (initOptions.transitionEnabled === undefined) {\r\n            initOptions.transitionEnabled = true;\r\n        }\r\n        if (initOptions.sendFeedbackPolicyValue === undefined) {\r\n            initOptions.sendFeedbackPolicyValue = 0 /* NotConfigured */;\r\n        }\r\n        else if (typeof (initOptions.sendFeedbackPolicyValue) !== \"number\" ||\r\n            (initOptions.sendFeedbackPolicyValue !== 0 /* NotConfigured */ &&\r\n                initOptions.sendFeedbackPolicyValue !== 1 /* Enabled */ &&\r\n                initOptions.sendFeedbackPolicyValue !== 2 /* Disabled */)) {\r\n            throw \"initOptions.sendFeedbackPolicyValue has an invalid value: \" + initOptions.sendFeedbackPolicyValue;\r\n        }\r\n        this.inAppFeedbackInitOptions = initOptions;\r\n    };\r\n    /**\r\n     * Set launch options for inAppFeedback\r\n     */\r\n    Configuration.prototype.setInAppFeedbackLaunchOptions = function (launchOptions) {\r\n        if (!this.commonInitOptions) {\r\n            throw \"commonInitOptions not set\";\r\n        }\r\n        if (!launchOptions) {\r\n            launchOptions = {};\r\n        }\r\n        // Override any setting done in LaunchOptions for the metadataGroups\r\n        this.commonInitOptions.applicationGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"overrideValues\"](launchOptions.applicationGroup, this.commonInitOptions.applicationGroup);\r\n        this.commonInitOptions.telemetryGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"overrideValues\"](launchOptions.telemetryGroup, this.commonInitOptions.telemetryGroup);\r\n        this.commonInitOptions.webGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"overrideValues\"](launchOptions.webGroup, this.commonInitOptions.webGroup);\r\n        launchOptions.categories = Configuration.validateCategoryOptions(launchOptions.categories);\r\n        this.inAppFeedbackLaunchOptions = launchOptions;\r\n    };\r\n    /**\r\n     * Set init options for floodgate\r\n     */\r\n    Configuration.prototype.setFloodgateInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectObject\"](passedInitOptions, \"passedInitOptions\");\r\n        var initOptions = {\r\n            autoDismiss: passedInitOptions.autoDismiss,\r\n            campaignDefinitions: passedInitOptions.campaignDefinitions,\r\n            campaignFlights: passedInitOptions.campaignFlights,\r\n            campaignQueryParameters: passedInitOptions.campaignQueryParameters,\r\n            onDismiss: passedInitOptions.onDismiss,\r\n            onSurveyActivatedCallback: passedInitOptions.onSurveyActivatedCallback,\r\n            settingStorageCallback: passedInitOptions.settingStorageCallback,\r\n            uIStringGetter: passedInitOptions.uIStringGetter,\r\n            authTokenCallback: passedInitOptions.authTokenCallback,\r\n            surveyEnabled: passedInitOptions.surveyEnabled,\r\n            showEmailAddress: passedInitOptions.showEmailAddress,\r\n            augLoopCallback: passedInitOptions.augLoopCallback,\r\n            customerVoiceSurveyParams: passedInitOptions.customerVoiceSurveyParams,\r\n            governanceServiceEnabled: passedInitOptions.governanceServiceEnabled,\r\n            governanceServiceConfig: passedInitOptions.governanceServiceConfig,\r\n            personalizerEnabled: passedInitOptions.personalizerEnabled,\r\n            messagingServiceSettings: passedInitOptions.messagingServiceSettings,\r\n        };\r\n        if (initOptions.autoDismiss === undefined) {\r\n            initOptions.autoDismiss = 0 /* NoAutoDismiss */;\r\n        }\r\n        if (initOptions.onDismiss === undefined) {\r\n            initOptions.onDismiss = function (campaignId, submitted) { return; };\r\n        }\r\n        if (initOptions.onSurveyActivatedCallback === undefined) {\r\n            var defaultOnSurveyActivatedCallback = {\r\n                onSurveyActivated: function (launcher, survey, surveyParams) {\r\n                    launcher.launch();\r\n                },\r\n            };\r\n            initOptions.onSurveyActivatedCallback = defaultOnSurveyActivatedCallback;\r\n        }\r\n        if (initOptions.uIStringGetter === undefined) {\r\n            initOptions.uIStringGetter = function (str) { return str; }; // By default return the string as is.\r\n        }\r\n        if (initOptions.surveyEnabled === undefined) {\r\n            initOptions.surveyEnabled = true; // By default surveys are enabled. (From SDK's perspective)\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.surveyEnabled, \"surveyEnabled\");\r\n        }\r\n        if (initOptions.showEmailAddress !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.showEmailAddress, \"initOptionsFloodgate.showEmailAddress\");\r\n        }\r\n        else {\r\n            initOptions.showEmailAddress = true; // By default email field and collection is enabled. (From SDK's perspective)\r\n        }\r\n        if (initOptions.governanceServiceEnabled !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.governanceServiceEnabled, \"initOptionsFloodgate.governanceServiceEnable\");\r\n        }\r\n        else {\r\n            initOptions.governanceServiceEnabled = false; // By default governanceServiceEnable is disabled\r\n        }\r\n        if (initOptions.governanceServiceEnabled) {\r\n            initOptions.governanceServiceConfig = this.parseGovernanceServiceConfig(initOptions.governanceServiceConfig !== undefined ?\r\n                initOptions.governanceServiceConfig :\r\n                {});\r\n        }\r\n        if (initOptions.customerVoiceSurveyParams === undefined) {\r\n            initOptions.customerVoiceSurveyParams = { cvFlights: \"\", isCVSurveyEnabled: false, productName: \"\", uiHost: \"\" };\r\n        }\r\n        if (initOptions.personalizerEnabled !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectBoolean\"](initOptions.personalizerEnabled, \"initOptionsFloodgate.personalizerEnabled\");\r\n        }\r\n        else {\r\n            initOptions.personalizerEnabled = false; // By default personalizerEnabled is disabled\r\n        }\r\n        this.floodgateInitOptions = initOptions;\r\n    };\r\n    /**\r\n     * Set the floodgate survey\r\n     */\r\n    Configuration.prototype.setFloodgateSurvey = function (survey) {\r\n        this.floodgateSurvey = survey;\r\n    };\r\n    // Checks if the surveyEnabled policy is true or false.\r\n    Configuration.prototype.checkIfSurveysEnabled = function () {\r\n        // If no floodgateInitOptions defined, return true for surveyEnabled\r\n        var policyAllowSurvey = this.floodgateInitOptions ? this.floodgateInitOptions.surveyEnabled : true;\r\n        return policyAllowSurvey && this.commonPolicyAllowAADC;\r\n    };\r\n    /**\r\n     * Return the flag the Feedback and Survey enabled by AADC.\r\n     */\r\n    Configuration.prototype.isFeedbackSurveyEnabledByAADC = function () {\r\n        return this.commonPolicyAllowAADC;\r\n    };\r\n    Configuration.prototype.getCVSurveyFlights = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.cvFlights : \"\";\r\n    };\r\n    Configuration.prototype.isCVSurveyEnabled = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.isCVSurveyEnabled : false;\r\n    };\r\n    Configuration.prototype.getProductName = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.productName : \"\";\r\n    };\r\n    Configuration.prototype.getUIHost = function () {\r\n        return this.floodgateInitOptions && this.floodgateInitOptions.customerVoiceSurveyParams ?\r\n            this.floodgateInitOptions.customerVoiceSurveyParams.uiHost : \"\";\r\n    };\r\n    /**\r\n     * Check AADC rule at once since Configuration cannot be set again.\r\n     * So that we don't need to repeat the same process over again.\r\n     */\r\n    Configuration.prototype.determineAADCPolicy = function (authenticationType, ageGroup) {\r\n        // Return Based on authentication first\r\n        if (authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].Unauthenticated ||\r\n            authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].AAD) {\r\n            return true;\r\n        }\r\n        // Return based on AgeGroup\r\n        return ageGroup !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithParentalConsent &&\r\n            ageGroup !== _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithoutParentalConsent;\r\n    };\r\n    // Keep implementation in sync with %SRCROOT%\\privacy\\idconsentprovider\\IdentityBasedConsentGroupProvider.cpp\r\n    Configuration.prototype.getUserConsentGroup = function () {\r\n        var authenticationType = this.commonInitOptions.authenticationType;\r\n        if (authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].Unauthenticated ||\r\n            authenticationType === _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticationType\"].AAD) {\r\n            return 1 /* CanConsent */;\r\n        }\r\n        var ageGroup = this.commonInitOptions.ageGroup;\r\n        switch (ageGroup) {\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Undefined:\r\n                return 1 /* CanConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithoutParentalConsent:\r\n                return 3 /* CannotConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorWithParentalConsent:\r\n                return 3 /* CannotConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].Adult:\r\n                return 1 /* CanConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].NotAdult:\r\n                return 2 /* PartialConsent */;\r\n            case _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[\"AgeGroup\"].MinorNoParentalConsentRequired:\r\n                return 1 /* CanConsent */;\r\n            default:\r\n                return 3 /* CannotConsent */;\r\n        }\r\n        return 3 /* CannotConsent */;\r\n    };\r\n    Configuration.prototype.parseEventSamplingOption = function (samplingOptions) {\r\n        var eventInitSampling = { event: {} };\r\n        if (samplingOptions !== undefined) {\r\n            // Iterating through init options\r\n            for (var index in samplingOptions) {\r\n                if (samplingOptions.hasOwnProperty(index)) {\r\n                    // Check for correct Type\r\n                    switch (samplingOptions[index].type) {\r\n                        case \"Event\":\r\n                            // Parsing the Name and SampleRate\r\n                            var sampleRate = samplingOptions[index].sampleRate;\r\n                            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectNumber\"](sampleRate, \"initOption.EventSampling.SampleRate\");\r\n                            _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](samplingOptions[index].name, \"initOption.EventSampling.Name\");\r\n                            // check the range for sampling percentage\r\n                            if (sampleRate < 0 || sampleRate > 1) {\r\n                                throw \"initOption.EventSampling.\" + samplingOptions[index].name + \".SampleRate is out of range\";\r\n                            }\r\n                            // finally, save the sampling event\r\n                            eventInitSampling.event[samplingOptions[index].name] = sampleRate;\r\n                            break;\r\n                        default:\r\n                            throw \"initOption.EventSampling.Type value is not recognized\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return eventInitSampling;\r\n    };\r\n    Configuration.prototype.parseGovernanceServiceConfig = function (config) {\r\n        var _a, _b, _c, _d;\r\n        return {\r\n            // by default, disable the trigger in failure\r\n            forceServicelessSurveyDisplay: (_a = config.forceServicelessSurveyDisplay) !== null && _a !== void 0 ? _a : false,\r\n            // by default, no retry\r\n            retry: (_b = config.retry) !== null && _b !== void 0 ? _b : 1,\r\n            // by default, timeout is 1000 miliseconds\r\n            timeout: (_c = config.timeout) !== null && _c !== void 0 ? _c : 1000,\r\n            // simple request is default to false\r\n            simpleRequestEnabled: (_d = config.simpleRequestEnabled) !== null && _d !== void 0 ? _d : false,\r\n        };\r\n    };\r\n    return Configuration;\r\n}());\r\n\r\nvar configuration = new Configuration();\r\n/**\r\n * Get the current configuration\r\n */\r\nfunction get() {\r\n    return configuration;\r\n}\r\n/**\r\n * Validate feedbackType\r\n * @param feedbackType feedbackType\r\n * @returns {Constants.FeedbackType} the validated feedbackType\r\n */\r\nfunction validateFeedbackType(feedbackType) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_0__[\"expectString\"](feedbackType, \"feedbackType\");\r\n    if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"][_Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Smile]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Smile;\r\n    }\r\n    else if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"][_Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Frown]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Frown;\r\n    }\r\n    else if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"][_Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Bug]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__[\"FeedbackType\"].Bug;\r\n    }\r\n    else {\r\n        throw \"feedbackType should be one of Smile, Frown or Bug\";\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb24udHM/MWQwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVpQztBQUNRO0FBQ007QUFFSDtBQU1oQjtBQUNFO0FBRWpDOztHQUVHO0FBRUg7SUFBQTtRQXdDUyxzQkFBaUIsR0FBWSxLQUFLLENBQUM7SUEraEI1QyxDQUFDO0lBdGtCQTs7OztPQUlHO0lBQ1kscUNBQXVCLEdBQXRDLFVBQXVDLFVBQTZCO1FBQ25FLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDaEIsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQztTQUN2QjtRQUVELG9EQUFtQixDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUN4RCxJQUFJLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRTtZQUNoQyxrREFBaUIsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztZQUU5RSxLQUEyQixVQUEyQixFQUEzQixlQUFVLENBQUMsZ0JBQWdCLEVBQTNCLGNBQTJCLEVBQTNCLElBQTJCLEVBQUU7Z0JBQW5ELElBQUksY0FBYztnQkFDdEIsbURBQWtCLENBQUMsY0FBYyxFQUFFLG1CQUFtQixHQUFHLGNBQWMsR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDL0UsSUFBSSxjQUFjLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRTtvQkFDL0IsTUFBTSxtQkFBbUIsR0FBRyxjQUFjLEdBQUcsZ0NBQWdDLENBQUM7aUJBQzlFO2FBQ0Q7U0FDRDtRQUVELE9BQU8sVUFBVSxDQUFDO0lBQ25CLENBQUM7SUFrQk0sNENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxJQUFJLENBQUMsaUJBQWlC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QUFJLFlBQVksS0FBSyx1REFBc0IsQ0FBQyx1REFBc0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNqRixPQUFPLHVEQUFzQixDQUFDLEtBQUssQ0FBQztLQUNwQztTQUFNLElBQUksWUFBWSxLQUFLLHVEQUFzQixDQUFDLHVEQUFzQixDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQy9FLE9BQU8sdURBQXNCLENBQUMsR0FBRyxDQUFDO0tBQ2xDO1NBQU07UUFDTixNQUFNLG1EQUFtRCxDQUFDO0tBQzFEO0FBQ0YsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb25maWd1cmF0aW9uLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgbG9naWMgcmVsYXRpbmcgdG8gdGhlIHNkayB1c2VyIGNvbmZpZ3VyYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi8uLi9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIExvY2FsaXphdGlvbiBmcm9tIFwiLi8uLi9Mb2NhbGl6YXRpb25cIjtcclxuaW1wb3J0IHsgSUNhdGVnb3J5T3B0aW9ucyB9IGZyb20gXCIuL0lDYXRlZ29yeU9wdGlvbnNcIjtcclxuaW1wb3J0ICogYXMgSUluaXRPcHRpb25zIGZyb20gXCIuL0lJbml0T3B0aW9uc1wiO1xyXG5pbXBvcnQgKiBhcyBJTGF1bmNoT3B0aW9ucyBmcm9tIFwiLi9JTGF1bmNoT3B0aW9uc1wiO1xyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvSVVJU3VydmV5XCI7XHJcbmltcG9ydCB7IElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLCBJU3VydmV5Rm9ybSwgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlQYXJhbXMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFja1wiO1xyXG5cclxuZXhwb3J0ICogZnJvbSBcIi4vSUluaXRPcHRpb25zXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0lMYXVuY2hPcHRpb25zXCI7XHJcblxyXG4vKipcclxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgY29uZmlndXJhdGlvbiAodXNlciBwcm92aWRlZCBvcHRpb25zKVxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uIHtcclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSBjYXRlZ29yeSBvcHRpb25zLCBkZWZhdWx0IFwic2hvd1wiIHRvIGZhbHNlIGlmIENhdGVnb3J5T3B0aW9ucyBpcyBub3QgcHJvdmlkZWQuXHJcblx0ICogQHBhcmFtIGNhdGVnb3JpZXMgQ2F0ZWdvcnkgb3B0aW9uc1xyXG5cdCAqIEByZXR1cm5zIHtJQ2F0ZWdvcnlPcHRpb25zfSB0aGUgdmFsaWRhdGVkIENhdGVnb3J5T3B0aW9uc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIHZhbGlkYXRlQ2F0ZWdvcnlPcHRpb25zKGNhdGVnb3JpZXM/OiBJQ2F0ZWdvcnlPcHRpb25zKTogSUNhdGVnb3J5T3B0aW9ucyB7XHJcblx0XHRpZiAoIWNhdGVnb3JpZXMpIHtcclxuXHRcdFx0cmV0dXJuIHsgc2hvdzogZmFsc2UgfTtcclxuXHRcdH1cclxuXHJcblx0XHRVdGlscy5leHBlY3RCb29sZWFuKGNhdGVnb3JpZXMuc2hvdywgXCJjYXRlZ29yaWVzLnNob3dcIik7XHJcblx0XHRpZiAoY2F0ZWdvcmllcy5jdXN0b21DYXRlZ29yaWVzKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEFycmF5KGNhdGVnb3JpZXMuY3VzdG9tQ2F0ZWdvcmllcywgXCJjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXNcIik7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBjdXN0b21DYXRlZ29yeSBvZiBjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXMpIHtcclxuXHRcdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoY3VzdG9tQ2F0ZWdvcnksIFwiY3VzdG9tIGNhdGVnb3J5ICdcIiArIGN1c3RvbUNhdGVnb3J5ICsgXCInXCIpO1xyXG5cdFx0XHRcdGlmIChjdXN0b21DYXRlZ29yeS5sZW5ndGggPiAyMCkge1xyXG5cdFx0XHRcdFx0dGhyb3cgXCJjdXN0b20gY2F0ZWdvcnkgJ1wiICsgY3VzdG9tQ2F0ZWdvcnkgKyBcIicgdG9vIGxvbmcsIG1heCAyMCBjaGFyYWN0ZXJzLlwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjYXRlZ29yaWVzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb21tb25Jbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0NvbW1vbjtcclxuXHJcblx0cHJpdmF0ZSBpbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrO1xyXG5cdHByaXZhdGUgaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnM6IElMYXVuY2hPcHRpb25zLklMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjaztcclxuXHJcblx0cHJpdmF0ZSBmbG9vZGdhdGVJbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZTtcclxuXHRwcml2YXRlIGZsb29kZ2F0ZVN1cnZleTogSVVJU3VydmV5O1xyXG5cclxuXHRwcml2YXRlIHNka1Nlc3Npb25JZDogc3RyaW5nO1xyXG5cclxuXHRwcml2YXRlIGV2ZW50U2FtcGxpbmc6IElJbml0T3B0aW9ucy5JU2FtcGxpbmdJbml0T3B0aW9uO1xyXG5cclxuXHRwcml2YXRlIGNvbW1vblBvbGljeUFsbG93QUFEQzogYm9vbGVhbjtcclxuXHJcblx0cHJpdmF0ZSBmZWVkYmFja1N1Ym1pdHRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRwdWJsaWMgZ2V0RmVlZGJhY2tTdWJtaXR0ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5mZWVkYmFja1N1Ym1pdHRlZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRGZWVkYmFja1N1Ym1pdHRlZCh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0dGhpcy5mZWVkYmFja1N1Ym1pdHRlZCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbW1vbkluaXRPcHRpb25zKCk6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tbW9uSW5pdE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCk6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxuXHRcdHJldHVybiB0aGlzLmluQXBwRmVlZGJhY2tJbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucygpOiBJTGF1bmNoT3B0aW9ucy5JTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2sge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRGbG9vZGdhdGVTdXJ2ZXkoKTogSVVJU3VydmV5IHtcclxuXHRcdHJldHVybiB0aGlzLmZsb29kZ2F0ZVN1cnZleTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTZGtTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuXHRcdGlmICghdGhpcy5zZGtTZXNzaW9uSWQpIHtcclxuXHRcdFx0dGhpcy5zZGtTZXNzaW9uSWQgPSBVdGlscy5ndWlkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc2RrU2Vzc2lvbklkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEV2ZW50U2FtcGxpbmcoKTogSUluaXRPcHRpb25zLklTYW1wbGluZ0luaXRPcHRpb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZXZlbnRTYW1wbGluZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBpbml0T3B0aW9ucyBmb3IgY29tbW9uIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0cHVibGljIHNldENvbW1vbkluaXRPcHRpb25zKHBhc3NlZEluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zQ29tbW9uKSB7XHJcblx0XHRVdGlscy5leHBlY3RPYmplY3QocGFzc2VkSW5pdE9wdGlvbnMsIFwicGFzc2VkSW5pdE9wdGlvbnNcIik7XHJcblx0XHRsZXQgaW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb24gPSB7XHJcblx0XHRcdGFwcElkOiBwYXNzZWRJbml0T3B0aW9ucy5hcHBJZCxcclxuXHRcdFx0YXBwbGljYXRpb25Hcm91cDogcGFzc2VkSW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cCB8fCB7fSxcclxuXHRcdFx0YnVpbGQ6IHBhc3NlZEluaXRPcHRpb25zLmJ1aWxkLFxyXG5cdFx0XHRjaWQ6IHBhc3NlZEluaXRPcHRpb25zLmNpZCxcclxuXHRcdFx0ZW52aXJvbm1lbnQ6IHBhc3NlZEluaXRPcHRpb25zLmVudmlyb25tZW50LFxyXG5cdFx0XHRpbnRsRmlsZW5hbWU6IHBhc3NlZEluaXRPcHRpb25zLmludGxGaWxlbmFtZSxcclxuXHRcdFx0aW50bFVybDogcGFzc2VkSW5pdE9wdGlvbnMuaW50bFVybCxcclxuXHRcdFx0d2ViU3VyZmFjZXNSZXNvdXJjZUJhc2VVcmw6IHBhc3NlZEluaXRPcHRpb25zLndlYlN1cmZhY2VzUmVzb3VyY2VCYXNlVXJsLFxyXG5cdFx0XHRsb2NhbGU6IHBhc3NlZEluaXRPcHRpb25zLmxvY2FsZSxcclxuXHRcdFx0b25FcnJvcjogcGFzc2VkSW5pdE9wdGlvbnMub25FcnJvcixcclxuXHRcdFx0b3JpZ2luYWxMb2NhbGU6IHBhc3NlZEluaXRPcHRpb25zLmxvY2FsZSxcclxuXHRcdFx0cHJpbWFyeUNvbG91cjogcGFzc2VkSW5pdE9wdGlvbnMucHJpbWFyeUNvbG91cixcclxuXHRcdFx0c2Vjb25kYXJ5Q29sb3VyOiBwYXNzZWRJbml0T3B0aW9ucy5zZWNvbmRhcnlDb2xvdXIsXHJcblx0XHRcdHNlc3Npb25JZDogcGFzc2VkSW5pdE9wdGlvbnMuc2Vzc2lvbklkLFxyXG5cdFx0XHRzdHlsZXNVcmw6IHBhc3NlZEluaXRPcHRpb25zLnN0eWxlc1VybCxcclxuXHRcdFx0dGVsZW1ldHJ5R3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwIHx8IHt9LFxyXG5cdFx0XHR1c2VyRW1haWw6IHBhc3NlZEluaXRPcHRpb25zLnVzZXJFbWFpbCxcclxuXHRcdFx0d2ViR3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLndlYkdyb3VwIHx8IHt9LFxyXG5cdFx0XHRldmVudFNhbXBsaW5nOiBwYXNzZWRJbml0T3B0aW9ucy5ldmVudFNhbXBsaW5nLFxyXG5cdFx0XHRwZXRyb2xUaW1lb3V0OiBwYXNzZWRJbml0T3B0aW9ucy5wZXRyb2xUaW1lb3V0LFxyXG5cdFx0XHRpc0NvbW1lcmNpYWxIb3N0OiBwYXNzZWRJbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0LFxyXG5cdFx0XHRjdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5OiBwYXNzZWRJbml0T3B0aW9ucy5jdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5LFxyXG5cdFx0XHRlbWFpbFBvbGljeVZhbHVlOiBwYXNzZWRJbml0T3B0aW9ucy5lbWFpbFBvbGljeVZhbHVlLFxyXG5cdFx0XHRzY3JlZW5zaG90UG9saWN5VmFsdWU6IHBhc3NlZEluaXRPcHRpb25zLnNjcmVlbnNob3RQb2xpY3lWYWx1ZSxcclxuXHRcdFx0YWdlR3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLmFnZUdyb3VwLFxyXG5cdFx0XHRhdXRoZW50aWNhdGlvblR5cGU6IHBhc3NlZEluaXRPcHRpb25zLmF1dGhlbnRpY2F0aW9uVHlwZSxcclxuXHRcdFx0YXBwbGljYXRpb25TZXR0aW5nczogcGFzc2VkSW5pdE9wdGlvbnMuYXBwbGljYXRpb25TZXR0aW5ncyxcclxuXHRcdFx0d2ViU3VyZmFjZXNTZXR0aW5nczogcGFzc2VkSW5pdE9wdGlvbnMud2ViU3VyZmFjZXNTZXR0aW5ncyxcclxuXHRcdH07XHJcblxyXG5cdFx0VXRpbHMuZXhwZWN0TnVtYmVyKGluaXRPcHRpb25zLmFwcElkLCBcImluaXRPcHRpb25zLmFwcElkXCIpO1xyXG5cdFx0aWYgKCEoaW5pdE9wdGlvbnMuYXBwSWQgJSAxID09PSAwICYmIGluaXRPcHRpb25zLmFwcElkID4gMCkpIHtcclxuXHRcdFx0dGhyb3cgXCJpbml0T3B0aW9ucy5hcHBJZCBpcyBub3QgYSBwb3NpdGl2ZSBpbnRlZ2VyOiBcIiArIGluaXRPcHRpb25zLmFwcElkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYml0d2lzZVxyXG5cdFx0Y29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSBJSW5pdE9wdGlvbnMuQ3VzdG9tUmVzb3VyY2VzLlN0cmluZ3MgfCBJSW5pdE9wdGlvbnMuQ3VzdG9tUmVzb3VyY2VzLkNzcztcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmN1c3RvbVJlc291cmNlc1NldEV4dGVybmFsbHkgPSBJSW5pdE9wdGlvbnMuQ3VzdG9tUmVzb3VyY2VzLk5vbmU7XHJcblx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYml0d2lzZVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgKGluaXRPcHRpb25zLmN1c3RvbVJlc291cmNlc1NldEV4dGVybmFsbHkpICE9PSBcIm51bWJlclwiIHx8XHJcblx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYml0d2lzZVxyXG5cdFx0XHQoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSB8IGV4cGVjdGVkVmFsdWVzKSAhPT0gZXhwZWN0ZWRWYWx1ZXMpIHtcclxuXHRcdFx0dGhyb3cgXCJpbml0T3B0aW9ucy5jdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5IGhhcyBhbiBpbnZhbGlkIHZhbHVlOiBcIiArIGluaXRPcHRpb25zLmN1c3RvbVJlc291cmNlc1NldEV4dGVybmFsbHk7XHJcblx0XHR9XHJcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWJpdHdpc2VcclxuXHRcdGlmICgoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSAmIElJbml0T3B0aW9ucy5DdXN0b21SZXNvdXJjZXMuQ3NzKSAhPT0gSUluaXRPcHRpb25zLkN1c3RvbVJlc291cmNlcy5Dc3MpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLnN0eWxlc1VybCwgXCJpbml0T3B0aW9ucy5zdHlsZXNVcmxcIik7XHJcblx0XHR9XHJcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWJpdHdpc2VcclxuXHRcdGlmICgoaW5pdE9wdGlvbnMuY3VzdG9tUmVzb3VyY2VzU2V0RXh0ZXJuYWxseSAmIElJbml0T3B0aW9ucy5DdXN0b21SZXNvdXJjZXMuU3RyaW5ncykgIT09IElJbml0T3B0aW9ucy5DdXN0b21SZXNvdXJjZXMuU3RyaW5ncykge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuaW50bFVybCwgXCJpbml0T3B0aW9ucy5pbnRsVXJsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5pbnRsRmlsZW5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuaW50bEZpbGVuYW1lLCBcImluaXRPcHRpb25zLmludGxGaWxlbmFtZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmludGxGaWxlbmFtZSA9IFwib2ZmaWNlYnJvd3NlcmZlZWRiYWNrc3RyaW5ncy5qc1wiO1xyXG5cdFx0fVxyXG5cclxuXHRcdFV0aWxzLmV4cGVjdE51bWJlcihpbml0T3B0aW9ucy5lbnZpcm9ubWVudCwgXCJpbml0T3B0aW9ucy5lbnZpcm9ubWVudFwiKTtcclxuXHRcdGlmICghKGluaXRPcHRpb25zLmVudmlyb25tZW50ID09PSAxIHx8IGluaXRPcHRpb25zLmVudmlyb25tZW50ID09PSAwKSkge1xyXG5cdFx0XHR0aHJvdyBcImluaXRPcHRpb25zLmVudmlyb25tZW50IGhhcyBhIGJhZCB2YWx1ZTogXCIgKyBpbml0T3B0aW9ucy5lbnZpcm9ubWVudDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudXNlckVtYWlsICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLnVzZXJFbWFpbCwgXCJpbml0T3B0aW9ucy51c2VyRW1haWxcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy51c2VyRW1haWwgPSBcIlwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zZXNzaW9uSWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuc2Vzc2lvbklkLCBcImluaXRPcHRpb25zLnNlc3Npb25JZFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLnNlc3Npb25JZCA9IFwiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ29weSBzZXNzaW9uSUQgb3ZlciB0byB0ZWxlbWV0cnlHcm91cFxyXG5cdFx0aW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXAucHJvY2Vzc1Nlc3Npb25JZCA9IGluaXRPcHRpb25zLnNlc3Npb25JZDtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuY2lkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLmNpZCwgXCJpbml0T3B0aW9ucy5jaWRcIik7XHJcblxyXG5cdFx0XHQvLyBDb3B5IGNpZCBvdmVyIHRvIGV4dGVuZGVkTWFuaWZlc3REYXRhIG9mIGFwcGxpY2F0aW9uR3JvdXBcclxuXHRcdFx0aW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cC5leHRlbmRlZE1hbmlmZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHsgY2lkOiBpbml0T3B0aW9ucy5jaWQgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmJ1aWxkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLmJ1aWxkLCBcImluaXRPcHRpb25zLmJ1aWxkXCIpO1xyXG5cdFx0XHRsZXQgYnVpbGRSZWdleCA9IFwiXlswLTldezEsOX0oXFxcXC5bMC05XXsxLDl9KT8oXFxcXC5bMC05XXsxLDl9KT8oXFxcXC5bMC05XXsxLDl9KT8kXCI7XHJcblx0XHRcdGlmICghbmV3IFJlZ0V4cChidWlsZFJlZ2V4KS50ZXN0KGluaXRPcHRpb25zLmJ1aWxkKSkge1xyXG5cdFx0XHRcdGluaXRPcHRpb25zLmJ1aWxkID0gXCIwLjAuMC4wXCI7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmJ1aWxkID0gXCIwLjAuMC4wXCI7XHJcblx0XHR9XHJcblx0XHQvLyBDb3B5IGJ1aWxkIG92ZXIgdG8gdGVsZW1ldHJ5R3JvdXBcclxuXHRcdGluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwLm9mZmljZUJ1aWxkID0gaW5pdE9wdGlvbnMuYnVpbGQ7XHJcblxyXG5cdFx0bGV0IGhleENvbG91clJlZ2V4ID0gbmV3IFJlZ0V4cChcIl4jWzAtOWEtZl17M30oWzAtOWEtZl17M30pPyRcIiwgXCJpXCIpO1xyXG5cdFx0aWYgKGluaXRPcHRpb25zLnByaW1hcnlDb2xvdXIgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoIWhleENvbG91clJlZ2V4LnRlc3QoaW5pdE9wdGlvbnMucHJpbWFyeUNvbG91cikpIHtcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5wcmltYXJ5Q29sb3VyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNlY29uZGFyeUNvbG91ciAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICghaGV4Q29sb3VyUmVnZXgudGVzdChpbml0T3B0aW9ucy5zZWNvbmRhcnlDb2xvdXIpKSB7XHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuc2Vjb25kYXJ5Q29sb3VyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmxvY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5sb2NhbGUsIFwiaW5pdE9wdGlvbnMubG9jYWxlXCIpO1xyXG5cdFx0XHRpbml0T3B0aW9ucy5sb2NhbGUgPSBMb2NhbGl6YXRpb24udmFsaWRhdGUoaW5pdE9wdGlvbnMubG9jYWxlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmxvY2FsZSA9IFwiZW5cIjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMub25FcnJvciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLm9uRXJyb3IgPSAoZXJyOiBzdHJpbmcpID0+IHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5wZXRyb2xUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0TnVtYmVyKGluaXRPcHRpb25zLnBldHJvbFRpbWVvdXQsIFwiaW5pdE9wdGlvbnMucGV0cm9sVGltZW91dFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0RW51bShpbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGUsIElJbml0T3B0aW9ucy5BdXRoZW50aWNhdGlvblR5cGUsIFwiaW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuYXV0aGVudGljYXRpb25UeXBlID0gSUluaXRPcHRpb25zLkF1dGhlbnRpY2F0aW9uVHlwZS5VbmF1dGhlbnRpY2F0ZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9yIEFBRCBvciBVbmF1dGhlbnRpY2F0ZWQsIGFnZUdyb3VwIHZhbHVlIGlzIHVua25vd24sIHNvIGl0J3Mgc2FmZSB0byBvbmx5IHBhcnNlIGZvciBNU0FcclxuXHRcdGlmIChpbml0T3B0aW9ucy5hZ2VHcm91cCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEVudW0oaW5pdE9wdGlvbnMuYWdlR3JvdXAsIElJbml0T3B0aW9ucy5BZ2VHcm91cCwgXCJpbml0T3B0aW9ucy5hZ2VHcm91cFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmFnZUdyb3VwID0gSUluaXRPcHRpb25zLkFnZUdyb3VwLlVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmV2ZW50U2FtcGxpbmcgPSB0aGlzLnBhcnNlRXZlbnRTYW1wbGluZ09wdGlvbihpbml0T3B0aW9ucy5ldmVudFNhbXBsaW5nKTtcclxuXHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zID0gaW5pdE9wdGlvbnM7XHJcblx0XHR0aGlzLmNvbW1vblBvbGljeUFsbG93QUFEQyA9IHRoaXMuZGV0ZXJtaW5lQUFEQ1BvbGljeShpbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGUsIGluaXRPcHRpb25zLmFnZUdyb3VwKTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuaXNDb21tZXJjaWFsSG9zdCA9PT0gdW5kZWZpbmVkIHx8IGluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3QgPT0gbnVsbCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0ID0gZmFsc2U7IC8vIEJ5IGRlZmF1bHQgcHJpdmFjeSBjb25zZW50IGlzIG5vdCBzaG93bi4gKEZyb20gU0RLJ3MgcGVyc3BlY3RpdmUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3QsIFwiaW5pdE9wdGlvbnMuaXNDb21tZXJjaWFsSG9zdFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuZW1haWxQb2xpY3lWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUgPSBDb25zdGFudHMuT0NQU1ZhbHVlcy5Ob3RDb25maWd1cmVkO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgKGluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUpICE9PSBcIm51bWJlclwiIHx8XHJcblx0XHRcdChpbml0T3B0aW9ucy5lbWFpbFBvbGljeVZhbHVlICE9PSBDb25zdGFudHMuT0NQU1ZhbHVlcy5Ob3RDb25maWd1cmVkICYmXHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuZW1haWxQb2xpY3lWYWx1ZSAhPT0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuRW5hYmxlZCAmJlxyXG5cdFx0XHRcdGluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUgIT09IENvbnN0YW50cy5PQ1BTVmFsdWVzLkRpc2FibGVkKSkge1xyXG5cdFx0XHR0aHJvdyBcImluaXRPcHRpb25zLmVtYWlsUG9saWN5VmFsdWUgaGFzIGFuIGludmFsaWQgdmFsdWU6IFwiICsgaW5pdE9wdGlvbnMuZW1haWxQb2xpY3lWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuc2NyZWVuc2hvdFBvbGljeVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2NyZWVuc2hvdFBvbGljeVZhbHVlID0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuTm90Q29uZmlndXJlZDtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIChpbml0T3B0aW9ucy5zY3JlZW5zaG90UG9saWN5VmFsdWUpICE9PSBcIm51bWJlclwiIHx8XHJcblx0XHRcdGluaXRPcHRpb25zLnNjcmVlbnNob3RQb2xpY3lWYWx1ZSAhPT0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuTm90Q29uZmlndXJlZCAmJlxyXG5cdFx0XHRpbml0T3B0aW9ucy5zY3JlZW5zaG90UG9saWN5VmFsdWUgIT09IENvbnN0YW50cy5PQ1BTVmFsdWVzLkVuYWJsZWQgJiZcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2NyZWVuc2hvdFBvbGljeVZhbHVlICE9PSBDb25zdGFudHMuT0NQU1ZhbHVlcy5EaXNhYmxlZCkge1xyXG5cdFx0XHR0aHJvdyBcImluaXRPcHRpb25zLnNjcmVlbnNob3RQb2xpY3lWYWx1ZSBoYXMgYW4gaW52YWxpZCB2YWx1ZTogXCIgKyBpbml0T3B0aW9ucy5zY3JlZW5zaG90UG9saWN5VmFsdWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgaW5pdCBvcHRpb25zIGZvciBpbkFwcEZlZWRiYWNrXHJcblx0ICovXHJcblx0cHVibGljIHNldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucyhwYXNzZWRJbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0luQXBwRmVlZGJhY2spIHtcclxuXHRcdFV0aWxzLmV4cGVjdE9iamVjdChwYXNzZWRJbml0T3B0aW9ucywgXCJwYXNzZWRJbml0T3B0aW9uc1wiKTtcclxuXHJcblx0XHRsZXQgaW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrID0ge1xyXG5cdFx0XHRidWdGb3JtOiBwYXNzZWRJbml0T3B0aW9ucy5idWdGb3JtLFxyXG5cdFx0XHRvbkRpc21pc3M6IHBhc3NlZEluaXRPcHRpb25zLm9uRGlzbWlzcyxcclxuXHRcdFx0c2NyZWVuc2hvdDogcGFzc2VkSW5pdE9wdGlvbnMuc2NyZWVuc2hvdCxcclxuXHRcdFx0c2hvd0VtYWlsQWRkcmVzczogcGFzc2VkSW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyxcclxuXHRcdFx0dXNlckVtYWlsOiBwYXNzZWRJbml0T3B0aW9ucy51c2VyRW1haWwsXHJcblx0XHRcdHRyYW5zaXRpb25FbmFibGVkOiBwYXNzZWRJbml0T3B0aW9ucy50cmFuc2l0aW9uRW5hYmxlZCxcclxuXHRcdFx0aXNTaG93VGhhbmtzOiBwYXNzZWRJbml0T3B0aW9ucy5pc1Nob3dUaGFua3MsXHJcblx0XHRcdHNlbmRGZWVkYmFja1BvbGljeVZhbHVlOiBwYXNzZWRJbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSxcclxuXHRcdFx0ZmVlZGJhY2tGb3J1bVVybDogcGFzc2VkSW5pdE9wdGlvbnMuZmVlZGJhY2tGb3J1bVVybCAhPT0gdW5kZWZpbmVkID9cclxuXHRcdFx0XHRwYXNzZWRJbml0T3B0aW9ucy5mZWVkYmFja0ZvcnVtVXJsIDpcclxuXHRcdFx0XHR1bmRlZmluZWQsXHJcblx0XHRcdG15RmVlZGJhY2tGb3J1bVVybDogcGFzc2VkSW5pdE9wdGlvbnMubXlGZWVkYmFja0ZvcnVtVXJsICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdHBhc3NlZEluaXRPcHRpb25zLm15RmVlZGJhY2tGb3J1bVVybCA6XHJcblx0XHRcdFx0dW5kZWZpbmVkLFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMub25EaXNtaXNzID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMub25EaXNtaXNzID0gZnVuY3Rpb24gKHN1Ym1pdHRlZDogYm9vbGVhbikgeyByZXR1cm47IH07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmJ1Z0Zvcm0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmJ1Z0Zvcm0sIFwiaW5pdE9wdGlvbnMuYnVnRm9ybVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmJ1Z0Zvcm0gPSBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudXNlckVtYWlsICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLnVzZXJFbWFpbCwgXCJpbml0T3B0aW9ucy51c2VyRW1haWxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNjcmVlbnNob3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLnNjcmVlbnNob3QsIFwiaW5pdE9wdGlvbnMuc2NyZWVuc2hvdFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLnNjcmVlbnNob3QgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzLCBcImluaXRPcHRpb25zLnNob3dFbWFpbEFkZHJlc3NcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuZmVlZGJhY2tGb3J1bVVybCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5mZWVkYmFja0ZvcnVtVXJsLCBcImluaXRPcHRpb25zLmZlZWRiYWNrRm9ydW1VcmxcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5mZWVkYmFja0ZvcnVtVXJsID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5pc1Nob3dUaGFua3MgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmlzU2hvd1RoYW5rcywgXCJpbml0T3B0aW9ucy5pc1Nob3dUaGFua3NcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5pc1Nob3dUaGFua3MgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5teUZlZWRiYWNrRm9ydW1VcmwgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMubXlGZWVkYmFja0ZvcnVtVXJsLCBcImluaXRPcHRpb25zLm15RmVlZGJhY2tGb3J1bVVybFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLm15RmVlZGJhY2tGb3J1bVVybCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudHJhbnNpdGlvbkVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy50cmFuc2l0aW9uRW5hYmxlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNlbmRGZWVkYmFja1BvbGljeVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2VuZEZlZWRiYWNrUG9saWN5VmFsdWUgPSBDb25zdGFudHMuT0NQU1ZhbHVlcy5Ob3RDb25maWd1cmVkO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgKGluaXRPcHRpb25zLnNlbmRGZWVkYmFja1BvbGljeVZhbHVlKSAhPT0gXCJudW1iZXJcIiB8fFxyXG5cdFx0XHQoaW5pdE9wdGlvbnMuc2VuZEZlZWRiYWNrUG9saWN5VmFsdWUgIT09IENvbnN0YW50cy5PQ1BTVmFsdWVzLk5vdENvbmZpZ3VyZWQgJiZcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSAhPT0gQ29uc3RhbnRzLk9DUFNWYWx1ZXMuRW5hYmxlZCAmJlxyXG5cdFx0XHRcdGluaXRPcHRpb25zLnNlbmRGZWVkYmFja1BvbGljeVZhbHVlICE9PSBDb25zdGFudHMuT0NQU1ZhbHVlcy5EaXNhYmxlZCkpIHtcclxuXHRcdFx0dGhyb3cgXCJpbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSBoYXMgYW4gaW52YWxpZCB2YWx1ZTogXCIgKyBpbml0T3B0aW9ucy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmluQXBwRmVlZGJhY2tJbml0T3B0aW9ucyA9IGluaXRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGxhdW5jaCBvcHRpb25zIGZvciBpbkFwcEZlZWRiYWNrXHJcblx0ICovXHJcblx0cHVibGljIHNldEluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zKGxhdW5jaE9wdGlvbnM/OiBJTGF1bmNoT3B0aW9ucy5JTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spIHtcclxuXHRcdGlmICghdGhpcy5jb21tb25Jbml0T3B0aW9ucykge1xyXG5cdFx0XHR0aHJvdyBcImNvbW1vbkluaXRPcHRpb25zIG5vdCBzZXRcIjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWxhdW5jaE9wdGlvbnMpIHtcclxuXHRcdFx0bGF1bmNoT3B0aW9ucyA9IHt9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE92ZXJyaWRlIGFueSBzZXR0aW5nIGRvbmUgaW4gTGF1bmNoT3B0aW9ucyBmb3IgdGhlIG1ldGFkYXRhR3JvdXBzXHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLmFwcGxpY2F0aW9uR3JvdXAgPSBVdGlscy5vdmVycmlkZVZhbHVlcyhsYXVuY2hPcHRpb25zLmFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdHRoaXMuY29tbW9uSW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cCk7XHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMobGF1bmNoT3B0aW9ucy50ZWxlbWV0cnlHcm91cCxcclxuXHRcdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy50ZWxlbWV0cnlHcm91cCk7XHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLndlYkdyb3VwID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMobGF1bmNoT3B0aW9ucy53ZWJHcm91cCxcclxuXHRcdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy53ZWJHcm91cCk7XHJcblxyXG5cdFx0bGF1bmNoT3B0aW9ucy5jYXRlZ29yaWVzID0gQ29uZmlndXJhdGlvbi52YWxpZGF0ZUNhdGVnb3J5T3B0aW9ucyhsYXVuY2hPcHRpb25zLmNhdGVnb3JpZXMpO1xyXG5cclxuXHRcdHRoaXMuaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnMgPSBsYXVuY2hPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGluaXQgb3B0aW9ucyBmb3IgZmxvb2RnYXRlXHJcblx0ICovXHJcblx0cHVibGljIHNldEZsb29kZ2F0ZUluaXRPcHRpb25zKHBhc3NlZEluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zRmxvb2RnYXRlKSB7XHJcblx0XHRVdGlscy5leHBlY3RPYmplY3QocGFzc2VkSW5pdE9wdGlvbnMsIFwicGFzc2VkSW5pdE9wdGlvbnNcIik7XHJcblxyXG5cdFx0bGV0IGluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zRmxvb2RnYXRlID0ge1xyXG5cdFx0XHRhdXRvRGlzbWlzczogcGFzc2VkSW5pdE9wdGlvbnMuYXV0b0Rpc21pc3MsXHJcblx0XHRcdGNhbXBhaWduRGVmaW5pdGlvbnM6IHBhc3NlZEluaXRPcHRpb25zLmNhbXBhaWduRGVmaW5pdGlvbnMsXHJcblx0XHRcdGNhbXBhaWduRmxpZ2h0czogcGFzc2VkSW5pdE9wdGlvbnMuY2FtcGFpZ25GbGlnaHRzLFxyXG5cdFx0XHRjYW1wYWlnblF1ZXJ5UGFyYW1ldGVyczogcGFzc2VkSW5pdE9wdGlvbnMuY2FtcGFpZ25RdWVyeVBhcmFtZXRlcnMsXHJcblx0XHRcdG9uRGlzbWlzczogcGFzc2VkSW5pdE9wdGlvbnMub25EaXNtaXNzLFxyXG5cdFx0XHRvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLFxyXG5cdFx0XHRzZXR0aW5nU3RvcmFnZUNhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5zZXR0aW5nU3RvcmFnZUNhbGxiYWNrLFxyXG5cdFx0XHR1SVN0cmluZ0dldHRlcjogcGFzc2VkSW5pdE9wdGlvbnMudUlTdHJpbmdHZXR0ZXIsXHJcblx0XHRcdGF1dGhUb2tlbkNhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5hdXRoVG9rZW5DYWxsYmFjayxcclxuXHRcdFx0c3VydmV5RW5hYmxlZDogcGFzc2VkSW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCxcclxuXHRcdFx0c2hvd0VtYWlsQWRkcmVzczogcGFzc2VkSW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyxcclxuXHRcdFx0YXVnTG9vcENhbGxiYWNrOiBwYXNzZWRJbml0T3B0aW9ucy5hdWdMb29wQ2FsbGJhY2ssXHJcblx0XHRcdGN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXM6IHBhc3NlZEluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMsXHJcblx0XHRcdGdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZDogcGFzc2VkSW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VFbmFibGVkLFxyXG5cdFx0XHRnb3Zlcm5hbmNlU2VydmljZUNvbmZpZzogcGFzc2VkSW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcsXHJcblx0XHRcdHBlcnNvbmFsaXplckVuYWJsZWQ6IHBhc3NlZEluaXRPcHRpb25zLnBlcnNvbmFsaXplckVuYWJsZWQsXHJcblx0XHRcdG1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5nczogcGFzc2VkSW5pdE9wdGlvbnMubWVzc2FnaW5nU2VydmljZVNldHRpbmdzLFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuYXV0b0Rpc21pc3MgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5hdXRvRGlzbWlzcyA9IENvbnN0YW50cy5BdXRvRGlzbWlzc1ZhbHVlcy5Ob0F1dG9EaXNtaXNzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5vbkRpc21pc3MgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5vbkRpc21pc3MgPSAoY2FtcGFpZ25JZDogc3RyaW5nLCBzdWJtaXR0ZWQ6IGJvb2xlYW4pID0+IHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0bGV0IGRlZmF1bHRPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IHtcclxuXHRcdFx0XHRvblN1cnZleUFjdGl2YXRlZChsYXVuY2hlcjogSVN1cnZleUxhdW5jaGVyLCBzdXJ2ZXk/OiBJU3VydmV5Rm9ybSwgc3VydmV5UGFyYW1zPzogSVN1cnZleVBhcmFtcyk6IHZvaWQge1xyXG5cdFx0XHRcdFx0bGF1bmNoZXIubGF1bmNoKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGluaXRPcHRpb25zLm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2sgPSBkZWZhdWx0T25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudUlTdHJpbmdHZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy51SVN0cmluZ0dldHRlciA9IChzdHI6IHN0cmluZykgPT4gc3RyOyAvLyBCeSBkZWZhdWx0IHJldHVybiB0aGUgc3RyaW5nIGFzIGlzLlxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zdXJ2ZXlFbmFibGVkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCA9IHRydWU7IC8vIEJ5IGRlZmF1bHQgc3VydmV5cyBhcmUgZW5hYmxlZC4gKEZyb20gU0RLJ3MgcGVyc3BlY3RpdmUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLnN1cnZleUVuYWJsZWQsIFwic3VydmV5RW5hYmxlZFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEJvb2xlYW4oaW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcywgXCJpbml0T3B0aW9uc0Zsb29kZ2F0ZS5zaG93RW1haWxBZGRyZXNzXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyA9IHRydWU7ICAvLyBCeSBkZWZhdWx0IGVtYWlsIGZpZWxkIGFuZCBjb2xsZWN0aW9uIGlzIGVuYWJsZWQuIChGcm9tIFNESydzIHBlcnNwZWN0aXZlKVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZCwgXCJpbml0T3B0aW9uc0Zsb29kZ2F0ZS5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZCA9IGZhbHNlOyAgLy8gQnkgZGVmYXVsdCBnb3Zlcm5hbmNlU2VydmljZUVuYWJsZSBpcyBkaXNhYmxlZFxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcgPSB0aGlzLnBhcnNlR292ZXJuYW5jZVNlcnZpY2VDb25maWcoXHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcgIT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdFx0XHRpbml0T3B0aW9ucy5nb3Zlcm5hbmNlU2VydmljZUNvbmZpZyA6XHJcblx0XHRcdFx0XHR7fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5jdXN0b21lclZvaWNlU3VydmV5UGFyYW1zID0geyBjdkZsaWdodHM6IFwiXCIsIGlzQ1ZTdXJ2ZXlFbmFibGVkOiBmYWxzZSwgcHJvZHVjdE5hbWU6IFwiXCIsIHVpSG9zdDogXCJcIiB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5wZXJzb25hbGl6ZXJFbmFibGVkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5wZXJzb25hbGl6ZXJFbmFibGVkLCBcImluaXRPcHRpb25zRmxvb2RnYXRlLnBlcnNvbmFsaXplckVuYWJsZWRcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5wZXJzb25hbGl6ZXJFbmFibGVkID0gZmFsc2U7ICAvLyBCeSBkZWZhdWx0IHBlcnNvbmFsaXplckVuYWJsZWQgaXMgZGlzYWJsZWRcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zID0gaW5pdE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdGhlIGZsb29kZ2F0ZSBzdXJ2ZXlcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0Rmxvb2RnYXRlU3VydmV5KHN1cnZleTogSVVJU3VydmV5KTogdm9pZCB7XHJcblx0XHR0aGlzLmZsb29kZ2F0ZVN1cnZleSA9IHN1cnZleTtcclxuXHR9XHJcblxyXG5cdC8vIENoZWNrcyBpZiB0aGUgc3VydmV5RW5hYmxlZCBwb2xpY3kgaXMgdHJ1ZSBvciBmYWxzZS5cclxuXHRwdWJsaWMgY2hlY2tJZlN1cnZleXNFbmFibGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gSWYgbm8gZmxvb2RnYXRlSW5pdE9wdGlvbnMgZGVmaW5lZCwgcmV0dXJuIHRydWUgZm9yIHN1cnZleUVuYWJsZWRcclxuXHRcdGNvbnN0IHBvbGljeUFsbG93U3VydmV5ID0gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyA/IHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCA6IHRydWU7XHJcblx0XHRyZXR1cm4gcG9saWN5QWxsb3dTdXJ2ZXkgJiYgdGhpcy5jb21tb25Qb2xpY3lBbGxvd0FBREM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gdGhlIGZsYWcgdGhlIEZlZWRiYWNrIGFuZCBTdXJ2ZXkgZW5hYmxlZCBieSBBQURDLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBpc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQygpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbW1vblBvbGljeUFsbG93QUFEQztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDVlN1cnZleUZsaWdodHMoKTogc3RyaW5nIHwgbnVsbCB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyAmJiB0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMgP1xyXG5cdFx0XHR0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMuY3ZGbGlnaHRzIDogXCJcIjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBpc0NWU3VydmV5RW5hYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zICYmIHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuY3VzdG9tZXJWb2ljZVN1cnZleVBhcmFtcyA/XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuY3VzdG9tZXJWb2ljZVN1cnZleVBhcmFtcy5pc0NWU3VydmV5RW5hYmxlZCA6IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByb2R1Y3ROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyAmJiB0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMgP1xyXG5cdFx0XHR0aGlzLmZsb29kZ2F0ZUluaXRPcHRpb25zLmN1c3RvbWVyVm9pY2VTdXJ2ZXlQYXJhbXMucHJvZHVjdE5hbWUgOiBcIlwiO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVJSG9zdCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMgJiYgdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucy5jdXN0b21lclZvaWNlU3VydmV5UGFyYW1zID9cclxuXHRcdFx0dGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucy5jdXN0b21lclZvaWNlU3VydmV5UGFyYW1zLnVpSG9zdCA6IFwiXCI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBBQURDIHJ1bGUgYXQgb25jZSBzaW5jZSBDb25maWd1cmF0aW9uIGNhbm5vdCBiZSBzZXQgYWdhaW4uXHJcblx0ICogU28gdGhhdCB3ZSBkb24ndCBuZWVkIHRvIHJlcGVhdCB0aGUgc2FtZSBwcm9jZXNzIG92ZXIgYWdhaW4uXHJcblx0ICovXHJcblx0cHVibGljIGRldGVybWluZUFBRENQb2xpY3koYXV0aGVudGljYXRpb25UeXBlOiBJSW5pdE9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0YWdlR3JvdXA6IElJbml0T3B0aW9ucy5BZ2VHcm91cCk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gUmV0dXJuIEJhc2VkIG9uIGF1dGhlbnRpY2F0aW9uIGZpcnN0XHJcblx0XHRpZiAoYXV0aGVudGljYXRpb25UeXBlID09PSBJSW5pdE9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlLlVuYXV0aGVudGljYXRlZCB8fFxyXG5cdFx0XHRhdXRoZW50aWNhdGlvblR5cGUgPT09IElJbml0T3B0aW9ucy5BdXRoZW50aWNhdGlvblR5cGUuQUFEKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Ly8gUmV0dXJuIGJhc2VkIG9uIEFnZUdyb3VwXHJcblx0XHRyZXR1cm4gYWdlR3JvdXAgIT09IElJbml0T3B0aW9ucy5BZ2VHcm91cC5NaW5vcldpdGhQYXJlbnRhbENvbnNlbnQgJiZcclxuXHRcdFx0YWdlR3JvdXAgIT09IElJbml0T3B0aW9ucy5BZ2VHcm91cC5NaW5vcldpdGhvdXRQYXJlbnRhbENvbnNlbnQ7XHJcblx0fVxyXG5cclxuXHQvLyBLZWVwIGltcGxlbWVudGF0aW9uIGluIHN5bmMgd2l0aCAlU1JDUk9PVCVcXHByaXZhY3lcXGlkY29uc2VudHByb3ZpZGVyXFxJZGVudGl0eUJhc2VkQ29uc2VudEdyb3VwUHJvdmlkZXIuY3BwXHJcblx0cHVibGljIGdldFVzZXJDb25zZW50R3JvdXAoKTogSUluaXRPcHRpb25zLlVzZXJDb25zZW50R3JvdXAge1xyXG5cdFx0Y29uc3QgYXV0aGVudGljYXRpb25UeXBlID0gdGhpcy5jb21tb25Jbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGU7XHJcblx0XHRpZiAoYXV0aGVudGljYXRpb25UeXBlID09PSBJSW5pdE9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlLlVuYXV0aGVudGljYXRlZCB8fFxyXG5cdFx0XHRhdXRoZW50aWNhdGlvblR5cGUgPT09IElJbml0T3B0aW9ucy5BdXRoZW50aWNhdGlvblR5cGUuQUFEKSB7XHJcblx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5Db25zZW50O1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGFnZUdyb3VwID0gdGhpcy5jb21tb25Jbml0T3B0aW9ucy5hZ2VHcm91cDtcclxuXHRcdHN3aXRjaCAoYWdlR3JvdXApIHtcclxuXHRcdFx0Y2FzZSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuVW5kZWZpbmVkOlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5Db25zZW50O1xyXG5cdFx0XHRjYXNlIElJbml0T3B0aW9ucy5BZ2VHcm91cC5NaW5vcldpdGhvdXRQYXJlbnRhbENvbnNlbnQ6XHJcblx0XHRcdFx0cmV0dXJuIElJbml0T3B0aW9ucy5Vc2VyQ29uc2VudEdyb3VwLkNhbm5vdENvbnNlbnQ7XHJcblx0XHRcdGNhc2UgSUluaXRPcHRpb25zLkFnZUdyb3VwLk1pbm9yV2l0aFBhcmVudGFsQ29uc2VudDpcclxuXHRcdFx0XHRyZXR1cm4gSUluaXRPcHRpb25zLlVzZXJDb25zZW50R3JvdXAuQ2Fubm90Q29uc2VudDtcclxuXHRcdFx0Y2FzZSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuQWR1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIElJbml0T3B0aW9ucy5Vc2VyQ29uc2VudEdyb3VwLkNhbkNvbnNlbnQ7XHJcblx0XHRcdGNhc2UgSUluaXRPcHRpb25zLkFnZUdyb3VwLk5vdEFkdWx0OlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5QYXJ0aWFsQ29uc2VudDtcclxuXHRcdFx0Y2FzZSBJSW5pdE9wdGlvbnMuQWdlR3JvdXAuTWlub3JOb1BhcmVudGFsQ29uc2VudFJlcXVpcmVkOlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5Db25zZW50O1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5ub3RDb25zZW50O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBJSW5pdE9wdGlvbnMuVXNlckNvbnNlbnRHcm91cC5DYW5ub3RDb25zZW50O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZUV2ZW50U2FtcGxpbmdPcHRpb24oc2FtcGxpbmdPcHRpb25zOiBJSW5pdE9wdGlvbnMuSVNhbXBsaW5nRXZlbnRbXSk6IElJbml0T3B0aW9ucy5JU2FtcGxpbmdJbml0T3B0aW9uIHtcclxuXHRcdGxldCBldmVudEluaXRTYW1wbGluZzogSUluaXRPcHRpb25zLklTYW1wbGluZ0luaXRPcHRpb24gPSB7IGV2ZW50OiB7fSB9O1xyXG5cdFx0aWYgKHNhbXBsaW5nT3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdC8vIEl0ZXJhdGluZyB0aHJvdWdoIGluaXQgb3B0aW9uc1xyXG5cdFx0XHRmb3IgKGNvbnN0IGluZGV4IGluIHNhbXBsaW5nT3B0aW9ucykge1xyXG5cdFx0XHRcdGlmIChzYW1wbGluZ09wdGlvbnMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcblx0XHRcdFx0XHQvLyBDaGVjayBmb3IgY29ycmVjdCBUeXBlXHJcblx0XHRcdFx0XHRzd2l0Y2ggKHNhbXBsaW5nT3B0aW9uc1tpbmRleF0udHlwZSkge1xyXG5cdFx0XHRcdFx0XHRjYXNlIFwiRXZlbnRcIjpcclxuXHRcdFx0XHRcdFx0XHQvLyBQYXJzaW5nIHRoZSBOYW1lIGFuZCBTYW1wbGVSYXRlXHJcblx0XHRcdFx0XHRcdFx0bGV0IHNhbXBsZVJhdGUgPSBzYW1wbGluZ09wdGlvbnNbaW5kZXhdLnNhbXBsZVJhdGU7XHJcblx0XHRcdFx0XHRcdFx0VXRpbHMuZXhwZWN0TnVtYmVyKHNhbXBsZVJhdGUsIFwiaW5pdE9wdGlvbi5FdmVudFNhbXBsaW5nLlNhbXBsZVJhdGVcIik7XHJcblx0XHRcdFx0XHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKHNhbXBsaW5nT3B0aW9uc1tpbmRleF0ubmFtZSwgXCJpbml0T3B0aW9uLkV2ZW50U2FtcGxpbmcuTmFtZVwiKTtcclxuXHRcdFx0XHRcdFx0XHQvLyBjaGVjayB0aGUgcmFuZ2UgZm9yIHNhbXBsaW5nIHBlcmNlbnRhZ2VcclxuXHRcdFx0XHRcdFx0XHRpZiAoc2FtcGxlUmF0ZSA8IDAgfHwgc2FtcGxlUmF0ZSA+IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRocm93IFwiaW5pdE9wdGlvbi5FdmVudFNhbXBsaW5nLlwiICsgc2FtcGxpbmdPcHRpb25zW2luZGV4XS5uYW1lICsgXCIuU2FtcGxlUmF0ZSBpcyBvdXQgb2YgcmFuZ2VcIjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0Ly8gZmluYWxseSwgc2F2ZSB0aGUgc2FtcGxpbmcgZXZlbnRcclxuXHRcdFx0XHRcdFx0XHRldmVudEluaXRTYW1wbGluZy5ldmVudFtzYW1wbGluZ09wdGlvbnNbaW5kZXhdLm5hbWVdID0gc2FtcGxlUmF0ZTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBcImluaXRPcHRpb24uRXZlbnRTYW1wbGluZy5UeXBlIHZhbHVlIGlzIG5vdCByZWNvZ25pemVkXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZXZlbnRJbml0U2FtcGxpbmc7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHBhcnNlR292ZXJuYW5jZVNlcnZpY2VDb25maWcoY29uZmlnOiBJSW5pdE9wdGlvbnMuSUdvdmVybmFuY2VTZXJ2aWNlQ29uZmlnKTogSUluaXRPcHRpb25zLklHb3Zlcm5hbmNlU2VydmljZUNvbmZpZyB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQvLyBieSBkZWZhdWx0LCBkaXNhYmxlIHRoZSB0cmlnZ2VyIGluIGZhaWx1cmVcclxuXHRcdFx0Zm9yY2VTZXJ2aWNlbGVzc1N1cnZleURpc3BsYXk6IGNvbmZpZy5mb3JjZVNlcnZpY2VsZXNzU3VydmV5RGlzcGxheSA/PyBmYWxzZSxcclxuXHJcblx0XHRcdC8vIGJ5IGRlZmF1bHQsIG5vIHJldHJ5XHJcblx0XHRcdHJldHJ5OiBjb25maWcucmV0cnkgPz8gMSxcclxuXHJcblx0XHRcdC8vIGJ5IGRlZmF1bHQsIHRpbWVvdXQgaXMgMTAwMCBtaWxpc2Vjb25kc1xyXG5cdFx0XHR0aW1lb3V0OiBjb25maWcudGltZW91dCA/PyAxMDAwLFxyXG5cclxuXHRcdFx0Ly8gc2ltcGxlIHJlcXVlc3QgaXMgZGVmYXVsdCB0byBmYWxzZVxyXG5cdFx0XHRzaW1wbGVSZXF1ZXN0RW5hYmxlZDogY29uZmlnLnNpbXBsZVJlcXVlc3RFbmFibGVkID8/IGZhbHNlLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbmxldCBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldCgpOiBDb25maWd1cmF0aW9uIHtcclxuXHRyZXR1cm4gY29uZmlndXJhdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlIGZlZWRiYWNrVHlwZVxyXG4gKiBAcGFyYW0gZmVlZGJhY2tUeXBlIGZlZWRiYWNrVHlwZVxyXG4gKiBAcmV0dXJucyB7Q29uc3RhbnRzLkZlZWRiYWNrVHlwZX0gdGhlIHZhbGlkYXRlZCBmZWVkYmFja1R5cGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUZlZWRiYWNrVHlwZShmZWVkYmFja1R5cGU6IHN0cmluZyk6IENvbnN0YW50cy5GZWVkYmFja1R5cGUge1xyXG5cdFV0aWxzLmV4cGVjdFN0cmluZyhmZWVkYmFja1R5cGUsIFwiZmVlZGJhY2tUeXBlXCIpO1xyXG5cclxuXHRpZiAoZmVlZGJhY2tUeXBlID09PSBDb25zdGFudHMuRmVlZGJhY2tUeXBlW0NvbnN0YW50cy5GZWVkYmFja1R5cGUuU21pbGVdKSB7XHJcblx0XHRyZXR1cm4gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5TbWlsZTtcclxuXHR9IGVsc2UgaWYgKGZlZWRiYWNrVHlwZSA9PT0gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZVtDb25zdGFudHMuRmVlZGJhY2tUeXBlLkZyb3duXSkge1xyXG5cdFx0cmV0dXJuIENvbnN0YW50cy5GZWVkYmFja1R5cGUuRnJvd247XHJcblx0fSBlbHNlIGlmIChmZWVkYmFja1R5cGUgPT09IENvbnN0YW50cy5GZWVkYmFja1R5cGVbQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5CdWddKSB7XHJcblx0XHRyZXR1cm4gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5CdWc7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IFwiZmVlZGJhY2tUeXBlIHNob3VsZCBiZSBvbmUgb2YgU21pbGUsIEZyb3duIG9yIEJ1Z1wiO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/Configuration.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/DynamicConfiguration.ts":
/*!***********************************************************!*\
  !*** ./scripts/app/Configuration/DynamicConfiguration.ts ***!
  \***********************************************************/
/*! exports provided: getDynamicSetting, resetDynamicSettingsTmsgCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDynamicSetting\", function() { return getDynamicSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetDynamicSettingsTmsgCache\", function() { return resetDynamicSettingsTmsgCache; });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _TargetedMessaging_TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TargetedMessaging/TargetedMessagingCache */ \"./scripts/app/TargetedMessaging/TargetedMessagingCache.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_0__[\"isNOU\"];\r\nvar dynamicSettingsTmsgCache = null;\r\nfunction getDynamicSetting(key, defaultValue) {\r\n    try {\r\n        if (!dynamicSettingsTmsgCache && _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isStorageAvailable()) {\r\n            dynamicSettingsTmsgCache = new _TargetedMessaging_TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_2__[\"TargetedMessagingCache\"]([\"DynamicSettings\" /* dynamicSettings */]);\r\n        }\r\n        if (!dynamicSettingsTmsgCache) {\r\n            return defaultValue;\r\n        }\r\n        var settingsObj = dynamicSettingsTmsgCache.getItemContent(\"DynamicSettings\" /* dynamicSettings */);\r\n        if (!isNOU(settingsObj)\r\n            && settingsObj.hasOwnProperty(key)\r\n            && !isNOU(settingsObj[key])) {\r\n            var settingValue = settingsObj[key];\r\n            // parse types\r\n            if (typeof defaultValue === \"number\" && typeof settingValue !== \"number\") {\r\n                if (typeof settingValue === \"string\") {\r\n                    var returnValue = settingValue.indexOf(\".\") === -1 ? parseInt(settingValue, 10) : parseFloat(settingValue);\r\n                    return isNaN(returnValue) ? defaultValue : returnValue;\r\n                }\r\n                return defaultValue;\r\n            }\r\n            return settingValue;\r\n        }\r\n    }\r\n    catch (error) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"EventIds\"].Common.Error.VALUE, 2 /* Error */, {\r\n            ErrorMessage: \"Error reading dynamic setting \" + (error && error.message),\r\n            Type: key,\r\n        });\r\n    }\r\n    return defaultValue;\r\n}\r\nfunction resetDynamicSettingsTmsgCache() {\r\n    dynamicSettingsTmsgCache = null;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uLnRzP2RiOGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBa0M7QUFDK0M7QUFDSTtBQUd2QztBQUV0QyxTQUFLLEdBQUssNENBQUwsQ0FBVztBQW9DeEIsSUFBSSx3QkFBd0IsR0FBMkIsSUFBSSxDQUFDO0FBRXJELFNBQVMsaUJBQWlCLENBQUksR0FBZSxFQUFFLFlBQWU7SUFDcEUsSUFBSTtRQUNILElBQUksQ0FBQyx3QkFBd0IsSUFBSSwrRUFBd0IsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO1lBQy9FLHdCQUF3QixHQUFJLElBQUksZ0dBQXNCLENBQUMseUNBQTZCLENBQUMsQ0FBQztTQUN0RjtRQUVELElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUM5QixPQUFPLFlBQVksQ0FBQztTQUNwQjtRQUVELElBQU0sV0FBVyxHQUFHLHdCQUF3QixDQUFDLGNBQWMseUNBQWdELENBQUM7UUFDNUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7ZUFDbkIsV0FBVyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUM7ZUFDL0IsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDN0IsSUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRXRDLGNBQWM7WUFDZCxJQUFJLE9BQU8sWUFBWSxLQUFLLFFBQVEsSUFBSSxPQUFPLFlBQVksS0FBSyxRQUFRLEVBQUU7Z0JBQ3pFLElBQUksT0FBTyxZQUFZLEtBQUssUUFBUSxFQUFFO29CQUNyQyxJQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQzdHLE9BQU8sS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFdBQTJCLENBQUM7aUJBQ3ZFO2dCQUVELE9BQU8sWUFBWSxDQUFDO2FBQ3BCO1lBRUQsT0FBTyxZQUFZLENBQUM7U0FDcEI7S0FDRDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2YsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQzNCLHlEQUFnQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxpQkFFbkM7WUFDQyxZQUFZLEVBQUUsb0NBQWlDLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFFO1lBQ3ZFLElBQUksRUFBRSxHQUFHO1NBQ1QsQ0FBQyxDQUFDO0tBQ0o7SUFFRCxPQUFPLFlBQVksQ0FBQztBQUNyQixDQUFDO0FBRU0sU0FBUyw2QkFBNkI7SUFDNUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDO0FBQ2pDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4uL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUgfSBmcm9tIFwiLi4vVGFyZ2V0ZWRNZXNzYWdpbmcvVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZVwiO1xyXG5pbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuLi9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnRlbnRUeXBlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gU2V0dGluZ0tleSB7XHJcblx0Ly8gR2VuZXJhbFxyXG5cdGxvZ0xldmVsU2V0dGluZ3MgPSBcIkxvZ0xldmVsU2V0dGluZ3NcIixcclxuXHJcblx0Ly8gV2ViIHN1cmZhY2VzXHJcblx0dGVhY2hpbmdNZXNzYWdlQ29vbGRvd24gPSBcIlRlYWNoaW5nTWVzc2FnZUNvb2xkb3duXCIsXHJcblx0d2ViU3VyZmFjZXNJbnRMaW5rID0gXCJXZWJTdXJmYWNlc0ludExpbmtcIixcclxuXHR3ZWJTdXJmYWNlc1Byb2RMaW5rID0gXCJXZWJTdXJmYWNlc1Byb2RMaW5rXCIsXHJcblxyXG5cdC8vIFRNUyBzZXR0aW5nc1xyXG5cdHRtc0FwcElkID0gXCJUbXNBcHBJZFwiLFxyXG5cdHRtc1NlcnZpY2VVcmwgPSBcIlRtc1NlcnZpY2VVcmxcIixcclxuXHR0bXNBY3Rpb25VcmwgPSBcIlRtc0FjdGlvblVybFwiLFxyXG5cdHRtc0xvYWRUaW1lb3V0ID0gXCJUbXNMb2FkVGltZW91dFwiLFxyXG5cdHRtc01lc3NhZ2VNZXRhZGF0YUV4cGlyeSA9IFwiVG1zTWVzc2FnZU1ldGFkYXRhRXhwaXJ5XCIsXHJcblx0dG1zVXNlckdvdmVybmFuY2VSdWxlc0V4cGlyeSA9IFwiVG1zVXNlckdvdmVybmFuY2VSdWxlc0V4cGlyeVwiLFxyXG5cdHRtc0NhbXBhaWduQ29udGVudEV4cGlyeSA9IFwiVG1zQ2FtcGFpZ25Db250ZW50RXhwaXJ5XCIsXHJcblx0dG1zRHluYW1pY1NldHRpbmdzRXhwaXJ5ID0gXCJUbXNEeW5hbWljU2V0dGluZ3NFeHBpcnlcIixcclxuXHR0bXNMb2dMZXZlbFNldHRpbmdzRXhwaXJ5ID0gXCJUbXNMb2dMZXZlbFNldHRpbmdzRXhwaXJ5XCIsXHJcblx0dG1zVXNlckZhY3RzRXhwaXJ5ID0gXCJUbXNVc2VyRmFjdHNFeHBpcnlcIixcclxuXHJcblx0Ly8gVHVsaXBzXHJcblx0dHVsaXBzQXBwSWQgPSBcIlR1bGlwc0FwcElkXCIsXHJcblx0dHVsaXBzTG9hZFRpbWVvdXQgPSBcIlR1bGlwc0xvYWRUaW1lb3V0XCIsXHJcblx0dHVsaXBzU2VydmljZVVybCA9IFwiVHVsaXBzU2VydmljZVVybFwiLFxyXG5cdHR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCA9IFwiVHVsaXBzSW5nZXN0aW9uVGltZUludGVydmFsXCIsXHJcblxyXG5cdC8vIEF1Z0xvb3BcclxuXHR0dWxpcHNBdWdMb29wQW5ub3RhdGlvbk5hbWUgPSBcIlR1bGlwc0F1Z0xvb3BBbm5vdGF0aW9uTmFtZVwiLFxyXG5cdHR1bGlwc0F1Z0xvb3BQYWNrYWdlRGVsYXlMb2FkID0gXCJUdWxpcHNBdWdMb29wUGFja2FnZURlbGF5TG9hZFwiLFxyXG5cdHR1bGlwc0F1Z0xvb3BMb2FkUmV0cnlUaW1lcyA9IFwiVHVsaXBzQXVnTG9vcExvYWRSZXRyeVRpbWVzXCIsXHJcblx0dHVsaXBzQXVnTG9vcExvYWRUaW1lb3V0ID0gXCJUdWxpcHNBdWdMb29wTG9hZFRpbWVvdXRcIixcclxufVxyXG5cclxubGV0IGR5bmFtaWNTZXR0aW5nc1Rtc2dDYWNoZTogVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZSA9IG51bGw7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHluYW1pY1NldHRpbmc8VD4oa2V5OiBTZXR0aW5nS2V5LCBkZWZhdWx0VmFsdWU6IFQpOiBUIHtcclxuXHR0cnlcdHtcclxuXHRcdGlmICghZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlICYmIEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRkeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUgPSAgbmV3IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUoW0NvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5nc10pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2V0dGluZ3NPYmogPSBkeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUuZ2V0SXRlbUNvbnRlbnQ8UmVjb3JkPHN0cmluZywgVD4+KENvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5ncyk7XHJcblx0XHRpZiAoIWlzTk9VKHNldHRpbmdzT2JqKVxyXG5cdFx0XHQmJiBzZXR0aW5nc09iai5oYXNPd25Qcm9wZXJ0eShrZXkpXHJcblx0XHRcdCYmICFpc05PVShzZXR0aW5nc09ialtrZXldKSkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nVmFsdWUgPSBzZXR0aW5nc09ialtrZXldO1xyXG5cclxuXHRcdFx0Ly8gcGFyc2UgdHlwZXNcclxuXHRcdFx0aWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHNldHRpbmdWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IHNldHRpbmdWYWx1ZS5pbmRleE9mKFwiLlwiKSA9PT0gLTEgPyBwYXJzZUludChzZXR0aW5nVmFsdWUsIDEwKSA6IHBhcnNlRmxvYXQoc2V0dGluZ1ZhbHVlKTtcclxuXHRcdFx0XHRcdHJldHVybiBpc05hTihyZXR1cm5WYWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiByZXR1cm5WYWx1ZSBhcyB1bmtub3duIGFzIFQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2V0dGluZ1ZhbHVlO1xyXG5cdFx0fVxyXG5cdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRMb2dnaW5nLkV2ZW50SWRzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogYEVycm9yIHJlYWRpbmcgZHluYW1pYyBzZXR0aW5nICR7ZXJyb3IgJiYgZXJyb3IubWVzc2FnZX1gLFxyXG5cdFx0XHRcdFR5cGU6IGtleSxcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXREeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUoKSB7XHJcblx0ZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlID0gbnVsbDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/DynamicConfiguration.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/IInitOptions.ts":
/*!***************************************************!*\
  !*** ./scripts/app/Configuration/IInitOptions.ts ***!
  \***************************************************/
/*! exports provided: CustomResources, AgeGroup, AuthenticationType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomResources\", function() { return CustomResources; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AgeGroup\", function() { return AgeGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticationType\", function() { return AuthenticationType; });\n// bit mask flag: values should be set 0,1,2,4,8,16, etc...\r\n// Example for Css and Strings both, use 3.\r\nvar CustomResources;\r\n(function (CustomResources) {\r\n    CustomResources[CustomResources[\"None\"] = 0] = \"None\";\r\n    CustomResources[CustomResources[\"Css\"] = 1] = \"Css\";\r\n    CustomResources[CustomResources[\"Strings\"] = 2] = \"Strings\";\r\n})(CustomResources || (CustomResources = {}));\r\nvar AgeGroup;\r\n(function (AgeGroup) {\r\n    AgeGroup[AgeGroup[\"Undefined\"] = 0] = \"Undefined\";\r\n    AgeGroup[AgeGroup[\"MinorWithoutParentalConsent\"] = 1] = \"MinorWithoutParentalConsent\";\r\n    AgeGroup[AgeGroup[\"MinorWithParentalConsent\"] = 2] = \"MinorWithParentalConsent\";\r\n    AgeGroup[AgeGroup[\"Adult\"] = 3] = \"Adult\";\r\n    AgeGroup[AgeGroup[\"NotAdult\"] = 4] = \"NotAdult\";\r\n    AgeGroup[AgeGroup[\"MinorNoParentalConsentRequired\"] = 5] = \"MinorNoParentalConsentRequired\";\r\n})(AgeGroup || (AgeGroup = {}));\r\nvar AuthenticationType;\r\n(function (AuthenticationType) {\r\n    AuthenticationType[AuthenticationType[\"MSA\"] = 0] = \"MSA\";\r\n    AuthenticationType[AuthenticationType[\"AAD\"] = 1] = \"AAD\";\r\n    AuthenticationType[AuthenticationType[\"Unauthenticated\"] = 2] = \"Unauthenticated\";\r\n})(AuthenticationType || (AuthenticationType = {}));\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lJbml0T3B0aW9ucy50cz9iYmE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtOQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDJEQUEyRDtBQUMzRCwyQ0FBMkM7QUFDM0MsSUFBWSxlQUlYO0FBSkQsV0FBWSxlQUFlO0lBQzFCLHFEQUFRO0lBQ1IsbURBQU87SUFDUCwyREFBVztBQUNaLENBQUMsRUFKVyxlQUFlLEtBQWYsZUFBZSxRQUkxQjtBQUVELElBQVksUUFPWDtBQVBELFdBQVksUUFBUTtJQUNuQixpREFBUztJQUNULHFGQUEyQjtJQUMzQiwrRUFBd0I7SUFDeEIseUNBQUs7SUFDTCwrQ0FBUTtJQUNSLDJGQUE4QjtBQUMvQixDQUFDLEVBUFcsUUFBUSxLQUFSLFFBQVEsUUFPbkI7QUFFRCxJQUFZLGtCQUlYO0FBSkQsV0FBWSxrQkFBa0I7SUFDN0IseURBQUc7SUFDSCx5REFBRztJQUNILGlGQUFlO0FBQ2hCLENBQUMsRUFKVyxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBSTdCO0FBY0EsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBJT25EaXNtaXNzRGVsZWdhdGUgfSBmcm9tIFwiLi8uLi9JT25EaXNtaXNzRGVsZWdhdGVcIjtcclxuaW1wb3J0IHsgSUF1Z0xvb3BDYWxsYmFjaywgSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrLCBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaywgSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2sgfVxyXG5cdGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnbkRlZmluaXRpb24gfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYiB9IGZyb20gXCIuLy4uL1RyYW5zcG9ydC9UcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgSVNlc3Npb24gfSBmcm9tIFwiQGF1Z2xvb3AvcnVudGltZS1jbGllbnRcIjtcclxuaW1wb3J0IHsgSUNWU3VydmV5UGFyYW1zIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUNWU3VydmV5XCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBjb21tb24gaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJSW5pdE9wdGlvbnNDb21tb24ge1xyXG5cdC8vIEFuIGlkIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIHRoZSBob3N0IGFwcCBpbiB0aGUgT0NWIHdvcmxkXHJcblx0YXBwSWQ6IG51bWJlcjtcclxuXHQvLyBUaGUgdXJsIGF0IHdoaWNoIHRoZSBzdHlsZXMgcmVzaWRlXHJcblx0c3R5bGVzVXJsPzogc3RyaW5nO1xyXG5cdC8vIFRoZSB1cmwgYXQgd2hpY2ggdGhlIGludGVybmF0aW9uYWxpemF0aW9uIGZpbGVzIHJlc2lkZVxyXG5cdGludGxVcmw/OiBzdHJpbmc7XHJcblx0Ly8gVGhlIGZpbGVuYW1lIGZvciB0aGUgaW50ZXJuYXRpb25hbGl6YXRpb24gc3RyaW5ncywgaWYgZGlmZmVyZW50IHRoYW4gdGhlIGRlZmF1bHQgZmlsZW5hbWVcclxuXHRpbnRsRmlsZW5hbWU/OiBzdHJpbmc7XHJcblx0Ly8gQmFzZSB1cmwgd2hlcmUgYW55IHV4IGFzc2V0cyByZXNpZGUuIE1haW5seSB1c2VkIGJ5IGNvYWNoaW5nIHV4XHJcblx0d2ViU3VyZmFjZXNSZXNvdXJjZUJhc2VVcmw/OiBzdHJpbmc7XHJcblx0Ly8gRW52aXJvbm1lbnRcclxuXHRlbnZpcm9ubWVudDogQ29uc3RhbnRzLkVudmlyb25tZW50O1xyXG5cdC8vIEEgc3RyaW5nIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIHRoZSBjdXJyZW50IHNlc3Npb25cclxuXHRzZXNzaW9uSWQ/OiBzdHJpbmc7XHJcblx0Ly8gY2lkIHN0cmluZyB3aGljaCBpcyBpbi1zY29wZSBmb3IgR0RQUiBjb21wbGlhbmNlIGZvciBleHBvcnQgYW5kIGRlbGV0aW9uIHJlcXVlc3RcclxuXHRjaWQ/OiBzdHJpbmc7XHJcblx0Ly8gQSBidWlsZCB2ZXJzaW9uIGZvciB5b3VyIGFwcFxyXG5cdGJ1aWxkPzogc3RyaW5nO1xyXG5cdC8vIFRoZSBwcmltYXJ5IGNvbG91ciBpbiBoZXggZm9ybSAjWzAtOWEtZl17Nn1cclxuXHRwcmltYXJ5Q29sb3VyPzogc3RyaW5nO1xyXG5cdC8vIFRoZSBzZWNvbmRhcnkgY29sb3VyIGluIGhleCBmb3JtICNbMC05YS1mXXs2fVxyXG5cdHNlY29uZGFyeUNvbG91cj86IHN0cmluZztcclxuXHQvLyBUaGUgVUkgbG9jYWxlIG5hbWUgb2YgdGhlIGNhbGxpbmcgcGFnZVxyXG5cdGxvY2FsZT86IHN0cmluZztcclxuXHQvLyBTeXN0ZW0tVXNlIG9ubHlcclxuXHRvcmlnaW5hbExvY2FsZT86IHN0cmluZztcclxuXHQvLyBBIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIFNESyBlbmNvdW50ZXJzIGVycm9yc1xyXG5cdG9uRXJyb3I/OiAoZXJyOiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0Ly8gQXBwbGljYXRpb24gcmVsYXRlZCBtZXRhZGF0YVxyXG5cdGFwcGxpY2F0aW9uR3JvdXA/OiBJTWFuaWZlc3REYXRhQXBwbGljYXRpb247XHJcblx0Ly8gVGVsZW1ldHJ5IHJlbGF0ZWQgbWV0YWRhdGFcclxuXHR0ZWxlbWV0cnlHcm91cD86IElNYW5pZmVzdERhdGFUZWxlbWV0cnk7XHJcblx0Ly8gV2ViIHJlbGF0ZWQgbWV0YWRhdGFcclxuXHR3ZWJHcm91cD86IElNYW5pZmVzdERhdGFXZWI7XHJcblx0Ly8gVXNlciBFbWFpbCBcclxuXHR1c2VyRW1haWw/OiBzdHJpbmc7XHJcblx0Ly8gVGhlIGpzb24gc3RyaW5nIHRvIGRlZmluZSBldmVudCBzYW1wbGluZ1xyXG5cdGV2ZW50U2FtcGxpbmc/OiBJU2FtcGxpbmdFdmVudFtdO1xyXG5cdC8vIFRoZSB0aW1lb3V0IGZvciBzZW5kaW5nIHJlc3BvbnNlIGluIHBldHJvbFxyXG5cdHBldHJvbFRpbWVvdXQ/OiBudW1iZXI7XHJcblx0Ly8gY2hlY2sgdG8gc2VlIGlmIHVzZXIgaXMgY29uc3VtZXIvY29tbWVyY2lhbCB0byBkeW5hbWljYWxseSBkaXNwbGF5IFVJXHJcblx0aXNDb21tZXJjaWFsSG9zdD86IGJvb2xlYW47XHJcblx0Ly8gT3B0aW9uIHRvIHNlZSBpZiB0aGUgaG9zdCB3aWxsIGJlIHByb3ZpZGluZyB0aGVpciBvd24gcmVzb3VyY2VzIHN1Y2ggYXMgc3RyaW5ncyBvciBDU1NcclxuXHRjdXN0b21SZXNvdXJjZXNTZXRFeHRlcm5hbGx5PzogQ3VzdG9tUmVzb3VyY2VzO1xyXG5cdC8vIHRoZSBlbWFpbCBwb2xpY3kgdmFsdWUgZnJvbSBPQ1BTIHRvIGRldGVybWluZXMgaWYgdGhlIHVzZXIgY2FuIHNlZSBhbiBvcHRpb24gdG8gaW5jbHVkZSB0aGVpciBlbWFpbCB3aGVuIHRoZXkgc3VibWl0IGZlZWRiYWNrXHJcblx0ZW1haWxQb2xpY3lWYWx1ZT86IENvbnN0YW50cy5PQ1BTVmFsdWVzO1xyXG5cdC8vIHRoZSBzY3JlZW5zaG90IHBvbGljeSB2YWx1ZSBmcm9tIE9DUFMgdG8gZGV0ZXJtaW5lcyBpZiB0aGUgdXNlciBjYW4gc2VlIGFuIG9wdGlvbiB0byBpbmNsdWRlIHRoZWlyIHNjcmVlbnNob3Qgd2hlbiB0aGV5IHN1Ym1pdCBmZWVkYmFja1xyXG5cdHNjcmVlbnNob3RQb2xpY3lWYWx1ZT86IENvbnN0YW50cy5PQ1BTVmFsdWVzO1xyXG5cdC8vIEFnZUdyb3VwIGVudW0gd2hpY2ggdXNlciBpcyBjbGFzc2ZpZWQgYXNcclxuXHRhZ2VHcm91cD86IEFnZUdyb3VwO1xyXG5cdC8vIEF1dGhlbnRpY2F0aW9uIFR5cGUgb2YgdXNlclxyXG5cdGF1dGhlbnRpY2F0aW9uVHlwZT86IEF1dGhlbnRpY2F0aW9uVHlwZTtcclxuXHQvLyBBcHBsaWNhdGlvbiBzZXR0aW5nc1xyXG5cdGFwcGxpY2F0aW9uU2V0dGluZ3M/OiBJQXBwbGljYXRpb25TZXR0aW5ncztcclxuXHQvLyBQYWNrYWdlIHNldHRpbmdzIGZvciB0aGUgbmV3IHdlYiBzdXJmYWNlcyB1cmxzIChhZnRlciBtaWdyYXRpb24gb2YgdGhlIENETilcclxuXHR3ZWJTdXJmYWNlc1NldHRpbmdzPzogSVdlYlN1cmZhY2VzU2V0dGluZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIG1lc3NhZ2luZyBzZXJ2aWNlIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElNZXNzYWdpbmdTZXJ2aWNlU2V0dGluZ3Mge1xyXG5cdC8vIEludGVybmFsIG1lc3NhZ2luZyBzZXJ2aWNlIHVybFxyXG5cdG1lc3NhZ2luZ1NlcnZpY2VJbnRVcmw/OiBzdHJpbmc7XHJcblx0Ly8gUHJvZHVjdGlvbiBtZXNzYWdpbmcgc2VydmljZSB1cmwgXHJcblx0bWVzc2FnaW5nU2VydmljZVByb2RVcmw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHBhY2thZ2Ugc2V0dGluZ3NcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVdlYlN1cmZhY2VzU2V0dGluZ3Mge1xyXG5cdC8vIEludGVybmFsIHdlYiBzdXJmYWNlcyB1cmxcclxuXHR3ZWJTdXJmYWNlc0ludFVybD86IHN0cmluZztcclxuXHQvLyBQcm9kdWN0aW9uIHdlYiBzdXJmYWNlcyB1cmwgXHJcblx0d2ViU3VyZmFjZXNQcm9kVXJsPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBob3N0IGFwcGxpY2F0aW9uIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElBcHBsaWNhdGlvblNldHRpbmdzIHtcclxuXHRyZWFkb25seSBba2V5OiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBpbkFwcEZlZWRiYWNrIGluaXRpYWxpemF0aW9uIG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUluaXRPcHRpb25zSW5BcHBGZWVkYmFjayB7XHJcblx0Ly8gTWV0aG9kIGNhbGxlZCBvbiBmZWVkYmFjayBzdWJtaXNzaW9uXHJcblx0b25EaXNtaXNzPzogSU9uRGlzbWlzc0RlbGVnYXRlO1xyXG5cdC8vIEJ1ZyBmb3JtIHRvZ2dsZVxyXG5cdGJ1Z0Zvcm0/OiBib29sZWFuO1xyXG5cdC8vIGVtYWlsIGVuYWJsZWRcclxuXHRzaG93RW1haWxBZGRyZXNzPzogYm9vbGVhbjtcclxuXHQvLyBVc2VyIGVtYWlsXHJcblx0dXNlckVtYWlsPzogc3RyaW5nO1xyXG5cdC8vIFNjcmVlbnNob3QgdG9nZ2xlXHJcblx0c2NyZWVuc2hvdD86IGJvb2xlYW47XHJcblx0Ly8gVGhlIHN3aXRjaCB0byBzaG93IGEgdGhhbmsgeW91IHBhbmVsXHJcblx0aXNTaG93VGhhbmtzPzogYm9vbGVhbjtcclxuXHQvLyBGbGFnIHRvIGVuYWJsZS9kaXNhYmxlIHRyYW5zaXN0aW9uIG9uIHRoZSBVSS5cclxuXHR0cmFuc2l0aW9uRW5hYmxlZD86IGJvb2xlYW47XHJcblx0Ly8gdGhlIGZlZWRiYWNrIHBvbGljeSB2YWx1ZSBmcm9tIE9DUFMgdG8gZGV0ZXJtaW5lcyBpZiB0aGUgdXNlciBjYW4gc3VibWl0IGZlZWRiYWNrXHJcblx0c2VuZEZlZWRiYWNrUG9saWN5VmFsdWU/OiBDb25zdGFudHMuT0NQU1ZhbHVlcztcclxuXHQvLyBGZWVkYmFjayBGb3J1bSBVUkxcclxuXHRmZWVkYmFja0ZvcnVtVXJsPzogc3RyaW5nO1xyXG5cdC8vIE15IGZlZWRiYWNrIEZvcnVtIFVSTFxyXG5cdG15RmVlZGJhY2tGb3J1bVVybD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgZmxvb2RnYXRlIGluaXRpYWxpemF0aW9uIG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUluaXRPcHRpb25zRmxvb2RnYXRlIHtcclxuXHQvLyBTaG91bGQgdGhlIGZsb29kZ2F0ZSBwcm9tcHQgYXV0b21hdGljYWxseSBkaXNtaXNzIGlmIG5vdCBjbGlja2VkPyBEZWZhdWx0IGlzIGZhbHNlXHJcblx0YXV0b0Rpc21pc3M/OiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXM7XHJcblxyXG5cdC8vIENhbXBhaWduIGRlZmluaXRpb25zXHJcblx0Y2FtcGFpZ25EZWZpbml0aW9ucz86IENhbXBhaWduRGVmaW5pdGlvbltdO1xyXG5cclxuXHQvLyBGbGlnaHRzIGZvciBUTVMgc2VydmljZVxyXG5cdGNhbXBhaWduRmxpZ2h0cz86IHN0cmluZztcclxuXHJcblx0Ly8gQWRkaXRpb25hbCBxdWVyeSBwYXJhbWV0ZXJzIGZvciBUTVMgc2VydmljZVxyXG5cdGNhbXBhaWduUXVlcnlQYXJhbWV0ZXJzPzogc3RyaW5nO1xyXG5cclxuXHQvLyBEZWxlZ2F0ZSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZmxvb2RnYXRlIFVJIGlzIGRpc21pc3NlZCwgd2hldGhlciBvbiBhIHN1Ym1pc3Npb24gb3Igbm90XHJcblx0b25EaXNtaXNzPzogKGNhbXBpYWduSWQ6IHN0cmluZywgc3VibWl0dGVkOiBib29sZWFuKSA9PiB2b2lkO1xyXG5cclxuXHQvLyBUaGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiBhIHN1cnZleSBpcyBhY3RpdmF0ZWRcclxuXHRvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrPzogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2s7XHJcblxyXG5cdC8vIFRoZSBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIGhvc3QtYmFzZWQgZGF0YSBvcGVyYXRpb25zIGFyZSBuZWVkZWRcclxuXHRzZXR0aW5nU3RvcmFnZUNhbGxiYWNrPzogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2s7XHJcblxyXG5cdC8vIE9wdGlvbmFsbHkgcHJvdmlkZSBhIG1ldGhvZCB3aGljaCB3aWxsIGFjY2VwdCB0aGUgY3VzdG9tIHN0cmluZ3MgaW4gQ2FtcGFpZ24gRGVmaW5pdGlvbnMgYW5kIHJldHVybiBhY3R1YWxcclxuXHQvLyBzdHJpbmdzIHRoYXQgbXVzdCBiZSBkaXNwbGF5ZWQuIFVzZWQgZm9yIGxvY2FsaXphdGlvbi5cclxuXHR1SVN0cmluZ0dldHRlcj86IChzdHI6IHN0cmluZykgPT4gc3RyaW5nO1xyXG5cclxuXHQvLyBUaGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiBob3N0LWJhc2VkIGF1dGggdG9rZW4gaXMgbmVlZGVkXHJcblx0YXV0aFRva2VuQ2FsbGJhY2s/OiBJRmxvb2RnYXRlQXV0aFRva2VuQ2FsbGJhY2s7XHJcblxyXG5cdC8vIFRoZSBib29sZWFuIG9wdGlvbiB0byBlbmZvcmNlIGlmIHN1cnZleXMgYXJlIGFsbG93ZWQgYnkgYSBwb2xpY3ksIHN1Y2ggYXMgYW4gT0NQUyBwb2xpY3kgZm9yIGEgdGVuYW50LlxyXG5cdC8vIFRydWU6IFN1cnZleXMgYXJlIGVuYWJsZWQsIGZsb29kZ2F0ZSB3b3JrcyBub3JtYWxseTsgRmFsc2U6IFN1cnZleXMgYXJlIGRpc2FibGVkXHJcblx0c3VydmV5RW5hYmxlZD86IGJvb2xlYW47XHJcblxyXG5cdC8vIFRoZSBib29sZWFuIG9wdGlvbiB0byBlbmZvcmNlIGlmIGVtYWlsIGFkZHJlc3MgY29sbGVjdGlvbiBpbiBhIHN1cnZleSBpcyBhbGxvd2VkIGJ5IGEgcG9saWN5LCBzdWNoIGFzIGFuIE9DUFMgcG9saWN5IGZvciBhIHRlbmFudC5cclxuXHQvLyBUcnVlOiBlbWFpbCBhZGRyZXNzIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCwgZmxvb2RnYXRlIHdvcmtzIG5vcm1hbGx5OyBGYWxzZTogZW1haWwgYWRkcmVzcyBjb2xsZWN0aW9uIGlzIGRpc2FibGVkXHJcblx0c2hvd0VtYWlsQWRkcmVzcz86IGJvb2xlYW47XHJcblxyXG5cdC8vIEludGVyZmFjZSB0byBlbmFibGUvZGlzYWJsZSBhbmQgcGFzcyBhdWdMb29wIGhvc3QgcmVmZXJlbmNlc1xyXG5cdGF1Z0xvb3BDYWxsYmFjaz86IElBdWdMb29wQ2FsbGJhY2s8SVNlc3Npb24+O1xyXG5cclxuXHQvLyBJbnRlcmZhY2UgdG8gcGFzcyB0aGUgcGFyYW1zIGZvciB0aGUgQ3VzdG9tZXIgVm9pY2UgU3VydmV5XHJcblx0Y3VzdG9tZXJWb2ljZVN1cnZleVBhcmFtcz86IElDVlN1cnZleVBhcmFtcztcclxuXHJcblx0Ly8gVGhlIGJvb2xlYW4gb3B0aW9uIHRvIGVuYWJsIHRoZSBnb3Zlcm5hbmNlIHNlcnZpY2VcclxuXHRnb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cclxuXHQvLyBjb25maWd1cmF0aW9uIGZvciBnb3Zlcm5hbmNlIHNlcnZpY2VcclxuXHRnb3Zlcm5hbmNlU2VydmljZUNvbmZpZz86IElHb3Zlcm5hbmNlU2VydmljZUNvbmZpZztcclxuXHJcblx0Ly8gaXMgcGVyc29uYWxpemVyIGVuYWJsZWQgb24gY2xpZW50IHNpZGUuXHJcblx0cGVyc29uYWxpemVyRW5hYmxlZD86IGJvb2xlYW47XHJcblxyXG5cdC8vIE1lc3NhZ2luZyBzZXJ2aWNlIHNldHRpbmdzIGZvciB0aGUgbmV3IGJhc2UgdXJscyAoYWZ0ZXIgbWlncmF0aW9uIG9mIHRoZSBDRE4pXHJcblx0bWVzc2FnaW5nU2VydmljZVNldHRpbmdzPzogSU1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5ncztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgZmxvb2RnYXRlIGV2ZW50IHNhbXBsaW5nIG9wdGlvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNhbXBsaW5nRXZlbnQge1xyXG5cdHR5cGU6IHN0cmluZztcclxuXHRuYW1lOiBzdHJpbmc7XHJcblx0c2FtcGxlUmF0ZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTYW1wbGluZ0luaXRPcHRpb24ge1xyXG5cdGV2ZW50PzogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJR292ZXJuYW5jZVNlcnZpY2VDb25maWcge1xyXG5cdC8vIGxpbWl0IG51bWJlciBvZiByZXRyeVxyXG5cdHJldHJ5PzogbnVtYmVyO1xyXG5cclxuXHQvLyB0aW1lb3V0IGluIHNlY29uZFxyXG5cdHRpbWVvdXQ/OiBudW1iZXI7XHJcblxyXG5cdC8vIEluIGNhc2Ugb2YgZmFpbHVyZSBjYWxsLCBvcHRpb24gdG8gd2hldGhlciBjb250aW51ZSBkaXNwbGF5IHN1cnZleSBvciBmYWxsIG9mZlxyXG5cdGZvcmNlU2VydmljZWxlc3NTdXJ2ZXlEaXNwbGF5PzogYm9vbGVhbjtcclxuXHJcblx0Ly8gT3B0aW9uIHRvIHVzZSBzaW1wbGUgcmVxdWVzdFxyXG5cdHNpbXBsZVJlcXVlc3RFbmFibGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuLy8gYml0IG1hc2sgZmxhZzogdmFsdWVzIHNob3VsZCBiZSBzZXQgMCwxLDIsNCw4LDE2LCBldGMuLi5cclxuLy8gRXhhbXBsZSBmb3IgQ3NzIGFuZCBTdHJpbmdzIGJvdGgsIHVzZSAzLlxyXG5leHBvcnQgZW51bSBDdXN0b21SZXNvdXJjZXMge1xyXG5cdE5vbmUgPSAwLFxyXG5cdENzcyA9IDEsXHJcblx0U3RyaW5ncyA9IDIsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEFnZUdyb3VwIHtcclxuXHRVbmRlZmluZWQsIC8vIFVua25vd24gYWdlXHJcblx0TWlub3JXaXRob3V0UGFyZW50YWxDb25zZW50LCAvLyBNaW5vciB1bmRlciB0aGUgYWdlIG9mIGNvbnNlbnRcclxuXHRNaW5vcldpdGhQYXJlbnRhbENvbnNlbnQsIC8vIE1pbm9yIHVuZGVyIGFnZSBvZiBjb25zZW50XHJcblx0QWR1bHQsIC8vIEFkdWx0XHJcblx0Tm90QWR1bHQsIC8vIE1pbm9yIGFib3ZlIGFnZSBvZiBjb25zZW50XHRcclxuXHRNaW5vck5vUGFyZW50YWxDb25zZW50UmVxdWlyZWQsIC8vIE1pbm9yIGFib3ZlIGFnZSBvZiBjb25zZW50XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEF1dGhlbnRpY2F0aW9uVHlwZSB7XHJcblx0TVNBLFxyXG5cdEFBRCxcclxuXHRVbmF1dGhlbnRpY2F0ZWRcclxufVxyXG5cclxuLy8gVGFrZW4gZnJvbSAlU1JDUk9PVCVcXHByaXZhY3lcXG9wdGlvbnNcXHB1YmxpY1xcVXNlckNvbnNlbnRHcm91cC5oXHJcbi8vIEVudW0gdGhhdCBkZXNjcmliZXMgdGhlIGRpZmZlcmVudCBjb25zZW50IGNhdGVnb3JpZXMgb2YgdGhlIHVzZXIuXHJcbmV4cG9ydCBjb25zdCBlbnVtIFVzZXJDb25zZW50R3JvdXAge1xyXG5cdC8vIFVua25vd24gY29uc2VudCBncm91cCwgd2UgZG8gbm90IGhhdmUgaW5mbyB0byBkZXRlcm1pbmUgdGhpc1xyXG5cdFVua25vd24gPSAwLFxyXG5cdC8vIENhbiBnaXZlIGNvbnNlbnQgdG8gZGF0YSBjb2xsZWN0aW9uLCB1cHNlbGwgbWVzc2FnZXNcclxuXHRDYW5Db25zZW50ID0gMSxcclxuXHQvLyBDYW4gc3RpbGwgZ2l2ZSBjb25zZW50IGJ1dCBpcyBvbmx5IGEgbGltaXRlZCBjb25zZW50LlxyXG5cdC8vIEFzIGFuIGV4YW1wbGUsIHVwc2VsbCAvIGNyb3NzIHNlbGwgc2hvdWxkIG5vdCBiZSBzaG93bi5cclxuXHRQYXJ0aWFsQ29uc2VudCA9IDIsXHJcblx0Ly8gVGhleSBjYW5ub3QgcHJvdmlkZSBhbnkgZm9ybSBvZiBjb25zZW50LiBObyBjb25zZW50IGRpYWxvZ3MgLyB1cHNlbGwgc2hvdWxkIG5vdCBiZSBzaG93bi5cclxuXHRDYW5ub3RDb25zZW50ID0gMyxcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/IInitOptions.ts\n");

/***/ }),

/***/ "./scripts/app/Configuration/ILaunchOptions.ts":
/*!*****************************************************!*\
  !*** ./scripts/app/Configuration/ILaunchOptions.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * LaunchOptions interfaces\r\n */\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zLnRzP2YyOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUciLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExhdW5jaE9wdGlvbnMgaW50ZXJmYWNlc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7SUNhdGVnb3J5T3B0aW9uc30gZnJvbSBcIi4vSUNhdGVnb3J5T3B0aW9uc1wiO1xyXG5pbXBvcnQge0lNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYn0gZnJvbSBcIi4vLi4vVHJhbnNwb3J0L1RyYW5zcG9ydFwiO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgbGF1bmNoIG9wdGlvbnMgZm9yIGluQXBwRmVlZGJhY2tcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxuXHRhcHBsaWNhdGlvbkdyb3VwPzogSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uO1xyXG5cdHRlbGVtZXRyeUdyb3VwPzogSU1hbmlmZXN0RGF0YVRlbGVtZXRyeTtcclxuXHR3ZWJHcm91cD86IElNYW5pZmVzdERhdGFXZWI7XHJcblx0Y2F0ZWdvcmllcz86IElDYXRlZ29yeU9wdGlvbnM7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/ILaunchOptions.ts\n");

/***/ }),

/***/ "./scripts/app/Constants.ts":
/*!**********************************!*\
  !*** ./scripts/app/Constants.ts ***!
  \**********************************/
/*! exports provided: customerVoiceLauncherType, customerVoiceSurveyUX, FeedbackType, DynamicScriptUrls, GUIDs, SDK_VERSION_PREFIX */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"customerVoiceLauncherType\", function() { return customerVoiceLauncherType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"customerVoiceSurveyUX\", function() { return customerVoiceSurveyUX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FeedbackType\", function() { return FeedbackType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicScriptUrls\", function() { return DynamicScriptUrls; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GUIDs\", function() { return GUIDs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SDK_VERSION_PREFIX\", function() { return SDK_VERSION_PREFIX; });\n/**\r\n * Constants.ts\r\n *\r\n * A module for non-UI constants.\r\n */\r\n/**\r\n * Value for the Customer Voice Launcher Type\r\n */\r\nvar customerVoiceLauncherType = \"customervoice\";\r\n/**\r\n * Value for the Customer Voice Survey text for adding to App data\r\n */\r\nvar customerVoiceSurveyUX = \"Customer Voice Survey UX\";\r\n/**\r\n * Values for types of feedback that go into the json\r\n * Also used to determine the FormTemplate used on each one of the feedback types.\r\n */\r\nvar FeedbackType;\r\n(function (FeedbackType) {\r\n    FeedbackType[FeedbackType[\"Smile\"] = 0] = \"Smile\";\r\n    FeedbackType[FeedbackType[\"Frown\"] = 1] = \"Frown\";\r\n    FeedbackType[FeedbackType[\"Idea\"] = 2] = \"Idea\";\r\n    FeedbackType[FeedbackType[\"Bug\"] = 3] = \"Bug\";\r\n    FeedbackType[FeedbackType[\"IdeaRedirect\"] = 4] = \"IdeaRedirect\";\r\n})(FeedbackType || (FeedbackType = {}));\r\n/**\r\n * Dynamic scripts\r\n */\r\nvar DynamicScriptUrls = /** @class */ (function () {\r\n    function DynamicScriptUrls() {\r\n    }\r\n    /**\r\n     * Link to the Office WebSurfaces UX package\r\n     */\r\n    /* tslint:disable:max-line-length */\r\n    DynamicScriptUrls.WebSurfacesIntLink = \"https://content.growth.office.net/mirrored/resources/programmablesurfaces/int/officewebsurfaces.core.min.js\";\r\n    DynamicScriptUrls.WebSurfacesProdLink = \"https://content.growth.office.net/mirrored/resources/programmablesurfaces/prod/officewebsurfaces.core.min.js\";\r\n    return DynamicScriptUrls;\r\n}());\r\n\r\n/**\r\n * Constant GUIDs\r\n */\r\nvar GUIDs = /** @class */ (function () {\r\n    function GUIDs() {\r\n    }\r\n    GUIDs.TMSAppID = \"4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed\";\r\n    GUIDs.TULIPSAppID = \"05c88d91-956e-46b4-91b0-77a33cc21a4d\";\r\n    return GUIDs;\r\n}());\r\n\r\n/**\r\n * Prefix for SDK version string\r\n */\r\nvar SDK_VERSION_PREFIX = \"Web SDK v\";\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25zdGFudHMudHM/MTBhZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSDs7R0FFRztBQUNJLElBQU0seUJBQXlCLEdBQUcsZUFBZSxDQUFDO0FBRXpEOztHQUVHO0FBQ0ksSUFBTSxxQkFBcUIsR0FBRywwQkFBMEIsQ0FBQztBQUVoRTs7O0dBR0c7QUFDSCxJQUFZLFlBTVg7QUFORCxXQUFZLFlBQVk7SUFDdkIsaURBQUs7SUFDTCxpREFBSztJQUNMLCtDQUFJO0lBQ0osNkNBQUc7SUFDSCwrREFBWTtBQUNiLENBQUMsRUFOVyxZQUFZLEtBQVosWUFBWSxRQU12QjtBQWlDRDs7R0FFRztBQUNIO0lBQUE7SUFPQSxDQUFDO0lBTkE7O09BRUc7SUFDSCxvQ0FBb0M7SUFDdEIsb0NBQWtCLEdBQVcsNkdBQTZHLENBQUM7SUFDM0kscUNBQW1CLEdBQVcsOEdBQThHLENBQUM7SUFDNUosd0JBQUM7Q0FBQTtBQVA2QjtBQVM5Qjs7R0FFRztBQUNIO0lBQUE7SUFHQSxDQUFDO0lBRmMsY0FBUSxHQUFXLHNDQUFzQyxDQUFDO0lBQzFELGlCQUFXLEdBQVcsc0NBQXNDLENBQUM7SUFDNUUsWUFBQztDQUFBO0FBSGlCO0FBaUJsQjs7R0FFRztBQUNJLElBQU0sa0JBQWtCLEdBQUcsV0FBVyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQ29uc3RhbnRzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3Igbm9uLVVJIGNvbnN0YW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogVmFsdWUgZm9yIHRoZSBDdXN0b21lciBWb2ljZSBMYXVuY2hlciBUeXBlXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3VzdG9tZXJWb2ljZUxhdW5jaGVyVHlwZSA9IFwiY3VzdG9tZXJ2b2ljZVwiO1xyXG5cclxuLyoqXHJcbiAqIFZhbHVlIGZvciB0aGUgQ3VzdG9tZXIgVm9pY2UgU3VydmV5IHRleHQgZm9yIGFkZGluZyB0byBBcHAgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGN1c3RvbWVyVm9pY2VTdXJ2ZXlVWCA9IFwiQ3VzdG9tZXIgVm9pY2UgU3VydmV5IFVYXCI7XHJcblxyXG4vKipcclxuICogVmFsdWVzIGZvciB0eXBlcyBvZiBmZWVkYmFjayB0aGF0IGdvIGludG8gdGhlIGpzb25cclxuICogQWxzbyB1c2VkIHRvIGRldGVybWluZSB0aGUgRm9ybVRlbXBsYXRlIHVzZWQgb24gZWFjaCBvbmUgb2YgdGhlIGZlZWRiYWNrIHR5cGVzLlxyXG4gKi9cclxuZXhwb3J0IGVudW0gRmVlZGJhY2tUeXBlIHtcclxuXHRTbWlsZSxcclxuXHRGcm93bixcclxuXHRJZGVhLFxyXG5cdEJ1ZyxcclxuXHRJZGVhUmVkaXJlY3QsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHR5cGVzIG9mIHBhbmVscyB0aGF0IGdvIGludG8gdGhlIGpzb25cclxuICogQWxzbyB1c2VkIHRvIGRldGVybWluZSB0aGUgUGFuZWxUZW1wbGF0ZSB1c2VkIG9uIGVhY2ggb25lIG9mIHRoZSBwYW5lbCB0eXBlcy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBlbnVtIFBhbmVsVHlwZSB7XHJcblx0VGhhbmtzXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHRoZSBlbnZpcm9ubWVudFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gRW52aXJvbm1lbnQge1xyXG5cdFByb2R1Y3Rpb24sXHJcblx0SW50XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIGF1dG9kaXNtaXNzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW51bSBBdXRvRGlzbWlzc1ZhbHVlcyB7XHJcblx0Tm9BdXRvRGlzbWlzcyxcclxuXHRTZXZlblNlY29uZHMsXHJcblx0Rm91cnRlZW5TZWNvbmRzLFxyXG5cdFR3ZW50eU9uZVNlY29uZHMsXHJcblx0VHdlbnR5RWlnaHRTZWNvbmRzLFxyXG5cdFNpeHR5U2Vjb25kcyxcclxuXHROaW5ldHlTZWNvbmRzLFxyXG5cdE9uZUh1bmRyZWRBbmRUd2VudHlTZWNvbmRzLFxyXG5cdE9uZUh1bmRyZWRBbmRGaWZ0eVNlY29uZHMsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEeW5hbWljIHNjcmlwdHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEeW5hbWljU2NyaXB0VXJscyB7XHJcblx0LyoqXHJcblx0ICogTGluayB0byB0aGUgT2ZmaWNlIFdlYlN1cmZhY2VzIFVYIHBhY2thZ2VcclxuXHQgKi9cclxuXHQvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuXHRwdWJsaWMgc3RhdGljIFdlYlN1cmZhY2VzSW50TGluazogc3RyaW5nID0gXCJodHRwczovL2NvbnRlbnQuZ3Jvd3RoLm9mZmljZS5uZXQvbWlycm9yZWQvcmVzb3VyY2VzL3Byb2dyYW1tYWJsZXN1cmZhY2VzL2ludC9vZmZpY2V3ZWJzdXJmYWNlcy5jb3JlLm1pbi5qc1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgV2ViU3VyZmFjZXNQcm9kTGluazogc3RyaW5nID0gXCJodHRwczovL2NvbnRlbnQuZ3Jvd3RoLm9mZmljZS5uZXQvbWlycm9yZWQvcmVzb3VyY2VzL3Byb2dyYW1tYWJsZXN1cmZhY2VzL3Byb2Qvb2ZmaWNld2Vic3VyZmFjZXMuY29yZS5taW4uanNcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0YW50IEdVSURzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR1VJRHMge1xyXG5cdHB1YmxpYyBzdGF0aWMgVE1TQXBwSUQ6IHN0cmluZyA9IFwiNGM0ZjU1MGItNDJiMi00YTE2LTkzZjktZmRiOWUwMWJiNmVkXCI7XHJcblx0cHVibGljIHN0YXRpYyBUVUxJUFNBcHBJRDogc3RyaW5nID0gXCIwNWM4OGQ5MS05NTZlLTQ2YjQtOTFiMC03N2EzM2NjMjFhNGRcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gT0NQU1ZhbHVlcyB7XHJcblx0Tm90Q29uZmlndXJlZCA9IDAsXHJcblx0RW5hYmxlZCA9IDEsXHJcblx0RGlzYWJsZWQgPSAyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEZlZWRiYWNrU3RhdHVzIHtcclxuXHRFbmFibGVkLFxyXG5cdERpc2FibGVkQnlBZG1pbixcclxuXHREaXNhYmxlZEJ5QWdlR3JvdXBcclxufVxyXG5cclxuLyoqXHJcbiAqIFByZWZpeCBmb3IgU0RLIHZlcnNpb24gc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgU0RLX1ZFUlNJT05fUFJFRklYID0gXCJXZWIgU0RLIHZcIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Constants.ts\n");

/***/ }),

/***/ "./scripts/app/DynamicContent/DynamicContentTransport.ts":
/*!***************************************************************!*\
  !*** ./scripts/app/DynamicContent/DynamicContentTransport.ts ***!
  \***************************************************************/
/*! exports provided: DynamicContentTransport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicContentTransport\", function() { return DynamicContentTransport; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Polyfills_Fetch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Polyfills/Fetch */ \"./scripts/app/Polyfills/Fetch.ts\");\n/* harmony import */ var _TargetedMessaging_TargetedMessagingTransport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TargetedMessaging/TargetedMessagingTransport */ \"./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts\");\n\r\n\r\n\r\n\r\n\r\nvar DynamicContentTransport = /** @class */ (function (_super) {\r\n    Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__extends\"])(DynamicContentTransport, _super);\r\n    function DynamicContentTransport(simpleRequestEnabled) {\r\n        var _this = _super.call(this) || this;\r\n        _this.simpleRequestEnabled = false;\r\n        // Default to use the normal request\r\n        _this.simpleRequestEnabled = simpleRequestEnabled !== null && simpleRequestEnabled !== void 0 ? simpleRequestEnabled : false;\r\n        return _this;\r\n    }\r\n    DynamicContentTransport.prototype.postRequestWithRetry = function (requestUrl, body, retry, timeout) {\r\n        var thisDynamicContentTransport = this;\r\n        return new Promise(function (resolve, reject) {\r\n            thisDynamicContentTransport.sendPostRequest(requestUrl, body, undefined, true, timeout)\r\n                .then(resolve)\r\n                .catch(function (error) {\r\n                _Logging_Logging__WEBPACK_IMPORTED_MODULE_1__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_1__[\"EventIds\"].DYNAMICTRANSPORT_POST_ERROR, 2 /* Error */, {\r\n                    ErrorMessage: error.toString(),\r\n                    TimeMilliseconds: timeout,\r\n                    Count: retry,\r\n                    CorrelationId: thisDynamicContentTransport.requestId,\r\n                });\r\n                if (retry <= 1) {\r\n                    return reject(error);\r\n                }\r\n                thisDynamicContentTransport.postRequestWithRetry(requestUrl, body, retry - 1, timeout)\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            });\r\n        });\r\n    };\r\n    DynamicContentTransport.prototype.createHeaders = function (token) {\r\n        var headers = typeof Headers !== \"undefined\" && new Headers();\r\n        if (headers) {\r\n            // Create header based on the request\r\n            if (this.simpleRequestEnabled) {\r\n                this.createSimpleHeaders(headers);\r\n            }\r\n            else {\r\n                this.createNormalHeaders(headers);\r\n            }\r\n            // Governance Service doesn't need to use token for now\r\n            if (!Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_2__[\"isNOU\"])(token)) {\r\n                headers.append(\"Authorization\", \"Bearer \" + token);\r\n            }\r\n        }\r\n        return headers;\r\n    };\r\n    DynamicContentTransport.prototype.createNormalHeaders = function (headers) {\r\n        this.requestId = Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_2__[\"guid\"])();\r\n        headers.append(\"X-Request-ID\", this.requestId);\r\n        headers.append(\"Content-Type\", \"application/json\");\r\n    };\r\n    DynamicContentTransport.prototype.createSimpleHeaders = function (headers) {\r\n        headers.append(\"Content-Type\", \"text/plain\");\r\n    };\r\n    return DynamicContentTransport;\r\n}(_TargetedMessaging_TargetedMessagingTransport__WEBPACK_IMPORTED_MODULE_4__[\"TargetedMessagingTransport\"]));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9EeW5hbWljQ29udGVudC9EeW5hbWljQ29udGVudFRyYW5zcG9ydC50cz8wNDRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4QztBQUMyQjtBQUM3QztBQUNpRTtBQUU3RjtJQUE2Qyx5RkFBMEI7SUFJdEUsaUNBQVksb0JBQThCO1FBQTFDLFlBQ0MsaUJBQU8sU0FJUDtRQVBPLDBCQUFvQixHQUFZLEtBQUssQ0FBQztRQUs3QyxvQ0FBb0M7UUFDcEMsS0FBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQixhQUFwQixvQkFBb0IsY0FBcEIsb0JBQW9CLEdBQUksS0FBSyxDQUFDOztJQUMzRCxDQUFDO0lBRU0sc0RBQW9CLEdBQTNCLFVBQTRCLFVBQWtCLEVBQUUsSUFBWSxFQUFFLEtBQWEsRUFBRSxPQUFlO1FBQzNGLElBQU0sMkJBQTJCLEdBQUcsSUFBSSxDQUFDO1FBQ3pDLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBUyxPQUFPLEVBQUUsTUFBTTtZQUMxQywyQkFBMkIsQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQztpQkFDdEYsSUFBSSxDQUFDLE9BQU8sQ0FBQztpQkFDYixLQUFLLENBQUMsVUFBUyxLQUFLO2dCQUNwQiwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FDM0IseURBQWdCLENBQUMsMkJBQTJCLGlCQUU1QztvQkFDQyxZQUFZLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRTtvQkFDOUIsZ0JBQWdCLEVBQUUsT0FBTztvQkFDekIsS0FBSyxFQUFFLEtBQUs7b0JBQ1osYUFBYSxFQUFFLDJCQUEyQixDQUFDLFNBQVM7aUJBQ3BELENBQUMsQ0FBQztnQkFFSixJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7b0JBQ2YsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ3JCO2dCQUNELDJCQUEyQixDQUFDLG9CQUFvQixDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRSxPQUFPLENBQUM7cUJBQ3JGLElBQUksQ0FBQyxPQUFPLENBQUM7cUJBQ2IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRVMsK0NBQWEsR0FBdkIsVUFBd0IsS0FBYztRQUNyQyxJQUFNLE9BQU8sR0FBWSxPQUFPLE9BQU8sS0FBSyxXQUFXLElBQUksSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUV6RSxJQUFJLE9BQU8sRUFBRTtZQUNaLHFDQUFxQztZQUNyQyxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ2xDO2lCQUFNO2dCQUNOLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNsQztZQUVELHVEQUF1RDtZQUN2RCxJQUFJLENBQUMsd0ZBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDbEIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsU0FBUyxHQUFHLEtBQUssQ0FBQyxDQUFDO2FBQ25EO1NBQ0Q7UUFDRCxPQUFPLE9BQU8sQ0FBQztJQUNoQixDQUFDO0lBRU8scURBQW1CLEdBQTNCLFVBQTRCLE9BQWdCO1FBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsdUZBQUksRUFBRSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMvQyxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTyxxREFBbUIsR0FBM0IsVUFBNEIsT0FBZ0I7UUFDM0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUNGLDhCQUFDO0FBQUQsQ0FBQyxDQWpFNEMsd0dBQTBCLEdBaUV0RSIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0R5bmFtaWNDb250ZW50L0R5bmFtaWNDb250ZW50VHJhbnNwb3J0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcbmltcG9ydCB7IGlzTk9VLCBndWlkIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9VdGlsc1wiO1xyXG5pbXBvcnQgXCIuLi9Qb2x5ZmlsbHMvRmV0Y2hcIjtcclxuaW1wb3J0IHsgVGFyZ2V0ZWRNZXNzYWdpbmdUcmFuc3BvcnQgfSBmcm9tIFwiLi4vVGFyZ2V0ZWRNZXNzYWdpbmcvVGFyZ2V0ZWRNZXNzYWdpbmdUcmFuc3BvcnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEeW5hbWljQ29udGVudFRyYW5zcG9ydCBleHRlbmRzIFRhcmdldGVkTWVzc2FnaW5nVHJhbnNwb3J0IHtcclxuXHRwdWJsaWMgcmVxdWVzdElkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBzaW1wbGVSZXF1ZXN0RW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzaW1wbGVSZXF1ZXN0RW5hYmxlZD86IGJvb2xlYW4pIHtcclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0Ly8gRGVmYXVsdCB0byB1c2UgdGhlIG5vcm1hbCByZXF1ZXN0XHJcblx0XHR0aGlzLnNpbXBsZVJlcXVlc3RFbmFibGVkID0gc2ltcGxlUmVxdWVzdEVuYWJsZWQgPz8gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgcG9zdFJlcXVlc3RXaXRoUmV0cnkocmVxdWVzdFVybDogc3RyaW5nLCBib2R5OiBzdHJpbmcsIHJldHJ5OiBudW1iZXIsIHRpbWVvdXQ6IG51bWJlcik6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuXHRcdGNvbnN0IHRoaXNEeW5hbWljQ29udGVudFRyYW5zcG9ydCA9IHRoaXM7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblx0XHRcdHRoaXNEeW5hbWljQ29udGVudFRyYW5zcG9ydC5zZW5kUG9zdFJlcXVlc3QocmVxdWVzdFVybCwgYm9keSwgdW5kZWZpbmVkLCB0cnVlLCB0aW1lb3V0KVxyXG5cdFx0XHQudGhlbihyZXNvbHZlKVxyXG5cdFx0XHQuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5EWU5BTUlDVFJBTlNQT1JUX1BPU1RfRVJST1IsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IGVycm9yLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0XHRcdFRpbWVNaWxsaXNlY29uZHM6IHRpbWVvdXQsXHJcblx0XHRcdFx0XHRcdENvdW50OiByZXRyeSxcclxuXHRcdFx0XHRcdFx0Q29ycmVsYXRpb25JZDogdGhpc0R5bmFtaWNDb250ZW50VHJhbnNwb3J0LnJlcXVlc3RJZCxcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRpZiAocmV0cnkgPD0gMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnJvcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXNEeW5hbWljQ29udGVudFRyYW5zcG9ydC5wb3N0UmVxdWVzdFdpdGhSZXRyeShyZXF1ZXN0VXJsLCBib2R5LCByZXRyeSAtIDEsIHRpbWVvdXQpXHJcblx0XHRcdFx0LnRoZW4ocmVzb2x2ZSlcclxuXHRcdFx0XHQuY2F0Y2gocmVqZWN0KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjcmVhdGVIZWFkZXJzKHRva2VuPzogc3RyaW5nKTogSGVhZGVycyB7XHJcblx0XHRjb25zdCBoZWFkZXJzOiBIZWFkZXJzID0gdHlwZW9mIEhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIgJiYgbmV3IEhlYWRlcnMoKTtcclxuXHJcblx0XHRpZiAoaGVhZGVycykge1xyXG5cdFx0XHQvLyBDcmVhdGUgaGVhZGVyIGJhc2VkIG9uIHRoZSByZXF1ZXN0XHJcblx0XHRcdGlmICh0aGlzLnNpbXBsZVJlcXVlc3RFbmFibGVkKSB7XHJcblx0XHRcdFx0dGhpcy5jcmVhdGVTaW1wbGVIZWFkZXJzKGhlYWRlcnMpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuY3JlYXRlTm9ybWFsSGVhZGVycyhoZWFkZXJzKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gR292ZXJuYW5jZSBTZXJ2aWNlIGRvZXNuJ3QgbmVlZCB0byB1c2UgdG9rZW4gZm9yIG5vd1xyXG5cdFx0XHRpZiAoIWlzTk9VKHRva2VuKSkge1xyXG5cdFx0XHRcdGhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGhlYWRlcnM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZU5vcm1hbEhlYWRlcnMoaGVhZGVyczogSGVhZGVycykge1xyXG5cdFx0dGhpcy5yZXF1ZXN0SWQgPSBndWlkKCk7XHJcblx0XHRoZWFkZXJzLmFwcGVuZChcIlgtUmVxdWVzdC1JRFwiLCB0aGlzLnJlcXVlc3RJZCk7XHJcblx0XHRoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZVNpbXBsZUhlYWRlcnMoaGVhZGVyczogSGVhZGVycykge1xyXG5cdFx0aGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3BsYWluXCIpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/DynamicContent/DynamicContentTransport.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts":
/*!********************************************************************!*\
  !*** ./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CoachingUXLauncherFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoachingUXLauncherFactory */ \"./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts\");\n/* harmony import */ var _RudeSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RudeSurveyLauncherFactory */ \"./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/**\r\n * Survey launcher factory for Web SDK\r\n */\r\n\r\n\r\n\r\n\r\nvar isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isNOU;\r\nvar AdaptiveSurveyLauncherFactory = /** @class */ (function () {\r\n    function AdaptiveSurveyLauncherFactory(rudeSurveyLauncherFactory, coachingUXLauncherFactory) {\r\n        this.rudeSurveyLauncherFactory = rudeSurveyLauncherFactory;\r\n        this.coachingUXLauncherFactory = coachingUXLauncherFactory;\r\n    }\r\n    AdaptiveSurveyLauncherFactory.make = function () {\r\n        return new AdaptiveSurveyLauncherFactory(new _RudeSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__[\"default\"](), new _CoachingUXLauncherFactory__WEBPACK_IMPORTED_MODULE_1__[\"default\"]());\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.makeSurveyLauncher = function (survey) {\r\n        if (isNOU(survey)) {\r\n            return null;\r\n        }\r\n        switch (survey.getLauncherType().toLocaleLowerCase()) {\r\n            case _CoachingUXLauncherFactory__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LAUNCHER_TYPE:\r\n                return this.makeGenericMessagingSurfaceLauncher(survey);\r\n            case _RudeSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__[\"default\"].LAUNCHER_TYPE:\r\n            default:\r\n                return this.makeRudeSurveyLauncher(survey);\r\n        }\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.AcceptsSurvey = function (survey) {\r\n        if (isNOU(survey)) {\r\n            return false;\r\n        }\r\n        switch (survey.getType()) {\r\n            case _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Api\"].ISurvey.Type.GenericMessagingSurface:\r\n                return (!isNOU(this.coachingUXLauncherFactory)\r\n                    && this.coachingUXLauncherFactory.AcceptsSurvey(survey));\r\n            default:\r\n                return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().checkIfSurveysEnabled() &&\r\n                    !isNOU(this.rudeSurveyLauncherFactory) &&\r\n                    this.rudeSurveyLauncherFactory.AcceptsSurvey(survey);\r\n        }\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.makeGenericMessagingSurfaceLauncher = function (survey) {\r\n        if (!isNOU(this.coachingUXLauncherFactory)) {\r\n            return this.coachingUXLauncherFactory.makeSurveyLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.makeRudeSurveyLauncher = function (survey) {\r\n        if (!isNOU(this.rudeSurveyLauncherFactory)) {\r\n            return this.rudeSurveyLauncherFactory.makeSurveyLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    return AdaptiveSurveyLauncherFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (AdaptiveSurveyLauncherFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0FkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5LnRzPzg4ZjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFFc0Q7QUFDVztBQUNBO0FBQ0o7QUFFeEQsU0FBSyxHQUFLLGlFQUFLLE1BQVYsQ0FBVztBQUV4QjtJQVVDLHVDQUFvQix5QkFBb0QsRUFDdkUseUJBQW9EO1FBQ3BELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztRQUMzRCxJQUFJLENBQUMseUJBQXlCLEdBQUcseUJBQXlCLENBQUM7SUFDNUQsQ0FBQztJQWJhLGtDQUFJLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLDZCQUE2QixDQUN2QyxJQUFJLGtFQUF5QixFQUFFLEVBQy9CLElBQUksa0VBQXlCLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFXTSwwREFBa0IsR0FBekIsVUFBMEIsTUFBbUI7UUFDNUMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbEIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELFFBQVEsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDLGlCQUFpQixFQUFFLEVBQUU7WUFDckQsS0FBSyxrRUFBeUIsQ0FBQyxhQUFhO2dCQUMzQyxPQUFPLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN6RCxLQUFLLGtFQUF5QixDQUFDLGFBQWEsQ0FBQztZQUM3QztnQkFDQyxPQUFPLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM1QztJQUNGLENBQUM7SUFFTSxxREFBYSxHQUFwQixVQUFxQixNQUFtQjtRQUN2QyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNsQixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsUUFBUSxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDekIsS0FBSywrREFBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCO2dCQUM1QyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDO3VCQUN6QyxJQUFJLENBQUMseUJBQXlCLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDNUQ7Z0JBQ0MsT0FBTyxnRUFBaUIsRUFBRSxDQUFDLHFCQUFxQixFQUFFO29CQUNqRCxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUM7b0JBQ3RDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdkQ7SUFDRixDQUFDO0lBRU8sMkVBQW1DLEdBQTNDLFVBQTRDLE1BQW1CO1FBQzlELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEVBQUU7WUFDM0MsT0FBTyxJQUFJLENBQUMseUJBQXlCLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDakU7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTyw4REFBc0IsR0FBOUIsVUFBK0IsTUFBbUI7UUFDakQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsRUFBRTtZQUMzQyxPQUFPLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNqRTtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUNGLG9DQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvQWRhcHRpdmVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU3VydmV5IGxhdW5jaGVyIGZhY3RvcnkgZm9yIFdlYiBTREtcclxuICovXHJcblxyXG5pbXBvcnQgeyBBcGksIFV0aWxzIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSBmcm9tIFwiLi9Db2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5XCI7XHJcbmltcG9ydCBSdWRlU3VydmV5TGF1bmNoZXJGYWN0b3J5IGZyb20gXCIuL1J1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnlcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5IGltcGxlbWVudHMgQXBpLklTdXJ2ZXlMYXVuY2hlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZSgpOiBBcGkuSVN1cnZleUxhdW5jaGVyRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gbmV3IEFkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5KFxyXG5cdFx0XHRuZXcgUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSgpLFxyXG5cdFx0XHRuZXcgQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSgpKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeTogUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeTtcclxuXHRwcml2YXRlIGNvYWNoaW5nVVhMYXVuY2hlckZhY3Rvcnk6IENvYWNoaW5nVVhMYXVuY2hlckZhY3Rvcnk7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IocnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeTogUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSxcclxuXHRcdGNvYWNoaW5nVVhMYXVuY2hlckZhY3Rvcnk6IENvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkpIHtcclxuXHRcdHRoaXMucnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSA9IHJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3Rvcnk7XHJcblx0XHR0aGlzLmNvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkgPSBjb2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIG1ha2VTdXJ2ZXlMYXVuY2hlcihzdXJ2ZXk6IEFwaS5JU3VydmV5KTogQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0XHRpZiAoaXNOT1Uoc3VydmV5KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKHN1cnZleS5nZXRMYXVuY2hlclR5cGUoKS50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XHJcblx0XHRcdGNhc2UgQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeS5MQVVOQ0hFUl9UWVBFOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLm1ha2VHZW5lcmljTWVzc2FnaW5nU3VyZmFjZUxhdW5jaGVyKHN1cnZleSk7XHJcblx0XHRcdGNhc2UgUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeS5MQVVOQ0hFUl9UWVBFOlxyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLm1ha2VSdWRlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBBY2NlcHRzU3VydmV5KHN1cnZleTogQXBpLklTdXJ2ZXkpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShzdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKHN1cnZleS5nZXRUeXBlKCkpIHtcclxuXHRcdFx0Y2FzZSBBcGkuSVN1cnZleS5UeXBlLkdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlOlxyXG5cdFx0XHRcdHJldHVybiAoIWlzTk9VKHRoaXMuY29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSlcclxuXHRcdFx0XHRcdFx0JiYgdGhpcy5jb2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5LkFjY2VwdHNTdXJ2ZXkoc3VydmV5KSk7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuY2hlY2tJZlN1cnZleXNFbmFibGVkKCkgJiZcclxuXHRcdFx0XHRcdCFpc05PVSh0aGlzLnJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkpICYmXHJcblx0XHRcdFx0XHR0aGlzLnJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkuQWNjZXB0c1N1cnZleShzdXJ2ZXkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBtYWtlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VMYXVuY2hlcihzdXJ2ZXk6IEFwaS5JU3VydmV5KTogQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0XHRpZiAoIWlzTk9VKHRoaXMuY29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeS5tYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbWFrZVJ1ZGVTdXJ2ZXlMYXVuY2hlcihzdXJ2ZXk6IEFwaS5JU3VydmV5KTogQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0XHRpZiAoIWlzTk9VKHRoaXMucnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeS5tYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts":
/*!****************************************************************!*\
  !*** ./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts ***!
  \****************************************************************/
/*! exports provided: getWebSurfacesLink, default, CoachingUXLauncher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWebSurfacesLink\", function() { return getWebSurfacesLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CoachingUXLauncher\", function() { return CoachingUXLauncher; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Window/DomUtils */ \"./scripts/app/Window/DomUtils.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _TargetedMessaging_AssetsProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TargetedMessaging/AssetsProvider */ \"./scripts/app/TargetedMessaging/AssetsProvider.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/**\r\n * CoachingUX launcher factory for Web SDK\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction getWebSurfacesLink() {\r\n    var _a, _b, _c, _d;\r\n    var internalEnvs = [\"dogfood\", \"edog\", \"int\", \"microsoft\"];\r\n    var commonInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions();\r\n    var audience = ((_a = commonInitOptions.telemetryGroup) === null || _a === void 0 ? void 0 : _a.audienceGroup) || ((_b = commonInitOptions.telemetryGroup) === null || _b === void 0 ? void 0 : _b.audience);\r\n    var isInternalEnv = audience && internalEnvs.indexOf(audience.toLowerCase()) !== -1;\r\n    var webSurfacesConfigLink = isInternalEnv ? (_c = commonInitOptions.webSurfacesSettings) === null || _c === void 0 ? void 0 : _c.webSurfacesIntUrl : (_d = commonInitOptions.webSurfacesSettings) === null || _d === void 0 ? void 0 : _d.webSurfacesProdUrl;\r\n    var webSurfacesDefaultLink = isInternalEnv ?\r\n        _Constants__WEBPACK_IMPORTED_MODULE_4__[\"DynamicScriptUrls\"].WebSurfacesIntLink : _Constants__WEBPACK_IMPORTED_MODULE_4__[\"DynamicScriptUrls\"].WebSurfacesProdLink;\r\n    var settingKey = isInternalEnv ? \"WebSurfacesIntLink\" /* webSurfacesIntLink */ : \"WebSurfacesProdLink\" /* webSurfacesProdLink */;\r\n    var webSurfacesLink = webSurfacesConfigLink || Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_3__[\"getDynamicSetting\"])(settingKey, webSurfacesDefaultLink);\r\n    return webSurfacesLink;\r\n}\r\n// web surfaces script url load promise\r\nvar WebSurfacesScriptPromise;\r\nfunction createwebSurfacesScriptPromise() {\r\n    if (!WebSurfacesScriptPromise) {\r\n        WebSurfacesScriptPromise = _Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__[\"loadScript\"](getWebSurfacesLink(), null);\r\n    }\r\n}\r\nvar CoachingUXLauncherFactory = /** @class */ (function () {\r\n    function CoachingUXLauncherFactory() {\r\n    }\r\n    CoachingUXLauncherFactory.prototype.makeSurveyLauncher = function (survey) {\r\n        if (this.AcceptsSurvey(survey)) {\r\n            return new CoachingUXLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    CoachingUXLauncherFactory.prototype.AcceptsSurvey = function (survey) {\r\n        if (!Object(_Utils__WEBPACK_IMPORTED_MODULE_9__[\"isNOU\"])(survey) && survey.getType() === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__[\"ISurvey\"].Type.GenericMessagingSurface\r\n            && survey.getLauncherType().toLocaleLowerCase() === CoachingUXLauncherFactory.LAUNCHER_TYPE) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CoachingUXLauncherFactory.LAUNCHER_TYPE = \"coachingux\";\r\n    return CoachingUXLauncherFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoachingUXLauncherFactory);\r\nvar CoachingUXLauncher = /** @class */ (function () {\r\n    function CoachingUXLauncher(survey) {\r\n        var _a;\r\n        this.survey = survey;\r\n        // pre-load web surface package if there are any critical campaigns\r\n        if (!WebSurfacesScriptPromise &&\r\n            survey && survey.getSurveyInfo &&\r\n            ((_a = survey.getSurveyInfo()) === null || _a === void 0 ? void 0 : _a.getBusinessLevel()) === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__[\"ISurveyInfo\"].BusinessLevel.Critical) {\r\n            setTimeout(createwebSurfacesScriptPromise, 1000);\r\n        }\r\n    }\r\n    CoachingUXLauncher.prototype.launch = function (surveyParams) {\r\n        var _this = this;\r\n        var surveyInfo = this.survey && this.survey.getSurveyInfo();\r\n        var surveyMetadata = surveyInfo && surveyInfo.getMetadata();\r\n        var contentMetadata = surveyMetadata && surveyMetadata.getContentMetadata();\r\n        if (!contentMetadata) {\r\n            return;\r\n        }\r\n        var startTime = new Date();\r\n        var getWebSurfacesInstance = function () {\r\n            var windowInstance = _Window_Window__WEBPACK_IMPORTED_MODULE_6__[\"getGlobal\"]();\r\n            return windowInstance && windowInstance.OfficeWebSurfaces;\r\n        };\r\n        var renderWebSurface = function (uxInitOptions) {\r\n            var officeWebSurfaces = getWebSurfacesInstance();\r\n            if (uxInitOptions) {\r\n                officeWebSurfaces.Initialize(uxInitOptions);\r\n            }\r\n            officeWebSurfaces.RemoveSurface();\r\n            var surfaceParams = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, contentMetadata), { surfaceContext: {\r\n                    surveyForm: _this.survey,\r\n                    surveyParams: surveyParams,\r\n                } });\r\n            officeWebSurfaces.RenderSurface(surfaceParams, null /* targetElementId */, surveyInfo.getBackEndId());\r\n        };\r\n        var logErrorEvent = function (error) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_7__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_7__[\"EventIds\"].WebSurfaces.Common.Error.VALUE, 1 /* Critical */, {\r\n                ErrorMessage: \"Error loading websurfaces\" + (error && error.message ? \": \" + error.message : \"\"),\r\n                TimeMilliseconds: Date.now() - (+startTime),\r\n            });\r\n        };\r\n        try {\r\n            if (getWebSurfacesInstance()) {\r\n                renderWebSurface();\r\n                return;\r\n            }\r\n            createwebSurfacesScriptPromise();\r\n            // if UX package isn't already loaded, download package and render surface\r\n            WebSurfacesScriptPromise\r\n                .then(function () {\r\n                var initOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCommonInitOptions();\r\n                var floodgateInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getFloodgateInitOptions();\r\n                var surveyActivatedCallback = floodgateInitOptions && floodgateInitOptions.onSurveyActivatedCallback;\r\n                var beaconCallback = function (beaconParameters) {\r\n                    if (beaconParameters) {\r\n                        return _TargetedMessaging_AssetsProvider__WEBPACK_IMPORTED_MODULE_8__[\"get\"]().setCampaignAction(beaconParameters);\r\n                    }\r\n                };\r\n                var uxOptions = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, initOptions), floodgateInitOptions), { beaconCallback: beaconCallback, surfaceInitTime: startTime, surfaceId: surveyInfo.getBackEndId(), logSessionId: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getSdkSessionId(), logSettings: Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_3__[\"getDynamicSetting\"])(\"LogLevelSettings\" /* logLevelSettings */, undefined), renderer: surveyActivatedCallback, renderCallback: surveyActivatedCallback && surveyActivatedCallback.onTeachingCampaignRender });\r\n                renderWebSurface(uxOptions);\r\n            }).catch(function (error) {\r\n                logErrorEvent(error);\r\n            });\r\n        }\r\n        catch (error) {\r\n            logErrorEvent(error);\r\n        }\r\n    };\r\n    return CoachingUXLauncher;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0NvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkudHM/NDA2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7O0FBRWlFO0FBRUY7QUFFb0I7QUFFNUM7QUFDSztBQUNKO0FBQ0c7QUFDd0I7QUFDckM7QUF5QjFCLFNBQVMsa0JBQWtCOztJQUNqQyxJQUFNLFlBQVksR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQzdELElBQU0saUJBQWlCLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO0lBQ3JFLElBQU0sUUFBUSxHQUFHLHdCQUFpQixDQUFDLGNBQWMsMENBQUUsYUFBYSxZQUFJLGlCQUFpQixDQUFDLGNBQWMsMENBQUUsUUFBUSxFQUFDO0lBQy9HLElBQU0sYUFBYSxHQUFHLFFBQVEsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3RGLElBQU0scUJBQXFCLEdBQUcsYUFBYSxDQUFDLENBQUMsT0FDNUMsaUJBQWlCLENBQUMsbUJBQW1CLDBDQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBQyxpQkFBaUIsQ0FBQyxtQkFBbUIsMENBQUUsa0JBQWtCLENBQUM7SUFDdEgsSUFBTSxzQkFBc0IsR0FBRyxhQUFhLENBQUMsQ0FBQztRQUM3Qyw0REFBMkIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsNERBQTJCLENBQUMsbUJBQW1CLENBQUM7SUFDbEcsSUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLENBQUMsK0NBQStCLENBQUMsZ0RBQStCLENBQUM7SUFDbEcsSUFBTSxlQUFlLEdBQUcscUJB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QUFDLFlBQVksRUFBRSxFQUNwQyxZQUFZLEVBQUUsZ0VBQWlCLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFDbkQsV0FBVyxFQUFFLDZGQUFpQiw0Q0FBOEIsU0FBUyxDQUFDLEVBQ3RFLFFBQVEsRUFBRSx1QkFBdUIsRUFDakMsY0FBYyxFQUFFLHVCQUF1QixJQUFJLHVCQUF1QixDQUFDLHdCQUF3QixHQUMzRixDQUFDO2dCQUVGLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzdCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxlQUFLO2dCQUNiLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN0QixDQUFDLENBQUMsQ0FBQztTQUNIO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZixhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDckI7SUFDRixDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9Db2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvYWNoaW5nVVggbGF1bmNoZXIgZmFjdG9yeSBmb3IgV2ViIFNES1xyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuXHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IElJbml0T3B0aW9uc0NvbW1vbiB9IGZyb20gXCIuLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBnZXREeW5hbWljU2V0dGluZywgU2V0dGluZ0tleSB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlscyBmcm9tIFwiLi4vV2luZG93L0RvbVV0aWxzXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuaW1wb3J0ICogYXMgQXNzZXRzUHJvdmlkZXIgZnJvbSBcIi4uL1RhcmdldGVkTWVzc2FnaW5nL0Fzc2V0c1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IGlzTk9VIH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5pbXBvcnQgeyBJU3VydmV5UGFyYW1zIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2tcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvblBhcmFtZXRlcnMge1xyXG5cdGFjdGlvbk5hbWU6IHN0cmluZztcclxuXHRhY3Rpb25Vcmw6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJT2ZmaWNlV2ViU3VyZmFjZXMge1xyXG5cdEluaXRpYWxpemUoaW50T3B0aW9uczogSUluaXRPcHRpb25zQ29tbW9uKTogdm9pZDtcclxuXHRSZW5kZXJTdXJmYWNlKFxyXG5cdFx0c3VyZmFjZVBhcmFtczogYW55LFxyXG5cdFx0dGFyZ2V0RWxlbWVudElkPzogc3RyaW5nLFxyXG5cdFx0c3VyZmFjZUlkPzogc3RyaW5nKTogdm9pZDtcclxuXHRSZW1vdmVTdXJmYWNlKCk6IHZvaWQ7XHJcblx0R2V0U3VyZmFjZUNvbnRhaW5lcklkKCk6IHN0cmluZztcclxufVxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCIuLi9XaW5kb3cvV2luZG93XCIge1xyXG5cdGludGVyZmFjZSBJV2luZG93IHtcclxuXHRcdE9mZmljZVdlYlN1cmZhY2VzOiBJT2ZmaWNlV2ViU3VyZmFjZXM7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2ViU3VyZmFjZXNMaW5rKCkge1xyXG5cdGNvbnN0IGludGVybmFsRW52cyA9IFtcImRvZ2Zvb2RcIiwgXCJlZG9nXCIsIFwiaW50XCIsIFwibWljcm9zb2Z0XCJdO1xyXG5cdGNvbnN0IGNvbW1vbkluaXRPcHRpb25zID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpO1xyXG5cdGNvbnN0IGF1ZGllbmNlID0gY29tbW9uSW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXA/LmF1ZGllbmNlR3JvdXAgfHwgY29tbW9uSW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXA/LmF1ZGllbmNlO1xyXG5cdGNvbnN0IGlzSW50ZXJuYWxFbnYgPSBhdWRpZW5jZSAmJiBpbnRlcm5hbEVudnMuaW5kZXhPZihhdWRpZW5jZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTE7XHJcblx0Y29uc3Qgd2ViU3VyZmFjZXNDb25maWdMaW5rID0gaXNJbnRlcm5hbEVudiA/XHJcblx0XHRjb21tb25Jbml0T3B0aW9ucy53ZWJTdXJmYWNlc1NldHRpbmdzPy53ZWJTdXJmYWNlc0ludFVybCA6IGNvbW1vbkluaXRPcHRpb25zLndlYlN1cmZhY2VzU2V0dGluZ3M/LndlYlN1cmZhY2VzUHJvZFVybDtcclxuXHRjb25zdCB3ZWJTdXJmYWNlc0RlZmF1bHRMaW5rID0gaXNJbnRlcm5hbEVudiA/XHJcblx0XHRDb25zdGFudHMuRHluYW1pY1NjcmlwdFVybHMuV2ViU3VyZmFjZXNJbnRMaW5rIDogQ29uc3RhbnRzLkR5bmFtaWNTY3JpcHRVcmxzLldlYlN1cmZhY2VzUHJvZExpbms7XHJcblx0Y29uc3Qgc2V0dGluZ0tleSA9IGlzSW50ZXJuYWxFbnYgPyBTZXR0aW5nS2V5LndlYlN1cmZhY2VzSW50TGluayA6IFNldHRpbmdLZXkud2ViU3VyZmFjZXNQcm9kTGluaztcclxuXHRjb25zdCB3ZWJTdXJmYWNlc0xpbmsgPSB3ZWJTdXJmYWNlc0NvbmZpZ0xpbmsgfHwgZ2V0RHluYW1pY1NldHRpbmcoc2V0dGluZ0tleSwgd2ViU3VyZmFjZXNEZWZhdWx0TGluayk7XHJcblx0cmV0dXJuIHdlYlN1cmZhY2VzTGluaztcclxufVxyXG5cclxuLy8gd2ViIHN1cmZhY2VzIHNjcmlwdCB1cmwgbG9hZCBwcm9taXNlXHJcbmxldCBXZWJTdXJmYWNlc1NjcmlwdFByb21pc2U6IFByb21pc2U8dm9pZD47XHJcbmZ1bmN0aW9uIGNyZWF0ZXdlYlN1cmZhY2VzU2NyaXB0UHJvbWlzZSgpIHtcclxuXHRpZiAoIVdlYlN1cmZhY2VzU2NyaXB0UHJvbWlzZSkge1xyXG5cdFx0V2ViU3VyZmFjZXNTY3JpcHRQcm9taXNlID0gRG9tVXRpbHMubG9hZFNjcmlwdChnZXRXZWJTdXJmYWNlc0xpbmsoKSwgbnVsbCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5IGltcGxlbWVudHMgQXBpLklTdXJ2ZXlMYXVuY2hlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTEFVTkNIRVJfVFlQRTogc3RyaW5nID0gXCJjb2FjaGluZ3V4XCI7XHJcblxyXG5cdHB1YmxpYyBtYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5OiBBcGkuSVN1cnZleSk6IEFwaS5JU3VydmV5TGF1bmNoZXIge1xyXG5cdFx0aWYgKHRoaXMuQWNjZXB0c1N1cnZleShzdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ29hY2hpbmdVWExhdW5jaGVyKHN1cnZleSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWNjZXB0c1N1cnZleShzdXJ2ZXk6IEFwaS5JU3VydmV5KTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWlzTk9VKHN1cnZleSkgJiYgc3VydmV5LmdldFR5cGUoKSA9PT0gQXBpLklTdXJ2ZXkuVHlwZS5HZW5lcmljTWVzc2FnaW5nU3VyZmFjZVxyXG5cdFx0XHQmJiBzdXJ2ZXkuZ2V0TGF1bmNoZXJUeXBlKCkudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeS5MQVVOQ0hFUl9UWVBFKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb2FjaGluZ1VYTGF1bmNoZXIgaW1wbGVtZW50cyBBcGkuSVN1cnZleUxhdW5jaGVyIHtcclxuXHRwcml2YXRlIHN1cnZleTogQXBpLklTdXJ2ZXk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHN1cnZleTogQXBpLklTdXJ2ZXkpIHtcclxuXHRcdHRoaXMuc3VydmV5ID0gc3VydmV5O1xyXG5cclxuXHRcdC8vIHByZS1sb2FkIHdlYiBzdXJmYWNlIHBhY2thZ2UgaWYgdGhlcmUgYXJlIGFueSBjcml0aWNhbCBjYW1wYWlnbnNcclxuXHRcdGlmICghV2ViU3VyZmFjZXNTY3JpcHRQcm9taXNlICYmXHJcblx0XHRcdHN1cnZleSAmJiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbyAmJlxyXG5cdFx0XHRzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpPy5nZXRCdXNpbmVzc0xldmVsKCkgPT09IEFwaS5JU3VydmV5SW5mby5CdXNpbmVzc0xldmVsLkNyaXRpY2FsKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoY3JlYXRld2ViU3VyZmFjZXNTY3JpcHRQcm9taXNlLCAxMDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsYXVuY2goc3VydmV5UGFyYW1zPzogSVN1cnZleVBhcmFtcyk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3VydmV5SW5mbyA9IHRoaXMuc3VydmV5ICYmIHRoaXMuc3VydmV5LmdldFN1cnZleUluZm8oKTtcclxuXHRcdGNvbnN0IHN1cnZleU1ldGFkYXRhID0gc3VydmV5SW5mbyAmJiBzdXJ2ZXlJbmZvLmdldE1ldGFkYXRhKCk7XHJcblx0XHRjb25zdCBjb250ZW50TWV0YWRhdGEgPSBzdXJ2ZXlNZXRhZGF0YSAmJiBzdXJ2ZXlNZXRhZGF0YS5nZXRDb250ZW50TWV0YWRhdGEoKTtcclxuXHRcdGlmICghY29udGVudE1ldGFkYXRhKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0Y29uc3QgZ2V0V2ViU3VyZmFjZXNJbnN0YW5jZSA9ICgpID0+IHtcclxuXHRcdFx0Y29uc3Qgd2luZG93SW5zdGFuY2UgPSBXaW5kb3cuZ2V0R2xvYmFsKCk7XHJcblx0XHRcdHJldHVybiB3aW5kb3dJbnN0YW5jZSAmJiB3aW5kb3dJbnN0YW5jZS5PZmZpY2VXZWJTdXJmYWNlcztcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgcmVuZGVyV2ViU3VyZmFjZSA9ICh1eEluaXRPcHRpb25zPzogYW55KSA9PiB7XHJcblx0XHRcdGNvbnN0IG9mZmljZVdlYlN1cmZhY2VzID0gZ2V0V2ViU3VyZmFjZXNJbnN0YW5jZSgpO1xyXG5cdFx0XHRpZiAodXhJbml0T3B0aW9ucykge1xyXG5cdFx0XHRcdG9mZmljZVdlYlN1cmZhY2VzLkluaXRpYWxpemUodXhJbml0T3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG9mZmljZVdlYlN1cmZhY2VzLlJlbW92ZVN1cmZhY2UoKTtcclxuXHJcblx0XHRcdGNvbnN0IHN1cmZhY2VQYXJhbXMgPSB7XHJcblx0XHRcdFx0Li4uY29udGVudE1ldGFkYXRhLFxyXG5cdFx0XHRcdHN1cmZhY2VDb250ZXh0OiB7XHJcblx0XHRcdFx0XHRzdXJ2ZXlGb3JtOiB0aGlzLnN1cnZleSxcclxuXHRcdFx0XHRcdHN1cnZleVBhcmFtcyxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRvZmZpY2VXZWJTdXJmYWNlcy5SZW5kZXJTdXJmYWNlKFxyXG5cdFx0XHRcdHN1cmZhY2VQYXJhbXMsXHJcblx0XHRcdFx0bnVsbCAvKiB0YXJnZXRFbGVtZW50SWQgKi8sXHJcblx0XHRcdFx0c3VydmV5SW5mby5nZXRCYWNrRW5kSWQoKSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGxvZ0Vycm9yRXZlbnQgPSAoZXJyb3I/OiBFcnJvcikgPT4ge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuV2ViU3VyZmFjZXMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBcIkVycm9yIGxvYWRpbmcgd2Vic3VyZmFjZXNcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlID8gXCI6IFwiICsgZXJyb3IubWVzc2FnZSA6IFwiXCIpLFxyXG5cdFx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogRGF0ZS5ub3coKSAtICgrc3RhcnRUaW1lKSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKGdldFdlYlN1cmZhY2VzSW5zdGFuY2UoKSkge1xyXG5cdFx0XHRcdHJlbmRlcldlYlN1cmZhY2UoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNyZWF0ZXdlYlN1cmZhY2VzU2NyaXB0UHJvbWlzZSgpO1xyXG5cclxuXHRcdFx0Ly8gaWYgVVggcGFja2FnZSBpc24ndCBhbHJlYWR5IGxvYWRlZCwgZG93bmxvYWQgcGFja2FnZSBhbmQgcmVuZGVyIHN1cmZhY2VcclxuXHRcdFx0V2ViU3VyZmFjZXNTY3JpcHRQcm9taXNlXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0XHRjb25zdCBmbG9vZGdhdGVJbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IGZsb29kZ2F0ZUluaXRPcHRpb25zICYmIGZsb29kZ2F0ZUluaXRPcHRpb25zLm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2s7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJlYWNvbkNhbGxiYWNrID0gKGJlYWNvblBhcmFtZXRlcnM6IElCZWFjb25QYXJhbWV0ZXJzKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcblx0XHRcdFx0XHRpZiAoYmVhY29uUGFyYW1ldGVycykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gQXNzZXRzUHJvdmlkZXIuZ2V0KCkuc2V0Q2FtcGFpZ25BY3Rpb24oYmVhY29uUGFyYW1ldGVycyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdXhPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0Li4uaW5pdE9wdGlvbnMsXHJcblx0XHRcdFx0XHQuLi5mbG9vZGdhdGVJbml0T3B0aW9ucyxcclxuXHRcdFx0XHRcdGJlYWNvbkNhbGxiYWNrLFxyXG5cdFx0XHRcdFx0c3VyZmFjZUluaXRUaW1lOiBzdGFydFRpbWUsXHJcblx0XHRcdFx0XHRzdXJmYWNlSWQ6IHN1cnZleUluZm8uZ2V0QmFja0VuZElkKCksXHJcblx0XHRcdFx0XHRsb2dTZXNzaW9uSWQ6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0U2RrU2Vzc2lvbklkKCksXHJcblx0XHRcdFx0XHRsb2dTZXR0aW5nczogZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS5sb2dMZXZlbFNldHRpbmdzLCB1bmRlZmluZWQpLFxyXG5cdFx0XHRcdFx0cmVuZGVyZXI6IHN1cnZleUFjdGl2YXRlZENhbGxiYWNrLFxyXG5cdFx0XHRcdFx0cmVuZGVyQ2FsbGJhY2s6IHN1cnZleUFjdGl2YXRlZENhbGxiYWNrICYmIHN1cnZleUFjdGl2YXRlZENhbGxiYWNrLm9uVGVhY2hpbmdDYW1wYWlnblJlbmRlcixcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZW5kZXJXZWJTdXJmYWNlKHV4T3B0aW9ucyk7XHJcblx0XHRcdH0pLmNhdGNoKGVycm9yID0+IHtcclxuXHRcdFx0XHRsb2dFcnJvckV2ZW50KGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRsb2dFcnJvckV2ZW50KGVycm9yKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts":
/*!*******************************************************************!*\
  !*** ./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/**\r\n * Implementation for IFloodgateEnvironmentProvider for web SDK.\r\n * We pass the SDK's internal locale here and not the one which the host app specifies.\r\n */\r\n\r\nvar FloodgateEnvironmentProvider = /** @class */ (function () {\r\n    function FloodgateEnvironmentProvider() {\r\n    }\r\n    FloodgateEnvironmentProvider.prototype.getLanguage = function () {\r\n        return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getCommonInitOptions().originalLocale;\r\n    };\r\n    return FloodgateEnvironmentProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloodgateEnvironmentProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIudHM/NGY0ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7OztHQUdHO0FBRytEO0FBRWxFO0lBQUE7SUFJQSxDQUFDO0lBSE8sa0RBQVcsR0FBbEI7UUFDQyxPQUFPLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxjQUFjLENBQUM7SUFDbEUsQ0FBQztJQUNGLG1DQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBmb3IgSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIgZm9yIHdlYiBTREsuXHJcbiAqIFdlIHBhc3MgdGhlIFNESydzIGludGVybmFsIGxvY2FsZSBoZXJlIGFuZCBub3QgdGhlIG9uZSB3aGljaCB0aGUgaG9zdCBhcHAgc3BlY2lmaWVzLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIgaW1wbGVtZW50cyBBcGkuSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIge1xyXG5cdHB1YmxpYyBnZXRMYW5ndWFnZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5vcmlnaW5hbExvY2FsZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts":
/*!***************************************************************!*\
  !*** ./scripts/app/FloodgateCore/FloodgateStorageProvider.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * Implementation of IFloodgateStorageProvider for Web SDK\r\n */\r\nvar _a;\r\n\r\n\r\n\r\nvar FileType = _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__[\"IFloodgateStorageProvider\"].FileType;\r\nvar fileTypeToKeyMap = (_a = {},\r\n    _a[FileType.CampaignDefinitions] = \"obf-CampaignDefinitions\",\r\n    _a[FileType.CampaignStates] = \"obf-CampaignStates\",\r\n    _a[FileType.FloodgateSettings] = \"obf-FloodgateSettings\",\r\n    _a[FileType.GovernedChannelStates] = \"obf-GovernedChannelStates\",\r\n    _a[FileType.SurveyActivationStats] = \"obf-SurveyActivationStats\",\r\n    _a[FileType.SurveyEventActivityStats] = \"obf-SurveyEventActivityStats\",\r\n    _a[FileType.TmsCache_CampaignContent] = \"obf-TmsCampaignContent\",\r\n    _a[FileType.TmsCache_MessageMetadata] = \"obf-TmsMessageMetadata\",\r\n    _a[FileType.TmsCache_UserGovernance] = \"obf-TmsUserGovernance\",\r\n    _a[FileType.Tms_DynamicSettings] = \"obf-TmsDynamicSettings\",\r\n    _a[FileType.LogLevelSettings] = \"obf-LogLevelSettings\",\r\n    _a[FileType.UserFacts] = \"obf-UserFacts\",\r\n    _a[FileType.DebugOverrides] = \"obf-DebugOverrides\",\r\n    _a);\r\nvar FloodgateStorageProvider = /** @class */ (function () {\r\n    function FloodgateStorageProvider() {\r\n    }\r\n    /**\r\n     * Code to detect localStorage presence.\r\n     * Copied from MDN: https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\r\n     */\r\n    FloodgateStorageProvider.isStorageAvailable = function () {\r\n        try {\r\n            var x = \"__storage_test__\";\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.setItem(x, x);\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.removeItem(x);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return e instanceof DOMException && (\r\n            // everything except Firefox\r\n            e.code === 22 ||\r\n                // Firefox\r\n                e.code === 1014 ||\r\n                // test name field too, because code might not be present\r\n                // everything except Firefox\r\n                e.name === \"QuotaExceededError\" ||\r\n                // Firefox\r\n                e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\r\n                // acknowledge QuotaExceededError only if there's something already stored\r\n                _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.length !== 0;\r\n        }\r\n    };\r\n    /**\r\n     * Safely read an object\r\n     */\r\n    FloodgateStorageProvider.safeReadObject = function (fileType, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = undefined; }\r\n        if (!(fileType in FileType)) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            var storageKey = fileTypeToKeyMap[fileType];\r\n            var result = _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.getItem(storageKey);\r\n            var parsedObject = result && (result[0] === \"{\" || result[0] === \"[\") ? JSON.parse(result) : result;\r\n            return parsedObject !== null && parsedObject !== void 0 ? parsedObject : defaultValue;\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        return defaultValue;\r\n    };\r\n    /**\r\n     * Lock the file to prevent access from another process.\r\n     */\r\n    FloodgateStorageProvider.prototype.fileLock = function (fileType) {\r\n        // JS runs on a single thread in the browser.\r\n        return;\r\n    };\r\n    /**\r\n     * Unlock the file.\r\n     */\r\n    FloodgateStorageProvider.prototype.fileUnlock = function (fileType) {\r\n        // JS runs on a single thread in the browser.\r\n        return;\r\n    };\r\n    /**\r\n     * Read the file\r\n     */\r\n    FloodgateStorageProvider.prototype.read = function (fileType) {\r\n        if (!(fileType in FileType)) {\r\n            return \"\";\r\n        }\r\n        var storageKey = fileTypeToKeyMap[fileType];\r\n        var result;\r\n        try {\r\n            result = _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.getItem(storageKey);\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].SURVEY_FLOODGATE_FILEREAD_FAILED, 2 /* Error */, {\r\n                ErrorMessage: e.toString(),\r\n                FileName: storageKey,\r\n            });\r\n            return \"\";\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Write to the file\r\n     */\r\n    FloodgateStorageProvider.prototype.write = function (fileType, content) {\r\n        if (!(fileType in FileType)) {\r\n            return;\r\n        }\r\n        var storageKey = fileTypeToKeyMap[fileType];\r\n        try {\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"getGlobal\"]().localStorage.setItem(storageKey, content);\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].SURVEY_FLOODGATE_FILEWRITE_FAILED, 2 /* Error */, {\r\n                ErrorMessage: e.toString(),\r\n                FileName: storageKey,\r\n            });\r\n            return;\r\n        }\r\n    };\r\n    return FloodgateStorageProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloodgateStorageProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci50cz84YTc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRzs7QUFFc0Y7QUFDNUM7QUFDRztBQUNoRCxJQUFPLFFBQVEsR0FBRyxzR0FBeUIsQ0FBQyxRQUFRLENBQUM7QUFFckQsSUFBTSxnQkFBZ0I7SUFDckIsR0FBQyxRQUFRLENBQUMsbUJBQW1CLElBQUcseUJBQXlCO0lBQ3pELEdBQUMsUUFBUSxDQUFDLGNBQWMsSUFBRyxvQkFBb0I7SUFDL0MsR0FBQyxRQUFRLENBQUMsaUJBQWlCLElBQUcsdUJBQXVCO0lBQ3JELEdBQUMsUUFBUSxDQUFDLHFCQUFxQixJQUFHLDJCQUEyQjtJQUM3RCxHQUFDLFFBQVEsQ0FBQyxxQkFBcUIsSUFBRywyQkFBMkI7SUFDN0QsR0FBQyxRQUFRLENBQUMsd0JBQXdCLElBQUcsOEJBQThCO0lBQ25FLEdBQUMsUUFBUSxDQUFDLHdCQUF3QixJQUFHLHdCQUF3QjtJQUM3RCxHQUFDLFFBQVEsQ0FBQyx3QkFBd0IsSUFBRyx3QkFBd0I7SUFDN0QsR0FBQyxRQUFRLENBQUMsdUJBQXVCLElBQUcsdUJBQXVCO0lBQzNELEdBQUMsUUFBUSxDQUFDLG1CQUFtQixJQUFHLHdCQUF3QjtJQUN4RCxHQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsSUFBRyxzQkFBc0I7SUFDbkQsR0FBQyxRQUFRLENBQUMsU0FBUyxJQUFHLGVBQWU7SUFDckMsR0FBQyxRQUFRLENBQUMsY0FBYyxJQUFHLG9CQUFvQjtPQUMvQyxDQUFDO0FBRUY7SUFBQTtJQTZHQSxDQUFDO0lBNUdBOzs7T0FHRztJQUNXLDJDQUFrQixHQUFoQztRQUNDLElBQUk7WUFDSCxJQUFJLENBQUMsR0FBRyxrQkFBa0IsQ0FBQztZQUMzQix3REFBZ0IsRUFBRSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FB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QUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDN0Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLGlDQUFpQyxpQkFFOUU7Z0JBQ0MsWUFBWSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7Z0JBQzFCLFFBQVEsRUFBRSxVQUFVO2FBQ3BCLENBQUMsQ0FBQztZQUNKLE9BQU87U0FDUDtJQUNGLENBQUM7SUFDRiwrQkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZvciBXZWIgU0RLXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vLi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLy4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5cclxuY29uc3QgZmlsZVR5cGVUb0tleU1hcDogeyBbayBpbiBGaWxlVHlwZV06IHN0cmluZyB9ID0ge1xyXG5cdFtGaWxlVHlwZS5DYW1wYWlnbkRlZmluaXRpb25zXTogXCJvYmYtQ2FtcGFpZ25EZWZpbml0aW9uc1wiLFxyXG5cdFtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc106IFwib2JmLUNhbXBhaWduU3RhdGVzXCIsXHJcblx0W0ZpbGVUeXBlLkZsb29kZ2F0ZVNldHRpbmdzXTogXCJvYmYtRmxvb2RnYXRlU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuR292ZXJuZWRDaGFubmVsU3RhdGVzXTogXCJvYmYtR292ZXJuZWRDaGFubmVsU3RhdGVzXCIsXHJcblx0W0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c106IFwib2JmLVN1cnZleUFjdGl2YXRpb25TdGF0c1wiLFxyXG5cdFtGaWxlVHlwZS5TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHNdOiBcIm9iZi1TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHNcIixcclxuXHRbRmlsZVR5cGUuVG1zQ2FjaGVfQ2FtcGFpZ25Db250ZW50XTogXCJvYmYtVG1zQ2FtcGFpZ25Db250ZW50XCIsXHJcblx0W0ZpbGVUeXBlLlRtc0NhY2hlX01lc3NhZ2VNZXRhZGF0YV06IFwib2JmLVRtc01lc3NhZ2VNZXRhZGF0YVwiLFxyXG5cdFtGaWxlVHlwZS5UbXNDYWNoZV9Vc2VyR292ZXJuYW5jZV06IFwib2JmLVRtc1VzZXJHb3Zlcm5hbmNlXCIsXHJcblx0W0ZpbGVUeXBlLlRtc19EeW5hbWljU2V0dGluZ3NdOiBcIm9iZi1UbXNEeW5hbWljU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5nc106IFwib2JmLUxvZ0xldmVsU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuVXNlckZhY3RzXTogXCJvYmYtVXNlckZhY3RzXCIsXHJcblx0W0ZpbGVUeXBlLkRlYnVnT3ZlcnJpZGVzXTogXCJvYmYtRGVidWdPdmVycmlkZXNcIixcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBpbXBsZW1lbnRzIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIge1xyXG5cdC8qKlxyXG5cdCAqIENvZGUgdG8gZGV0ZWN0IGxvY2FsU3RvcmFnZSBwcmVzZW5jZS5cclxuXHQgKiBDb3BpZWQgZnJvbSBNRE46IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJfU3RvcmFnZV9BUEkvVXNpbmdfdGhlX1dlYl9TdG9yYWdlX0FQSVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgaXNTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHggPSBcIl9fc3RvcmFnZV90ZXN0X19cIjtcclxuXHRcdFx0V2luZG93LmdldEdsb2JhbCgpLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG5cdFx0XHRXaW5kb3cuZ2V0R2xvYmFsKCkubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiAoXHJcblx0XHRcdFx0Ly8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG5cdFx0XHRcdGUuY29kZSA9PT0gMjIgfHxcclxuXHRcdFx0XHQvLyBGaXJlZm94XHJcblx0XHRcdFx0ZS5jb2RlID09PSAxMDE0IHx8XHJcblx0XHRcdFx0Ly8gdGVzdCBuYW1lIGZpZWxkIHRvbywgYmVjYXVzZSBjb2RlIG1pZ2h0IG5vdCBiZSBwcmVzZW50XHJcblx0XHRcdFx0Ly8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG5cdFx0XHRcdGUubmFtZSA9PT0gXCJRdW90YUV4Y2VlZGVkRXJyb3JcIiB8fFxyXG5cdFx0XHRcdC8vIEZpcmVmb3hcclxuXHRcdFx0XHRlLm5hbWUgPT09IFwiTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRURcIikgJiZcclxuXHRcdFx0XHQvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxyXG5cdFx0XHRcdFdpbmRvdy5nZXRHbG9iYWwoKS5sb2NhbFN0b3JhZ2UubGVuZ3RoICE9PSAwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2FmZWx5IHJlYWQgYW4gb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBzYWZlUmVhZE9iamVjdDxUPihmaWxlVHlwZTogRmlsZVR5cGUsIGRlZmF1bHRWYWx1ZTogVCA9IHVuZGVmaW5lZCk6IFQge1xyXG5cdFx0aWYgKCEoZmlsZVR5cGUgaW4gRmlsZVR5cGUpKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHN0b3JhZ2VLZXkgPSBmaWxlVHlwZVRvS2V5TWFwW2ZpbGVUeXBlXTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2luZG93LmdldEdsb2JhbCgpLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG5cdFx0XHRjb25zdCBwYXJzZWRPYmplY3QgPSByZXN1bHQgJiYgKHJlc3VsdFswXSA9PT0gXCJ7XCIgfHwgcmVzdWx0WzBdID09PSBcIltcIikgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiByZXN1bHQ7XHJcblx0XHRcdHJldHVybiBwYXJzZWRPYmplY3QgPz8gZGVmYXVsdFZhbHVlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQvLyBpZ25vcmVcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9jayB0aGUgZmlsZSB0byBwcmV2ZW50IGFjY2VzcyBmcm9tIGFub3RoZXIgcHJvY2Vzcy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZmlsZUxvY2soZmlsZVR5cGU6IEZpbGVUeXBlKTogdm9pZCB7XHJcblx0XHQvLyBKUyBydW5zIG9uIGEgc2luZ2xlIHRocmVhZCBpbiB0aGUgYnJvd3Nlci5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVubG9jayB0aGUgZmlsZS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZmlsZVVubG9jayhmaWxlVHlwZTogRmlsZVR5cGUpOiB2b2lkIHtcclxuXHRcdC8vIEpTIHJ1bnMgb24gYSBzaW5nbGUgdGhyZWFkIGluIHRoZSBicm93c2VyLlxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVhZCB0aGUgZmlsZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyByZWFkKGZpbGVUeXBlOiBGaWxlVHlwZSk6IHN0cmluZyB7XHJcblx0XHRpZiAoIShmaWxlVHlwZSBpbiBGaWxlVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHN0b3JhZ2VLZXkgPSBmaWxlVHlwZVRvS2V5TWFwW2ZpbGVUeXBlXTtcclxuXHRcdGxldCByZXN1bHQ6IHN0cmluZztcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlc3VsdCA9IFdpbmRvdy5nZXRHbG9iYWwoKS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlNVUlZFWV9GTE9PREdBVEVfRklMRVJFQURfRkFJTEVELFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0XHRGaWxlTmFtZTogc3RvcmFnZUtleSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlIHRvIHRoZSBmaWxlXHJcblx0ICovXHJcblx0cHVibGljIHdyaXRlKGZpbGVUeXBlOiBGaWxlVHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAoIShmaWxlVHlwZSBpbiBGaWxlVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBzdG9yYWdlS2V5ID0gZmlsZVR5cGVUb0tleU1hcFtmaWxlVHlwZV07XHJcblx0XHR0cnkge1xyXG5cdFx0XHRXaW5kb3cuZ2V0R2xvYmFsKCkubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgY29udGVudCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfRkxPT0RHQVRFX0ZJTEVXUklURV9GQUlMRUQsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcclxuXHRcdFx0XHRcdEZpbGVOYW1lOiBzdG9yYWdlS2V5LFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/FloodgateStringProvider.ts":
/*!**************************************************************!*\
  !*** ./scripts/app/FloodgateCore/FloodgateStringProvider.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UIStrings/UIStrings */ \"./scripts/app/UIStrings/UIStrings.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/**\r\n * Implementation of IFloodgateStringProvider for Web SDK\r\n */\r\n\r\n\r\n\r\n/* tslint:disable:max-line-length */\r\nvar FloodgateStringProvider = /** @class */ (function () {\r\n    function FloodgateStringProvider() {\r\n    }\r\n    FloodgateStringProvider.prototype.loadStringResource = function (stringId) {\r\n        var uiStrings = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_1__[\"getUIStrings\"]();\r\n        switch (stringId) {\r\n            case (5 /* Nps11RatingValue0 */): return uiStrings.Floodgate.Nps.Rating.Points11Value0;\r\n            case (6 /* Nps11RatingValue1 */): return uiStrings.Floodgate.Nps.Rating.Points11Value1;\r\n            case (7 /* Nps11RatingValue2 */): return uiStrings.Floodgate.Nps.Rating.Points11Value2;\r\n            case (8 /* Nps11RatingValue3 */): return uiStrings.Floodgate.Nps.Rating.Points11Value3;\r\n            case (9 /* Nps11RatingValue4 */): return uiStrings.Floodgate.Nps.Rating.Points11Value4;\r\n            case (10 /* Nps11RatingValue5 */): return uiStrings.Floodgate.Nps.Rating.Points11Value5;\r\n            case (11 /* Nps11RatingValue6 */): return uiStrings.Floodgate.Nps.Rating.Points11Value6;\r\n            case (12 /* Nps11RatingValue7 */): return uiStrings.Floodgate.Nps.Rating.Points11Value7;\r\n            case (13 /* Nps11RatingValue8 */): return uiStrings.Floodgate.Nps.Rating.Points11Value8;\r\n            case (14 /* Nps11RatingValue9 */): return uiStrings.Floodgate.Nps.Rating.Points11Value9;\r\n            case (15 /* Nps11RatingValue10 */): return uiStrings.Floodgate.Nps.Rating.Points11Value10;\r\n            case (16 /* Nps5RatingValue1 */): return uiStrings.Floodgate.Nps.Rating.Points5Value1;\r\n            case (17 /* Nps5RatingValue2 */): return uiStrings.Floodgate.Nps.Rating.Points5Value2;\r\n            case (18 /* Nps5RatingValue3 */): return uiStrings.Floodgate.Nps.Rating.Points5Value3;\r\n            case (19 /* Nps5RatingValue4 */): return uiStrings.Floodgate.Nps.Rating.Points5Value4;\r\n            case (20 /* Nps5RatingValue5 */): return uiStrings.Floodgate.Nps.Rating.Points5Value5;\r\n            case (4 /* NpsRatingQuestion */): return uiStrings.Floodgate.Nps.Rating.Question;\r\n            case (21 /* NpsCommentQuestion */): return uiStrings.Floodgate.Nps.Comment.Question;\r\n            case (3 /* NpsPromptNotNowLabel */): return uiStrings.Floodgate.Nps.Prompt.No;\r\n            case (1 /* NpsPromptQuestion */): return uiStrings.Floodgate.Nps.Prompt.Question;\r\n            case (0 /* NpsPromptTitle */): return uiStrings.Floodgate.Nps.Prompt.Title;\r\n            case (2 /* NpsPromptYesLabel */): return uiStrings.Floodgate.Nps.Prompt.Yes;\r\n            default:\r\n                return \"\";\r\n        }\r\n    };\r\n    FloodgateStringProvider.prototype.getCustomString = function (str) {\r\n        return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getFloodgateInitOptions().uIStringGetter(str);\r\n    };\r\n    return FloodgateStringProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloodgateStringProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLnRzPzZiZDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztHQUVHO0FBRWlFO0FBQ2Q7QUFDWTtBQUVsRSxvQ0FBb0M7QUFFcEM7SUFBQTtJQW1DQSxDQUFDO0lBbENPLG9EQUFrQixHQUF6QixVQUEwQixRQUFpRDtRQUMxRSxJQUFJLFNBQVMsR0FBRyxpRUFBc0IsRUFBRSxDQUFDO1FBRXpDLFFBQVEsUUFBUSxFQUFFO1lBQ2pCLEtBQUssMkJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUN4SCxLQUFLLDJCQUEyRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO1lBQ3hILEtBQUssMkJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUN4SCxLQUFLLDRCQUEyRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO1lBQ3hILEtBQUssNEJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSyw0QkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUN4SCxLQUFLLDRCQUEyRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO1lBQ3hILEtBQUssNEJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSyw2QkFBNEQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQztZQUMxSCxLQUFLLDJCQUEwRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1lBQ3RILEtBQUssMkJBQTBELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7WUFDdEgsS0FBSywyQkFBMEQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztZQUN0SCxLQUFLLDJCQUEwRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1lBQ3RILEtBQUssMkJBQTBELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7WUFDdEgsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUNsSCxLQUFLLDZCQUE0RCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDO1lBQ3BILEtBQUssOEJBQThELENBQUMsQ0FBQyxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDOUcsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUNsSCxLQUFLLHdCQUF3RCxDQUFDLENBQUcsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQzdHLEtBQUssMkJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7WUFDN0c7Z0JBQ0MsT0FBTyxFQUFFLENBQUM7U0FDWDtJQUNGLENBQUM7SUFFTSxpREFBZSxHQUF0QixVQUF1QixHQUFXO1FBQ2pDLE9BQU8sZ0VBQWlCLEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBQ0YsOEJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdHJpbmdQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZm9yIFdlYiBTREtcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBBcGkgZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGltcGxlbWVudHMgQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlciB7XHJcblx0cHVibGljIGxvYWRTdHJpbmdSZXNvdXJjZShzdHJpbmdJZDogQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlKTogc3RyaW5nIHtcclxuXHRcdGxldCB1aVN0cmluZ3MgPSBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCk7XHJcblxyXG5cdFx0c3dpdGNoIChzdHJpbmdJZCkge1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTApOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUwO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUxO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTIpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUyO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTMpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUzO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTQpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU0O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTUpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU1O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTYpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU2O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTcpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU3O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTgpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU4O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTkpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU5O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEwKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5Qb2ludHMxMVZhbHVlMTA7XHJcblx0XHRcdGNhc2UgKEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWUxKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5Qb2ludHM1VmFsdWUxO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMik6XHRcdHJldHVybiB1aVN0cmluZ3MuRmxvb2RnYXRlLk5wcy5SYXRpbmcuUG9pbnRzNVZhbHVlMjtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczVSYXRpbmdWYWx1ZTMpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czVWYWx1ZTM7XHJcblx0XHRcdGNhc2UgKEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWU0KTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5Qb2ludHM1VmFsdWU0O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlNSk6XHRcdHJldHVybiB1aVN0cmluZ3MuRmxvb2RnYXRlLk5wcy5SYXRpbmcuUG9pbnRzNVZhbHVlNTtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1JhdGluZ1F1ZXN0aW9uKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5RdWVzdGlvbjtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc0NvbW1lbnRRdWVzdGlvbik6XHRcdHJldHVybiB1aVN0cmluZ3MuRmxvb2RnYXRlLk5wcy5Db21tZW50LlF1ZXN0aW9uO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0Tm90Tm93TGFiZWwpOlx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlByb21wdC5ObztcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFF1ZXN0aW9uKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlByb21wdC5RdWVzdGlvbjtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFRpdGxlKTpcdFx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUHJvbXB0LlRpdGxlO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0WWVzTGFiZWwpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUHJvbXB0LlllcztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDdXN0b21TdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKS51SVN0cmluZ0dldHRlcihzdHIpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateStringProvider.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts":
/*!***************************************************************!*\
  !*** ./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * Implementation of IFloodgateTelemetryLogger for Web SDK\r\n */\r\n\r\nvar IFloodgateTelemetryLogger = /** @class */ (function () {\r\n    function IFloodgateTelemetryLogger() {\r\n    }\r\n    /**\r\n     * Log that a survey's trigger was met.\r\n     * @param campaignId Id of the campaign the survey belongs to.\r\n     * @param surveyId Id of the survey.\r\n     * @param surveyType Type of the survey.\r\n     * @param surveyActivityInfo The survey's activities' information such as names, counts, isAggregate and if the list is ordered.\r\n     * @param additionalSurveyInfo additional survey info in a stringified json object:\r\n     * \t\t- surveyLauncherType: LauncherType of the survey.\r\n     * \t\t- channelType: The channel type of the survey's campaign.\r\n     * \t\t- surveyPercentageNumerator: Percentage numerator of the survey's Campaign.\r\n     * \t\t- surveyPercentageDenominator: Percentage denominator of the survey's Campaign.\r\n     * \t\t- surveyNominationPeriodNumber: The Nomination Period of the survey's Campaign in seconds, -1 if not applicable.\r\n     * \t\t- surveyCooldownPeriodNumber: The Cooldown Period of the survey's Campaign in seconds, -1 if not applicable.\r\n     * \t\t- allCandidateCampaignDefinitionIDs: The list of campaign definition IDs that have corresponding surveys which are candidates.\r\n     * \t\t- allCampaignDefinitionIDs: The list of all campaign definition IDs.\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_TriggerMet = function (campaignId, surveyId, surveyType, surveyActivityInfo, additionalSurveyInfo) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"EventIds\"].SURVEY_FLOODGATE_TRIGGERMET, 1 /* Critical */, {\r\n            CampaignId: campaignId,\r\n            SurveyId: surveyId,\r\n            SurveyType: surveyType,\r\n            SurveyActivityInfo: surveyActivityInfo,\r\n            AdditionalSurveyInfo: additionalSurveyInfo,\r\n        });\r\n    };\r\n    /**\r\n     * Log that a user was selected(nominated) for a survey if it's not sampled\r\n     * @param campaignId Id of the campaign the survey belongs to.\r\n     * @param surveyId Id of the survey.\r\n     * @param surveyType Type of the survey.\r\n     * @param additionalSurveyInfo additional survey info in a stringified json object:\r\n     * \t\t- surveyLauncherType LauncherType of the survey.\r\n     * \t\t- channelType The channel type of the survey's campaign.\r\n     * \t\t- surveyPercentageNumerator Percentage numerator of the survey's Campaign.\r\n     * \t\t- surveyPercentageDenominator Percentage denominator of the survey's Campaign.\r\n     * \t\t- surveyNominationPeriodNumber The Nomination Period of the survey's Campaign in seconds, -1 if not applicable.\r\n     * \t\t- surveyCooldownPeriodNumber The Cooldown Period of the survey's Campaign in seconds, -1 if not applicable.\r\n     * \t\t- allCandidateCampaignDefinitionIDs: The list of campaign definition IDs that have corresponding surveys which are candidates.\r\n     * \t\t- allCampaignDefinitionIDs: The list of all campaign definition IDs.\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_UserSelected = function (campaignId, surveyId, surveyType, additionalSurveyInfo) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"EventIds\"].SURVEY_FLOODGATE_USERSELECTED, 1 /* Critical */, {\r\n            CampaignId: campaignId,\r\n            SurveyId: surveyId,\r\n            SurveyType: surveyType,\r\n            AdditionalSurveyInfo: additionalSurveyInfo,\r\n        });\r\n    };\r\n    /**\r\n     * Log that campaign definitions failed to load.\r\n     * @param errorMessage error message\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_CampaignLoad_Failed = function (errorMessage) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"EventIds\"].SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED, 2 /* Error */, {\r\n            ErrorMessage: errorMessage,\r\n        });\r\n    };\r\n    /**\r\n     * Log an event with error message\r\n     * @param eventId event id\r\n     * @param errorMessage error message\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_Error = function (eventId, errorMessage) {\r\n        var event = { name: eventId };\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(event, 2 /* Error */, {\r\n            ErrorMessage: errorMessage,\r\n        });\r\n    };\r\n    /**\r\n     * Log an event with properties\r\n     * @param eventId event id\r\n     * @param properties telemetry event properties\r\n     * @param internalSampleRate sample rate for this event in decimal (example: 0.05 for 5%). (Does not override host set sampleRate)\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_Event = function (eventId, properties, internalSampleRate) {\r\n        var event = { name: eventId };\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(event, 1 /* Critical */, properties, internalSampleRate);\r\n    };\r\n    /**\r\n     * Log message locally\r\n     * @param message message\r\n     * @param data message data\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_LocalError = function (message) {\r\n        var data = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            data[_i - 1] = arguments[_i];\r\n        }\r\n        this.log_Local(2 /* Error */, message, data);\r\n    };\r\n    ;\r\n    IFloodgateTelemetryLogger.prototype.log_Local = function (logSeverity, message) {\r\n        var others = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            others[_i - 2] = arguments[_i];\r\n        }\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logLocal(logSeverity, others);\r\n    };\r\n    return IFloodgateTelemetryLogger;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (IFloodgateTelemetryLogger);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlci50cz9iNWMzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUcyQztBQUU5QztJQUFBO0lBMkdBLENBQUM7SUF6R0E7Ozs7Ozs7Ozs7Ozs7OztPQWVHO0lBQ0ksa0RBQWMsR0FBckIsVUFBc0IsVUFBa0IsRUFBRSxRQUFnQixFQUFFLFVBQTRCLEVBQUUsa0JBQTBCLEVBQ25ILG9CQUE0QjtRQUM1QiwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyx5REFBZ0IsQ0FBQywyQkFBMkIsb0JBRXhFO1lBQ0MsVUFBVSxFQUFFLFVBQVU7WUFDdEIsUUFBUSxFQUFFLFFBQVE7WUFDbEIsVUFBVSxFQUFFLFVBQVU7WUFDdEIsa0JBQWtCLEVBQUUsa0JBQWtCO1lBQ3RDLG9CQUFvQixFQUFHLG9CQUFvQjtTQUMzQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7Ozs7Ozs7Ozs7Ozs7O09BY0c7SUFDSSxvREFBZ0IsR0FBdkIsVUFBd0IsVUFBa0IsRUFBRSxRQUFnQixFQUFFLFVBQTRCLEVBQUUsb0JBQTRCO1FBRXZILDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLDZCQUE2QixvQkFFMUU7WUFDQyxVQUFVLEVBQUUsVUFBVTtZQUN0QixRQUFRLEVBQUUsUUFBUTtZQUNsQixVQUFVLEVBQUUsVUFBVTtZQUN0QixvQkFBb0IsRUFBRyxvQkFBb0I7U0FDM0MsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7T0FHRztJQUNJLDJEQUF1QixHQUE5QixVQUErQixZQUFvQjtRQUNsRCwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyx5REFBZ0IsQ0FBQyxvQ0FBb0MsaUJBRWpGO1lBQ0MsWUFBWSxFQUFFLFlBQVk7U0FDMUIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSw2Q0FBUyxHQUFoQixVQUFpQixPQUFlLEVBQUUsWUFBb0I7UUFDckQsSUFBTSxLQUFLLEdBQXFCLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ2xELDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssaUJBRWpDO1lBQ0MsWUFBWSxFQUFFLFlBQVk7U0FDMUIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksNkNBQVMsR0FBaEIsVUFBaUIsT0FBZSxFQUFFLFVBQW9DLEVBQUUsa0JBQTJCO1FBQ2xHLElBQU0sS0FBSyxHQUFxQixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQztRQUNsRCwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLG9CQUE2QixVQUFVLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUNoRyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGtEQUFjLEdBQXJCLFVBQXNCLE9BQWU7UUFBRSxjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLDZCQUFjOztRQUNwRCxJQUFJLENBQUMsU0FBUyxnQkFBeUIsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFBQSxDQUFDO0lBRU0sNkNBQVMsR0FBakIsVUFBa0IsV0FBNkIsRUFBRSxPQUFlO1FBQUUsZ0JBQWdCO2FBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtZQUFoQiwrQkFBZ0I7O1FBQ2pGLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBQ0YsZ0NBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW1wbGVtZW50YXRpb24gb2YgSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciBmb3IgV2ViIFNES1xyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIGltcGxlbWVudHMgQXBpLklGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIge1xyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgdGhhdCBhIHN1cnZleSdzIHRyaWdnZXIgd2FzIG1ldC5cclxuXHQgKiBAcGFyYW0gY2FtcGFpZ25JZCBJZCBvZiB0aGUgY2FtcGFpZ24gdGhlIHN1cnZleSBiZWxvbmdzIHRvLlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlJZCBJZCBvZiB0aGUgc3VydmV5LlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlUeXBlIFR5cGUgb2YgdGhlIHN1cnZleS5cclxuXHQgKiBAcGFyYW0gc3VydmV5QWN0aXZpdHlJbmZvIFRoZSBzdXJ2ZXkncyBhY3Rpdml0aWVzJyBpbmZvcm1hdGlvbiBzdWNoIGFzIG5hbWVzLCBjb3VudHMsIGlzQWdncmVnYXRlIGFuZCBpZiB0aGUgbGlzdCBpcyBvcmRlcmVkLlxyXG5cdCAqIEBwYXJhbSBhZGRpdGlvbmFsU3VydmV5SW5mbyBhZGRpdGlvbmFsIHN1cnZleSBpbmZvIGluIGEgc3RyaW5naWZpZWQganNvbiBvYmplY3Q6XHJcblx0ICogXHRcdC0gc3VydmV5TGF1bmNoZXJUeXBlOiBMYXVuY2hlclR5cGUgb2YgdGhlIHN1cnZleS5cclxuXHQgKiBcdFx0LSBjaGFubmVsVHlwZTogVGhlIGNoYW5uZWwgdHlwZSBvZiB0aGUgc3VydmV5J3MgY2FtcGFpZ24uXHJcblx0ICogXHRcdC0gc3VydmV5UGVyY2VudGFnZU51bWVyYXRvcjogUGVyY2VudGFnZSBudW1lcmF0b3Igb2YgdGhlIHN1cnZleSdzIENhbXBhaWduLlxyXG5cdCAqIFx0XHQtIHN1cnZleVBlcmNlbnRhZ2VEZW5vbWluYXRvcjogUGVyY2VudGFnZSBkZW5vbWluYXRvciBvZiB0aGUgc3VydmV5J3MgQ2FtcGFpZ24uXHJcblx0ICogXHRcdC0gc3VydmV5Tm9taW5hdGlvblBlcmlvZE51bWJlcjogVGhlIE5vbWluYXRpb24gUGVyaW9kIG9mIHRoZSBzdXJ2ZXkncyBDYW1wYWlnbiBpbiBzZWNvbmRzLCAtMSBpZiBub3QgYXBwbGljYWJsZS5cclxuXHQgKiBcdFx0LSBzdXJ2ZXlDb29sZG93blBlcmlvZE51bWJlcjogVGhlIENvb2xkb3duIFBlcmlvZCBvZiB0aGUgc3VydmV5J3MgQ2FtcGFpZ24gaW4gc2Vjb25kcywgLTEgaWYgbm90IGFwcGxpY2FibGUuXHJcblx0ICogXHRcdC0gYWxsQ2FuZGlkYXRlQ2FtcGFpZ25EZWZpbml0aW9uSURzOiBUaGUgbGlzdCBvZiBjYW1wYWlnbiBkZWZpbml0aW9uIElEcyB0aGF0IGhhdmUgY29ycmVzcG9uZGluZyBzdXJ2ZXlzIHdoaWNoIGFyZSBjYW5kaWRhdGVzLlxyXG5cdCAqIFx0XHQtIGFsbENhbXBhaWduRGVmaW5pdGlvbklEczogVGhlIGxpc3Qgb2YgYWxsIGNhbXBhaWduIGRlZmluaXRpb24gSURzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBsb2dfVHJpZ2dlck1ldChjYW1wYWlnbklkOiBzdHJpbmcsIHN1cnZleUlkOiBzdHJpbmcsIHN1cnZleVR5cGU6IEFwaS5JU3VydmV5LlR5cGUsIHN1cnZleUFjdGl2aXR5SW5mbzogc3RyaW5nLFxyXG5cdFx0YWRkaXRpb25hbFN1cnZleUluZm86IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlNVUlZFWV9GTE9PREdBVEVfVFJJR0dFUk1FVCxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdENhbXBhaWduSWQ6IGNhbXBhaWduSWQsXHJcblx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleUlkLFxyXG5cdFx0XHRcdFN1cnZleVR5cGU6IHN1cnZleVR5cGUsXHJcblx0XHRcdFx0U3VydmV5QWN0aXZpdHlJbmZvOiBzdXJ2ZXlBY3Rpdml0eUluZm8sXHJcblx0XHRcdFx0QWRkaXRpb25hbFN1cnZleUluZm8gOiBhZGRpdGlvbmFsU3VydmV5SW5mbyxcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgdGhhdCBhIHVzZXIgd2FzIHNlbGVjdGVkKG5vbWluYXRlZCkgZm9yIGEgc3VydmV5IGlmIGl0J3Mgbm90IHNhbXBsZWRcclxuXHQgKiBAcGFyYW0gY2FtcGFpZ25JZCBJZCBvZiB0aGUgY2FtcGFpZ24gdGhlIHN1cnZleSBiZWxvbmdzIHRvLlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlJZCBJZCBvZiB0aGUgc3VydmV5LlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlUeXBlIFR5cGUgb2YgdGhlIHN1cnZleS5cclxuXHQgKiBAcGFyYW0gYWRkaXRpb25hbFN1cnZleUluZm8gYWRkaXRpb25hbCBzdXJ2ZXkgaW5mbyBpbiBhIHN0cmluZ2lmaWVkIGpzb24gb2JqZWN0OlxyXG5cdCAqIFx0XHQtIHN1cnZleUxhdW5jaGVyVHlwZSBMYXVuY2hlclR5cGUgb2YgdGhlIHN1cnZleS5cclxuXHQgKiBcdFx0LSBjaGFubmVsVHlwZSBUaGUgY2hhbm5lbCB0eXBlIG9mIHRoZSBzdXJ2ZXkncyBjYW1wYWlnbi5cclxuXHQgKiBcdFx0LSBzdXJ2ZXlQZXJjZW50YWdlTnVtZXJhdG9yIFBlcmNlbnRhZ2UgbnVtZXJhdG9yIG9mIHRoZSBzdXJ2ZXkncyBDYW1wYWlnbi5cclxuXHQgKiBcdFx0LSBzdXJ2ZXlQZXJjZW50YWdlRGVub21pbmF0b3IgUGVyY2VudGFnZSBkZW5vbWluYXRvciBvZiB0aGUgc3VydmV5J3MgQ2FtcGFpZ24uXHJcblx0ICogXHRcdC0gc3VydmV5Tm9taW5hdGlvblBlcmlvZE51bWJlciBUaGUgTm9taW5hdGlvbiBQZXJpb2Qgb2YgdGhlIHN1cnZleSdzIENhbXBhaWduIGluIHNlY29uZHMsIC0xIGlmIG5vdCBhcHBsaWNhYmxlLlxyXG5cdCAqIFx0XHQtIHN1cnZleUNvb2xkb3duUGVyaW9kTnVtYmVyIFRoZSBDb29sZG93biBQZXJpb2Qgb2YgdGhlIHN1cnZleSdzIENhbXBhaWduIGluIHNlY29uZHMsIC0xIGlmIG5vdCBhcHBsaWNhYmxlLlxyXG5cdCAqIFx0XHQtIGFsbENhbmRpZGF0ZUNhbXBhaWduRGVmaW5pdGlvbklEczogVGhlIGxpc3Qgb2YgY2FtcGFpZ24gZGVmaW5pdGlvbiBJRHMgdGhhdCBoYXZlIGNvcnJlc3BvbmRpbmcgc3VydmV5cyB3aGljaCBhcmUgY2FuZGlkYXRlcy5cclxuXHQgKiBcdFx0LSBhbGxDYW1wYWlnbkRlZmluaXRpb25JRHM6IFRoZSBsaXN0IG9mIGFsbCBjYW1wYWlnbiBkZWZpbml0aW9uIElEcy5cclxuXHQgKi9cclxuXHRwdWJsaWMgbG9nX1VzZXJTZWxlY3RlZChjYW1wYWlnbklkOiBzdHJpbmcsIHN1cnZleUlkOiBzdHJpbmcsIHN1cnZleVR5cGU6IEFwaS5JU3VydmV5LlR5cGUsIGFkZGl0aW9uYWxTdXJ2ZXlJbmZvOiBzdHJpbmcpOiB2b2lkIHtcclxuXHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX0ZMT09ER0FURV9VU0VSU0VMRUNURUQsXHJcblx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRDYW1wYWlnbklkOiBjYW1wYWlnbklkLFxyXG5cdFx0XHRcdFN1cnZleUlkOiBzdXJ2ZXlJZCxcclxuXHRcdFx0XHRTdXJ2ZXlUeXBlOiBzdXJ2ZXlUeXBlLFxyXG5cdFx0XHRcdEFkZGl0aW9uYWxTdXJ2ZXlJbmZvIDogYWRkaXRpb25hbFN1cnZleUluZm8sXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9nIHRoYXQgY2FtcGFpZ24gZGVmaW5pdGlvbnMgZmFpbGVkIHRvIGxvYWQuXHJcblx0ICogQHBhcmFtIGVycm9yTWVzc2FnZSBlcnJvciBtZXNzYWdlXHJcblx0ICovXHJcblx0cHVibGljIGxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX0ZMT09ER0FURV9DQU1QQUlHTkxPQURfRkFJTEVELFxyXG5cdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0RXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UsXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9nIGFuIGV2ZW50IHdpdGggZXJyb3IgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSBldmVudElkIGV2ZW50IGlkXHJcblx0ICogQHBhcmFtIGVycm9yTWVzc2FnZSBlcnJvciBtZXNzYWdlXHJcblx0ICovXHJcblx0cHVibGljIGxvZ19FcnJvcihldmVudElkOiBzdHJpbmcsIGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRjb25zdCBldmVudDogTG9nZ2luZy5JRXZlbnRJZCA9IHsgbmFtZTogZXZlbnRJZCB9O1xyXG5cdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChldmVudCxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvZyBhbiBldmVudCB3aXRoIHByb3BlcnRpZXNcclxuXHQgKiBAcGFyYW0gZXZlbnRJZCBldmVudCBpZFxyXG5cdCAqIEBwYXJhbSBwcm9wZXJ0aWVzIHRlbGVtZXRyeSBldmVudCBwcm9wZXJ0aWVzXHJcblx0ICogQHBhcmFtIGludGVybmFsU2FtcGxlUmF0ZSBzYW1wbGUgcmF0ZSBmb3IgdGhpcyBldmVudCBpbiBkZWNpbWFsIChleGFtcGxlOiAwLjA1IGZvciA1JSkuIChEb2VzIG5vdCBvdmVycmlkZSBob3N0IHNldCBzYW1wbGVSYXRlKVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBsb2dfRXZlbnQoZXZlbnRJZDogc3RyaW5nLCBwcm9wZXJ0aWVzOiBBcGkuSVRlbGVtZXRyeVByb3BlcnRpZXMsIGludGVybmFsU2FtcGxlUmF0ZT86IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgZXZlbnQ6IExvZ2dpbmcuSUV2ZW50SWQgPSB7IG5hbWU6IGV2ZW50SWQgfTtcclxuXHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoZXZlbnQsIExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsIHByb3BlcnRpZXMsIGludGVybmFsU2FtcGxlUmF0ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgbWVzc2FnZSBsb2NhbGx5XHJcblx0ICogQHBhcmFtIG1lc3NhZ2UgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSBkYXRhIG1lc3NhZ2UgZGF0YVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBsb2dfTG9jYWxFcnJvcihtZXNzYWdlOiBzdHJpbmcsIC4uLmRhdGE6IGFueVtdKTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZ19Mb2NhbChMb2dnaW5nLkxvZ0xldmVsLkVycm9yLCBtZXNzYWdlLCBkYXRhKTtcclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIGxvZ19Mb2NhbChsb2dTZXZlcml0eTogTG9nZ2luZy5Mb2dMZXZlbCwgbWVzc2FnZTogc3RyaW5nLCAuLi5vdGhlcnM6IGFueVtdKTogdm9pZCB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0xvY2FsKGxvZ1NldmVyaXR5LCBvdGhlcnMpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts":
/*!****************************************************************!*\
  !*** ./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts ***!
  \****************************************************************/
/*! exports provided: default, RudeSurveyLauncher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RudeSurveyLauncher\", function() { return RudeSurveyLauncher; });\n/* harmony import */ var _FloodgateCore_UISurvey_UISurvey__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../FloodgateCore/UISurvey/UISurvey */ \"./scripts/app/FloodgateCore/UISurvey/UISurvey.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Window/Window */ \"./scripts/app/Window/Window.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__);\n/**\r\n * Rude survey launcher factory for Web SDK\r\n */\r\n\r\n\r\n\r\nvar isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__[\"Utils\"].isNOU;\r\nvar RudeSurveyLauncherFactory = /** @class */ (function () {\r\n    function RudeSurveyLauncherFactory() {\r\n    }\r\n    RudeSurveyLauncherFactory.prototype.makeSurveyLauncher = function (survey) {\r\n        if (this.AcceptsSurvey(survey)) {\r\n            return new RudeSurveyLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    RudeSurveyLauncherFactory.prototype.AcceptsSurvey = function (survey) {\r\n        // This factory should accept any type that is not of type GenericMessagingSurface\r\n        // This will ensure that a rude survey launcher is returned for any survey type old or new\r\n        // as a launcher is needed to invoke survey activated callback\r\n        if (!isNOU(survey) && survey.getType() !== _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__[\"Api\"].ISurvey.Type.GenericMessagingSurface) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    RudeSurveyLauncherFactory.LAUNCHER_TYPE = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__[\"Api\"].ISurvey.LAUNCHER_TYPE_DEFAULT;\r\n    return RudeSurveyLauncherFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (RudeSurveyLauncherFactory);\r\nvar RudeSurveyLauncher = /** @class */ (function () {\r\n    function RudeSurveyLauncher(survey) {\r\n        this.survey = survey;\r\n    }\r\n    RudeSurveyLauncher.prototype.launch = function () {\r\n        _Window_Window__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().OfficeBrowserFeedback.floodgate.showSurvey(new _FloodgateCore_UISurvey_UISurvey__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.survey));\r\n    };\r\n    return RudeSurveyLauncher;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1J1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkudHM/NDQyMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUV5RDtBQUNmO0FBQ1k7QUFFakQsU0FBSyxHQUFLLGlFQUFLLE1BQVYsQ0FBVztBQUV4QjtJQUFBO0lBcUJBLENBQUM7SUFsQk8sc0RBQWtCLEdBQXpCLFVBQTBCLE1BQW1CO1FBQzVDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUMvQixPQUFPLElBQUksa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSxpREFBYSxHQUFwQixVQUFxQixNQUFtQjtRQUN2QyxrRkFBa0Y7UUFDbEYsMEZBQTBGO1FBQzFGLDhEQUE4RDtRQUM5RCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFLLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSywrREFBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUU7WUFDckYsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2QsQ0FBQztJQW5Cc0IsdUNBQWEsR0FBVywrREFBRyxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztJQW9CbEYsZ0NBQUM7Q0FBQTtBQXJCb0Isd0ZBQXlCO0FBdUI5QztJQUdDLDRCQUFZLE1BQW1CO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTSxtQ0FBTSxHQUFiO1FBQ0Msa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSx3RUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3BGLENBQUM7SUFDRix5QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1J1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUnVkZSBzdXJ2ZXkgbGF1bmNoZXIgZmFjdG9yeSBmb3IgV2ViIFNES1xyXG4gKi9cclxuXHJcbmltcG9ydCBVSVN1cnZleSBmcm9tIFwiLi8uLi9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L1VJU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi8uLi9XaW5kb3cvV2luZG93XCI7XHJcbmltcG9ydCB7IEFwaSwgVXRpbHMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkgaW1wbGVtZW50cyBBcGkuSVN1cnZleUxhdW5jaGVyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBMQVVOQ0hFUl9UWVBFOiBzdHJpbmcgPSBBcGkuSVN1cnZleS5MQVVOQ0hFUl9UWVBFX0RFRkFVTFQ7XHJcblxyXG5cdHB1YmxpYyBtYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5OiBBcGkuSVN1cnZleSk6IEFwaS5JU3VydmV5TGF1bmNoZXIge1xyXG5cdFx0aWYgKHRoaXMuQWNjZXB0c1N1cnZleShzdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBuZXcgUnVkZVN1cnZleUxhdW5jaGVyKHN1cnZleSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWNjZXB0c1N1cnZleShzdXJ2ZXk6IEFwaS5JU3VydmV5KTogYm9vbGVhbiB7XHJcblx0XHQvLyBUaGlzIGZhY3Rvcnkgc2hvdWxkIGFjY2VwdCBhbnkgdHlwZSB0aGF0IGlzIG5vdCBvZiB0eXBlIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlXHJcblx0XHQvLyBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYSBydWRlIHN1cnZleSBsYXVuY2hlciBpcyByZXR1cm5lZCBmb3IgYW55IHN1cnZleSB0eXBlIG9sZCBvciBuZXdcclxuXHRcdC8vIGFzIGEgbGF1bmNoZXIgaXMgbmVlZGVkIHRvIGludm9rZSBzdXJ2ZXkgYWN0aXZhdGVkIGNhbGxiYWNrXHJcblx0XHRpZiAoIWlzTk9VKHN1cnZleSkgICYmIHN1cnZleS5nZXRUeXBlKCkgIT09IEFwaS5JU3VydmV5LlR5cGUuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1ZGVTdXJ2ZXlMYXVuY2hlciBpbXBsZW1lbnRzIEFwaS5JU3VydmV5TGF1bmNoZXIge1xyXG5cdHByaXZhdGUgc3VydmV5OiBBcGkuSVN1cnZleTtcclxuXHJcblx0Y29uc3RydWN0b3Ioc3VydmV5OiBBcGkuSVN1cnZleSkge1xyXG5cdFx0dGhpcy5zdXJ2ZXkgPSBzdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbGF1bmNoKCk6IHZvaWQge1xyXG5cdFx0V2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5mbG9vZGdhdGUuc2hvd1N1cnZleShuZXcgVUlTdXJ2ZXkodGhpcy5zdXJ2ZXkpKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/TransporterFactory.ts":
/*!*********************************************************!*\
  !*** ./scripts/app/FloodgateCore/TransporterFactory.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Transport/Transport */ \"./scripts/app/Transport/Transport.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/**\r\n * Implementation of Transporter Factory Interface for calling submit directly to petrol\r\n */\r\n\r\n\r\nvar TransporterFactory = /** @class */ (function () {\r\n    function TransporterFactory() {\r\n    }\r\n    TransporterFactory.prototype.makeTransporter = function (surveyType) {\r\n        return new _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__[\"Transporter\"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().environment, surveyType, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().appId, \"Survey\", _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().applicationGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().telemetryGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions().webGroup);\r\n    };\r\n    return TransporterFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TransporterFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1RyYW5zcG9ydGVyRmFjdG9yeS50cz80NGVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOztHQUVHO0FBR29EO0FBQ1c7QUFFbEU7SUFBQTtJQVlBLENBQUM7SUFYTyw0Q0FBZSxHQUF0QixVQUF1QixVQUFrQjtRQUN4QyxPQUFPLElBQUksZ0VBQVcsQ0FDckIsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFdBQVcsRUFDdEQsVUFBVSxFQUNWLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxLQUFLLEVBQ2hELFFBQVEsRUFDUixnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsZ0JBQWdCLEVBQzNELGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxjQUFjLEVBQ3pELGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxRQUFRLENBQ25ELENBQUM7SUFDSCxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9UcmFuc3BvcnRlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW1wbGVtZW50YXRpb24gb2YgVHJhbnNwb3J0ZXIgRmFjdG9yeSBJbnRlcmZhY2UgZm9yIGNhbGxpbmcgc3VibWl0IGRpcmVjdGx5IHRvIHBldHJvbFxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgVHJhbnNwb3J0ZXIgfSBmcm9tIFwiLi8uLi9UcmFuc3BvcnQvVHJhbnNwb3J0XCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc3BvcnRlckZhY3RvcnkgaW1wbGVtZW50cyBBcGkuSVRyYW5zcG9ydGVyRmFjdG9yeSB7XHJcblx0cHVibGljIG1ha2VUcmFuc3BvcnRlcihzdXJ2ZXlUeXBlOiBzdHJpbmcpOiBBcGkuSVRyYW5zcG9ydGVyIHtcclxuXHRcdHJldHVybiBuZXcgVHJhbnNwb3J0ZXIoXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5lbnZpcm9ubWVudCxcclxuXHRcdFx0c3VydmV5VHlwZSxcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFwcElkLFxyXG5cdFx0XHRcIlN1cnZleVwiLFxyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYXBwbGljYXRpb25Hcm91cCxcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnRlbGVtZXRyeUdyb3VwLFxyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkud2ViR3JvdXAsXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/TransporterFactory.ts\n");

/***/ }),

/***/ "./scripts/app/FloodgateCore/UISurvey/UISurvey.ts":
/*!********************************************************!*\
  !*** ./scripts/app/FloodgateCore/UISurvey/UISurvey.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Constants */ \"./scripts/app/Constants.ts\");\n/**\r\n * An implementation of IUISurvey based on floodgate.core INpsSurvey\r\n */\r\n\r\n\r\nvar UISurvey = /** @class */ (function () {\r\n    function UISurvey(survey) {\r\n        this.showPrompt = true;\r\n        this.showEmailRequest = false;\r\n        if (!survey) {\r\n            throw Error(\"survey must not be null\");\r\n        }\r\n        else {\r\n            this.survey = survey;\r\n        }\r\n        if (survey.getType() === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__[\"ISurvey\"].Type.Intercept) {\r\n            this.isIntercept = true;\r\n            var interceptComponent = survey.getComponent(\"Intercept\" /* Intercept */);\r\n            if (interceptComponent) {\r\n                this.intercept = interceptComponent;\r\n            }\r\n            else {\r\n                throw Error(\"intercept component must not be null\");\r\n            }\r\n        }\r\n        else {\r\n            this.isIntercept = false;\r\n            var promptComponent = survey.getComponent(\"Prompt\" /* Prompt */);\r\n            var commentComponent = survey.getComponent(\"Comment\" /* Comment */);\r\n            var ratingComponent = survey.getComponent(\"Rating\" /* Rating */);\r\n            var cvSurveyComponent = survey.getComponent(\"CVSurvey\" /* CVSurvey */);\r\n            if (promptComponent) {\r\n                this.prompt = promptComponent;\r\n            }\r\n            else {\r\n                throw Error(\"prompt component must not be null\");\r\n            }\r\n            // Check for additonalDataRequested options\r\n            this.showEmailRequest = survey.getSurveyInfo().isAdditionalDataRequested(0 /* EmailAddress */);\r\n            if (commentComponent) {\r\n                this.comment = commentComponent;\r\n            }\r\n            else {\r\n                throw Error(\"comment component must not be null\");\r\n            }\r\n            if (ratingComponent) {\r\n                this.rating = ratingComponent;\r\n            }\r\n            else {\r\n                throw Error(\"rating component must not be null\");\r\n            }\r\n            if (cvSurveyComponent) {\r\n                this.cvSurvey = cvSurveyComponent;\r\n                if (this.getLauncherType() === _Constants__WEBPACK_IMPORTED_MODULE_1__[\"customerVoiceLauncherType\"] && !this.getCVSurveyFormId()) {\r\n                    throw Error(\"CvSurveyId should not be null\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    UISurvey.prototype.getLauncherType = function () {\r\n        return this.isIntercept ? undefined : this.survey.getLauncherType();\r\n    };\r\n    UISurvey.prototype.getCVSurveyFormId = function () {\r\n        return this.isIntercept ? undefined : this.cvSurvey.getFormId();\r\n    };\r\n    UISurvey.prototype.getPreGeneratedClientFeedbackId = function () {\r\n        return this.survey.getPreGeneratedClientFeedbackId();\r\n    };\r\n    UISurvey.prototype.getPromptQuestion = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getQuestion();\r\n    };\r\n    UISurvey.prototype.getTitle = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getTitle();\r\n    };\r\n    UISurvey.prototype.getPromptYesButtonText = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getYesButtonText();\r\n    };\r\n    UISurvey.prototype.getPromptNoButtonText = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getNoButtonText();\r\n    };\r\n    UISurvey.prototype.getRatingValuesAscending = function () {\r\n        return this.isIntercept ? undefined : this.rating.getRatingValuesAscending();\r\n    };\r\n    UISurvey.prototype.getRatingQuestion = function () {\r\n        return this.isIntercept ? undefined : this.rating.getQuestion();\r\n    };\r\n    UISurvey.prototype.getCommentQuestion = function () {\r\n        return this.isIntercept ? undefined : this.comment.getQuestion();\r\n    };\r\n    UISurvey.prototype.getInterceptTitle = function () {\r\n        return this.isIntercept ? this.intercept.getTitle() : undefined;\r\n    };\r\n    UISurvey.prototype.getInterceptQuestion = function () {\r\n        return this.isIntercept ? this.intercept.getQuestion() : undefined;\r\n    };\r\n    UISurvey.prototype.getInterceptUrl = function () {\r\n        return this.isIntercept ? this.intercept.getUrl() : undefined;\r\n    };\r\n    UISurvey.prototype.setValues = function (selectedIndex, comment) {\r\n        if (!this.isIntercept) {\r\n            this.rating.setSelectedRatingIndex(selectedIndex);\r\n            this.comment.setSubmittedText(comment);\r\n        }\r\n    };\r\n    UISurvey.prototype.getJsonElements = function () {\r\n        return this.survey.getJsonElements();\r\n    };\r\n    UISurvey.prototype.getSurveyType = function () {\r\n        return this.survey.getType();\r\n    };\r\n    UISurvey.prototype.getCampaignId = function () {\r\n        return this.survey.getSurveyInfo().getBackEndId();\r\n    };\r\n    UISurvey.prototype.getId = function () {\r\n        return this.survey.getSurveyInfo().getId();\r\n    };\r\n    UISurvey.prototype.getGoverenedChannelType = function () {\r\n        return this.survey.getSurveyInfo().getGovernedChannelType();\r\n    };\r\n    return UISurvey;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (UISurvey);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L1VJU3VydmV5LnRzP2EwMDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUdpRTtBQUVSO0FBRTVEO0lBY0Msa0JBQVksTUFBbUI7UUFieEIsZUFBVSxHQUFZLElBQUksQ0FBQztRQUUzQixxQkFBZ0IsR0FBWSxLQUFLLENBQUM7UUFZeEMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNaLE1BQU0sS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7U0FDdkM7YUFBTTtZQUNOLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQ3JCO1FBRUQsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssb0ZBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3BELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBRXhCLElBQUksa0JBQWtCLEdBQXlCLE1BQU0sQ0FBQyxZQUFZLDZCQUFxQyxDQUFDO1lBRXhHLElBQUksa0JBQWtCLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLEdBQUksa0JBQThDLENBQUM7YUFDakU7aUJBQU07Z0JBQ04sTUFBTSxLQUFLLENBQUMsc0NBQXNDLENBQUMsQ0FBQzthQUNwRDtTQUVEO2FBQU07WUFDTixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztZQUV6QixJQUFJLGVBQWUsR0FBeUIsTUFBTSxDQUFDLFlBQVksdUJBQWtDLENBQUM7WUFDbEcsSUFBSSxnQkFBZ0IsR0FBeUIsTUFBTSxDQUFDLFlBQVkseUJBQW1DLENBQUM7WUFDcEcsSUFBSSxlQUFlLEdBQXlCLE1BQU0sQ0FBQyxZQUFZLHVCQUFrQyxDQUFDO1lBQ2xHLElBQUksaUJBQWlCLEdBQXlCLE1BQU0sQ0FBQyxZQUFZLDJCQUFvQyxDQUFDO1lBRXRHLElBQUksZUFBZSxFQUFFO2dCQUNwQixJQUFJLENB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QTlCO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFDLHNCQUFzQixFQUFFLENBQUM7SUFDN0QsQ0FBQztJQUNGLGVBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9VSVN1cnZleS9VSVN1cnZleS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBJVUlTdXJ2ZXkgYmFzZWQgb24gZmxvb2RnYXRlLmNvcmUgSU5wc1N1cnZleVxyXG4gKi9cclxuXHJcbmltcG9ydCBJVUlTdXJ2ZXkgZnJvbSBcIi4vSVVJU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCB7IGN1c3RvbWVyVm9pY2VMYXVuY2hlclR5cGUgfSBmcm9tIFwiLi4vLi4vQ29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVN1cnZleSBpbXBsZW1lbnRzIElVSVN1cnZleSB7XHJcblx0cHVibGljIHNob3dQcm9tcHQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuXHRwdWJsaWMgc2hvd0VtYWlsUmVxdWVzdDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRwcml2YXRlIGlzSW50ZXJjZXB0OiBib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIHN1cnZleTogQXBpLklTdXJ2ZXk7XHJcblx0cHJpdmF0ZSBwcm9tcHQ6IEFwaS5JUHJvbXB0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgY29tbWVudDogQXBpLklDb21tZW50Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcmF0aW5nOiBBcGkuSVJhdGluZ0NvbXBvbmVudDtcclxuXHRwcml2YXRlIGludGVyY2VwdDogQXBpLklJbnRlcmNlcHRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSBjdlN1cnZleTogQXBpLklDVlN1cnZleUNvbXBvbmVudDtcclxuXHJcblx0Y29uc3RydWN0b3Ioc3VydmV5OiBBcGkuSVN1cnZleSkge1xyXG5cdFx0aWYgKCFzdXJ2ZXkpIHtcclxuXHRcdFx0dGhyb3cgRXJyb3IoXCJzdXJ2ZXkgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuc3VydmV5ID0gc3VydmV5O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzdXJ2ZXkuZ2V0VHlwZSgpID09PSBBcGkuSVN1cnZleS5UeXBlLkludGVyY2VwdCkge1xyXG5cdFx0XHR0aGlzLmlzSW50ZXJjZXB0ID0gdHJ1ZTtcclxuXHJcblx0XHRcdGxldCBpbnRlcmNlcHRDb21wb25lbnQ6IEFwaS5JU3VydmV5Q29tcG9uZW50ID0gc3VydmV5LmdldENvbXBvbmVudChBcGkuSVN1cnZleUNvbXBvbmVudC5UeXBlLkludGVyY2VwdCk7XHJcblxyXG5cdFx0XHRpZiAoaW50ZXJjZXB0Q29tcG9uZW50KSB7XHJcblx0XHRcdFx0dGhpcy5pbnRlcmNlcHQgPSAoaW50ZXJjZXB0Q29tcG9uZW50IGFzIEFwaS5JSW50ZXJjZXB0Q29tcG9uZW50KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aHJvdyBFcnJvcihcImludGVyY2VwdCBjb21wb25lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuaXNJbnRlcmNlcHQgPSBmYWxzZTtcclxuXHJcblx0XHRcdGxldCBwcm9tcHRDb21wb25lbnQ6IEFwaS5JU3VydmV5Q29tcG9uZW50ID0gc3VydmV5LmdldENvbXBvbmVudChBcGkuSVN1cnZleUNvbXBvbmVudC5UeXBlLlByb21wdCk7XHJcblx0XHRcdGxldCBjb21tZW50Q29tcG9uZW50OiBBcGkuSVN1cnZleUNvbXBvbmVudCA9IHN1cnZleS5nZXRDb21wb25lbnQoQXBpLklTdXJ2ZXlDb21wb25lbnQuVHlwZS5Db21tZW50KTtcclxuXHRcdFx0bGV0IHJhdGluZ0NvbXBvbmVudDogQXBpLklTdXJ2ZXlDb21wb25lbnQgPSBzdXJ2ZXkuZ2V0Q29tcG9uZW50KEFwaS5JU3VydmV5Q29tcG9uZW50LlR5cGUuUmF0aW5nKTtcclxuXHRcdFx0bGV0IGN2U3VydmV5Q29tcG9uZW50OiBBcGkuSVN1cnZleUNvbXBvbmVudCA9IHN1cnZleS5nZXRDb21wb25lbnQoQXBpLklTdXJ2ZXlDb21wb25lbnQuVHlwZS5DVlN1cnZleSk7XHJcblxyXG5cdFx0XHRpZiAocHJvbXB0Q29tcG9uZW50KSB7XHJcblx0XHRcdFx0dGhpcy5wcm9tcHQgPSAocHJvbXB0Q29tcG9uZW50IGFzIEFwaS5JUHJvbXB0Q29tcG9uZW50KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aHJvdyBFcnJvcihcInByb21wdCBjb21wb25lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGFkZGl0b25hbERhdGFSZXF1ZXN0ZWQgb3B0aW9uc1xyXG5cdFx0XHR0aGlzLnNob3dFbWFpbFJlcXVlc3QgPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmlzQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQoXHJcblx0XHRcdFx0QXBpLklTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZS5FbWFpbEFkZHJlc3MpO1xyXG5cclxuXHRcdFx0aWYgKGNvbW1lbnRDb21wb25lbnQpIHtcclxuXHRcdFx0XHR0aGlzLmNvbW1lbnQgPSAoY29tbWVudENvbXBvbmVudCBhcyBBcGkuSUNvbW1lbnRDb21wb25lbnQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRocm93IEVycm9yKFwiY29tbWVudCBjb21wb25lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHJhdGluZ0NvbXBvbmVudCkge1xyXG5cdFx0XHRcdHRoaXMucmF0aW5nID0gKHJhdGluZ0NvbXBvbmVudCBhcyBBcGkuSVJhdGluZ0NvbXBvbmVudCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgRXJyb3IoXCJyYXRpbmcgY29tcG9uZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjdlN1cnZleUNvbXBvbmVudCkge1xyXG5cdFx0XHRcdHRoaXMuY3ZTdXJ2ZXkgPSAoY3ZTdXJ2ZXlDb21wb25lbnQgYXMgQXBpLklDVlN1cnZleUNvbXBvbmVudCk7XHJcblx0XHRcdFx0aWYgKHRoaXMuZ2V0TGF1bmNoZXJUeXBlKCkgPT09IGN1c3RvbWVyVm9pY2VMYXVuY2hlclR5cGUgJiYgIXRoaXMuZ2V0Q1ZTdXJ2ZXlGb3JtSWQoKSkge1xyXG5cdFx0XHRcdFx0dGhyb3cgRXJyb3IoXCJDdlN1cnZleUlkIHNob3VsZCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cHVibGljIGdldExhdW5jaGVyVHlwZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnN1cnZleS5nZXRMYXVuY2hlclR5cGUoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDVlN1cnZleUZvcm1JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLmN2U3VydmV5LmdldEZvcm1JZCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByZUdlbmVyYXRlZENsaWVudEZlZWRiYWNrSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5nZXRQcmVHZW5lcmF0ZWRDbGllbnRGZWVkYmFja0lkKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJvbXB0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlzSW50ZXJjZXB0ID8gdW5kZWZpbmVkIDogdGhpcy5wcm9tcHQuZ2V0UXVlc3Rpb24oKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUaXRsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnByb21wdC5nZXRUaXRsZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByb21wdFllc0J1dHRvblRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlzSW50ZXJjZXB0ID8gdW5kZWZpbmVkIDogdGhpcy5wcm9tcHQuZ2V0WWVzQnV0dG9uVGV4dCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByb21wdE5vQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnByb21wdC5nZXROb0J1dHRvblRleHQoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKTogc3RyaW5nW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnJhdGluZy5nZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRSYXRpbmdRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnJhdGluZy5nZXRRdWVzdGlvbigpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbW1lbnRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLmNvbW1lbnQuZ2V0UXVlc3Rpb24oKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRUaXRsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB0aGlzLmludGVyY2VwdC5nZXRUaXRsZSgpIDogdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEludGVyY2VwdFF1ZXN0aW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHRoaXMuaW50ZXJjZXB0LmdldFF1ZXN0aW9uKCkgOiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SW50ZXJjZXB0VXJsKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHRoaXMuaW50ZXJjZXB0LmdldFVybCgpIDogdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldFZhbHVlcyhzZWxlY3RlZEluZGV4OiBudW1iZXIsIGNvbW1lbnQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0aWYgKCF0aGlzLmlzSW50ZXJjZXB0KSB7XHJcblx0XHRcdHRoaXMucmF0aW5nLnNldFNlbGVjdGVkUmF0aW5nSW5kZXgoc2VsZWN0ZWRJbmRleCk7XHJcblx0XHRcdHRoaXMuY29tbWVudC5zZXRTdWJtaXR0ZWRUZXh0KGNvbW1lbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LmdldEpzb25FbGVtZW50cygpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFN1cnZleVR5cGUoKTogQXBpLklTdXJ2ZXkuVHlwZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXkuZ2V0VHlwZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhbXBhaWduSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0QmFja0VuZElkKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRHb3ZlcmVuZWRDaGFubmVsVHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/UISurvey/UISurvey.ts\n");

/***/ }),

/***/ "./scripts/app/GovernanceService/GovernanceServiceClient.ts":
/*!******************************************************************!*\
  !*** ./scripts/app/GovernanceService/GovernanceServiceClient.ts ***!
  \******************************************************************/
/*! exports provided: GovernanceServiceClient, get */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GovernanceServiceClient\", function() { return GovernanceServiceClient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _DynamicContent_DynamicContentTransport__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DynamicContent/DynamicContentTransport */ \"./scripts/app/DynamicContent/DynamicContentTransport.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Utils */ \"../FloodgateCore/dist/src/Utils.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IGovernanceServiceClient */ \"../FloodgateCore/dist/src/Api/IGovernanceServiceClient.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _Personalizer_PersonalizerClient__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Personalizer/PersonalizerClient */ \"./scripts/app/Personalizer/PersonalizerClient.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar govServiceInt = \"https://onessppe.microsoft.com/api/v1.0/UserSurvey\";\r\nvar govServiceProd = \"https://oness.microsoft.com/api/v1.0/UserSurvey\";\r\nvar GovernanceServiceClient = /** @class */ (function () {\r\n    function GovernanceServiceClient() {\r\n        this.personalizerClient = _Personalizer_PersonalizerClient__WEBPACK_IMPORTED_MODULE_7__[\"get\"]();\r\n        this.governanceServiceEnabled = false;\r\n        this.forceServicelessSurveyDisplay = false;\r\n        this.lastSurveyFailedSync = undefined;\r\n        this.clientState = _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceClientState\"].Disabled;\r\n    }\r\n    GovernanceServiceClient.prototype.setup = function (configuration) {\r\n        this.governanceServiceEnabled = configuration.getFloodgateInitOptions().governanceServiceEnabled;\r\n        if (this.governanceServiceEnabled) {\r\n            // setup config and client info\r\n            this.clientInfo = {\r\n                applicationId: configuration.getCommonInitOptions().appId.toString(),\r\n                sessionId: configuration.getCommonInitOptions().sessionId,\r\n                version: configuration.getCommonInitOptions().build,\r\n                surveyPlatform: 1 /* Floodgate */,\r\n                hostPlatform: 6 /* Web */,\r\n                tenantId: configuration.getCommonInitOptions().telemetryGroup.tenantId,\r\n                deviceId: configuration.getCommonInitOptions().telemetryGroup.deviceId,\r\n                audience: configuration.getCommonInitOptions().telemetryGroup.audience,\r\n            };\r\n            this.userId = configuration.getCommonInitOptions().telemetryGroup.loggableUserId;\r\n            // Ensure all the client info is needed\r\n            if (Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__[\"isNOU\"])(this.clientInfo.sessionId)) {\r\n                this.clientState = _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceClientState\"].InitializationFailed;\r\n                return;\r\n            }\r\n            if (Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__[\"isNOU\"])(this.clientInfo.version)) {\r\n                this.clientState = _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceClientState\"].InitializationFailed;\r\n                return;\r\n            }\r\n            if (!Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__[\"isValidUserId\"])(this.userId)) {\r\n                this.clientState = _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceClientState\"].InitializationFailed;\r\n                return;\r\n            }\r\n            // Setup governance service config parameters\r\n            this.forceServicelessSurveyDisplay = configuration.getFloodgateInitOptions().governanceServiceConfig.forceServicelessSurveyDisplay;\r\n            this.retryLimit = configuration.getFloodgateInitOptions().governanceServiceConfig.retry;\r\n            this.timeout = configuration.getFloodgateInitOptions().governanceServiceConfig.timeout;\r\n            this.simpleRequestEnabled = configuration.getFloodgateInitOptions().governanceServiceConfig.simpleRequestEnabled;\r\n            this.isProduction = configuration.getCommonInitOptions().environment === 0 /* Production */;\r\n            this.clientState = _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceClientState\"].Enabled;\r\n            this.dynamicTransport = new _DynamicContent_DynamicContentTransport__WEBPACK_IMPORTED_MODULE_3__[\"DynamicContentTransport\"](this.simpleRequestEnabled);\r\n        }\r\n    };\r\n    GovernanceServiceClient.prototype.isEnabled = function (governedChannelType) {\r\n        return this.clientState === _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceClientState\"].Enabled &&\r\n            this.governanceServiceEnabled &&\r\n            governedChannelType === _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6__[\"GovernedChannelType\"].Standard;\r\n    };\r\n    GovernanceServiceClient.prototype.shouldForceDisplay = function () {\r\n        return this.forceServicelessSurveyDisplay;\r\n    };\r\n    GovernanceServiceClient.prototype.getClientInfo = function () {\r\n        return this.clientInfo;\r\n    };\r\n    GovernanceServiceClient.prototype.getClientState = function () {\r\n        return this.clientState;\r\n    };\r\n    GovernanceServiceClient.prototype.getLastSurveyFailedSync = function () {\r\n        return this.lastSurveyFailedSync;\r\n    };\r\n    GovernanceServiceClient.prototype.checkGovernancePermitAsync = function (survey, surveyLevelCooldown, userLevelCooldown, channel) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var requestUrl, surveyInfo, body, serviceResult, response, serviceCallTime, timeBefore, responseText, jsonResponse, e_1;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        requestUrl = (this.isProduction ? govServiceProd : govServiceInt) + (this.simpleRequestEnabled ? \"/SimpleRequest\" : \"\");\r\n                        surveyInfo = this.buildSurveyInfo(survey, surveyLevelCooldown, channel);\r\n                        body = this.buildBodyRequest(surveyInfo, userLevelCooldown);\r\n                        serviceResult = {\r\n                            permission: false,\r\n                            error: false,\r\n                        };\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        timeBefore = performance.now();\r\n                        return [4 /*yield*/, this.dynamicTransport.postRequestWithRetry(requestUrl, body, this.retryLimit, this.timeout)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        serviceCallTime = performance.now() - timeBefore;\r\n                        responseText = void 0;\r\n                        if (!response.ok) {\r\n                            this.lastSurveyFailedSync = surveyInfo;\r\n                            serviceResult.errorMessage = \"Server Error, status: \" + response.status + \", status text: \" + response.statusText;\r\n                            serviceResult.error = true;\r\n                            // Log the successful post criteria with time\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].GOVERNANCE_SERVICERESULT, 1 /* Critical */, {\r\n                                TimeMilliseconds: serviceCallTime,\r\n                                HttpStatusCode: response.status,\r\n                                HttpStatusText: response.statusText,\r\n                                AdditionalSurveyInfo: this.buildConfigTelemetryString(),\r\n                                CorrelationId: this.dynamicTransport.requestId,\r\n                                GovernanceRequestBody: body,\r\n                                GovernanceResponseText: responseText,\r\n                                CampaignId: survey.getCampaignId(),\r\n                                SurveyId: survey.getSurveyInfo().getId(),\r\n                            });\r\n                            return [2 /*return*/, serviceResult];\r\n                        }\r\n                        return [4 /*yield*/, response.text()];\r\n                    case 3:\r\n                        // Get the response text\r\n                        responseText = _a.sent();\r\n                        // Log the successful post criteria with time\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].GOVERNANCE_SERVICERESULT, 1 /* Critical */, {\r\n                            TimeMilliseconds: serviceCallTime,\r\n                            HttpStatusCode: response.status,\r\n                            HttpStatusText: response.statusText,\r\n                            AdditionalSurveyInfo: this.buildConfigTelemetryString(),\r\n                            CorrelationId: this.dynamicTransport.requestId,\r\n                            GovernanceRequestBody: body,\r\n                            GovernanceResponseText: responseText,\r\n                            CampaignId: survey.getCampaignId(),\r\n                            SurveyId: survey.getSurveyInfo().getId(),\r\n                        });\r\n                        jsonResponse = JSON.parse(responseText);\r\n                        // Reparsing the date to correct ISO format\r\n                        jsonResponse.lastTriggerSurveyTime = Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__[\"stringToDate\"])(new Date(jsonResponse.lastTriggerSurveyTime).toISOString());\r\n                        // Check the response integrity\r\n                        if (!Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__[\"isNumber\"])(jsonResponse.timeUntilNextSurveyAllowed) ||\r\n                            !Object(_ms_ofb_officefloodgatecore_dist_src_Utils__WEBPACK_IMPORTED_MODULE_4__[\"isDate\"])(jsonResponse.lastTriggerSurveyTime)) {\r\n                            // Throw error with the response\r\n                            serviceResult.errorMessage = \"Service Response is not formatted correctly: \" + responseText;\r\n                            serviceResult.error = true;\r\n                            this.lastSurveyFailedSync = surveyInfo;\r\n                        }\r\n                        else {\r\n                            // Check if this is permitted\r\n                            if (jsonResponse.timeUntilNextSurveyAllowed === 0) {\r\n                                serviceResult.permission = true;\r\n                                // Set the personalizer data for AutoDismiss recommendation override (if enabled)\r\n                                if (this.personalizerClient.isEnabled(survey.getType(), survey.getLauncherType(), survey.getSurveyInfo().getGovernedChannelType())) {\r\n                                    this.personalizerClient.setEventIdAndOverrideValueForSurveyId(this.dynamicTransport.requestId, 0 /* AutoDismissTime */, jsonResponse.actionId, survey.getSurveyInfo().getId(), survey.getCampaignId());\r\n                                }\r\n                            }\r\n                            // Save the response trigger time\r\n                            serviceResult.lastTriggerSurvey = jsonResponse;\r\n                            // Clear the last failure\r\n                            this.lastSurveyFailedSync = undefined;\r\n                        }\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        this.lastSurveyFailedSync = surveyInfo;\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].GOVERNANCE_SERVICEFAILURE, 2 /* Error */, {\r\n                            ErrorMessage: e_1.toString(),\r\n                            AdditionalSurveyInfo: this.buildConfigTelemetryString(),\r\n                            CorrelationId: this.dynamicTransport.requestId,\r\n                            HttpStatusCode: response === null || response === void 0 ? void 0 : response.status,\r\n                            HttpStatusText: response === null || response === void 0 ? void 0 : response.statusText,\r\n                            GovernanceRequestBody: body,\r\n                        });\r\n                        serviceResult.error = true;\r\n                        serviceResult.errorMessage = \"Error: \" + e_1.toString() + \", Error stack: \" + e_1.stack;\r\n                        return [3 /*break*/, 5];\r\n                    case 5: return [2 /*return*/, serviceResult];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GovernanceServiceClient.prototype.buildSurveyInfo = function (survey, surveyLevelCooldown, channel) {\r\n        var stringType = _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__[\"ISurvey\"].Type[survey.getType()];\r\n        var surveyType = _ms_ofb_officefloodgatecore_dist_src_Api_IGovernanceServiceClient__WEBPACK_IMPORTED_MODULE_5__[\"GovernanceServiceSurveyType\"][stringType];\r\n        var newDate = new Date();\r\n        var isPersonalizerEnabled = this.personalizerClient.isEnabled(survey.getType(), survey.getLauncherType(), survey.getSurveyInfo().getGovernedChannelType());\r\n        return {\r\n            surveyId: survey.getCampaignId(),\r\n            surveyTriggerTime: newDate,\r\n            surveyType: surveyType,\r\n            surveyLevelCooldown: surveyLevelCooldown,\r\n            surveyChannel: channel,\r\n            localOffsetTime: newDate.getTimezoneOffset(),\r\n            personalizerEnabled: isPersonalizerEnabled,\r\n        };\r\n    };\r\n    GovernanceServiceClient.prototype.buildBodyRequest = function (surveyInfo, userLevelCooldown) {\r\n        var result = {\r\n            userId: this.userId,\r\n            userLevelCooldown: userLevelCooldown,\r\n            survey: surveyInfo,\r\n            client: this.clientInfo,\r\n        };\r\n        if (this.simpleRequestEnabled) {\r\n            this.dynamicTransport.requestId = Object(_Utils__WEBPACK_IMPORTED_MODULE_8__[\"guid\"])();\r\n            result.requestId = this.dynamicTransport.requestId;\r\n        }\r\n        return JSON.stringify(result);\r\n    };\r\n    GovernanceServiceClient.prototype.buildConfigTelemetryString = function () {\r\n        var objectTelemetry = {\r\n            retry: this.retryLimit,\r\n            timeout: this.timeout,\r\n            simpleRequestEnabled: this.simpleRequestEnabled,\r\n        };\r\n        return JSON.stringify(objectTelemetry);\r\n    };\r\n    return GovernanceServiceClient;\r\n}());\r\n\r\nvar governanceServiceClient = new GovernanceServiceClient();\r\n/**\r\n * Get the current Governance Service Client\r\n */\r\nfunction get() {\r\n    return governanceServiceClient;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Hb3Zlcm5hbmNlU2VydmljZS9Hb3Zlcm5hbmNlU2VydmljZUNsaWVudC50cz85OGMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9FO0FBRXRCO0FBQ3NDO0FBRThCO0FBTXpDO0FBQ2tCO0FBQ2xCO0FBQ3pDO0FBRWhDLElBQU0sYUFBYSxHQUFXLG9EQUFvRCxDQUFDO0FBQ25GLElBQU0sY0FBYyxHQUFXLGlEQUFpRCxDQUFDO0FBRWpGO0lBc0JDO1FBQ0MsSUFBSSxDQUFDLGtCQUFrQixHQUFHLG9FQUFzQixFQUFFLENBQUM7UUFDbkQsSUFBSSxDQUFDLHdCQUF3QixHQUFHLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsNkJBQTZCLEdBQUcsS0FBSyxDQUFDO1FBQzNDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxTQUFTLENBQUM7UUFDdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyw4SEFBNEIsQ0FBQyxRQUFRLENBQUM7SUFDMUQsQ0FBQztJQUVNLHVDQUFLLEdBQVosVUFBYSxhQUE0QjtRQUN4QyxJQUFJLENBQUMsd0JBQXdCLEdBQUcsYUFBYSxDQUFDLHVCQUF1QixFQUFFLENBQUMsd0JBQXdCLENBQUM7UUFFakcsSUFBSSxJQUFJLENBQUMsd0JBQXdCLEVBQUU7WUFDbEMsK0JBQStCO1lBQy9CLElBQUksQ0FBQyxVQUFVLEdBQUc7Z0JBQ2pCLGFBQWEsRUFBRSxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO2dCQUNwRSxTQUFTLEVBQUUsYUFBYSxDQUFDLG9CQUFvQixFQUFFLENBQUMsU0FBUztnQkFDekQsT0FBTyxFQUFFLGFBQWEsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLEtBQUs7Z0JBQ25ELGNBQWMsbUJBQTJDO2dCQUN6RCxZQUFZLGFBQW1DO2dCQUMvQyxRQUFRLEVBQUUsYUFBYSxDQUFDLG9CQUFvQixFQUFFLENBQUMsY0FBYyxD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VUFBeUIsVUFBaUMsRUFBRSxpQkFBeUI7UUFDcEYsSUFBTSxNQUFNLEdBQTZCO1lBQ3hDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNuQixpQkFBaUIsRUFBRSxpQkFBaUI7WUFDcEMsTUFBTSxFQUFFLFVBQVU7WUFDbEIsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVO1NBQ3ZCLENBQUM7UUFFRixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUM5QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxHQUFHLG1EQUFJLEVBQUUsQ0FBQztZQUN6QyxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7U0FDbkQ7UUFFRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVPLDREQUEwQixHQUFsQztRQUNDLElBQU0sZUFBZSxHQUFHO1lBQ3ZCLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVTtZQUN0QixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDckIsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG9CQUFvQjtTQUMvQyxDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFDRiw4QkFBQztBQUFELENBQUM7O0FBRUQsSUFBTSx1QkFBdUIsR0FBNEIsSUFBSSx1QkFBdUIsRUFBRSxDQUFDO0FBRXZGOztHQUVHO0FBQ0ksU0FBUyxHQUFHO0lBQ2xCLE9BQU8sdUJBQXVCLENBQUM7QUFDaEMsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0dvdmVybmFuY2VTZXJ2aWNlL0dvdmVybmFuY2VTZXJ2aWNlQ2xpZW50LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQXBpIGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgeyBEeW5hbWljQ29udGVudFRyYW5zcG9ydCB9IGZyb20gXCIuLi9EeW5hbWljQ29udGVudC9EeW5hbWljQ29udGVudFRyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBpc0RhdGUsIGlzTk9VLCBpc051bWJlciwgaXNWYWxpZFVzZXJJZCwgc3RyaW5nVG9EYXRlIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBJR292ZXJuYW5jZUNsaWVudEluZm8sIElHb3Zlcm5hbmNlU3VydmV5SW5mbywgSUdvdmVybmFuY2VTdXJ2ZXlSZXF1ZXN0LCBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlLCBJR292ZXJuYW5jZVNlcnZpY2VSZXN1bHQgfVxyXG5mcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JR292ZXJuYW5jZVNlcnZpY2VDbGllbnRcIjtcclxuaW1wb3J0IHsgU3VwcG9ydGVkT3ZlcnJpZGVzIH1cclxuZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSVBlcnNvbmFsaXplckNsaWVudFwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLCBHb3Zlcm5hbmNlU2VydmljZUhvc3RQbGF0Zm9ybSwgR292ZXJuYW5jZVNlcnZpY2VTdXJ2ZXlQbGF0Zm9ybSwgR292ZXJuYW5jZVNlcnZpY2VTdXJ2ZXlUeXBlIH1cclxuZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50XCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbFwiO1xyXG5pbXBvcnQgKiBhcyBQZXJzb25hbGl6ZXJDbGllbnQgZnJvbSBcIi4uL1BlcnNvbmFsaXplci9QZXJzb25hbGl6ZXJDbGllbnRcIjtcclxuaW1wb3J0IHsgZ3VpZCB9IGZyb20gXCIuLi9VdGlsc1wiO1xyXG5cclxuY29uc3QgZ292U2VydmljZUludDogc3RyaW5nID0gXCJodHRwczovL29uZXNzcHBlLm1pY3Jvc29mdC5jb20vYXBpL3YxLjAvVXNlclN1cnZleVwiO1xyXG5jb25zdCBnb3ZTZXJ2aWNlUHJvZDogc3RyaW5nID0gXCJodHRwczovL29uZXNzLm1pY3Jvc29mdC5jb20vYXBpL3YxLjAvVXNlclN1cnZleVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50IGltcGxlbWVudHMgQXBpLklHb3Zlcm5hbmNlU2VydmljZUNsaWVudCB7XHJcblxyXG5cdC8vIG1ha2luZyB0aGVzZSBkYXRhIHB1YmxpYyBzbyB0aGV5IGNhbiBiZSBhY2Nlc3MgZm9yIHRlc3RpbmdcclxuXHRwdWJsaWMgZHluYW1pY1RyYW5zcG9ydDogRHluYW1pY0NvbnRlbnRUcmFuc3BvcnQ7XHJcblx0cHVibGljIHBlcnNvbmFsaXplckNsaWVudDogQXBpLklQZXJzb25hbGl6ZXJDbGllbnQ7XHJcblx0cHVibGljIGNsaWVudFN0YXRlOiBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlO1xyXG5cclxuXHQvLyBDb25maWd1cmF0aW9uIGRhdGFcclxuXHRwcml2YXRlIGdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZDogYm9vbGVhbjtcclxuXHRwcml2YXRlIGZvcmNlU2VydmljZWxlc3NTdXJ2ZXlEaXNwbGF5OiBib29sZWFuO1xyXG5cdHByaXZhdGUgcmV0cnlMaW1pdDogbnVtYmVyO1xyXG5cdHByaXZhdGUgdGltZW91dDogbnVtYmVyO1xyXG5cdHByaXZhdGUgc2ltcGxlUmVxdWVzdEVuYWJsZWQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBpc1Byb2R1Y3Rpb246IGJvb2xlYW47XHJcblxyXG5cdC8vIGNsaWVudCBpbmZvXHJcblx0cHJpdmF0ZSBjbGllbnRJbmZvOiBJR292ZXJuYW5jZUNsaWVudEluZm87XHJcblx0cHJpdmF0ZSB1c2VySWQ6IHN0cmluZztcclxuXHJcblx0Ly8gc3VydmV5IGRhdGFcclxuXHRwcml2YXRlIGxhc3RTdXJ2ZXlGYWlsZWRTeW5jOiBJR292ZXJuYW5jZVN1cnZleUluZm87XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5wZXJzb25hbGl6ZXJDbGllbnQgPSBQZXJzb25hbGl6ZXJDbGllbnQuZ2V0KCk7XHJcblx0XHR0aGlzLmdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5mb3JjZVNlcnZpY2VsZXNzU3VydmV5RGlzcGxheSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5sYXN0U3VydmV5RmFpbGVkU3luYyA9IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMuY2xpZW50U3RhdGUgPSBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLkRpc2FibGVkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldHVwKGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcclxuXHRcdHRoaXMuZ292ZXJuYW5jZVNlcnZpY2VFbmFibGVkID0gY29uZmlndXJhdGlvbi5nZXRGbG9vZGdhdGVJbml0T3B0aW9ucygpLmdvdmVybmFuY2VTZXJ2aWNlRW5hYmxlZDtcclxuXHJcblx0XHRpZiAodGhpcy5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQpIHtcclxuXHRcdFx0Ly8gc2V0dXAgY29uZmlnIGFuZCBjbGllbnQgaW5mb1xyXG5cdFx0XHR0aGlzLmNsaWVudEluZm8gPSB7XHJcblx0XHRcdFx0YXBwbGljYXRpb25JZDogY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFwcElkLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0c2Vzc2lvbklkOiBjb25maWd1cmF0aW9uLmdldENvbW1vbkluaXRPcHRpb25zKCkuc2Vzc2lvbklkLFxyXG5cdFx0XHRcdHZlcnNpb246IGNvbmZpZ3VyYXRpb24uZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5idWlsZCxcclxuXHRcdFx0XHRzdXJ2ZXlQbGF0Zm9ybTogR292ZXJuYW5jZVNlcnZpY2VTdXJ2ZXlQbGF0Zm9ybS5GbG9vZGdhdGUsXHJcblx0XHRcdFx0aG9zdFBsYXRmb3JtOiBHb3Zlcm5hbmNlU2VydmljZUhvc3RQbGF0Zm9ybS5XZWIsXHJcblx0XHRcdFx0dGVuYW50SWQ6IGNvbmZpZ3VyYXRpb24uZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS50ZWxlbWV0cnlHcm91cC50ZW5hbnRJZCxcclxuXHRcdFx0XHRkZXZpY2VJZDogY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpLnRlbGVtZXRyeUdyb3VwLmRldmljZUlkLFxyXG5cdFx0XHRcdGF1ZGllbmNlOiBjb25maWd1cmF0aW9uLmdldENvbW1vbkluaXRPcHRpb25zKCkudGVsZW1ldHJ5R3JvdXAuYXVkaWVuY2UsXHJcblx0XHRcdH07XHJcblx0XHRcdHRoaXMudXNlcklkID0gY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpLnRlbGVtZXRyeUdyb3VwLmxvZ2dhYmxlVXNlcklkO1xyXG5cclxuXHRcdFx0Ly8gRW5zdXJlIGFsbCB0aGUgY2xpZW50IGluZm8gaXMgbmVlZGVkXHJcblx0XHRcdGlmIChpc05PVSh0aGlzLmNsaWVudEluZm8uc2Vzc2lvbklkKSkge1xyXG5cdFx0XHRcdHRoaXMuY2xpZW50U3RhdGUgPSBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLkluaXRpYWxpemF0aW9uRmFpbGVkO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGlzTk9VKHRoaXMuY2xpZW50SW5mby52ZXJzaW9uKSkge1xyXG5cdFx0XHRcdHRoaXMuY2xpZW50U3RhdGUgPSBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLkluaXRpYWxpemF0aW9uRmFpbGVkO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFpc1ZhbGlkVXNlcklkKHRoaXMudXNlcklkKSkge1xyXG5cdFx0XHRcdHRoaXMuY2xpZW50U3RhdGUgPSBHb3Zlcm5hbmNlU2VydmljZUNsaWVudFN0YXRlLkluaXRpYWxpemF0aW9uRmFpbGVkO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0dXAgZ292ZXJuYW5jZSBzZXJ2aWNlIGNvbmZpZyBwYXJhbWV0ZXJzXHJcblx0XHRcdHRoaXMuZm9yY2VTZXJ2aWNlbGVzc1N1cnZleURpc3BsYXkgPSBjb25maWd1cmF0aW9uLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcuZm9yY2VTZXJ2aWNlbGVzc1N1cnZleURpc3BsYXk7XHJcblx0XHRcdHRoaXMucmV0cnlMaW1pdCA9IGNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKS5nb3Zlcm5hbmNlU2VydmljZUNvbmZpZy5yZXRyeTtcclxuXHRcdFx0dGhpcy50aW1lb3V0ID0gY29uZmlndXJhdGlvbi5nZXRGbG9vZGdhdGVJbml0T3B0aW9ucygpLmdvdmVybmFuY2VTZXJ2aWNlQ29uZmlnLnRpbWVvdXQ7XHJcblx0XHRcdHRoaXMuc2ltcGxlUmVxdWVzdEVuYWJsZWQgPSBjb25maWd1cmF0aW9uLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuZ292ZXJuYW5jZVNlcnZpY2VDb25maWcuc2ltcGxlUmVxdWVzdEVuYWJsZWQ7XHJcblx0XHRcdHRoaXMuaXNQcm9kdWN0aW9uID0gY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpLmVudmlyb25tZW50ID09PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUHJvZHVjdGlvbjtcclxuXHRcdFx0dGhpcy5jbGllbnRTdGF0ZSA9IEdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50U3RhdGUuRW5hYmxlZDtcclxuXHRcdFx0dGhpcy5keW5hbWljVHJhbnNwb3J0ID0gbmV3IER5bmFtaWNDb250ZW50VHJhbnNwb3J0KHRoaXMuc2ltcGxlUmVxdWVzdEVuYWJsZWQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGlzRW5hYmxlZChnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbGllbnRTdGF0ZSA9PT0gR292ZXJuYW5jZVNlcnZpY2VDbGllbnRTdGF0ZS5FbmFibGVkICYmXHJcblx0XHRcdFx0dGhpcy5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQgJiZcclxuXHRcdFx0XHRnb3Zlcm5lZENoYW5uZWxUeXBlID09PSBHb3Zlcm5lZENoYW5uZWxUeXBlLlN0YW5kYXJkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNob3VsZEZvcmNlRGlzcGxheSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmZvcmNlU2VydmljZWxlc3NTdXJ2ZXlEaXNwbGF5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENsaWVudEluZm8oKTogSUdvdmVybmFuY2VDbGllbnRJbmZvIHtcclxuXHRcdHJldHVybiB0aGlzLmNsaWVudEluZm87XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2xpZW50U3RhdGUoKTogR292ZXJuYW5jZVNlcnZpY2VDbGllbnRTdGF0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbGllbnRTdGF0ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRMYXN0U3VydmV5RmFpbGVkU3luYygpOiBJR292ZXJuYW5jZVN1cnZleUluZm8ge1xyXG5cdFx0cmV0dXJuIHRoaXMubGFzdFN1cnZleUZhaWxlZFN5bmM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgY2hlY2tHb3Zlcm5hbmNlUGVybWl0QXN5bmMoXHJcblx0XHRzdXJ2ZXk6IEFwaS5JU3VydmV5LFxyXG5cdFx0c3VydmV5TGV2ZWxDb29sZG93bjogbnVtYmVyLFxyXG5cdFx0dXNlckxldmVsQ29vbGRvd246IG51bWJlcixcclxuXHRcdGNoYW5uZWw6IEdvdmVybmVkQ2hhbm5lbFR5cGUpOiBQcm9taXNlPElHb3Zlcm5hbmNlU2VydmljZVJlc3VsdD4ge1xyXG5cclxuXHRcdGNvbnN0IHJlcXVlc3RVcmw6IHN0cmluZyA9ICh0aGlzLmlzUHJvZHVjdGlvbiA/IGdvdlNlcnZpY2VQcm9kIDogZ292U2VydmljZUludCkgKyAodGhpcy5zaW1wbGVSZXF1ZXN0RW5hYmxlZCA/IFwiL1NpbXBsZVJlcXVlc3RcIiA6IFwiXCIpO1xyXG5cdFx0Y29uc3Qgc3VydmV5SW5mbzogSUdvdmVybmFuY2VTdXJ2ZXlJbmZvID0gdGhpcy5idWlsZFN1cnZleUluZm8oc3VydmV5LCBzdXJ2ZXlMZXZlbENvb2xkb3duLCBjaGFubmVsKTtcclxuXHRcdGNvbnN0IGJvZHk6IHN0cmluZyA9IHRoaXMuYnVpbGRCb2R5UmVxdWVzdChzdXJ2ZXlJbmZvLCB1c2VyTGV2ZWxDb29sZG93bik7XHJcblx0XHRjb25zdCBzZXJ2aWNlUmVzdWx0OiBJR292ZXJuYW5jZVNlcnZpY2VSZXN1bHQgPSB7XHJcblx0XHRcdHBlcm1pc3Npb246IGZhbHNlLFxyXG5cdFx0XHRlcnJvcjogZmFsc2UsXHJcblx0XHR9O1xyXG5cclxuXHRcdGxldCByZXNwb25zZTogUmVzcG9uc2U7XHJcblx0XHRsZXQgc2VydmljZUNhbGxUaW1lOiBudW1iZXI7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgdGltZUJlZm9yZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdFx0XHRyZXNwb25zZSA9IGF3YWl0IHRoaXMuZHluYW1pY1RyYW5zcG9ydC5wb3N0UmVxdWVzdFdpdGhSZXRyeShyZXF1ZXN0VXJsLCBib2R5LCB0aGlzLnJldHJ5TGltaXQsIHRoaXMudGltZW91dCk7XHJcblx0XHRcdHNlcnZpY2VDYWxsVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdGltZUJlZm9yZTtcclxuXHJcblx0XHRcdGxldCByZXNwb25zZVRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcclxuXHRcdFx0XHR0aGlzLmxhc3RTdXJ2ZXlGYWlsZWRTeW5jID0gc3VydmV5SW5mbztcclxuXHRcdFx0XHRzZXJ2aWNlUmVzdWx0LmVycm9yTWVzc2FnZSA9IGBTZXJ2ZXIgRXJyb3IsIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9LCBzdGF0dXMgdGV4dDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XHJcblx0XHRcdFx0c2VydmljZVJlc3VsdC5lcnJvciA9IHRydWU7XHJcblx0XHRcdFx0Ly8gTG9nIHRoZSBzdWNjZXNzZnVsIHBvc3QgY3JpdGVyaWEgd2l0aCB0aW1lXHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLkdPVkVSTkFOQ0VfU0VSVklDRVJFU1VMVCxcclxuXHRcdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFRpbWVNaWxsaXNlY29uZHM6IHNlcnZpY2VDYWxsVGltZSxcclxuXHRcdFx0XHRcdFx0SHR0cFN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcclxuXHRcdFx0XHRcdFx0SHR0cFN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXHJcblx0XHRcdFx0XHRcdEFkZGl0aW9uYWxTdXJ2ZXlJbmZvOiB0aGlzLmJ1aWxkQ29uZmlnVGVsZW1ldHJ5U3RyaW5nKCksXHJcblx0XHRcdFx0XHRcdENvcnJlbGF0aW9uSWQ6IHRoaXMuZHluYW1pY1RyYW5zcG9ydC5yZXF1ZXN0SWQsXHJcblx0XHRcdFx0XHRcdEdvdmVybmFuY2VSZXF1ZXN0Qm9keTogYm9keSxcclxuXHRcdFx0XHRcdFx0R292ZXJuYW5jZVJlc3BvbnNlVGV4dDogcmVzcG9uc2VUZXh0LFxyXG5cdFx0XHRcdFx0XHRDYW1wYWlnbklkOiBzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpLFxyXG5cdFx0XHRcdFx0XHRTdXJ2ZXlJZDogc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpLFxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gc2VydmljZVJlc3VsdDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gR2V0IHRoZSByZXNwb25zZSB0ZXh0XHJcblx0XHRcdHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuXHJcblx0XHRcdC8vIExvZyB0aGUgc3VjY2Vzc2Z1bCBwb3N0IGNyaXRlcmlhIHdpdGggdGltZVxyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuR09WRVJOQU5DRV9TRVJWSUNFUkVTVUxULFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogc2VydmljZUNhbGxUaW1lLFxyXG5cdFx0XHRcdFx0SHR0cFN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcclxuXHRcdFx0XHRcdEh0dHBTdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxyXG5cdFx0XHRcdFx0QWRkaXRpb25hbFN1cnZleUluZm86IHRoaXMuYnVpbGRDb25maWdUZWxlbWV0cnlTdHJpbmcoKSxcclxuXHRcdFx0XHRcdENvcnJlbGF0aW9uSWQ6IHRoaXMuZHluYW1pY1RyYW5zcG9ydC5yZXF1ZXN0SWQsXHJcblx0XHRcdFx0XHRHb3Zlcm5hbmNlUmVxdWVzdEJvZHk6IGJvZHksXHJcblx0XHRcdFx0XHRHb3Zlcm5hbmNlUmVzcG9uc2VUZXh0OiByZXNwb25zZVRleHQsXHJcblx0XHRcdFx0XHRDYW1wYWlnbklkOiBzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpLFxyXG5cdFx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBQYXJzZSB0aGUgcmVzcG9uc2VcclxuXHRcdFx0Y29uc3QganNvblJlc3BvbnNlOiBJR292ZXJuYW5jZVN1cnZleVJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xyXG5cclxuXHRcdFx0Ly8gUmVwYXJzaW5nIHRoZSBkYXRlIHRvIGNvcnJlY3QgSVNPIGZvcm1hdFxyXG5cdFx0XHRqc29uUmVzcG9uc2UubGFzdFRyaWdnZXJTdXJ2ZXlUaW1lID0gc3RyaW5nVG9EYXRlKG5ldyBEYXRlKGpzb25SZXNwb25zZS5sYXN0VHJpZ2dlclN1cnZleVRpbWUpLnRvSVNPU3RyaW5nKCkpO1xyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgdGhlIHJlc3BvbnNlIGludGVncml0eVxyXG5cdFx0XHRpZiAoIWlzTnVtYmVyKGpzb25SZXNwb25zZS50aW1lVW50aWxOZXh0U3VydmV5QWxsb3dlZCkgfHxcclxuXHRcdFx0XHQhaXNEYXRlKGpzb25SZXNwb25zZS5sYXN0VHJpZ2dlclN1cnZleVRpbWUpKSB7XHJcblx0XHRcdFx0Ly8gVGhyb3cgZXJyb3Igd2l0aCB0aGUgcmVzcG9uc2VcclxuXHRcdFx0XHRzZXJ2aWNlUmVzdWx0LmVycm9yTWVzc2FnZSA9IFwiU2VydmljZSBSZXNwb25zZSBpcyBub3QgZm9ybWF0dGVkIGNvcnJlY3RseTogXCIgKyByZXNwb25zZVRleHQ7XHJcblx0XHRcdFx0c2VydmljZVJlc3VsdC5lcnJvciA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy5sYXN0U3VydmV5RmFpbGVkU3luYyA9IHN1cnZleUluZm87XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhpcyBpcyBwZXJtaXR0ZWRcclxuXHRcdFx0XHRpZiAoanNvblJlc3BvbnNlLnRpbWVVbnRpbE5leHRTdXJ2ZXlBbGxvd2VkID09PSAwKSB7XHJcblx0XHRcdFx0XHRzZXJ2aWNlUmVzdWx0LnBlcm1pc3Npb24gPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdC8vIFNldCB0aGUgcGVyc29uYWxpemVyIGRhdGEgZm9yIEF1dG9EaXNtaXNzIHJlY29tbWVuZGF0aW9uIG92ZXJyaWRlIChpZiBlbmFibGVkKVxyXG5cdFx0XHRcdFx0aWYgKHRoaXMucGVyc29uYWxpemVyQ2xpZW50LmlzRW5hYmxlZChzdXJ2ZXkuZ2V0VHlwZSgpLCBzdXJ2ZXkuZ2V0TGF1bmNoZXJUeXBlKCksIHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBlcnNvbmFsaXplckNsaWVudC5zZXRFdmVudElkQW5kT3ZlcnJpZGVWYWx1ZUZvclN1cnZleUlkKFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZHluYW1pY1RyYW5zcG9ydC5yZXF1ZXN0SWQsXHJcblx0XHRcdFx0XHRcdFx0U3VwcG9ydGVkT3ZlcnJpZGVzLkF1dG9EaXNtaXNzVGltZSxcclxuXHRcdFx0XHRcdFx0XHRqc29uUmVzcG9uc2UuYWN0aW9uSWQsXHJcblx0XHRcdFx0XHRcdFx0c3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpLFxyXG5cdFx0XHRcdFx0XHRcdHN1cnZleS5nZXRDYW1wYWlnbklkKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gU2F2ZSB0aGUgcmVzcG9uc2UgdHJpZ2dlciB0aW1lXHJcblx0XHRcdFx0c2VydmljZVJlc3VsdC5sYXN0VHJpZ2dlclN1cnZleSA9IGpzb25SZXNwb25zZTtcclxuXHJcblx0XHRcdFx0Ly8gQ2xlYXIgdGhlIGxhc3QgZmFpbHVyZVxyXG5cdFx0XHRcdHRoaXMubGFzdFN1cnZleUZhaWxlZFN5bmMgPSB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0dGhpcy5sYXN0U3VydmV5RmFpbGVkU3luYyA9IHN1cnZleUluZm87XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5HT1ZFUk5BTkNFX1NFUlZJQ0VGQUlMVVJFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0XHRBZGRpdGlvbmFsU3VydmV5SW5mbzogdGhpcy5idWlsZENvbmZpZ1RlbGVtZXRyeVN0cmluZygpLFxyXG5cdFx0XHRcdFx0Q29ycmVsYXRpb25JZDogdGhpcy5keW5hbWljVHJhbnNwb3J0LnJlcXVlc3RJZCxcclxuXHRcdFx0XHRcdEh0dHBTdGF0dXNDb2RlOiByZXNwb25zZT8uc3RhdHVzLFxyXG5cdFx0XHRcdFx0SHR0cFN0YXR1c1RleHQ6IHJlc3BvbnNlPy5zdGF0dXNUZXh0LFxyXG5cdFx0XHRcdFx0R292ZXJuYW5jZVJlcXVlc3RCb2R5OiBib2R5LFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2VydmljZVJlc3VsdC5lcnJvciA9IHRydWU7XHJcblx0XHRcdHNlcnZpY2VSZXN1bHQuZXJyb3JNZXNzYWdlID0gYEVycm9yOiAke2UudG9TdHJpbmcoKX0sIEVycm9yIHN0YWNrOiAke2Uuc3RhY2t9YDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc2VydmljZVJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYnVpbGRTdXJ2ZXlJbmZvKHN1cnZleTogQXBpLklTdXJ2ZXksIHN1cnZleUxldmVsQ29vbGRvd246IG51bWJlciwgY2hhbm5lbDogbnVtYmVyKTogSUdvdmVybmFuY2VTdXJ2ZXlJbmZvIHtcclxuXHRcdGNvbnN0IHN0cmluZ1R5cGUgPSBBcGkuSVN1cnZleS5UeXBlW3N1cnZleS5nZXRUeXBlKCldO1xyXG5cdFx0Y29uc3Qgc3VydmV5VHlwZTogbnVtYmVyID0gR292ZXJuYW5jZVNlcnZpY2VTdXJ2ZXlUeXBlW3N0cmluZ1R5cGUgYXMga2V5b2YgdHlwZW9mIEdvdmVybmFuY2VTZXJ2aWNlU3VydmV5VHlwZV07XHJcblx0XHRjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoKTtcclxuXHRcdGNvbnN0IGlzUGVyc29uYWxpemVyRW5hYmxlZCA9IHRoaXMucGVyc29uYWxpemVyQ2xpZW50LmlzRW5hYmxlZChzdXJ2ZXkuZ2V0VHlwZSgpLFxyXG5cdFx0XHRzdXJ2ZXkuZ2V0TGF1bmNoZXJUeXBlKCksXHJcblx0XHRcdHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpKTtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHN1cnZleUlkOiBzdXJ2ZXkuZ2V0Q2FtcGFpZ25JZCgpLFxyXG5cdFx0XHRzdXJ2ZXlUcmlnZ2VyVGltZTogbmV3RGF0ZSxcclxuXHRcdFx0c3VydmV5VHlwZTogc3VydmV5VHlwZSxcclxuXHRcdFx0c3VydmV5TGV2ZWxDb29sZG93bjogc3VydmV5TGV2ZWxDb29sZG93bixcclxuXHRcdFx0c3VydmV5Q2hhbm5lbDogY2hhbm5lbCxcclxuXHRcdFx0bG9jYWxPZmZzZXRUaW1lOiBuZXdEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCksXHJcblx0XHRcdHBlcnNvbmFsaXplckVuYWJsZWQ6IGlzUGVyc29uYWxpemVyRW5hYmxlZCxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGJ1aWxkQm9keVJlcXVlc3Qoc3VydmV5SW5mbzogSUdvdmVybmFuY2VTdXJ2ZXlJbmZvLCB1c2VyTGV2ZWxDb29sZG93bjogbnVtYmVyKSB7XHJcblx0XHRjb25zdCByZXN1bHQ6IElHb3Zlcm5hbmNlU3VydmV5UmVxdWVzdCA9IHtcclxuXHRcdFx0dXNlcklkOiB0aGlzLnVzZXJJZCxcclxuXHRcdFx0dXNlckxldmVsQ29vbGRvd246IHVzZXJMZXZlbENvb2xkb3duLFxyXG5cdFx0XHRzdXJ2ZXk6IHN1cnZleUluZm8sXHJcblx0XHRcdGNsaWVudDogdGhpcy5jbGllbnRJbmZvLFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAodGhpcy5zaW1wbGVSZXF1ZXN0RW5hYmxlZCkge1xyXG5cdFx0XHR0aGlzLmR5bmFtaWNUcmFuc3BvcnQucmVxdWVzdElkID0gZ3VpZCgpO1xyXG5cdFx0XHRyZXN1bHQucmVxdWVzdElkID0gdGhpcy5keW5hbWljVHJhbnNwb3J0LnJlcXVlc3RJZDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYnVpbGRDb25maWdUZWxlbWV0cnlTdHJpbmcoKSB7XHJcblx0XHRjb25zdCBvYmplY3RUZWxlbWV0cnkgPSB7XHJcblx0XHRcdHJldHJ5OiB0aGlzLnJldHJ5TGltaXQsXHJcblx0XHRcdHRpbWVvdXQ6IHRoaXMudGltZW91dCxcclxuXHRcdFx0c2ltcGxlUmVxdWVzdEVuYWJsZWQ6IHRoaXMuc2ltcGxlUmVxdWVzdEVuYWJsZWQsXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iamVjdFRlbGVtZXRyeSk7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBnb3Zlcm5hbmNlU2VydmljZUNsaWVudDogR292ZXJuYW5jZVNlcnZpY2VDbGllbnQgPSBuZXcgR292ZXJuYW5jZVNlcnZpY2VDbGllbnQoKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgR292ZXJuYW5jZSBTZXJ2aWNlIENsaWVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldCgpOiBHb3Zlcm5hbmNlU2VydmljZUNsaWVudCB7XHJcblx0cmV0dXJuIGdvdmVybmFuY2VTZXJ2aWNlQ2xpZW50O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/GovernanceService/GovernanceServiceClient.ts\n");

/***/ }),

/***/ "./scripts/app/Localization.ts":
/*!*************************************!*\
  !*** ./scripts/app/Localization.ts ***!
  \*************************************/
/*! exports provided: validate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validate\", function() { return validate; });\n/**\r\n * Localization.ts\r\n *\r\n * Module for Localization\r\n */\r\n/**\r\n * List of supported Locales\r\n * REMINDER: update readme to match the list below if change is made\r\n */\r\nvar supportedLocales = [\r\n    \"af\",\r\n    \"am\",\r\n    \"ar\",\r\n    \"as\",\r\n    \"az\",\r\n    \"be\",\r\n    \"bg\",\r\n    \"bn-BD\",\r\n    \"bn-IN\",\r\n    \"bs\",\r\n    \"ca\",\r\n    \"ca-Es-VALENCIA\",\r\n    \"chr-Cher\",\r\n    \"cs\",\r\n    \"cy\",\r\n    \"da\",\r\n    \"de\",\r\n    \"el\",\r\n    \"en-GB\",\r\n    \"es\",\r\n    \"es-MX\",\r\n    \"et\",\r\n    \"eu\",\r\n    \"fa\",\r\n    \"fi\",\r\n    \"fil\",\r\n    \"fr\",\r\n    \"fr-CA\",\r\n    \"ga\",\r\n    \"gd\",\r\n    \"gl\",\r\n    \"gu\",\r\n    \"ha-Latn-NG\",\r\n    \"he\",\r\n    \"hi\",\r\n    \"hr\",\r\n    \"hu\",\r\n    \"hy\",\r\n    \"id\",\r\n    \"is\",\r\n    \"it\",\r\n    \"ja\",\r\n    \"ka\",\r\n    \"kk\",\r\n    \"km-KH\",\r\n    \"kn\",\r\n    \"ko\",\r\n    \"kok\",\r\n    \"ky\",\r\n    \"lb\",\r\n    \"lo\",\r\n    \"lt\",\r\n    \"lv\",\r\n    \"mi\",\r\n    \"mk\",\r\n    \"ml\",\r\n    \"mn\",\r\n    \"mr\",\r\n    \"ms\",\r\n    \"mt\",\r\n    \"nb-NO\",\r\n    \"ne\",\r\n    \"nl\",\r\n    \"nn-NO\",\r\n    \"or\",\r\n    \"pa\",\r\n    \"pl\",\r\n    \"prs\",\r\n    \"pt-BR\",\r\n    \"pt-PT\",\r\n    \"quz\",\r\n    \"ro\",\r\n    \"ru\",\r\n    \"sd\",\r\n    \"si\",\r\n    \"sk\",\r\n    \"sl\",\r\n    \"sq\",\r\n    \"sr-Cyrl-BA\",\r\n    \"sr-Cyrl-RS\",\r\n    \"sr-Latn-RS\",\r\n    \"sv\",\r\n    \"sw\",\r\n    \"ta\",\r\n    \"te\",\r\n    \"th\",\r\n    \"tk\",\r\n    \"tr\",\r\n    \"tt\",\r\n    \"ug\",\r\n    \"uk\",\r\n    \"ur\",\r\n    \"uz-Latn-UZ\",\r\n    \"vi\",\r\n    \"zh-Hans\",\r\n    \"zh-Hant\",\r\n];\r\nvar localeVariantToSupportedlocaleMap = {\r\n    \"ZH-CN\": \"zh-Hans\",\r\n    \"ZH-HK\": \"zh-Hant\",\r\n    \"ZH-MO\": \"zh-Hant\",\r\n    \"ZH-SG\": \"zh-Hans\",\r\n    \"ZH-TW\": \"zh-Hant\",\r\n};\r\nfunction validate(locale) {\r\n    var localeUpperCase = locale.toLocaleUpperCase();\r\n    // support for Chinese ll-cc, VSO Bug 1583389\r\n    if (localeUpperCase in localeVariantToSupportedlocaleMap) {\r\n        return localeVariantToSupportedlocaleMap[localeUpperCase];\r\n    }\r\n    // return supported locale if exact match found\r\n    for (var _i = 0, supportedLocales_1 = supportedLocales; _i < supportedLocales_1.length; _i++) {\r\n        var supportedLocale = supportedLocales_1[_i];\r\n        if (supportedLocale.toUpperCase() === localeUpperCase) {\r\n            return supportedLocale;\r\n        }\r\n    }\r\n    var localePartOne = localeUpperCase.split(\"-\")[0];\r\n    // return supported \"ll\" if exact match not found, but \"ll\" matches\r\n    for (var _a = 0, supportedLocales_2 = supportedLocales; _a < supportedLocales_2.length; _a++) {\r\n        var supportedLocale = supportedLocales_2[_a];\r\n        if (supportedLocale.toUpperCase() === localePartOne) {\r\n            return supportedLocale;\r\n        }\r\n    }\r\n    // default everything else to en\r\n    return \"en\";\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2NhbGl6YXRpb24udHM/MmNmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVIOzs7R0FHRztBQUNILElBQUksZ0JBQWdCLEdBQWE7SUFDaEMsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLE9BQU87SUFDUCxPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixZQUFZO0lBQ1osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixLQUFLO0lBQ0wsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxPQUFPO0lBQ1AsT0FBTztJQUNQLEtBQUs7SUFDTCxJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osWUFBWTtJQUNaLFlBQVk7SUFDWixZQUFZO0lBQ1osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixZQUFZO0lBQ1osSUFBSTtJQUNKLFNBQVM7SUFDVCxTQUFTO0NBQ1QsQ0FBQztBQUVGLElBQU0saUNBQWlDLEdBQThCO0lBQ3BFLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0NBQ2xCLENBQUM7QUFFSyxTQUFTLFFBQVEsQ0FBQyxNQUFjO0lBQ3RDLElBQUksZUFBZSxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBRWpELDZDQUE2QztJQUM3QyxJQUFJLGVBQWUsSUFBSSxpQ0FBaUMsRUFBRTtRQUN6RCxPQUFPLGlDQUFpQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0tBQzFEO0lBRUQsK0NBQStDO0lBQy9DLEtBQTRCLFVBQWdCLEVBQWhCLHFDQUFnQixFQUFoQiw4QkFBZ0IsRUFBaEIsSUFBZ0IsRUFBRTtRQUF6QyxJQUFJLGVBQWU7UUFDdkIsSUFBSSxlQUFlLENBQUMsV0FBVyxFQUFFLEtBQUssZUFBZSxFQUFFO1lBQ3RELE9BQU8sZUFBZSxDQUFDO1NBQ3ZCO0tBQ0Q7SUFFRCxJQUFJLGFBQWEsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELG1FQUFtRTtJQUNuRSxLQUE0QixVQUFnQixFQUFoQixxQ0FBZ0IsRUFBaEIsOEJBQWdCLEVBQWhCLElBQWdCLEVBQUU7UUFBekMsSUFBSSxlQUFlO1FBQ3ZCLElBQUksZUFBZSxDQUFDLFdBQVcsRUFBRSxLQUFLLGFBQWEsRUFBRTtZQUNwRCxPQUFPLGVBQWUsQ0FBQztTQUN2QjtLQUNEO0lBRUQsZ0NBQWdDO0lBQ2hDLE9BQU8sSUFBSSxDQUFDO0FBQ2IsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvY2FsaXphdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMb2NhbGl6YXRpb24udHNcclxuICpcclxuICogTW9kdWxlIGZvciBMb2NhbGl6YXRpb25cclxuICovXHJcblxyXG4vKipcclxuICogTGlzdCBvZiBzdXBwb3J0ZWQgTG9jYWxlc1xyXG4gKiBSRU1JTkRFUjogdXBkYXRlIHJlYWRtZSB0byBtYXRjaCB0aGUgbGlzdCBiZWxvdyBpZiBjaGFuZ2UgaXMgbWFkZVxyXG4gKi9cclxubGV0IHN1cHBvcnRlZExvY2FsZXM6IHN0cmluZ1tdID0gW1xyXG5cdFwiYWZcIixcclxuXHRcImFtXCIsXHJcblx0XCJhclwiLFxyXG5cdFwiYXNcIixcclxuXHRcImF6XCIsXHJcblx0XCJiZVwiLFxyXG5cdFwiYmdcIixcclxuXHRcImJuLUJEXCIsXHJcblx0XCJibi1JTlwiLFxyXG5cdFwiYnNcIixcclxuXHRcImNhXCIsXHJcblx0XCJjYS1Fcy1WQUxFTkNJQVwiLFxyXG5cdFwiY2hyLUNoZXJcIixcclxuXHRcImNzXCIsXHJcblx0XCJjeVwiLFxyXG5cdFwiZGFcIixcclxuXHRcImRlXCIsXHJcblx0XCJlbFwiLFxyXG5cdFwiZW4tR0JcIixcclxuXHRcImVzXCIsXHJcblx0XCJlcy1NWFwiLFxyXG5cdFwiZXRcIixcclxuXHRcImV1XCIsXHJcblx0XCJmYVwiLFxyXG5cdFwiZmlcIixcclxuXHRcImZpbFwiLFxyXG5cdFwiZnJcIixcclxuXHRcImZyLUNBXCIsXHJcblx0XCJnYVwiLFxyXG5cdFwiZ2RcIixcclxuXHRcImdsXCIsXHJcblx0XCJndVwiLFxyXG5cdFwiaGEtTGF0bi1OR1wiLFxyXG5cdFwiaGVcIixcclxuXHRcImhpXCIsXHJcblx0XCJoclwiLFxyXG5cdFwiaHVcIixcclxuXHRcImh5XCIsXHJcblx0XCJpZFwiLFxyXG5cdFwiaXNcIixcclxuXHRcIml0XCIsXHJcblx0XCJqYVwiLFxyXG5cdFwia2FcIixcclxuXHRcImtrXCIsXHJcblx0XCJrbS1LSFwiLFxyXG5cdFwia25cIixcclxuXHRcImtvXCIsXHJcblx0XCJrb2tcIixcclxuXHRcImt5XCIsXHJcblx0XCJsYlwiLFxyXG5cdFwibG9cIixcclxuXHRcImx0XCIsXHJcblx0XCJsdlwiLFxyXG5cdFwibWlcIixcclxuXHRcIm1rXCIsXHJcblx0XCJtbFwiLFxyXG5cdFwibW5cIixcclxuXHRcIm1yXCIsXHJcblx0XCJtc1wiLFxyXG5cdFwibXRcIixcclxuXHRcIm5iLU5PXCIsXHJcblx0XCJuZVwiLFxyXG5cdFwibmxcIixcclxuXHRcIm5uLU5PXCIsXHJcblx0XCJvclwiLFxyXG5cdFwicGFcIixcclxuXHRcInBsXCIsXHJcblx0XCJwcnNcIixcclxuXHRcInB0LUJSXCIsXHJcblx0XCJwdC1QVFwiLFxyXG5cdFwicXV6XCIsXHJcblx0XCJyb1wiLFxyXG5cdFwicnVcIixcclxuXHRcInNkXCIsXHJcblx0XCJzaVwiLFxyXG5cdFwic2tcIixcclxuXHRcInNsXCIsXHJcblx0XCJzcVwiLFxyXG5cdFwic3ItQ3lybC1CQVwiLFxyXG5cdFwic3ItQ3lybC1SU1wiLFxyXG5cdFwic3ItTGF0bi1SU1wiLFxyXG5cdFwic3ZcIixcclxuXHRcInN3XCIsXHJcblx0XCJ0YVwiLFxyXG5cdFwidGVcIixcclxuXHRcInRoXCIsXHJcblx0XCJ0a1wiLFxyXG5cdFwidHJcIixcclxuXHRcInR0XCIsXHJcblx0XCJ1Z1wiLFxyXG5cdFwidWtcIixcclxuXHRcInVyXCIsXHJcblx0XCJ1ei1MYXRuLVVaXCIsXHJcblx0XCJ2aVwiLFxyXG5cdFwiemgtSGFuc1wiLFxyXG5cdFwiemgtSGFudFwiLFxyXG5dO1xyXG5cclxuY29uc3QgbG9jYWxlVmFyaWFudFRvU3VwcG9ydGVkbG9jYWxlTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG5cdFwiWkgtQ05cIjogXCJ6aC1IYW5zXCIsXHJcblx0XCJaSC1IS1wiOiBcInpoLUhhbnRcIixcclxuXHRcIlpILU1PXCI6IFwiemgtSGFudFwiLFxyXG5cdFwiWkgtU0dcIjogXCJ6aC1IYW5zXCIsXHJcblx0XCJaSC1UV1wiOiBcInpoLUhhbnRcIixcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShsb2NhbGU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0bGV0IGxvY2FsZVVwcGVyQ2FzZSA9IGxvY2FsZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG5cclxuXHQvLyBzdXBwb3J0IGZvciBDaGluZXNlIGxsLWNjLCBWU08gQnVnIDE1ODMzODlcclxuXHRpZiAobG9jYWxlVXBwZXJDYXNlIGluIGxvY2FsZVZhcmlhbnRUb1N1cHBvcnRlZGxvY2FsZU1hcCkge1xyXG5cdFx0cmV0dXJuIGxvY2FsZVZhcmlhbnRUb1N1cHBvcnRlZGxvY2FsZU1hcFtsb2NhbGVVcHBlckNhc2VdO1xyXG5cdH1cclxuXHJcblx0Ly8gcmV0dXJuIHN1cHBvcnRlZCBsb2NhbGUgaWYgZXhhY3QgbWF0Y2ggZm91bmRcclxuXHRmb3IgKGxldCBzdXBwb3J0ZWRMb2NhbGUgb2Ygc3VwcG9ydGVkTG9jYWxlcykge1xyXG5cdFx0aWYgKHN1cHBvcnRlZExvY2FsZS50b1VwcGVyQ2FzZSgpID09PSBsb2NhbGVVcHBlckNhc2UpIHtcclxuXHRcdFx0cmV0dXJuIHN1cHBvcnRlZExvY2FsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGxldCBsb2NhbGVQYXJ0T25lID0gbG9jYWxlVXBwZXJDYXNlLnNwbGl0KFwiLVwiKVswXTtcclxuXHQvLyByZXR1cm4gc3VwcG9ydGVkIFwibGxcIiBpZiBleGFjdCBtYXRjaCBub3QgZm91bmQsIGJ1dCBcImxsXCIgbWF0Y2hlc1xyXG5cdGZvciAobGV0IHN1cHBvcnRlZExvY2FsZSBvZiBzdXBwb3J0ZWRMb2NhbGVzKSB7XHJcblx0XHRpZiAoc3VwcG9ydGVkTG9jYWxlLnRvVXBwZXJDYXNlKCkgPT09IGxvY2FsZVBhcnRPbmUpIHtcclxuXHRcdFx0cmV0dXJuIHN1cHBvcnRlZExvY2FsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGRlZmF1bHQgZXZlcnl0aGluZyBlbHNlIHRvIGVuXHJcblx0cmV0dXJuIFwiZW5cIjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Localization.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Constants.ts":
/*!******************************************!*\
  !*** ./scripts/app/Logging/Constants.ts ***!
  \******************************************/
/*! exports provided: EventIds */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventIds\", function() { return EventIds; });\n/**\r\n * Constants.ts\r\n *\r\n * Module to hold logging-related constants\r\n */\r\nvar EventIds = /** @class */ (function () {\r\n    function EventIds() {\r\n    }\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16;\r\n    EventIds.InApp = (_a = /** @class */ (function () {\r\n            function class_1() {\r\n            }\r\n            return class_1;\r\n        }()),\r\n        _a.UI = (_b = /** @class */ (function () {\r\n                function class_2() {\r\n                }\r\n                return class_2;\r\n            }()),\r\n            _b.Picker = (_c = /** @class */ (function () {\r\n                    function class_3() {\r\n                    }\r\n                    return class_3;\r\n                }()),\r\n                _c.Shown = (_d = /** @class */ (function () {\r\n                        function class_4() {\r\n                        }\r\n                        return class_4;\r\n                    }()),\r\n                    _d.VALUE = { name: \"InApp_UI_Picker_Shown\" },\r\n                    _d),\r\n                _c),\r\n            _b.Form = (_e = /** @class */ (function () {\r\n                    function class_5() {\r\n                    }\r\n                    return class_5;\r\n                }()),\r\n                _e.Shown = (_f = /** @class */ (function () {\r\n                        function class_6() {\r\n                        }\r\n                        return class_6;\r\n                    }()),\r\n                    _f.VALUE = { name: \"InApp_UI_Form_Shown\" },\r\n                    _f),\r\n                _e.Submit = (_g = /** @class */ (function () {\r\n                        function class_7() {\r\n                        }\r\n                        return class_7;\r\n                    }()),\r\n                    _g.VALUE = { name: \"InApp_UI_Form_Submit\" },\r\n                    _g),\r\n                _e),\r\n            _b),\r\n        _a);\r\n    // This saves ~400 bytes (minified) vs nested classes\r\n    EventIds.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED = { name: \"Survey_Floodgate_CampaignLoad_Failed\" };\r\n    EventIds.SURVEY_FLOODGATE_FILEREAD_FAILED = { name: \"Survey_Floodgate_FileRead_Failed\" };\r\n    EventIds.SURVEY_FLOODGATE_FILEWRITE_FAILED = { name: \"Survey_Floodgate_FileWrite_Failed\" };\r\n    EventIds.SURVEY_FLOODGATE_TRIGGERMET = { name: \"Survey_Floodgate_TriggerMet\" };\r\n    EventIds.SURVEY_FLOODGATE_USERSELECTED = { name: \"Survey_Floodgate_UserSelected\" };\r\n    EventIds.SURVEY_UI_FORM_SHOWN = { name: \"Survey_UI_Form_Shown\" };\r\n    EventIds.SURVEY_UI_FORM_SUBMIT = { name: \"Survey_UI_Form_Submit\" };\r\n    EventIds.SURVEY_UI_FORM_SECONDARY_SUBMIT = { name: \"Survey_UI_Form_Secondary_Submit\" };\r\n    EventIds.SURVEY_UI_FORM_SUBMIT_ERROR = { name: \"Survey_UI_Form_Submit_Error\" };\r\n    EventIds.SURVEY_UI_FORM_USERCLOSED = { name: \"Survey_UI_Form_UserClosed\" };\r\n    EventIds.SURVEY_UI_FORM_NO_RETURN_TYPE = { name: \"Survey_UI_Form_No_Return_Type\" };\r\n    EventIds.SURVEY_UI_PROMPT_AUTODISMISSED = { name: \"Survey_UI_Prompt_AutoDismissed\" };\r\n    EventIds.SURVEY_UI_PROMPT_SHOWN = { name: \"Survey_UI_Prompt_Shown\" };\r\n    EventIds.SURVEY_UI_PROMPT_USERCLOSED = { name: \"Survey_UI_Prompt_UserClosed\" };\r\n    EventIds.SURVEY_UI_PROMPT_CLICKED = { name: \"Survey_UI_Prompt_Clicked\" };\r\n    EventIds.SURVEY_UI_REDIRECTIONFAILURE = { name: \"Survey_UI_RedirectionFailure\" };\r\n    EventIds.GOVERNANCE_SERVICEFAILURE = { name: \"Gorvenance_ServiceFailure\" };\r\n    EventIds.GOVERNANCE_SERVICERESULT = { name: \"Gorvenance_ServiceResult\" };\r\n    EventIds.DYNAMICTRANSPORT_POST_ERROR = { name: \"DynamicTransport_Post_Error\" };\r\n    EventIds.FEEDBACK_SURVEYSDISABLED_AADC = { name: \"Feedback_SurveysDisabled_AADC\" };\r\n    EventIds.SURVEY_UI_DISABLED_AADC = { name: \"Survey_UI_Prevented_AADC\" };\r\n    EventIds.PERSONALIZER_SERVICEREWARDRESULT = { name: \"Personalizer_ServiceRewardResult\" };\r\n    EventIds.PERSONALIZER_CLIENTFAILURE = { name: \"Personalizer_ClientFailure\" };\r\n    EventIds.Shared = (_h = /** @class */ (function () {\r\n            function class_8() {\r\n            }\r\n            return class_8;\r\n        }()),\r\n        _h.Upload = (_j = /** @class */ (function () {\r\n                function class_9() {\r\n                }\r\n                return class_9;\r\n            }()),\r\n            _j.Failed = (_k = /** @class */ (function () {\r\n                    function class_10() {\r\n                    }\r\n                    return class_10;\r\n                }()),\r\n                _k.VALUE = { name: \"Shared_Upload_Failed\" },\r\n                _k),\r\n            _j.Prevented = (_l = /** @class */ (function () {\r\n                    function class_11() {\r\n                    }\r\n                    return class_11;\r\n                }()),\r\n                _l.VALUE = { name: \"Shared_Upload_Prevented_AADC\" },\r\n                _l),\r\n            _j),\r\n        _h.Screenshot = (_m = /** @class */ (function () {\r\n                function class_12() {\r\n                }\r\n                return class_12;\r\n            }()),\r\n            _m.Render = (_o = /** @class */ (function () {\r\n                    function class_13() {\r\n                    }\r\n                    return class_13;\r\n                }()),\r\n                _o.Failed = (_p = /** @class */ (function () {\r\n                        function class_14() {\r\n                        }\r\n                        return class_14;\r\n                    }()),\r\n                    _p.VALUE = { name: \"Shared_Screenshot_Render_Failed\" },\r\n                    _p),\r\n                _o.Success = (_q = /** @class */ (function () {\r\n                        function class_15() {\r\n                        }\r\n                        return class_15;\r\n                    }()),\r\n                    _q.VALUE = { name: \"Shared_Screenshot_Render_Success\" },\r\n                    _q),\r\n                _o),\r\n            _m.GetContent = (_r = /** @class */ (function () {\r\n                    function class_16() {\r\n                    }\r\n                    return class_16;\r\n                }()),\r\n                _r.Failed = (_s = /** @class */ (function () {\r\n                        function class_17() {\r\n                        }\r\n                        return class_17;\r\n                    }()),\r\n                    _s.DefaultImage = (_t = /** @class */ (function () {\r\n                            function class_18() {\r\n                            }\r\n                            return class_18;\r\n                        }()),\r\n                        _t.Returned = (_u = /** @class */ (function () {\r\n                                function class_19() {\r\n                                }\r\n                                return class_19;\r\n                            }()),\r\n                            _u.VALUE = { name: \"Shared_Screenshot_GetContent_Failed_DefaultImage_Returned\" },\r\n                            _u),\r\n                        _t),\r\n                    _s),\r\n                _r),\r\n            _m),\r\n        _h);\r\n    EventIds.WebSurfaces = (_v = /** @class */ (function () {\r\n            function class_20() {\r\n            }\r\n            return class_20;\r\n        }()),\r\n        _v.Common = (_w = /** @class */ (function () {\r\n                function class_21() {\r\n                }\r\n                return class_21;\r\n            }()),\r\n            _w.Error = (_x = /** @class */ (function () {\r\n                    function class_22() {\r\n                    }\r\n                    return class_22;\r\n                }()),\r\n                _x.VALUE = { name: \"WebSurfaces_Common_Error\" },\r\n                _x),\r\n            _w.Info = (_y = /** @class */ (function () {\r\n                    function class_23() {\r\n                    }\r\n                    return class_23;\r\n                }()),\r\n                _y.VALUE = { name: \"WebSurfaces_Common_Info\" },\r\n                _y),\r\n            _w),\r\n        _v.Messaging = (_z = /** @class */ (function () {\r\n                function class_24() {\r\n                }\r\n                return class_24;\r\n            }()),\r\n            _z.Requests = (_0 = /** @class */ (function () {\r\n                    function class_25() {\r\n                    }\r\n                    return class_25;\r\n                }()),\r\n                _0.VALUE = { name: \"WebSurfaces_Messaging_Requests\" },\r\n                _0),\r\n            _z),\r\n        _v);\r\n    EventIds.UserFacts = (_1 = /** @class */ (function () {\r\n            function class_26() {\r\n            }\r\n            return class_26;\r\n        }()),\r\n        _1.Common = (_2 = /** @class */ (function () {\r\n                function class_27() {\r\n                }\r\n                return class_27;\r\n            }()),\r\n            _2.Error = (_3 = /** @class */ (function () {\r\n                    function class_28() {\r\n                    }\r\n                    return class_28;\r\n                }()),\r\n                _3.VALUE = { name: \"UserFacts_Common_Error\" },\r\n                _3),\r\n            _2.Info = (_4 = /** @class */ (function () {\r\n                    function class_29() {\r\n                    }\r\n                    return class_29;\r\n                }()),\r\n                _4.VALUE = { name: \"UserFacts_Common_Info\" },\r\n                _4),\r\n            _2),\r\n        _1.LocalFact = (_5 = /** @class */ (function () {\r\n                function class_30() {\r\n                }\r\n                return class_30;\r\n            }()),\r\n            _5.Error = (_6 = /** @class */ (function () {\r\n                    function class_31() {\r\n                    }\r\n                    return class_31;\r\n                }()),\r\n                _6.VALUE = { name: \"UserFacts_LocalFact_Error\" },\r\n                _6),\r\n            _5),\r\n        _1.Messaging = (_7 = /** @class */ (function () {\r\n                function class_32() {\r\n                }\r\n                return class_32;\r\n            }()),\r\n            _7.Requests = (_8 = /** @class */ (function () {\r\n                    function class_33() {\r\n                    }\r\n                    return class_33;\r\n                }()),\r\n                _8.VALUE = { name: \"UserFacts_Messaging_Requests\" },\r\n                _8),\r\n            _7),\r\n        _1.AugLoop = (_9 = /** @class */ (function () {\r\n                function class_34() {\r\n                }\r\n                return class_34;\r\n            }()),\r\n            _9.Requests = (_10 = /** @class */ (function () {\r\n                    function class_35() {\r\n                    }\r\n                    return class_35;\r\n                }()),\r\n                _10.VALUE = { name: \"UserFacts_AugLoop_Requests\" },\r\n                _10),\r\n            _9.Error = (_11 = /** @class */ (function () {\r\n                    function class_36() {\r\n                    }\r\n                    return class_36;\r\n                }()),\r\n                _11.VALUE = { name: \"UserFacts_AugLoop_Error\" },\r\n                _11),\r\n            _9),\r\n        _1.Provider = (_12 = /** @class */ (function () {\r\n                function class_37() {\r\n                }\r\n                return class_37;\r\n            }()),\r\n            _12.Info = (_13 = /** @class */ (function () {\r\n                    function class_38() {\r\n                    }\r\n                    return class_38;\r\n                }()),\r\n                _13.VALUE = { name: \"UserFacts_Provider_Summary\" },\r\n                _13),\r\n            _12),\r\n        _1);\r\n    EventIds.Common = (_14 = /** @class */ (function () {\r\n            function class_39() {\r\n            }\r\n            return class_39;\r\n        }()),\r\n        _14.Error = (_15 = /** @class */ (function () {\r\n                function class_40() {\r\n                }\r\n                return class_40;\r\n            }()),\r\n            _15.VALUE = { name: \"Common_Error\" },\r\n            _15),\r\n        _14.Info = (_16 = /** @class */ (function () {\r\n                function class_41() {\r\n                }\r\n                return class_41;\r\n            }()),\r\n            _16.VALUE = { name: \"Common_Info\" },\r\n            _16),\r\n        _14);\r\n    return EventIds;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0NvbnN0YW50cy50cz9hZmEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBMENIO0lBQUE7SUE4SUEsQ0FBQzs7SUE3SWMsY0FBSztZQUFHO1lBa0J0QixDQUFDO1lBQUQsY0FBQztRQUFELENBQUM7UUFqQmMsS0FBRTtnQkFBRztnQkFnQm5CLENBQUM7Z0JBQUQsY0FBQztZQUFELENBQUM7WUFmYyxTQUFNO29CQUFHO29CQUl2QixDQUFDO29CQUFELGNBQUM7Z0JBQUQsQ0FBQztnQkFIYyxRQUFLO3dCQUFHO3dCQUV0QixDQUFDO3dCQUFELGNBQUM7b0JBQUQsQ0FBQztvQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUc7dUJBQ2pFO21CQUNEO1lBRVksT0FBSTtvQkFBRztvQkFRckIsQ0FBQztvQkFBRCxjQUFDO2dCQUFELENBQUM7Z0JBUGMsUUFBSzt3QkFBRzt3QkFFdEIsQ0FBQzt3QkFBRCxjQUFDO29CQUFELENBQUM7b0JBRGMsUUFBSyxHQUFhLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixFQUFHO3VCQUMvRDtnQkFFWSxTQUFNO3dCQUFHO3dCQUV2QixDQUFDO3dCQUFELGNBQUM7b0JBQUQsQ0FBQztvQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsc0JBQXNCLEVBQUc7dUJBQ2hFO21CQUNEO2VBQ0Q7WUFDRDtJQUVGLHFEQUFxRDtJQUN2Qyw2Q0FBb0MsR0FBYSxFQUFFLElBQUksRUFBRSxzQ0FBc0MsRUFBRSxDQUFDO0lBQ2xHLHlDQUFnQyxHQUFhLEVBQUUsSUFBSSxFQUFFLGtDQUFrQyxFQUFFLENBQUM7SUFDMUYsMENBQWlDLEdBQWEsRUFBRSxJQUFJLEVBQUUsbUNBQW1DLEVBQUUsQ0FBQztJQUM1RixvQ0FBMkIsR0FBYSxFQUFFLElBQUksRUFBRSw2QkFBNkIsRUFBRSxDQUFDO0lBQ2hGLHNDQUE2QixHQUFh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b2dnaW5nL0NvbnN0YW50cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb25zdGFudHMudHNcclxuICpcclxuICogTW9kdWxlIHRvIGhvbGQgbG9nZ2luZy1yZWxhdGVkIGNvbnN0YW50c1xyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUN1c3RvbVByb3BlcnRpZXMge1xyXG5cdENhbXBhaWduSWQ/OiBzdHJpbmc7XHJcblx0Q29ycmVsYXRpb25JZD86IHN0cmluZztcclxuXHRDb3VudD86IG51bWJlcjtcclxuXHREYXRhPzogc3RyaW5nO1xyXG5cdEVycm9yTWVzc2FnZT86IHN0cmluZztcclxuXHRGZWVkYmFja1R5cGU/OiBudW1iZXI7XHJcblx0UGFuZWxUeXBlPzogbnVtYmVyO1xyXG5cdEZpbGVOYW1lPzogc3RyaW5nO1xyXG5cdEZsaWdodHM/OiBzdHJpbmc7XHJcblx0SHR0cFN0YXR1c0NvZGU/OiBudW1iZXI7XHJcblx0SHR0cFN0YXR1c1RleHQ/OiBzdHJpbmc7XHJcblx0SXNCdWdFbmFibGVkPzogYm9vbGVhbjtcclxuXHRJc0RpYWdub3N0aWNzSW5jbHVkZWQ/OiBib29sZWFuO1xyXG5cdElzRW1haWxJbmNsdWRlZD86IGJvb2xlYW47XHJcblx0SXNFbWFpbFBvbGljeUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cdElzSWRlYUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cdElzU2NyZWVuc2hvdEluY2x1ZGVkPzogYm9vbGVhbjtcclxuXHRNZXNzYWdlPzogc3RyaW5nO1xyXG5cdFNlc3Npb25JZD86IHN0cmluZztcclxuXHRTdXJ2ZXlJZD86IHN0cmluZztcclxuXHRTdXJ2ZXlUeXBlPzogbnVtYmVyO1xyXG5cdFRpbWVNaWxsaXNlY29uZHM/OiBudW1iZXI7XHJcblx0VHlwZT86IHN0cmluZztcclxuXHRDbGllbnRGZWVkYmFja0lkPzogc3RyaW5nO1xyXG5cdFByb21wdEF1dG9EaXNtaXNzPzogc3RyaW5nO1xyXG5cdEFkZGl0aW9uYWxTdXJ2ZXlJbmZvPzogc3RyaW5nO1xyXG5cdFN1cnZleUFjdGl2aXR5SW5mbz86IHN0cmluZztcclxuXHRQZXJzb25hbGl6ZXJVc2VyQWN0aW9uPzogbnVtYmVyO1xyXG5cdFBlcnNvbmFsaXplckV2ZW50SWQ/OiBzdHJpbmc7XHJcblx0R292ZXJuYW5jZVJlcXVlc3RCb2R5Pzogc3RyaW5nO1xyXG5cdEdvdmVybmFuY2VSZXNwb25zZVRleHQ/OiBzdHJpbmc7XHJcblx0QWN0dWFsU2V0QXV0b0Rpc21pc3NWYWx1ZT86IG51bWJlcjtcclxuXHRDVkZvcm1JZD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRJZCB7XHJcblx0bmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRXZlbnRJZHMge1xyXG5cdHB1YmxpYyBzdGF0aWMgSW5BcHAgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIFVJID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFBpY2tlciA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFNob3duID0gY2xhc3Mge1xyXG5cdFx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiSW5BcHBfVUlfUGlja2VyX1Nob3duXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cHVibGljIHN0YXRpYyBGb3JtID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgU2hvd24gPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJJbkFwcF9VSV9Gb3JtX1Nob3duXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFN1Ym1pdCA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIkluQXBwX1VJX0Zvcm1fU3VibWl0XCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvLyBUaGlzIHNhdmVzIH40MDAgYnl0ZXMgKG1pbmlmaWVkKSB2cyBuZXN0ZWQgY2xhc3Nlc1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9DQU1QQUlHTkxPQURfRkFJTEVEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfRmxvb2RnYXRlX0NhbXBhaWduTG9hZF9GYWlsZWRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9GSUxFUkVBRF9GQUlMRUQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9GbG9vZGdhdGVfRmlsZVJlYWRfRmFpbGVkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9GTE9PREdBVEVfRklMRVdSSVRFX0ZBSUxFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X0Zsb29kZ2F0ZV9GaWxlV3JpdGVfRmFpbGVkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9GTE9PREdBVEVfVFJJR0dFUk1FVDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X0Zsb29kZ2F0ZV9UcmlnZ2VyTWV0XCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9GTE9PREdBVEVfVVNFUlNFTEVDVEVEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfRmxvb2RnYXRlX1VzZXJTZWxlY3RlZFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9TSE9XTjogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX0Zvcm1fU2hvd25cIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX0ZPUk1fU1VCTUlUOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9TdWJtaXRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX0ZPUk1fU0VDT05EQVJZX1NVQk1JVDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX0Zvcm1fU2Vjb25kYXJ5X1N1Ym1pdFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9TVUJNSVRfRVJST1I6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9Gb3JtX1N1Ym1pdF9FcnJvclwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9VU0VSQ0xPU0VEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9Vc2VyQ2xvc2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9GT1JNX05PX1JFVFVSTl9UWVBFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9Ob19SZXR1cm5fVHlwZVwifTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfUFJPTVBUX0FVVE9ESVNNSVNTRUQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9Qcm9tcHRfQXV0b0Rpc21pc3NlZFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfUFJPTVBUX1NIT1dOOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfUHJvbXB0X1Nob3duXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9QUk9NUFRfVVNFUkNMT1NFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX1Byb21wdF9Vc2VyQ2xvc2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9QUk9NUFRfQ0xJQ0tFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX1Byb21wdF9DbGlja2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9SRURJUkVDVElPTkZBSUxVUkU6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9SZWRpcmVjdGlvbkZhaWx1cmVcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgR09WRVJOQU5DRV9TRVJWSUNFRkFJTFVSRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiR29ydmVuYW5jZV9TZXJ2aWNlRmFpbHVyZVwiIH07XHJcblx0cHVibGljIHN0YXRpYyBHT1ZFUk5BTkNFX1NFUlZJQ0VSRVNVTFQ6IElFdmVudElkID0geyBuYW1lOiBcIkdvcnZlbmFuY2VfU2VydmljZVJlc3VsdFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBEWU5BTUlDVFJBTlNQT1JUX1BPU1RfRVJST1I6IElFdmVudElkID0geyBuYW1lOiBcIkR5bmFtaWNUcmFuc3BvcnRfUG9zdF9FcnJvclwiIH07XHJcblx0cHVibGljIHN0YXRpYyBGRUVEQkFDS19TVVJWRVlTRElTQUJMRURfQUFEQzogSUV2ZW50SWQgPSB7bmFtZTogXCJGZWVkYmFja19TdXJ2ZXlzRGlzYWJsZWRfQUFEQ1wifTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9ESVNBQkxFRF9BQURDOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfUHJldmVudGVkX0FBRENcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgUEVSU09OQUxJWkVSX1NFUlZJQ0VSRVdBUkRSRVNVTFQ6IElFdmVudElkID0geyBuYW1lOiBcIlBlcnNvbmFsaXplcl9TZXJ2aWNlUmV3YXJkUmVzdWx0XCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFBFUlNPTkFMSVpFUl9DTElFTlRGQUlMVVJFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJQZXJzb25hbGl6ZXJfQ2xpZW50RmFpbHVyZVwiIH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU2hhcmVkID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBVcGxvYWQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlNoYXJlZF9VcGxvYWRfRmFpbGVkXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBQcmV2ZW50ZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU2hhcmVkX1VwbG9hZF9QcmV2ZW50ZWRfQUFEQ1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU2NyZWVuc2hvdCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBSZW5kZXIgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTaGFyZWRfU2NyZWVuc2hvdF9SZW5kZXJfRmFpbGVkXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgU3VjY2VzcyA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlNoYXJlZF9TY3JlZW5zaG90X1JlbmRlcl9TdWNjZXNzXCIgfTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cHVibGljIHN0YXRpYyBHZXRDb250ZW50ID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkID0gY2xhc3Mge1xyXG5cdFx0XHRcdFx0cHVibGljIHN0YXRpYyBEZWZhdWx0SW1hZ2UgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgUmV0dXJuZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU2hhcmVkX1NjcmVlbnNob3RfR2V0Q29udGVudF9GYWlsZWRfRGVmYXVsdEltYWdlX1JldHVybmVkXCIgfTtcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBXZWJTdXJmYWNlcyA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgQ29tbW9uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEVycm9yID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIldlYlN1cmZhY2VzX0NvbW1vbl9FcnJvclwiIH07XHJcblx0XHRcdH07XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgSW5mbyA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJXZWJTdXJmYWNlc19Db21tb25fSW5mb1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgTWVzc2FnaW5nID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFJlcXVlc3RzID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIldlYlN1cmZhY2VzX01lc3NhZ2luZ19SZXF1ZXN0c1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgVXNlckZhY3RzID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBDb21tb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX0NvbW1vbl9FcnJvclwiIH07XHJcblx0XHRcdH07XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgSW5mbyA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfQ29tbW9uX0luZm9cIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIExvY2FsRmFjdCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBFcnJvciA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfTG9jYWxGYWN0X0Vycm9yXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBNZXNzYWdpbmcgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgUmVxdWVzdHMgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX01lc3NhZ2luZ19SZXF1ZXN0c1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgQXVnTG9vcCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBSZXF1ZXN0cyA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfQXVnTG9vcF9SZXF1ZXN0c1wiIH07XHJcblx0XHRcdH07XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX0F1Z0xvb3BfRXJyb3JcIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFByb3ZpZGVyID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEluZm8gPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiVXNlckZhY3RzX1Byb3ZpZGVyX1N1bW1hcnlcIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIENvbW1vbiA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIkNvbW1vbl9FcnJvclwiIH07XHJcblx0XHR9O1xyXG5cdFx0cHVibGljIHN0YXRpYyBJbmZvID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJDb21tb25fSW5mb1wiIH07XHJcblx0XHR9O1xyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Constants.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Logging.ts":
/*!****************************************!*\
  !*** ./scripts/app/Logging/Logging.ts ***!
  \****************************************/
/*! exports provided: EventIds, initialize, getLogger, Logger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLogger\", function() { return getLogger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Logger\", function() { return Logger; });\n/* harmony import */ var _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Telemetry/Contracts */ \"./scripts/app/Logging/Telemetry/Contracts.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Telemetry_TelemetryLoggerFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Telemetry/TelemetryLoggerFactory */ \"./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Constants */ \"./scripts/app/Logging/Constants.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EventIds\", function() { return _Constants__WEBPACK_IMPORTED_MODULE_5__[\"EventIds\"]; });\n\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"isNOU\"];\r\nvar NAMESPACE = \"Office_Feedback\";\r\nvar logger;\r\nvar env;\r\n/**\r\n * Initialize the logging module\r\n * @param initOptionsCommon object contains common init options\r\n * @param appName app name\r\n * @param appVersion app version\r\n * @param logSessionId local SDK session id\r\n */\r\nfunction initialize(initOptionsCommon, appName, appVersion, logSessionId, samplingOption) {\r\n    var telemetryGroup = initOptionsCommon.telemetryGroup ? initOptionsCommon.telemetryGroup : {};\r\n    var webGroup = initOptionsCommon.webGroup ? initOptionsCommon.webGroup : {};\r\n    logger = new Logger(_Telemetry_TelemetryLoggerFactory__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(TokenManager.getTenantToken(initOptionsCommon.environment), NAMESPACE, new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"App\"](appName, appVersion), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Session\"](logSessionId), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Host\"](initOptionsCommon.appId.toString(), initOptionsCommon.originalLocale, initOptionsCommon.sessionId, initOptionsCommon.build), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Release\"](telemetryGroup.audienceGroup), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Browser\"](webGroup.browser, webGroup.browserVersion), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"Device\"](telemetryGroup.deviceId), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__[\"User\"](telemetryGroup.loggableUserId ? telemetryGroup.loggableUserId : initOptionsCommon.cid, telemetryGroup.tenantId)), samplingOption, initOptionsCommon);\r\n    env = initOptionsCommon.environment;\r\n}\r\n/**\r\n * Get the logger object\r\n */\r\nfunction getLogger() {\r\n    return logger;\r\n}\r\n;\r\n;\r\n/**\r\n * Class representing a logger for the feedback SDK\r\n */\r\nvar Logger = /** @class */ (function () {\r\n    function Logger(telemetryLogger, samplingOptions, initOptionsCommon) {\r\n        this.SAMPLING_RESULT = Math.random();\r\n        if (!telemetryLogger) {\r\n            throw new Error(\"telemetryLogger must not be null\");\r\n        }\r\n        this.telemetryLogger = telemetryLogger;\r\n        this.eventSampling = samplingOptions;\r\n        this.initOptionsCommon = initOptionsCommon;\r\n    }\r\n    /**\r\n     * Log an event\r\n     * @param eventId event Id\r\n     * @param logSeverity the log level severity for the message\r\n     * @param customProperties custom properties to add to the log\r\n     * @param internalSampleRate sample rate for this event in decimal (example: 0.05 for 5%). (Does not override host set sampleRate)\r\n     */\r\n    Logger.prototype.logEvent = function (eventId, logSeverity, customProperties, internalSampleRate) {\r\n        if (!eventId) {\r\n            throw new Error(\"eventId must not be null\");\r\n        }\r\n        var sampleRate = Logger.DEFAULT_SAMPLE_RATE;\r\n        // Host set sample rate has precedence over internalSampleRate.\r\n        if (this.isEventSampled(eventId.name)) {\r\n            sampleRate = this.getEventSamplingRate(eventId.name);\r\n        }\r\n        else if (internalSampleRate !== undefined) {\r\n            sampleRate = internalSampleRate;\r\n        }\r\n        if (isNOU(logSeverity) || logSeverity === 0 /* None */) {\r\n            if (env === 0 /* Production */) {\r\n                var errorMessage = \"logSeverity must not be null or none\";\r\n                if (this.isConsoleLogEnabled && console) {\r\n                    // tslint:disable:no-console\r\n                    console.log(\"Floodgate event: \", Logger.EVENT_NAME, errorMessage);\r\n                }\r\n                this.telemetryLogger.logEvent(Logger.EVENT_NAME, { ErrorMessage: errorMessage }, sampleRate);\r\n            }\r\n            return false;\r\n        }\r\n        customProperties = customProperties || {};\r\n        customProperties[Logger.EVENT_ID] = eventId.name;\r\n        if (this.isLoggingEnabled(logSeverity, sampleRate) || this.isEventTelemetryEnabled(eventId.name)) {\r\n            this.telemetryLogger.logEvent(Logger.EVENT_NAME, customProperties, sampleRate);\r\n        }\r\n        if (this.isConsoleLogEnabled && console) {\r\n            // tslint:disable:no-console\r\n            console.log(\"Floodgate event: \", Logger.EVENT_NAME, logSeverity, customProperties);\r\n        }\r\n        return true;\r\n    };\r\n    Logger.prototype.logLocal = function (logSeverity) {\r\n        var others = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            others[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.isLoggingEnabled(logSeverity) && this.isConsoleLogEnabled && console) {\r\n            // tslint:disable:no-console\r\n            console.log(\"LPP FG: \", logSeverity, others);\r\n        }\r\n    };\r\n    Logger.prototype.getUserSamplingRate = function () {\r\n        return this.SAMPLING_RESULT;\r\n    };\r\n    Logger.prototype.isEventTelemetryEnabled = function (eventName) {\r\n        var _a, _b, _c, _d;\r\n        try {\r\n            if (!this.dynamicLogSettings) {\r\n                return false;\r\n            }\r\n            var appId = (_b = (_a = this.initOptionsCommon) === null || _a === void 0 ? void 0 : _a.appId) === null || _b === void 0 ? void 0 : _b.toString();\r\n            var locale = (_d = (_c = this.initOptionsCommon) === null || _c === void 0 ? void 0 : _c.originalLocale) === null || _d === void 0 ? void 0 : _d.toLowerCase();\r\n            var settingName = \"content_\" + eventName;\r\n            // try settings from more specific to generic order\r\n            var overrideSettings = this.dynamicLogSettings[settingName + \"_\" + appId + \"_\" + locale] ||\r\n                this.dynamicLogSettings[settingName + \"_\" + appId] ||\r\n                this.dynamicLogSettings[settingName + \"_\" + locale] ||\r\n                this.dynamicLogSettings[settingName];\r\n            return overrideSettings === null || overrideSettings === void 0 ? void 0 : overrideSettings.isEnabled;\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log(\"FG: Error checking for dynamic log settings: \", e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * This method enables logging only if the log severity of the event is less than or equal to the\r\n     * current log level set and within the sample rate. For example, if the log severity of the event is\r\n     * LogLevel.Error and the current log level is set as LogLevel.Critical, then isLoggingEnabled will\r\n     * return false since the condition LogLevel.Error <= LogLevel.Critical is false. Because, the log severity\r\n     * follows the order defined in the LogLevel enum (None < Critical < Error < Info). The sample rate is the\r\n     * percentage of users allow to send the event back. If the random genarated number is less than the sample rate\r\n     * and the sample rate is not full blocking (0 value)\r\n     * If no current log level is set, then the default log level is set as LogLevel.Error so that all events\r\n     * marked with critical and error log severity get logged.\r\n     * @param inputLogLevel the log severity of the event\r\n     */\r\n    Logger.prototype.isLoggingEnabled = function (inputLogLevel, sampleRate) {\r\n        if (sampleRate === void 0) { sampleRate = 1; }\r\n        if (isNOU(this.logLevel)) {\r\n            var currentLogLevel = this.getCurrentLogLevel();\r\n            this.logLevel = isNOU(currentLogLevel) ? 2 /* Error */ : currentLogLevel;\r\n        }\r\n        return (inputLogLevel <= this.logLevel && this.SAMPLING_RESULT <= sampleRate && sampleRate !== 0);\r\n    };\r\n    /**\r\n     * This method returns the current log level if it is set in either url query parameters or floodgate local storage.\r\n     * Following table summarizes whether the log event calls with a log severity will log the events or not according\r\n     * to the current log level set. For example, the first row in the table demonstrates that when the current log level\r\n     * enabled is critical, then the log event will log the events only if the log severity is critical.\r\n     *\r\n     * Current Log Level Enabled | LogSeverity: Critical\t| LogSeverity: Error\t| LogSeverity: Info\r\n     * --------------------------------------------------------------------------------------------\r\n     * Critical Enabled\t\t\t | yes      \t\t\t\t| no    \t\t\t \t| no\r\n     * Error Enabled       \t\t | yes      \t\t\t\t| yes   \t\t\t \t| no\r\n     * Info Enabled        \t\t | yes      \t\t\t\t| yes   \t\t\t \t| yes\r\n     * None Enabled        \t\t | no       \t\t\t\t| no    \t\t\t \t| no\r\n     *\r\n     * Console logging will be enabled when the current log level is set through the url query parameters or\r\n     * when the url query parameter \"obfconsolelog\" is explicitly set to true.\r\n     */\r\n    Logger.prototype.getCurrentLogLevel = function () {\r\n        try {\r\n            // Check if console log is enabled in local browser session with query parameter overrides\r\n            var urlParams = typeof URLSearchParams !== \"undefined\" && new URLSearchParams(window.location.search) || undefined;\r\n            var consoleLogParam = urlParams && urlParams.get(\"obfconsolelog\");\r\n            if (!consoleLogParam) {\r\n                // for getting iframe host url - eg: WAC\r\n                var documentReferrer = typeof document !== \"undefined\" && document.referrer;\r\n                consoleLogParam = documentReferrer && documentReferrer.indexOf(\"obfconsolelog\") !== -1;\r\n            }\r\n            if (consoleLogParam) {\r\n                this.isConsoleLogEnabled = true;\r\n            }\r\n            // Check if log level is set in local browser session with query parameter overrides\r\n            var logLevelParam = urlParams && urlParams.get(\"obfloglevel\");\r\n            if (!isNOU(logLevelParam)) {\r\n                this.isConsoleLogEnabled = true;\r\n                return parseInt(logLevelParam, 10);\r\n            }\r\n            // Check if log level is set in floodgate local storage (manually or with remotely fetched settings)\r\n            if (_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isStorageAvailable()) {\r\n                var floodgateStorageProvider = new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n                var tempStorageItem = floodgateStorageProvider.read(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__[\"FileType\"].LogLevelSettings);\r\n                if (!tempStorageItem) {\r\n                    tempStorageItem = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_6__[\"getDynamicSetting\"])(\"LogLevelSettings\" /* logLevelSettings */, \"\");\r\n                }\r\n                var settingsObj = tempStorageItem && this.parseObject(tempStorageItem);\r\n                if (settingsObj) {\r\n                    this.dynamicLogSettings = settingsObj;\r\n                    var logSettings = settingsObj.content;\r\n                    if (this.initOptionsCommon) {\r\n                        var appId = this.initOptionsCommon.appId && this.initOptionsCommon.appId.toString();\r\n                        var locale = this.initOptionsCommon.originalLocale && this.initOptionsCommon.originalLocale.toLowerCase();\r\n                        // log settings from more specific to generic order\r\n                        logSettings = settingsObj[\"content_\" + appId + \"_\" + locale] ||\r\n                            settingsObj[\"content_\" + appId] ||\r\n                            settingsObj[\"content_\" + locale] ||\r\n                            settingsObj[\"content\"];\r\n                    }\r\n                    if (logSettings) {\r\n                        if (logSettings.consoleLog) {\r\n                            this.isConsoleLogEnabled = true;\r\n                        }\r\n                        return logSettings.logLevel;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log(\"Error while getting the current log level: \", e);\r\n            }\r\n            return undefined;\r\n        }\r\n        return null;\r\n    };\r\n    Logger.prototype.parseObject = function (tempItem) {\r\n        try {\r\n            return JSON.parse(tempItem);\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log(\"Error while parsing the json string for log level: \", e);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    Logger.prototype.getEventSamplingRate = function (eventId) {\r\n        var sampleRate = 1;\r\n        if (this.eventSampling.event) {\r\n            // If the event is init with sample rate\r\n            // check the sampling result against the sample rate\r\n            if (eventId in this.eventSampling.event) {\r\n                sampleRate = this.eventSampling.event[eventId];\r\n            }\r\n        }\r\n        return sampleRate;\r\n    };\r\n    Logger.prototype.isEventSampled = function (eventId) {\r\n        if (this.eventSampling.event) {\r\n            if (eventId in this.eventSampling.event) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Logger.EVENT_NAME = \"SDK\";\r\n    Logger.EVENT_ID = \"EventId\";\r\n    Logger.DEFAULT_SAMPLE_RATE = 1;\r\n    return Logger;\r\n}());\r\n\r\nvar TokenManager = /** @class */ (function () {\r\n    function TokenManager() {\r\n    }\r\n    TokenManager.getTenantToken = function (environment) {\r\n        if (environment === 0 /* Production */) {\r\n            return TokenManager.TENANT_TOKEN_PRODUCTION;\r\n        }\r\n        else {\r\n            return TokenManager.TENANT_TOKEN_PRE_PRODUCTION;\r\n        }\r\n    };\r\n    TokenManager.TENANT_TOKEN_PRODUCTION = \"d79e824386c4441cb8c1d4ae15690526-bd443309-5494-444a-aba9-0af9eef99f84-7360\"; // \"Office Feedback\" Prod Aria tenant\r\n    TokenManager.TENANT_TOKEN_PRE_PRODUCTION = \"2bf6a2ffddca4a80a892a0b182132961-625cb102-8b0c-480e-af53-92e48695d08d-7736\"; // \"Office Feedback\" Sandbox Aria tenant\r\n    return TokenManager;\r\n}());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0xvZ2dpbmcudHM/ZDhlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTJGO0FBQ3ZEO0FBRW9DO0FBQ1M7QUFDYTtBQUUxQjtBQUNrQjtBQUU5RSxTQUFLLEdBQUssNENBQUwsQ0FBVztBQUN4QixJQUFNLFNBQVMsR0FBVyxpQkFBaUIsQ0FBQztBQUU1QyxJQUFJLE1BQWUsQ0FBQztBQUNwQixJQUFJLEdBQWdCLENBQUM7QUFFckI7Ozs7OztHQU1HO0FBQ0ksU0FBUyxVQUFVLENBQUMsaUJBQXFDLEVBQUUsT0FBZSxFQUFFLFVBQWtCLEVBQ3BHLFlBQW9CLEVBQUUsY0FBbUM7SUFFekQsSUFBTSxjQUFjLEdBQUcsaUJBQWlCLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNoRyxJQUFNLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRTlFLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FDbEIseUVBQXNCLENBQUMsTUFBTSxDQUM1QixZQUFZLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxFQUMxRCxTQUFTLEVBQ1QsSUFBSSx3REFBRyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFDNUIsSUFBSSw0REFBTyxDQUFDLFlBQVksQ0FBQyxFQUN6QixJQUFJLHlEQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFLGlCQUFpQixDQUFDLGNBQWMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEVBQ3BJ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QyxDQUFDLHFDQUFxQztJQUNwRyx3Q0FBMkIsR0FDMUMsNEVBQTRFLENBQUMsQ0FBQyx3Q0FBd0M7SUFDdkgsbUJBQUM7Q0FBQSIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvTG9nZ2luZy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElJbml0T3B0aW9uc0NvbW1vbiwgSVNhbXBsaW5nSW5pdE9wdGlvbiB9IGZyb20gXCIuLy4uL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zXCI7XHJcbmltcG9ydCB7IElFdmVudElkLCBJQ3VzdG9tUHJvcGVydGllcyB9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBBcHAsIEJyb3dzZXIsIERldmljZSwgSG9zdCwgUmVsZWFzZSwgU2Vzc2lvbiwgVXNlciB9IGZyb20gXCIuL1RlbGVtZXRyeS9Db250cmFjdHNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0IElUZWxlbWV0cnlMb2dnZXIgZnJvbSBcIi4vVGVsZW1ldHJ5L0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuaW1wb3J0IFRlbGVtZXRyeUxvZ2dlckZhY3RvcnkgZnJvbSBcIi4vVGVsZW1ldHJ5L1RlbGVtZXRyeUxvZ2dlckZhY3RvcnlcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgRmlsZVR5cGUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcblxyXG5leHBvcnQgeyBJQ3VzdG9tUHJvcGVydGllcywgSUV2ZW50SWQsIEV2ZW50SWRzIH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGdldER5bmFtaWNTZXR0aW5nLCBTZXR0aW5nS2V5IH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vRHluYW1pY0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5jb25zdCBOQU1FU1BBQ0U6IHN0cmluZyA9IFwiT2ZmaWNlX0ZlZWRiYWNrXCI7XHJcblxyXG5sZXQgbG9nZ2VyOiBJTG9nZ2VyO1xyXG5sZXQgZW52OiBFbnZpcm9ubWVudDtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIHRoZSBsb2dnaW5nIG1vZHVsZVxyXG4gKiBAcGFyYW0gaW5pdE9wdGlvbnNDb21tb24gb2JqZWN0IGNvbnRhaW5zIGNvbW1vbiBpbml0IG9wdGlvbnNcclxuICogQHBhcmFtIGFwcE5hbWUgYXBwIG5hbWVcclxuICogQHBhcmFtIGFwcFZlcnNpb24gYXBwIHZlcnNpb25cclxuICogQHBhcmFtIGxvZ1Nlc3Npb25JZCBsb2NhbCBTREsgc2Vzc2lvbiBpZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoaW5pdE9wdGlvbnNDb21tb246IElJbml0T3B0aW9uc0NvbW1vbiwgYXBwTmFtZTogc3RyaW5nLCBhcHBWZXJzaW9uOiBzdHJpbmcsXHJcblx0bG9nU2Vzc2lvbklkOiBzdHJpbmcsIHNhbXBsaW5nT3B0aW9uOiBJU2FtcGxpbmdJbml0T3B0aW9uKTogdm9pZCB7XHJcblxyXG5cdGNvbnN0IHRlbGVtZXRyeUdyb3VwID0gaW5pdE9wdGlvbnNDb21tb24udGVsZW1ldHJ5R3JvdXAgPyBpbml0T3B0aW9uc0NvbW1vbi50ZWxlbWV0cnlHcm91cCA6IHt9O1xyXG5cdGNvbnN0IHdlYkdyb3VwID0gaW5pdE9wdGlvbnNDb21tb24ud2ViR3JvdXAgPyBpbml0T3B0aW9uc0NvbW1vbi53ZWJHcm91cCA6IHt9O1xyXG5cclxuXHRsb2dnZXIgPSBuZXcgTG9nZ2VyKFxyXG5cdFx0VGVsZW1ldHJ5TG9nZ2VyRmFjdG9yeS5jcmVhdGUoXHJcblx0XHRcdFRva2VuTWFuYWdlci5nZXRUZW5hbnRUb2tlbihpbml0T3B0aW9uc0NvbW1vbi5lbnZpcm9ubWVudCksXHJcblx0XHRcdE5BTUVTUEFDRSxcclxuXHRcdFx0bmV3IEFwcChhcHBOYW1lLCBhcHBWZXJzaW9uKSxcclxuXHRcdFx0bmV3IFNlc3Npb24obG9nU2Vzc2lvbklkKSxcclxuXHRcdFx0bmV3IEhvc3QoaW5pdE9wdGlvbnNDb21tb24uYXBwSWQudG9TdHJpbmcoKSwgaW5pdE9wdGlvbnNDb21tb24ub3JpZ2luYWxMb2NhbGUsIGluaXRPcHRpb25zQ29tbW9uLnNlc3Npb25JZCwgaW5pdE9wdGlvbnNDb21tb24uYnVpbGQpLFxyXG5cdFx0XHRuZXcgUmVsZWFzZSh0ZWxlbWV0cnlHcm91cC5hdWRpZW5jZUdyb3VwKSxcclxuXHRcdFx0bmV3IEJyb3dzZXIod2ViR3JvdXAuYnJvd3Nlciwgd2ViR3JvdXAuYnJvd3NlclZlcnNpb24pLFxyXG5cdFx0XHRuZXcgRGV2aWNlKHRlbGVtZXRyeUdyb3VwLmRldmljZUlkKSxcclxuXHRcdFx0bmV3IFVzZXIodGVsZW1ldHJ5R3JvdXAubG9nZ2FibGVVc2VySWQgPyB0ZWxlbWV0cnlHcm91cC5sb2dnYWJsZVVzZXJJZCA6IGluaXRPcHRpb25zQ29tbW9uLmNpZCwgdGVsZW1ldHJ5R3JvdXAudGVuYW50SWQpXHJcblx0XHQpLFxyXG5cdFx0c2FtcGxpbmdPcHRpb24sXHJcblx0XHRpbml0T3B0aW9uc0NvbW1vblxyXG5cdCk7XHJcblxyXG5cdGVudiA9IGluaXRPcHRpb25zQ29tbW9uLmVudmlyb25tZW50O1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBsb2dnZXIgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nZ2VyKCk6IElMb2dnZXIge1xyXG5cdHJldHVybiBsb2dnZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGEgbG9nZ2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXIge1xyXG5cdGxvZ0V2ZW50KGV2ZW50SWQ6IElFdmVudElkLCBsb2dTZXZlcml0eTogTG9nTGV2ZWwsIGN1c3RvbVByb3BlcnRpZXM/OiBJQ3VzdG9tUHJvcGVydGllcywgaW50ZXJuYWxTYW1wbGVSYXRlPzogbnVtYmVyKTogdm9pZDtcclxuXHRsb2dMb2NhbD8obG9nU2V2ZXJpdHk6IExvZ0xldmVsLCAuLi5vdGhlcnM6IGFueVtdKTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZyBsZXZlbCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gTG9nTGV2ZWwge1xyXG5cdE5vbmUsXHJcblx0Q3JpdGljYWwsXHJcblx0RXJyb3IsXHJcblx0SW5mb1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSUxvZ1NldHRpbmdzIHtcclxuXHRjb25zb2xlTG9nPzogYm9vbGVhbjtcclxuXHRpc0VuYWJsZWQ/OiBib29sZWFuO1xyXG5cdGxvZ0xldmVsPzogTG9nTGV2ZWw7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgSUxvZ0xldmVsU2V0dGluZ3Mge1xyXG5cdGNvbnRlbnQ6IElMb2dTZXR0aW5ncztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBsb2dnZXIgZm9yIHRoZSBmZWVkYmFjayBTREtcclxuICovXHJcbmV4cG9ydCBjbGFzcyBMb2dnZXIgaW1wbGVtZW50cyBJTG9nZ2VyIHtcclxuXHRwcml2YXRlIHN0YXRpYyBFVkVOVF9OQU1FOiBzdHJpbmcgPSBcIlNES1wiO1xyXG5cdHByaXZhdGUgc3RhdGljIEVWRU5UX0lEOiBzdHJpbmcgPSBcIkV2ZW50SWRcIjtcclxuXHRwcml2YXRlIHN0YXRpYyBERUZBVUxUX1NBTVBMRV9SQVRFOiBudW1iZXIgPSAxO1xyXG5cclxuXHRwcml2YXRlIHRlbGVtZXRyeUxvZ2dlcjogSVRlbGVtZXRyeUxvZ2dlcjtcclxuXHRwcml2YXRlIGxvZ0xldmVsOiBMb2dMZXZlbDtcclxuXHRwcml2YXRlIGlzQ29uc29sZUxvZ0VuYWJsZWQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBkeW5hbWljTG9nU2V0dGluZ3M6IElMb2dMZXZlbFNldHRpbmdzO1xyXG5cclxuXHRwcml2YXRlIGV2ZW50U2FtcGxpbmc6IElTYW1wbGluZ0luaXRPcHRpb247XHJcblx0cHJpdmF0ZSBpbml0T3B0aW9uc0NvbW1vbjogSUluaXRPcHRpb25zQ29tbW9uO1xyXG5cclxuXHRwcml2YXRlIHJlYWRvbmx5IFNBTVBMSU5HX1JFU1VMVCA9IE1hdGgucmFuZG9tKCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHRlbGVtZXRyeUxvZ2dlcjogSVRlbGVtZXRyeUxvZ2dlciwgc2FtcGxpbmdPcHRpb25zOiBJU2FtcGxpbmdJbml0T3B0aW9uLCBpbml0T3B0aW9uc0NvbW1vbj86IElJbml0T3B0aW9uc0NvbW1vbikge1xyXG5cdFx0aWYgKCF0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVsZW1ldHJ5TG9nZ2VyIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy50ZWxlbWV0cnlMb2dnZXIgPSB0ZWxlbWV0cnlMb2dnZXI7XHJcblx0XHR0aGlzLmV2ZW50U2FtcGxpbmcgPSBzYW1wbGluZ09wdGlvbnM7XHJcblx0XHR0aGlzLmluaXRPcHRpb25zQ29tbW9uID0gaW5pdE9wdGlvbnNDb21tb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgYW4gZXZlbnRcclxuXHQgKiBAcGFyYW0gZXZlbnRJZCBldmVudCBJZFxyXG5cdCAqIEBwYXJhbSBsb2dTZXZlcml0eSB0aGUgbG9nIGxldmVsIHNldmVyaXR5IGZvciB0aGUgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSBjdXN0b21Qcm9wZXJ0aWVzIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgbG9nXHJcblx0ICogQHBhcmFtIGludGVybmFsU2FtcGxlUmF0ZSBzYW1wbGUgcmF0ZSBmb3IgdGhpcyBldmVudCBpbiBkZWNpbWFsIChleGFtcGxlOiAwLjA1IGZvciA1JSkuIChEb2VzIG5vdCBvdmVycmlkZSBob3N0IHNldCBzYW1wbGVSYXRlKVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBsb2dFdmVudChldmVudElkOiBJRXZlbnRJZCwgbG9nU2V2ZXJpdHk6IExvZ0xldmVsLCBjdXN0b21Qcm9wZXJ0aWVzPzogSUN1c3RvbVByb3BlcnRpZXMsIGludGVybmFsU2FtcGxlUmF0ZT86IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFldmVudElkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImV2ZW50SWQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgc2FtcGxlUmF0ZSA9IExvZ2dlci5ERUZBVUxUX1NBTVBMRV9SQVRFO1xyXG5cclxuXHRcdC8vIEhvc3Qgc2V0IHNhbXBsZSByYXRlIGhhcyBwcmVjZWRlbmNlIG92ZXIgaW50ZXJuYWxTYW1wbGVSYXRlLlxyXG5cdFx0aWYgKHRoaXMuaXNFdmVudFNhbXBsZWQoZXZlbnRJZC5uYW1lKSkge1xyXG5cdFx0XHRzYW1wbGVSYXRlID0gdGhpcy5nZXRFdmVudFNhbXBsaW5nUmF0ZShldmVudElkLm5hbWUpO1xyXG5cdFx0fSBlbHNlIGlmIChpbnRlcm5hbFNhbXBsZVJhdGUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRzYW1wbGVSYXRlID0gaW50ZXJuYWxTYW1wbGVSYXRlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVShsb2dTZXZlcml0eSkgfHwgbG9nU2V2ZXJpdHkgPT09IExvZ0xldmVsLk5vbmUpIHtcclxuXHRcdFx0aWYgKGVudiA9PT0gRW52aXJvbm1lbnQuUHJvZHVjdGlvbikge1xyXG5cdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IFwibG9nU2V2ZXJpdHkgbXVzdCBub3QgYmUgbnVsbCBvciBub25lXCI7XHJcblx0XHRcdFx0aWYgKHRoaXMuaXNDb25zb2xlTG9nRW5hYmxlZCAmJiBjb25zb2xlKSB7XHJcblx0XHRcdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkZsb29kZ2F0ZSBldmVudDogXCIsIExvZ2dlci5FVkVOVF9OQU1FLCBlcnJvck1lc3NhZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnRlbGVtZXRyeUxvZ2dlci5sb2dFdmVudChMb2dnZXIuRVZFTlRfTkFNRSwgeyBFcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSB9LCBzYW1wbGVSYXRlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y3VzdG9tUHJvcGVydGllcyA9IGN1c3RvbVByb3BlcnRpZXMgfHwge307XHJcblx0XHQoPGFueT4gY3VzdG9tUHJvcGVydGllcylbTG9nZ2VyLkVWRU5UX0lEXSA9IGV2ZW50SWQubmFtZTtcclxuXHJcblx0XHRpZiAodGhpcy5pc0xvZ2dpbmdFbmFibGVkKGxvZ1NldmVyaXR5LCBzYW1wbGVSYXRlKSB8fCB0aGlzLmlzRXZlbnRUZWxlbWV0cnlFbmFibGVkKGV2ZW50SWQubmFtZSkpIHtcclxuXHRcdFx0dGhpcy50ZWxlbWV0cnlMb2dnZXIubG9nRXZlbnQoTG9nZ2VyLkVWRU5UX05BTUUsIGN1c3RvbVByb3BlcnRpZXMsIHNhbXBsZVJhdGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgJiYgY29uc29sZSkge1xyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdGNvbnNvbGUubG9nKFwiRmxvb2RnYXRlIGV2ZW50OiBcIiwgTG9nZ2VyLkVWRU5UX05BTUUsIGxvZ1NldmVyaXR5LCBjdXN0b21Qcm9wZXJ0aWVzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsb2dMb2NhbD8obG9nU2V2ZXJpdHk6IExvZ0xldmVsLCAuLi5vdGhlcnM6IGFueVtdKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5pc0xvZ2dpbmdFbmFibGVkKGxvZ1NldmVyaXR5KSAmJiB0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgJiYgY29uc29sZSkge1xyXG5cdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdGNvbnNvbGUubG9nKFwiTFBQIEZHOiBcIiwgbG9nU2V2ZXJpdHksIG90aGVycyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VXNlclNhbXBsaW5nUmF0ZSgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuU0FNUExJTkdfUkVTVUxUO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzRXZlbnRUZWxlbWV0cnlFbmFibGVkKGV2ZW50TmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIXRoaXMuZHluYW1pY0xvZ1NldHRpbmdzKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBhcHBJZCA9IHRoaXMuaW5pdE9wdGlvbnNDb21tb24/LmFwcElkPy50b1N0cmluZygpO1xyXG5cdFx0XHRjb25zdCBsb2NhbGUgPSB0aGlzLmluaXRPcHRpb25zQ29tbW9uPy5vcmlnaW5hbExvY2FsZT8udG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ05hbWUgPSBgY29udGVudF8ke2V2ZW50TmFtZX1gO1xyXG5cclxuXHRcdFx0Ly8gdHJ5IHNldHRpbmdzIGZyb20gbW9yZSBzcGVjaWZpYyB0byBnZW5lcmljIG9yZGVyXHJcblx0XHRcdGNvbnN0IG92ZXJyaWRlU2V0dGluZ3MgPVxyXG5cdFx0XHRcdHRoaXMuZHluYW1pY0xvZ1NldHRpbmdzW2Ake3NldHRpbmdOYW1lfV8ke2FwcElkfV8ke2xvY2FsZX1gIGFzIGtleW9mIElMb2dMZXZlbFNldHRpbmdzXSB8fFxyXG5cdFx0XHRcdHRoaXMuZHluYW1pY0xvZ1NldHRpbmdzW2Ake3NldHRpbmdOYW1lfV8ke2FwcElkfWAgYXMga2V5b2YgSUxvZ0xldmVsU2V0dGluZ3NdIHx8XHJcblx0XHRcdFx0dGhpcy5keW5hbWljTG9nU2V0dGluZ3NbYCR7c2V0dGluZ05hbWV9XyR7bG9jYWxlfWAgYXMga2V5b2YgSUxvZ0xldmVsU2V0dGluZ3NdIHx8XHJcblx0XHRcdFx0dGhpcy5keW5hbWljTG9nU2V0dGluZ3Nbc2V0dGluZ05hbWUgYXMga2V5b2YgSUxvZ0xldmVsU2V0dGluZ3NdO1xyXG5cclxuXHRcdFx0cmV0dXJuIG92ZXJyaWRlU2V0dGluZ3M/LmlzRW5hYmxlZDtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNDb25zb2xlTG9nRW5hYmxlZCkge1xyXG5cdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlOm5vLWNvbnNvbGVcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkZHOiBFcnJvciBjaGVja2luZyBmb3IgZHluYW1pYyBsb2cgc2V0dGluZ3M6IFwiLCBlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoaXMgbWV0aG9kIGVuYWJsZXMgbG9nZ2luZyBvbmx5IGlmIHRoZSBsb2cgc2V2ZXJpdHkgb2YgdGhlIGV2ZW50IGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGVcclxuXHQgKiBjdXJyZW50IGxvZyBsZXZlbCBzZXQgYW5kIHdpdGhpbiB0aGUgc2FtcGxlIHJhdGUuIEZvciBleGFtcGxlLCBpZiB0aGUgbG9nIHNldmVyaXR5IG9mIHRoZSBldmVudCBpcyBcclxuXHQgKiBMb2dMZXZlbC5FcnJvciBhbmQgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGlzIHNldCBhcyBMb2dMZXZlbC5Dcml0aWNhbCwgdGhlbiBpc0xvZ2dpbmdFbmFibGVkIHdpbGwgXHJcblx0ICogcmV0dXJuIGZhbHNlIHNpbmNlIHRoZSBjb25kaXRpb24gTG9nTGV2ZWwuRXJyb3IgPD0gTG9nTGV2ZWwuQ3JpdGljYWwgaXMgZmFsc2UuIEJlY2F1c2UsIHRoZSBsb2cgc2V2ZXJpdHkgXHJcblx0ICogZm9sbG93cyB0aGUgb3JkZXIgZGVmaW5lZCBpbiB0aGUgTG9nTGV2ZWwgZW51bSAoTm9uZSA8IENyaXRpY2FsIDwgRXJyb3IgPCBJbmZvKS4gVGhlIHNhbXBsZSByYXRlIGlzIHRoZVxyXG5cdCAqIHBlcmNlbnRhZ2Ugb2YgdXNlcnMgYWxsb3cgdG8gc2VuZCB0aGUgZXZlbnQgYmFjay4gSWYgdGhlIHJhbmRvbSBnZW5hcmF0ZWQgbnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgc2FtcGxlIHJhdGVcclxuXHQgKiBhbmQgdGhlIHNhbXBsZSByYXRlIGlzIG5vdCBmdWxsIGJsb2NraW5nICgwIHZhbHVlKVxyXG5cdCAqIElmIG5vIGN1cnJlbnQgbG9nIGxldmVsIGlzIHNldCwgdGhlbiB0aGUgZGVmYXVsdCBsb2cgbGV2ZWwgaXMgc2V0IGFzIExvZ0xldmVsLkVycm9yIHNvIHRoYXQgYWxsIGV2ZW50c1xyXG5cdCAqIG1hcmtlZCB3aXRoIGNyaXRpY2FsIGFuZCBlcnJvciBsb2cgc2V2ZXJpdHkgZ2V0IGxvZ2dlZC5cclxuXHQgKiBAcGFyYW0gaW5wdXRMb2dMZXZlbCB0aGUgbG9nIHNldmVyaXR5IG9mIHRoZSBldmVudFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgaXNMb2dnaW5nRW5hYmxlZChpbnB1dExvZ0xldmVsOiBMb2dMZXZlbCwgc2FtcGxlUmF0ZTogbnVtYmVyID0gMSk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMubG9nTGV2ZWwpKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRMb2dMZXZlbCA9IHRoaXMuZ2V0Q3VycmVudExvZ0xldmVsKCk7XHJcblx0XHRcdHRoaXMubG9nTGV2ZWwgPSBpc05PVShjdXJyZW50TG9nTGV2ZWwpID8gTG9nTGV2ZWwuRXJyb3IgOiBjdXJyZW50TG9nTGV2ZWw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChpbnB1dExvZ0xldmVsIDw9IHRoaXMubG9nTGV2ZWwgJiYgdGhpcy5TQU1QTElOR19SRVNVTFQgPD0gc2FtcGxlUmF0ZSAmJiBzYW1wbGVSYXRlICE9PSAwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGlmIGl0IGlzIHNldCBpbiBlaXRoZXIgdXJsIHF1ZXJ5IHBhcmFtZXRlcnMgb3IgZmxvb2RnYXRlIGxvY2FsIHN0b3JhZ2UuXHJcblx0ICogRm9sbG93aW5nIHRhYmxlIHN1bW1hcml6ZXMgd2hldGhlciB0aGUgbG9nIGV2ZW50IGNhbGxzIHdpdGggYSBsb2cgc2V2ZXJpdHkgd2lsbCBsb2cgdGhlIGV2ZW50cyBvciBub3QgYWNjb3JkaW5nXHJcblx0ICogdG8gdGhlIGN1cnJlbnQgbG9nIGxldmVsIHNldC4gRm9yIGV4YW1wbGUsIHRoZSBmaXJzdCByb3cgaW4gdGhlIHRhYmxlIGRlbW9uc3RyYXRlcyB0aGF0IHdoZW4gdGhlIGN1cnJlbnQgbG9nIGxldmVsXHJcblx0ICogZW5hYmxlZCBpcyBjcml0aWNhbCwgdGhlbiB0aGUgbG9nIGV2ZW50IHdpbGwgbG9nIHRoZSBldmVudHMgb25seSBpZiB0aGUgbG9nIHNldmVyaXR5IGlzIGNyaXRpY2FsLlxyXG5cdCAqXHJcblx0ICogQ3VycmVudCBMb2cgTGV2ZWwgRW5hYmxlZCB8IExvZ1NldmVyaXR5OiBDcml0aWNhbFx0fCBMb2dTZXZlcml0eTogRXJyb3JcdHwgTG9nU2V2ZXJpdHk6IEluZm9cclxuXHQgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqIENyaXRpY2FsIEVuYWJsZWRcdFx0XHQgfCB5ZXMgICAgICBcdFx0XHRcdHwgbm8gICAgXHRcdFx0IFx0fCBub1xyXG5cdCAqIEVycm9yIEVuYWJsZWQgICAgICAgXHRcdCB8IHllcyAgICAgIFx0XHRcdFx0fCB5ZXMgICBcdFx0XHQgXHR8IG5vXHJcblx0ICogSW5mbyBFbmFibGVkICAgICAgICBcdFx0IHwgeWVzICAgICAgXHRcdFx0XHR8IHllcyAgIFx0XHRcdCBcdHwgeWVzXHJcblx0ICogTm9uZSBFbmFibGVkICAgICAgICBcdFx0IHwgbm8gICAgICAgXHRcdFx0XHR8IG5vICAgIFx0XHRcdCBcdHwgbm9cclxuXHQgKlxyXG5cdCAqIENvbnNvbGUgbG9nZ2luZyB3aWxsIGJlIGVuYWJsZWQgd2hlbiB0aGUgY3VycmVudCBsb2cgbGV2ZWwgaXMgc2V0IHRocm91Z2ggdGhlIHVybCBxdWVyeSBwYXJhbWV0ZXJzIG9yXHJcblx0ICogd2hlbiB0aGUgdXJsIHF1ZXJ5IHBhcmFtZXRlciBcIm9iZmNvbnNvbGVsb2dcIiBpcyBleHBsaWNpdGx5IHNldCB0byB0cnVlLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZ2V0Q3VycmVudExvZ0xldmVsKCk6IExvZ0xldmVsIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIENoZWNrIGlmIGNvbnNvbGUgbG9nIGlzIGVuYWJsZWQgaW4gbG9jYWwgYnJvd3NlciBzZXNzaW9uIHdpdGggcXVlcnkgcGFyYW1ldGVyIG92ZXJyaWRlc1xyXG5cdFx0XHRjb25zdCB1cmxQYXJhbXMgPSB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSBcInVuZGVmaW5lZFwiICYmIG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCkgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRsZXQgY29uc29sZUxvZ1BhcmFtOiBzdHJpbmcgfCBib29sZWFuID0gdXJsUGFyYW1zICYmIHVybFBhcmFtcy5nZXQoXCJvYmZjb25zb2xlbG9nXCIpO1xyXG5cdFx0XHRpZiAoIWNvbnNvbGVMb2dQYXJhbSkge1xyXG5cdFx0XHRcdC8vIGZvciBnZXR0aW5nIGlmcmFtZSBob3N0IHVybCAtIGVnOiBXQUNcclxuXHRcdFx0XHRjb25zdCBkb2N1bWVudFJlZmVycmVyID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LnJlZmVycmVyO1xyXG5cdFx0XHRcdGNvbnNvbGVMb2dQYXJhbSA9IGRvY3VtZW50UmVmZXJyZXIgJiYgZG9jdW1lbnRSZWZlcnJlci5pbmRleE9mKFwib2JmY29uc29sZWxvZ1wiKSAhPT0gLTE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjb25zb2xlTG9nUGFyYW0pIHtcclxuXHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiBsb2cgbGV2ZWwgaXMgc2V0IGluIGxvY2FsIGJyb3dzZXIgc2Vzc2lvbiB3aXRoIHF1ZXJ5IHBhcmFtZXRlciBvdmVycmlkZXNcclxuXHRcdFx0Y29uc3QgbG9nTGV2ZWxQYXJhbSA9IHVybFBhcmFtcyAmJiB1cmxQYXJhbXMuZ2V0KFwib2JmbG9nbGV2ZWxcIik7XHJcblx0XHRcdGlmICghaXNOT1UobG9nTGV2ZWxQYXJhbSkpIHtcclxuXHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHJldHVybiBwYXJzZUludChsb2dMZXZlbFBhcmFtLCAxMCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENoZWNrIGlmIGxvZyBsZXZlbCBpcyBzZXQgaW4gZmxvb2RnYXRlIGxvY2FsIHN0b3JhZ2UgKG1hbnVhbGx5IG9yIHdpdGggcmVtb3RlbHkgZmV0Y2hlZCBzZXR0aW5ncylcclxuXHRcdFx0aWYgKEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRcdGNvbnN0IGZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjogRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyID0gbmV3IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcigpO1xyXG5cdFx0XHRcdGxldCB0ZW1wU3RvcmFnZUl0ZW06IHN0cmluZyA9IGZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5yZWFkKEZpbGVUeXBlLkxvZ0xldmVsU2V0dGluZ3MpO1xyXG5cdFx0XHRcdGlmICghdGVtcFN0b3JhZ2VJdGVtKSB7XHJcblx0XHRcdFx0XHR0ZW1wU3RvcmFnZUl0ZW0gPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LmxvZ0xldmVsU2V0dGluZ3MsIFwiXCIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3NPYmogPSB0ZW1wU3RvcmFnZUl0ZW0gJiYgdGhpcy5wYXJzZU9iamVjdCh0ZW1wU3RvcmFnZUl0ZW0pO1xyXG5cdFx0XHRcdGlmIChzZXR0aW5nc09iaikge1xyXG5cdFx0XHRcdFx0dGhpcy5keW5hbWljTG9nU2V0dGluZ3MgPSBzZXR0aW5nc09iajtcclxuXHRcdFx0XHRcdGxldCBsb2dTZXR0aW5ncyA9IHNldHRpbmdzT2JqLmNvbnRlbnQgYXMgSUxvZ1NldHRpbmdzO1xyXG5cclxuXHRcdFx0XHRcdGlmICh0aGlzLmluaXRPcHRpb25zQ29tbW9uKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFwcElkID0gdGhpcy5pbml0T3B0aW9uc0NvbW1vbi5hcHBJZCAmJiB0aGlzLmluaXRPcHRpb25zQ29tbW9uLmFwcElkLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGxvY2FsZSA9ICB0aGlzLmluaXRPcHRpb25zQ29tbW9uLm9yaWdpbmFsTG9jYWxlICYmIHRoaXMuaW5pdE9wdGlvbnNDb21tb24ub3JpZ2luYWxMb2NhbGUudG9Mb3dlckNhc2UoKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGxvZyBzZXR0aW5ncyBmcm9tIG1vcmUgc3BlY2lmaWMgdG8gZ2VuZXJpYyBvcmRlclxyXG5cdFx0XHRcdFx0XHRsb2dTZXR0aW5ncyA9IHNldHRpbmdzT2JqW2Bjb250ZW50XyR7YXBwSWR9XyR7bG9jYWxlfWBdIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3NPYmpbYGNvbnRlbnRfJHthcHBJZH1gXSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzT2JqW2Bjb250ZW50XyR7bG9jYWxlfWBdIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3NPYmpbYGNvbnRlbnRgXTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAobG9nU2V0dGluZ3MpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGxvZ1NldHRpbmdzLmNvbnNvbGVMb2cpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbG9nU2V0dGluZ3MubG9nTGV2ZWw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGlmICh0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQpIHtcclxuXHRcdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlXHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBnZXR0aW5nIHRoZSBjdXJyZW50IGxvZyBsZXZlbDogXCIsIGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHBhcnNlT2JqZWN0KHRlbXBJdGVtOiBzdHJpbmcpOiBhbnkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UodGVtcEl0ZW0pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRpZiAodGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkKSB7XHJcblx0XHRcdFx0Ly8gdHNsaW50OmRpc2FibGU6bm8tY29uc29sZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3Igd2hpbGUgcGFyc2luZyB0aGUganNvbiBzdHJpbmcgZm9yIGxvZyBsZXZlbDogXCIsIGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRFdmVudFNhbXBsaW5nUmF0ZShldmVudElkOiBzdHJpbmcpOiBudW1iZXIge1xyXG5cdFx0bGV0IHNhbXBsZVJhdGUgPSAxO1xyXG5cdFx0aWYgKHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudCkge1xyXG5cdFx0XHQvLyBJZiB0aGUgZXZlbnQgaXMgaW5pdCB3aXRoIHNhbXBsZSByYXRlXHJcblx0XHRcdC8vIGNoZWNrIHRoZSBzYW1wbGluZyByZXN1bHQgYWdhaW5zdCB0aGUgc2FtcGxlIHJhdGVcclxuXHRcdFx0aWYgKGV2ZW50SWQgaW4gdGhpcy5ldmVudFNhbXBsaW5nLmV2ZW50KSB7XHJcblx0XHRcdFx0c2FtcGxlUmF0ZSA9IHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudFtldmVudElkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHNhbXBsZVJhdGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzRXZlbnRTYW1wbGVkKGV2ZW50SWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudCkge1xyXG5cdFx0XHRpZiAoZXZlbnRJZCBpbiB0aGlzLmV2ZW50U2FtcGxpbmcuZXZlbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgVG9rZW5NYW5hZ2VyIHtcclxuXHRwdWJsaWMgc3RhdGljIGdldFRlbmFudFRva2VuKGVudmlyb25tZW50OiBFbnZpcm9ubWVudCk6IHN0cmluZyB7XHJcblx0XHRpZiAoZW52aXJvbm1lbnQgPT09IEVudmlyb25tZW50LlByb2R1Y3Rpb24pIHtcclxuXHRcdFx0cmV0dXJuIFRva2VuTWFuYWdlci5URU5BTlRfVE9LRU5fUFJPRFVDVElPTjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBUb2tlbk1hbmFnZXIuVEVOQU5UX1RPS0VOX1BSRV9QUk9EVUNUSU9OO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgVEVOQU5UX1RPS0VOX1BST0RVQ1RJT046IHN0cmluZyA9XHJcblx0XCJkNzllODI0Mzg2YzQ0NDFjYjhjMWQ0YWUxNTY5MDUyNi1iZDQ0MzMwOS01NDk0LTQ0NGEtYWJhOS0wYWY5ZWVmOTlmODQtNzM2MFwiOyAvLyBcIk9mZmljZSBGZWVkYmFja1wiIFByb2QgQXJpYSB0ZW5hbnRcclxuXHRwcml2YXRlIHN0YXRpYyBURU5BTlRfVE9LRU5fUFJFX1BST0RVQ1RJT046IHN0cmluZyA9XHJcblx0XCIyYmY2YTJmZmRkY2E0YTgwYTg5MmEwYjE4MjEzMjk2MS02MjVjYjEwMi04YjBjLTQ4MGUtYWY1My05MmU0ODY5NWQwOGQtNzczNlwiOyAvLyBcIk9mZmljZSBGZWVkYmFja1wiIFNhbmRib3ggQXJpYSB0ZW5hbnRcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Logging.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/Aria.ts":
/*!***********************************************!*\
  !*** ./scripts/app/Logging/Telemetry/Aria.ts ***!
  \***********************************************/
/*! exports provided: AWT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AWT\", function() { return AWT; });\n/**\r\n * Aria.ts\r\n *\r\n * Module for wrapper around Aria\r\n */\r\nvar aria = __webpack_require__(/*! ./../../thirdparty/aria-webjs-compact-sdk-1.2.2 */ \"./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js\");\r\nfunction AWT() { return aria.AWT; }\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhLnRzP2NhOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSCxJQUFJLElBQUksR0FBUSxtQkFBTyxDQUFDLGlIQUFpRCxDQUFDLENBQUM7QUFFcEUsU0FBUyxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUFBLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEFyaWEudHNcclxuICpcclxuICogTW9kdWxlIGZvciB3cmFwcGVyIGFyb3VuZCBBcmlhXHJcbiAqL1xyXG5cclxubGV0IGFyaWE6IGFueSA9IHJlcXVpcmUoXCIuLy4uLy4uL3RoaXJkcGFydHkvYXJpYS13ZWJqcy1jb21wYWN0LXNkay0xLjIuMlwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBV1QoKSB7IHJldHVybiBhcmlhLkFXVDsgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/Aria.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts":
/*!**************************************************************!*\
  !*** ./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Aria__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Aria */ \"./scripts/app/Logging/Telemetry/Aria.ts\");\n/* harmony import */ var _Contracts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Contracts */ \"./scripts/app/Logging/Telemetry/Contracts.ts\");\n/**\r\n * An Aria-based logger\r\n */\r\n\r\n\r\nvar AriaTelemetryLogger = /** @class */ (function () {\r\n    function AriaTelemetryLogger(tenantToken, namespace, app, session, host, release, browser, device, user) {\r\n        if (!tenantToken) {\r\n            throw new Error(\"tenantToken must not be null\");\r\n        }\r\n        if (!namespace) {\r\n            throw new Error(\"namespace must not be null\");\r\n        }\r\n        if (!app) {\r\n            throw new Error(\"app must not be null\");\r\n        }\r\n        if (!session) {\r\n            throw new Error(\"session must not be null\");\r\n        }\r\n        _Aria__WEBPACK_IMPORTED_MODULE_0__[\"AWT\"]().initialize(tenantToken);\r\n        this.namespace = namespace;\r\n        this.oesApp = app;\r\n        this.oesSession = session;\r\n        this.oesHost = host;\r\n        this.oesRelease = release;\r\n        this.oesBrowser = browser;\r\n        this.oesDevice = device;\r\n        this.oesUser = user;\r\n        this.sequence = 1; // Sequence starts at 1 not 0\r\n    }\r\n    AriaTelemetryLogger.setApp = function (properties, app) {\r\n        properties[\"App.Name\"] = app.getName();\r\n        properties[\"App.Platform\"] = app.getPlatform();\r\n        properties[\"App.Version\"] = app.getVersion();\r\n    };\r\n    AriaTelemetryLogger.setSession = function (properties, session) {\r\n        properties[\"Session.Id\"] = session.getId();\r\n    };\r\n    AriaTelemetryLogger.setHost = function (properties, host) {\r\n        if (host) {\r\n            properties[\"Host.Id\"] = host.getId();\r\n            properties[\"Host.SessionId2\"] = host.getSessionId();\r\n            properties[\"Host.Version\"] = host.getVersion();\r\n            properties[\"Host.Locale\"] = host.getLocale();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setEvent = function (properties, event) {\r\n        properties[\"Event.Name\"] = event.getName();\r\n        properties[\"Event.Id\"] = event.getId();\r\n        properties[\"Event.Source\"] = event.getSource();\r\n        properties[\"Event.SchemaVersion\"] = event.getSchemaVersion();\r\n        properties[\"Event.Sequence\"] = event.getSequence();\r\n        properties[\"Event.SampleRate\"] = event.getSampleRate();\r\n    };\r\n    AriaTelemetryLogger.setRelease = function (properties, release) {\r\n        if (release) {\r\n            properties[\"Release.AudienceGroup\"] = release.getAudienceGroup();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setBrowser = function (properties, browser) {\r\n        if (browser) {\r\n            properties[\"Browser.Name\"] = browser.getName();\r\n            properties[\"Browser.Version\"] = browser.getVersion();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setDevice = function (properties, device) {\r\n        if (device) {\r\n            properties[\"Device.Id\"] = device.getId();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setUser = function (properties, user) {\r\n        if (user) {\r\n            properties[\"User.PrimaryIdentityHash\"] = user.getPrimaryIdentityHash();\r\n            properties[\"User.PrimaryIdentitySpace\"] = user.getPrimaryIdentitySpace();\r\n            properties[\"User.TenantId\"] = user.getTenantId();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.prototype.logEvent = function (eventName, customProperties, sampleRate) {\r\n        if (sampleRate === void 0) { sampleRate = 1; }\r\n        if (!eventName) {\r\n            throw new Error(\"eventName must not be null\");\r\n        }\r\n        var oesEvent = new _Contracts__WEBPACK_IMPORTED_MODULE_1__[\"Event\"](this.namespace + AriaTelemetryLogger.EVENT_NAME_DELIMITER + eventName, this.oesSession.getId(), this.sequence, sampleRate);\r\n        var ariaProperties = {};\r\n        if (customProperties != null) {\r\n            for (var key in customProperties) {\r\n                if (customProperties.hasOwnProperty(key)) {\r\n                    ariaProperties[AriaTelemetryLogger.CUSTOM_PROPERTIES_FIELD_PREFIX + key] = customProperties[key];\r\n                }\r\n            }\r\n        }\r\n        AriaTelemetryLogger.setApp(ariaProperties, this.oesApp);\r\n        AriaTelemetryLogger.setSession(ariaProperties, this.oesSession);\r\n        AriaTelemetryLogger.setHost(ariaProperties, this.oesHost);\r\n        AriaTelemetryLogger.setRelease(ariaProperties, this.oesRelease);\r\n        AriaTelemetryLogger.setEvent(ariaProperties, oesEvent);\r\n        AriaTelemetryLogger.setBrowser(ariaProperties, this.oesBrowser);\r\n        AriaTelemetryLogger.setDevice(ariaProperties, this.oesDevice);\r\n        AriaTelemetryLogger.setUser(ariaProperties, this.oesUser);\r\n        _Aria__WEBPACK_IMPORTED_MODULE_0__[\"AWT\"]().logEvent({\r\n            name: oesEvent.getName(),\r\n            properties: ariaProperties,\r\n        });\r\n        this.sequence++;\r\n    };\r\n    // Event.name is set as namespace<DELIMITER>eventName\r\n    AriaTelemetryLogger.EVENT_NAME_DELIMITER = \"_\";\r\n    AriaTelemetryLogger.CUSTOM_PROPERTIES_FIELD_PREFIX = \"Data.\";\r\n    return AriaTelemetryLogger;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (AriaTelemetryLogger);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhVGVsZW1ldHJ5TG9nZ2VyLnRzPzlhMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFFNEI7QUFDeUQ7QUFHeEY7SUF1RUMsNkJBQVksV0FBbUIsRUFBRSxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFnQixFQUFFLElBQVcsRUFBRSxPQUFpQixFQUM3RyxPQUFpQixFQUFFLE1BQWUsRUFBRSxJQUFXO1FBRS9DLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNmLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztTQUM5QztRQUNELElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDeEM7UUFDRCxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1NBQzVDO1FBRUQseUNBQVEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNw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LG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlELG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTFELHlDQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDbkIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7WUFDeEIsVUFBVSxFQUFFLGNBQWM7U0FDMUIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUF2SUQscURBQXFEO0lBQ3RDLHdDQUFvQixHQUFXLEdBQUcsQ0FBQztJQUNuQyxrREFBOEIsR0FBVyxPQUFPLENBQUM7SUFzSWpFLDBCQUFDO0NBQUE7QUF6SW9CLGtGQUFtQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvVGVsZW1ldHJ5L0FyaWFUZWxlbWV0cnlMb2dnZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQW4gQXJpYS1iYXNlZCBsb2dnZXJcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBBcmlhIGZyb20gXCIuL0FyaWFcIjtcclxuaW1wb3J0IHsgQXBwLCBCcm93c2VyLCBEZXZpY2UsIEV2ZW50LCBIb3N0LCBSZWxlYXNlLCBTZXNzaW9uLCBVc2VyIH0gZnJvbSBcIi4vQ29udHJhY3RzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyaWFUZWxlbWV0cnlMb2dnZXIgaW1wbGVtZW50cyBJVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHQvLyBFdmVudC5uYW1lIGlzIHNldCBhcyBuYW1lc3BhY2U8REVMSU1JVEVSPmV2ZW50TmFtZVxyXG5cdHByaXZhdGUgc3RhdGljIEVWRU5UX05BTUVfREVMSU1JVEVSOiBzdHJpbmcgPSBcIl9cIjtcclxuXHRwcml2YXRlIHN0YXRpYyBDVVNUT01fUFJPUEVSVElFU19GSUVMRF9QUkVGSVg6IHN0cmluZyA9IFwiRGF0YS5cIjtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0QXBwKHByb3BlcnRpZXM6IGFueSwgYXBwOiBBcHApOiB2b2lkIHtcclxuXHRcdHByb3BlcnRpZXNbXCJBcHAuTmFtZVwiXSA9IGFwcC5nZXROYW1lKCk7XHJcblx0XHRwcm9wZXJ0aWVzW1wiQXBwLlBsYXRmb3JtXCJdID0gYXBwLmdldFBsYXRmb3JtKCk7XHJcblx0XHRwcm9wZXJ0aWVzW1wiQXBwLlZlcnNpb25cIl0gPSBhcHAuZ2V0VmVyc2lvbigpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0U2Vzc2lvbihwcm9wZXJ0aWVzOiBhbnksIHNlc3Npb246IFNlc3Npb24pIHtcclxuXHRcdHByb3BlcnRpZXNbXCJTZXNzaW9uLklkXCJdID0gc2Vzc2lvbi5nZXRJZCgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0SG9zdChwcm9wZXJ0aWVzOiBhbnksIGhvc3Q6IEhvc3QpIHtcclxuXHRcdGlmIChob3N0KSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJIb3N0LklkXCJdID0gaG9zdC5nZXRJZCgpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiSG9zdC5TZXNzaW9uSWQyXCJdID0gaG9zdC5nZXRTZXNzaW9uSWQoKTtcclxuXHRcdFx0cHJvcGVydGllc1tcIkhvc3QuVmVyc2lvblwiXSA9IGhvc3QuZ2V0VmVyc2lvbigpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiSG9zdC5Mb2NhbGVcIl0gPSBob3N0LmdldExvY2FsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0RXZlbnQocHJvcGVydGllczogYW55LCBldmVudDogRXZlbnQpIHtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5OYW1lXCJdID0gZXZlbnQuZ2V0TmFtZSgpO1xyXG5cdFx0cHJvcGVydGllc1tcIkV2ZW50LklkXCJdID0gZXZlbnQuZ2V0SWQoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5Tb3VyY2VcIl0gPSBldmVudC5nZXRTb3VyY2UoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5TY2hlbWFWZXJzaW9uXCJdID0gZXZlbnQuZ2V0U2NoZW1hVmVyc2lvbigpO1xyXG5cdFx0cHJvcGVydGllc1tcIkV2ZW50LlNlcXVlbmNlXCJdID0gZXZlbnQuZ2V0U2VxdWVuY2UoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5TYW1wbGVSYXRlXCJdID0gZXZlbnQuZ2V0U2FtcGxlUmF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0UmVsZWFzZShwcm9wZXJ0aWVzOiBhbnksIHJlbGVhc2U6IFJlbGVhc2UpIHtcclxuXHRcdGlmIChyZWxlYXNlKSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJSZWxlYXNlLkF1ZGllbmNlR3JvdXBcIl0gPSByZWxlYXNlLmdldEF1ZGllbmNlR3JvdXAoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldEJyb3dzZXIocHJvcGVydGllczogYW55LCBicm93c2VyOiBCcm93c2VyKSB7XHJcblx0XHRpZiAoYnJvd3Nlcikge1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiQnJvd3Nlci5OYW1lXCJdID0gYnJvd3Nlci5nZXROYW1lKCk7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJCcm93c2VyLlZlcnNpb25cIl0gPSBicm93c2VyLmdldFZlcnNpb24oKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldERldmljZShwcm9wZXJ0aWVzOiBhbnksIGRldmljZTogRGV2aWNlKSB7XHJcblx0XHRpZiAoZGV2aWNlKSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJEZXZpY2UuSWRcIl0gPSBkZXZpY2UuZ2V0SWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldFVzZXIocHJvcGVydGllczogYW55LCB1c2VyOiBVc2VyKSB7XHJcblx0XHRpZiAodXNlcikge1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiVXNlci5QcmltYXJ5SWRlbnRpdHlIYXNoXCJdID0gdXNlci5nZXRQcmltYXJ5SWRlbnRpdHlIYXNoKCk7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJVc2VyLlByaW1hcnlJZGVudGl0eVNwYWNlXCJdID0gdXNlci5nZXRQcmltYXJ5SWRlbnRpdHlTcGFjZSgpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiVXNlci5UZW5hbnRJZFwiXSA9IHVzZXIuZ2V0VGVuYW50SWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb2VzQXBwOiBBcHA7XHJcblx0cHJpdmF0ZSBvZXNTZXNzaW9uOiBTZXNzaW9uO1xyXG5cdHByaXZhdGUgb2VzSG9zdDogSG9zdDtcclxuXHRwcml2YXRlIG9lc1JlbGVhc2U6IFJlbGVhc2U7XHJcblx0cHJpdmF0ZSBvZXNCcm93c2VyOiBCcm93c2VyO1xyXG5cdHByaXZhdGUgb2VzRGV2aWNlOiBEZXZpY2U7XHJcblx0cHJpdmF0ZSBvZXNVc2VyOiBVc2VyO1xyXG5cclxuXHRwcml2YXRlIG5hbWVzcGFjZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgc2VxdWVuY2U6IG51bWJlcjtcclxuXHJcblx0Y29uc3RydWN0b3IodGVuYW50VG9rZW46IHN0cmluZywgbmFtZXNwYWNlOiBzdHJpbmcsIGFwcDogQXBwLCBzZXNzaW9uOiBTZXNzaW9uLCBob3N0PzogSG9zdCwgcmVsZWFzZT86IFJlbGVhc2UsXHJcblx0XHRicm93c2VyPzogQnJvd3NlciwgZGV2aWNlPzogRGV2aWNlLCB1c2VyPzogVXNlcikge1xyXG5cclxuXHRcdGlmICghdGVuYW50VG9rZW4pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVuYW50VG9rZW4gbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghbmFtZXNwYWNlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5hbWVzcGFjZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFhcHApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIXNlc3Npb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbiBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdEFyaWEuQVdUKCkuaW5pdGlhbGl6ZSh0ZW5hbnRUb2tlbik7XHJcblx0XHR0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcclxuXHRcdHRoaXMub2VzQXBwID0gYXBwO1xyXG5cdFx0dGhpcy5vZXNTZXNzaW9uID0gc2Vzc2lvbjtcclxuXHRcdHRoaXMub2VzSG9zdCA9IGhvc3Q7XHJcblx0XHR0aGlzLm9lc1JlbGVhc2UgPSByZWxlYXNlO1xyXG5cdFx0dGhpcy5vZXNCcm93c2VyID0gYnJvd3NlcjtcclxuXHRcdHRoaXMub2VzRGV2aWNlID0gZGV2aWNlO1xyXG5cdFx0dGhpcy5vZXNVc2VyID0gdXNlcjtcclxuXHRcdHRoaXMuc2VxdWVuY2UgPSAxOyAvLyBTZXF1ZW5jZSBzdGFydHMgYXQgMSBub3QgMFxyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0V2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBjdXN0b21Qcm9wZXJ0aWVzPzogeyBbY3VzdG9tRmllbGQ6IHN0cmluZ106IGFueSB9LCBzYW1wbGVSYXRlOiBudW1iZXIgPSAxKSB7XHJcblx0XHRpZiAoIWV2ZW50TmFtZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJldmVudE5hbWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgb2VzRXZlbnQ6IEV2ZW50ID0gbmV3IEV2ZW50KFxyXG5cdFx0XHR0aGlzLm5hbWVzcGFjZSArIEFyaWFUZWxlbWV0cnlMb2dnZXIuRVZFTlRfTkFNRV9ERUxJTUlURVIgKyBldmVudE5hbWUsXHJcblx0XHRcdHRoaXMub2VzU2Vzc2lvbi5nZXRJZCgpLFxyXG5cdFx0XHR0aGlzLnNlcXVlbmNlLFxyXG5cdFx0XHRzYW1wbGVSYXRlXHJcblx0XHQpO1xyXG5cclxuXHRcdGxldCBhcmlhUHJvcGVydGllczogYW55ID0ge307XHJcblxyXG5cdFx0aWYgKGN1c3RvbVByb3BlcnRpZXMgIT0gbnVsbCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBjdXN0b21Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0aWYgKGN1c3RvbVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0YXJpYVByb3BlcnRpZXNbQXJpYVRlbGVtZXRyeUxvZ2dlci5DVVNUT01fUFJPUEVSVElFU19GSUVMRF9QUkVGSVggKyBrZXldID0gY3VzdG9tUHJvcGVydGllc1trZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdEFyaWFUZWxlbWV0cnlMb2dnZXIuc2V0QXBwKGFyaWFQcm9wZXJ0aWVzLCB0aGlzLm9lc0FwcCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldFNlc3Npb24oYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzU2Vzc2lvbik7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEhvc3QoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzSG9zdCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldFJlbGVhc2UoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzUmVsZWFzZSk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEV2ZW50KGFyaWFQcm9wZXJ0aWVzLCBvZXNFdmVudCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEJyb3dzZXIoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzQnJvd3Nlcik7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldERldmljZShhcmlhUHJvcGVydGllcywgdGhpcy5vZXNEZXZpY2UpO1xyXG5cdFx0QXJpYVRlbGVtZXRyeUxvZ2dlci5zZXRVc2VyKGFyaWFQcm9wZXJ0aWVzLCB0aGlzLm9lc1VzZXIpO1xyXG5cclxuXHRcdEFyaWEuQVdUKCkubG9nRXZlbnQoe1xyXG5cdFx0XHRuYW1lOiBvZXNFdmVudC5nZXROYW1lKCksXHJcblx0XHRcdHByb3BlcnRpZXM6IGFyaWFQcm9wZXJ0aWVzLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5zZXF1ZW5jZSsrO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/Contracts.ts":
/*!****************************************************!*\
  !*** ./scripts/app/Logging/Telemetry/Contracts.ts ***!
  \****************************************************/
/*! exports provided: App, Session, Host, Event, Release, Browser, Device, User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"App\", function() { return App; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Session\", function() { return Session; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Host\", function() { return Host; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Event\", function() { return Event; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Release\", function() { return Release; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Browser\", function() { return Browser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Device\", function() { return Device; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"User\", function() { return User; });\n/**\r\n * Contracts enforced by OfficeEventSchema (OES)\r\n */\r\nvar App = /** @class */ (function () {\r\n    function App(name, version) {\r\n        if (!name) {\r\n            throw new Error(\"name must not be null\");\r\n        }\r\n        if (!version) {\r\n            throw new Error(\"version must not be null\");\r\n        }\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    App.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    App.prototype.getPlatform = function () {\r\n        return App.PLATFORM;\r\n    };\r\n    App.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    App.PLATFORM = \"Web\";\r\n    return App;\r\n}());\r\n\r\nvar Session = /** @class */ (function () {\r\n    function Session(id) {\r\n        if (!id) {\r\n            throw new Error(\"id must not be null\");\r\n        }\r\n        this.id = id;\r\n    }\r\n    Session.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return Session;\r\n}());\r\n\r\nvar Host = /** @class */ (function () {\r\n    function Host(id, locale, sessionId, version) {\r\n        this.id = id;\r\n        this.locale = locale;\r\n        this.sessionId = sessionId;\r\n        this.version = version;\r\n    }\r\n    Host.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Host.prototype.getLocale = function () {\r\n        return this.locale;\r\n    };\r\n    Host.prototype.getSessionId = function () {\r\n        return this.sessionId;\r\n    };\r\n    Host.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    return Host;\r\n}());\r\n\r\nvar Event = /** @class */ (function () {\r\n    function Event(name, sessionId, sequence, sampleRate) {\r\n        if (!name) {\r\n            throw new Error(\"name must not be null\");\r\n        }\r\n        if (!sessionId) {\r\n            throw new Error(\"sessionId must not be null\");\r\n        }\r\n        if ((!sequence && sequence !== 0) || sequence < 0) {\r\n            throw new Error(\"sequence must not be negative\");\r\n        }\r\n        this.name = name;\r\n        this.id = sessionId + Event.ID_DELIMITER + sequence;\r\n        this.sequence = sequence;\r\n        this.sampleRate = sampleRate;\r\n    }\r\n    Event.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Event.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Event.prototype.getSource = function () {\r\n        return Event.SOURCE;\r\n    };\r\n    Event.prototype.getSchemaVersion = function () {\r\n        return Event.SCHEMA_VERSION;\r\n    };\r\n    Event.prototype.getSequence = function () {\r\n        return this.sequence;\r\n    };\r\n    Event.prototype.getSampleRate = function () {\r\n        return this.sampleRate;\r\n    };\r\n    // Id is set to sessionId<DELIMITER>sequence\r\n    Event.ID_DELIMITER = \".\";\r\n    Event.SOURCE = \"MsoThin\";\r\n    Event.SCHEMA_VERSION = 1;\r\n    return Event;\r\n}());\r\n\r\nvar Release = /** @class */ (function () {\r\n    function Release(audienceGroup) {\r\n        this.audienceGroup = audienceGroup;\r\n    }\r\n    Release.prototype.getAudienceGroup = function () {\r\n        return this.audienceGroup;\r\n    };\r\n    return Release;\r\n}());\r\n\r\nvar Browser = /** @class */ (function () {\r\n    function Browser(name, version) {\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    Browser.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Browser.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    return Browser;\r\n}());\r\n\r\nvar Device = /** @class */ (function () {\r\n    function Device(id) {\r\n        this.id = id;\r\n    }\r\n    Device.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return Device;\r\n}());\r\n\r\nvar User = /** @class */ (function () {\r\n    function User(primaryIdentityHash, tenantId) {\r\n        this.tenantId = tenantId;\r\n        this.primaryIdentityHash = primaryIdentityHash ? primaryIdentityHash.trim() : primaryIdentityHash;\r\n        this.primaryIdentitySpace = this.generatePrimaryIdentitySpace();\r\n    }\r\n    User.prototype.getTenantId = function () {\r\n        return this.tenantId;\r\n    };\r\n    User.prototype.getPrimaryIdentityHash = function () {\r\n        return this.primaryIdentityHash;\r\n    };\r\n    User.prototype.getPrimaryIdentitySpace = function () {\r\n        return this.primaryIdentitySpace;\r\n    };\r\n    User.prototype.generatePrimaryIdentitySpace = function () {\r\n        if (this.primaryIdentityHash) {\r\n            if (this.primaryIdentityHash.startsWith(\"a:\")) {\r\n                return \"UserObjectId\";\r\n            }\r\n            if (this.primaryIdentityHash.startsWith(\"p:\")) {\r\n                return \"MsaPuid\";\r\n            }\r\n            if (this.primaryIdentityHash.startsWith(\"ap:\")) {\r\n                return \"OrgIdPuid\";\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return User;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9Db250cmFjdHMudHM/Mzc0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUVIO0lBTUMsYUFBbUIsSUFBWSxFQUFFLE9BQWU7UUFDL0MsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRU0scUJBQU8sR0FBZDtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRU0seUJBQVcsR0FBbEI7UUFDQyxPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDckIsQ0FBQztJQUVNLHdCQUFVLEdBQWpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3JCLENBQUM7SUEzQmMsWUFBUSxHQUFXLEtBQUssQ0FBQztJQTRCekMsVUFBQztDQUFBO0FBN0JlO0FBK0JoQjtJQUdDLGlCQUFtQixFQUFVO1FBQzVCLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FDdkM7UUFFRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFTSx1QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRixjQUFDO0FBQUQsQ0FBQzs7QUFFRDtJQU1DLGNBQVksRUFBVSxFQUFFLE1BQWMs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LENBQUM7SUFDRixXQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvVGVsZW1ldHJ5L0NvbnRyYWN0cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb250cmFjdHMgZW5mb3JjZWQgYnkgT2ZmaWNlRXZlbnRTY2hlbWEgKE9FUylcclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuXHRwcml2YXRlIHN0YXRpYyBQTEFURk9STTogc3RyaW5nID0gXCJXZWJcIjtcclxuXHJcblx0cHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZykge1xyXG5cdFx0aWYgKCFuYW1lKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5hbWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghdmVyc2lvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ2ZXJzaW9uIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcclxuXHRcdHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubmFtZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRQbGF0Zm9ybSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIEFwcC5QTEFURk9STTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy52ZXJzaW9uO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlc3Npb24ge1xyXG5cdHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcclxuXHRcdGlmICghaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhvc3Qge1xyXG5cdHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHRwcml2YXRlIGxvY2FsZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGxvY2FsZTogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0XHR0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuXHRcdHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TG9jYWxlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5sb2NhbGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudmVyc2lvbjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudCB7XHJcblx0Ly8gSWQgaXMgc2V0IHRvIHNlc3Npb25JZDxERUxJTUlURVI+c2VxdWVuY2VcclxuXHRwcml2YXRlIHN0YXRpYyBJRF9ERUxJTUlURVIgPSBcIi5cIjtcclxuXHRwcml2YXRlIHN0YXRpYyBTT1VSQ0U6IHN0cmluZyA9IFwiTXNvVGhpblwiO1xyXG5cdHByaXZhdGUgc3RhdGljIFNDSEVNQV9WRVJTSU9OOiBudW1iZXIgPSAxO1xyXG5cclxuXHRwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHRwcml2YXRlIGlkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBzZXF1ZW5jZTogbnVtYmVyO1xyXG5cdHByaXZhdGUgc2FtcGxlUmF0ZTogbnVtYmVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgc2VxdWVuY2U6IG51bWJlciwgc2FtcGxlUmF0ZTogbnVtYmVyKSB7XHJcblx0XHRpZiAoIW5hbWUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibmFtZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFzZXNzaW9uSWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbklkIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoKCFzZXF1ZW5jZSAmJiBzZXF1ZW5jZSAhPT0gMCkgfHwgc2VxdWVuY2UgPCAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInNlcXVlbmNlIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmlkID0gc2Vzc2lvbklkICsgRXZlbnQuSURfREVMSU1JVEVSICsgc2VxdWVuY2U7XHJcblx0XHR0aGlzLnNlcXVlbmNlID0gc2VxdWVuY2U7XHJcblx0XHR0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLm5hbWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNvdXJjZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIEV2ZW50LlNPVVJDRTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTY2hlbWFWZXJzaW9uKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gRXZlbnQuU0NIRU1BX1ZFUlNJT047XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2VxdWVuY2UoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnNlcXVlbmNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNhbXBsZVJhdGUoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnNhbXBsZVJhdGU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVsZWFzZSB7XHJcblx0cHJpdmF0ZSBhdWRpZW5jZUdyb3VwOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihhdWRpZW5jZUdyb3VwOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuYXVkaWVuY2VHcm91cCA9IGF1ZGllbmNlR3JvdXA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QXVkaWVuY2VHcm91cCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuYXVkaWVuY2VHcm91cDtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCcm93c2VyIHtcclxuXHRwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHRwcml2YXRlIHZlcnNpb246IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnZlcnNpb247XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlIHtcclxuXHRwcml2YXRlIGlkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXIge1xyXG5cdHByaXZhdGUgcHJpbWFyeUlkZW50aXR5SGFzaDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcHJpbWFyeUlkZW50aXR5U3BhY2U6IHN0cmluZztcclxuXHRwcml2YXRlIHRlbmFudElkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwcmltYXJ5SWRlbnRpdHlIYXNoOiBzdHJpbmcsIHRlbmFudElkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMudGVuYW50SWQgPSB0ZW5hbnRJZDtcclxuXHRcdHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaCA9IHByaW1hcnlJZGVudGl0eUhhc2ggPyBwcmltYXJ5SWRlbnRpdHlIYXNoLnRyaW0oKSA6IHByaW1hcnlJZGVudGl0eUhhc2g7XHJcblx0XHR0aGlzLnByaW1hcnlJZGVudGl0eVNwYWNlID0gdGhpcy5nZW5lcmF0ZVByaW1hcnlJZGVudGl0eVNwYWNlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VGVuYW50SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnRlbmFudElkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByaW1hcnlJZGVudGl0eUhhc2goKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW1hcnlJZGVudGl0eUhhc2g7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJpbWFyeUlkZW50aXR5U3BhY2UoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW1hcnlJZGVudGl0eVNwYWNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZW5lcmF0ZVByaW1hcnlJZGVudGl0eVNwYWNlKCk6IHN0cmluZyB7XHJcblx0XHRpZiAodGhpcy5wcmltYXJ5SWRlbnRpdHlIYXNoKSB7XHJcblx0XHRcdGlmICh0aGlzLnByaW1hcnlJZGVudGl0eUhhc2guc3RhcnRzV2l0aChcImE6XCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiVXNlck9iamVjdElkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaC5zdGFydHNXaXRoKFwicDpcIikpIHtcclxuXHRcdFx0XHRyZXR1cm4gXCJNc2FQdWlkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaC5zdGFydHNXaXRoKFwiYXA6XCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiT3JnSWRQdWlkXCI7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/Contracts.ts\n");

/***/ }),

/***/ "./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts":
/*!*****************************************************************!*\
  !*** ./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _AriaTelemetryLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AriaTelemetryLogger */ \"./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts\");\n/**\r\n * Factory to return ITelemetryLogger objects\r\n */\r\n\r\nvar TelemetryLoggerFactory = /** @class */ (function () {\r\n    function TelemetryLoggerFactory() {\r\n    }\r\n    TelemetryLoggerFactory.create = function (tenantToken, namespace, app, session, host, release, browser, device, user) {\r\n        return new _AriaTelemetryLogger__WEBPACK_IMPORTED_MODULE_0__[\"default\"](tenantToken, namespace, app, session, host, release, browser, device, user);\r\n    };\r\n    return TelemetryLoggerFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TelemetryLoggerFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5LnRzPzA4YmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOztHQUVHO0FBSXFEO0FBRXhEO0lBQUE7SUFLQSxDQUFDO0lBSmMsNkJBQU0sR0FBcEIsVUFBcUIsV0FBbUIsRUFBRSxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFnQixFQUN0RixJQUFVLEVBQUUsT0FBZ0IsRUFBRSxPQUFnQixFQUFFLE1BQWMsRUFBRSxJQUFVO1FBQ3pFLE9BQU8sSUFBSSw0REFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVHLENBQUM7SUFDSCw2QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZhY3RvcnkgdG8gcmV0dXJuIElUZWxlbWV0cnlMb2dnZXIgb2JqZWN0c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwcCwgQnJvd3NlciwgRGV2aWNlLCBIb3N0LCBSZWxlYXNlLCBTZXNzaW9uLCBVc2VyIH0gZnJvbSBcIi4vQ29udHJhY3RzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuaW1wb3J0IEFyaWFUZWxlbWV0cnlMb2dnZXIgZnJvbSBcIi4vQXJpYVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVsZW1ldHJ5TG9nZ2VyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyBjcmVhdGUodGVuYW50VG9rZW46IHN0cmluZywgbmFtZXNwYWNlOiBzdHJpbmcsIGFwcDogQXBwLCBzZXNzaW9uOiBTZXNzaW9uLFxyXG5cdFx0aG9zdDogSG9zdCwgcmVsZWFzZTogUmVsZWFzZSwgYnJvd3NlcjogQnJvd3NlciwgZGV2aWNlOiBEZXZpY2UsIHVzZXI6IFVzZXIpOiBJVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBBcmlhVGVsZW1ldHJ5TG9nZ2VyKHRlbmFudFRva2VuLCBuYW1lc3BhY2UsIGFwcCwgc2Vzc2lvbiwgaG9zdCwgcmVsZWFzZSwgYnJvd3NlciwgZGV2aWNlLCB1c2VyKTtcclxuXHRcdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts\n");

/***/ }),

/***/ "./scripts/app/Personalizer/PersonalizerClient.ts":
/*!********************************************************!*\
  !*** ./scripts/app/Personalizer/PersonalizerClient.ts ***!
  \********************************************************/
/*! exports provided: PersonalizerClient, get */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PersonalizerClient\", function() { return PersonalizerClient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ \"../FloodgateCore/dist/src/Api/Api.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _DynamicContent_DynamicContentTransport__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DynamicContent/DynamicContentTransport */ \"./scripts/app/DynamicContent/DynamicContentTransport.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/GovernedChannel */ \"../FloodgateCore/dist/src/GovernedChannel.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar govServiceIntReward = \"https://onessppe.microsoft.com/api/v1.0/Reward\";\r\nvar govServiceProdReward = \"https://oness.microsoft.com/api/v1.0/Reward\";\r\nvar PersonalizerClient = /** @class */ (function () {\r\n    function PersonalizerClient() {\r\n        // Check if personalizer is enabled, otherwise set personalizerEnabled to false and do nothing (log?)\r\n        // set enabled to false, this we will check in setup.\r\n        this.personalizerEnabled = false;\r\n        this.dynamicTransport = new _DynamicContent_DynamicContentTransport__WEBPACK_IMPORTED_MODULE_5__[\"DynamicContentTransport\"]();\r\n        this.personalizerSurveyInformationMap = {};\r\n    }\r\n    PersonalizerClient.prototype.setup = function (configuration) {\r\n        this.personalizerEnabled = configuration.getFloodgateInitOptions().governanceServiceEnabled &&\r\n            configuration.getFloodgateInitOptions().personalizerEnabled;\r\n        if (this.personalizerEnabled) {\r\n            this.isProduction = configuration.getCommonInitOptions().environment === 0 /* Production */;\r\n            this.retryLimit = configuration.getFloodgateInitOptions().governanceServiceConfig.retry;\r\n            this.timeout = configuration.getFloodgateInitOptions().governanceServiceConfig.timeout;\r\n            this.requestUrl = this.isProduction ? govServiceProdReward : govServiceIntReward;\r\n        }\r\n    };\r\n    PersonalizerClient.prototype.setEventIdAndOverrideValueForSurveyId = function (eventId, configType, configValue, surveyId, campaignId) {\r\n        if (!this.personalizerEnabled || _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(eventId) || _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(surveyId)) {\r\n            return false;\r\n        }\r\n        if (configType !== 0 /* AutoDismissTime */) {\r\n            return false;\r\n        }\r\n        var newRecommendedAutoDismissValue = this.validateAndGetAutoDismissTime(configValue);\r\n        if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(newRecommendedAutoDismissValue)) {\r\n            return false;\r\n        }\r\n        this.personalizerSurveyInformationMap[surveyId] = {\r\n            eventId: eventId,\r\n            recommendedAutoDismissValue: newRecommendedAutoDismissValue,\r\n            userAction: undefined,\r\n        };\r\n        return true;\r\n    };\r\n    PersonalizerClient.prototype.getOverrideValueForSurveyId = function (configType, surveyId) {\r\n        if (!this.personalizerEnabled || _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(surveyId) ||\r\n            !this.infoExistsForSurveyId(surveyId) || configType !== 0 /* AutoDismissTime */) {\r\n            return undefined;\r\n        }\r\n        return this.personalizerSurveyInformationMap[surveyId].recommendedAutoDismissValue;\r\n    };\r\n    PersonalizerClient.prototype.logUserActionForSurveyAsync = function (userAction, surveyId, campaignId) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var responseResult, actionPayload, response, timeBefore, timeAfter, error_1;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(userAction) && this.infoExistsForSurveyId(surveyId)) {\r\n                            this.personalizerSurveyInformationMap[surveyId].userAction = userAction;\r\n                        }\r\n                        responseResult = {\r\n                            error: false,\r\n                        };\r\n                        actionPayload = this.getValidatedActionPayloadForSurveyId(surveyId);\r\n                        // validate the actionPayload. Log and early return with error if it fails.\r\n                        if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(actionPayload)) {\r\n                            responseResult.error = true;\r\n                            responseResult.errorMessage = \"Action Payload validation failed.\";\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].PERSONALIZER_CLIENTFAILURE, 1 /* Critical */, {\r\n                                Message: \"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: \" + responseResult.errorMessage,\r\n                                CampaignId: campaignId,\r\n                                SurveyId: surveyId,\r\n                            });\r\n                            return [2 /*return*/, responseResult];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        timeBefore = performance.now();\r\n                        return [4 /*yield*/, this.dynamicTransport.postRequestWithRetry(this.requestUrl, JSON.stringify(actionPayload), this.retryLimit, this.timeout)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        timeAfter = performance.now();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].PERSONALIZER_SERVICEREWARDRESULT, 1 /* Critical */, {\r\n                            TimeMilliseconds: timeAfter - timeBefore,\r\n                            HttpStatusCode: response.status,\r\n                            HttpStatusText: response.statusText,\r\n                            AdditionalSurveyInfo: this.buildConfigTelemetryString(),\r\n                            CorrelationId: this.dynamicTransport.requestId,\r\n                            CampaignId: campaignId,\r\n                            PersonalizerUserAction: actionPayload.UserAction,\r\n                            PersonalizerEventId: actionPayload.EventId,\r\n                            SurveyId: surveyId,\r\n                        });\r\n                        if (!response.ok) {\r\n                            // Error on service side.\r\n                            responseResult.error = true;\r\n                            responseResult.errorMessage = \"Server Error, status: \" + response.status + \", status text: \" + response.statusText;\r\n                        }\r\n                        return [2 /*return*/, responseResult];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        responseResult.error = true;\r\n                        responseResult.errorMessage = \"Error: \" + error_1.toString() + \", Error stack: \" + error_1.stack;\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__[\"EventIds\"].PERSONALIZER_CLIENTFAILURE, 1 /* Critical */, {\r\n                            Message: \"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: \" + responseResult.errorMessage,\r\n                            CampaignId: campaignId,\r\n                            SurveyId: surveyId,\r\n                            PersonalizerUserAction: actionPayload.UserAction,\r\n                            PersonalizerEventId: actionPayload.EventId,\r\n                        });\r\n                        return [2 /*return*/, responseResult];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    PersonalizerClient.prototype.getEventIdForSurveyId = function (surveyId) {\r\n        if (!this.infoExistsForSurveyId(surveyId)) {\r\n            return undefined;\r\n        }\r\n        return this.personalizerSurveyInformationMap[surveyId].eventId;\r\n    };\r\n    PersonalizerClient.prototype.isEnabled = function (surveyType, launcherType, governedChannelType) {\r\n        // Only enabled for:\r\n        // - FPS surveys \r\n        // - No 'customervoice' launcher type.\r\n        // - GovernedChannelType: Standard channel\r\n        if (surveyType !== _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__[\"ISurvey\"].Type.Fps\r\n            || launcherType === _Constants__WEBPACK_IMPORTED_MODULE_2__[\"customerVoiceLauncherType\"]\r\n            || launcherType === \"customux\"\r\n            || governedChannelType !== _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_6__[\"GovernedChannelType\"].Standard) {\r\n            return false;\r\n        }\r\n        return this.personalizerEnabled;\r\n    };\r\n    PersonalizerClient.prototype.getValidatedActionPayloadForSurveyId = function (surveyId) {\r\n        if (!this.infoExistsForSurveyId(surveyId)) {\r\n            return undefined;\r\n        }\r\n        var surveyPersonalizerInfo = this.personalizerSurveyInformationMap[surveyId];\r\n        if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(surveyPersonalizerInfo.eventId)) {\r\n            return undefined;\r\n        }\r\n        if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(surveyPersonalizerInfo.userAction)\r\n            || (surveyPersonalizerInfo.userAction !== 2 /* Accept */\r\n                && surveyPersonalizerInfo.userAction !== 0 /* Cancel */\r\n                && surveyPersonalizerInfo.userAction !== 1 /* Ignore */)) {\r\n            return undefined;\r\n        }\r\n        return {\r\n            UserAction: surveyPersonalizerInfo.userAction,\r\n            EventId: surveyPersonalizerInfo.eventId,\r\n        };\r\n    };\r\n    PersonalizerClient.prototype.validateAndGetAutoDismissTime = function (configValue) {\r\n        if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(configValue) || typeof (configValue) !== \"string\") {\r\n            return undefined;\r\n        }\r\n        // value should be not null, not undefined; a string that parses to an int; \r\n        // an int that is in the AutoDismissTimes enum and can be mapped to the AutoDismissValues enum.\r\n        var parsedConfigValue = parseInt(configValue, 10);\r\n        switch (parsedConfigValue) {\r\n            case 0 /* NoAutoDismiss */:\r\n                return 0 /* NoAutoDismiss */;\r\n            case 7 /* SevenSeconds */:\r\n                return 1 /* SevenSeconds */;\r\n            case 14 /* FourteenSeconds */:\r\n                return 2 /* FourteenSeconds */;\r\n            case 21 /* TwentyOneSeconds */:\r\n                return 3 /* TwentyOneSeconds */;\r\n            case 28 /* TwentyEightSeconds */:\r\n                return 4 /* TwentyEightSeconds */;\r\n            case 60 /* SixtySeconds */:\r\n                return 5 /* SixtySeconds */;\r\n            case 90 /* NinetySeconds */:\r\n                return 6 /* NinetySeconds */;\r\n            case 120 /* OneHundredAndTwentySeconds */:\r\n                return 7 /* OneHundredAndTwentySeconds */;\r\n            case 150 /* OneHundredAndFiftySeconds */:\r\n                return 8 /* OneHundredAndFiftySeconds */;\r\n            default:\r\n                return undefined;\r\n        }\r\n    };\r\n    PersonalizerClient.prototype.infoExistsForSurveyId = function (surveyId) {\r\n        if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(surveyId)) {\r\n            return false;\r\n        }\r\n        return !_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].isNOU(this.personalizerSurveyInformationMap[surveyId]);\r\n    };\r\n    PersonalizerClient.prototype.buildConfigTelemetryString = function () {\r\n        var objectTelemetry = {\r\n            retry: this.retryLimit,\r\n            timeout: this.timeout,\r\n        };\r\n        return JSON.stringify(objectTelemetry);\r\n    };\r\n    return PersonalizerClient;\r\n}());\r\n\r\nvar personalizerClient = new PersonalizerClient();\r\n/**\r\n * Get the current Personalizer Client\r\n */\r\nfunction get() {\r\n    return personalizerClient;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9QZXJzb25hbGl6ZXIvUGVyc29uYWxpemVyQ2xpZW50LnRzPzU5OWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0U7QUFFMUI7QUFDVTtBQUNOO0FBQ3NDO0FBR087QUFFM0YsSUFBTSxtQkFBbUIsR0FBVyxnREFBZ0QsQ0FBQztBQUNyRixJQUFNLG9CQUFvQixHQUFXLDZDQUE2QyxDQUFDO0FBU25GO0lBcUJDO1FBQ0MscUdBQXFHO1FBQ3JHLHFEQUFxRDtRQUNyRCxJQUFJLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLCtGQUF1QixFQUFFLENBQUM7UUFDdEQsSUFBSSxDQUFDLGdDQUFnQyxHQUFHLEVBQUUsQ0FBQztJQUM1QyxDQUFDO0lBRU0sa0NBQUssR0FBWixVQUFhLGFBQTRCO1FBQ3hDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxhQUFhLENBQUMsdUJBQXVCLEVBQUUsQ0FBQyx3QkFBd0I7WUFDMUYsYUFBYSxDQUFDLHVCQUF1QixFQUFFLENBQUMsbUJBQW1CLENBQUM7UUFFN0QsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFlBQVksR0FBRyxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxXQUFXLHVCQUFxQyxDQUFDO1lBQzFHLElBQUksQ0FBQyxVQUFVLEdBQUcsYUFBYSxDQUFDLHVCQUF1QixFQUFFLENBQUMsdUJBQXVCLENBQUMsS0FBSyxDQUFDO1lBQ3hGLElBQUksQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDLHVCQUF1QixFQUFFLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDO1lBQ3ZGLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDO1NBQ2pGO0lBQ0YsQ0FBQztJ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QUM7SUFDeEMsQ0FBQztJQUNGLHlCQUFDO0FBQUQsQ0FBQzs7QUFFRCxJQUFNLGtCQUFrQixHQUF1QixJQUFJLGtCQUFrQixFQUFFLENBQUM7QUFFeEU7O0dBRUc7QUFDSSxTQUFTLEdBQUc7SUFDbEIsT0FBTyxrQkFBa0IsQ0FBQztBQUMzQixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvUGVyc29uYWxpemVyL1BlcnNvbmFsaXplckNsaWVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgeyBEeW5hbWljQ29udGVudFRyYW5zcG9ydCB9IGZyb20gXCIuLi9EeW5hbWljQ29udGVudC9EeW5hbWljQ29udGVudFRyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBJQWN0aW9uUGF5bG9hZCwgSVBlcnNvbmFsaXplckNsaWVudCwgRW5kVXNlckFjdGlvbnMsIFN1cHBvcnRlZE92ZXJyaWRlcywgQXV0b0Rpc21pc3NUaW1lcywgSVBlcnNvbmFsaXplclJld2FyZFJlc3BvbnNlIH1cclxuZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSVBlcnNvbmFsaXplckNsaWVudFwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuXHJcbmNvbnN0IGdvdlNlcnZpY2VJbnRSZXdhcmQ6IHN0cmluZyA9IFwiaHR0cHM6Ly9vbmVzc3BwZS5taWNyb3NvZnQuY29tL2FwaS92MS4wL1Jld2FyZFwiO1xyXG5jb25zdCBnb3ZTZXJ2aWNlUHJvZFJld2FyZDogc3RyaW5nID0gXCJodHRwczovL29uZXNzLm1pY3Jvc29mdC5jb20vYXBpL3YxLjAvUmV3YXJkXCI7XHJcblxyXG5pbnRlcmZhY2UgSVBlcnNvbmFsaXplclN1cnZleUluZm9ybWF0aW9uIHtcclxuXHQvLyB2YXJpYWJsZXMgdG8gdHJhY2sgdGhlIHVzZXIncyBhY3Rpb24gYW5kIHBlcnNvbmFsaXplciBzZXJ2aWNlIHJlY29tbWVuZGF0aW9uXHJcblx0ZXZlbnRJZDogc3RyaW5nOyAvLyBVbmlxdWUgSUQgdmFyaWFibGUgdG8gbWF0Y2ggcmFuayBhbmQgcmV3YXJkXHJcblx0cmVjb21tZW5kZWRBdXRvRGlzbWlzc1ZhbHVlOiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXM7XHJcblx0dXNlckFjdGlvbjogRW5kVXNlckFjdGlvbnMgfCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQZXJzb25hbGl6ZXJDbGllbnQgaW1wbGVtZW50cyBJUGVyc29uYWxpemVyQ2xpZW50IHtcclxuXHJcblx0cHVibGljIGR5bmFtaWNUcmFuc3BvcnQ6IER5bmFtaWNDb250ZW50VHJhbnNwb3J0O1xyXG5cdHByaXZhdGUgcGVyc29uYWxpemVyRW5hYmxlZDogYm9vbGVhbjtcclxuXHJcblx0Ly8gLS0tIFN0YXRlIERhdGEgLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gLS0tLS0tLVxyXG5cclxuXHQvLyBtYXAgb2Ygc3VydmV5SWQgdG8gSVBlcnNvbmFsaXplclN1cnZleUluZm9ybWF0aW9uIGluc3RhbmNlLlxyXG5cdHByaXZhdGUgcGVyc29uYWxpemVyU3VydmV5SW5mb3JtYXRpb25NYXA6IHtcclxuXHRcdFtzdXJ2ZXlJZDogc3RyaW5nXTogSVBlcnNvbmFsaXplclN1cnZleUluZm9ybWF0aW9uLFxyXG5cdH07XHJcblxyXG5cdC8vIC0tLS0tLS1cclxuXHQvLyAtLS0gU3RhdGUgRGF0YSAoZW5kKSAtLS0tLS0tLS0tLS0tLS1cclxuXHJcblx0cHJpdmF0ZSBpc1Byb2R1Y3Rpb246IGJvb2xlYW47XHJcblx0cHJpdmF0ZSByZXRyeUxpbWl0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSB0aW1lb3V0OiBudW1iZXI7XHJcblx0cHJpdmF0ZSByZXF1ZXN0VXJsOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly8gQ2hlY2sgaWYgcGVyc29uYWxpemVyIGlzIGVuYWJsZWQsIG90aGVyd2lzZSBzZXQgcGVyc29uYWxpemVyRW5hYmxlZCB0byBmYWxzZSBhbmQgZG8gbm90aGluZyAobG9nPylcclxuXHRcdC8vIHNldCBlbmFibGVkIHRvIGZhbHNlLCB0aGlzIHdlIHdpbGwgY2hlY2sgaW4gc2V0dXAuXHJcblx0XHR0aGlzLnBlcnNvbmFsaXplckVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuZHluYW1pY1RyYW5zcG9ydCA9IG5ldyBEeW5hbWljQ29udGVudFRyYW5zcG9ydCgpO1xyXG5cdFx0dGhpcy5wZXJzb25hbGl6ZXJTdXJ2ZXlJbmZvcm1hdGlvbk1hcCA9IHt9O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldHVwKGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pOiB2b2lkIHtcclxuXHRcdHRoaXMucGVyc29uYWxpemVyRW5hYmxlZCA9IGNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKS5nb3Zlcm5hbmNlU2VydmljZUVuYWJsZWQgJiZcclxuXHRcdFx0Y29uZmlndXJhdGlvbi5nZXRGbG9vZGdhdGVJbml0T3B0aW9ucygpLnBlcnNvbmFsaXplckVuYWJsZWQ7XHJcblxyXG5cdFx0aWYgKHRoaXMucGVyc29uYWxpemVyRW5hYmxlZCkge1xyXG5cdFx0XHR0aGlzLmlzUHJvZHVjdGlvbiA9IGNvbmZpZ3VyYXRpb24uZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5lbnZpcm9ubWVudCA9PT0gQ29uc3RhbnRzLkVudmlyb25tZW50LlByb2R1Y3Rpb247XHJcblx0XHRcdHRoaXMucmV0cnlMaW1pdCA9IGNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKS5nb3Zlcm5hbmNlU2VydmljZUNvbmZpZy5yZXRyeTtcclxuXHRcdFx0dGhpcy50aW1lb3V0ID0gY29uZmlndXJhdGlvbi5nZXRGbG9vZGdhdGVJbml0T3B0aW9ucygpLmdvdmVybmFuY2VTZXJ2aWNlQ29uZmlnLnRpbWVvdXQ7XHJcblx0XHRcdHRoaXMucmVxdWVzdFVybCA9IHRoaXMuaXNQcm9kdWN0aW9uID8gZ292U2VydmljZVByb2RSZXdhcmQgOiBnb3ZTZXJ2aWNlSW50UmV3YXJkO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEV2ZW50SWRBbmRPdmVycmlkZVZhbHVlRm9yU3VydmV5SWQoZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0Y29uZmlnVHlwZTogU3VwcG9ydGVkT3ZlcnJpZGVzLFxyXG5cdFx0Y29uZmlnVmFsdWU6IHN0cmluZyxcclxuXHRcdHN1cnZleUlkOiBzdHJpbmcsXHJcblx0XHRjYW1wYWlnbklkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHJcblx0XHRpZiAoIXRoaXMucGVyc29uYWxpemVyRW5hYmxlZCB8fCBVdGlscy5pc05PVShldmVudElkKSB8fCBVdGlscy5pc05PVShzdXJ2ZXlJZCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb25maWdUeXBlICE9PSBTdXBwb3J0ZWRPdmVycmlkZXMuQXV0b0Rpc21pc3NUaW1lKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBuZXdSZWNvbW1lbmRlZEF1dG9EaXNtaXNzVmFsdWUgPSB0aGlzLnZhbGlkYXRlQW5kR2V0QXV0b0Rpc21pc3NUaW1lKGNvbmZpZ1ZhbHVlKTtcclxuXHJcblx0XHRpZiAoVXRpbHMuaXNOT1UobmV3UmVjb21tZW5kZWRBdXRvRGlzbWlzc1ZhbHVlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5wZXJzb25hbGl6ZXJTdXJ2ZXlJbmZvcm1hdGlvbk1hcFtzdXJ2ZXlJZF0gPSB7XHJcblx0XHRcdGV2ZW50SWQ6IGV2ZW50SWQsXHJcblx0XHRcdHJlY29tbWVuZGVkQXV0b0Rpc21pc3NWYWx1ZTogbmV3UmVjb21tZW5kZWRBdXRvRGlzbWlzc1ZhbHVlLFxyXG5cdFx0XHR1c2VyQWN0aW9uOiB1bmRlZmluZWQsXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE92ZXJyaWRlVmFsdWVGb3JTdXJ2ZXlJZChjb25maWdUeXBlOiBTdXBwb3J0ZWRPdmVycmlkZXMsIHN1cnZleUlkOiBzdHJpbmcpOiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMgfCB1bmRlZmluZWQge1xyXG5cclxuXHRcdGlmICghdGhpcy5wZXJzb25hbGl6ZXJFbmFibGVkIHx8IFV0aWxzLmlzTk9VKHN1cnZleUlkKSB8fFxyXG5cdFx0XHQhdGhpcy5pbmZvRXhpc3RzRm9yU3VydmV5SWQoc3VydmV5SWQpIHx8IGNvbmZpZ1R5cGUgIT09IFN1cHBvcnRlZE92ZXJyaWRlcy5BdXRvRGlzbWlzc1RpbWUpIHtcclxuXHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucGVyc29uYWxpemVyU3VydmV5SW5mb3JtYXRpb25NYXBbc3VydmV5SWRdLnJlY29tbWVuZGVkQXV0b0Rpc21pc3NWYWx1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBsb2dVc2VyQWN0aW9uRm9yU3VydmV5QXN5bmModXNlckFjdGlvbjogRW5kVXNlckFjdGlvbnMsXHJcblx0XHRzdXJ2ZXlJZDogc3RyaW5nLFxyXG5cdFx0Y2FtcGFpZ25JZDogc3RyaW5nKTogUHJvbWlzZTxJUGVyc29uYWxpemVyUmV3YXJkUmVzcG9uc2U+IHtcclxuXHJcblx0XHRpZiAoIVV0aWxzLmlzTk9VKHVzZXJBY3Rpb24pICYmIHRoaXMuaW5mb0V4aXN0c0ZvclN1cnZleUlkKHN1cnZleUlkKSkge1xyXG5cdFx0XHR0aGlzLnBlcnNvbmFsaXplclN1cnZleUluZm9ybWF0aW9uTWFwW3N1cnZleUlkXS51c2VyQWN0aW9uID0gdXNlckFjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXNwb25zZVJlc3VsdDogSVBlcnNvbmFsaXplclJld2FyZFJlc3BvbnNlID0ge1xyXG5cdFx0XHRlcnJvcjogZmFsc2UsXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGFjdGlvblBheWxvYWQgPSB0aGlzLmdldFZhbGlkYXRlZEFjdGlvblBheWxvYWRGb3JTdXJ2ZXlJZChzdXJ2ZXlJZCk7XHJcblxyXG5cdFx0Ly8gdmFsaWRhdGUgdGhlIGFjdGlvblBheWxvYWQuIExvZyBhbmQgZWFybHkgcmV0dXJuIHdpdGggZXJyb3IgaWYgaXQgZmFpbHMuXHJcblx0XHRpZiAoVXRpbHMuaXNOT1UoYWN0aW9uUGF5bG9hZCkpIHtcclxuXHRcdFx0cmVzcG9uc2VSZXN1bHQuZXJyb3IgPSB0cnVlO1xyXG5cdFx0XHRyZXNwb25zZVJlc3VsdC5lcnJvck1lc3NhZ2UgPSBcIkFjdGlvbiBQYXlsb2FkIHZhbGlkYXRpb24gZmFpbGVkLlwiO1xyXG5cclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlBFUlNPTkFMSVpFUl9DTElFTlRGQUlMVVJFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0TWVzc2FnZTogXCIoUGVyc29uYWxpemVyQ2xpZW50LmxvZ1VzZXJBY3Rpb25Gb3JTdXJ2ZXlBc3luYykgRXJyb3IgbG9nZ2luZyBwZXJzb25hbGl6ZXIgdXNlciBhY3Rpb246IFwiICsgcmVzcG9uc2VSZXN1bHQuZXJyb3JNZXNzYWdlLFxyXG5cdFx0XHRcdFx0Q2FtcGFpZ25JZDogY2FtcGFpZ25JZCxcclxuXHRcdFx0XHRcdFN1cnZleUlkOiBzdXJ2ZXlJZCxcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VSZXN1bHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHJlc3BvbnNlOiBSZXNwb25zZTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0aW1lQmVmb3JlID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdHJlc3BvbnNlID0gYXdhaXQgdGhpcy5keW5hbWljVHJhbnNwb3J0LnBvc3RSZXF1ZXN0V2l0aFJldHJ5KHRoaXMucmVxdWVzdFVybCxcclxuXHRcdFx0XHRKU09OLnN0cmluZ2lmeShhY3Rpb25QYXlsb2FkKSxcclxuXHRcdFx0XHR0aGlzLnJldHJ5TGltaXQsXHJcblx0XHRcdFx0dGhpcy50aW1lb3V0KTtcclxuXHJcblx0XHRcdGNvbnN0IHRpbWVBZnRlciA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlBFUlNPTkFMSVpFUl9TRVJWSUNFUkVXQVJEUkVTVUxULFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogdGltZUFmdGVyIC0gdGltZUJlZm9yZSxcclxuXHRcdFx0XHRcdEh0dHBTdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXHJcblx0XHRcdFx0XHRIdHRwU3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcclxuXHRcdFx0XHRcdEFkZGl0aW9uYWxTdXJ2ZXlJbmZvOiB0aGlzLmJ1aWxkQ29uZmlnVGVsZW1ldHJ5U3RyaW5nKCksXHJcblx0XHRcdFx0XHRDb3JyZWxhdGlvbklkOiB0aGlzLmR5bmFtaWNUcmFuc3BvcnQucmVxdWVzdElkLFxyXG5cdFx0XHRcdFx0Q2FtcGFpZ25JZDogY2FtcGFpZ25JZCxcclxuXHRcdFx0XHRcdFBlcnNvbmFsaXplclVzZXJBY3Rpb246IGFjdGlvblBheWxvYWQuVXNlckFjdGlvbixcclxuXHRcdFx0XHRcdFBlcnNvbmFsaXplckV2ZW50SWQ6IGFjdGlvblBheWxvYWQuRXZlbnRJZCxcclxuXHRcdFx0XHRcdFN1cnZleUlkOiBzdXJ2ZXlJZCxcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XHJcblx0XHRcdFx0Ly8gRXJyb3Igb24gc2VydmljZSBzaWRlLlxyXG5cdFx0XHRcdHJlc3BvbnNlUmVzdWx0LmVycm9yID0gdHJ1ZTtcclxuXHRcdFx0XHRyZXNwb25zZVJlc3VsdC5lcnJvck1lc3NhZ2UgPSBgU2VydmVyIEVycm9yLCBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfSwgc3RhdHVzIHRleHQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VSZXN1bHQ7XHJcblxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0cmVzcG9uc2VSZXN1bHQuZXJyb3IgPSB0cnVlO1xyXG5cdFx0XHRyZXNwb25zZVJlc3VsdC5lcnJvck1lc3NhZ2UgPSBgRXJyb3I6ICR7ZXJyb3IudG9TdHJpbmcoKX0sIEVycm9yIHN0YWNrOiAke2Vycm9yLnN0YWNrfWA7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5QRVJTT05BTElaRVJfQ0xJRU5URkFJTFVSRSxcclxuXHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdE1lc3NhZ2U6IFwiKFBlcnNvbmFsaXplckNsaWVudC5sb2dVc2VyQWN0aW9uRm9yU3VydmV5QXN5bmMpIEVycm9yIGxvZ2dpbmcgcGVyc29uYWxpemVyIHVzZXIgYWN0aW9uOiBcIiArIHJlc3BvbnNlUmVzdWx0LmVycm9yTWVzc2FnZSxcclxuXHRcdFx0XHRcdENhbXBhaWduSWQ6IGNhbXBhaWduSWQsXHJcblx0XHRcdFx0XHRTdXJ2ZXlJZDogc3VydmV5SWQsXHJcblx0XHRcdFx0XHRQZXJzb25hbGl6ZXJVc2VyQWN0aW9uOiBhY3Rpb25QYXlsb2FkLlVzZXJBY3Rpb24sXHJcblx0XHRcdFx0XHRQZXJzb25hbGl6ZXJFdmVudElkOiBhY3Rpb25QYXlsb2FkLkV2ZW50SWQsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlUmVzdWx0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEV2ZW50SWRGb3JTdXJ2ZXlJZChzdXJ2ZXlJZDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuXHRcdGlmICghdGhpcy5pbmZvRXhpc3RzRm9yU3VydmV5SWQoc3VydmV5SWQpKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucGVyc29uYWxpemVyU3VydmV5SW5mb3JtYXRpb25NYXBbc3VydmV5SWRdLmV2ZW50SWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNFbmFibGVkKHN1cnZleVR5cGU6IEFwaS5JU3VydmV5LlR5cGUsIGxhdW5jaGVyVHlwZTogc3RyaW5nLCBnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbiB7XHJcblx0XHQvLyBPbmx5IGVuYWJsZWQgZm9yOlxyXG5cdFx0Ly8gLSBGUFMgc3VydmV5cyBcclxuXHRcdC8vIC0gTm8gJ2N1c3RvbWVydm9pY2UnIGxhdW5jaGVyIHR5cGUuXHJcblx0XHQvLyAtIEdvdmVybmVkQ2hhbm5lbFR5cGU6IFN0YW5kYXJkIGNoYW5uZWxcclxuXHJcblx0XHRpZiAoc3VydmV5VHlwZSAhPT0gQXBpLklTdXJ2ZXkuVHlwZS5GcHNcclxuXHRcdFx0fHwgbGF1bmNoZXJUeXBlID09PSBDb25zdGFudHMuY3VzdG9tZXJWb2ljZUxhdW5jaGVyVHlwZVxyXG5cdFx0XHR8fCBsYXVuY2hlclR5cGUgPT09IFwiY3VzdG9tdXhcIlxyXG5cdFx0XHR8fCBnb3Zlcm5lZENoYW5uZWxUeXBlICE9PSBHb3Zlcm5lZENoYW5uZWxUeXBlLlN0YW5kYXJkKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5wZXJzb25hbGl6ZXJFbmFibGVkO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRWYWxpZGF0ZWRBY3Rpb25QYXlsb2FkRm9yU3VydmV5SWQoc3VydmV5SWQ6IHN0cmluZyk6IElBY3Rpb25QYXlsb2FkIHwgdW5kZWZpbmVkIHtcclxuXHJcblx0XHRpZiAoIXRoaXMuaW5mb0V4aXN0c0ZvclN1cnZleUlkKHN1cnZleUlkKSkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1cnZleVBlcnNvbmFsaXplckluZm8gPSB0aGlzLnBlcnNvbmFsaXplclN1cnZleUluZm9ybWF0aW9uTWFwW3N1cnZleUlkXTtcclxuXHJcblx0XHRpZiAoVXRpbHMuaXNOT1Uoc3VydmV5UGVyc29uYWxpemVySW5mby5ldmVudElkKSkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChVdGlscy5pc05PVShzdXJ2ZXlQZXJzb25hbGl6ZXJJbmZvLnVzZXJBY3Rpb24pXHJcblx0XHRcdHx8IChzdXJ2ZXlQZXJzb25hbGl6ZXJJbmZvLnVzZXJBY3Rpb24gIT09IEVuZFVzZXJBY3Rpb25zLkFjY2VwdFxyXG5cdFx0XHRcdFx0JiYgc3VydmV5UGVyc29uYWxpemVySW5mby51c2VyQWN0aW9uICE9PSBFbmRVc2VyQWN0aW9ucy5DYW5jZWxcclxuXHRcdFx0XHRcdCYmIHN1cnZleVBlcnNvbmFsaXplckluZm8udXNlckFjdGlvbiAhPT0gRW5kVXNlckFjdGlvbnMuSWdub3JlKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRVc2VyQWN0aW9uOiBzdXJ2ZXlQZXJzb25hbGl6ZXJJbmZvLnVzZXJBY3Rpb24sXHJcblx0XHRcdEV2ZW50SWQ6IHN1cnZleVBlcnNvbmFsaXplckluZm8uZXZlbnRJZCxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHZhbGlkYXRlQW5kR2V0QXV0b0Rpc21pc3NUaW1lKGNvbmZpZ1ZhbHVlOiBzdHJpbmcpOiB1bmRlZmluZWQgfCBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMge1xyXG5cclxuXHRcdGlmIChVdGlscy5pc05PVShjb25maWdWYWx1ZSkgfHwgdHlwZW9mKGNvbmZpZ1ZhbHVlKSAhPT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHZhbHVlIHNob3VsZCBiZSBub3QgbnVsbCwgbm90IHVuZGVmaW5lZDsgYSBzdHJpbmcgdGhhdCBwYXJzZXMgdG8gYW4gaW50OyBcclxuXHRcdC8vIGFuIGludCB0aGF0IGlzIGluIHRoZSBBdXRvRGlzbWlzc1RpbWVzIGVudW0gYW5kIGNhbiBiZSBtYXBwZWQgdG8gdGhlIEF1dG9EaXNtaXNzVmFsdWVzIGVudW0uXHJcblxyXG5cdFx0Y29uc3QgcGFyc2VkQ29uZmlnVmFsdWUgPSBwYXJzZUludChjb25maWdWYWx1ZSwgMTApO1xyXG5cclxuXHRcdHN3aXRjaCAocGFyc2VkQ29uZmlnVmFsdWUpIHtcclxuXHRcdFx0Y2FzZSBBdXRvRGlzbWlzc1RpbWVzLk5vQXV0b0Rpc21pc3M6XHJcblx0XHRcdFx0cmV0dXJuIENvbnN0YW50cy5BdXRvRGlzbWlzc1ZhbHVlcy5Ob0F1dG9EaXNtaXNzO1xyXG5cdFx0XHRjYXNlIEF1dG9EaXNtaXNzVGltZXMuU2V2ZW5TZWNvbmRzOlxyXG5cdFx0XHRcdHJldHVybiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMuU2V2ZW5TZWNvbmRzO1xyXG5cdFx0XHRjYXNlIEF1dG9EaXNtaXNzVGltZXMuRm91cnRlZW5TZWNvbmRzOlxyXG5cdFx0XHRcdHJldHVybiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMuRm91cnRlZW5TZWNvbmRzO1xyXG5cdFx0XHRjYXNlIEF1dG9EaXNtaXNzVGltZXMuVHdlbnR5T25lU2Vjb25kczpcclxuXHRcdFx0XHRyZXR1cm4gQ29uc3RhbnRzLkF1dG9EaXNtaXNzVmFsdWVzLlR3ZW50eU9uZVNlY29uZHM7XHJcblx0XHRcdGNhc2UgQXV0b0Rpc21pc3NUaW1lcy5Ud2VudHlFaWdodFNlY29uZHM6XHJcblx0XHRcdFx0cmV0dXJuIENvbnN0YW50cy5BdXRvRGlzbWlzc1ZhbHVlcy5Ud2VudHlFaWdodFNlY29uZHM7XHJcblx0XHRcdGNhc2UgQXV0b0Rpc21pc3NUaW1lcy5TaXh0eVNlY29uZHM6XHJcblx0XHRcdFx0cmV0dXJuIENvbnN0YW50cy5BdXRvRGlzbWlzc1ZhbHVlcy5TaXh0eVNlY29uZHM7XHJcblx0XHRcdGNhc2UgQXV0b0Rpc21pc3NUaW1lcy5OaW5ldHlTZWNvbmRzOlxyXG5cdFx0XHRcdHJldHVybiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMuTmluZXR5U2Vjb25kcztcclxuXHRcdFx0Y2FzZSBBdXRvRGlzbWlzc1RpbWVzLk9uZUh1bmRyZWRBbmRUd2VudHlTZWNvbmRzOlxyXG5cdFx0XHRcdHJldHVybiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMuT25lSHVuZHJlZEFuZFR3ZW50eVNlY29uZHM7XHJcblx0XHRcdGNhc2UgQXV0b0Rpc21pc3NUaW1lcy5PbmVIdW5kcmVkQW5kRmlmdHlTZWNvbmRzOlxyXG5cdFx0XHRcdHJldHVybiBDb25zdGFudHMuQXV0b0Rpc21pc3NWYWx1ZXMuT25lSHVuZHJlZEFuZEZpZnR5U2Vjb25kcztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbmZvRXhpc3RzRm9yU3VydmV5SWQoc3VydmV5SWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKFV0aWxzLmlzTk9VKHN1cnZleUlkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuICFVdGlscy5pc05PVSh0aGlzLnBlcnNvbmFsaXplclN1cnZleUluZm9ybWF0aW9uTWFwW3N1cnZleUlkXSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGJ1aWxkQ29uZmlnVGVsZW1ldHJ5U3RyaW5nKCkge1xyXG5cdFx0Y29uc3Qgb2JqZWN0VGVsZW1ldHJ5ID0ge1xyXG5cdFx0XHRyZXRyeTogdGhpcy5yZXRyeUxpbWl0LFxyXG5cdFx0XHR0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iamVjdFRlbGVtZXRyeSk7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBwZXJzb25hbGl6ZXJDbGllbnQ6IFBlcnNvbmFsaXplckNsaWVudCA9IG5ldyBQZXJzb25hbGl6ZXJDbGllbnQoKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgUGVyc29uYWxpemVyIENsaWVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldCgpOiBQZXJzb25hbGl6ZXJDbGllbnQge1xyXG5cdHJldHVybiBwZXJzb25hbGl6ZXJDbGllbnQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Personalizer/PersonalizerClient.ts\n");

/***/ }),

/***/ "./scripts/app/Polyfills/Fetch.ts":
/*!****************************************!*\
  !*** ./scripts/app/Polyfills/Fetch.ts ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! whatwg-fetch */ \"./node_modules/whatwg-fetch/fetch.js\");\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Qb2x5ZmlsbHMvRmV0Y2gudHM/Y2M3YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXNCIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvUG9seWZpbGxzL0ZldGNoLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwid2hhdHdnLWZldGNoXCI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Polyfills/Fetch.ts\n");

/***/ }),

/***/ "./scripts/app/Polyfills/Promise.ts":
/*!******************************************!*\
  !*** ./scripts/app/Polyfills/Promise.ts ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var es6_promise_auto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! es6-promise/auto */ \"./node_modules/es6-promise/auto.js\");\n/* harmony import */ var es6_promise_auto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(es6_promise_auto__WEBPACK_IMPORTED_MODULE_0__);\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Qb2x5ZmlsbHMvUHJvbWlzZS50cz85Zjg4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEwQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1BvbHlmaWxscy9Qcm9taXNlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiZXM2LXByb21pc2UvYXV0b1wiO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Polyfills/Promise.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/AssetsProvider.ts":
/*!*********************************************************!*\
  !*** ./scripts/app/TargetedMessaging/AssetsProvider.ts ***!
  \*********************************************************/
/*! exports provided: AssetsProvider, get */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AssetsProvider\", function() { return AssetsProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingConstants */ \"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\");\n/* harmony import */ var _TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TargetedMessagingClient */ \"./scripts/app/TargetedMessaging/TargetedMessagingClient.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/**\r\n * Module that provides campaign definitions,\r\n * governance rules & message metadata from\r\n * targeted messaging service.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar AssetsProvider = /** @class */ (function () {\r\n    function AssetsProvider() {\r\n        var _a, _b;\r\n        this.configuration = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]();\r\n        // Enable TargetedMessaging client only if authCallback is provided\r\n        // This is for cases where existing Floodgate hosts are not yet on-boarded into web surfaces flow\r\n        var floodgateInitOptions = this.configuration && this.configuration.getFloodgateInitOptions();\r\n        var commonInitOptions = this.configuration && this.configuration.getCommonInitOptions();\r\n        var authTokenCallback = floodgateInitOptions && floodgateInitOptions.authTokenCallback;\r\n        if ((authTokenCallback && (authTokenCallback.getAuthToken || authTokenCallback.getUserPuid)) ||\r\n            this.isAugLoopEnabled()) {\r\n            var initOptions = this.configuration.getCommonInitOptions();\r\n            this.tmsgClient = new _TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__[\"TargetedMessagingClient\"](initOptions.appId.toString(), \"Web\" /*platform*/, initOptions.build, initOptions.originalLocale, this.extractCountryFromLocale(initOptions.originalLocale), this.configuration.getSdkSessionId(), floodgateInitOptions.authTokenCallback, floodgateInitOptions.augLoopCallback, floodgateInitOptions.campaignFlights, floodgateInitOptions.campaignQueryParameters, commonInitOptions.ageGroup, commonInitOptions.authenticationType, ((_a = commonInitOptions.telemetryGroup) === null || _a === void 0 ? void 0 : _a.audienceGroup) || ((_b = commonInitOptions.telemetryGroup) === null || _b === void 0 ? void 0 : _b.audience), floodgateInitOptions.messagingServiceSettings);\r\n        }\r\n    }\r\n    /**\r\n     * Get campaign definitions from TMS\r\n     */\r\n    AssetsProvider.prototype.getCampaignDefinitions = function () {\r\n        var debugResponse = Object(_TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__[\"getDebugCampaignDefinitions\"])();\r\n        if (debugResponse && debugResponse.content) {\r\n            return Promise.resolve(debugResponse.content);\r\n        }\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getContent(\"CampaignContent\" /* campaignContent */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.getCachedCampaignDefinitions = function () {\r\n        var _a;\r\n        return (_a = this.tmsgClient) === null || _a === void 0 ? void 0 : _a.getCachedContent(\"CampaignContent\" /* campaignContent */);\r\n    };\r\n    AssetsProvider.prototype.getUserGovernanceRules = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getContent(\"UserGovernance\" /* userGovernanceRules */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.getMessageMetadata = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getContent(\"MessageMetadata\" /* messageMetadata */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    /**\r\n     * Get TULIPS user facts from AugLoop or GWS endpoint\r\n     */\r\n    AssetsProvider.prototype.getUserFacts = function () {\r\n        var _this = this;\r\n        var debugResponse = Object(_TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__[\"getDebugUserFacts\"])();\r\n        if (debugResponse && debugResponse.content) {\r\n            return Promise.resolve(debugResponse.content);\r\n        }\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        // Try to get facts from AL first\r\n        if (this.isAugLoopEnabled()) {\r\n            var timeoutMilliseconds = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__[\"getDynamicSetting\"])(\"TulipsLoadTimeout\" /* tulipsLoadTimeout */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__[\"TULIPS_LOAD_TIMEOUT\"]);\r\n            var timeoutPromise = Object(_Utils__WEBPACK_IMPORTED_MODULE_4__[\"createTimeoutPromise\"])(timeoutMilliseconds, this.getAugLoopUserFacts());\r\n            return timeoutPromise\r\n                .then(function (userFacts) { return userFacts; })\r\n                .catch(function () { return _this.getSubstrateUserFacts(); });\r\n        }\r\n        return this.getSubstrateUserFacts();\r\n    };\r\n    AssetsProvider.prototype.getCachedUserFacts = function () {\r\n        var _a;\r\n        return (_a = this.tmsgClient) === null || _a === void 0 ? void 0 : _a.getCachedContent(\"UserFacts\" /* userFacts */);\r\n    };\r\n    AssetsProvider.prototype.setCampaignAction = function (beaconParameters) {\r\n        if (!this.tmsgClient) {\r\n            return;\r\n        }\r\n        var initOptions = this.configuration.getCommonInitOptions();\r\n        var floodgateInitOptions = this.configuration.getFloodgateInitOptions();\r\n        return this.tmsgClient.sendBeaconRequestToService(initOptions.appId.toString(), beaconParameters, \"Web\" /*platform*/, initOptions.build, initOptions.originalLocale, this.extractCountryFromLocale(initOptions.originalLocale), this.configuration.getSdkSessionId(), floodgateInitOptions.authTokenCallback);\r\n    };\r\n    // Floodgate doesn't have country, so we have to use locale as a proxy and extract the country code\r\n    AssetsProvider.prototype.extractCountryFromLocale = function (locale) {\r\n        if (!locale) {\r\n            return undefined;\r\n        }\r\n        var splitLocale = locale.split(\"-\");\r\n        if (splitLocale.length === 2) {\r\n            return splitLocale[1];\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    AssetsProvider.prototype.getSubstrateUserFacts = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getUserFactsContent(\"UserFacts\" /* userFacts */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.getAugLoopUserFacts = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getAugLoopUserFactsContent(\"UserFacts\" /* userFacts */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.isAugLoopEnabled = function () {\r\n        var _a, _b, _c;\r\n        return (_c = (_b = (_a = this.configuration) === null || _a === void 0 ? void 0 : _a.getFloodgateInitOptions()) === null || _b === void 0 ? void 0 : _b.augLoopCallback) === null || _c === void 0 ? void 0 : _c.isEnabled;\r\n    };\r\n    return AssetsProvider;\r\n}());\r\n\r\nvar assetsProvider;\r\nfunction get() {\r\n    if (!assetsProvider) {\r\n        assetsProvider = new AssetsProvider();\r\n    }\r\n    return assetsProvider;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9Bc3NldHNQcm92aWRlci50cz83MTY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBTzZEO0FBQ3NCO0FBQ25CO0FBRWtFO0FBRXJGO0FBR2hEO0lBSUM7O1FBQ0MsSUFBSSxDQUFDLGFBQWEsR0FBRyxnRUFBaUIsRUFBRSxDQUFDO1FBRXpDLG1FQUFtRTtRQUNuRSxpR0FBaUc7UUFDakcsSUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztRQUNoRyxJQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzFGLElBQU0saUJBQWlCLEdBQUcsb0JBQW9CLElBQUksb0JBQW9CLENBQUMsaUJBQWlCLENBQUM7UUFDekYsSUFBSSxDQUFDLGlCQUFpQixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxJQUFJLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzNGLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO1lBQ3pCLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUM5RCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksZ0ZBQXVCLENBQzVDLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQzVCLEtBQUssQ0FBQyxZQUFZLEVBQ2xCLFdBQVcsQ0FBQyxLQUFLLEVBQ2pCLFdBQVcsQ0FBQyxjQUFjLEVBQzFCLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLEVBQ3pELElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZSxFQUFFLEVBQ3BDLG9C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T0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzdCO1FBRUQsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLG1CQUFtQiw2QkFBdUI7YUFDL0QsSUFBSSxDQUFDLFVBQUMsRUFBNEI7Z0JBQTFCLE9BQU87WUFBd0IsY0FBTztRQUFQLENBQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFTyw0Q0FBbUIsR0FBM0I7UUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNyQixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7UUFFRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsMEJBQTBCLDZCQUF1QjthQUN0RSxJQUFJLENBQUMsVUFBQyxFQUE0QjtnQkFBMUIsT0FBTztZQUF3QixjQUFPO1FBQVAsQ0FBTyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVPLHlDQUFnQixHQUF4Qjs7UUFDQyx5QkFBTyxJQUFJLENBQUMsYUFBYSwwQ0FBRSx1QkFBdUIsNENBQUksZUFBZSwwQ0FBRSxTQUFTLENBQUM7SUFDbEYsQ0FBQztJQUNGLHFCQUFDO0FBQUQsQ0FBQzs7QUFFRCxJQUFJLGNBQThCLENBQUM7QUFFNUIsU0FBUyxHQUFHO0lBQ2xCLElBQUksQ0FBQyxjQUFjLEVBQUU7UUFDcEIsY0FBYyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7S0FDdEM7SUFFRCxPQUFPLGNBQWMsQ0FBQztBQUN2QixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVGFyZ2V0ZWRNZXNzYWdpbmcvQXNzZXRzUHJvdmlkZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTW9kdWxlIHRoYXQgcHJvdmlkZXMgY2FtcGFpZ24gZGVmaW5pdGlvbnMsXHJcbiAqIGdvdmVybmFuY2UgcnVsZXMgJiBtZXNzYWdlIG1ldGFkYXRhIGZyb21cclxuICogdGFyZ2V0ZWQgbWVzc2FnaW5nIHNlcnZpY2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnbkRlZmluaXRpb25zIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Hb3Zlcm5hbmNlL0NhbXBhaWduRGVmaW5pdGlvbnNcIjtcclxuaW1wb3J0IHsgTWVzc2FnZVNwZWMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0dvdmVybmFuY2UvTWVzc2FnZU1ldGFkYXRhXCI7XHJcbmltcG9ydCB7IFVzZXJHb3Zlcm5hbmNlUnVsZXMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0dvdmVybmFuY2UvVXNlckdvdmVybmFuY2VSdWxlc1wiO1xyXG5cclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IGdldER5bmFtaWNTZXR0aW5nLCBTZXR0aW5nS2V5IH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vRHluYW1pY0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgVFVMSVBTX0xPQURfVElNRU9VVCB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IENvbnRlbnRUeXBlIH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDb250ZW50VHlwZVwiO1xyXG5pbXBvcnQgeyBUYXJnZXRlZE1lc3NhZ2luZ0NsaWVudCwgQ29udGVudFJlc3BvbnNlLCBnZXREZWJ1Z0NhbXBhaWduRGVmaW5pdGlvbnMsIGdldERlYnVnVXNlckZhY3RzIH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IGNyZWF0ZVRpbWVvdXRQcm9taXNlIH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IElCZWFjb25QYXJhbWV0ZXJzIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUNvcmUvQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c1Byb3ZpZGVyIGltcGxlbWVudHMgQXBpLklBc3NldHNQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLkNvbmZpZ3VyYXRpb247XHJcblx0cHJpdmF0ZSB0bXNnQ2xpZW50OiBUYXJnZXRlZE1lc3NhZ2luZ0NsaWVudDtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5jb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbi5nZXQoKTtcclxuXHJcblx0XHQvLyBFbmFibGUgVGFyZ2V0ZWRNZXNzYWdpbmcgY2xpZW50IG9ubHkgaWYgYXV0aENhbGxiYWNrIGlzIHByb3ZpZGVkXHJcblx0XHQvLyBUaGlzIGlzIGZvciBjYXNlcyB3aGVyZSBleGlzdGluZyBGbG9vZGdhdGUgaG9zdHMgYXJlIG5vdCB5ZXQgb24tYm9hcmRlZCBpbnRvIHdlYiBzdXJmYWNlcyBmbG93XHJcblx0XHRjb25zdCBmbG9vZGdhdGVJbml0T3B0aW9ucyA9IHRoaXMuY29uZmlndXJhdGlvbiAmJiB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdGNvbnN0IGNvbW1vbkluaXRPcHRpb25zID0gdGhpcy5jb25maWd1cmF0aW9uICYmIHRoaXMuY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpO1xyXG5cdFx0Y29uc3QgYXV0aFRva2VuQ2FsbGJhY2sgPSBmbG9vZGdhdGVJbml0T3B0aW9ucyAmJiBmbG9vZGdhdGVJbml0T3B0aW9ucy5hdXRoVG9rZW5DYWxsYmFjaztcclxuXHRcdGlmICgoYXV0aFRva2VuQ2FsbGJhY2sgJiYgKGF1dGhUb2tlbkNhbGxiYWNrLmdldEF1dGhUb2tlbiB8fCBhdXRoVG9rZW5DYWxsYmFjay5nZXRVc2VyUHVpZCkpIHx8XHJcblx0XHRcdHRoaXMuaXNBdWdMb29wRW5hYmxlZCgpKSB7XHJcblx0XHRcdGNvbnN0IGluaXRPcHRpb25zID0gdGhpcy5jb25maWd1cmF0aW9uLmdldENvbW1vbkluaXRPcHRpb25zKCk7XHJcblx0XHRcdHRoaXMudG1zZ0NsaWVudCA9IG5ldyBUYXJnZXRlZE1lc3NhZ2luZ0NsaWVudChcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5hcHBJZC50b1N0cmluZygpLFxyXG5cdFx0XHRcdFwiV2ViXCIgLypwbGF0Zm9ybSovLFxyXG5cdFx0XHRcdGluaXRPcHRpb25zLmJ1aWxkLFxyXG5cdFx0XHRcdGluaXRPcHRpb25zLm9yaWdpbmFsTG9jYWxlLFxyXG5cdFx0XHRcdHRoaXMuZXh0cmFjdENvdW50cnlGcm9tTG9jYWxlKGluaXRPcHRpb25zLm9yaWdpbmFsTG9jYWxlKSxcclxuXHRcdFx0XHR0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0U2RrU2Vzc2lvbklkKCksXHJcblx0XHRcdFx0Zmxvb2RnYXRlSW5pdE9wdGlvbnMuYXV0aFRva2VuQ2FsbGJhY2ssXHJcblx0XHRcdFx0Zmxvb2RnYXRlSW5pdE9wdGlvbnMuYXVnTG9vcENhbGxiYWNrLFxyXG5cdFx0XHRcdGZsb29kZ2F0ZUluaXRPcHRpb25zLmNhbXBhaWduRmxpZ2h0cyxcclxuXHRcdFx0XHRmbG9vZGdhdGVJbml0T3B0aW9ucy5jYW1wYWlnblF1ZXJ5UGFyYW1ldGVycyxcclxuXHRcdFx0XHRjb21tb25Jbml0T3B0aW9ucy5hZ2VHcm91cCxcclxuXHRcdFx0XHRjb21tb25Jbml0T3B0aW9ucy5hdXRoZW50aWNhdGlvblR5cGUsXHJcblx0XHRcdFx0Y29tbW9uSW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXA/LmF1ZGllbmNlR3JvdXAgfHwgY29tbW9uSW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXA/LmF1ZGllbmNlLFxyXG5cdFx0XHRcdGZsb29kZ2F0ZUluaXRPcHRpb25zLm1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5nc1xyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNhbXBhaWduIGRlZmluaXRpb25zIGZyb20gVE1TXHJcblx0ICovXHJcblx0cHVibGljIGdldENhbXBhaWduRGVmaW5pdGlvbnMoKTogUHJvbWlzZTxDYW1wYWlnbkRlZmluaXRpb25zPiB7XHJcblx0XHRjb25zdCBkZWJ1Z1Jlc3BvbnNlID0gZ2V0RGVidWdDYW1wYWlnbkRlZmluaXRpb25zKCk7XHJcblx0XHRpZiAoZGVidWdSZXNwb25zZSAmJiBkZWJ1Z1Jlc3BvbnNlLmNvbnRlbnQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWJ1Z1Jlc3BvbnNlLmNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudC5nZXRDb250ZW50KENvbnRlbnRUeXBlLmNhbXBhaWduQ29udGVudClcclxuXHRcdFx0LnRoZW4oKHsgY29udGVudCB9OiBDb250ZW50UmVzcG9uc2UpID0+IGNvbnRlbnQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhY2hlZENhbXBhaWduRGVmaW5pdGlvbnMoKTogQ2FtcGFpZ25EZWZpbml0aW9ucyB7XHJcblx0XHRyZXR1cm4gdGhpcy50bXNnQ2xpZW50Py5nZXRDYWNoZWRDb250ZW50KENvbnRlbnRUeXBlLmNhbXBhaWduQ29udGVudCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VXNlckdvdmVybmFuY2VSdWxlcygpOiBQcm9taXNlPFVzZXJHb3Zlcm5hbmNlUnVsZXM+IHtcclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudC5nZXRDb250ZW50KENvbnRlbnRUeXBlLnVzZXJHb3Zlcm5hbmNlUnVsZXMpXHJcblx0XHRcdC50aGVuKCh7IGNvbnRlbnQgfTogQ29udGVudFJlc3BvbnNlKSA9PiBjb250ZW50KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRNZXNzYWdlTWV0YWRhdGEoKTogUHJvbWlzZTxNZXNzYWdlU3BlYz4ge1xyXG5cdFx0aWYgKCF0aGlzLnRtc2dDbGllbnQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy50bXNnQ2xpZW50LmdldENvbnRlbnQoQ29udGVudFR5cGUubWVzc2FnZU1ldGFkYXRhKVxyXG5cdFx0XHQudGhlbigoeyBjb250ZW50IH06IENvbnRlbnRSZXNwb25zZSkgPT4gY29udGVudCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgVFVMSVBTIHVzZXIgZmFjdHMgZnJvbSBBdWdMb29wIG9yIEdXUyBlbmRwb2ludFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRVc2VyRmFjdHMoKTogUHJvbWlzZTxBcGkuSVVzZXJGYWN0W10+IHtcclxuXHRcdGNvbnN0IGRlYnVnUmVzcG9uc2UgPSBnZXREZWJ1Z1VzZXJGYWN0cygpO1xyXG5cdFx0aWYgKGRlYnVnUmVzcG9uc2UgJiYgZGVidWdSZXNwb25zZS5jb250ZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVidWdSZXNwb25zZS5jb250ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMudG1zZ0NsaWVudCkge1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRyeSB0byBnZXQgZmFjdHMgZnJvbSBBTCBmaXJzdFxyXG5cdFx0aWYgKHRoaXMuaXNBdWdMb29wRW5hYmxlZCgpKSB7XHJcblx0XHRcdGNvbnN0IHRpbWVvdXRNaWxsaXNlY29uZHMgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnR1bGlwc0xvYWRUaW1lb3V0LCBUVUxJUFNfTE9BRF9USU1FT1VUKTtcclxuXHRcdFx0Y29uc3QgdGltZW91dFByb21pc2UgPSBjcmVhdGVUaW1lb3V0UHJvbWlzZSh0aW1lb3V0TWlsbGlzZWNvbmRzLCB0aGlzLmdldEF1Z0xvb3BVc2VyRmFjdHMoKSk7XHJcblx0XHRcdHJldHVybiB0aW1lb3V0UHJvbWlzZVxyXG5cdFx0XHRcdC50aGVuKHVzZXJGYWN0cyA9PiB1c2VyRmFjdHMpXHJcblx0XHRcdFx0LmNhdGNoKCgpID0+IHRoaXMuZ2V0U3Vic3RyYXRlVXNlckZhY3RzKCkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmdldFN1YnN0cmF0ZVVzZXJGYWN0cygpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhY2hlZFVzZXJGYWN0cygpOiBBcGkuSVVzZXJGYWN0W10ge1xyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudD8uZ2V0Q2FjaGVkQ29udGVudChDb250ZW50VHlwZS51c2VyRmFjdHMpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldENhbXBhaWduQWN0aW9uKGJlYWNvblBhcmFtZXRlcnM6IElCZWFjb25QYXJhbWV0ZXJzKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRpZiAoIXRoaXMudG1zZ0NsaWVudCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgaW5pdE9wdGlvbnMgPSB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKTtcclxuXHRcdGNvbnN0IGZsb29kZ2F0ZUluaXRPcHRpb25zID0gdGhpcy5jb25maWd1cmF0aW9uLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCk7XHJcblx0XHRyZXR1cm4gdGhpcy50bXNnQ2xpZW50LnNlbmRCZWFjb25SZXF1ZXN0VG9TZXJ2aWNlKFxyXG5cdFx0XHRpbml0T3B0aW9ucy5hcHBJZC50b1N0cmluZygpLFxyXG5cdFx0XHRiZWFjb25QYXJhbWV0ZXJzLFxyXG5cdFx0XHRcIldlYlwiIC8qcGxhdGZvcm0qLyxcclxuXHRcdFx0aW5pdE9wdGlvbnMuYnVpbGQsXHJcblx0XHRcdGluaXRPcHRpb25zLm9yaWdpbmFsTG9jYWxlLFxyXG5cdFx0XHR0aGlzLmV4dHJhY3RDb3VudHJ5RnJvbUxvY2FsZShpbml0T3B0aW9ucy5vcmlnaW5hbExvY2FsZSksXHJcblx0XHRcdHRoaXMuY29uZmlndXJhdGlvbi5nZXRTZGtTZXNzaW9uSWQoKSxcclxuXHRcdFx0Zmxvb2RnYXRlSW5pdE9wdGlvbnMuYXV0aFRva2VuQ2FsbGJhY2spO1xyXG5cdH1cclxuXHJcblx0Ly8gRmxvb2RnYXRlIGRvZXNuJ3QgaGF2ZSBjb3VudHJ5LCBzbyB3ZSBoYXZlIHRvIHVzZSBsb2NhbGUgYXMgYSBwcm94eSBhbmQgZXh0cmFjdCB0aGUgY291bnRyeSBjb2RlXHJcblx0cHJpdmF0ZSBleHRyYWN0Q291bnRyeUZyb21Mb2NhbGUobG9jYWxlPzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGlmICghbG9jYWxlKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3BsaXRMb2NhbGUgPSBsb2NhbGUuc3BsaXQoXCItXCIpO1xyXG5cdFx0aWYgKHNwbGl0TG9jYWxlLmxlbmd0aCA9PT0gMikge1xyXG5cdFx0XHRyZXR1cm4gc3BsaXRMb2NhbGVbMV07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRTdWJzdHJhdGVVc2VyRmFjdHMoKTogUHJvbWlzZTxBcGkuSVVzZXJGYWN0W10+IHtcclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudC5nZXRVc2VyRmFjdHNDb250ZW50KENvbnRlbnRUeXBlLnVzZXJGYWN0cylcclxuXHRcdFx0LnRoZW4oKHsgY29udGVudCB9OiBDb250ZW50UmVzcG9uc2UpID0+IGNvbnRlbnQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRBdWdMb29wVXNlckZhY3RzKCk6IFByb21pc2U8QXBpLklVc2VyRmFjdFtdPiB7XHJcblx0XHRpZiAoIXRoaXMudG1zZ0NsaWVudCkge1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnRtc2dDbGllbnQuZ2V0QXVnTG9vcFVzZXJGYWN0c0NvbnRlbnQoQ29udGVudFR5cGUudXNlckZhY3RzKVxyXG5cdFx0XHQudGhlbigoeyBjb250ZW50IH06IENvbnRlbnRSZXNwb25zZSkgPT4gY29udGVudCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzQXVnTG9vcEVuYWJsZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uPy5nZXRGbG9vZGdhdGVJbml0T3B0aW9ucygpPy5hdWdMb29wQ2FsbGJhY2s/LmlzRW5hYmxlZDtcclxuXHR9XHJcbn1cclxuXHJcbmxldCBhc3NldHNQcm92aWRlcjogQXNzZXRzUHJvdmlkZXI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0KCkge1xyXG5cdGlmICghYXNzZXRzUHJvdmlkZXIpIHtcclxuXHRcdGFzc2V0c1Byb3ZpZGVyID0gbmV3IEFzc2V0c1Byb3ZpZGVyKCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gYXNzZXRzUHJvdmlkZXI7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/AssetsProvider.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/AugLoopHelper.ts":
/*!********************************************************!*\
  !*** ./scripts/app/TargetedMessaging/AugLoopHelper.ts ***!
  \********************************************************/
/*! exports provided: getAugLoopAnnotationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAugLoopAnnotationData\", function() { return getAugLoopAnnotationData; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _augloop_types_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @augloop/types-core */ \"./node_modules/@augloop/types-core/dist/src/index.js\");\n/* harmony import */ var _augloop_types_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_augloop_types_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TargetedMessagingConstants */ \"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\");\n/*\r\n * AugLoopHelper.ts\r\n */\r\n\r\n\r\n\r\n\r\nfunction sleep(milliseconds) {\r\n    return new Promise(function (resolve) {\r\n        setTimeout(resolve, milliseconds);\r\n    });\r\n}\r\nfunction getObjectProperty(targetObject, propertyName) {\r\n    var propertyValue = targetObject && targetObject[propertyName];\r\n    return (propertyValue || Object.getOwnPropertyDescriptor(targetObject, propertyName)) ? propertyValue : undefined;\r\n}\r\n// listen to property change on targetObject and return the value when it is set\r\nfunction getDelayDefinedObjectValue(targetObject, propertyName) {\r\n    if (!targetObject) {\r\n        return Promise.resolve(null);\r\n    }\r\n    var currentPropertyValue = getObjectProperty(targetObject, propertyName);\r\n    if (currentPropertyValue) {\r\n        return Promise.resolve(currentPropertyValue);\r\n    }\r\n    return new Promise(function (resolve, reject) {\r\n        var propertyValue;\r\n        Object.defineProperty(targetObject, propertyName, {\r\n            configurable: true,\r\n            enumerable: true,\r\n            get: function () { return propertyValue; },\r\n            set: function (newValue) {\r\n                propertyValue = newValue;\r\n                resolve(propertyValue);\r\n            },\r\n        });\r\n    });\r\n}\r\nfunction getDelayDefinedValueWithWait(targetObject, propertyName, retryTimes, delay) {\r\n    if (delay === void 0) { delay = 100; }\r\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n        var definedProperty;\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    definedProperty = getObjectProperty(targetObject, propertyName);\r\n                    if (definedProperty || retryTimes === 0) {\r\n                        return [2 /*return*/, definedProperty];\r\n                    }\r\n                    return [4 /*yield*/, sleep(delay)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/, getDelayDefinedValueWithWait(targetObject, propertyName, retryTimes - 1, delay)];\r\n            }\r\n        });\r\n    });\r\n}\r\n// Invoke AL calls and get the data\r\nfunction getAnnotationData(augLoopSession, annotationName) {\r\n    return new Promise(function (resolve, reject) {\r\n        augLoopSession.activateAnnotation(annotationName, {\r\n            callback: function (operation) {\r\n                try {\r\n                    var operationItems = operation && operation.items ? operation.items : [];\r\n                    var schemaObjects = operationItems.filter(function (item) { return annotationName === _augloop_types_core__WEBPACK_IMPORTED_MODULE_1__[\"SchemaObject\"].getTypeNameFor(item.body); });\r\n                    resolve(schemaObjects && schemaObjects[0] && schemaObjects[0].body);\r\n                }\r\n                catch (error) {\r\n                    resolve({ error: error });\r\n                }\r\n            },\r\n        });\r\n    });\r\n}\r\n// Get the Augloop global object - window.augLoop\r\nfunction getGlobalAugLoopRuntime(loadDelay) {\r\n    if (loadDelay === void 0) { loadDelay = 100; }\r\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n        var augLoopRuntime, delayLoadTime, retryTimes;\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    augLoopRuntime = getObjectProperty(window, \"augLoop\");\r\n                    if (!!augLoopRuntime) return [3 /*break*/, 7];\r\n                    delayLoadTime = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_2__[\"getDynamicSetting\"])(\"TulipsAugLoopPackageDelayLoad\" /* tulipsAugLoopPackageDelayLoad */, -1);\r\n                    if (!(delayLoadTime > 0)) return [3 /*break*/, 2];\r\n                    // wait for augloop to load after sometime\r\n                    return [4 /*yield*/, sleep(delayLoadTime)];\r\n                case 1:\r\n                    // wait for augloop to load after sometime\r\n                    _a.sent();\r\n                    augLoopRuntime = getObjectProperty(window, \"augLoop\");\r\n                    return [3 /*break*/, 7];\r\n                case 2:\r\n                    retryTimes = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_2__[\"getDynamicSetting\"])(\"TulipsAugLoopLoadRetryTimes\" /* tulipsAugLoopLoadRetryTimes */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_3__[\"AUGLOOP_INIT_CHECK_RETRY_TIMES\"]);\r\n                    return [4 /*yield*/, getDelayDefinedValueWithWait(window, \"augLoop\", retryTimes, loadDelay)];\r\n                case 3:\r\n                    augLoopRuntime = _a.sent();\r\n                    if (!!augLoopRuntime) return [3 /*break*/, 5];\r\n                    return [4 /*yield*/, getDelayDefinedObjectValue(window, \"augLoop\")];\r\n                case 4:\r\n                    // Wait for augloop to mount on window\r\n                    augLoopRuntime = _a.sent();\r\n                    _a.label = 5;\r\n                case 5:\r\n                    if (!(loadDelay > 0)) return [3 /*break*/, 7];\r\n                    return [4 /*yield*/, sleep(loadDelay)];\r\n                case 6:\r\n                    _a.sent();\r\n                    _a.label = 7;\r\n                case 7: return [2 /*return*/, augLoopRuntime];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getAugLoopAnnotationData(annotationName, getRuntimeSession, loadDelay) {\r\n    if (loadDelay === void 0) { loadDelay = 100; }\r\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n        var augLoopSession, _a, augLoopRuntime, augLoopSessionPromise;\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    _a = getRuntimeSession;\r\n                    if (!_a) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, getRuntimeSession()];\r\n                case 1:\r\n                    _a = (_b.sent());\r\n                    _b.label = 2;\r\n                case 2:\r\n                    augLoopSession = _a;\r\n                    if (!!augLoopSession) return [3 /*break*/, 5];\r\n                    return [4 /*yield*/, getGlobalAugLoopRuntime(loadDelay)];\r\n                case 3:\r\n                    augLoopRuntime = _b.sent();\r\n                    if (!augLoopRuntime) {\r\n                        throw new Error(\"Unable to get AL runtime\");\r\n                    }\r\n                    augLoopSessionPromise = window.augLoop.ALFactoryGlobal.getAugLoopRuntimeManager().getSession();\r\n                    if (!augLoopSessionPromise) {\r\n                        throw new Error(\"Unable to get AL session promise\");\r\n                    }\r\n                    return [4 /*yield*/, augLoopSessionPromise];\r\n                case 4:\r\n                    augLoopSession = _b.sent();\r\n                    if (!augLoopSession) {\r\n                        throw new Error(\"Unable to get AL session\");\r\n                    }\r\n                    _b.label = 5;\r\n                case 5: return [2 /*return*/, getAnnotationData(augLoopSession, annotationName)];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9BdWdMb29wSGVscGVyLnRzPzlmMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRzs7QUFHMkU7QUFDUTtBQUNSO0FBTTlFLFNBQVMsS0FBSyxDQUFDLFlBQW9CO0lBQ2xDLE9BQU8sSUFBSSxPQUFPLENBQU8saUJBQU87UUFDL0IsVUFBVSxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNuQyxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxTQUFTLGlCQUFpQixDQUFJLFlBQWlCLEVBQUUsWUFBb0I7SUFDcEUsSUFBTSxhQUFhLEdBQUcsWUFBWSxJQUFJLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNqRSxPQUFPLENBQUMsYUFBYSxJQUFJLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDbkgsQ0FBQztBQUVELGdGQUFnRjtBQUNoRixTQUFTLDBCQUEwQixDQUFJLFlBQWlCLEVBQUUsWUFBb0I7SUFDN0UsSUFBSSxDQUFDLFlBQVksRUFBRTtRQUNsQixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDN0I7SUFFRCxJQUFNLG9CQUFvQixHQUFHLGlCQUFpQixDQUFJLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztJQUM5RSxJQUFJLG9CQUFvQixFQUFFO1FBQ3pCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0tBQzdDO0lBRUQsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQUksYUFBZ0IsQ0FBQztRQUNyQixNQUFNLENBQUMsY0FBYyxDQUFDLFlBQVksRUFB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Q3RDLGNBQWMsR0FBRyxTQUFtRCxDQUFDOzs7eUJBR2xFLFVBQVMsR0FBRyxDQUFDLEdBQWIsd0JBQWE7b0JBQ2hCLHFCQUFNLEtBQUssQ0FBQyxTQUFTLENBQUM7O29CQUF0QixTQUFzQixDQUFDOzt3QkFLMUIsc0JBQU8sY0FBYyxFQUFDOzs7O0NBQ3RCO0FBRU0sU0FBZSx3QkFBd0IsQ0FDN0MsY0FBc0IsRUFDdEIsaUJBQTJDLEVBQzNDLFNBQWU7SUFBZiwyQ0FBZTs7Ozs7O29CQUNNLHNCQUFpQjs2QkFBakIsd0JBQWlCO29CQUFJLHFCQUFNLGlCQUFpQixFQUFFOzswQkFBekIsU0FBeUI7OztvQkFBL0QsY0FBYyxLQUFpRDt5QkFDL0QsQ0FBQyxjQUFjLEVBQWYsd0JBQWU7b0JBQ0sscUJBQU0sdUJBQXVCLENBQUMsU0FBUyxDQUFDOztvQkFBekQsY0FBYyxHQUFHLFNBQXdDO29CQUMvRCxJQUFJLENBQUMsY0FBYyxFQUFFO3dCQUNwQixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7cUJBQzVDO29CQUVLLHFCQUFxQixHQUFJLE1BQWMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLHdCQUF3QixFQUFFLENBQUMsVUFBVSxFQUF1QixDQUFDO29CQUNuSSxJQUFJLENBQUMscUJBQXFCLEVBQUU7d0JBQzNCLE1BQU0sSUFBSSxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQztxQkFDcEQ7b0JBRWdCLHFCQUFNLHFCQUFxQjs7b0JBQTVDLGNBQWMsR0FBRyxTQUEyQixDQUFDO29CQUM3QyxJQUFJLENBQUMsY0FBYyxFQUFFO3dCQUNwQixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7cUJBQzVDOzt3QkFHRixzQkFBTyxpQkFBaUIsQ0FBQyxjQUFjLEVBQUUsY0FBYyxDQUFDLEVBQUM7Ozs7Q0FDekQiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9BdWdMb29wSGVscGVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQXVnTG9vcEhlbHBlci50c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IElTZXNzaW9uIH0gZnJvbSBcIkBhdWdsb29wL3J1bnRpbWUtY2xpZW50XCI7XHJcbmltcG9ydCB7IElPcGVyYXRpb24sIElTY2hlbWFPYmplY3QsIFNjaGVtYU9iamVjdCB9IGZyb20gXCJAYXVnbG9vcC90eXBlcy1jb3JlXCI7XHJcbmltcG9ydCB7IGdldER5bmFtaWNTZXR0aW5nLCBTZXR0aW5nS2V5IH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vRHluYW1pY0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgQVVHTE9PUF9JTklUX0NIRUNLX1JFVFJZX1RJTUVTIH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUF1Z0xvb3BSZXNwb25zZSBleHRlbmRzIElTY2hlbWFPYmplY3Qge1xyXG5cdGVycm9yPzogYW55O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGVlcChtaWxsaXNlY29uZHM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcclxuXHRcdHNldFRpbWVvdXQocmVzb2x2ZSwgbWlsbGlzZWNvbmRzKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0T2JqZWN0UHJvcGVydHk8VD4odGFyZ2V0T2JqZWN0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKTogVCB7XHJcblx0Y29uc3QgcHJvcGVydHlWYWx1ZSA9IHRhcmdldE9iamVjdCAmJiB0YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXTtcclxuXHRyZXR1cm4gKHByb3BlcnR5VmFsdWUgfHwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXRPYmplY3QsIHByb3BlcnR5TmFtZSkpID8gcHJvcGVydHlWYWx1ZSA6IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLy8gbGlzdGVuIHRvIHByb3BlcnR5IGNoYW5nZSBvbiB0YXJnZXRPYmplY3QgYW5kIHJldHVybiB0aGUgdmFsdWUgd2hlbiBpdCBpcyBzZXRcclxuZnVuY3Rpb24gZ2V0RGVsYXlEZWZpbmVkT2JqZWN0VmFsdWU8VD4odGFyZ2V0T2JqZWN0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKTogUHJvbWlzZTxUPiB7XHJcblx0aWYgKCF0YXJnZXRPYmplY3QpIHtcclxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBjdXJyZW50UHJvcGVydHlWYWx1ZSA9IGdldE9iamVjdFByb3BlcnR5PFQ+KHRhcmdldE9iamVjdCwgcHJvcGVydHlOYW1lKTtcclxuXHRpZiAoY3VycmVudFByb3BlcnR5VmFsdWUpIHtcclxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoY3VycmVudFByb3BlcnR5VmFsdWUpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGxldCBwcm9wZXJ0eVZhbHVlOiBUO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldE9iamVjdCwgcHJvcGVydHlOYW1lLCB7XHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiAoKSA9PiBwcm9wZXJ0eVZhbHVlLFxyXG5cdFx0XHRzZXQ6IChuZXdWYWx1ZTogVCkgPT4ge1xyXG5cdFx0XHRcdHByb3BlcnR5VmFsdWUgPSBuZXdWYWx1ZTtcclxuXHRcdFx0XHRyZXNvbHZlKHByb3BlcnR5VmFsdWUpO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldERlbGF5RGVmaW5lZFZhbHVlV2l0aFdhaXQ8VD4odGFyZ2V0T2JqZWN0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nLCByZXRyeVRpbWVzOiBudW1iZXIsIGRlbGF5ID0gMTAwKTogUHJvbWlzZTxUPiB7XHJcblx0Y29uc3QgZGVmaW5lZFByb3BlcnR5ID0gZ2V0T2JqZWN0UHJvcGVydHkodGFyZ2V0T2JqZWN0LCBwcm9wZXJ0eU5hbWUpIGFzIFQ7XHJcblx0aWYgKGRlZmluZWRQcm9wZXJ0eSB8fCByZXRyeVRpbWVzID09PSAwKSB7XHJcblx0XHRyZXR1cm4gZGVmaW5lZFByb3BlcnR5O1xyXG5cdH1cclxuXHJcblx0YXdhaXQgc2xlZXAoZGVsYXkpO1xyXG5cdHJldHVybiBnZXREZWxheURlZmluZWRWYWx1ZVdpdGhXYWl0KHRhcmdldE9iamVjdCwgcHJvcGVydHlOYW1lLCByZXRyeVRpbWVzIC0gMSwgZGVsYXkpO1xyXG59XHJcblxyXG4vLyBJbnZva2UgQUwgY2FsbHMgYW5kIGdldCB0aGUgZGF0YVxyXG5mdW5jdGlvbiBnZXRBbm5vdGF0aW9uRGF0YShhdWdMb29wU2Vzc2lvbjogSVNlc3Npb24sIGFubm90YXRpb25OYW1lOiBzdHJpbmcpOiBQcm9taXNlPElBdWdMb29wUmVzcG9uc2U+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0YXVnTG9vcFNlc3Npb24uYWN0aXZhdGVBbm5vdGF0aW9uKGFubm90YXRpb25OYW1lLCB7XHJcblx0XHRcdGNhbGxiYWNrOiAob3BlcmF0aW9uOiBJT3BlcmF0aW9uKSA9PiB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IG9wZXJhdGlvbkl0ZW1zID0gb3BlcmF0aW9uICYmIG9wZXJhdGlvbi5pdGVtcyA/IG9wZXJhdGlvbi5pdGVtcyA6IFtdO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2NoZW1hT2JqZWN0cyA9IG9wZXJhdGlvbkl0ZW1zLmZpbHRlcihpdGVtID0+IGFubm90YXRpb25OYW1lID09PSBTY2hlbWFPYmplY3QuZ2V0VHlwZU5hbWVGb3IoaXRlbS5ib2R5KSk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHNjaGVtYU9iamVjdHMgJiYgc2NoZW1hT2JqZWN0c1swXSAmJiBzY2hlbWFPYmplY3RzWzBdLmJvZHkpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHtlcnJvcjogZXJyb3J9IGFzIGFueSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8vIEdldCB0aGUgQXVnbG9vcCBnbG9iYWwgb2JqZWN0IC0gd2luZG93LmF1Z0xvb3BcclxuYXN5bmMgZnVuY3Rpb24gZ2V0R2xvYmFsQXVnTG9vcFJ1bnRpbWUobG9hZERlbGF5ID0gMTAwKSB7XHJcblx0Ly8gdHJ5IHRvIGdldCB0aGUgYXVnbG9vcCBnbG9iYWwgcnVudGltZSB3aW5kb3cuYXVnTG9vcFxyXG5cdGxldCBhdWdMb29wUnVudGltZSA9IGdldE9iamVjdFByb3BlcnR5KHdpbmRvdywgXCJhdWdMb29wXCIpO1xyXG5cdGlmICghYXVnTG9vcFJ1bnRpbWUpIHtcclxuXHRcdGNvbnN0IGRlbGF5TG9hZFRpbWUgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnR1bGlwc0F1Z0xvb3BQYWNrYWdlRGVsYXlMb2FkLCAtMSk7XHJcblx0XHRpZiAoZGVsYXlMb2FkVGltZSA+IDApIHtcclxuXHRcdFx0Ly8gd2FpdCBmb3IgYXVnbG9vcCB0byBsb2FkIGFmdGVyIHNvbWV0aW1lXHJcblx0XHRcdGF3YWl0IHNsZWVwKGRlbGF5TG9hZFRpbWUpO1xyXG5cdFx0XHRhdWdMb29wUnVudGltZSA9IGdldE9iamVjdFByb3BlcnR5KHdpbmRvdywgXCJhdWdMb29wXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgcmV0cnlUaW1lcyA9IGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudHVsaXBzQXVnTG9vcExvYWRSZXRyeVRpbWVzLCBBVUdMT09QX0lOSVRfQ0hFQ0tfUkVUUllfVElNRVMpO1xyXG5cdFx0XHRhdWdMb29wUnVudGltZSA9IGF3YWl0IGdldERlbGF5RGVmaW5lZFZhbHVlV2l0aFdhaXQod2luZG93LCBcImF1Z0xvb3BcIiwgcmV0cnlUaW1lcywgbG9hZERlbGF5KTtcclxuXHRcdFx0aWYgKCFhdWdMb29wUnVudGltZSkge1xyXG5cdFx0XHRcdC8vIFdhaXQgZm9yIGF1Z2xvb3AgdG8gbW91bnQgb24gd2luZG93XHJcblx0XHRcdFx0YXVnTG9vcFJ1bnRpbWUgPSBhd2FpdCBnZXREZWxheURlZmluZWRPYmplY3RWYWx1ZSh3aW5kb3csIFwiYXVnTG9vcFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGxvYWREZWxheSA+IDApIHtcclxuXHRcdFx0XHRhd2FpdCBzbGVlcChsb2FkRGVsYXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gYXVnTG9vcFJ1bnRpbWU7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdWdMb29wQW5ub3RhdGlvbkRhdGEoXHJcblx0YW5ub3RhdGlvbk5hbWU6IHN0cmluZyxcclxuXHRnZXRSdW50aW1lU2Vzc2lvbj86ICgpID0+IFByb21pc2U8SVNlc3Npb24+LFxyXG5cdGxvYWREZWxheSA9IDEwMCk6IFByb21pc2U8SVNjaGVtYU9iamVjdD4ge1xyXG5cdGxldCBhdWdMb29wU2Vzc2lvbiA9IGdldFJ1bnRpbWVTZXNzaW9uICYmIGF3YWl0IGdldFJ1bnRpbWVTZXNzaW9uKCk7XHJcblx0aWYgKCFhdWdMb29wU2Vzc2lvbikge1xyXG5cdFx0Y29uc3QgYXVnTG9vcFJ1bnRpbWUgPSBhd2FpdCBnZXRHbG9iYWxBdWdMb29wUnVudGltZShsb2FkRGVsYXkpO1xyXG5cdFx0aWYgKCFhdWdMb29wUnVudGltZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IEFMIHJ1bnRpbWVcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgYXVnTG9vcFNlc3Npb25Qcm9taXNlID0gKHdpbmRvdyBhcyBhbnkpLmF1Z0xvb3AuQUxGYWN0b3J5R2xvYmFsLmdldEF1Z0xvb3BSdW50aW1lTWFuYWdlcigpLmdldFNlc3Npb24oKSBhcyBQcm9taXNlPElTZXNzaW9uPjtcclxuXHRcdGlmICghYXVnTG9vcFNlc3Npb25Qcm9taXNlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgQUwgc2Vzc2lvbiBwcm9taXNlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGF1Z0xvb3BTZXNzaW9uID0gYXdhaXQgYXVnTG9vcFNlc3Npb25Qcm9taXNlO1xyXG5cdFx0aWYgKCFhdWdMb29wU2Vzc2lvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IEFMIHNlc3Npb25cIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZ2V0QW5ub3RhdGlvbkRhdGEoYXVnTG9vcFNlc3Npb24sIGFubm90YXRpb25OYW1lKTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/AugLoopHelper.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/LocalUserFactHelper.ts":
/*!**************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/LocalUserFactHelper.ts ***!
  \**************************************************************/
/*! exports provided: createUserFact, getLocalUserFact */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createUserFact\", function() { return createUserFact; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLocalUserFact\", function() { return getLocalUserFact; });\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/*\r\n * LocalUserFactHelper.ts\r\n */\r\n\r\n\r\n\r\nfunction getBrowserSettings() {\r\n    try {\r\n        // Screen dimensions\r\n        var documentElement = document && (document.documentElement || document.getElementsByTagName(\"body\")[0]);\r\n        var browserSettings = {\r\n            pageWidth: (window === null || window === void 0 ? void 0 : window.innerWidth) || (documentElement === null || documentElement === void 0 ? void 0 : documentElement.clientWidth),\r\n            pageHeight: (window === null || window === void 0 ? void 0 : window.innerHeight) || (documentElement === null || documentElement === void 0 ? void 0 : documentElement.clientHeight),\r\n            pageTop: (window === null || window === void 0 ? void 0 : window.pageYOffset) || (documentElement === null || documentElement === void 0 ? void 0 : documentElement.scrollTop),\r\n            pageLeft: (window === null || window === void 0 ? void 0 : window.pageXOffset) || (documentElement === null || documentElement === void 0 ? void 0 : documentElement.scrollLeft),\r\n            screenWidth: screen ? screen.width : 0,\r\n            screenHeight: screen ? screen.height : 0,\r\n            colorDepth: screen ? screen.colorDepth : 0,\r\n            userAgent: navigator === null || navigator === void 0 ? void 0 : navigator.userAgent,\r\n        };\r\n        return browserSettings;\r\n    }\r\n    catch (error) {\r\n        // ignore\r\n        return null;\r\n    }\r\n}\r\n// Currently used for AADC but can be extended to any other settings\r\nfunction getCustomSettings() {\r\n    // Custom settings\r\n    var customSettings = {\r\n        // AADC related values\r\n        userConsentGroup: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getUserConsentGroup(),\r\n        feedbackEnabledByAADC: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().isFeedbackSurveyEnabledByAADC(),\r\n    };\r\n    return customSettings;\r\n}\r\n// input userFactName is expected to be of form window__obj1___obj2\r\nfunction getBrowserLocalFact(userFactName) {\r\n    var factNameValues = userFactName && userFactName.split(\"__\");\r\n    if (!factNameValues || factNameValues.length <= 1) {\r\n        return null;\r\n    }\r\n    var userFact = null;\r\n    var objectName = factNameValues[0];\r\n    var propertyName = factNameValues.pop();\r\n    // common top level objects eg: window__status\r\n    if (propertyName && factNameValues.length === 1) {\r\n        userFact = createUserFact(window[objectName] || window, propertyName);\r\n    }\r\n    // handle names like window__navigator__userAgent__length\r\n    if (!userFact && propertyName && factNameValues.length > 1) {\r\n        if (objectName === \"window\") {\r\n            // remove the window object.. it will be used as first/default\r\n            factNameValues.shift();\r\n        }\r\n        // try getting target as object path eg: window['navigator']['userAgent']\r\n        var globalObject = factNameValues.reduce(function (prev, curr) { return prev && prev[curr]; }, window);\r\n        if (globalObject) {\r\n            // get the fact value eg: 'length'\r\n            userFact = createUserFact(globalObject, propertyName);\r\n        }\r\n    }\r\n    if (userFact) {\r\n        userFact.userFactName = userFactName;\r\n    }\r\n    return userFact;\r\n}\r\n// For consistency, fact names should match %SRCROOT%\\personalization\\common\\LocalUserFactsDataProvider.cpp\r\nfunction createUserFact(targetObject, factName) {\r\n    if (!targetObject) {\r\n        return null;\r\n    }\r\n    // get fact value\r\n    var factValue = targetObject[factName];\r\n    if (!factValue) {\r\n        // try looking up with case insensitive key\r\n        var loweCaseFactName_1 = factName.toLowerCase();\r\n        var caseInsensitiveKey = Object.keys(targetObject).find(function (key) { return key.toLowerCase() === loweCaseFactName_1; });\r\n        factValue = targetObject[caseInsensitiveKey];\r\n    }\r\n    if (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isNOU(factValue)) {\r\n        return null;\r\n    }\r\n    // ignore object and function type values\r\n    if (!_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isArray(factValue) && (_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isObject(factValue) || _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isFunction(factValue))) {\r\n        return null;\r\n    }\r\n    // Handle serialized values\r\n    var currentDateTime = new Date().toISOString();\r\n    return {\r\n        userFactType: \"Local\",\r\n        userFactName: factName,\r\n        userFactValue: factValue.toString(),\r\n        sourceDateTime: currentDateTime,\r\n        storageDateTime: currentDateTime,\r\n        clientIngestionDateTime: currentDateTime,\r\n    };\r\n}\r\nvar localFactTargetObjects;\r\nfunction getLocalUserFact(userFactName) {\r\n    try {\r\n        if (!localFactTargetObjects) {\r\n            var commonInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getCommonInitOptions();\r\n            localFactTargetObjects = [\r\n                commonInitOptions,\r\n                commonInitOptions === null || commonInitOptions === void 0 ? void 0 : commonInitOptions.applicationSettings,\r\n                commonInitOptions === null || commonInitOptions === void 0 ? void 0 : commonInitOptions.telemetryGroup,\r\n                commonInitOptions === null || commonInitOptions === void 0 ? void 0 : commonInitOptions.applicationGroup,\r\n                commonInitOptions === null || commonInitOptions === void 0 ? void 0 : commonInitOptions.webGroup,\r\n                _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"]().getFloodgateInitOptions(),\r\n                _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__[\"get\"](),\r\n                getBrowserSettings(),\r\n                getCustomSettings(),\r\n            ];\r\n        }\r\n        // lookup in target objects and create fact\r\n        var userFact = localFactTargetObjects.reduce(function (generatedFact, targetObject) { return generatedFact || createUserFact(targetObject, userFactName); }, null);\r\n        // lookup global browser objects for names like navigator__userAgent or location__href\r\n        if (!userFact) {\r\n            userFact = getBrowserLocalFact(userFactName);\r\n        }\r\n        return userFact;\r\n    }\r\n    catch (error) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].UserFacts.LocalFact.Error.VALUE, 2 /* Error */, {\r\n            ErrorMessage: \"Error getting local fact - \" + userFactName + \" \" + (error && error.message ? \": \" + error.message : \"\") + \" \",\r\n        });\r\n        return null;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9Mb2NhbFVzZXJGYWN0SGVscGVyLnRzPzFlMzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUVzRDtBQUVPO0FBQ2xCO0FBRTlDLFNBQVMsa0JBQWtCO0lBQzFCLElBQUk7UUFDSCxvQkFBb0I7UUFDcEIsSUFBTSxlQUFlLEdBQUcsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsSUFBSSxRQUFRLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRyxJQUFNLGVBQWUsR0FBRztZQUN2QixTQUFTLEVBQUUsT0FBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFVBQVUsTUFBSSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsV0FBVztZQUM3RCxVQUFVLEVBQUUsT0FBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFdBQVcsTUFBSSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsWUFBWTtZQUNoRSxPQUFPLEVBQUUsT0FBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFdBQVcsTUFBSSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsU0FBUztZQUMxRCxRQUFRLEVBQUUsT0FBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFdBQVcsTUFBSSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsVUFBVTtZQUM1RCxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxD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QUFpQixFQUFFO2dCQUNuQixrQkFBa0IsRUFBRTtnQkFDcEIsaUJBQWlCLEVBQUU7YUFDbkIsQ0FBQztTQUNGO1FBRUQsMkNBQTJDO1FBQzNDLElBQUksUUFBUSxHQUFHLHNCQUFzQixDQUFDLE1BQU0sQ0FDM0MsVUFBQyxhQUFhLEVBQUUsWUFBWSxJQUFLLG9CQUFhLElBQUksY0FBYyxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsRUFBM0QsQ0FBMkQsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVyRyxzRkFBc0Y7UUFDdEYsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNkLFFBQVEsR0FBRyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUM3QztRQUVELE9BQU8sUUFBUSxDQUFDO0tBQ2hCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZiwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FDM0IseURBQWdCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxpQkFFaEQ7WUFDQyxZQUFZLEVBQUUsZ0NBQThCLFlBQVksVUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBRztTQUNqSCxDQUFDLENBQUM7UUFFSixPQUFPLElBQUksQ0FBQztLQUNaO0FBQ0YsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RhcmdldGVkTWVzc2FnaW5nL0xvY2FsVXNlckZhY3RIZWxwZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBMb2NhbFVzZXJGYWN0SGVscGVyLnRzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBpLCBVdGlscyB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuXHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmZ1bmN0aW9uIGdldEJyb3dzZXJTZXR0aW5ncygpIHtcclxuXHR0cnkge1xyXG5cdFx0Ly8gU2NyZWVuIGRpbWVuc2lvbnNcclxuXHRcdGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50ICYmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdKTtcclxuXHRcdGNvbnN0IGJyb3dzZXJTZXR0aW5ncyA9IHtcclxuXHRcdFx0cGFnZVdpZHRoOiB3aW5kb3c/LmlubmVyV2lkdGggfHwgZG9jdW1lbnRFbGVtZW50Py5jbGllbnRXaWR0aCxcclxuXHRcdFx0cGFnZUhlaWdodDogd2luZG93Py5pbm5lckhlaWdodCB8fCBkb2N1bWVudEVsZW1lbnQ/LmNsaWVudEhlaWdodCxcclxuXHRcdFx0cGFnZVRvcDogd2luZG93Py5wYWdlWU9mZnNldCB8fCBkb2N1bWVudEVsZW1lbnQ/LnNjcm9sbFRvcCxcclxuXHRcdFx0cGFnZUxlZnQ6IHdpbmRvdz8ucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnRFbGVtZW50Py5zY3JvbGxMZWZ0LFxyXG5cdFx0XHRzY3JlZW5XaWR0aDogc2NyZWVuID8gc2NyZWVuLndpZHRoIDogMCxcclxuXHRcdFx0c2NyZWVuSGVpZ2h0OiBzY3JlZW4gPyBzY3JlZW4uaGVpZ2h0IDogMCxcclxuXHRcdFx0Y29sb3JEZXB0aDogc2NyZWVuID8gc2NyZWVuLmNvbG9yRGVwdGggOiAwLFxyXG5cdFx0XHR1c2VyQWdlbnQ6IG5hdmlnYXRvcj8udXNlckFnZW50LFxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gYnJvd3NlclNldHRpbmdzO1xyXG5cdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHQvLyBpZ25vcmVcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQ3VycmVudGx5IHVzZWQgZm9yIEFBREMgYnV0IGNhbiBiZSBleHRlbmRlZCB0byBhbnkgb3RoZXIgc2V0dGluZ3NcclxuZnVuY3Rpb24gZ2V0Q3VzdG9tU2V0dGluZ3MoKTogUmVjb3JkPHN0cmluZywgYW55PiAge1xyXG5cdC8vIEN1c3RvbSBzZXR0aW5nc1xyXG5cdGNvbnN0IGN1c3RvbVNldHRpbmdzID0ge1xyXG5cdFx0Ly8gQUFEQyByZWxhdGVkIHZhbHVlc1xyXG5cdFx0dXNlckNvbnNlbnRHcm91cDogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRVc2VyQ29uc2VudEdyb3VwKCksXHJcblx0XHRmZWVkYmFja0VuYWJsZWRCeUFBREM6IENvbmZpZ3VyYXRpb24uZ2V0KCkuaXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREMoKSxcclxuXHJcblx0XHQvLyBPdGhlciB2YWx1ZXNcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gY3VzdG9tU2V0dGluZ3M7XHJcbn1cclxuXHJcbi8vIGlucHV0IHVzZXJGYWN0TmFtZSBpcyBleHBlY3RlZCB0byBiZSBvZiBmb3JtIHdpbmRvd19fb2JqMV9fX29iajJcclxuZnVuY3Rpb24gZ2V0QnJvd3NlckxvY2FsRmFjdCh1c2VyRmFjdE5hbWU6IHN0cmluZyk6IEFwaS5JVXNlckZhY3Qge1xyXG5cdGNvbnN0IGZhY3ROYW1lVmFsdWVzID0gdXNlckZhY3ROYW1lICYmIHVzZXJGYWN0TmFtZS5zcGxpdChcIl9fXCIpO1xyXG5cdGlmICghZmFjdE5hbWVWYWx1ZXMgfHwgZmFjdE5hbWVWYWx1ZXMubGVuZ3RoIDw9IDEpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0bGV0IHVzZXJGYWN0OiBBcGkuSVVzZXJGYWN0ID0gbnVsbDtcclxuXHRjb25zdCBvYmplY3ROYW1lID0gZmFjdE5hbWVWYWx1ZXNbMF07XHJcblx0Y29uc3QgcHJvcGVydHlOYW1lID0gZmFjdE5hbWVWYWx1ZXMucG9wKCk7XHJcblxyXG5cdC8vIGNvbW1vbiB0b3AgbGV2ZWwgb2JqZWN0cyBlZzogd2luZG93X19zdGF0dXNcclxuXHRpZiAocHJvcGVydHlOYW1lICYmIGZhY3ROYW1lVmFsdWVzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0dXNlckZhY3QgPSBjcmVhdGVVc2VyRmFjdCh3aW5kb3dbPGFueT4gb2JqZWN0TmFtZV0gfHwgd2luZG93LCBwcm9wZXJ0eU5hbWUpO1xyXG5cdH1cclxuXHJcblx0Ly8gaGFuZGxlIG5hbWVzIGxpa2Ugd2luZG93X19uYXZpZ2F0b3JfX3VzZXJBZ2VudF9fbGVuZ3RoXHJcblx0aWYgKCF1c2VyRmFjdCAmJiBwcm9wZXJ0eU5hbWUgJiYgZmFjdE5hbWVWYWx1ZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0aWYgKG9iamVjdE5hbWUgPT09IFwid2luZG93XCIpIHtcclxuXHRcdFx0Ly8gcmVtb3ZlIHRoZSB3aW5kb3cgb2JqZWN0Li4gaXQgd2lsbCBiZSB1c2VkIGFzIGZpcnN0L2RlZmF1bHRcclxuXHRcdFx0ZmFjdE5hbWVWYWx1ZXMuc2hpZnQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB0cnkgZ2V0dGluZyB0YXJnZXQgYXMgb2JqZWN0IHBhdGggZWc6IHdpbmRvd1snbmF2aWdhdG9yJ11bJ3VzZXJBZ2VudCddXHJcblx0XHRjb25zdCBnbG9iYWxPYmplY3QgPSBmYWN0TmFtZVZhbHVlcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgJiYgcHJldls8YW55PiBjdXJyXSwgd2luZG93KTtcclxuXHRcdGlmIChnbG9iYWxPYmplY3QpIHtcclxuXHRcdFx0Ly8gZ2V0IHRoZSBmYWN0IHZhbHVlIGVnOiAnbGVuZ3RoJ1xyXG5cdFx0XHR1c2VyRmFjdCA9IGNyZWF0ZVVzZXJGYWN0KGdsb2JhbE9iamVjdCwgcHJvcGVydHlOYW1lKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmICh1c2VyRmFjdCkge1xyXG5cdFx0dXNlckZhY3QudXNlckZhY3ROYW1lID0gdXNlckZhY3ROYW1lO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHVzZXJGYWN0O1xyXG59XHJcblxyXG4vLyBGb3IgY29uc2lzdGVuY3ksIGZhY3QgbmFtZXMgc2hvdWxkIG1hdGNoICVTUkNST09UJVxccGVyc29uYWxpemF0aW9uXFxjb21tb25cXExvY2FsVXNlckZhY3RzRGF0YVByb3ZpZGVyLmNwcFxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVXNlckZhY3QodGFyZ2V0T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBmYWN0TmFtZTogc3RyaW5nKTogQXBpLklVc2VyRmFjdCB7XHJcblx0aWYgKCF0YXJnZXRPYmplY3QpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gZ2V0IGZhY3QgdmFsdWVcclxuXHRsZXQgZmFjdFZhbHVlID0gdGFyZ2V0T2JqZWN0W2ZhY3ROYW1lXTtcclxuXHRpZiAoIWZhY3RWYWx1ZSkge1xyXG5cdFx0Ly8gdHJ5IGxvb2tpbmcgdXAgd2l0aCBjYXNlIGluc2Vuc2l0aXZlIGtleVxyXG5cdFx0Y29uc3QgbG93ZUNhc2VGYWN0TmFtZSA9IGZhY3ROYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRjb25zdCBjYXNlSW5zZW5zaXRpdmVLZXkgPSBPYmplY3Qua2V5cyh0YXJnZXRPYmplY3QpLmZpbmQoa2V5ID0+IGtleS50b0xvd2VyQ2FzZSgpID09PSBsb3dlQ2FzZUZhY3ROYW1lKTtcclxuXHRcdGZhY3RWYWx1ZSA9IHRhcmdldE9iamVjdFtjYXNlSW5zZW5zaXRpdmVLZXldO1xyXG5cdH1cclxuXHJcblx0aWYgKFV0aWxzLmlzTk9VKGZhY3RWYWx1ZSkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gaWdub3JlIG9iamVjdCBhbmQgZnVuY3Rpb24gdHlwZSB2YWx1ZXNcclxuXHRpZiAoIVV0aWxzLmlzQXJyYXkoZmFjdFZhbHVlKSAmJiAoVXRpbHMuaXNPYmplY3QoZmFjdFZhbHVlKSB8fCBVdGlscy5pc0Z1bmN0aW9uKGZhY3RWYWx1ZSkpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vIEhhbmRsZSBzZXJpYWxpemVkIHZhbHVlc1xyXG5cdGNvbnN0IGN1cnJlbnREYXRlVGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuXHRyZXR1cm4ge1xyXG5cdFx0dXNlckZhY3RUeXBlOiBcIkxvY2FsXCIsXHJcblx0XHR1c2VyRmFjdE5hbWU6IGZhY3ROYW1lLFxyXG5cdFx0dXNlckZhY3RWYWx1ZTogZmFjdFZhbHVlLnRvU3RyaW5nKCksXHJcblx0XHRzb3VyY2VEYXRlVGltZTogY3VycmVudERhdGVUaW1lLFxyXG5cdFx0c3RvcmFnZURhdGVUaW1lOiBjdXJyZW50RGF0ZVRpbWUsXHJcblx0XHRjbGllbnRJbmdlc3Rpb25EYXRlVGltZTogY3VycmVudERhdGVUaW1lLFxyXG5cdH07XHJcbn1cclxuXHJcbmxldCBsb2NhbEZhY3RUYXJnZXRPYmplY3RzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+W107XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbFVzZXJGYWN0KHVzZXJGYWN0TmFtZTogc3RyaW5nKTogQXBpLklVc2VyRmFjdCB7XHJcblx0dHJ5IHtcclxuXHRcdGlmICghbG9jYWxGYWN0VGFyZ2V0T2JqZWN0cykge1xyXG5cdFx0XHRjb25zdCBjb21tb25Jbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0bG9jYWxGYWN0VGFyZ2V0T2JqZWN0cyA9IFtcclxuXHRcdFx0XHRjb21tb25Jbml0T3B0aW9ucyxcclxuXHRcdFx0XHRjb21tb25Jbml0T3B0aW9ucz8uYXBwbGljYXRpb25TZXR0aW5ncyxcclxuXHRcdFx0XHRjb21tb25Jbml0T3B0aW9ucz8udGVsZW1ldHJ5R3JvdXAsXHJcblx0XHRcdFx0Y29tbW9uSW5pdE9wdGlvbnM/LmFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdFx0Y29tbW9uSW5pdE9wdGlvbnM/LndlYkdyb3VwLFxyXG5cdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKSxcclxuXHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLFxyXG5cdFx0XHRcdGdldEJyb3dzZXJTZXR0aW5ncygpLFxyXG5cdFx0XHRcdGdldEN1c3RvbVNldHRpbmdzKCksXHJcblx0XHRcdF07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbG9va3VwIGluIHRhcmdldCBvYmplY3RzIGFuZCBjcmVhdGUgZmFjdFxyXG5cdFx0bGV0IHVzZXJGYWN0ID0gbG9jYWxGYWN0VGFyZ2V0T2JqZWN0cy5yZWR1Y2U8QXBpLklVc2VyRmFjdD4oXHJcblx0XHRcdChnZW5lcmF0ZWRGYWN0LCB0YXJnZXRPYmplY3QpID0+IGdlbmVyYXRlZEZhY3QgfHwgY3JlYXRlVXNlckZhY3QodGFyZ2V0T2JqZWN0LCB1c2VyRmFjdE5hbWUpLCBudWxsKTtcclxuXHJcblx0XHQvLyBsb29rdXAgZ2xvYmFsIGJyb3dzZXIgb2JqZWN0cyBmb3IgbmFtZXMgbGlrZSBuYXZpZ2F0b3JfX3VzZXJBZ2VudCBvciBsb2NhdGlvbl9faHJlZlxyXG5cdFx0aWYgKCF1c2VyRmFjdCkge1xyXG5cdFx0XHR1c2VyRmFjdCA9IGdldEJyb3dzZXJMb2NhbEZhY3QodXNlckZhY3ROYW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdXNlckZhY3Q7XHJcblx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoXHJcblx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLkxvY2FsRmFjdC5FcnJvci5WQUxVRSxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogYEVycm9yIGdldHRpbmcgbG9jYWwgZmFjdCAtICR7dXNlckZhY3ROYW1lfSAke2Vycm9yICYmIGVycm9yLm1lc3NhZ2UgPyBcIjogXCIgKyBlcnJvci5tZXNzYWdlIDogXCJcIn0gYCxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/LocalUserFactHelper.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/TargetedMessagingCache.ts":
/*!*****************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/TargetedMessagingCache.ts ***!
  \*****************************************************************/
/*! exports provided: TargetedMessagingCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TargetedMessagingCache\", function() { return TargetedMessagingCache; });\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"isNOU\"];\r\nvar TargetedMessagingCache = /** @class */ (function () {\r\n    function TargetedMessagingCache(items) {\r\n        this.useLocalStorage = false;\r\n        this.cachedItems = {};\r\n        this.initialize(items);\r\n    }\r\n    TargetedMessagingCache.prototype.setContentItem = function (contentType, content, expiryTime) {\r\n        var cacheItem = this.createItem(contentType, content, expiryTime);\r\n        this.setItem(cacheItem);\r\n        return cacheItem;\r\n    };\r\n    TargetedMessagingCache.prototype.getItemContent = function (contentType) {\r\n        var cacheItem = this.getItem(contentType);\r\n        return cacheItem && cacheItem.content;\r\n    };\r\n    TargetedMessagingCache.prototype.has = function (contentType) {\r\n        return contentType in this.cachedItems;\r\n    };\r\n    TargetedMessagingCache.prototype.isItemExpired = function (contentType) {\r\n        var cacheItem = this.getItem(contentType);\r\n        return !cacheItem\r\n            || !cacheItem.expiryDate\r\n            || cacheItem.expiryDate < new Date();\r\n    };\r\n    TargetedMessagingCache.prototype.createItem = function (contentType, content, expiryTime) {\r\n        var cacheItem = {\r\n            contentType: contentType,\r\n            content: content,\r\n            expiryDate: new Date(Date.now() + expiryTime),\r\n            lastRetrievedDate: new Date(),\r\n        };\r\n        return cacheItem;\r\n    };\r\n    TargetedMessagingCache.prototype.setItem = function (cacheItem) {\r\n        this.cachedItems[cacheItem.contentType] = cacheItem;\r\n        this.updateItemInLocalStorage(cacheItem);\r\n    };\r\n    TargetedMessagingCache.prototype.getItem = function (contentType) {\r\n        return this.cachedItems[contentType];\r\n    };\r\n    TargetedMessagingCache.prototype.initialize = function (items) {\r\n        this.cachedItems = {};\r\n        if (_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isStorageAvailable()) {\r\n            this.floodgateStorage = new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n            this.useLocalStorage = true;\r\n            // try to fetch items from local storage if available from prior sessions\r\n            this.initCachedItemsFromLocalStorage(items);\r\n        }\r\n        else {\r\n            // no LocalStorage support, only active object cache only\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.initCachedItemsFromLocalStorage = function (items) {\r\n        if (this.useLocalStorage) {\r\n            if (!isNOU(items)) {\r\n                for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                    var contentKey = items_1[_i];\r\n                    var tempStorageItem = this.floodgateStorage.read(this.mapContentTypeToFloodgateProviderKey(contentKey));\r\n                    if (!isNOU(tempStorageItem)) {\r\n                        var tempCacheItem = this.parseObjectFromCache(tempStorageItem);\r\n                        if (!isNOU(tempCacheItem)) {\r\n                            tempCacheItem.expiryDate = typeof tempCacheItem.expiryDate === \"string\" ?\r\n                                new Date(tempCacheItem.expiryDate) : tempCacheItem.expiryDate;\r\n                            this.cachedItems[tempCacheItem.contentType] = tempCacheItem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.updateItemInLocalStorage = function (cacheItem) {\r\n        if (this.useLocalStorage) {\r\n            this.floodgateStorage.write(this.mapContentTypeToFloodgateProviderKey(cacheItem.contentType), JSON.stringify(cacheItem));\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.parseObjectFromCache = function (tempItem) {\r\n        try {\r\n            var tempCacheItem = JSON.parse(tempItem);\r\n            return tempCacheItem;\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.mapContentTypeToFloodgateProviderKey = function (contentType) {\r\n        switch (contentType) {\r\n            case \"CampaignContent\" /* campaignContent */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].TmsCache_CampaignContent;\r\n            case \"MessageMetadata\" /* messageMetadata */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].TmsCache_MessageMetadata;\r\n            case \"UserGovernance\" /* userGovernanceRules */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].TmsCache_UserGovernance;\r\n            case \"DynamicSettings\" /* dynamicSettings */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].Tms_DynamicSettings;\r\n            case \"LogLevelSettings\" /* logLevelSettings */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].LogLevelSettings;\r\n            case \"UserFacts\" /* userFacts */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__[\"FileType\"].UserFacts;\r\n            default:\r\n                throw new Error(\"Unmapped ContentType in TmsCache\");\r\n        }\r\n    };\r\n    return TargetedMessagingCache;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NhY2hlLnRzP2I5YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWlGO0FBQy9DO0FBQzREO0FBRXRGLFNBQUssR0FBSyw0Q0FBTCxDQUFXO0FBU3hCO0lBS0MsZ0NBQVksS0FBeUI7UUFKN0Isb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFDakMsZ0JBQVcsR0FBa0MsRUFBRSxDQUFDO1FBSXZELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVNLCtDQUFjLEdBQXJCLFVBQXNCLFdBQXdCLEVBQUUsT0FBWSxFQUFFLFVBQWtCO1FBQy9FLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hCLE9BQU8sU0FBUyxDQUFDO0lBQ2xCLENBQUM7SUFFTSwrQ0FBYyxHQUFyQixVQUF5QixXQUF3QjtRQUNoRCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sU0FBUyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUM7SUFDdkMsQ0FBQztJQUVNLG9DQUFHLEdBQVYsVUFBVyxXQUF3QjtRQUNsQyxPQUFPLFdBQVcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3hDLENBQUM7SUFFTSw4Q0FBYSxHQUFwQixVQUFxQixXQUF3QjtRQUM1QyxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxTQUFTO2VBQ2IsQ0FBQyxTQUFTLENBQUMsVUFBVTtlQUNyQixTQUFTLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVPLDJDQUFVLEdBQWxCLFVBQW1CLFdBQXdCLEVBQUUsT0FBWSxFQUFFLFVBQWtCO1FBQzVFLElBQU0sU0FBUyxHQUFlO1lBQzdCLFdBQVc7WUFDWCxPQUFPO1lBQ1AsVUFBVSxFQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxVQUFVLENBQUM7WUFDOUMsaUJBQWlCLEVBQUUsSUFBSSxJQUFJLEVBQUU7U0FDN0IsQ0FBQztRQUVGLE9BQU8sU0FBUyxDQUFDO0lBQ2xCLENBQUM7SUFFTyx3Q0FBTyxHQUFmLFVBQWdCLFNBQXFCO1FBQ3BDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztRQUNwRCxJQUFJLENBQUMsd0JBQXdCLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVPLHdDQUFPLEdBQWYsVUFBZ0IsV0FBd0I7UUFDdkMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFTywyQ0FBVSxHQUFsQixVQUFtQixLQUF5QjtRQUMzQyxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN0QixJQUFJLCtFQUF3QixDQUFDLGtCQUFrQixFQUFFLEVBQUU7WUFDbEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksK0VBQXdCLEVBQUUsQ0FBQztZQUN2RCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztZQUU1Qix5RUFBeUU7WUFDekUsSUFBSSxDQUFDLCtCQUErQixDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVDO2FBQU07WUFDTix5REFBeUQ7U0FDekQ7SUFDRixDQUFDO0lBRU8sZ0VBQStCLEdBQXZDLFVBQXdDLEtBQXlCO1FBQ2hFLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNsQixLQUF1QixVQUFLLEVBQUwsZUFBSyxFQUFMLG1CQUFLLEVBQUwsSUFBSyxFQUFFO29CQUF6QixJQUFJLFVBQVU7b0JBQ2xCLElBQUksZUFBZSxHQUFXLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG9DQUFvQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7b0JBQ2hILElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUU7d0JBQzVCLElBQU0sYUFBYSxHQUFlLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsQ0FBQzt3QkFDN0UsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBRTs0QkFDMUIsYUFBYSxDQUFDLFVBQVUsR0FBRyxPQUFPLGFBQWEsQ0FBQyxVQUFVLEtBQUssUUFBUSxDQUFDLENBQUM7Z0NBQ3hFLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQzs0QkFDL0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLEdBQUcsYUFBYSxDQUFDO3lCQUM1RDtxQkFDRDtpQkFDRDthQUNEO1NBQ0Q7SUFDRixDQUFDO0lBRU8seURBQXdCLEdBQWhDLFVBQWlDLFNBQXFCO1FBQ3JELElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUMxQixJQUFJLENBQUMsb0NBQW9DLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxFQUNoRSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7U0FDNUI7SUFDRixDQUFDO0lBRU8scURBQW9CLEdBQTVCLFVBQTZCLFFBQWdCO1FBQzVDLElBQUk7WUFDSCxJQUFNLGFBQWEsR0FBZSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZELE9BQU8sYUFBYSxDQUFDO1NBQ3JCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVPLHFFQUFvQyxHQUE1QyxVQUE2QyxXQUF3QjtRQUNwRSxRQUFRLFdBQVcsRUFBRTtZQUNwQjtnQkFDQyxPQUFPLDJHQUFRLENBQUMsd0JBQXdCLENBQUM7WUFDMUM7Z0JBQ0MsT0FBTywyR0FBUSxDQUFDLHdCQUF3QixDQUFDO1lBQzFDO2dCQUNDLE9BQU8sMkdBQVEsQ0FBQyx1QkFBdUIsQ0FBQztZQUN6QztnQkFDQyxPQUFPLDJHQUFRLENBQUMsbUJBQW1CLENBQUM7WUFDckM7Z0JBQ0MsT0FBTywyR0FBUSxDQUFDLGdCQUFnQixDQUFDO1lBQ2xDO2dCQUNDLE9BQU8sMkdBQVEsQ0FBQyxTQUFTLENBQUM7WUFDM0I7Z0JBQ0MsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1NBQ3JEO0lBQ0YsQ0FBQztJQUNGLDZCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RhcmdldGVkTWVzc2FnaW5nL1RhcmdldGVkTWVzc2FnaW5nQ2FjaGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29udGVudFR5cGVcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IEZpbGVUeXBlIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDYWNoZUl0ZW0ge1xyXG5cdGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZTtcclxuXHRjb250ZW50OiBhbnk7XHJcblx0ZXhwaXJ5RGF0ZTogRGF0ZTtcclxuXHRsYXN0UmV0cmlldmVkRGF0ZTogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUge1xyXG5cdHByaXZhdGUgdXNlTG9jYWxTdG9yYWdlOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBjYWNoZWRJdGVtczogeyBba2V5OiBzdHJpbmddOiBJQ2FjaGVJdGVtIH0gPSB7fTtcclxuXHRwcml2YXRlIGZsb29kZ2F0ZVN0b3JhZ2U6IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoaXRlbXM6IEFycmF5PENvbnRlbnRUeXBlPikge1xyXG5cdFx0dGhpcy5pbml0aWFsaXplKGl0ZW1zKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb250ZW50SXRlbShjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGNvbnRlbnQ6IGFueSwgZXhwaXJ5VGltZTogbnVtYmVyKTogSUNhY2hlSXRlbSB7XHJcblx0XHRjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLmNyZWF0ZUl0ZW0oY29udGVudFR5cGUsIGNvbnRlbnQsIGV4cGlyeVRpbWUpO1xyXG5cdFx0dGhpcy5zZXRJdGVtKGNhY2hlSXRlbSk7XHJcblx0XHRyZXR1cm4gY2FjaGVJdGVtO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEl0ZW1Db250ZW50PFQ+KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IFQge1xyXG5cdFx0Y29uc3QgY2FjaGVJdGVtID0gdGhpcy5nZXRJdGVtKGNvbnRlbnRUeXBlKTtcclxuXHRcdHJldHVybiBjYWNoZUl0ZW0gJiYgY2FjaGVJdGVtLmNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaGFzKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGNvbnRlbnRUeXBlIGluIHRoaXMuY2FjaGVkSXRlbXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNJdGVtRXhwaXJlZChjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMuZ2V0SXRlbShjb250ZW50VHlwZSk7XHJcblx0XHRyZXR1cm4gIWNhY2hlSXRlbVxyXG5cdFx0XHR8fCAhY2FjaGVJdGVtLmV4cGlyeURhdGVcclxuXHRcdFx0fHwgY2FjaGVJdGVtLmV4cGlyeURhdGUgPCBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVJdGVtKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgY29udGVudDogYW55LCBleHBpcnlUaW1lOiBudW1iZXIpOiBJQ2FjaGVJdGVtIHtcclxuXHRcdGNvbnN0IGNhY2hlSXRlbTogSUNhY2hlSXRlbSA9IHtcclxuXHRcdFx0Y29udGVudFR5cGUsXHJcblx0XHRcdGNvbnRlbnQsXHJcblx0XHRcdGV4cGlyeURhdGU6ICBuZXcgRGF0ZShEYXRlLm5vdygpICsgZXhwaXJ5VGltZSksXHJcblx0XHRcdGxhc3RSZXRyaWV2ZWREYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY2FjaGVJdGVtO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXRJdGVtKGNhY2hlSXRlbTogSUNhY2hlSXRlbSk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWNoZWRJdGVtc1tjYWNoZUl0ZW0uY29udGVudFR5cGVdID0gY2FjaGVJdGVtO1xyXG5cdFx0dGhpcy51cGRhdGVJdGVtSW5Mb2NhbFN0b3JhZ2UoY2FjaGVJdGVtKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SXRlbShjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBJQ2FjaGVJdGVtIHtcclxuXHRcdHJldHVybiB0aGlzLmNhY2hlZEl0ZW1zW2NvbnRlbnRUeXBlXTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaW5pdGlhbGl6ZShpdGVtczogQXJyYXk8Q29udGVudFR5cGU+KTogdm9pZCB7XHJcblx0XHR0aGlzLmNhY2hlZEl0ZW1zID0ge307XHJcblx0XHRpZiAoRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmlzU3RvcmFnZUF2YWlsYWJsZSgpKSB7XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU3RvcmFnZSA9IG5ldyBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIoKTtcclxuXHRcdFx0dGhpcy51c2VMb2NhbFN0b3JhZ2UgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gdHJ5IHRvIGZldGNoIGl0ZW1zIGZyb20gbG9jYWwgc3RvcmFnZSBpZiBhdmFpbGFibGUgZnJvbSBwcmlvciBzZXNzaW9uc1xyXG5cdFx0XHR0aGlzLmluaXRDYWNoZWRJdGVtc0Zyb21Mb2NhbFN0b3JhZ2UoaXRlbXMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbm8gTG9jYWxTdG9yYWdlIHN1cHBvcnQsIG9ubHkgYWN0aXZlIG9iamVjdCBjYWNoZSBvbmx5XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGluaXRDYWNoZWRJdGVtc0Zyb21Mb2NhbFN0b3JhZ2UoaXRlbXM6IEFycmF5PENvbnRlbnRUeXBlPik6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XHJcblx0XHRcdGlmICghaXNOT1UoaXRlbXMpKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgY29udGVudEtleSBvZiBpdGVtcykge1xyXG5cdFx0XHRcdFx0bGV0IHRlbXBTdG9yYWdlSXRlbTogc3RyaW5nID0gdGhpcy5mbG9vZGdhdGVTdG9yYWdlLnJlYWQodGhpcy5tYXBDb250ZW50VHlwZVRvRmxvb2RnYXRlUHJvdmlkZXJLZXkoY29udGVudEtleSkpO1xyXG5cdFx0XHRcdFx0aWYgKCFpc05PVSh0ZW1wU3RvcmFnZUl0ZW0pKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRlbXBDYWNoZUl0ZW06IElDYWNoZUl0ZW0gPSB0aGlzLnBhcnNlT2JqZWN0RnJvbUNhY2hlKHRlbXBTdG9yYWdlSXRlbSk7XHJcblx0XHRcdFx0XHRcdGlmICghaXNOT1UodGVtcENhY2hlSXRlbSkpIHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wQ2FjaGVJdGVtLmV4cGlyeURhdGUgPSB0eXBlb2YgdGVtcENhY2hlSXRlbS5leHBpcnlEYXRlID09PSBcInN0cmluZ1wiID9cclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBEYXRlKHRlbXBDYWNoZUl0ZW0uZXhwaXJ5RGF0ZSkgOiB0ZW1wQ2FjaGVJdGVtLmV4cGlyeURhdGU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWNoZWRJdGVtc1t0ZW1wQ2FjaGVJdGVtLmNvbnRlbnRUeXBlXSA9IHRlbXBDYWNoZUl0ZW07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlSXRlbUluTG9jYWxTdG9yYWdlKGNhY2hlSXRlbTogSUNhY2hlSXRlbSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU3RvcmFnZS53cml0ZShcclxuXHRcdFx0XHR0aGlzLm1hcENvbnRlbnRUeXBlVG9GbG9vZGdhdGVQcm92aWRlcktleShjYWNoZUl0ZW0uY29udGVudFR5cGUpLFxyXG5cdFx0XHRcdEpTT04uc3RyaW5naWZ5KGNhY2hlSXRlbSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZU9iamVjdEZyb21DYWNoZSh0ZW1wSXRlbTogc3RyaW5nKTogSUNhY2hlSXRlbSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0ZW1wQ2FjaGVJdGVtOiBJQ2FjaGVJdGVtID0gSlNPTi5wYXJzZSh0ZW1wSXRlbSk7XHJcblx0XHRcdHJldHVybiB0ZW1wQ2FjaGVJdGVtO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbWFwQ29udGVudFR5cGVUb0Zsb29kZ2F0ZVByb3ZpZGVyS2V5KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IEZpbGVUeXBlIHtcclxuXHRcdHN3aXRjaCAoY29udGVudFR5cGUpIHtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQ6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc0NhY2hlX0NhbXBhaWduQ29udGVudDtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5tZXNzYWdlTWV0YWRhdGE6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc0NhY2hlX01lc3NhZ2VNZXRhZGF0YTtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS51c2VyR292ZXJuYW5jZVJ1bGVzOlxyXG5cdFx0XHRcdHJldHVybiBGaWxlVHlwZS5UbXNDYWNoZV9Vc2VyR292ZXJuYW5jZTtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5keW5hbWljU2V0dGluZ3M6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc19EeW5hbWljU2V0dGluZ3M7XHJcblx0XHRcdGNhc2UgQ29udGVudFR5cGUubG9nTGV2ZWxTZXR0aW5nczpcclxuXHRcdFx0XHRyZXR1cm4gRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5ncztcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS51c2VyRmFjdHM6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlVzZXJGYWN0cztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbm1hcHBlZCBDb250ZW50VHlwZSBpbiBUbXNDYWNoZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingCache.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts":
/*!**************************************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts ***!
  \**************************************************************************************/
/*! exports provided: TargetedMessagingCampaignDefinitionProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TargetedMessagingCampaignDefinitionProvider\", function() { return TargetedMessagingCampaignDefinitionProvider; });\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Campaign/CampaignDefinitionProvider */ \"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingConstants */ \"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _AssetsProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AssetsProvider */ \"./scripts/app/TargetedMessaging/AssetsProvider.ts\");\n/**\r\n * TargetedMessagingProvider.ts\r\n *\r\n * Module for targeted messaging campaign definition provider.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar TargetedMessagingCampaignDefinitionProvider = /** @class */ (function () {\r\n    function TargetedMessagingCampaignDefinitionProvider() {\r\n        this.loadAsyncTriggered = false;\r\n        this.campaignDefinitions = [];\r\n    }\r\n    TargetedMessagingCampaignDefinitionProvider.prototype.load = function () {\r\n        if (!this.loadAsyncTriggered) {\r\n            this.loadAsync();\r\n            this.loadAsyncTriggered = true;\r\n        }\r\n        return this.campaignDefinitions || [];\r\n    };\r\n    TargetedMessagingCampaignDefinitionProvider.prototype.loadAsync = function () {\r\n        var thisObj = this;\r\n        var campaignDefinitionsPromise = _AssetsProvider__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCampaignDefinitions();\r\n        campaignDefinitionsPromise.then(function (response) {\r\n            thisObj.loadCampaignDefinitions(response);\r\n            thisObj.loadAsyncTriggered = true;\r\n        });\r\n        var timeoutMilliseconds = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__[\"getDynamicSetting\"])(\"TmsLoadTimeout\" /* tmsLoadTimeout */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__[\"TMS_CAMPAIGN_LOAD_TIMEOUT\"]);\r\n        var timeoutPromise = Object(_Utils__WEBPACK_IMPORTED_MODULE_3__[\"createTimeoutPromise\"])(timeoutMilliseconds, campaignDefinitionsPromise);\r\n        return new Promise(function (resolve, reject) {\r\n            timeoutPromise.then(function onFulfilled(response) {\r\n                thisObj.loadCampaignDefinitions(response);\r\n                thisObj.loadAsyncTriggered = true;\r\n                resolve(thisObj.campaignDefinitions);\r\n            }).catch(\r\n            // might have timed out or getCampaignDefinitions might have failed\r\n            // In either case we resolve with cached content\r\n            function onRejected(error) {\r\n                if (thisObj.campaignDefinitions.length <= 0) {\r\n                    thisObj.loadCampaignDefinitions(_AssetsProvider__WEBPACK_IMPORTED_MODULE_4__[\"get\"]().getCachedCampaignDefinitions());\r\n                }\r\n                resolve(thisObj.campaignDefinitions);\r\n            }).catch(\r\n            // handle any errors from catch block\r\n            function onRejected(error) {\r\n                resolve(thisObj.campaignDefinitions);\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingCampaignDefinitionProvider.prototype.loadCampaignDefinitions = function (response) {\r\n        var definitions = response && response.campaigns;\r\n        if (definitions) {\r\n            this.campaignDefinitions = Object(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0__[\"FilterValidCampaignDefinitions\"])(definitions).result;\r\n        }\r\n    };\r\n    return TargetedMessagingCampaignDefinitionProvider;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLnRzPzVmNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFLeUU7QUFDVTtBQUNiO0FBQ3pCO0FBRUc7QUFFbkQ7SUFBQTtRQUNTLHVCQUFrQixHQUFZLEtBQUssQ0FBQztRQUNwQyx3QkFBbUIsR0FBNkIsRUFBRSxDQUFDO0lBcUQ1RCxDQUFDO0lBbkRPLDBEQUFJLEdBQVg7UUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFO1lBQzdCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1NBQy9CO1FBRUQsT0FBTyxJQUFJLENBQUMsbUJBQW1CLElBQUksRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFTSwrREFBUyxHQUFoQjtRQUNDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFNLDBCQUEwQixHQUFHLG1EQUFrQixFQUFFLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUNqRiwwQkFBMEIsQ0FBQyxJQUFJLENBQUMsVUFBQyxRQUFRO1lBQ3hDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxQyxPQUFPLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1FBQ25DLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBTSxtQkFBbUIsR0FBRyw2RkFBaUIsd0NBQTRCLHFGQUF5QixDQUFDLENBQUM7UUFDcEcsSUFBTSxjQUFjLEdBQUcsbUVBQW9CLENBQUMsbUJBQW1CLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztRQUM3RixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07WUFDbEMsY0FBYyxDQUFDLElBQUksQ0FDbEIsU0FBUyxXQUFXLENBQUMsUUFBUTtnQkFDNUIsT0FBTyxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMxQyxPQUFPLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO2dCQUNsQyxPQUFPLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUNELENBQUMsS0FBSztZQUNOLG1FQUFtRTtZQUNuRSxnREFBZ0Q7WUFDaEQsU0FBUyxVQUFVLENBQUMsS0FBSztnQkFDeEIsSUFBSSxPQUFPLENBQUMsbUJBQW1CLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtvQkFDNUMsT0FBTyxDQUFDLHVCQUF1QixDQUFDLG1EQUFrQixFQUFFLENBQUMsNEJBQTRCLEVBQUUsQ0FBQyxDQUFDO2lCQUNyRjtnQkFFRCxPQUFPLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUNELENBQUMsS0FBSztZQUNOLHFDQUFxQztZQUNyQyxTQUFTLFVBQVUsQ0FBQyxLQUFLO2dCQUN4QixPQUFPLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUNELENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFFTyw2RUFBdUIsR0FBL0IsVUFBZ0MsUUFBNkI7UUFDNUQsSUFBTSxXQUFXLEdBQUcsUUFBUSxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFDbkQsSUFBSSxXQUFXLEVBQUU7WUFDaEIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLCtJQUE4QixDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUM5RTtJQUNGLENBQUM7SUFDRixrREFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRhcmdldGVkTWVzc2FnaW5nUHJvdmlkZXIudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0YXJnZXRlZCBtZXNzYWdpbmcgY2FtcGFpZ24gZGVmaW5pdGlvbiBwcm92aWRlci5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmltcG9ydCB7IENhbXBhaWduRGVmaW5pdGlvbnMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0dvdmVybmFuY2UvQ2FtcGFpZ25EZWZpbml0aW9uc1wiO1xyXG5pbXBvcnQgeyBGaWx0ZXJWYWxpZENhbXBhaWduRGVmaW5pdGlvbnMgfSBmcm9tXHJcblx0XCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgZ2V0RHluYW1pY1NldHRpbmcsIFNldHRpbmdLZXkgfSBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9EeW5hbWljQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBUTVNfQ0FNUEFJR05fTE9BRF9USU1FT1VUIH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVGltZW91dFByb21pc2UgfSBmcm9tIFwiLi4vVXRpbHNcIjtcclxuXHJcbmltcG9ydCAqIGFzIEFzc2V0c1Byb3ZpZGVyIGZyb20gXCIuL0Fzc2V0c1Byb3ZpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFyZ2V0ZWRNZXNzYWdpbmdDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIEFwaS5JQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgbG9hZEFzeW5jVHJpZ2dlcmVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBjYW1wYWlnbkRlZmluaXRpb25zOiBBcGkuQ2FtcGFpZ25EZWZpbml0aW9uW10gPSBbXTtcclxuXHJcblx0cHVibGljIGxvYWQoKTogQXBpLkNhbXBhaWduRGVmaW5pdGlvbltdIHtcclxuXHRcdGlmICghdGhpcy5sb2FkQXN5bmNUcmlnZ2VyZWQpIHtcclxuXHRcdFx0dGhpcy5sb2FkQXN5bmMoKTtcclxuXHRcdFx0dGhpcy5sb2FkQXN5bmNUcmlnZ2VyZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMgfHwgW107XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9hZEFzeW5jKCk6IFByb21pc2U8QXBpLkNhbXBhaWduRGVmaW5pdGlvbltdPiB7XHJcblx0XHRjb25zdCB0aGlzT2JqID0gdGhpcztcclxuXHRcdGNvbnN0IGNhbXBhaWduRGVmaW5pdGlvbnNQcm9taXNlID0gQXNzZXRzUHJvdmlkZXIuZ2V0KCkuZ2V0Q2FtcGFpZ25EZWZpbml0aW9ucygpO1xyXG5cdFx0Y2FtcGFpZ25EZWZpbml0aW9uc1Byb21pc2UudGhlbigocmVzcG9uc2UpID0+IHtcclxuXHRcdFx0dGhpc09iai5sb2FkQ2FtcGFpZ25EZWZpbml0aW9ucyhyZXNwb25zZSk7XHJcblx0XHRcdHRoaXNPYmoubG9hZEFzeW5jVHJpZ2dlcmVkID0gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IHRpbWVvdXRNaWxsaXNlY29uZHMgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnRtc0xvYWRUaW1lb3V0LCBUTVNfQ0FNUEFJR05fTE9BRF9USU1FT1VUKTtcclxuXHRcdGNvbnN0IHRpbWVvdXRQcm9taXNlID0gY3JlYXRlVGltZW91dFByb21pc2UodGltZW91dE1pbGxpc2Vjb25kcywgY2FtcGFpZ25EZWZpbml0aW9uc1Byb21pc2UpO1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGltZW91dFByb21pc2UudGhlbihcclxuXHRcdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dGhpc09iai5sb2FkQ2FtcGFpZ25EZWZpbml0aW9ucyhyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR0aGlzT2JqLmxvYWRBc3luY1RyaWdnZXJlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHRoaXNPYmouY2FtcGFpZ25EZWZpbml0aW9ucyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdC8vIG1pZ2h0IGhhdmUgdGltZWQgb3V0IG9yIGdldENhbXBhaWduRGVmaW5pdGlvbnMgbWlnaHQgaGF2ZSBmYWlsZWRcclxuXHRcdFx0XHQvLyBJbiBlaXRoZXIgY2FzZSB3ZSByZXNvbHZlIHdpdGggY2FjaGVkIGNvbnRlbnRcclxuXHRcdFx0XHRmdW5jdGlvbiBvblJlamVjdGVkKGVycm9yKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpc09iai5jYW1wYWlnbkRlZmluaXRpb25zLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXNPYmoubG9hZENhbXBhaWduRGVmaW5pdGlvbnMoQXNzZXRzUHJvdmlkZXIuZ2V0KCkuZ2V0Q2FjaGVkQ2FtcGFpZ25EZWZpbml0aW9ucygpKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXNvbHZlKHRoaXNPYmouY2FtcGFpZ25EZWZpbml0aW9ucyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdC8vIGhhbmRsZSBhbnkgZXJyb3JzIGZyb20gY2F0Y2ggYmxvY2tcclxuXHRcdFx0XHRmdW5jdGlvbiBvblJlamVjdGVkKGVycm9yKSB7XHJcblx0XHRcdFx0XHRyZXNvbHZlKHRoaXNPYmouY2FtcGFpZ25EZWZpbml0aW9ucyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvYWRDYW1wYWlnbkRlZmluaXRpb25zKHJlc3BvbnNlOiBDYW1wYWlnbkRlZmluaXRpb25zKSB7XHJcblx0XHRjb25zdCBkZWZpbml0aW9ucyA9IHJlc3BvbnNlICYmIHJlc3BvbnNlLmNhbXBhaWducztcclxuXHRcdGlmIChkZWZpbml0aW9ucykge1xyXG5cdFx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMgPSBGaWx0ZXJWYWxpZENhbXBhaWduRGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMpLnJlc3VsdDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/TargetedMessagingClient.ts":
/*!******************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/TargetedMessagingClient.ts ***!
  \******************************************************************/
/*! exports provided: ContentResponse, getDebugCampaignDefinitions, getDebugUserFacts, TargetedMessagingClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContentResponse\", function() { return ContentResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDebugCampaignDefinitions\", function() { return getDebugCampaignDefinitions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDebugUserFacts\", function() { return getDebugUserFacts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TargetedMessagingClient\", function() { return TargetedMessagingClient; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ \"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _TargetedMessagingTransport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingTransport */ \"./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts\");\n/* harmony import */ var _Common_UrlUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Common/UrlUtils */ \"./scripts/app/Common/UrlUtils.ts\");\n/* harmony import */ var _TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TargetedMessagingCache */ \"./scripts/app/TargetedMessaging/TargetedMessagingCache.ts\");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TargetedMessagingConstants */ \"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\");\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ \"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\");\n/* harmony import */ var _AugLoopHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./AugLoopHelper */ \"./scripts/app/TargetedMessaging/AugLoopHelper.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ContentResponse = /** @class */ (function () {\r\n    function ContentResponse() {\r\n    }\r\n    return ContentResponse;\r\n}());\r\n\r\nfunction getDebugCampaignDefinitions() {\r\n    var debugOverrides = _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__[\"default\"].safeReadObject(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__[\"FileType\"].DebugOverrides, {});\r\n    return debugOverrides && debugOverrides.tmsResponse && debugOverrides.tmsResponse.CampaignContent && {\r\n        contentType: \"CampaignContent\" /* campaignContent */,\r\n        content: debugOverrides.tmsResponse.CampaignContent,\r\n    };\r\n}\r\nfunction getDebugUserFacts() {\r\n    var debugOverrides = _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__[\"default\"].safeReadObject(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__[\"FileType\"].DebugOverrides, {});\r\n    return debugOverrides && debugOverrides.userFactsResponse && {\r\n        contentType: \"UserFacts\" /* userFacts */,\r\n        content: debugOverrides.userFactsResponse,\r\n    };\r\n}\r\nvar TargetedMessagingClient = /** @class */ (function () {\r\n    function TargetedMessagingClient(app, platform, version, locale, country, sessionId, authTokenCallback, augLoopCallback, campaignFlights, campaignParameters, ageGroup, authenticationType, audience, messagingServiceSettings, tmsgCacheIn) {\r\n        var _a, _b;\r\n        this.locale = \"en-us\";\r\n        this.country = \"US\";\r\n        this.locale = locale;\r\n        this.country = country;\r\n        this.authTokenCallback = authTokenCallback;\r\n        this.augLoopCallback = augLoopCallback;\r\n        this.app = app;\r\n        this.platform = platform;\r\n        this.version = version;\r\n        this.sessionId = sessionId;\r\n        this.campaignFlights = campaignFlights;\r\n        this.campaignParameters = campaignParameters;\r\n        this.ageGroup = ageGroup;\r\n        this.authenticationType = authenticationType;\r\n        this.messagingServiceSettings = messagingServiceSettings;\r\n        var internalEnvs = [\"dogfood\", \"edog\", \"int\", \"microsoft\"];\r\n        var isInternalEnv = audience && internalEnvs.indexOf(audience.toLowerCase()) !== -1;\r\n        var tmsConfigBaseUrlPrefix = isInternalEnv ? (_a = this.messagingServiceSettings) === null || _a === void 0 ? void 0 : _a.messagingServiceIntUrl : (_b = this.messagingServiceSettings) === null || _b === void 0 ? void 0 : _b.messagingServiceProdUrl;\r\n        var tmsDefaultBaseUrlPrefix = isInternalEnv ? _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"TMS_BASEURL_PREFIX_EDOG\"] : _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"TMS_BASEURL_PREFIX_PROD\"];\r\n        this.tmsBaseUrlPrefix = tmsConfigBaseUrlPrefix || tmsDefaultBaseUrlPrefix;\r\n        this.tmsgCache = this.tmsgCache || tmsgCacheIn || new _TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_4__[\"TargetedMessagingCache\"]([\r\n            \"MessageMetadata\" /* messageMetadata */,\r\n            \"UserGovernance\" /* userGovernanceRules */,\r\n            \"CampaignContent\" /* campaignContent */,\r\n            \"DynamicSettings\" /* dynamicSettings */,\r\n            \"LogLevelSettings\" /* logLevelSettings */,\r\n            \"UserFacts\" /* userFacts */,\r\n        ]);\r\n    }\r\n    TargetedMessagingClient.prototype.getContent = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var response;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmsgCache.isItemExpired(requestedContent)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.refreshItemsInCacheFromTmsService([requestedContent])];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        response = this.retrieveCacheItemAndCreateContentResponse(requestedContent);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.getMultipleContents = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var contentResponses, bulkRefreshList, _i, requestedContent_1, contentType, responseItem;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.refreshItemsInCacheFromTmsService(requestedContent)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        contentResponses = new Array();\r\n                        bulkRefreshList = new Array();\r\n                        for (_i = 0, requestedContent_1 = requestedContent; _i < requestedContent_1.length; _i++) {\r\n                            contentType = requestedContent_1[_i];\r\n                            responseItem = this.createCachedContentResponse(contentType);\r\n                            contentResponses.push(responseItem);\r\n                        }\r\n                        this.refreshItemsInCacheFromTmsService(bulkRefreshList);\r\n                        return [2 /*return*/, contentResponses];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.getUserFactsContent = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var response;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.refreshItemsInCacheFromTulipsService(requestedContent)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        response = this.retrieveCacheItemAndCreateContentResponse(requestedContent);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.sendBeaconRequestToService = function (app, beaconParameters, platform, version, locale, country, sessionId, authTokenCallback) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var tmsAppId, authToken, puid, _a, requestStartTime, tmsQueryParams, requestBody, response, error_1;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.sessionId = sessionId;\r\n                        this.authTokenCallback = authTokenCallback;\r\n                        tmsAppId = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsAppId\" /* tmsAppId */, _Constants__WEBPACK_IMPORTED_MODULE_5__[\"GUIDs\"].TMSAppID);\r\n                        return [4 /*yield*/, this.getAuthToken(tmsAppId)];\r\n                    case 1:\r\n                        authToken = _b.sent();\r\n                        puid = undefined;\r\n                        if (!!authToken) return [3 /*break*/, 4];\r\n                        _a = this.authTokenCallback.getUserPuid;\r\n                        if (!_a) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.authTokenCallback.getUserPuid()];\r\n                    case 2:\r\n                        _a = (_b.sent());\r\n                        _b.label = 3;\r\n                    case 3:\r\n                        puid = _a;\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        requestStartTime = +new Date();\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        _b.trys.push([5, 7, , 8]);\r\n                        tmsQueryParams = {\r\n                            app: app,\r\n                            country: country,\r\n                            locale: locale,\r\n                            platform: platform,\r\n                            puid: puid,\r\n                            version: version,\r\n                        };\r\n                        requestBody = JSON.stringify({\r\n                            actionName: beaconParameters.actionName,\r\n                            actionUrl: beaconParameters.actionUrl,\r\n                        });\r\n                        return [4 /*yield*/, this.sendRequest(tmsQueryParams, authToken, \"TmsActionUrl\" /* tmsActionUrl */, this.tmsBaseUrlPrefix + _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"TMS_SETCAMPAIGNACTION_ENDPOINT\"] + \"?\", requestBody, \"POST\")];\r\n                    case 6:\r\n                        response = _b.sent();\r\n                        if (!response || response.status !== 200) {\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, this.createTelemetryData(requestStartTime, response, \"Beacon\" + beaconParameters.actionName));\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/, true];\r\n                    case 7:\r\n                        error_1 = _b.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ ErrorMessage: \"Error fetching from TMS SetCampaignAction endpoint\" + (error_1 && error_1.message ? \": \" + error_1.message : \"\") }, this.createTelemetryData(requestStartTime, null, \"Beacon\" + beaconParameters.actionName)));\r\n                        return [2 /*return*/, false];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.getCachedContent = function (requestedContent) {\r\n        return this.tmsgCache.getItemContent(requestedContent);\r\n    };\r\n    TargetedMessagingClient.prototype.getAugLoopUserFactsContent = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var response;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmsgCache.isItemExpired(\"UserFacts\" /* userFacts */)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.refreshUserFactsInCacheFromAugLoop()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        response = this.retrieveCacheItemAndCreateContentResponse(requestedContent);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.refreshUserFactsInCacheFromAugLoop = function () {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var cachedUserFacts, requestStartTime, userFacts, annotationName, augLoopSessionPromise, response, augLoopError, error_2;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmsgCache.isItemExpired(\"UserFacts\" /* userFacts */)) {\r\n                            cachedUserFacts = this.tmsgCache.getItemContent(\"UserFacts\" /* userFacts */);\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.AugLoop.Requests.VALUE, 3 /* Info */, {\r\n                                Count: cachedUserFacts ? cachedUserFacts.length : -1,\r\n                                Type: \"AugLoopUserFactsCached\",\r\n                                Flights: this.campaignFlights,\r\n                            });\r\n                            return [2 /*return*/, cachedUserFacts];\r\n                        }\r\n                        requestStartTime = +new Date();\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        annotationName = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TulipsAugLoopAnnotationName\" /* tulipsAugLoopAnnotationName */, \"AugLoop_User_UserLifecycleFactsAnnotation\");\r\n                        augLoopSessionPromise = this.augLoopCallback.getRuntimeSession;\r\n                        return [4 /*yield*/, Object(_AugLoopHelper__WEBPACK_IMPORTED_MODULE_10__[\"getAugLoopAnnotationData\"])(annotationName, augLoopSessionPromise)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        if (response && response.userFacts) {\r\n                            userFacts = this.addClientIngestionTimeAndNormalizeKeysInArray(response.userFacts);\r\n                            this.tmsgCache.setContentItem(\"UserFacts\" /* userFacts */, userFacts, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_USERFACTS\"]);\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.AugLoop.Requests.VALUE, 3 /* Info */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ Count: userFacts ? userFacts.length : -1 }, this.createTelemetryData(requestStartTime, null, \"AugLoopUserFacts\")));\r\n                        }\r\n                        else {\r\n                            augLoopError = response && response.error;\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.AugLoop.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ ErrorMessage: \"Error getting augloop facts \" + (augLoopError && augLoopError.toString()) }, this.createTelemetryData(requestStartTime, null, \"AugLoopUserFacts\")));\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_2 = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.AugLoop.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ ErrorMessage: \"Error getting facts \" + (error_2 && error_2.message) }, this.createTelemetryData(requestStartTime, null, \"AugLoopUserFacts\")));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/, userFacts];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.createTelemetryData = function (requestStartTimestamp, response, type) {\r\n        var _a = response || {}, headers = _a.headers, status = _a.status, statusText = _a.statusText;\r\n        var serverSessionId = headers && headers.get(\"X-UserSessionId\");\r\n        var serverCorrelationId = headers && headers.get(\"X-CorrelationId\");\r\n        return {\r\n            Type: type,\r\n            TimeMilliseconds: +new Date() - requestStartTimestamp,\r\n            SessionId: serverSessionId || this.sessionId,\r\n            CorrelationId: serverCorrelationId || undefined,\r\n            HttpStatusCode: status || undefined,\r\n            HttpStatusText: statusText || undefined,\r\n            Flights: this.campaignFlights,\r\n        };\r\n    };\r\n    TargetedMessagingClient.prototype.sendRequest = function (tmsgQueryParams, authToken, key, defaultBaseUrl, requestBody, verb) {\r\n        this.tmsgTransport = this.tmsgTransport || new _TargetedMessagingTransport__WEBPACK_IMPORTED_MODULE_2__[\"TargetedMessagingTransport\"](this.sessionId);\r\n        var queryParamStr = Object(_Common_UrlUtils__WEBPACK_IMPORTED_MODULE_3__[\"buildQueryParameters\"])(tmsgQueryParams);\r\n        var tmsgBaseUrl = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(key, defaultBaseUrl);\r\n        var requestPromise = verb === \"POST\" ?\r\n            this.tmsgTransport.sendPostRequest(tmsgBaseUrl + queryParamStr, requestBody, authToken) :\r\n            this.tmsgTransport.sendGetRequest(tmsgBaseUrl + queryParamStr, authToken);\r\n        return requestPromise;\r\n    };\r\n    TargetedMessagingClient.prototype.retrieveCacheItemAndCreateContentResponse = function (contentType) {\r\n        var responseItem = this.createCachedContentResponse(contentType);\r\n        if (this.tmsgCache.isItemExpired(contentType)) {\r\n            if (contentType === \"UserFacts\" /* userFacts */) {\r\n                this.refreshItemsInCacheFromTulipsService(contentType);\r\n            }\r\n            else {\r\n                this.refreshItemsInCacheFromTmsService([contentType]);\r\n            }\r\n        }\r\n        return responseItem;\r\n    };\r\n    TargetedMessagingClient.prototype.createCachedContentResponse = function (requestedContent) {\r\n        var contentResponse = new ContentResponse();\r\n        contentResponse.content = this.tmsgCache.getItemContent(requestedContent);\r\n        contentResponse.contentType = requestedContent;\r\n        return contentResponse;\r\n    };\r\n    TargetedMessagingClient.prototype.getAuthToken = function (appIdOrUri) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var startTime, getDuration, createAuthTelemetryData, retVal, error_3;\r\n            var _this = this;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.authTokenCallback || !this.authTokenCallback.getAuthToken) {\r\n                            return [2 /*return*/, null];\r\n                        }\r\n                        startTime = +new Date();\r\n                        getDuration = function () { return +new Date() - startTime; };\r\n                        createAuthTelemetryData = function (errorMessage) {\r\n                            if (errorMessage === void 0) { errorMessage = undefined; }\r\n                            return {\r\n                                ErrorMessage: errorMessage,\r\n                                SessionId: _this.sessionId,\r\n                                TimeMilliseconds: getDuration(),\r\n                                Type: appIdOrUri,\r\n                            };\r\n                        };\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.authTokenCallback.getAuthToken(appIdOrUri)];\r\n                    case 2:\r\n                        retVal = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Common.Info.VALUE, 3 /* Info */, createAuthTelemetryData());\r\n                        return [2 /*return*/, retVal];\r\n                    case 3:\r\n                        error_3 = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, createAuthTelemetryData(\"Error getting token \" + (error_3 && error_3.message ? \": \" + error_3.message : \"\")));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/, null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.refreshItemsInCacheFromTmsService = function (contentTypes) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var bulkRefreshList, _i, contentTypes_1, contentType, tmsAppId, authToken, userPuid, _a, requestStartTime, documentElement, browserParams, debugOverrides, tmsQueryParams, response, tmsServiceResponse, error_4;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (contentTypes.length === 0) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        bulkRefreshList = new Array();\r\n                        for (_i = 0, contentTypes_1 = contentTypes; _i < contentTypes_1.length; _i++) {\r\n                            contentType = contentTypes_1[_i];\r\n                            if (this.tmsgCache.isItemExpired(contentType)) {\r\n                                bulkRefreshList.push(contentType);\r\n                            }\r\n                        }\r\n                        if (bulkRefreshList.length === 0) {\r\n                            // exit out if all items in cache are still valid to avoid unnecessary service roundtrips \r\n                            return [2 /*return*/];\r\n                        }\r\n                        // always request for dynamic settings\r\n                        if (contentTypes.indexOf(\"DynamicSettings\" /* dynamicSettings */) === -1) {\r\n                            contentTypes.push(\"DynamicSettings\" /* dynamicSettings */);\r\n                        }\r\n                        tmsAppId = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsAppId\" /* tmsAppId */, _Constants__WEBPACK_IMPORTED_MODULE_5__[\"GUIDs\"].TMSAppID);\r\n                        return [4 /*yield*/, this.getAuthToken(tmsAppId)];\r\n                    case 1:\r\n                        authToken = _b.sent();\r\n                        userPuid = undefined;\r\n                        if (!!authToken) return [3 /*break*/, 4];\r\n                        _a = this.authTokenCallback.getUserPuid;\r\n                        if (!_a) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.authTokenCallback.getUserPuid()];\r\n                    case 2:\r\n                        _a = (_b.sent());\r\n                        _b.label = 3;\r\n                    case 3:\r\n                        userPuid = _a;\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        requestStartTime = +new Date();\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        _b.trys.push([5, 10, , 11]);\r\n                        documentElement = document && (document.documentElement || document.getElementsByTagName(\"body\")[0]);\r\n                        browserParams = {\r\n                            pageWidth: window.innerWidth || documentElement.clientWidth,\r\n                            pageHeight: window.innerHeight || documentElement.clientHeight,\r\n                            screenWidth: screen ? screen.width : undefined,\r\n                            screenHeight: screen ? screen.height : undefined,\r\n                            colorDepth: screen ? screen.colorDepth : undefined,\r\n                        };\r\n                        debugOverrides = _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__[\"default\"].safeReadObject(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__[\"FileType\"].DebugOverrides, {});\r\n                        tmsQueryParams = debugOverrides.replaceTmsQueryParams || Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ country: this.country, locale: this.locale, app: this.app, platform: this.platform, version: this.version, campaignParams: Object(_Common_UrlUtils__WEBPACK_IMPORTED_MODULE_3__[\"buildQueryParameters\"])(browserParams) + \"&more=true&\" + (this.campaignParameters || \"\"), contentType: contentTypes.join(\";\"), puid: userPuid, OFC_FLIGHTS: this.campaignFlights }, (debugOverrides.addTmsQueryParams || {})), { ageGroup: this.ageGroup, authenticationType: this.authenticationType });\r\n                        return [4 /*yield*/, this.sendRequest(tmsQueryParams, authToken, \"TmsServiceUrl\" /* tmsServiceUrl */, this.tmsBaseUrlPrefix + _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"TMS_CAMPAIGNMETADATAAGGREGATOR_ENDPOINT\"] + \"?\")];\r\n                    case 6:\r\n                        response = _b.sent();\r\n                        if (!(response.status === 200)) return [3 /*break*/, 8];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 7:\r\n                        tmsServiceResponse = _b.sent();\r\n                        if (contentTypes.indexOf(\"MessageMetadata\" /* messageMetadata */) !== -1\r\n                            && tmsServiceResponse.MessageMetadata !== undefined) {\r\n                            this.tmsgCache.setContentItem(\"MessageMetadata\" /* messageMetadata */, tmsServiceResponse.MessageMetadata, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsMessageMetadataExpiry\" /* tmsMessageMetadataExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_MESSAGEMETADATA\"]));\r\n                        }\r\n                        if (contentTypes.indexOf(\"UserGovernance\" /* userGovernanceRules */) !== -1\r\n                            && tmsServiceResponse.UserGovernanceRules !== undefined) {\r\n                            this.tmsgCache.setContentItem(\"UserGovernance\" /* userGovernanceRules */, tmsServiceResponse.UserGovernanceRules, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsUserGovernanceRulesExpiry\" /* tmsUserGovernanceRulesExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_USERGOVERNANCERULES\"]));\r\n                        }\r\n                        if (contentTypes.indexOf(\"CampaignContent\" /* campaignContent */) !== -1\r\n                            && tmsServiceResponse.CampaignContent !== undefined) {\r\n                            this.tmsgCache.setContentItem(\"CampaignContent\" /* campaignContent */, tmsServiceResponse.CampaignContent, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsCampaignContentExpiry\" /* tmsCampaignContentExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_CAMPAIGNCONTENT\"]));\r\n                        }\r\n                        // There is no explicit request for the next set of ContentTypes in the code\r\n                        // If the server responds with these types save and use them later\r\n                        if (tmsServiceResponse.DynamicSettings !== undefined) {\r\n                            this.tmsgCache.setContentItem(\"DynamicSettings\" /* dynamicSettings */, tmsServiceResponse.DynamicSettings, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsDynamicSettingsExpiry\" /* tmsDynamicSettingsExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_DYNAMICSETTINGS\"]));\r\n                        }\r\n                        if (tmsServiceResponse.LogLevelSettings !== undefined) {\r\n                            this.tmsgCache.setContentItem(\"LogLevelSettings\" /* logLevelSettings */, tmsServiceResponse.LogLevelSettings, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TmsLogLevelSettingsExpiry\" /* tmsLogLevelSettingsExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_LOGLEVELSETTINGS\"]));\r\n                        }\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Messaging.Requests.VALUE, 3 /* Info */, this.createTelemetryData(requestStartTime, response, contentTypes.join(\";\")));\r\n                        return [3 /*break*/, 9];\r\n                    case 8:\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, this.createTelemetryData(requestStartTime, response, contentTypes.join(\";\")));\r\n                        _b.label = 9;\r\n                    case 9: return [3 /*break*/, 11];\r\n                    case 10:\r\n                        error_4 = _b.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ ErrorMessage: \"Error fetching from TMS\" + (error_4 && error_4.message ? \": \" + error_4.message : \"\") }, this.createTelemetryData(requestStartTime, null, contentTypes.join(\";\"))));\r\n                        return [3 /*break*/, 11];\r\n                    case 11: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.refreshItemsInCacheFromTulipsService = function (contentType) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var tulipsAppId, authToken, requestStartTime, response, tulipsServiceResponse, normalizedUserFacts, error_5;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // check if touched item is actually due for refresh or is still valid\r\n                        if (!this.tmsgCache.isItemExpired(contentType)) {\r\n                            // exit out if the cache is still valid to avoid unnecessary service roundtrips\r\n                            return [2 /*return*/];\r\n                        }\r\n                        tulipsAppId = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__[\"getDynamicSetting\"])(\"TulipsAppId\" /* tulipsAppId */, _Constants__WEBPACK_IMPORTED_MODULE_5__[\"GUIDs\"].TULIPSAppID);\r\n                        return [4 /*yield*/, this.getAuthToken(tulipsAppId)];\r\n                    case 1:\r\n                        authToken = _a.sent();\r\n                        if (!authToken) {\r\n                            // if authToken is null then exit out since service call cannot be made without authToken\r\n                            return [2 /*return*/];\r\n                        }\r\n                        requestStartTime = +new Date();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 7, , 8]);\r\n                        return [4 /*yield*/, this.sendRequest({}, authToken, \"TulipsServiceUrl\" /* tulipsServiceUrl */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"TULIPS_SERVICEURL\"])];\r\n                    case 3:\r\n                        response = _a.sent();\r\n                        if (!(response.status === 200 || response.status === 204)) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        tulipsServiceResponse = _a.sent();\r\n                        if (contentType.indexOf(\"UserFacts\" /* userFacts */) !== -1\r\n                            && tulipsServiceResponse !== undefined) {\r\n                            normalizedUserFacts = this.addClientIngestionTimeAndNormalizeKeys(tulipsServiceResponse);\r\n                            this.tmsgCache.setContentItem(\"UserFacts\" /* userFacts */, normalizedUserFacts, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__[\"CACHE_EXPIRY_USERFACTS\"]);\r\n                        }\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.Messaging.Requests.VALUE, 3 /* Info */, this.createTelemetryData(requestStartTime, response, contentType));\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.Common.Error.VALUE, 2 /* Error */, this.createTelemetryData(requestStartTime, response, contentType));\r\n                        _a.label = 6;\r\n                    case 6: return [3 /*break*/, 8];\r\n                    case 7:\r\n                        error_5 = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__[\"EventIds\"].UserFacts.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ ErrorMessage: \"Error fetching from TULIPS\" + (error_5 && error_5.message ? \": \" + error_5.message : \"\") }, this.createTelemetryData(requestStartTime, null, contentType)));\r\n                        return [3 /*break*/, 8];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.addClientIngestionTimeAndNormalizeKeys = function (tulipsServiceResponse) {\r\n        var _this = this;\r\n        var currentDateTime = new Date(Date.now()).toISOString();\r\n        return tulipsServiceResponse.map(function (responseFact) {\r\n            var fact = _this.normalizeKeys(responseFact);\r\n            fact.clientIngestionDateTime = currentDateTime;\r\n            return fact;\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.addClientIngestionTimeAndNormalizeKeysInArray = function (userFacts) {\r\n        var _this = this;\r\n        var currentDateTime = new Date(Date.now()).toISOString();\r\n        return userFacts.map(function (userFact) {\r\n            var fact = _this.normalizeKeys(userFact);\r\n            fact.clientIngestionDateTime = currentDateTime;\r\n            return fact;\r\n        });\r\n    };\r\n    /**\r\n     * This method normalizes the keys of the user fact object retrieved from the TULIPS service.\r\n     * Specifically it converts the first letter of each key in the object to lower case.\r\n     * For example the key \"UserFactType\" returned from the service will be converted to \"userFactType\".\r\n     * @param userFact the user fact object\r\n     */\r\n    TargetedMessagingClient.prototype.normalizeKeys = function (userFact) {\r\n        var normalizedUserFact = {};\r\n        for (var _i = 0, _a = Object.keys(userFact); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var normalizedKey = (key.charAt(0).toLowerCase() + key.substring(1));\r\n            normalizedUserFact[normalizedKey] = userFact[key];\r\n        }\r\n        return normalizedUserFact;\r\n    };\r\n    return TargetedMessagingClient;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NsaWVudC50cz8xMmM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUM4RjtBQUtwQjtBQUVGO0FBQ047QUFFeEI7QUFDSTtBQUNnQjtBQUV3QjtBQUNMO0FBR0o7QUFJN0U7SUFBQTtJQUdBLENBQUM7SUFBRCxzQkFBQztBQUFELENBQUM7O0FBMEJNLFNBQVMsMkJBQTJCO0lBQzFDLElBQU0sY0FBYyxHQUFHLCtFQUF3QixDQUFDLGNBQWMsQ0FBa0IsMkdBQVEsQ0FBQyxjQUFjLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDN0csT0FBTyxjQUFjLElBQUksY0FBYyxDQUFDLFdBQVcsSUFBSSxjQUFjLENBQUMsV0FBVyxDQUFDLGVBQWUsSUFBSTtRQUNwRyxXQUFXLHlDQUE2QjtRQUN4QyxPQUFPLEVBQUUsY0FBYyxDQUFDLFdBQVcsQ0FBQyxlQUFlO0tBQ25ELENBQUM7QUFDSCxDQUFDO0FBRU0sU0FBUyxpQkFBaUI7SUFDaEMsSUFBTSxjQUFjLEdBQUcsK0VBQXdCLENBQUMsY0FBYyxDQUFrQiwyR0FBUSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3RyxPQUFPLGNBQWMsSUFBSSxjQUFjLENBQUMsaUJBQWlCLElBQUk7UUFDNUQsV0FBVyw2QkFBdUI7UUFDbEMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxpQkFBaUI7S0FDekMsQ0FBQztBQUNILENBQUM7QUFFRDtJQW1CQyxpQ0FDQyxHQUFXLEVBQ1gsUUFBZ0IsRUFDaEIsT0FBZSxFQUNmLE1BQWMsRUFDZCxPQUFlLEVBQ2YsU0FBaUIsRUFDakIsaUJBQThDLEVBQzlDLGVBQTJDLEVBQzNDLGVBQXdCLEVBQ3hCLGtCQUEyQixFQUMzQixRQUFtQixFQUNuQixrQkFBdUMsRUFDdkMsUUFBaUIsRUFDakIsd0JBQW9ELEVBQ3BELFdBQW9DOztRQWpDN0IsV0FB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QUFDO1FBQ2IsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSywrQ0FBYSxHQUFyQixVQUFzQixRQUFnQztRQUNyRCxJQUFNLGtCQUFrQixHQUFHLEVBQW1CLENBQUM7UUFDL0MsS0FBa0IsVUFBcUIsRUFBckIsV0FBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBckIsY0FBcUIsRUFBckIsSUFBcUIsRUFBRTtZQUFwQyxJQUFNLEdBQUc7WUFDYixJQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBd0IsQ0FBQztZQUM5RixrQkFBa0IsQ0FBQyxhQUFhLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxPQUFPLGtCQUFrQixDQUFDO0lBQzNCLENBQUM7SUFDRiw4QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NsaWVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgRmlsZVR5cGUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElBdWdMb29wQ2FsbGJhY2sgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JQXVnTG9vcENhbGxiYWNrXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFjayB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0lGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFja1wiO1xyXG5pbXBvcnQgeyBNZXNzYWdlU3BlYyB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvR292ZXJuYW5jZS9NZXNzYWdlTWV0YWRhdGFcIjtcclxuXHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nVHJhbnNwb3J0IH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnRlbnRUeXBlXCI7XHJcbmltcG9ydCB7IGJ1aWxkUXVlcnlQYXJhbWV0ZXJzLCBJUXVlcnlQYXJhbXMgfSBmcm9tIFwiLi4vQ29tbW9uL1VybFV0aWxzXCI7XHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NhY2hlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuaW1wb3J0ICogYXMgVG1zZ0NvbnN0YW50cyBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50c1wiO1xyXG5cclxuaW1wb3J0IHsgZ2V0RHluYW1pY1NldHRpbmcsIFNldHRpbmdLZXkgfSBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9EeW5hbWljQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuLi9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJQmVhY29uUGFyYW1ldGVycyB9IGZyb20gXCIuLi9GbG9vZGdhdGVDb3JlL0NvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnlcIjtcclxuXHJcbmltcG9ydCB7IGdldEF1Z0xvb3BBbm5vdGF0aW9uRGF0YSwgSUF1Z0xvb3BSZXNwb25zZSB9IGZyb20gXCIuL0F1Z0xvb3BIZWxwZXJcIjtcclxuaW1wb3J0IHsgSVNlc3Npb24gfSBmcm9tIFwiQGF1Z2xvb3AvcnVudGltZS1jbGllbnRcIjtcclxuaW1wb3J0IHsgQWdlR3JvdXAsIEF1dGhlbnRpY2F0aW9uVHlwZSwgSU1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5nc30gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGVudFJlc3BvbnNlIHtcclxuXHRwdWJsaWMgY29udGVudFR5cGU6IENvbnRlbnRUeXBlO1xyXG5cdHB1YmxpYyBjb250ZW50OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJVG1zU2VydmljZVJlc3BvbnNlIHtcclxuXHRNZXNzYWdlTWV0YWRhdGE6IE1lc3NhZ2VTcGVjO1xyXG5cdFVzZXJHb3Zlcm5hbmNlUnVsZXM6IGFueTtcclxuXHRDYW1wYWlnbkNvbnRlbnQ6IGFueTtcclxuXHREeW5hbWljU2V0dGluZ3M6IGFueTtcclxuXHRMb2dMZXZlbFNldHRpbmdzOiBJTG9nTGV2ZWxTZXR0aW5ncztcclxufVxyXG5cclxuaW50ZXJmYWNlIElVc2VyRmFjdHNBdWdMb29wUmVzcG9uc2Uge1xyXG5cdHB1aWQ6IHN0cmluZztcclxuXHR1c2VyRmFjdHM6IEFwaS5JVXNlckZhY3RbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIElMb2dMZXZlbFNldHRpbmdzIHtcclxuXHRsb2dMZXZlbDogTG9nZ2luZy5Mb2dMZXZlbDtcclxufVxyXG5cclxuaW50ZXJmYWNlIElEZWJ1Z092ZXJyaWRlcyB7XHJcblx0YWRkVG1zUXVlcnlQYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xyXG5cdHJlcGxhY2VUbXNRdWVyeVBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XHJcblx0dG1zUmVzcG9uc2U/OiBJVG1zU2VydmljZVJlc3BvbnNlO1xyXG5cdHVzZXJGYWN0c1Jlc3BvbnNlPzogSVRtc1NlcnZpY2VSZXNwb25zZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlYnVnQ2FtcGFpZ25EZWZpbml0aW9ucygpOiBDb250ZW50UmVzcG9uc2Uge1xyXG5cdGNvbnN0IGRlYnVnT3ZlcnJpZGVzID0gRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnNhZmVSZWFkT2JqZWN0PElEZWJ1Z092ZXJyaWRlcz4oRmlsZVR5cGUuRGVidWdPdmVycmlkZXMsIHt9KTtcclxuXHRyZXR1cm4gZGVidWdPdmVycmlkZXMgJiYgZGVidWdPdmVycmlkZXMudG1zUmVzcG9uc2UgJiYgZGVidWdPdmVycmlkZXMudG1zUmVzcG9uc2UuQ2FtcGFpZ25Db250ZW50ICYmIHtcclxuXHRcdGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRjb250ZW50OiBkZWJ1Z092ZXJyaWRlcy50bXNSZXNwb25zZS5DYW1wYWlnbkNvbnRlbnQsXHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlYnVnVXNlckZhY3RzKCk6IENvbnRlbnRSZXNwb25zZSB7XHJcblx0Y29uc3QgZGVidWdPdmVycmlkZXMgPSBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuc2FmZVJlYWRPYmplY3Q8SURlYnVnT3ZlcnJpZGVzPihGaWxlVHlwZS5EZWJ1Z092ZXJyaWRlcywge30pO1xyXG5cdHJldHVybiBkZWJ1Z092ZXJyaWRlcyAmJiBkZWJ1Z092ZXJyaWRlcy51c2VyRmFjdHNSZXNwb25zZSAmJiB7XHJcblx0XHRjb250ZW50VHlwZTogQ29udGVudFR5cGUudXNlckZhY3RzLFxyXG5cdFx0Y29udGVudDogZGVidWdPdmVycmlkZXMudXNlckZhY3RzUmVzcG9uc2UsXHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nQ2xpZW50IHtcclxuXHRwcml2YXRlIGxvY2FsZTogc3RyaW5nID0gXCJlbi11c1wiO1xyXG5cdHByaXZhdGUgY291bnRyeTogc3RyaW5nID0gXCJVU1wiO1xyXG5cdHByaXZhdGUgYXV0aFRva2VuQ2FsbGJhY2s6IElGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFjaztcclxuXHRwcml2YXRlIGF1Z0xvb3BDYWxsYmFjazogSUF1Z0xvb3BDYWxsYmFjazxJU2Vzc2lvbj47XHJcblx0cHJpdmF0ZSBhcHA6IHN0cmluZztcclxuXHRwcml2YXRlIHBsYXRmb3JtOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBzZXNzaW9uSWQ6IHN0cmluZztcclxuXHRwcml2YXRlIGNhbXBhaWduRmxpZ2h0czogc3RyaW5nO1xyXG5cdHByaXZhdGUgY2FtcGFpZ25QYXJhbWV0ZXJzOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBhZ2VHcm91cDogQWdlR3JvdXA7XHJcblx0cHJpdmF0ZSBhdXRoZW50aWNhdGlvblR5cGU6IEF1dGhlbnRpY2F0aW9uVHlwZTtcclxuXHRwcml2YXRlIHRtc0Jhc2VVcmxQcmVmaXg6IHN0cmluZztcclxuXHRwcml2YXRlIG1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5nczogSU1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5ncztcclxuXHJcblx0cHJpdmF0ZSB0bXNnQ2FjaGU6IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGU7XHJcblx0cHJpdmF0ZSB0bXNnVHJhbnNwb3J0OiBUYXJnZXRlZE1lc3NhZ2luZ1RyYW5zcG9ydDtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRhcHA6IHN0cmluZyxcclxuXHRcdHBsYXRmb3JtOiBzdHJpbmcsXHJcblx0XHR2ZXJzaW9uOiBzdHJpbmcsXHJcblx0XHRsb2NhbGU6IHN0cmluZyxcclxuXHRcdGNvdW50cnk6IHN0cmluZyxcclxuXHRcdHNlc3Npb25JZDogc3RyaW5nLFxyXG5cdFx0YXV0aFRva2VuQ2FsbGJhY2s6IElGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFjayxcclxuXHRcdGF1Z0xvb3BDYWxsYmFjazogSUF1Z0xvb3BDYWxsYmFjazxJU2Vzc2lvbj4sXHJcblx0XHRjYW1wYWlnbkZsaWdodHM/OiBzdHJpbmcsXHJcblx0XHRjYW1wYWlnblBhcmFtZXRlcnM/OiBzdHJpbmcsXHJcblx0XHRhZ2VHcm91cD86IEFnZUdyb3VwLFxyXG5cdFx0YXV0aGVudGljYXRpb25UeXBlPzogQXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0YXVkaWVuY2U/OiBzdHJpbmcsXHJcblx0XHRtZXNzYWdpbmdTZXJ2aWNlU2V0dGluZ3M/OiBJTWVzc2FnaW5nU2VydmljZVNldHRpbmdzLFxyXG5cdFx0dG1zZ0NhY2hlSW4/OiBUYXJnZXRlZE1lc3NhZ2luZ0NhY2hlKSB7XHJcblx0XHR0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuXHRcdHRoaXMuY291bnRyeSA9IGNvdW50cnk7XHJcblx0XHR0aGlzLmF1dGhUb2tlbkNhbGxiYWNrID0gYXV0aFRva2VuQ2FsbGJhY2s7XHJcblx0XHR0aGlzLmF1Z0xvb3BDYWxsYmFjayA9IGF1Z0xvb3BDYWxsYmFjaztcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHRcdHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xyXG5cdFx0dGhpcy5jYW1wYWlnbkZsaWdodHMgPSBjYW1wYWlnbkZsaWdodHM7XHJcblx0XHR0aGlzLmNhbXBhaWduUGFyYW1ldGVycyA9IGNhbXBhaWduUGFyYW1ldGVycztcclxuXHRcdHRoaXMuYWdlR3JvdXAgPSBhZ2VHcm91cDtcclxuXHRcdHRoaXMuYXV0aGVudGljYXRpb25UeXBlID0gYXV0aGVudGljYXRpb25UeXBlO1xyXG5cdFx0dGhpcy5tZXNzYWdpbmdTZXJ2aWNlU2V0dGluZ3MgPSBtZXNzYWdpbmdTZXJ2aWNlU2V0dGluZ3M7XHJcblxyXG5cdFx0Y29uc3QgaW50ZXJuYWxFbnZzID0gW1wiZG9nZm9vZFwiLCBcImVkb2dcIiwgXCJpbnRcIiwgXCJtaWNyb3NvZnRcIl07XHJcblx0XHRjb25zdCBpc0ludGVybmFsRW52ID0gYXVkaWVuY2UgJiYgaW50ZXJuYWxFbnZzLmluZGV4T2YoYXVkaWVuY2UudG9Mb3dlckNhc2UoKSkgIT09IC0xO1xyXG5cdFx0Y29uc3QgdG1zQ29uZmlnQmFzZVVybFByZWZpeCA9IGlzSW50ZXJuYWxFbnYgPyB0aGlzLm1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5ncz8ubWVzc2FnaW5nU2VydmljZUludFVybFxyXG5cdFx0OiB0aGlzLm1lc3NhZ2luZ1NlcnZpY2VTZXR0aW5ncz8ubWVzc2FnaW5nU2VydmljZVByb2RVcmw7XHJcblx0XHRjb25zdCB0bXNEZWZhdWx0QmFzZVVybFByZWZpeCA9IGlzSW50ZXJuYWxFbnYgPyBUbXNnQ29uc3RhbnRzLlRNU19CQVNFVVJMX1BSRUZJWF9FRE9HIDogVG1zZ0NvbnN0YW50cy5UTVNfQkFTRVVSTF9QUkVGSVhfUFJPRDtcclxuXHRcdHRoaXMudG1zQmFzZVVybFByZWZpeCA9IHRtc0NvbmZpZ0Jhc2VVcmxQcmVmaXggfHwgdG1zRGVmYXVsdEJhc2VVcmxQcmVmaXg7XHJcblxyXG5cdFx0dGhpcy50bXNnQ2FjaGUgPSB0aGlzLnRtc2dDYWNoZSB8fCB0bXNnQ2FjaGVJbiB8fCBuZXcgVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZShbXHJcblx0XHRcdENvbnRlbnRUeXBlLm1lc3NhZ2VNZXRhZGF0YSxcclxuXHRcdFx0Q29udGVudFR5cGUudXNlckdvdmVybmFuY2VSdWxlcyxcclxuXHRcdFx0Q29udGVudFR5cGUuY2FtcGFpZ25Db250ZW50LFxyXG5cdFx0XHRDb250ZW50VHlwZS5keW5hbWljU2V0dGluZ3MsXHJcblx0XHRcdENvbnRlbnRUeXBlLmxvZ0xldmVsU2V0dGluZ3MsXHJcblx0XHRcdENvbnRlbnRUeXBlLnVzZXJGYWN0cyxcclxuXHRcdF0pO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIGdldENvbnRlbnQoXHJcblx0XHRyZXF1ZXN0ZWRDb250ZW50OiBDb250ZW50VHlwZSk6IFByb21pc2U8Q29udGVudFJlc3BvbnNlPiB7XHJcblx0XHRpZiAodGhpcy50bXNnQ2FjaGUuaXNJdGVtRXhwaXJlZChyZXF1ZXN0ZWRDb250ZW50KSkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hJdGVtc0luQ2FjaGVGcm9tVG1zU2VydmljZShbcmVxdWVzdGVkQ29udGVudF0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJlc3BvbnNlOiBDb250ZW50UmVzcG9uc2UgPSB0aGlzLnJldHJpZXZlQ2FjaGVJdGVtQW5kQ3JlYXRlQ29udGVudFJlc3BvbnNlKHJlcXVlc3RlZENvbnRlbnQpO1xyXG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIGdldE11bHRpcGxlQ29udGVudHMoXHJcblx0XHRyZXF1ZXN0ZWRDb250ZW50OiBBcnJheTxDb250ZW50VHlwZT4pOiBQcm9taXNlPENvbnRlbnRSZXNwb25zZVtdPiB7XHJcblx0XHRhd2FpdCB0aGlzLnJlZnJlc2hJdGVtc0luQ2FjaGVGcm9tVG1zU2VydmljZShyZXF1ZXN0ZWRDb250ZW50KTtcclxuXHJcblx0XHRjb25zdCBjb250ZW50UmVzcG9uc2VzOiBDb250ZW50UmVzcG9uc2VbXSA9IG5ldyBBcnJheTxDb250ZW50UmVzcG9uc2U+KCk7XHJcblx0XHRjb25zdCBidWxrUmVmcmVzaExpc3Q6IENvbnRlbnRUeXBlW10gPSBuZXcgQXJyYXk8Q29udGVudFR5cGU+KCk7XHJcblx0XHRmb3IgKGxldCBjb250ZW50VHlwZSBvZiByZXF1ZXN0ZWRDb250ZW50KSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlSXRlbSA9IHRoaXMuY3JlYXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlKGNvbnRlbnRUeXBlKTtcclxuXHRcdFx0Y29udGVudFJlc3BvbnNlcy5wdXNoKHJlc3BvbnNlSXRlbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5yZWZyZXNoSXRlbXNJbkNhY2hlRnJvbVRtc1NlcnZpY2UoYnVsa1JlZnJlc2hMaXN0KTtcclxuXHJcblx0XHRyZXR1cm4gY29udGVudFJlc3BvbnNlcztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBnZXRVc2VyRmFjdHNDb250ZW50KFxyXG5cdFx0cmVxdWVzdGVkQ29udGVudDogQ29udGVudFR5cGUpOiBQcm9taXNlPENvbnRlbnRSZXNwb25zZT4ge1xyXG5cdFx0YXdhaXQgdGhpcy5yZWZyZXNoSXRlbXNJbkNhY2hlRnJvbVR1bGlwc1NlcnZpY2UocmVxdWVzdGVkQ29udGVudCk7XHJcblx0XHRjb25zdCByZXNwb25zZTogQ29udGVudFJlc3BvbnNlID0gdGhpcy5yZXRyaWV2ZUNhY2hlSXRlbUFuZENyZWF0ZUNvbnRlbnRSZXNwb25zZShyZXF1ZXN0ZWRDb250ZW50KTtcclxuXHRcdHJldHVybiByZXNwb25zZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBzZW5kQmVhY29uUmVxdWVzdFRvU2VydmljZShcclxuXHRcdGFwcDogc3RyaW5nLFxyXG5cdFx0YmVhY29uUGFyYW1ldGVyczogSUJlYWNvblBhcmFtZXRlcnMsXHJcblx0XHRwbGF0Zm9ybTogc3RyaW5nLFxyXG5cdFx0dmVyc2lvbjogc3RyaW5nLFxyXG5cdFx0bG9jYWxlOiBzdHJpbmcsXHJcblx0XHRjb3VudHJ5OiBzdHJpbmcsXHJcblx0XHRzZXNzaW9uSWQ6IHN0cmluZyxcclxuXHRcdGF1dGhUb2tlbkNhbGxiYWNrOiBJRmxvb2RnYXRlQXV0aFRva2VuQ2FsbGJhY2tcclxuXHRcdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG5cdFx0dGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQ7XHJcblx0XHR0aGlzLmF1dGhUb2tlbkNhbGxiYWNrID0gYXV0aFRva2VuQ2FsbGJhY2s7XHJcblxyXG5cdFx0Y29uc3QgdG1zQXBwSWQgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnRtc0FwcElkLCBDb25zdGFudHMuR1VJRHMuVE1TQXBwSUQpO1xyXG5cdFx0Y29uc3QgYXV0aFRva2VuID0gYXdhaXQgdGhpcy5nZXRBdXRoVG9rZW4odG1zQXBwSWQpO1xyXG5cdFx0bGV0IHB1aWQ6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHRcdGlmICghYXV0aFRva2VuKSB7XHJcblx0XHRcdHB1aWQgPSB0aGlzLmF1dGhUb2tlbkNhbGxiYWNrLmdldFVzZXJQdWlkICYmIGF3YWl0IHRoaXMuYXV0aFRva2VuQ2FsbGJhY2suZ2V0VXNlclB1aWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0bXNRdWVyeVBhcmFtczogSVF1ZXJ5UGFyYW1zID0ge1xyXG5cdFx0XHRcdGFwcCxcclxuXHRcdFx0XHRjb3VudHJ5LFxyXG5cdFx0XHRcdGxvY2FsZSxcclxuXHRcdFx0XHRwbGF0Zm9ybSxcclxuXHRcdFx0XHRwdWlkLFxyXG5cdFx0XHRcdHZlcnNpb24sXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXF1ZXN0Qm9keSA9IEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRhY3Rpb25OYW1lOiBiZWFjb25QYXJhbWV0ZXJzLmFjdGlvbk5hbWUsXHJcblx0XHRcdFx0YWN0aW9uVXJsOiBiZWFjb25QYXJhbWV0ZXJzLmFjdGlvblVybCxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCByZXNwb25zZTogUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KFxyXG5cdFx0XHRcdHRtc1F1ZXJ5UGFyYW1zLFxyXG5cdFx0XHRcdGF1dGhUb2tlbixcclxuXHRcdFx0XHRTZXR0aW5nS2V5LnRtc0FjdGlvblVybCxcclxuXHRcdFx0XHR0aGlzLnRtc0Jhc2VVcmxQcmVmaXggKyBUbXNnQ29uc3RhbnRzLlRNU19TRVRDQU1QQUlHTkFDVElPTl9FTkRQT0lOVCArIFwiP1wiLFxyXG5cdFx0XHRcdHJlcXVlc3RCb2R5LFxyXG5cdFx0XHRcdFwiUE9TVFwiKTtcclxuXHJcblx0XHRcdGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5XZWJTdXJmYWNlcy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIHJlc3BvbnNlLCBgQmVhY29uJHtiZWFjb25QYXJhbWV0ZXJzLmFjdGlvbk5hbWV9YCkpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoXHJcblx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5XZWJTdXJmYWNlcy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6XHJcblx0XHRcdFx0XHRcdFwiRXJyb3IgZmV0Y2hpbmcgZnJvbSBUTVMgU2V0Q2FtcGFpZ25BY3Rpb24gZW5kcG9pbnRcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlID8gXCI6IFwiICsgZXJyb3IubWVzc2FnZSA6IFwiXCIpLFxyXG5cdFx0XHRcdFx0Li4udGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIG51bGwsIGBCZWFjb24ke2JlYWNvblBhcmFtZXRlcnMuYWN0aW9uTmFtZX1gKSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhY2hlZENvbnRlbnQ8VD4ocmVxdWVzdGVkQ29udGVudDogQ29udGVudFR5cGUpOiBUIHtcclxuXHRcdHJldHVybiB0aGlzLnRtc2dDYWNoZS5nZXRJdGVtQ29udGVudChyZXF1ZXN0ZWRDb250ZW50KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBnZXRBdWdMb29wVXNlckZhY3RzQ29udGVudChyZXF1ZXN0ZWRDb250ZW50OiBDb250ZW50VHlwZSk6IFByb21pc2U8Q29udGVudFJlc3BvbnNlPiB7XHJcblx0XHRpZiAodGhpcy50bXNnQ2FjaGUuaXNJdGVtRXhwaXJlZChDb250ZW50VHlwZS51c2VyRmFjdHMpKSB7XHJcblx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaFVzZXJGYWN0c0luQ2FjaGVGcm9tQXVnTG9vcCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJlc3BvbnNlOiBDb250ZW50UmVzcG9uc2UgPSB0aGlzLnJldHJpZXZlQ2FjaGVJdGVtQW5kQ3JlYXRlQ29udGVudFJlc3BvbnNlKHJlcXVlc3RlZENvbnRlbnQpO1xyXG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyByZWZyZXNoVXNlckZhY3RzSW5DYWNoZUZyb21BdWdMb29wKCk6IFByb21pc2U8QXBpLklVc2VyRmFjdFtdPiB7XHJcblx0XHRpZiAoIXRoaXMudG1zZ0NhY2hlLmlzSXRlbUV4cGlyZWQoQ29udGVudFR5cGUudXNlckZhY3RzKSkge1xyXG5cdFx0XHRjb25zdCBjYWNoZWRVc2VyRmFjdHMgPSB0aGlzLnRtc2dDYWNoZS5nZXRJdGVtQ29udGVudChDb250ZW50VHlwZS51c2VyRmFjdHMpIGFzIEFwaS5JVXNlckZhY3RbXTtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLlVzZXJGYWN0cy5BdWdMb29wLlJlcXVlc3RzLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuSW5mbyxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRDb3VudDogY2FjaGVkVXNlckZhY3RzID8gY2FjaGVkVXNlckZhY3RzLmxlbmd0aCA6IC0xLFxyXG5cdFx0XHRcdFx0VHlwZTogXCJBdWdMb29wVXNlckZhY3RzQ2FjaGVkXCIsXHJcblx0XHRcdFx0XHRGbGlnaHRzOiB0aGlzLmNhbXBhaWduRmxpZ2h0cyxcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiBjYWNoZWRVc2VyRmFjdHM7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9ICtuZXcgRGF0ZSgpO1xyXG5cdFx0bGV0IHVzZXJGYWN0czogQXBpLklVc2VyRmFjdFtdO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgYW5ub3RhdGlvbk5hbWUgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnR1bGlwc0F1Z0xvb3BBbm5vdGF0aW9uTmFtZSwgXCJBdWdMb29wX1VzZXJfVXNlckxpZmVjeWNsZUZhY3RzQW5ub3RhdGlvblwiKTtcclxuXHRcdFx0Y29uc3QgYXVnTG9vcFNlc3Npb25Qcm9taXNlID0gdGhpcy5hdWdMb29wQ2FsbGJhY2suZ2V0UnVudGltZVNlc3Npb247XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0QXVnTG9vcEFubm90YXRpb25EYXRhKGFubm90YXRpb25OYW1lLCBhdWdMb29wU2Vzc2lvblByb21pc2UpIGFzIElVc2VyRmFjdHNBdWdMb29wUmVzcG9uc2U7XHJcblx0XHRcdGlmIChyZXNwb25zZSAmJiByZXNwb25zZS51c2VyRmFjdHMpIHtcclxuXHRcdFx0XHR1c2VyRmFjdHMgPSB0aGlzLmFkZENsaWVudEluZ2VzdGlvblRpbWVBbmROb3JtYWxpemVLZXlzSW5BcnJheShyZXNwb25zZS51c2VyRmFjdHMpO1xyXG5cdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRDb250ZW50VHlwZS51c2VyRmFjdHMsXHJcblx0XHRcdFx0XHRcdHVzZXJGYWN0cyxcclxuXHRcdFx0XHRcdFx0VG1zZ0NvbnN0YW50cy5DQUNIRV9FWFBJUllfVVNFUkZBQ1RTKTtcclxuXHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLkF1Z0xvb3AuUmVxdWVzdHMuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkluZm8sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdENvdW50OiB1c2VyRmFjdHMgPyB1c2VyRmFjdHMubGVuZ3RoIDogLTEsXHJcblx0XHRcdFx0XHRcdC4uLnRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBcIkF1Z0xvb3BVc2VyRmFjdHNcIiksXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb25zdCBhdWdMb29wRXJyb3IgPSByZXNwb25zZSAmJiAocmVzcG9uc2UgYXMgSUF1Z0xvb3BSZXNwb25zZSkuZXJyb3I7XHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLkF1Z0xvb3AuRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IFwiRXJyb3IgZ2V0dGluZyBhdWdsb29wIGZhY3RzIFwiICsgKGF1Z0xvb3BFcnJvciAmJiBhdWdMb29wRXJyb3IudG9TdHJpbmcoKSksXHJcblx0XHRcdFx0XHRcdC4uLnRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBcIkF1Z0xvb3BVc2VyRmFjdHNcIiksXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLkF1Z0xvb3AuRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IFwiRXJyb3IgZ2V0dGluZyBmYWN0cyBcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSxcclxuXHRcdFx0XHRcdC4uLnRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBcIkF1Z0xvb3BVc2VyRmFjdHNcIiksXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHVzZXJGYWN0cztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lc3RhbXA6IG51bWJlciwgcmVzcG9uc2U6IFJlc3BvbnNlLCB0eXBlOiBzdHJpbmcpOiBMb2dnaW5nLklDdXN0b21Qcm9wZXJ0aWVzIHtcclxuXHRcdGNvbnN0IHsgaGVhZGVycywgc3RhdHVzLCBzdGF0dXNUZXh0IH0gPSByZXNwb25zZSB8fCB7fSBhcyBSZXNwb25zZTtcclxuXHRcdGNvbnN0IHNlcnZlclNlc3Npb25JZCA9IGhlYWRlcnMgJiYgaGVhZGVycy5nZXQoXCJYLVVzZXJTZXNzaW9uSWRcIik7XHJcblx0XHRjb25zdCBzZXJ2ZXJDb3JyZWxhdGlvbklkID0gaGVhZGVycyAmJiBoZWFkZXJzLmdldChcIlgtQ29ycmVsYXRpb25JZFwiKTtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdFR5cGU6IHR5cGUsXHJcblx0XHRcdFRpbWVNaWxsaXNlY29uZHM6ICtuZXcgRGF0ZSgpIC0gcmVxdWVzdFN0YXJ0VGltZXN0YW1wLFxyXG5cdFx0XHRTZXNzaW9uSWQ6IHNlcnZlclNlc3Npb25JZCB8fCB0aGlzLnNlc3Npb25JZCxcclxuXHRcdFx0Q29ycmVsYXRpb25JZDogc2VydmVyQ29ycmVsYXRpb25JZCB8fCB1bmRlZmluZWQsXHJcblx0XHRcdEh0dHBTdGF0dXNDb2RlOiBzdGF0dXMgfHwgdW5kZWZpbmVkLFxyXG5cdFx0XHRIdHRwU3RhdHVzVGV4dDogc3RhdHVzVGV4dCB8fCB1bmRlZmluZWQsXHJcblxyXG5cdFx0XHRGbGlnaHRzOiB0aGlzLmNhbXBhaWduRmxpZ2h0cyxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNlbmRSZXF1ZXN0KFxyXG5cdFx0dG1zZ1F1ZXJ5UGFyYW1zOiBJUXVlcnlQYXJhbXMsXHJcblx0XHRhdXRoVG9rZW46IHN0cmluZyxcclxuXHRcdGtleTogU2V0dGluZ0tleSxcclxuXHRcdGRlZmF1bHRCYXNlVXJsOiBzdHJpbmcsXHJcblx0XHRyZXF1ZXN0Qm9keT86IHN0cmluZyxcclxuXHRcdHZlcmI/OiBzdHJpbmcpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcblx0XHR0aGlzLnRtc2dUcmFuc3BvcnQgPSB0aGlzLnRtc2dUcmFuc3BvcnQgfHwgbmV3IFRhcmdldGVkTWVzc2FnaW5nVHJhbnNwb3J0KHRoaXMuc2Vzc2lvbklkKTtcclxuXHRcdGNvbnN0IHF1ZXJ5UGFyYW1TdHIgPSBidWlsZFF1ZXJ5UGFyYW1ldGVycyh0bXNnUXVlcnlQYXJhbXMpO1xyXG5cdFx0Y29uc3QgdG1zZ0Jhc2VVcmwgPSBnZXREeW5hbWljU2V0dGluZyhrZXksIGRlZmF1bHRCYXNlVXJsKTtcclxuXHRcdGNvbnN0IHJlcXVlc3RQcm9taXNlID0gdmVyYiA9PT0gXCJQT1NUXCIgP1xyXG5cdFx0XHR0aGlzLnRtc2dUcmFuc3BvcnQuc2VuZFBvc3RSZXF1ZXN0KHRtc2dCYXNlVXJsICsgcXVlcnlQYXJhbVN0ciwgcmVxdWVzdEJvZHksIGF1dGhUb2tlbikgOlxyXG5cdFx0XHR0aGlzLnRtc2dUcmFuc3BvcnQuc2VuZEdldFJlcXVlc3QodG1zZ0Jhc2VVcmwgKyBxdWVyeVBhcmFtU3RyLCBhdXRoVG9rZW4pO1xyXG5cdFx0cmV0dXJuIHJlcXVlc3RQcm9taXNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZXRyaWV2ZUNhY2hlSXRlbUFuZENyZWF0ZUNvbnRlbnRSZXNwb25zZShjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBDb250ZW50UmVzcG9uc2Uge1xyXG5cdFx0Y29uc3QgcmVzcG9uc2VJdGVtOiBDb250ZW50UmVzcG9uc2UgPSB0aGlzLmNyZWF0ZUNhY2hlZENvbnRlbnRSZXNwb25zZShjb250ZW50VHlwZSk7XHJcblx0XHRpZiAodGhpcy50bXNnQ2FjaGUuaXNJdGVtRXhwaXJlZChjb250ZW50VHlwZSkpIHtcclxuXHRcdFx0aWYgKGNvbnRlbnRUeXBlID09PSBDb250ZW50VHlwZS51c2VyRmFjdHMpIHtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hJdGVtc0luQ2FjaGVGcm9tVHVsaXBzU2VydmljZShjb250ZW50VHlwZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoSXRlbXNJbkNhY2hlRnJvbVRtc1NlcnZpY2UoW2NvbnRlbnRUeXBlXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXNwb25zZUl0ZW07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUNhY2hlZENvbnRlbnRSZXNwb25zZShyZXF1ZXN0ZWRDb250ZW50OiBDb250ZW50VHlwZSk6IENvbnRlbnRSZXNwb25zZSB7XHJcblx0XHRjb25zdCBjb250ZW50UmVzcG9uc2U6IENvbnRlbnRSZXNwb25zZSA9IG5ldyBDb250ZW50UmVzcG9uc2UoKTtcclxuXHRcdGNvbnRlbnRSZXNwb25zZS5jb250ZW50ID0gdGhpcy50bXNnQ2FjaGUuZ2V0SXRlbUNvbnRlbnQocmVxdWVzdGVkQ29udGVudCk7XHJcblx0XHRjb250ZW50UmVzcG9uc2UuY29udGVudFR5cGUgPSByZXF1ZXN0ZWRDb250ZW50O1xyXG5cclxuXHRcdHJldHVybiBjb250ZW50UmVzcG9uc2U7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGdldEF1dGhUb2tlbihhcHBJZE9yVXJpOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0aWYgKCF0aGlzLmF1dGhUb2tlbkNhbGxiYWNrIHx8ICF0aGlzLmF1dGhUb2tlbkNhbGxiYWNrLmdldEF1dGhUb2tlbikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGFydFRpbWUgPSArbmV3IERhdGUoKTtcclxuXHRcdGNvbnN0IGdldER1cmF0aW9uID0gKCkgPT4gK25ldyBEYXRlKCkgLSBzdGFydFRpbWU7XHJcblx0XHRjb25zdCBjcmVhdGVBdXRoVGVsZW1ldHJ5RGF0YSA9IChlcnJvck1lc3NhZ2U6IHN0cmluZyA9IHVuZGVmaW5lZCk6IExvZ2dpbmcuSUN1c3RvbVByb3BlcnRpZXMgPT4ge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxyXG5cdFx0XHRcdFNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXHJcblx0XHRcdFx0VGltZU1pbGxpc2Vjb25kczogZ2V0RHVyYXRpb24oKSxcclxuXHRcdFx0XHRUeXBlOiBhcHBJZE9yVXJpLFxyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCByZXRWYWwgPSBhd2FpdCB0aGlzLmF1dGhUb2tlbkNhbGxiYWNrLmdldEF1dGhUb2tlbihhcHBJZE9yVXJpKTtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLldlYlN1cmZhY2VzLkNvbW1vbi5JbmZvLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuSW5mbyxcclxuXHRcdFx0XHRjcmVhdGVBdXRoVGVsZW1ldHJ5RGF0YSgpKTtcclxuXHJcblx0XHRcdHJldHVybiByZXRWYWw7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuV2ViU3VyZmFjZXMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0Y3JlYXRlQXV0aFRlbGVtZXRyeURhdGEoXCJFcnJvciBnZXR0aW5nIHRva2VuIFwiICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UgPyBcIjogXCIgKyBlcnJvci5tZXNzYWdlIDogXCJcIikpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcmVmcmVzaEl0ZW1zSW5DYWNoZUZyb21UbXNTZXJ2aWNlKGNvbnRlbnRUeXBlczogQXJyYXk8Q29udGVudFR5cGU+KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRpZiAoY29udGVudFR5cGVzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgaWYgdG91Y2hlZCBpdGVtcyBhcmUgYWN0dWFsbHkgZHVlIGZvciByZWZyZXNoIG9yIGFyZSBzdGlsbCB2YWxpZFxyXG5cdFx0Y29uc3QgYnVsa1JlZnJlc2hMaXN0OiBDb250ZW50VHlwZVtdID0gbmV3IEFycmF5PENvbnRlbnRUeXBlPigpO1xyXG5cdFx0Zm9yIChsZXQgY29udGVudFR5cGUgb2YgY29udGVudFR5cGVzKSB7XHJcblx0XHRcdGlmICh0aGlzLnRtc2dDYWNoZS5pc0l0ZW1FeHBpcmVkKGNvbnRlbnRUeXBlKSkge1xyXG5cdFx0XHRcdGJ1bGtSZWZyZXNoTGlzdC5wdXNoKGNvbnRlbnRUeXBlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChidWxrUmVmcmVzaExpc3QubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdC8vIGV4aXQgb3V0IGlmIGFsbCBpdGVtcyBpbiBjYWNoZSBhcmUgc3RpbGwgdmFsaWQgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgc2VydmljZSByb3VuZHRyaXBzIFxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYWx3YXlzIHJlcXVlc3QgZm9yIGR5bmFtaWMgc2V0dGluZ3NcclxuXHRcdGlmIChjb250ZW50VHlwZXMuaW5kZXhPZihDb250ZW50VHlwZS5keW5hbWljU2V0dGluZ3MpID09PSAtMSkge1xyXG5cdFx0XHRjb250ZW50VHlwZXMucHVzaChDb250ZW50VHlwZS5keW5hbWljU2V0dGluZ3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGdldCBhdXRoIHRva2VuIG9yIHVzZXIgaWRcclxuXHRcdGNvbnN0IHRtc0FwcElkID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNBcHBJZCwgQ29uc3RhbnRzLkdVSURzLlRNU0FwcElEKTtcclxuXHRcdGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QXV0aFRva2VuKHRtc0FwcElkKTtcclxuXHRcdGxldCB1c2VyUHVpZDogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG5cdFx0aWYgKCFhdXRoVG9rZW4pIHtcclxuXHRcdFx0dXNlclB1aWQgPSB0aGlzLmF1dGhUb2tlbkNhbGxiYWNrLmdldFVzZXJQdWlkICYmIGF3YWl0IHRoaXMuYXV0aFRva2VuQ2FsbGJhY2suZ2V0VXNlclB1aWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gbWFrZSBzZXJ2aWNlIGNhbGwgZm9yIGV4cGlyZWQgb3IgdW5jYWNoZWQgaXRlbXNcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIGNhcHR1cmUgYnJvd3NlciBkYXRhIHRvIHBlcmZvcm0gYWRkaXRpb25hbCBmaWx0ZXJzIG9uIElSSVNcclxuXHRcdFx0Ly8gdGhpcyBpcyB0byBhdm9pZCBzaG93aW5nIGJhZCBVSSBleHBlcmllbmNlIG9uIHVuc3VwcG9ydGVkIGJyb3dzZXJzL2RpbWVuc2lvbnNcclxuXHRcdFx0Y29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQgJiYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0pO1xyXG5cdFx0XHRjb25zdCBicm93c2VyUGFyYW1zOiBJUXVlcnlQYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZVdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsXHJcblx0XHRcdFx0cGFnZUhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXHJcblx0XHRcdFx0c2NyZWVuV2lkdGg6IHNjcmVlbiA/IHNjcmVlbi53aWR0aCA6IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRzY3JlZW5IZWlnaHQ6IHNjcmVlbiA/IHNjcmVlbi5oZWlnaHQgOiB1bmRlZmluZWQsXHJcblx0XHRcdFx0Y29sb3JEZXB0aDogc2NyZWVuID8gc2NyZWVuLmNvbG9yRGVwdGggOiB1bmRlZmluZWQsXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBhbGxvdyB0ZXN0aW5nIHdpdGggcXVlcnkgcGFyYW0gb3ZlcnJpZGVzIHdpdGgga2V5IG9iZi1EZWJ1Z092ZXJyaWRlc1xyXG5cdFx0XHQvLyBlZzoge1wiYWRkVG1zUXVlcnlQYXJhbXNcIjp7XCJrZXkxXCI6XCJrZXkxdmFsdWVcIn0sXCJyZXBsYWNlVG1zUXVlcnlQYXJhbXNcIjp7XCJrZXkyXCI6XCJrZXkydmFsdWVcIn0sIFwidG1zUmVzcG9uc2VcIjoge319XHJcblx0XHRcdGNvbnN0IGRlYnVnT3ZlcnJpZGVzID0gRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnNhZmVSZWFkT2JqZWN0PElEZWJ1Z092ZXJyaWRlcz4oRmlsZVR5cGUuRGVidWdPdmVycmlkZXMsIHt9KTtcclxuXHRcdFx0Y29uc3QgdG1zUXVlcnlQYXJhbXM6IElRdWVyeVBhcmFtcyA9IGRlYnVnT3ZlcnJpZGVzLnJlcGxhY2VUbXNRdWVyeVBhcmFtcyB8fCB7XHJcblx0XHRcdFx0Y291bnRyeTogdGhpcy5jb3VudHJ5LFxyXG5cdFx0XHRcdGxvY2FsZTogdGhpcy5sb2NhbGUsXHJcblx0XHRcdFx0YXBwOiB0aGlzLmFwcCxcclxuXHRcdFx0XHRwbGF0Zm9ybTogdGhpcy5wbGF0Zm9ybSxcclxuXHRcdFx0XHR2ZXJzaW9uOiB0aGlzLnZlcnNpb24sXHJcblx0XHRcdFx0Y2FtcGFpZ25QYXJhbXM6IGJ1aWxkUXVlcnlQYXJhbWV0ZXJzKGJyb3dzZXJQYXJhbXMpICsgXCImbW9yZT10cnVlJlwiICsgKHRoaXMuY2FtcGFpZ25QYXJhbWV0ZXJzIHx8IFwiXCIpLFxyXG5cdFx0XHRcdGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZXMuam9pbihcIjtcIiksXHJcblx0XHRcdFx0cHVpZDogdXNlclB1aWQsXHJcblx0XHRcdFx0T0ZDX0ZMSUdIVFM6IHRoaXMuY2FtcGFpZ25GbGlnaHRzLFxyXG5cdFx0XHRcdC4uLihkZWJ1Z092ZXJyaWRlcy5hZGRUbXNRdWVyeVBhcmFtcyB8fCB7fSksXHJcblx0XHRcdFx0YWdlR3JvdXA6IHRoaXMuYWdlR3JvdXAsXHJcblx0XHRcdFx0YXV0aGVudGljYXRpb25UeXBlOiB0aGlzLmF1dGhlbnRpY2F0aW9uVHlwZSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoXHJcblx0XHRcdFx0dG1zUXVlcnlQYXJhbXMsXHJcblx0XHRcdFx0YXV0aFRva2VuLFxyXG5cdFx0XHRcdFNldHRpbmdLZXkudG1zU2VydmljZVVybCxcclxuXHRcdFx0XHR0aGlzLnRtc0Jhc2VVcmxQcmVmaXggKyBUbXNnQ29uc3RhbnRzLlRNU19DQU1QQUlHTk1FVEFEQVRBQUdHUkVHQVRPUl9FTkRQT0lOVCArIFwiP1wiKTtcclxuXHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XHJcblx0XHRcdFx0Y29uc3QgdG1zU2VydmljZVJlc3BvbnNlOiBJVG1zU2VydmljZVJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRcdFx0XHRpZiAoY29udGVudFR5cGVzLmluZGV4T2YoQ29udGVudFR5cGUubWVzc2FnZU1ldGFkYXRhKSAhPT0gLTFcclxuXHRcdFx0XHRcdCYmIHRtc1NlcnZpY2VSZXNwb25zZS5NZXNzYWdlTWV0YWRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0dGhpcy50bXNnQ2FjaGUuc2V0Q29udGVudEl0ZW0oXHJcblx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLm1lc3NhZ2VNZXRhZGF0YSxcclxuXHRcdFx0XHRcdFx0dG1zU2VydmljZVJlc3BvbnNlLk1lc3NhZ2VNZXRhZGF0YSxcclxuXHRcdFx0XHRcdFx0Z2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNNZXNzYWdlTWV0YWRhdGFFeHBpcnksIFRtc2dDb25zdGFudHMuQ0FDSEVfRVhQSVJZX01FU1NBR0VNRVRBREFUQSkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlcy5pbmRleE9mKENvbnRlbnRUeXBlLnVzZXJHb3Zlcm5hbmNlUnVsZXMpICE9PSAtMVxyXG5cdFx0XHRcdFx0JiYgdG1zU2VydmljZVJlc3BvbnNlLlVzZXJHb3Zlcm5hbmNlUnVsZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0dGhpcy50bXNnQ2FjaGUuc2V0Q29udGVudEl0ZW0oXHJcblx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLnVzZXJHb3Zlcm5hbmNlUnVsZXMsXHJcblx0XHRcdFx0XHRcdHRtc1NlcnZpY2VSZXNwb25zZS5Vc2VyR292ZXJuYW5jZVJ1bGVzLFxyXG5cdFx0XHRcdFx0XHRnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnRtc1VzZXJHb3Zlcm5hbmNlUnVsZXNFeHBpcnksIFRtc2dDb25zdGFudHMuQ0FDSEVfRVhQSVJZX1VTRVJHT1ZFUk5BTkNFUlVMRVMpKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChjb250ZW50VHlwZXMuaW5kZXhPZihDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQpICE9PSAtMVxyXG5cdFx0XHRcdFx0JiYgdG1zU2VydmljZVJlc3BvbnNlLkNhbXBhaWduQ29udGVudCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHR0aGlzLnRtc2dDYWNoZS5zZXRDb250ZW50SXRlbShcclxuXHRcdFx0XHRcdFx0Q29udGVudFR5cGUuY2FtcGFpZ25Db250ZW50LFxyXG5cdFx0XHRcdFx0XHR0bXNTZXJ2aWNlUmVzcG9uc2UuQ2FtcGFpZ25Db250ZW50LFxyXG5cdFx0XHRcdFx0XHRnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnRtc0NhbXBhaWduQ29udGVudEV4cGlyeSwgVG1zZ0NvbnN0YW50cy5DQUNIRV9FWFBJUllfQ0FNUEFJR05DT05URU5UKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBUaGVyZSBpcyBubyBleHBsaWNpdCByZXF1ZXN0IGZvciB0aGUgbmV4dCBzZXQgb2YgQ29udGVudFR5cGVzIGluIHRoZSBjb2RlXHJcblx0XHRcdFx0Ly8gSWYgdGhlIHNlcnZlciByZXNwb25kcyB3aXRoIHRoZXNlIHR5cGVzIHNhdmUgYW5kIHVzZSB0aGVtIGxhdGVyXHJcblx0XHRcdFx0aWYgKHRtc1NlcnZpY2VSZXNwb25zZS5EeW5hbWljU2V0dGluZ3MgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0dGhpcy50bXNnQ2FjaGUuc2V0Q29udGVudEl0ZW0oXHJcblx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5ncyxcclxuXHRcdFx0XHRcdFx0dG1zU2VydmljZVJlc3BvbnNlLkR5bmFtaWNTZXR0aW5ncyxcclxuXHRcdFx0XHRcdFx0Z2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNEeW5hbWljU2V0dGluZ3NFeHBpcnksIFRtc2dDb25zdGFudHMuQ0FDSEVfRVhQSVJZX0RZTkFNSUNTRVRUSU5HUykpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHRtc1NlcnZpY2VSZXNwb25zZS5Mb2dMZXZlbFNldHRpbmdzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRDb250ZW50VHlwZS5sb2dMZXZlbFNldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHR0bXNTZXJ2aWNlUmVzcG9uc2UuTG9nTGV2ZWxTZXR0aW5ncyxcclxuXHRcdFx0XHRcdFx0Z2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNMb2dMZXZlbFNldHRpbmdzRXhwaXJ5LCBUbXNnQ29uc3RhbnRzLkNBQ0hFX0VYUElSWV9MT0dMRVZFTFNFVFRJTkdTKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5XZWJTdXJmYWNlcy5NZXNzYWdpbmcuUmVxdWVzdHMuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkluZm8sXHJcblx0XHRcdFx0XHR0aGlzLmNyZWF0ZVRlbGVtZXRyeURhdGEocmVxdWVzdFN0YXJ0VGltZSwgcmVzcG9uc2UsIGNvbnRlbnRUeXBlcy5qb2luKFwiO1wiKSkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoXHJcblx0XHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLldlYlN1cmZhY2VzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0XHR0aGlzLmNyZWF0ZVRlbGVtZXRyeURhdGEocmVxdWVzdFN0YXJ0VGltZSwgcmVzcG9uc2UsIGNvbnRlbnRUeXBlcy5qb2luKFwiO1wiKSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuV2ViU3VyZmFjZXMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBcIkVycm9yIGZldGNoaW5nIGZyb20gVE1TXCIgKyAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSA/IFwiOiBcIiArIGVycm9yLm1lc3NhZ2UgOiBcIlwiKSxcclxuXHRcdFx0XHRcdC4uLnRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBjb250ZW50VHlwZXMuam9pbihcIjtcIikpLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyByZWZyZXNoSXRlbXNJbkNhY2hlRnJvbVR1bGlwc1NlcnZpY2UoY29udGVudFR5cGU6IENvbnRlbnRUeXBlKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBjaGVjayBpZiB0b3VjaGVkIGl0ZW0gaXMgYWN0dWFsbHkgZHVlIGZvciByZWZyZXNoIG9yIGlzIHN0aWxsIHZhbGlkXHJcblx0XHRpZiAoIXRoaXMudG1zZ0NhY2hlLmlzSXRlbUV4cGlyZWQoY29udGVudFR5cGUpKSB7XHJcblx0XHRcdC8vIGV4aXQgb3V0IGlmIHRoZSBjYWNoZSBpcyBzdGlsbCB2YWxpZCB0byBhdm9pZCB1bm5lY2Vzc2FyeSBzZXJ2aWNlIHJvdW5kdHJpcHNcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHR1bGlwc0FwcElkID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50dWxpcHNBcHBJZCwgQ29uc3RhbnRzLkdVSURzLlRVTElQU0FwcElEKTtcclxuXHRcdGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QXV0aFRva2VuKHR1bGlwc0FwcElkKTtcclxuXHRcdGlmICghYXV0aFRva2VuKSB7XHJcblx0XHRcdC8vIGlmIGF1dGhUb2tlbiBpcyBudWxsIHRoZW4gZXhpdCBvdXQgc2luY2Ugc2VydmljZSBjYWxsIGNhbm5vdCBiZSBtYWRlIHdpdGhvdXQgYXV0aFRva2VuXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gbWFrZSBzZXJ2aWNlIGNhbGwgZm9yIGV4cGlyZWQgb3IgdW5jYWNoZWQgaXRlbVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdChcclxuXHRcdFx0XHR7fSxcclxuXHRcdFx0XHRhdXRoVG9rZW4sXHJcblx0XHRcdFx0U2V0dGluZ0tleS50dWxpcHNTZXJ2aWNlVXJsLFxyXG5cdFx0XHRcdFRtc2dDb25zdGFudHMuVFVMSVBTX1NFUlZJQ0VVUkwpO1xyXG5cdFx0XHRpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcclxuXHRcdFx0XHRjb25zdCB0dWxpcHNTZXJ2aWNlUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG5cdFx0XHRcdGlmIChjb250ZW50VHlwZS5pbmRleE9mKENvbnRlbnRUeXBlLnVzZXJGYWN0cykgIT09IC0xXHJcblx0XHRcdFx0XHQmJiB0dWxpcHNTZXJ2aWNlUmVzcG9uc2UgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgbm9ybWFsaXplZFVzZXJGYWN0cyA9IHRoaXMuYWRkQ2xpZW50SW5nZXN0aW9uVGltZUFuZE5vcm1hbGl6ZUtleXModHVsaXBzU2VydmljZVJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLnVzZXJGYWN0cyxcclxuXHRcdFx0XHRcdFx0XHRub3JtYWxpemVkVXNlckZhY3RzLFxyXG5cdFx0XHRcdFx0XHRcdFRtc2dDb25zdGFudHMuQ0FDSEVfRVhQSVJZX1VTRVJGQUNUUyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5Vc2VyRmFjdHMuTWVzc2FnaW5nLlJlcXVlc3RzLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5JbmZvLFxyXG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIHJlc3BvbnNlLCBjb250ZW50VHlwZSkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoXHJcblx0XHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLlVzZXJGYWN0cy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIHJlc3BvbnNlLCBjb250ZW50VHlwZSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdEVycm9yTWVzc2FnZTogXCJFcnJvciBmZXRjaGluZyBmcm9tIFRVTElQU1wiICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UgPyBcIjogXCIgKyBlcnJvci5tZXNzYWdlIDogXCJcIiksXHJcblx0XHRcdFx0XHQuLi50aGlzLmNyZWF0ZVRlbGVtZXRyeURhdGEocmVxdWVzdFN0YXJ0VGltZSwgbnVsbCwgY29udGVudFR5cGUpLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRDbGllbnRJbmdlc3Rpb25UaW1lQW5kTm9ybWFsaXplS2V5cyh0dWxpcHNTZXJ2aWNlUmVzcG9uc2U6IFJlY29yZDxzdHJpbmcsIHN0cmluZz5bXSk6IEFwaS5JVXNlckZhY3RbXSB7XHJcblx0XHRjb25zdCBjdXJyZW50RGF0ZVRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpO1xyXG5cclxuXHRcdHJldHVybiB0dWxpcHNTZXJ2aWNlUmVzcG9uc2UubWFwKHJlc3BvbnNlRmFjdCA9PiB7XHJcblx0XHRcdGNvbnN0IGZhY3QgPSB0aGlzLm5vcm1hbGl6ZUtleXMocmVzcG9uc2VGYWN0KTtcclxuXHRcdFx0ZmFjdC5jbGllbnRJbmdlc3Rpb25EYXRlVGltZSA9IGN1cnJlbnREYXRlVGltZTtcclxuXHRcdFx0cmV0dXJuIGZhY3Q7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkQ2xpZW50SW5nZXN0aW9uVGltZUFuZE5vcm1hbGl6ZUtleXNJbkFycmF5KHVzZXJGYWN0czogQXBpLklVc2VyRmFjdFtdKTogQXBpLklVc2VyRmFjdFtdIHtcclxuXHRcdGNvbnN0IGN1cnJlbnREYXRlVGltZSA9IG5ldyBEYXRlKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG5cdFx0cmV0dXJuIHVzZXJGYWN0cy5tYXAodXNlckZhY3QgPT4ge1xyXG5cdFx0XHRjb25zdCBmYWN0ID0gdGhpcy5ub3JtYWxpemVLZXlzKHVzZXJGYWN0IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPik7XHJcblx0XHRcdGZhY3QuY2xpZW50SW5nZXN0aW9uRGF0ZVRpbWUgPSBjdXJyZW50RGF0ZVRpbWU7XHJcblx0XHRcdHJldHVybiBmYWN0O1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaGlzIG1ldGhvZCBub3JtYWxpemVzIHRoZSBrZXlzIG9mIHRoZSB1c2VyIGZhY3Qgb2JqZWN0IHJldHJpZXZlZCBmcm9tIHRoZSBUVUxJUFMgc2VydmljZS5cclxuXHQgKiBTcGVjaWZpY2FsbHkgaXQgY29udmVydHMgdGhlIGZpcnN0IGxldHRlciBvZiBlYWNoIGtleSBpbiB0aGUgb2JqZWN0IHRvIGxvd2VyIGNhc2UuXHJcblx0ICogRm9yIGV4YW1wbGUgdGhlIGtleSBcIlVzZXJGYWN0VHlwZVwiIHJldHVybmVkIGZyb20gdGhlIHNlcnZpY2Ugd2lsbCBiZSBjb252ZXJ0ZWQgdG8gXCJ1c2VyRmFjdFR5cGVcIi5cclxuXHQgKiBAcGFyYW0gdXNlckZhY3QgdGhlIHVzZXIgZmFjdCBvYmplY3RcclxuXHQgKi9cclxuXHRwcml2YXRlIG5vcm1hbGl6ZUtleXModXNlckZhY3Q6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHtcclxuXHRcdGNvbnN0IG5vcm1hbGl6ZWRVc2VyRmFjdCA9IHt9IGFzIEFwaS5JVXNlckZhY3Q7XHJcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh1c2VyRmFjdCkpIHtcclxuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZEtleSA9IChrZXkuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpKSBhcyBrZXlvZiBBcGkuSVVzZXJGYWN0O1xyXG5cdFx0XHRub3JtYWxpemVkVXNlckZhY3Rbbm9ybWFsaXplZEtleV0gPSB1c2VyRmFjdFtrZXldO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBub3JtYWxpemVkVXNlckZhY3Q7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingClient.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts":
/*!*********************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts ***!
  \*********************************************************************/
/*! exports provided: CACHE_EXPIRY_MESSAGEMETADATA, CACHE_EXPIRY_USERGOVERNANCERULES, CACHE_EXPIRY_CAMPAIGNCONTENT, CACHE_EXPIRY_DYNAMICSETTINGS, CACHE_EXPIRY_LOGLEVELSETTINGS, CACHE_EXPIRY_USERFACTS, TMS_BASEURL_PREFIX_EDOG, TMS_BASEURL_PREFIX_PROD, TMS_CAMPAIGNMETADATAAGGREGATOR_ENDPOINT, TMS_SETCAMPAIGNACTION_ENDPOINT, TMS_CAMPAIGN_LOAD_TIMEOUT, TMS_FETCH_TIMEOUT, TULIPS_SERVICEURL, TULIPS_LOAD_TIMEOUT, TULIPS_FETCH_TIMEOUT, TULIPS_INGESTION_TIME, AUGLOOP_INIT_CHECK_RETRY_TIMES */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CACHE_EXPIRY_MESSAGEMETADATA\", function() { return CACHE_EXPIRY_MESSAGEMETADATA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CACHE_EXPIRY_USERGOVERNANCERULES\", function() { return CACHE_EXPIRY_USERGOVERNANCERULES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CACHE_EXPIRY_CAMPAIGNCONTENT\", function() { return CACHE_EXPIRY_CAMPAIGNCONTENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CACHE_EXPIRY_DYNAMICSETTINGS\", function() { return CACHE_EXPIRY_DYNAMICSETTINGS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CACHE_EXPIRY_LOGLEVELSETTINGS\", function() { return CACHE_EXPIRY_LOGLEVELSETTINGS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CACHE_EXPIRY_USERFACTS\", function() { return CACHE_EXPIRY_USERFACTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TMS_BASEURL_PREFIX_EDOG\", function() { return TMS_BASEURL_PREFIX_EDOG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TMS_BASEURL_PREFIX_PROD\", function() { return TMS_BASEURL_PREFIX_PROD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TMS_CAMPAIGNMETADATAAGGREGATOR_ENDPOINT\", function() { return TMS_CAMPAIGNMETADATAAGGREGATOR_ENDPOINT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TMS_SETCAMPAIGNACTION_ENDPOINT\", function() { return TMS_SETCAMPAIGNACTION_ENDPOINT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TMS_CAMPAIGN_LOAD_TIMEOUT\", function() { return TMS_CAMPAIGN_LOAD_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TMS_FETCH_TIMEOUT\", function() { return TMS_FETCH_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TULIPS_SERVICEURL\", function() { return TULIPS_SERVICEURL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TULIPS_LOAD_TIMEOUT\", function() { return TULIPS_LOAD_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TULIPS_FETCH_TIMEOUT\", function() { return TULIPS_FETCH_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TULIPS_INGESTION_TIME\", function() { return TULIPS_INGESTION_TIME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AUGLOOP_INIT_CHECK_RETRY_TIMES\", function() { return AUGLOOP_INIT_CHECK_RETRY_TIMES; });\nvar CACHE_EXPIRY_MESSAGEMETADATA = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_USERGOVERNANCERULES = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_CAMPAIGNCONTENT = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_DYNAMICSETTINGS = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_LOGLEVELSETTINGS = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_USERFACTS = 86400000; // expiry in ms - 24hrs\r\nvar TMS_BASEURL_PREFIX_EDOG = \"https://messaging.officeppe.com/lifecycle/\";\r\nvar TMS_BASEURL_PREFIX_PROD = \"https://messaging.office.com/lifecycle/\";\r\nvar TMS_CAMPAIGNMETADATAAGGREGATOR_ENDPOINT = \"CampaignMetadataAggregator\";\r\nvar TMS_SETCAMPAIGNACTION_ENDPOINT = \"SetCampaignAction\";\r\nvar TMS_CAMPAIGN_LOAD_TIMEOUT = 1000;\r\nvar TMS_FETCH_TIMEOUT = 5000; // timeout for fetching tms service requests\r\nvar TULIPS_SERVICEURL = \"https://substrate.office.com/OfficePersonalizationUserLifecycle/api/facts\";\r\nvar TULIPS_LOAD_TIMEOUT = 1000;\r\nvar TULIPS_FETCH_TIMEOUT = 5000; // timeout for fetching tulips service requests\r\nvar TULIPS_INGESTION_TIME = 24 * 60 * 60 * 1000; // Tulips ingestion time\r\nvar AUGLOOP_INIT_CHECK_RETRY_TIMES = 5;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50cy50cz9hOTQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFPLElBQU0sNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3JFLElBQU0sZ0NBQWdDLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3pFLElBQU0sNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3JFLElBQU0sNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3JFLElBQU0sNkJBQTZCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3RFLElBQU0sc0JBQXNCLEdBQUcsUUFBUSxDQUFDLENBQUMsdUJBQXVCO0FBRWhFLElBQU0sdUJBQXVCLEdBQUcsNENBQTRDLENBQUM7QUFDN0UsSUFBTSx1QkFBdUIsR0FBRyx5Q0FBeUMsQ0FBQztBQUMxRSxJQUFNLHVDQUF1QyxHQUFHLDRCQUE0QixDQUFDO0FBQzdFLElBQU0sOEJBQThCLEdBQUcsbUJBQW1CLENBQUM7QUFDM0QsSUFBTSx5QkFBeUIsR0FBRyxJQUFJLENBQUM7QUFFdkMsSUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsQ0FBQyw0Q0FBNEM7QUFFNUUsSUFBTSxpQkFBaUIsR0FDN0IsMkVBQTJFLENBQUM7QUFFdEUsSUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7QUFFakMsSUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsQ0FBQywrQ0FBK0M7QUFFbEYsSUFBTSxxQkFBcUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyx3QkFBd0I7QUFFM0UsSUFBTSw4QkFBOEIsR0FBRyxDQUFDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBDQUNIRV9FWFBJUllfTUVTU0FHRU1FVEFEQVRBID0gMTQ0MDAwMDA7IC8vIGV4cGlyeSBpbiBtcyAtIDRocnNcclxuZXhwb3J0IGNvbnN0IENBQ0hFX0VYUElSWV9VU0VSR09WRVJOQU5DRVJVTEVTID0gMTQ0MDAwMDA7IC8vIGV4cGlyeSBpbiBtcyAtIDRocnNcclxuZXhwb3J0IGNvbnN0IENBQ0hFX0VYUElSWV9DQU1QQUlHTkNPTlRFTlQgPSAxNDQwMDAwMDsgLy8gZXhwaXJ5IGluIG1zIC0gNGhyc1xyXG5leHBvcnQgY29uc3QgQ0FDSEVfRVhQSVJZX0RZTkFNSUNTRVRUSU5HUyA9IDE0NDAwMDAwOyAvLyBleHBpcnkgaW4gbXMgLSA0aHJzXHJcbmV4cG9ydCBjb25zdCBDQUNIRV9FWFBJUllfTE9HTEVWRUxTRVRUSU5HUyA9IDE0NDAwMDAwOyAvLyBleHBpcnkgaW4gbXMgLSA0aHJzXHJcbmV4cG9ydCBjb25zdCBDQUNIRV9FWFBJUllfVVNFUkZBQ1RTID0gODY0MDAwMDA7IC8vIGV4cGlyeSBpbiBtcyAtIDI0aHJzXHJcblxyXG5leHBvcnQgY29uc3QgVE1TX0JBU0VVUkxfUFJFRklYX0VET0cgPSBcImh0dHBzOi8vbWVzc2FnaW5nLm9mZmljZXBwZS5jb20vbGlmZWN5Y2xlL1wiO1xyXG5leHBvcnQgY29uc3QgVE1TX0JBU0VVUkxfUFJFRklYX1BST0QgPSBcImh0dHBzOi8vbWVzc2FnaW5nLm9mZmljZS5jb20vbGlmZWN5Y2xlL1wiO1xyXG5leHBvcnQgY29uc3QgVE1TX0NBTVBBSUdOTUVUQURBVEFBR0dSRUdBVE9SX0VORFBPSU5UID0gXCJDYW1wYWlnbk1ldGFkYXRhQWdncmVnYXRvclwiO1xyXG5leHBvcnQgY29uc3QgVE1TX1NFVENBTVBBSUdOQUNUSU9OX0VORFBPSU5UID0gXCJTZXRDYW1wYWlnbkFjdGlvblwiO1xyXG5leHBvcnQgY29uc3QgVE1TX0NBTVBBSUdOX0xPQURfVElNRU9VVCA9IDEwMDA7XHJcblxyXG5leHBvcnQgY29uc3QgVE1TX0ZFVENIX1RJTUVPVVQgPSA1MDAwOyAvLyB0aW1lb3V0IGZvciBmZXRjaGluZyB0bXMgc2VydmljZSByZXF1ZXN0c1xyXG5cclxuZXhwb3J0IGNvbnN0IFRVTElQU19TRVJWSUNFVVJMID1cclxuXHRcImh0dHBzOi8vc3Vic3RyYXRlLm9mZmljZS5jb20vT2ZmaWNlUGVyc29uYWxpemF0aW9uVXNlckxpZmVjeWNsZS9hcGkvZmFjdHNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBUVUxJUFNfTE9BRF9USU1FT1VUID0gMTAwMDtcclxuXHJcbmV4cG9ydCBjb25zdCBUVUxJUFNfRkVUQ0hfVElNRU9VVCA9IDUwMDA7IC8vIHRpbWVvdXQgZm9yIGZldGNoaW5nIHR1bGlwcyBzZXJ2aWNlIHJlcXVlc3RzXHJcblxyXG5leHBvcnQgY29uc3QgVFVMSVBTX0lOR0VTVElPTl9USU1FID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gVHVsaXBzIGluZ2VzdGlvbiB0aW1lXHJcblxyXG5leHBvcnQgY29uc3QgQVVHTE9PUF9JTklUX0NIRUNLX1JFVFJZX1RJTUVTID0gNTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts":
/*!*********************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts ***!
  \*********************************************************************/
/*! exports provided: TargetedMessagingTransport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TargetedMessagingTransport\", function() { return TargetedMessagingTransport; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _Polyfills_Fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Polyfills/Fetch */ \"./scripts/app/Polyfills/Fetch.ts\");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingConstants */ \"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_3__[\"isNOU\"];\r\nvar TargetedMessagingTransport = /** @class */ (function () {\r\n    function TargetedMessagingTransport(sessionId) {\r\n        this.sessionId = sessionId;\r\n    }\r\n    TargetedMessagingTransport.prototype.sendGetRequest = function (requestUrl, token, useTimeout, timeout) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var requestInit;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                requestInit = {\r\n                    method: \"GET\",\r\n                    headers: this.createHeaders(token),\r\n                };\r\n                return [2 /*return*/, useTimeout ?\r\n                        this.timeoutFetch(requestUrl, requestInit, timeout !== null && timeout !== void 0 ? timeout : _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__[\"TMS_FETCH_TIMEOUT\"]) :\r\n                        fetch(requestUrl, requestInit)];\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingTransport.prototype.sendPostRequest = function (requestUrl, requestBody, token, useTimeout, timeout) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(this, void 0, void 0, function () {\r\n            var requestInit;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"])(this, function (_a) {\r\n                requestInit = {\r\n                    method: \"POST\",\r\n                    headers: this.createHeaders(token),\r\n                    body: requestBody,\r\n                };\r\n                return [2 /*return*/, useTimeout ?\r\n                        this.timeoutFetch(requestUrl, requestInit, timeout !== null && timeout !== void 0 ? timeout : _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__[\"TMS_FETCH_TIMEOUT\"]) :\r\n                        fetch(requestUrl, requestInit)];\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingTransport.prototype.createHeaders = function (token) {\r\n        var headers = typeof Headers !== \"undefined\" && new Headers();\r\n        if (headers) {\r\n            if (!isNOU(token)) {\r\n                headers.append(\"Authorization\", \"Bearer \" + token);\r\n            }\r\n            headers.append(\"X-CorrelationId\", _Utils__WEBPACK_IMPORTED_MODULE_3__[\"guid\"]());\r\n            if (this.sessionId) {\r\n                headers.append(\"X-UserSessionId\", this.sessionId);\r\n            }\r\n        }\r\n        return headers;\r\n    };\r\n    TargetedMessagingTransport.prototype.timeoutFetch = function (input, init, timeout) {\r\n        if (init === void 0) { init = {}; }\r\n        return new Promise(function (resolve, reject) {\r\n            fetch(input, init).then(resolve, reject);\r\n            setTimeout(function () { return reject(new Error(\"Service request timed out\")); }, timeout);\r\n        });\r\n    };\r\n    return TargetedMessagingTransport;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ1RyYW5zcG9ydC50cz8xMmE5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEI7QUFDaUM7QUFDM0I7QUFFMUIsU0FBSyxHQUFLLDRDQUFMLENBQVc7QUFFeEI7SUFDQyxvQ0FBb0IsU0FBa0I7UUFBbEIsY0FBUyxHQUFULFNBQVMsQ0FBUztJQUN0QyxDQUFDO0lBRVksbURBQWMsR0FBM0IsVUFBNEIsVUFBa0IsRUFBRSxLQUFjLEVBQUUsVUFBb0IsRUFBRSxPQUFnQjs7OztnQkFDL0YsV0FBVyxHQUFHO29CQUNuQixNQUFNLEVBQUUsS0FBSztvQkFDYixPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7aUJBQ2xDLENBQUM7Z0JBRUYsc0JBQU8sVUFBVSxDQUFDLENBQUM7d0JBQ2xCLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxPQUFPLGFBQVAsT0FBTyxjQUFQLE9BQU8sR0FBSSw2RUFBOEIsQ0FBQyxDQUFDLENBQUM7d0JBQ3ZGLEtBQUssQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLEVBQUM7OztLQUNoQztJQUVZLG9EQUFlLEdBQTVCLFVBQ0MsVUFBa0IsRUFBRSxXQUFtQixFQUFFLEtBQWMsRUFBRSxVQUFvQixFQUFFLE9BQWdCOzs7O2dCQUN6RixXQUFXLEdBQUc7b0JBQ25CLE1BQU0sRUFBRSxNQUFNO29CQUNkLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztvQkFDbEMsSUFBSSxFQUFFLFdBQVc7aUJBQ2pCLENBQUM7Z0JBRUYsc0JBQU8sVUFBVSxDQUFDLENBQUM7d0JBQ2xCLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxPQUFPLGFBQVAsT0FBTyxjQUFQLE9BQU8sR0FBSSw2RUFBOEIsQ0FBQyxDQUFDLENBQUM7d0JBQ3ZGLEtBQUssQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLEVBQUM7OztLQUNoQztJQUVTLGtEQUFhLEdBQXZCLFVBQXdCLEtBQWM7UUFDckMsSUFBTSxPQUFPLEdBQVksT0FBTyxPQUFPLEtBQUssV0FBVyxJQUFJLElBQUksT0FBTyxFQUFFLENBQUM7UUFDekUsSUFBSSxPQUFPLEVBQUU7WUFDWixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNsQixPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxTQUFTLEdBQUcsS0FBSyxDQUFDLENBQUM7YUFDbkQ7WUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLDJDQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDbkIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDbEQ7U0FDRDtRQUVELE9BQU8sT0FBTyxDQUFDO0lBQ2hCLENBQUM7SUFFTyxpREFBWSxHQUFwQixVQUFxQixLQUFrQixFQUFFLElBQXNCLEVBQUUsT0FBZTtRQUF2QyxnQ0FBc0I7UUFDOUQsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUN6QyxVQUFVLENBQUMsY0FBTSxhQUFNLENBQ3RCLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUMsRUFEdkIsQ0FDdUIsRUFDdkMsT0FBTyxDQUFDLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFDRixpQ0FBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ1RyYW5zcG9ydC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4uL1BvbHlmaWxscy9GZXRjaFwiO1xyXG5pbXBvcnQgKiBhcyBUbXNDb25zdGFudHMgZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDb25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYXJnZXRlZE1lc3NhZ2luZ1RyYW5zcG9ydCB7XHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBzZXNzaW9uSWQ/OiBzdHJpbmcpIHtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBzZW5kR2V0UmVxdWVzdChyZXF1ZXN0VXJsOiBzdHJpbmcsIHRva2VuPzogc3RyaW5nLCB1c2VUaW1lb3V0PzogYm9vbGVhbiwgdGltZW91dD86IG51bWJlcik6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuXHRcdGNvbnN0IHJlcXVlc3RJbml0ID0ge1xyXG5cdFx0XHRtZXRob2Q6IFwiR0VUXCIsXHJcblx0XHRcdGhlYWRlcnM6IHRoaXMuY3JlYXRlSGVhZGVycyh0b2tlbiksXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB1c2VUaW1lb3V0ID9cclxuXHRcdFx0dGhpcy50aW1lb3V0RmV0Y2gocmVxdWVzdFVybCwgcmVxdWVzdEluaXQsIHRpbWVvdXQgPz8gVG1zQ29uc3RhbnRzLlRNU19GRVRDSF9USU1FT1VUKSA6XHJcblx0XHRcdGZldGNoKHJlcXVlc3RVcmwsIHJlcXVlc3RJbml0KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBzZW5kUG9zdFJlcXVlc3QoXHJcblx0XHRyZXF1ZXN0VXJsOiBzdHJpbmcsIHJlcXVlc3RCb2R5OiBzdHJpbmcsIHRva2VuPzogc3RyaW5nLCB1c2VUaW1lb3V0PzogYm9vbGVhbiwgdGltZW91dD86IG51bWJlcik6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuXHRcdGNvbnN0IHJlcXVlc3RJbml0ID0ge1xyXG5cdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxyXG5cdFx0XHRoZWFkZXJzOiB0aGlzLmNyZWF0ZUhlYWRlcnModG9rZW4pLFxyXG5cdFx0XHRib2R5OiByZXF1ZXN0Qm9keSxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHVzZVRpbWVvdXQgP1xyXG5cdFx0XHR0aGlzLnRpbWVvdXRGZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0SW5pdCwgdGltZW91dCA/PyBUbXNDb25zdGFudHMuVE1TX0ZFVENIX1RJTUVPVVQpIDpcclxuXHRcdFx0ZmV0Y2gocmVxdWVzdFVybCwgcmVxdWVzdEluaXQpO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNyZWF0ZUhlYWRlcnModG9rZW4/OiBzdHJpbmcpOiBIZWFkZXJzIHtcclxuXHRcdGNvbnN0IGhlYWRlcnM6IEhlYWRlcnMgPSB0eXBlb2YgSGVhZGVycyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuZXcgSGVhZGVycygpO1xyXG5cdFx0aWYgKGhlYWRlcnMpIHtcclxuXHRcdFx0aWYgKCFpc05PVSh0b2tlbikpIHtcclxuXHRcdFx0XHRoZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGhlYWRlcnMuYXBwZW5kKFwiWC1Db3JyZWxhdGlvbklkXCIsIFV0aWxzLmd1aWQoKSk7XHJcblx0XHRcdGlmICh0aGlzLnNlc3Npb25JZCkge1xyXG5cdFx0XHRcdGhlYWRlcnMuYXBwZW5kKFwiWC1Vc2VyU2Vzc2lvbklkXCIsIHRoaXMuc2Vzc2lvbklkKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBoZWFkZXJzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0aW1lb3V0RmV0Y2goaW5wdXQ6IFJlcXVlc3RJbmZvLCBpbml0OiBSZXF1ZXN0SW5pdCA9IHt9LCB0aW1lb3V0OiBudW1iZXIpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRmZXRjaChpbnB1dCwgaW5pdCkudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHJlamVjdChcclxuXHRcdFx0XHRuZXcgRXJyb3IoXCJTZXJ2aWNlIHJlcXVlc3QgdGltZWQgb3V0XCIpKSxcclxuXHRcdFx0XHR0aW1lb3V0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts\n");

/***/ }),

/***/ "./scripts/app/TargetedMessaging/UserFactsProvider.ts":
/*!************************************************************!*\
  !*** ./scripts/app/TargetedMessaging/UserFactsProvider.ts ***!
  \************************************************************/
/*! exports provided: UserFactsProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserFactsProvider\", function() { return UserFactsProvider; });\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ \"./scripts/app/Configuration/DynamicConfiguration.ts\");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TargetedMessagingConstants */ \"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\");\n/* harmony import */ var _AssetsProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AssetsProvider */ \"./scripts/app/TargetedMessaging/AssetsProvider.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _LocalUserFactHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LocalUserFactHelper */ \"./scripts/app/TargetedMessaging/LocalUserFactHelper.ts\");\n/**\r\n * UserFactsProvider.ts\r\n *\r\n * Module for user facts provider.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar UserFactsProvider = /** @class */ (function () {\r\n    function UserFactsProvider() {\r\n        this.loadAsyncTriggered = false;\r\n        this.userFacts = [];\r\n        this.nameAndUserFactMap = {};\r\n    }\r\n    UserFactsProvider.prototype.load = function () {\r\n        if (!this.loadAsyncTriggered) {\r\n            this.loadAsync();\r\n            this.loadAsyncTriggered = true;\r\n        }\r\n        return this.userFacts || [];\r\n    };\r\n    UserFactsProvider.prototype.loadAsync = function () {\r\n        var _this = this;\r\n        var userFactsPromise = _AssetsProvider__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getUserFacts().then(function (userFacts) {\r\n            _this.loadUserFacts(userFacts);\r\n        });\r\n        var timeoutMilliseconds = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_0__[\"getDynamicSetting\"])(\"TulipsLoadTimeout\" /* tulipsLoadTimeout */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_1__[\"TULIPS_LOAD_TIMEOUT\"]);\r\n        var timeoutPromise = Object(_Utils__WEBPACK_IMPORTED_MODULE_4__[\"createTimeoutPromise\"])(timeoutMilliseconds, userFactsPromise);\r\n        return timeoutPromise.then(function () { return _this.userFacts; }).catch(function () {\r\n            if (!_this.userFacts || _this.userFacts.length <= 0) {\r\n                _this.loadUserFacts(_AssetsProvider__WEBPACK_IMPORTED_MODULE_2__[\"get\"]().getCachedUserFacts());\r\n            }\r\n            return _this.userFacts;\r\n        }).catch(function () { return _this.userFacts; });\r\n    };\r\n    UserFactsProvider.prototype.getUserFact = function (userFactName) {\r\n        var userFact = this.nameAndUserFactMap[userFactName];\r\n        if (userFact || this.nameAndUserFactMap.hasOwnProperty(userFactName)) {\r\n            return userFact;\r\n        }\r\n        userFact = this.nameAndUserFactMap[userFactName] = Object(_LocalUserFactHelper__WEBPACK_IMPORTED_MODULE_5__[\"getLocalUserFact\"])(userFactName);\r\n        return userFact;\r\n    };\r\n    UserFactsProvider.prototype.loadUserFacts = function (response) {\r\n        var _this = this;\r\n        if (response) {\r\n            this.userFacts = response || [];\r\n            this.userFacts.map(function (userFact) {\r\n                _this.nameAndUserFactMap[userFact.userFactName] = userFact;\r\n            });\r\n            this.loadAsyncTriggered = true;\r\n            this.logUserFactInfo(this.userFacts);\r\n        }\r\n    };\r\n    UserFactsProvider.prototype.logUserFactInfo = function (userFacts) {\r\n        if (!userFacts || userFacts.length <= 0) {\r\n            return;\r\n        }\r\n        var tulipsIngestionTimeInterval = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_0__[\"getDynamicSetting\"])(\"TulipsIngestionTimeInterval\" /* tulipsIngestionTimeInterval */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_1__[\"TULIPS_INGESTION_TIME\"]);\r\n        if (tulipsIngestionTimeInterval <= 0) {\r\n            return;\r\n        }\r\n        var userFactProperties;\r\n        try {\r\n            var nowDate_1 = Date.now();\r\n            var isExpired_1 = function (rawItemDate) {\r\n                var itemDate = Date.parse(rawItemDate);\r\n                return !isNaN(itemDate) ? nowDate_1 - itemDate > tulipsIngestionTimeInterval : true;\r\n            };\r\n            var factInfo = {\r\n                Count: userFacts.length,\r\n                RefreshTime: tulipsIngestionTimeInterval,\r\n                IngestionTime: userFacts[0].clientIngestionDateTime,\r\n                SourcesExpired: userFacts.filter(function (userFact) { return userFact && isExpired_1(userFact.sourceDateTime); }).length || undefined,\r\n                StoragesExpired: userFacts.filter(function (userFact) { return userFact && isExpired_1(userFact.storageDateTime); }).length || undefined,\r\n                IngestionsExpired: userFacts.filter(function (userFact) { return userFact && isExpired_1(userFact.clientIngestionDateTime); }).length || undefined,\r\n            };\r\n            userFactProperties = {\r\n                Message: \"UserFacts\",\r\n                Data: JSON.stringify(factInfo),\r\n            };\r\n        }\r\n        catch (error) {\r\n            userFactProperties = {\r\n                ErrorMessage: \"Error getting UserFact info\",\r\n            };\r\n        }\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__[\"EventIds\"].UserFacts.Provider.Info.VALUE, 3 /* Info */, userFactProperties);\r\n    };\r\n    return UserFactsProvider;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9Vc2VyRmFjdHNQcm92aWRlci50cz80Yjc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBR21GO0FBQ0k7QUFFdkM7QUFDTDtBQUVFO0FBQ1M7QUFFekQ7SUFBQTtRQUNTLHVCQUFrQixHQUFZLEtBQUssQ0FBQztRQUNwQyxjQUFTLEdBQW9CLEVBQUUsQ0FBQztRQUNoQyx1QkFBa0IsR0FBa0MsRUFBRSxDQUFDO0lBMEZoRSxDQUFDO0lBeEZPLGdDQUFJLEdBQVg7UUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFO1lBQzdCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1NBQy9CO1FBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRU0scUNBQVMsR0FBaEI7UUFBQSxpQkFjQztRQWJBLElBQU0sZ0JBQWdCLEdBQUcsbURBQWtCLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQVM7WUFDMUUsS0FBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMvQixDQUFDLENBQUMsQ0FBQztRQUVILElBQU0sbUJBQW1CLEdBQUcsNkZBQWlCLDhDQUErQiwrRUFBbUIsQ0FBQyxDQUFDO1FBQ2pHLElBQU0sY0FBYyxHQUFHLG1FQUFvQixDQUFDLG1CQUFtQixFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDbkYsT0FBTyxjQUFjLENBQUMsSUFBSSxDQUFDLGNBQU0sWUFBSSxDQUFDLFNBQVMsRUFBZCxDQUFjLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDdEQsSUFBSSxDQUFDLEtBQUksQ0FBQyxTQUFTLElBQUksS0FBSSxDQUFDLFNBQVMsQ0FB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dkQsQ0FBdUQsQ0FBQyxDQUFDLE1BQU0sSUFBSSxTQUFTO2FBQzVILENBQUM7WUFFRixrQkFBa0IsR0FBRztnQkFDcEIsT0FBTyxFQUFFLFdBQVc7Z0JBQ3BCLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzthQUM5QixDQUFDO1NBQ0Y7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNmLGtCQUFrQixHQUFHO2dCQUNwQixZQUFZLEVBQUUsNkJBQTZCO2FBQzNDLENBQUM7U0FDRjtRQUVELDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUMzQix5REFBZ0IsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLGdCQUU5QyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFDRix3QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9Vc2VyRmFjdHNQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBVc2VyRmFjdHNQcm92aWRlci50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHVzZXIgZmFjdHMgcHJvdmlkZXIuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgeyBnZXREeW5hbWljU2V0dGluZywgU2V0dGluZ0tleSB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IFRVTElQU19JTkdFU1RJT05fVElNRSwgVFVMSVBTX0xPQURfVElNRU9VVCB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29uc3RhbnRzXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBBc3NldHNQcm92aWRlciBmcm9tIFwiLi9Bc3NldHNQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmltcG9ydCB7IGNyZWF0ZVRpbWVvdXRQcm9taXNlIH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IGdldExvY2FsVXNlckZhY3QgfSBmcm9tIFwiLi9Mb2NhbFVzZXJGYWN0SGVscGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlckZhY3RzUHJvdmlkZXIgaW1wbGVtZW50cyBBcGkuSVVzZXJGYWN0UHJvdmlkZXIge1xyXG5cdHByaXZhdGUgbG9hZEFzeW5jVHJpZ2dlcmVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSB1c2VyRmFjdHM6IEFwaS5JVXNlckZhY3RbXSA9IFtdO1xyXG5cdHByaXZhdGUgbmFtZUFuZFVzZXJGYWN0TWFwOiBSZWNvcmQ8c3RyaW5nLCBBcGkuSVVzZXJGYWN0PiA9IHt9O1xyXG5cclxuXHRwdWJsaWMgbG9hZCgpOiBBcGkuSVVzZXJGYWN0W10ge1xyXG5cdFx0aWYgKCF0aGlzLmxvYWRBc3luY1RyaWdnZXJlZCkge1xyXG5cdFx0XHR0aGlzLmxvYWRBc3luYygpO1xyXG5cdFx0XHR0aGlzLmxvYWRBc3luY1RyaWdnZXJlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudXNlckZhY3RzIHx8IFtdO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvYWRBc3luYygpOiBQcm9taXNlPEFwaS5JVXNlckZhY3RbXT4ge1xyXG5cdFx0Y29uc3QgdXNlckZhY3RzUHJvbWlzZSA9IEFzc2V0c1Byb3ZpZGVyLmdldCgpLmdldFVzZXJGYWN0cygpLnRoZW4odXNlckZhY3RzID0+IHtcclxuXHRcdFx0dGhpcy5sb2FkVXNlckZhY3RzKHVzZXJGYWN0cyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCB0aW1lb3V0TWlsbGlzZWNvbmRzID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50dWxpcHNMb2FkVGltZW91dCwgVFVMSVBTX0xPQURfVElNRU9VVCk7XHJcblx0XHRjb25zdCB0aW1lb3V0UHJvbWlzZSA9IGNyZWF0ZVRpbWVvdXRQcm9taXNlKHRpbWVvdXRNaWxsaXNlY29uZHMsIHVzZXJGYWN0c1Byb21pc2UpO1xyXG5cdFx0cmV0dXJuIHRpbWVvdXRQcm9taXNlLnRoZW4oKCkgPT4gdGhpcy51c2VyRmFjdHMpLmNhdGNoKCgpID0+IHtcclxuXHRcdFx0aWYgKCF0aGlzLnVzZXJGYWN0cyB8fCB0aGlzLnVzZXJGYWN0cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdHRoaXMubG9hZFVzZXJGYWN0cyhBc3NldHNQcm92aWRlci5nZXQoKS5nZXRDYWNoZWRVc2VyRmFjdHMoKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0aGlzLnVzZXJGYWN0cztcclxuXHRcdH0pLmNhdGNoKCgpID0+IHRoaXMudXNlckZhY3RzKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRVc2VyRmFjdCh1c2VyRmFjdE5hbWU6IHN0cmluZykge1xyXG5cdFx0bGV0IHVzZXJGYWN0ID0gdGhpcy5uYW1lQW5kVXNlckZhY3RNYXBbdXNlckZhY3ROYW1lXTtcclxuXHRcdGlmICh1c2VyRmFjdCB8fCB0aGlzLm5hbWVBbmRVc2VyRmFjdE1hcC5oYXNPd25Qcm9wZXJ0eSh1c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRcdHJldHVybiB1c2VyRmFjdDtcclxuXHRcdH1cclxuXHJcblx0XHR1c2VyRmFjdCA9IHRoaXMubmFtZUFuZFVzZXJGYWN0TWFwW3VzZXJGYWN0TmFtZV0gPSBnZXRMb2NhbFVzZXJGYWN0KHVzZXJGYWN0TmFtZSk7XHJcblx0XHRyZXR1cm4gdXNlckZhY3Q7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvYWRVc2VyRmFjdHMocmVzcG9uc2U6IEFwaS5JVXNlckZhY3RbXSkge1xyXG5cdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdHRoaXMudXNlckZhY3RzID0gcmVzcG9uc2UgfHwgW107XHJcblx0XHRcdHRoaXMudXNlckZhY3RzLm1hcCgodXNlckZhY3QpID0+IHtcclxuXHRcdFx0XHR0aGlzLm5hbWVBbmRVc2VyRmFjdE1hcFt1c2VyRmFjdC51c2VyRmFjdE5hbWVdID0gdXNlckZhY3Q7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLmxvYWRBc3luY1RyaWdnZXJlZCA9IHRydWU7XHJcblx0XHRcdHRoaXMubG9nVXNlckZhY3RJbmZvKHRoaXMudXNlckZhY3RzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbG9nVXNlckZhY3RJbmZvKHVzZXJGYWN0czogQXBpLklVc2VyRmFjdFtdKSB7XHJcblx0XHRpZiAoIXVzZXJGYWN0cyB8fCB1c2VyRmFjdHMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCA9IGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudHVsaXBzSW5nZXN0aW9uVGltZUludGVydmFsLCBUVUxJUFNfSU5HRVNUSU9OX1RJTUUpO1xyXG5cdFx0aWYgKHR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCA8PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdXNlckZhY3RQcm9wZXJ0aWVzOiBMb2dnaW5nLklDdXN0b21Qcm9wZXJ0aWVzO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3Qgbm93RGF0ZSA9IERhdGUubm93KCk7XHJcblx0XHRcdGNvbnN0IGlzRXhwaXJlZCA9IChyYXdJdGVtRGF0ZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdFx0Y29uc3QgaXRlbURhdGUgPSBEYXRlLnBhcnNlKHJhd0l0ZW1EYXRlKTtcclxuXHRcdFx0XHRyZXR1cm4gIWlzTmFOKGl0ZW1EYXRlKSA/IG5vd0RhdGUgLSBpdGVtRGF0ZSA+IHR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCA6IHRydWU7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBmYWN0SW5mbyA9IHtcclxuXHRcdFx0XHRDb3VudDogdXNlckZhY3RzLmxlbmd0aCxcclxuXHRcdFx0XHRSZWZyZXNoVGltZTogdHVsaXBzSW5nZXN0aW9uVGltZUludGVydmFsLFxyXG5cdFx0XHRcdEluZ2VzdGlvblRpbWU6IHVzZXJGYWN0c1swXS5jbGllbnRJbmdlc3Rpb25EYXRlVGltZSxcclxuXHRcdFx0XHRTb3VyY2VzRXhwaXJlZDogdXNlckZhY3RzLmZpbHRlcih1c2VyRmFjdCA9PiB1c2VyRmFjdCAmJiBpc0V4cGlyZWQodXNlckZhY3Quc291cmNlRGF0ZVRpbWUpKS5sZW5ndGggfHwgdW5kZWZpbmVkLFxyXG5cdFx0XHRcdFN0b3JhZ2VzRXhwaXJlZDogdXNlckZhY3RzLmZpbHRlcih1c2VyRmFjdCA9PiB1c2VyRmFjdCAmJiBpc0V4cGlyZWQodXNlckZhY3Quc3RvcmFnZURhdGVUaW1lKSkubGVuZ3RoIHx8IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRJbmdlc3Rpb25zRXhwaXJlZDogdXNlckZhY3RzLmZpbHRlcih1c2VyRmFjdCA9PiB1c2VyRmFjdCAmJiBpc0V4cGlyZWQodXNlckZhY3QuY2xpZW50SW5nZXN0aW9uRGF0ZVRpbWUpKS5sZW5ndGggfHwgdW5kZWZpbmVkLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dXNlckZhY3RQcm9wZXJ0aWVzID0ge1xyXG5cdFx0XHRcdE1lc3NhZ2U6IFwiVXNlckZhY3RzXCIsXHJcblx0XHRcdFx0RGF0YTogSlNPTi5zdHJpbmdpZnkoZmFjdEluZm8pLFxyXG5cdFx0XHR9O1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dXNlckZhY3RQcm9wZXJ0aWVzID0ge1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogXCJFcnJvciBnZXR0aW5nIFVzZXJGYWN0IGluZm9cIixcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRMb2dnaW5nLkV2ZW50SWRzLlVzZXJGYWN0cy5Qcm92aWRlci5JbmZvLlZBTFVFLFxyXG5cdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkluZm8sXHJcblx0XHRcdHVzZXJGYWN0UHJvcGVydGllcyk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/UserFactsProvider.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Files/Manifest.ts":
/*!*************************************************!*\
  !*** ./scripts/app/Transport/Files/Manifest.ts ***!
  \*************************************************/
/*! exports provided: Manifest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Manifest\", function() { return Manifest; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ \"./scripts/app/Constants.ts\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Version__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../Version */ \"./scripts/app/Version.ts\");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../Window/Window */ \"./scripts/app/Window/Window.ts\");\n/**\r\n * Manifest.ts\r\n * Module for managing the manifest file\r\n */\r\n\r\n\r\n\r\n\r\nvar Manifest = /** @class */ (function () {\r\n    function Manifest(manifestType, appId, submitTime, type, clientFeedbackId, applicationGroup, telemetryGroup, webGroup) {\r\n        this.manifestData = {\r\n            appId: appId,\r\n            application: applicationGroup,\r\n            clientFeedbackId: clientFeedbackId,\r\n            manifestType: manifestType,\r\n            source: \"Client\",\r\n            submitTime: submitTime,\r\n            telemetry: telemetryGroup,\r\n            type: sanitizeType(type),\r\n            web: webGroup,\r\n            sdkVersion: _Constants__WEBPACK_IMPORTED_MODULE_0__[\"SDK_VERSION_PREFIX\"]\r\n                + (_Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.sdkVersion !== undefined ?\r\n                    _Window_Window__WEBPACK_IMPORTED_MODULE_3__[\"get\"]().OfficeBrowserFeedback.sdkVersion : _Version__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\r\n        };\r\n    }\r\n    Manifest.prototype.getExtendedManifestData = function () {\r\n        return this.manifestData.application.extendedManifestData;\r\n    };\r\n    Manifest.prototype.setComment = function (comment) {\r\n        this.manifestData.comment = comment;\r\n    };\r\n    Manifest.prototype.setEmail = function (email) {\r\n        this.manifestData.email = email;\r\n    };\r\n    Manifest.prototype.setCategory = function (category) {\r\n        this.manifestData.telemetry = this.manifestData.telemetry || {};\r\n        this.manifestData.telemetry.featureArea = category;\r\n    };\r\n    Manifest.prototype.setAppData = function (appData) {\r\n        this.manifestData.application = this.manifestData.application || {};\r\n        this.manifestData.application.appData = appData;\r\n    };\r\n    Manifest.prototype.setExtendedManifestData = function (extendedManifestData) {\r\n        this.manifestData.application = this.manifestData.application || {};\r\n        this.manifestData.application.extendedManifestData = extendedManifestData;\r\n    };\r\n    Manifest.prototype.setClientFeedbackId = function (clientFeedbackId) {\r\n        this.manifestData.clientFeedbackId = clientFeedbackId;\r\n    };\r\n    Manifest.prototype.getClientFeedbackId = function () {\r\n        return this.manifestData.clientFeedbackId;\r\n    };\r\n    Manifest.prototype.setComplianceInformation = function (authenticationType, ageGroup, sendFeedbackPolicyValue, sendSurveyPolicyValue, screenshotPolicyValue, emailPolicyValue) {\r\n        this.manifestData.complianceChecks = {\r\n            authenticationType: authenticationType,\r\n            ageGroup: ageGroup,\r\n            policyAllowFeedback: sendFeedbackPolicyValue,\r\n            policyAllowSurvey: sendSurveyPolicyValue,\r\n            policyAllowScreenshot: screenshotPolicyValue,\r\n            policyAllowContact: emailPolicyValue,\r\n        };\r\n    };\r\n    /**\r\n     * Set freeform custom values in manifest. Throws if values are already set.\r\n     * @param values the values as a JS object\r\n     */\r\n    Manifest.prototype.setValues = function (values) {\r\n        if (values) {\r\n            for (var field in values) {\r\n                if (values.hasOwnProperty(field)) {\r\n                    if (this.manifestData.hasOwnProperty(field)) {\r\n                        this.manifestData[field] = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"overrideValues\"](values[field], this.manifestData[field]);\r\n                    }\r\n                    else {\r\n                        this.manifestData[field] = values[field];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Manifest.prototype.getContent = function () {\r\n        return new Blob([JSON.stringify(this.manifestData)], { type: \"application/json\" });\r\n    };\r\n    return Manifest;\r\n}());\r\n\r\nfunction sanitizeType(type) {\r\n    if (type === \"Survey\") {\r\n        return type;\r\n    }\r\n    else {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_0__[\"FeedbackType\"][type];\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvRmlsZXMvTWFuaWZlc3QudHM/Y2NmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0dBR0c7QUFHa0U7QUFDOUI7QUFDRDtBQUNVO0FBRWhEO0lBR0Msa0JBQW1CLFlBQW9CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsSUFBMEIsRUFDckcsZ0JBQXdCLEVBQUUsZ0JBQTBDLEVBQUUsY0FBc0MsRUFDNUcsUUFBMEI7UUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNuQixLQUFLLEVBQUUsS0FBSztZQUNaLFdBQVcsRUFBRSxnQkFBZ0I7WUFDN0IsZ0JBQWdCLEVBQUUsZ0JBQWdCO1lBQ2xDLFlBQVksRUFBRSxZQUFZO1lBQzFCLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFNBQVMsRUFBRSxjQUFjO1lBQ3pCLElBQUksRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQ3hCLEdBQUcsRUFBRSxRQUFRO1lBQ2IsVUFBVSxFQUFFLDZEQUFrQjtrQkFDM0IsQ0FBQyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDO29CQUMvRCxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxnREFBTyxDQUFDO1NBQzFELENBQUM7SUFDSCxDQUFDO0lBRU0sMENBQXVCLEdBQTlCO1FBQ0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQztJQUMzRCxDQUFDO0lBRU0sNkJBQVUsR0FBakIsVUFBa0IsT0FBZTtRQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDckMsQ0FBQztJQUVNLDJCQUFRLEdBQWYsVUFBZ0IsS0FBYTtRQUM1QixJQUFJLENBQUMsWUFBWSxD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dHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWFuaWZlc3QudHNcclxuICogTW9kdWxlIGZvciBtYW5hZ2luZyB0aGUgbWFuaWZlc3QgZmlsZVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IElGaWxlIH0gZnJvbSBcIi4vSUZpbGVcIjtcclxuaW1wb3J0IHsgRmVlZGJhY2tUeXBlLCBTREtfVkVSU0lPTl9QUkVGSVggfSBmcm9tIFwiLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0IFZlcnNpb24gZnJvbSBcIi4vLi4vLi4vVmVyc2lvblwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vLi4vLi4vV2luZG93L1dpbmRvd1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hbmlmZXN0IGltcGxlbWVudHMgSUZpbGUge1xyXG5cdHByaXZhdGUgbWFuaWZlc3REYXRhOiBJTWFuaWZlc3REYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IobWFuaWZlc3RUeXBlOiBzdHJpbmcsIGFwcElkOiBudW1iZXIsIHN1Ym1pdFRpbWU6IHN0cmluZywgdHlwZTogTWFuaWZlc3RGZWVkYmFja1R5cGUsXHJcblx0XHRjbGllbnRGZWVkYmFja0lkOiBzdHJpbmcsIGFwcGxpY2F0aW9uR3JvdXA6IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgdGVsZW1ldHJ5R3JvdXA6IElNYW5pZmVzdERhdGFUZWxlbWV0cnksXHJcblx0XHR3ZWJHcm91cDogSU1hbmlmZXN0RGF0YVdlYikge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEgPSB7XHJcblx0XHRcdGFwcElkOiBhcHBJZCxcclxuXHRcdFx0YXBwbGljYXRpb246IGFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdGNsaWVudEZlZWRiYWNrSWQ6IGNsaWVudEZlZWRiYWNrSWQsXHJcblx0XHRcdG1hbmlmZXN0VHlwZTogbWFuaWZlc3RUeXBlLFxyXG5cdFx0XHRzb3VyY2U6IFwiQ2xpZW50XCIsXHJcblx0XHRcdHN1Ym1pdFRpbWU6IHN1Ym1pdFRpbWUsXHJcblx0XHRcdHRlbGVtZXRyeTogdGVsZW1ldHJ5R3JvdXAsXHJcblx0XHRcdHR5cGU6IHNhbml0aXplVHlwZSh0eXBlKSxcclxuXHRcdFx0d2ViOiB3ZWJHcm91cCxcclxuXHRcdFx0c2RrVmVyc2lvbjogU0RLX1ZFUlNJT05fUFJFRklYXHJcblx0XHRcdFx0KyAoV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5zZGtWZXJzaW9uICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdFx0V2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5zZGtWZXJzaW9uIDogVmVyc2lvbiksXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEV4dGVuZGVkTWFuaWZlc3REYXRhKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pZmVzdERhdGEuYXBwbGljYXRpb24uZXh0ZW5kZWRNYW5pZmVzdERhdGE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29tbWVudChjb21tZW50OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmNvbW1lbnQgPSBjb21tZW50O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmVtYWlsID0gZW1haWw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5ID0gdGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5IHx8IHt9O1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5LmZlYXR1cmVBcmVhID0gY2F0ZWdvcnk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0QXBwRGF0YShhcHBEYXRhOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmFwcGxpY2F0aW9uID0gdGhpcy5tYW5pZmVzdERhdGEuYXBwbGljYXRpb24gfHwge307XHJcblx0XHR0aGlzLm1hbmlmZXN0RGF0YS5hcHBsaWNhdGlvbi5hcHBEYXRhID0gYXBwRGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRFeHRlbmRlZE1hbmlmZXN0RGF0YShleHRlbmRlZE1hbmlmZXN0RGF0YTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm1hbmlmZXN0RGF0YS5hcHBsaWNhdGlvbiA9IHRoaXMubWFuaWZlc3REYXRhLmFwcGxpY2F0aW9uIHx8IHt9O1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEuYXBwbGljYXRpb24uZXh0ZW5kZWRNYW5pZmVzdERhdGEgPSBleHRlbmRlZE1hbmlmZXN0RGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDbGllbnRGZWVkYmFja0lkKGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEuY2xpZW50RmVlZGJhY2tJZCA9IGNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2xpZW50RmVlZGJhY2tJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFuaWZlc3REYXRhLmNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29tcGxpYW5jZUluZm9ybWF0aW9uKGF1dGhlbnRpY2F0aW9uVHlwZTogc3RyaW5nLCBhZ2VHcm91cDogc3RyaW5nLCBzZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZTogc3RyaW5nLFxyXG5cdFx0c2VuZFN1cnZleVBvbGljeVZhbHVlOiBzdHJpbmcsIHNjcmVlbnNob3RQb2xpY3lWYWx1ZTogc3RyaW5nLCBlbWFpbFBvbGljeVZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmNvbXBsaWFuY2VDaGVja3MgPSB7XHJcblx0XHRcdGF1dGhlbnRpY2F0aW9uVHlwZTogYXV0aGVudGljYXRpb25UeXBlLFxyXG5cdFx0XHRhZ2VHcm91cDogYWdlR3JvdXAsXHJcblx0XHRcdHBvbGljeUFsbG93RmVlZGJhY2s6IHNlbmRGZWVkYmFja1BvbGljeVZhbHVlLFxyXG5cdFx0XHRwb2xpY3lBbGxvd1N1cnZleTogc2VuZFN1cnZleVBvbGljeVZhbHVlLFxyXG5cdFx0XHRwb2xpY3lBbGxvd1NjcmVlbnNob3Q6IHNjcmVlbnNob3RQb2xpY3lWYWx1ZSxcclxuXHRcdFx0cG9saWN5QWxsb3dDb250YWN0OiBlbWFpbFBvbGljeVZhbHVlLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmcmVlZm9ybSBjdXN0b20gdmFsdWVzIGluIG1hbmlmZXN0LiBUaHJvd3MgaWYgdmFsdWVzIGFyZSBhbHJlYWR5IHNldC5cclxuXHQgKiBAcGFyYW0gdmFsdWVzIHRoZSB2YWx1ZXMgYXMgYSBKUyBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0VmFsdWVzKHZhbHVlczogb2JqZWN0KSB7XHJcblx0XHRpZiAodmFsdWVzKSB7XHJcblx0XHRcdGZvciAobGV0IGZpZWxkIGluIHZhbHVlcykge1xyXG5cdFx0XHRcdGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5tYW5pZmVzdERhdGEuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0XHRcdCg8YW55PiB0aGlzLm1hbmlmZXN0RGF0YSlbZmllbGRdID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMoKDxhbnk+IHZhbHVlcylbZmllbGRdLCAoPGFueT4gdGhpcy5tYW5pZmVzdERhdGEpW2ZpZWxkXSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQoPGFueT4gdGhpcy5tYW5pZmVzdERhdGEpW2ZpZWxkXSA9ICg8YW55PiB2YWx1ZXMpW2ZpZWxkXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDb250ZW50KCk6IEJsb2Ige1xyXG5cdFx0cmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh0aGlzLm1hbmlmZXN0RGF0YSldLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiIH0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2FuaXRpemVUeXBlKHR5cGU6IE1hbmlmZXN0RmVlZGJhY2tUeXBlKTogc3RyaW5nIHtcclxuXHRpZiAodHlwZSA9PT0gXCJTdXJ2ZXlcIikge1xyXG5cdFx0cmV0dXJuIHR5cGU7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBGZWVkYmFja1R5cGVbdHlwZV07XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBNYW5pZmVzdEZlZWRiYWNrVHlwZSA9IEZlZWRiYWNrVHlwZSB8IFwiU3VydmV5XCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciB0aGUgbWFuaWZlc3QgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhIHtcclxuXHQvLyAjcmVnaW9uIFwiUmVxdWlyZWQgcHJvcGVydGllc1wiXHJcblx0bWFuaWZlc3RUeXBlOiBzdHJpbmc7XHJcblx0YXBwSWQ6IG51bWJlcjtcclxuXHRzdWJtaXRUaW1lOiBzdHJpbmc7XHJcblx0c291cmNlOiBzdHJpbmc7XHJcblx0dHlwZTogc3RyaW5nO1xyXG5cdGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHRzZGtWZXJzaW9uOiBzdHJpbmc7XHJcblx0Ly8gI2VuZHJlZ2lvbiBcIlJlcXVpcmVkIHByb3BlcnRpZXNcIlxyXG5cdGNvbW1lbnQ/OiBzdHJpbmc7XHJcblx0ZW1haWw/OiBzdHJpbmc7XHJcblx0cmF0aW5nPzogbnVtYmVyO1xyXG5cdHN1cnZleT86IElNYW5pZmVzdERhdGFTdXJ2ZXk7XHJcblx0d2ViPzogSU1hbmlmZXN0RGF0YVdlYjtcclxuXHRhcHBsaWNhdGlvbj86IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbjtcclxuXHR0ZWxlbWV0cnk/OiBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5O1xyXG5cdGNvbXBsaWFuY2VDaGVja3M/OiBJTWFuaWZlc3RDb21wbGlhbmNlQ2hlY2tzO1xyXG59XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciBzdXJ2ZXkgcmVsYXRlZCBwcm9wZXJ0aWVzIGluIG1hbmlmZXN0XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElNYW5pZmVzdERhdGFTdXJ2ZXkge1xyXG5cdHN1cnZleUlkOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGFwcGxpY2F0aW9uIHJlbGF0ZWQgcHJvcGVydGllcyBpbiBtYW5pZmVzdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhQXBwbGljYXRpb24ge1xyXG5cdGFwcERhdGE/OiBzdHJpbmc7XHJcblx0ZXh0ZW5kZWRNYW5pZmVzdERhdGE/OiBzdHJpbmc7XHJcblx0ZmVlZGJhY2tUZW5hbnQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHRlbGVtZXRyeSByZWxhdGVkIHByb3BlcnRpZXMgaW4gbWFuaWZlc3RcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSB7XHJcblx0YXVkaWVuY2U/OiBzdHJpbmc7XHJcblx0YXVkaWVuY2VHcm91cD86IHN0cmluZztcclxuXHRjaGFubmVsPzogc3RyaW5nO1xyXG5cdGRldmljZUlkPzogc3RyaW5nO1xyXG5cdGRldmljZVR5cGU/OiBzdHJpbmc7XHJcblx0ZXJyb3JDbGFzc2lmaWNhdGlvbj86IHN0cmluZztcclxuXHRlcnJvckNvZGU/OiBzdHJpbmc7XHJcblx0ZXJyb3JOYW1lPzogc3RyaW5nO1xyXG5cdGZlYXR1cmVBcmVhPzogc3RyaW5nO1xyXG5cdGZsaWdodHM/OiBzdHJpbmc7XHJcblx0ZmxpZ2h0U291cmNlPzogc3RyaW5nO1xyXG5cdGZ1bmRhbWVudGFsQXJlYT86IHN0cmluZztcclxuXHRpbnN0YWxsYXRpb25UeXBlPzogc3RyaW5nO1xyXG5cdGlzTG9nSW5jbHVkZWQ/OiBib29sZWFuO1xyXG5cdGlzVXNlclN1YnNjcmliZXI/OiBib29sZWFuO1xyXG5cdGxvZ2dhYmxlVXNlcklkPzogc3RyaW5nO1xyXG5cdG9mZmljZUFyY2hpdGVjdHVyZT86IHN0cmluZztcclxuXHRvZmZpY2VCdWlsZD86IHN0cmluZztcclxuXHRvZmZpY2VFZGl0aW5nTGFuZz86IG51bWJlcjtcclxuXHRvZmZpY2VVSUxhbmc/OiBudW1iZXI7XHJcblx0b3NCaXRuZXNzPzogbnVtYmVyO1xyXG5cdG9zQnVpbGQ/OiBzdHJpbmc7XHJcblx0b3NVc2VyTGFuZz86IG51bWJlcjtcclxuXHRwbGF0Zm9ybT86IHN0cmluZztcclxuXHRwcm9jZXNzU2Vzc2lvbklkPzogc3RyaW5nO1xyXG5cdHJpbmdJZD86IG51bWJlcjtcclxuXHRza3U/OiBzdHJpbmc7XHJcblx0c291cmNlQ29udGV4dD86IHN0cmluZztcclxuXHRzeXN0ZW1Qcm9kdWN0TmFtZT86IHN0cmluZztcclxuXHRzeXN0ZW1NYW51ZmFjdHVyZXI/OiBzdHJpbmc7XHJcblx0dGVuYW50SWQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHdlYiByZWxhdGVkIHByb3BlcnRpZXMgaW4gbWFuaWZlc3RcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1hbmlmZXN0RGF0YVdlYiB7XHJcblx0YnJvd3Nlcj86IHN0cmluZztcclxuXHRicm93c2VyVmVyc2lvbj86IHN0cmluZztcclxuXHRkYXRhQ2VudGVyPzogc3RyaW5nO1xyXG5cdHNvdXJjZVBhZ2VOYW1lPzogc3RyaW5nO1xyXG5cdHNvdXJjZVBhZ2VVUkk/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGNvbXBsaWFuY2UgY2hlY2tzIHJlbGF0ZWQgcHJvcGVydGllcyBpbiBtYW5pZmVzdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3RDb21wbGlhbmNlQ2hlY2tzIHtcclxuXHRhdXRoZW50aWNhdGlvblR5cGU/OiBzdHJpbmc7XHJcblx0YWdlR3JvdXA/OiBzdHJpbmc7XHJcblx0cG9saWN5QWxsb3dGZWVkYmFjaz86IHN0cmluZztcclxuXHRwb2xpY3lBbGxvd1N1cnZleT86IHN0cmluZztcclxuXHRwb2xpY3lBbGxvd1NjcmVlbnNob3Q/OiBzdHJpbmc7XHJcblx0cG9saWN5QWxsb3dDb250YWN0Pzogc3RyaW5nO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Files/Manifest.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Files/Screenshot.ts":
/*!***************************************************!*\
  !*** ./scripts/app/Transport/Files/Screenshot.ts ***!
  \***************************************************/
/*! exports provided: Screenshot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Screenshot\", function() { return Screenshot; });\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/**\r\n * Screenshot.ts\r\n * Module for managing the screenshot file\r\n */\r\n\r\nvar Screenshot = /** @class */ (function () {\r\n    function Screenshot(screenshot) {\r\n        this.screenshot = screenshot;\r\n    }\r\n    Screenshot.prototype.getContent = function () {\r\n        var imgString;\r\n        try {\r\n            imgString = this.screenshot.toDataURL(\"image/jpeg\").split(\",\")[1];\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__[\"EventIds\"].Shared.Screenshot.GetContent.Failed.DefaultImage.Returned.VALUE, 2 /* Error */, { ErrorMessage: e.toString() });\r\n            // return an image with \"Screenshot cannot be captured\" message\r\n            imgString = \"iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII=\";\r\n        }\r\n        var blobBin = atob(imgString);\r\n        var array = [];\r\n        for (var i = 0; i < blobBin.length; i++) {\r\n            array.push(blobBin.charCodeAt(i));\r\n        }\r\n        var file = new Blob([new Uint8Array(array)], { type: \"image/jpeg\" });\r\n        return file;\r\n    };\r\n    return Screenshot;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvRmlsZXMvU2NyZWVuc2hvdC50cz83OTlmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7R0FHRztBQUlnRDtBQUVuRDtJQUdDLG9CQUFhLFVBQTZCO1FBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQzlCLENBQUM7SUFFTSwrQkFBVSxHQUFqQjtRQUNDLElBQUksU0FBaUIsQ0FBQztRQUN0QixJQUFJO1lBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsRTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxpQkFDcEYsRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUV6RCwrREFBK0Q7WUFDL0QsU0FBUyxHQUFHLGs1QkFBazVCLENBQUM7U0FDLzVCO1FBRUQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxJQUFJLEdBQVMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxFQUFFLFlBQVksRUFBQyxDQUFDLENBQUM7UUFFekUsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBQ0YsaUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVHJhbnNwb3J0L0ZpbGVzL1NjcmVlbnNob3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2NyZWVuc2hvdC50c1xyXG4gKiBNb2R1bGUgZm9yIG1hbmFnaW5nIHRoZSBzY3JlZW5zaG90IGZpbGVcclxuICovXHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZSBtYXgtbGluZS1sZW5ndGggKi9cclxuaW1wb3J0IHtJRmlsZX0gZnJvbSBcIi4vSUZpbGVcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi8uLi8uLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JlZW5zaG90IGltcGxlbWVudHMgSUZpbGUge1xyXG5cdHByaXZhdGUgc2NyZWVuc2hvdDogSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yIChzY3JlZW5zaG90OiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG5cdFx0dGhpcy5zY3JlZW5zaG90ID0gc2NyZWVuc2hvdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDb250ZW50KCk6IEJsb2Ige1xyXG5cdFx0bGV0IGltZ1N0cmluZzogc3RyaW5nO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aW1nU3RyaW5nID0gdGhpcy5zY3JlZW5zaG90LnRvRGF0YVVSTChcImltYWdlL2pwZWdcIikuc3BsaXQoXCIsXCIpWzFdO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuR2V0Q29udGVudC5GYWlsZWQuRGVmYXVsdEltYWdlLlJldHVybmVkLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsIHsgRXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCkgfSk7XHJcblxyXG5cdFx0XHQvLyByZXR1cm4gYW4gaW1hZ2Ugd2l0aCBcIlNjcmVlbnNob3QgY2Fubm90IGJlIGNhcHR1cmVkXCIgbWVzc2FnZVxyXG5cdFx0XHRpbWdTdHJpbmcgPSBcImlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFOMEFBQUErQVFNQUFBQ1Yyb3gxQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUFaUVRGUkZBQUFBLy8vL3BkbWYzUUFBQUFsd1NGbHpBQUFPd2dBQURzSUJGU2hLZ0FBQUFqdEpSRUZVU01mVjFNMXJFMEVVQUhEQmE1cjhBOXZrTDZnaUZpSTBKSCtJaDlLTHg4VGF1a2tKdWdTaEhnckp6WXZrVlBRa1VxZ3dTZVBMRUVMYVUrekJnOEpLVnZTUVFOeWRsc2Fkd0NRenppUlo4MkVUeFlNZmMzZ0Q4K014anpjZlY4VDgwZjB2a1E4aTY4dEFQU01TUTBQa0k2UURwRVBrWkJIeTFXcDEvempuaTJsclpxMlQydWlrREcxN0E1NEhyMHZzdndYSWwzV1h0MDJ6ZUlIUUJTcTNEeEhrN1ZPNTV6SUZnTExyY21hYVFCR2lxQ3dRQXJCVlFUYk5aT0ROQkI1RWUyRUVyNWVHaURHNGs1bWNxY3krS3NoK044SzIrYlJJMVo2OGZSTVZvVitYbWNGd3BRSlpHb2hwa2RzMVd0anBwR0xhcTUxYTJiOHlwMzEwVVc5L0g4VmZSajY4Q0lLUnNXQ0ZQQ0NFTTQxOVM0YlNBT21QbWRiM1RCclE0bG1udDluNC9IaXY1ZlR1bnNPelhiSmZMUjJyVTNGZDV1Z09lOW13MGx2Tk9DTnh5RGRJSGtwSEN2MFMzYStNUzB5VCs0d2tBS3gxZ0JKZVZ4ZU1SaFNlTlpwWEpmWSt6cUFWbCtnMG1DRlJKTWdzNm95OStNQ01yV1phSkp3aVdGanVXY0lTaGYrV2syVzllNTlPSHUyMVdQZHNzd1pOTEtzOXdWNzdtSmlhTVZiQlErLzFqR1pEb2ZGTHVPQlUvanpHNk9RS25rTE9aNUV2d29sTVgyUTE5VEFYOU1XeXkvYU5hcmV3ZlpwdGVjaGRMbjhCM1RhdEIvWVhCMmo0TUt3M2pUSEtYNEFPMENicWFTZGRNb2tIVWJyMFBwU1htRkc0TzRXSXU4NmFzQ1ZpaGZvTTZuVW1zZTVnR2tiSk95VGhWZXNYNFVJMGQwMExCWU1yNTVWdUlabDhNa1kxdU9pVHk5djNjK1NodVhqNStOZFFkTDhCKzVnbXc4V1p1UkVBQUFBQVNVVk9SSzVDWUlJPVwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBibG9iQmluID0gYXRvYihpbWdTdHJpbmcpO1xyXG5cdFx0bGV0IGFycmF5ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGJsb2JCaW4ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0YXJyYXkucHVzaChibG9iQmluLmNoYXJDb2RlQXQoaSkpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGZpbGU6IEJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXSwge3R5cGU6IFwiaW1hZ2UvanBlZ1wifSk7XHJcblxyXG5cdFx0cmV0dXJuIGZpbGU7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Files/Screenshot.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Petrol.ts":
/*!*****************************************!*\
  !*** ./scripts/app/Transport/Petrol.ts ***!
  \*****************************************/
/*! exports provided: send */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"send\", function() { return send; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n\r\nvar HTTP_TIMEOUT = 8000; // timeout in milliseconds\r\n/**\r\n * Make an http request with retries\r\n * @param method the http method \"GET\", \"POST\" etc\r\n * @param url the url\r\n * @param requestBody the request body\r\n * @param maxRetries the maximum number of retries\r\n * @param onLoad the onload handler\r\n */\r\nfunction makeHttpRequest(method, url, requestBody, maxRetries, onLoad) {\r\n    var makeRequest = function (retries, timeout) {\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(method, url, true);\r\n            xhr.timeout = timeout;\r\n            xhr.onload = function () { onLoad(xhr, resolve, reject); };\r\n            xhr.ontimeout = function () {\r\n                if (retries > 0) {\r\n                    // double the timeout and retry it\r\n                    makeRequest(retries - 1, timeout * 2).then(resolve, reject);\r\n                }\r\n                else {\r\n                    reject(new Error(\"Request to '\" + url + \"' timed out. timeout: \" + xhr.timeout));\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                if (retries > 0) {\r\n                    makeRequest(retries - 1, timeout).then(resolve, reject);\r\n                }\r\n                else {\r\n                    reject(new Error(\"Request to '\" + url + \"' errored. \" + xhr.status + \" - \" + xhr.statusText + \" : \" + xhr.responseText));\r\n                }\r\n            };\r\n            xhr.send(requestBody);\r\n        });\r\n    };\r\n    // get the input timeout or using the default value if timeout is not defined\r\n    var httpTimeout = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getCommonInitOptions().petrolTimeout\r\n        ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__[\"get\"]().getCommonInitOptions().petrolTimeout\r\n        : HTTP_TIMEOUT;\r\n    return makeRequest(maxRetries, httpTimeout);\r\n}\r\nvar uploadEndpointInt = \"https://petrol-int.office.microsoft.com/v1/feedback\";\r\nvar uploadEndpointProd = \"https://petrol.office.microsoft.com/v1/feedback\";\r\n/**\r\n * Send a payload to Petrol\r\n * @param isProduction is production?\r\n * @param manifest manifest content\r\n * @param screenshot screenshot content\r\n * @param diagnostics diagnostics content\r\n */\r\nfunction send(isProduction, manifest, screenshot, diagnostics) {\r\n    if (manifest === undefined) {\r\n        return Promise.reject(new Error(\"Manifest cannot be undefined\"));\r\n    }\r\n    var formData = new FormData();\r\n    formData.append(\"Manifest\", manifest);\r\n    if (screenshot) {\r\n        formData.append(\"Screenshot\", screenshot);\r\n    }\r\n    if (diagnostics) {\r\n        formData.append(\"Diagnostics\", diagnostics);\r\n    }\r\n    return makeHttpRequest(\"POST\", isProduction ? uploadEndpointProd : uploadEndpointInt, formData, 2, function (xhr, resolve, reject) {\r\n        if (xhr.status !== 200) {\r\n            reject(new Error(\"Non-200 response with status code: \" + xhr.status + \", response: \" + xhr.responseText));\r\n        }\r\n        resolve();\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvUGV0cm9sLnRzPzU4NjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQWdFO0FBRWhFLElBQU0sWUFBWSxHQUFXLElBQUksQ0FBQyxDQUFDLDBCQUEwQjtBQUM3RDs7Ozs7OztHQU9HO0FBQ0gsU0FBUyxlQUFlLENBQUksTUFBYyxFQUFFLEdBQVcsRUFBRSxXQUFnQixFQUFFLFVBQWtCLEVBQzVGLE1BQWtHO0lBRWxHLElBQUksV0FBVyxHQUNkLFVBQUMsT0FBZSxFQUFFLE9BQWU7UUFDaEMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xDLElBQUksR0FBRyxHQUFtQixJQUFJLGNBQWMsRUFBRSxDQUFDO1lBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM1QixHQUFHLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUN0QixHQUFHLENBQUMsTUFBTSxHQUFHLGNBQVEsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckQsR0FBRyxDQUFDLFNBQVMsR0FBRztnQkFDZixJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7b0JBQ2hCLGtDQUFrQztvQkFDbEMsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQzVEO3FCQUFNO29CQUNOLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxpQkFBZSxHQUFHLDhCQUF5QixHQUFHLENBQUMsT0FBUyxDQUFDLENBQUMsQ0FBQztpQkFDNUU7WUFDRixDQUFDLENBQUM7WUFDRixHQUFHLENBQUMsT0FBTyxHQUFHO2dCQUNiLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRTtvQkFDaEIsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztpQkFDeEQ7cUJBQU07b0JBQ04sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLGlCQUFlLEdBQUcsbUJBQWMsR0FBRyxDQUFDLE1BQU0sV0FBTSxHQUFHLENBQUMsVUFBVSxXQUFNLEdBQUcsQ0FBQyxZQUFjLENBQUMsQ0FBQyxDQUFDO2lCQUMxRztZQUNGLENBQUMsQ0FBQztZQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFFSCw2RUFBNkU7SUFDN0UsSUFBTSxXQUFXLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLGFBQWE7UUFDdkUsQ0FBQyxDQUFDLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxhQUFhO1FBQzFELENBQUMsQ0FBQyxZQUFZLENBQUM7SUFFcEIsT0FBTyxXQUFXLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzdDLENBQUM7QUFFRCxJQUFNLGlCQUFpQixHQUFXLHFEQUFxRCxDQUFDO0FBQ3hGLElBQU0sa0JBQWtCLEdBQVcsaURBQWlELENBQUM7QUFFckY7Ozs7OztHQU1HO0FBQ0ksU0FBUyxJQUFJLENBQUMsWUFBcUIsRUFBRSxRQUFjLEVBQUUsVUFBaUIsRUFBRSxXQUFrQjtJQUNoRyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7UUFDM0IsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUMsQ0FBQztLQUNqRTtJQUVELElBQUksUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7SUFDOUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFdEMsSUFBSSxVQUFVLEVBQUU7UUFDZixRQUFRLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztLQUMxQztJQUVELElBQUksV0FBVyxFQUFFO1FBQ2hCLFFBQVEsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0tBQzVDO0lBRUQsT0FBTyxlQUFlLENBQU0sTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQ3JHLFVBQ0MsR0FBbUIsRUFDbkIsT0FBOEIsRUFDOUIsTUFBNkI7UUFFN0IsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRTtZQUN2QixNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMscUNBQXFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxjQUFjLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7U0FDMUc7UUFDRCxPQUFPLEVBQUUsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RyYW5zcG9ydC9QZXRyb2wudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmNvbnN0IEhUVFBfVElNRU9VVDogbnVtYmVyID0gODAwMDsgLy8gdGltZW91dCBpbiBtaWxsaXNlY29uZHNcclxuLyoqXHJcbiAqIE1ha2UgYW4gaHR0cCByZXF1ZXN0IHdpdGggcmV0cmllc1xyXG4gKiBAcGFyYW0gbWV0aG9kIHRoZSBodHRwIG1ldGhvZCBcIkdFVFwiLCBcIlBPU1RcIiBldGNcclxuICogQHBhcmFtIHVybCB0aGUgdXJsXHJcbiAqIEBwYXJhbSByZXF1ZXN0Qm9keSB0aGUgcmVxdWVzdCBib2R5XHJcbiAqIEBwYXJhbSBtYXhSZXRyaWVzIHRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzXHJcbiAqIEBwYXJhbSBvbkxvYWQgdGhlIG9ubG9hZCBoYW5kbGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlSHR0cFJlcXVlc3Q8VD4obWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCByZXF1ZXN0Qm9keTogYW55LCBtYXhSZXRyaWVzOiBudW1iZXIsXHJcblx0b25Mb2FkOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVzb2x2ZTogKHZhbHVlPzogVCkgPT4gdm9pZCwgcmVqZWN0OiAoZXJyb3I/OiBhbnkpID0+IHZvaWQpID0+IHZvaWRcclxuKTogUHJvbWlzZTxUPiB7XHJcblx0bGV0IG1ha2VSZXF1ZXN0OiAocmV0cmllczogbnVtYmVyLCB0aW1lb3V0OiBudW1iZXIpID0+IFByb21pc2U8VD4gPVxyXG5cdFx0KHJldHJpZXM6IG51bWJlciwgdGltZW91dDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0bGV0IHhocjogWE1MSHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcblx0XHRcdFx0eGhyLnRpbWVvdXQgPSB0aW1lb3V0O1xyXG5cdFx0XHRcdHhoci5vbmxvYWQgPSAoKSA9PiB7IG9uTG9hZCh4aHIsIHJlc29sdmUsIHJlamVjdCk7IH07XHJcblx0XHRcdFx0eGhyLm9udGltZW91dCA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChyZXRyaWVzID4gMCkge1xyXG5cdFx0XHRcdFx0XHQvLyBkb3VibGUgdGhlIHRpbWVvdXQgYW5kIHJldHJ5IGl0XHJcblx0XHRcdFx0XHRcdG1ha2VSZXF1ZXN0KHJldHJpZXMgLSAxLCB0aW1lb3V0ICogMikudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihgUmVxdWVzdCB0byAnJHt1cmx9JyB0aW1lZCBvdXQuIHRpbWVvdXQ6ICR7eGhyLnRpbWVvdXR9YCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0eGhyLm9uZXJyb3IgPSAoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAocmV0cmllcyA+IDApIHtcclxuXHRcdFx0XHRcdFx0bWFrZVJlcXVlc3QocmV0cmllcyAtIDEsIHRpbWVvdXQpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoYFJlcXVlc3QgdG8gJyR7dXJsfScgZXJyb3JlZC4gJHt4aHIuc3RhdHVzfSAtICR7eGhyLnN0YXR1c1RleHR9IDogJHt4aHIucmVzcG9uc2VUZXh0fWApKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHhoci5zZW5kKHJlcXVlc3RCb2R5KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHQvLyBnZXQgdGhlIGlucHV0IHRpbWVvdXQgb3IgdXNpbmcgdGhlIGRlZmF1bHQgdmFsdWUgaWYgdGltZW91dCBpcyBub3QgZGVmaW5lZFxyXG5cdGNvbnN0IGh0dHBUaW1lb3V0ID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnBldHJvbFRpbWVvdXRcclxuXHRcdFx0XHRcdFx0PyBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkucGV0cm9sVGltZW91dFxyXG5cdFx0XHRcdFx0XHQ6IEhUVFBfVElNRU9VVDtcclxuXHJcblx0cmV0dXJuIG1ha2VSZXF1ZXN0KG1heFJldHJpZXMsIGh0dHBUaW1lb3V0KTtcclxufVxyXG5cclxuY29uc3QgdXBsb2FkRW5kcG9pbnRJbnQ6IHN0cmluZyA9IFwiaHR0cHM6Ly9wZXRyb2wtaW50Lm9mZmljZS5taWNyb3NvZnQuY29tL3YxL2ZlZWRiYWNrXCI7XHJcbmNvbnN0IHVwbG9hZEVuZHBvaW50UHJvZDogc3RyaW5nID0gXCJodHRwczovL3BldHJvbC5vZmZpY2UubWljcm9zb2Z0LmNvbS92MS9mZWVkYmFja1wiO1xyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBwYXlsb2FkIHRvIFBldHJvbFxyXG4gKiBAcGFyYW0gaXNQcm9kdWN0aW9uIGlzIHByb2R1Y3Rpb24/XHJcbiAqIEBwYXJhbSBtYW5pZmVzdCBtYW5pZmVzdCBjb250ZW50XHJcbiAqIEBwYXJhbSBzY3JlZW5zaG90IHNjcmVlbnNob3QgY29udGVudFxyXG4gKiBAcGFyYW0gZGlhZ25vc3RpY3MgZGlhZ25vc3RpY3MgY29udGVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmQoaXNQcm9kdWN0aW9uOiBib29sZWFuLCBtYW5pZmVzdDogQmxvYiwgc2NyZWVuc2hvdD86IEJsb2IsIGRpYWdub3N0aWNzPzogQmxvYik6IFByb21pc2U8YW55PiB7XHJcblx0aWYgKG1hbmlmZXN0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCBjYW5ub3QgYmUgdW5kZWZpbmVkXCIpKTtcclxuXHR9XHJcblxyXG5cdGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdGZvcm1EYXRhLmFwcGVuZChcIk1hbmlmZXN0XCIsIG1hbmlmZXN0KTtcclxuXHJcblx0aWYgKHNjcmVlbnNob3QpIHtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcIlNjcmVlbnNob3RcIiwgc2NyZWVuc2hvdCk7XHJcblx0fVxyXG5cclxuXHRpZiAoZGlhZ25vc3RpY3MpIHtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcIkRpYWdub3N0aWNzXCIsIGRpYWdub3N0aWNzKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBtYWtlSHR0cFJlcXVlc3Q8YW55PihcIlBPU1RcIiwgaXNQcm9kdWN0aW9uID8gdXBsb2FkRW5kcG9pbnRQcm9kIDogdXBsb2FkRW5kcG9pbnRJbnQsIGZvcm1EYXRhLCAyLFxyXG5cdFx0ZnVuY3Rpb24gKFxyXG5cdFx0XHR4aHI6IFhNTEh0dHBSZXF1ZXN0LFxyXG5cdFx0XHRyZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsXHJcblx0XHRcdHJlamVjdDogKGVycm9yPzogYW55KSA9PiB2b2lkXHJcblx0XHQpOiB2b2lkIHtcclxuXHRcdFx0aWYgKHhoci5zdGF0dXMgIT09IDIwMCkge1xyXG5cdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJOb24tMjAwIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgeGhyLnN0YXR1cyArIFwiLCByZXNwb25zZTogXCIgKyB4aHIucmVzcG9uc2VUZXh0KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0fSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Petrol.ts\n");

/***/ }),

/***/ "./scripts/app/Transport/Transport.ts":
/*!********************************************!*\
  !*** ./scripts/app/Transport/Transport.ts ***!
  \********************************************/
/*! exports provided: Transporter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Transporter\", function() { return Transporter; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Utils */ \"./scripts/app/Utils.ts\");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ \"./scripts/app/Logging/Logging.ts\");\n/* harmony import */ var _Petrol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Petrol */ \"./scripts/app/Transport/Petrol.ts\");\n/* harmony import */ var _Files_Screenshot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Files/Screenshot */ \"./scripts/app/Transport/Files/Screenshot.ts\");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Configuration/Configuration */ \"./scripts/app/Configuration/Configuration.ts\");\n/* harmony import */ var _Files_Manifest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Files/Manifest */ \"./scripts/app/Transport/Files/Manifest.ts\");\n/**\r\n * Feedback.ts\r\n *\r\n * Module for payload transport.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Transporter = /** @class */ (function () {\r\n    function Transporter(environment, manifestType, appId, type, applicationGroup, telemetryGroup, webGroup) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h;\r\n        this.clientFeedbackId = _Utils__WEBPACK_IMPORTED_MODULE_1__[\"guid\"]();\r\n        this.manifest = new _Files_Manifest__WEBPACK_IMPORTED_MODULE_6__[\"Manifest\"](manifestType, appId, new Date().toISOString(), type, this.clientFeedbackId, Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, applicationGroup), Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, telemetryGroup), Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({}, webGroup));\r\n        this.environment = environment;\r\n        this.manifest.setComplianceInformation(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AuthenticationType\"][(_b = ((_a = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _a === void 0 ? void 0 : _a.authenticationType)) !== null && _b !== void 0 ? _b : _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AuthenticationType\"].Unauthenticated], _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AgeGroup\"][(_d = ((_c = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _c === void 0 ? void 0 : _c.ageGroup)) !== null && _d !== void 0 ? _d : _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"AgeGroup\"].Undefined], this.ocpsEnumToString((_e = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getInAppFeedbackInitOptions()) === null || _e === void 0 ? void 0 : _e.sendFeedbackPolicyValue), this.ocpsBooleanToString((_f = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getFloodgateInitOptions()) === null || _f === void 0 ? void 0 : _f.surveyEnabled), this.ocpsEnumToString((_g = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _g === void 0 ? void 0 : _g.screenshotPolicyValue), this.ocpsEnumToString((_h = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions()) === null || _h === void 0 ? void 0 : _h.emailPolicyValue));\r\n    }\r\n    Transporter.prototype.getClientFeedbackId = function () {\r\n        return this.clientFeedbackId;\r\n    };\r\n    Transporter.prototype.getExtendedManifestData = function () {\r\n        return this.manifest.getExtendedManifestData();\r\n    };\r\n    Transporter.prototype.setComment = function (comment) {\r\n        this.manifest.setComment(comment);\r\n    };\r\n    Transporter.prototype.setEmail = function (email) {\r\n        this.manifest.setEmail(email);\r\n    };\r\n    Transporter.prototype.setCategory = function (category) {\r\n        this.manifest.setCategory(category);\r\n    };\r\n    Transporter.prototype.setAppData = function (appData) {\r\n        this.manifest.setAppData(appData);\r\n    };\r\n    Transporter.prototype.setExtendedManifestData = function (extendedManifestData) {\r\n        this.manifest.setExtendedManifestData(extendedManifestData);\r\n    };\r\n    Transporter.prototype.setScreenshot = function (screenshot) {\r\n        this.screenshot = new _Files_Screenshot__WEBPACK_IMPORTED_MODULE_4__[\"Screenshot\"](screenshot);\r\n    };\r\n    Transporter.prototype.setClientFeedbackId = function (clientFeedbackId) {\r\n        this.manifest.setClientFeedbackId(clientFeedbackId);\r\n    };\r\n    Transporter.prototype.getManifest = function () {\r\n        return this.manifest;\r\n    };\r\n    /**\r\n     * Set freeform custom values in manifest. Throws if values are already set.\r\n     * @param values the values as a JS object\r\n     */\r\n    Transporter.prototype.setManifestValues = function (values) {\r\n        this.manifest.setValues(values);\r\n    };\r\n    /**\r\n     * Submit the payload\r\n     */\r\n    Transporter.prototype.submit = function () {\r\n        if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().isFeedbackSurveyEnabledByAADC()) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].Shared.Upload.Prevented.VALUE, 2 /* Error */, {\r\n                Data: JSON.stringify({\r\n                    ageGroup: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions().ageGroup,\r\n                    authenticationType: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions().authenticationType,\r\n                }),\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        var manifestContent = this.manifest.getContent();\r\n        var screenshotContent = undefined;\r\n        var clientFeedbackId = this.clientFeedbackId;\r\n        if (this.screenshot) {\r\n            screenshotContent = this.screenshot.getContent();\r\n        }\r\n        return _Petrol__WEBPACK_IMPORTED_MODULE_3__[\"send\"](this.environment === 0 /* Production */, manifestContent, screenshotContent)\r\n            .catch(function onRejected(err) {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().setFeedbackSubmitted(false);\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__[\"get\"]().getCommonInitOptions().onError(\"Payload submission failed: \" + err.message +\r\n                \". ClientFeedbackId: \" + clientFeedbackId);\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"getLogger\"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__[\"EventIds\"].Shared.Upload.Failed.VALUE, 2 /* Error */, { ErrorMessage: err.message, ClientFeedbackId: clientFeedbackId });\r\n        });\r\n    };\r\n    Transporter.prototype.ocpsBooleanToString = function (policyValue) {\r\n        if (policyValue === undefined) {\r\n            return \"Not Configured\";\r\n        }\r\n        if (policyValue) {\r\n            return \"Enabled\";\r\n        }\r\n        return \"Disabled\";\r\n    };\r\n    Transporter.prototype.ocpsEnumToString = function (policyValue) {\r\n        if (!policyValue) {\r\n            return \"Not Configured\";\r\n        }\r\n        switch (policyValue) {\r\n            case 2 /* Disabled */:\r\n                return \"Disabled\";\r\n            case 1 /* Enabled */:\r\n                return \"Enabled\";\r\n            default:\r\n                return \"Not Configured\";\r\n        }\r\n    };\r\n    return Transporter;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvVHJhbnNwb3J0LnRzPzM1MjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRzs7QUFHaUM7QUFDWTtBQUNiO0FBQ2E7QUFDZ0I7QUFFdkM7QUFHcUQ7QUFJOUU7SUFNQyxxQkFBbUIsV0FBa0MsRUFBRSxZQUFvQixFQUFFLEtBQWEsRUFBRSxJQUEwQixFQUNySCxnQkFBMEMsRUFBRSxjQUFzQyxFQUFFLFFBQTBCOztRQUU5RyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsMkNBQVUsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSx3REFBUSxDQUFDLFlBQVksRUFBRSxLQUFLLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQy9FLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSwyREFBSyxnQkFBZ0IsOERBQVMsY0FBYyw4REFBUyxRQUFRLEVBQUcsQ0FBQztRQUN6RixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUUvQixJQUFJLENBQUMsUUFBUSxDQUFDLHdCQUF3QixDQUFDLCtFQUFrQixPQUFDLE9BQUMsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSwwQ0FBRSxrQkFBa0IsQ0FBQyxtQ0FDekgsK0VBQWtCLENBQUMsZUFBZSxDQUFDLEVBQ25DLHFFQUFRLE9BQUMsT0FBQyxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLDBDQUFFLFFBQVEsQ0FBQyxtQ0FBSSxxRUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUN0RixJQUFJLENBQUMsZ0JBQWdCLE9BQUMsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSwwQ0FBRSx1QkFBdUIsQ0FBQyxFQUNqRyxJQUFJLENBQUMsbUJBQW1CLE9BQUMsZ0VBQWlCLEVBQUUsQ0FBQyx1QkFBdUIs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LEVBQUUsaUJBQWlCLENBQUM7YUFDM0csS0FBSyxDQUNMLFNBQVMsVUFBVSxDQUFDLEdBQVU7WUFDN0IsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNoRCxnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsT0FBTyxDQUFDLDZCQUE2QixHQUFHLEdBQUcsQ0FBQyxPQUFPO2dCQUM3RixzQkFBc0IsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzVDLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssaUJBQy9DLEVBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1FBQzdGLENBQUMsQ0FDRCxDQUFDO0lBQ0osQ0FBQztJQUVPLHlDQUFtQixHQUEzQixVQUE0QixXQUFxQjtRQUNoRCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDOUIsT0FBTyxnQkFBZ0IsQ0FBQztTQUN4QjtRQUVELElBQUksV0FBVyxFQUFFO1lBQ2hCLE9BQU8sU0FBUyxDQUFDO1NBQ2pCO1FBRUQsT0FBTyxVQUFVLENBQUM7SUFDbkIsQ0FBQztJQUVPLHNDQUFnQixHQUF4QixVQUF5QixXQUFrQztRQUMxRCxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2pCLE9BQU8sZ0JBQWdCLENBQUM7U0FDeEI7UUFDRCxRQUFRLFdBQVcsRUFBRTtZQUNwQjtnQkFDQyxPQUFPLFVBQVUsQ0FBQztZQUNuQjtnQkFDQyxPQUFPLFNBQVMsQ0FBQztZQUNsQjtnQkFDQyxPQUFPLGdCQUFnQixDQUFDO1NBQ3pCO0lBQ0YsQ0FBQztJQUNGLGtCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RyYW5zcG9ydC9UcmFuc3BvcnQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRmVlZGJhY2sudHNcclxuICpcclxuICogTW9kdWxlIGZvciBwYXlsb2FkIHRyYW5zcG9ydC5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcbmltcG9ydCAqIGFzIFBldHJvbCBmcm9tIFwiLi9QZXRyb2xcIjtcclxuaW1wb3J0IHsgU2NyZWVuc2hvdCB9IGZyb20gXCIuL0ZpbGVzL1NjcmVlbnNob3RcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IE1hbmlmZXN0LCBNYW5pZmVzdEZlZWRiYWNrVHlwZSwgSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uLCBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5LCBJTWFuaWZlc3REYXRhV2ViIH1cclxuXHRmcm9tIFwiLi9GaWxlcy9NYW5pZmVzdFwiO1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgeyBBZ2VHcm91cCwgQXV0aGVudGljYXRpb25UeXBlIH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5cclxuZXhwb3J0IHsgSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uLCBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5LCBJTWFuaWZlc3REYXRhV2ViIH0gZnJvbSBcIi4vRmlsZXMvTWFuaWZlc3RcIlxyXG5cclxuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydGVyIGltcGxlbWVudHMgQXBpLklUcmFuc3BvcnRlciB7XHJcblx0cHJpdmF0ZSBtYW5pZmVzdDogTWFuaWZlc3Q7XHJcblx0cHJpdmF0ZSBzY3JlZW5zaG90OiBTY3JlZW5zaG90O1xyXG5cdHByaXZhdGUgZW52aXJvbm1lbnQ6IENvbnN0YW50cy5FbnZpcm9ubWVudDtcclxuXHRwcml2YXRlIGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGVudmlyb25tZW50OiBDb25zdGFudHMuRW52aXJvbm1lbnQsIG1hbmlmZXN0VHlwZTogc3RyaW5nLCBhcHBJZDogbnVtYmVyLCB0eXBlOiBNYW5pZmVzdEZlZWRiYWNrVHlwZSxcclxuXHRcdGFwcGxpY2F0aW9uR3JvdXA6IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgdGVsZW1ldHJ5R3JvdXA6IElNYW5pZmVzdERhdGFUZWxlbWV0cnksIHdlYkdyb3VwOiBJTWFuaWZlc3REYXRhV2ViKSB7XHJcblxyXG5cdFx0dGhpcy5jbGllbnRGZWVkYmFja0lkID0gVXRpbHMuZ3VpZCgpO1xyXG5cdFx0dGhpcy5tYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChtYW5pZmVzdFR5cGUsIGFwcElkLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIHR5cGUsXHJcblx0XHRcdHRoaXMuY2xpZW50RmVlZGJhY2tJZCwgeyAuLi5hcHBsaWNhdGlvbkdyb3VwIH0sIHsgLi4udGVsZW1ldHJ5R3JvdXAgfSwgeyAuLi53ZWJHcm91cCB9KTtcclxuXHRcdHRoaXMuZW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudDtcclxuXHJcblx0XHR0aGlzLm1hbmlmZXN0LnNldENvbXBsaWFuY2VJbmZvcm1hdGlvbihBdXRoZW50aWNhdGlvblR5cGVbKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKT8uYXV0aGVudGljYXRpb25UeXBlKSA/P1xyXG5cdFx0XHRBdXRoZW50aWNhdGlvblR5cGUuVW5hdXRoZW50aWNhdGVkXSxcclxuXHRcdFx0QWdlR3JvdXBbKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKT8uYWdlR3JvdXApID8/IEFnZUdyb3VwLlVuZGVmaW5lZF0sXHJcblx0XHRcdHRoaXMub2Nwc0VudW1Ub1N0cmluZyhDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpPy5zZW5kRmVlZGJhY2tQb2xpY3lWYWx1ZSksXHJcblx0XHRcdHRoaXMub2Nwc0Jvb2xlYW5Ub1N0cmluZyhDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCk/LnN1cnZleUVuYWJsZWQpLFxyXG5cdFx0XHR0aGlzLm9jcHNFbnVtVG9TdHJpbmcoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpPy5zY3JlZW5zaG90UG9saWN5VmFsdWUpLFxyXG5cdFx0XHR0aGlzLm9jcHNFbnVtVG9TdHJpbmcoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpPy5lbWFpbFBvbGljeVZhbHVlKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2xpZW50RmVlZGJhY2tJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2xpZW50RmVlZGJhY2tJZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRFeHRlbmRlZE1hbmlmZXN0RGF0YSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0RXh0ZW5kZWRNYW5pZmVzdERhdGEoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb21tZW50KGNvbW1lbnQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdC5zZXRDb21tZW50KGNvbW1lbnQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0RW1haWwoZW1haWwpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldENhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0Q2F0ZWdvcnkoY2F0ZWdvcnkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEFwcERhdGEoYXBwRGF0YTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm1hbmlmZXN0LnNldEFwcERhdGEoYXBwRGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0RXh0ZW5kZWRNYW5pZmVzdERhdGEoZXh0ZW5kZWRNYW5pZmVzdERhdGE6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdC5zZXRFeHRlbmRlZE1hbmlmZXN0RGF0YShleHRlbmRlZE1hbmlmZXN0RGF0YSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0U2NyZWVuc2hvdChzY3JlZW5zaG90OiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG5cdFx0dGhpcy5zY3JlZW5zaG90ID0gbmV3IFNjcmVlbnNob3Qoc2NyZWVuc2hvdCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2xpZW50RmVlZGJhY2tJZChjbGllbnRGZWVkYmFja0lkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0Q2xpZW50RmVlZGJhY2tJZChjbGllbnRGZWVkYmFja0lkKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRNYW5pZmVzdCgpOiBNYW5pZmVzdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pZmVzdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmcmVlZm9ybSBjdXN0b20gdmFsdWVzIGluIG1hbmlmZXN0LiBUaHJvd3MgaWYgdmFsdWVzIGFyZSBhbHJlYWR5IHNldC5cclxuXHQgKiBAcGFyYW0gdmFsdWVzIHRoZSB2YWx1ZXMgYXMgYSBKUyBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0TWFuaWZlc3RWYWx1ZXModmFsdWVzOiBvYmplY3QpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0VmFsdWVzKHZhbHVlcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdWJtaXQgdGhlIHBheWxvYWRcclxuXHQgKi9cclxuXHRwdWJsaWMgc3VibWl0KCk6IFByb21pc2U8YW55PiB7XHJcblx0XHRpZiAoIUNvbmZpZ3VyYXRpb24uZ2V0KCkuaXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREMoKSkge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlVwbG9hZC5QcmV2ZW50ZWQuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHREYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XHRcdGFnZUdyb3VwOiBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYWdlR3JvdXAsXHJcblx0XHRcdFx0XHRcdGF1dGhlbnRpY2F0aW9uVHlwZTogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmF1dGhlbnRpY2F0aW9uVHlwZSxcclxuXHRcdFx0XHRcdH0pLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1hbmlmZXN0Q29udGVudDogQmxvYiA9IHRoaXMubWFuaWZlc3QuZ2V0Q29udGVudCgpO1xyXG5cdFx0bGV0IHNjcmVlbnNob3RDb250ZW50OiBCbG9iID0gdW5kZWZpbmVkO1xyXG5cdFx0Y29uc3QgY2xpZW50RmVlZGJhY2tJZDogc3RyaW5nID0gdGhpcy5jbGllbnRGZWVkYmFja0lkO1xyXG5cclxuXHRcdGlmICh0aGlzLnNjcmVlbnNob3QpIHtcclxuXHRcdFx0c2NyZWVuc2hvdENvbnRlbnQgPSB0aGlzLnNjcmVlbnNob3QuZ2V0Q29udGVudCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBQZXRyb2wuc2VuZCh0aGlzLmVudmlyb25tZW50ID09PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUHJvZHVjdGlvbiwgbWFuaWZlc3RDb250ZW50LCBzY3JlZW5zaG90Q29udGVudClcclxuXHRcdFx0LmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyOiBFcnJvcikge1xyXG5cdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5zZXRGZWVkYmFja1N1Ym1pdHRlZChmYWxzZSk7XHJcblx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkub25FcnJvcihcIlBheWxvYWQgc3VibWlzc2lvbiBmYWlsZWQ6IFwiICsgZXJyLm1lc3NhZ2UgK1xyXG5cdFx0XHRcdFx0XHRcIi4gQ2xpZW50RmVlZGJhY2tJZDogXCIgKyBjbGllbnRGZWVkYmFja0lkKTtcclxuXHRcdFx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TaGFyZWQuVXBsb2FkLkZhaWxlZC5WQUxVRSxcclxuXHRcdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvciwgeyBFcnJvck1lc3NhZ2U6IGVyci5tZXNzYWdlLCBDbGllbnRGZWVkYmFja0lkOiBjbGllbnRGZWVkYmFja0lkIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb2Nwc0Jvb2xlYW5Ub1N0cmluZyhwb2xpY3lWYWx1ZT86IGJvb2xlYW4pIHtcclxuXHRcdGlmIChwb2xpY3lWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBcIk5vdCBDb25maWd1cmVkXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHBvbGljeVZhbHVlKSB7XHJcblx0XHRcdHJldHVybiBcIkVuYWJsZWRcIjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gXCJEaXNhYmxlZFwiO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBvY3BzRW51bVRvU3RyaW5nKHBvbGljeVZhbHVlPzogQ29uc3RhbnRzLk9DUFNWYWx1ZXMpIHtcclxuXHRcdGlmICghcG9saWN5VmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIFwiTm90IENvbmZpZ3VyZWRcIjtcclxuXHRcdH1cclxuXHRcdHN3aXRjaCAocG9saWN5VmFsdWUpIHtcclxuXHRcdFx0Y2FzZSBDb25zdGFudHMuT0NQU1ZhbHVlcy5EaXNhYmxlZDpcclxuXHRcdFx0XHRyZXR1cm4gXCJEaXNhYmxlZFwiO1xyXG5cdFx0XHRjYXNlIENvbnN0YW50cy5PQ1BTVmFsdWVzLkVuYWJsZWQ6XHJcblx0XHRcdFx0cmV0dXJuIFwiRW5hYmxlZFwiO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBcIk5vdCBDb25maWd1cmVkXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Transport.ts\n");

/***/ }),

/***/ "./scripts/app/UIStrings/UIStrings.ts":
/*!********************************************!*\
  !*** ./scripts/app/UIStrings/UIStrings.ts ***!
  \********************************************/
/*! exports provided: setUIStrings, getUIStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setUIStrings\", function() { return setUIStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUIStrings\", function() { return getUIStrings; });\n/**\r\n * UIStrings.ts\r\n *\r\n * Module for the strings to display\r\n */\r\n/**\r\n * Localized UI strings\r\n */\r\nvar uIStrings;\r\n/**\r\n * Set UI strings\r\n * @param {string} data List of localized UI strings\r\n */\r\nfunction setUIStrings(data) {\r\n    uIStrings = data;\r\n}\r\n/**\r\n * Get UI strings\r\n * @returns the UIStrings\r\n */\r\nfunction getUIStrings() {\r\n    return uIStrings;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSVN0cmluZ3MvVUlTdHJpbmdzLnRzPzlkY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQTZGSDs7R0FFRztBQUNILElBQUksU0FBcUIsQ0FBQztBQUUxQjs7O0dBR0c7QUFDSSxTQUFTLFlBQVksQ0FBQyxJQUFnQjtJQUM1QyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ2xCLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLFlBQVk7SUFDM0IsT0FBTyxTQUFTLENBQUM7QUFDbEIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJU3RyaW5ncy9VSVN0cmluZ3MudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVUlTdHJpbmdzLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGhlIHN0cmluZ3MgdG8gZGlzcGxheVxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVJU3RyaW5ncyB7XHJcblx0RmVlZGJhY2tTdWJ0aXRsZTogc3RyaW5nO1xyXG5cdFByaXZhY3lTdGF0ZW1lbnQ6IHN0cmluZztcclxuXHJcblx0Rm9ybToge1xyXG5cdFx0Q29tbWVudFBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRDYXRlZ29yeVBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRFbWFpbFBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRSYXRpbmdMYWJlbDogc3RyaW5nO1xyXG5cdFx0U2NyZWVuc2hvdExhYmVsOiBzdHJpbmc7XHJcblx0XHRFbWFpbENoZWNrQm94TGFiZWw6IHN0cmluZztcclxuXHRcdFN1Ym1pdDogc3RyaW5nO1xyXG5cdFx0QmFzaWNGb3JtVGl0bGU6IHN0cmluZztcclxuXHRcdENhbmNlbDogc3RyaW5nO1xyXG5cdFx0U2NyZWVuc2hvdEltZ0FsdFRleHQ6IHN0cmluZztcclxuXHRcdFByaXZhY3lMYWJlbDogc3RyaW5nO1xyXG5cdFx0UHJpdmFjeUNvbnNlbnQ6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRTaW5nbGVGb3JtOiB7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdFNtaWxlRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdEZyb3duRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdElkZWFGb3JtOiB7XHJcblx0XHRBbmNob3I6IHN0cmluZztcclxuXHRcdFRpdGxlOiBzdHJpbmc7XHJcblx0fTtcclxuXHJcblx0QnVnRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdFRoYW5rc1BhbmVsOiB7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdFx0QXBwcmVjaWF0ZVRleHQ6IHN0cmluZztcclxuXHRcdE15RmVlZGJhY2tEZXNjcmlwdGlvbjogc3RyaW5nO1xyXG5cdFx0TXlGZWVkYmFja0xpbmtUZXh0OiBzdHJpbmc7XHJcblx0XHRGZWVkYmFja1BvcnRhbERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcblx0XHRGZWVkYmFja1BvcnRhbExpbmtUZXh0OiBzdHJpbmc7XHJcblx0XHRDbG9zZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdEZsb29kZ2F0ZToge1xyXG5cdFx0TnBzOiB7XHJcblx0XHRcdFByb21wdDoge1xyXG5cdFx0XHRcdFRpdGxlOiBzdHJpbmc7XHJcblx0XHRcdFx0UXVlc3Rpb246IHN0cmluZztcclxuXHRcdFx0XHRZZXM6IHN0cmluZztcclxuXHRcdFx0XHRObzogc3RyaW5nO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Q29tbWVudDoge1xyXG5cdFx0XHRcdFF1ZXN0aW9uOiBzdHJpbmc7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRSYXRpbmc6IHtcclxuXHRcdFx0XHRRdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWUwOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTE6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlMjogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWUzOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTQ6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlNTogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWU2OiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTc6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlODogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWU5OiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTEwOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzNVZhbHVlMTogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czVWYWx1ZTI6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHM1VmFsdWUzOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzNVZhbHVlNDogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czVWYWx1ZTU6IHN0cmluZztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdENsb3NlTGFiZWw6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIExvY2FsaXplZCBVSSBzdHJpbmdzXHJcbiAqL1xyXG5sZXQgdUlTdHJpbmdzOiBJVUlTdHJpbmdzO1xyXG5cclxuLyoqXHJcbiAqIFNldCBVSSBzdHJpbmdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIExpc3Qgb2YgbG9jYWxpemVkIFVJIHN0cmluZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRVSVN0cmluZ3MoZGF0YTogSVVJU3RyaW5ncykge1xyXG5cdHVJU3RyaW5ncyA9IGRhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgVUkgc3RyaW5nc1xyXG4gKiBAcmV0dXJucyB0aGUgVUlTdHJpbmdzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUlTdHJpbmdzKCk6IElVSVN0cmluZ3Mge1xyXG5cdHJldHVybiB1SVN0cmluZ3M7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UIStrings/UIStrings.ts\n");

/***/ }),

/***/ "./scripts/app/Utils.ts":
/*!******************************!*\
  !*** ./scripts/app/Utils.ts ***!
  \******************************/
/*! exports provided: guid, overrideValues, isNOU, isBoolean, isInteger, expectObject, expectNumber, expectString, expectBoolean, expectGuid, expectArray, expectEnum, createTimeoutPromise, checkCssSelectorToBeSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return guid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"overrideValues\", function() { return overrideValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNOU\", function() { return isNOU; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBoolean\", function() { return isBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isInteger\", function() { return isInteger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectObject\", function() { return expectObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectNumber\", function() { return expectNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectString\", function() { return expectString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectBoolean\", function() { return expectBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectGuid\", function() { return expectGuid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectArray\", function() { return expectArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expectEnum\", function() { return expectEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTimeoutPromise\", function() { return createTimeoutPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCssSelectorToBeSet\", function() { return checkCssSelectorToBeSet; });\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ \"../FloodgateCore/dist/index.js\");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__);\n/*\r\n * Utils.ts\r\n *\r\n * Module for utility functions\r\n */\r\n\r\nvar guid = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].guid, overrideValues = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].overrideValues, isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isNOU, isBoolean = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isBoolean, isString = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isString, isObject = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isObject, isEnumValue = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__[\"Utils\"].isEnumValue;\r\n\r\n/**\r\n * Check if given value is a number\r\n * @param {any} value value\r\n */\r\nfunction isNumber(value) {\r\n    return (typeof value === \"number\");\r\n}\r\n/**\r\n * Check if given value is an integer\r\n * @param {any} value value\r\n */\r\nfunction isInteger(value) {\r\n    return typeof value === \"number\" &&\r\n        isFinite(value) &&\r\n        Math.floor(value) === value;\r\n}\r\n/**\r\n * Check if value is a valid guid\r\n * @param {any} value value\r\n */\r\nfunction isGuid(value) {\r\n    return (isString(value) &&\r\n        /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(value));\r\n}\r\n/**\r\n * Throw if not object\r\n */\r\nfunction expectObject(value, name) {\r\n    if (!isObject(value)) {\r\n        throw name + \" is not an object: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not number\r\n */\r\nfunction expectNumber(value, name) {\r\n    if (!isNumber(value)) {\r\n        throw name + \" is not a number: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not string\r\n */\r\nfunction expectString(value, name) {\r\n    if (!isString(value)) {\r\n        throw name + \" is not a string: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not boolean\r\n */\r\nfunction expectBoolean(value, name) {\r\n    if (!isBoolean(value)) {\r\n        throw name + \" is not a boolean: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not guid\r\n */\r\nfunction expectGuid(value, name) {\r\n    if (!isGuid(value)) {\r\n        throw name + \" is not a guid: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not array\r\n */\r\nfunction expectArray(value, name) {\r\n    if (!Array.isArray(value)) {\r\n        throw name + \" is not an array: \" + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not valid enum\r\n * Note: this won't work with const enum\r\n */\r\nfunction expectEnum(value, enumType, name) {\r\n    if (!isNumber(value) || !isEnumValue(value, enumType)) {\r\n        throw name + \" is not an enum: \" + value;\r\n    }\r\n}\r\n// Creates a promise that rejects in <ms> milliseconds and\r\n// returns the race between the created timeout promise and the passed in promise\r\nfunction createTimeoutPromise(ms, promise) {\r\n    // Create a promise that rejects in <ms> milliseconds\r\n    var timeout = new Promise(function (resolve, reject) {\r\n        var id = setTimeout(function () {\r\n            clearTimeout(id);\r\n            reject(\"Timed out in \" + ms + \"ms.\");\r\n        }, ms);\r\n    });\r\n    // Returns a race between our timeout and the passed in promise\r\n    return Promise.race([promise, timeout]);\r\n}\r\n/**\r\n * Checks to see if a passed CSS selector is set as a rule in one of the document's stylesheets.\r\n *\r\n * @param cssSelector : a Css selector string such as '#obf-TPromptTitle'\r\n */\r\nfunction checkCssSelectorToBeSet(cssSelector) {\r\n    try {\r\n        for (var sheetIndex = 0; sheetIndex < document.styleSheets.length; sheetIndex++) {\r\n            var currentStyleSheet = document.styleSheets[sheetIndex];\r\n            for (var rulesIndex = 0; rulesIndex < currentStyleSheet.rules.length; rulesIndex++) {\r\n                var currentRule = currentStyleSheet.rules[rulesIndex];\r\n                if (!isNOU(currentRule.selectorText) && currentRule.selectorText.includes(cssSelector)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        // tslint:disable-next-line: no-empty\r\n    }\r\n    catch (error) { }\r\n    return false;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VdGlscy50cz9jZDliIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRWlEO0FBQzVDLFFBQUksR0FBd0UsaUVBQUssS0FBN0UsRUFBRSxjQUFjLEdBQXdELGlFQUFLLGVBQTdELEVBQUUsS0FBSyxHQUFpRCxpRUFBSyxNQUF0RCxFQUFFLFNBQVMsR0FBc0MsaUVBQUssVUFBM0MsRUFBRSxRQUFRLEdBQTRCLGlFQUFLLFNBQWpDLEVBQUUsUUFBUSxHQUFrQixpRUFBSyxTQUF2QixFQUFFLFdBQVcsR0FBSyxpRUFBSyxZQUFWLENBQVc7QUFDekM7QUFFakQ7OztHQUdHO0FBQ0gsU0FBUyxRQUFRLENBQUMsS0FBVTtJQUMzQixPQUFPLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUM7QUFDcEMsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsU0FBUyxDQUFDLEtBQVU7SUFDbkMsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQy9CLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssQ0FBQztBQUM5QixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxNQUFNLENBQUMsS0FBVTtJQUN6QixPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUN0QiwrRUFBK0UsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMvRixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLFlBQVksQ0FBQyxLQUFVLEVBQUUsSUFBWTtJQUNwRCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE1BQU0sSUFBSSxHQUFHLHFCQUFxQixHQUFH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b0JBQ3ZGLE9BQU8sSUFBSSxDQUFDO2lCQUNaO2FBQ0Q7U0FDRDtRQUNELHFDQUFxQztLQUNyQztJQUFDLE9BQU8sS0FBSyxFQUFFLEdBQUU7SUFFbEIsT0FBTyxLQUFLLENBQUM7QUFDZCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBVdGlscy50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHV0aWxpdHkgZnVuY3Rpb25zXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmNvbnN0IHsgZ3VpZCwgb3ZlcnJpZGVWYWx1ZXMsIGlzTk9VLCBpc0Jvb2xlYW4sIGlzU3RyaW5nLCBpc09iamVjdCwgaXNFbnVtVmFsdWUgfSA9IFV0aWxzO1xyXG5leHBvcnQgeyBndWlkLCBvdmVycmlkZVZhbHVlcywgaXNOT1UsIGlzQm9vbGVhbiB9XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYSBudW1iZXJcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIHZhbHVlXHJcbiAqL1xyXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYW4gaW50ZWdlclxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiZcclxuXHRcdGlzRmluaXRlKHZhbHVlKSAmJlxyXG5cdFx0TWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsdWUgaXMgYSB2YWxpZCBndWlkXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gaXNHdWlkKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKGlzU3RyaW5nKHZhbHVlKSAmJlxyXG5cdFx0L15bMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXsxMn0kLy50ZXN0KHZhbHVlKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3Qgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0T2JqZWN0KHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNPYmplY3QodmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGFuIG9iamVjdDogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgbnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0TnVtYmVyKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNOdW1iZXIodmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGEgbnVtYmVyOiBcIiArIHZhbHVlO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRocm93IGlmIG5vdCBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RTdHJpbmcodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFpc1N0cmluZyh2YWx1ZSkpIHtcclxuXHRcdHRocm93IG5hbWUgKyBcIiBpcyBub3QgYSBzdHJpbmc6IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IGJvb2xlYW5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RCb29sZWFuKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNCb29sZWFuKHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhIGJvb2xlYW46IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IGd1aWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RHdWlkKHZhbHVlOiBhbnksIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG5cdGlmICghaXNHdWlkKHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhIGd1aWQ6IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0QXJyYXkodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhbiBhcnJheTogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgdmFsaWQgZW51bVxyXG4gKiBOb3RlOiB0aGlzIHdvbid0IHdvcmsgd2l0aCBjb25zdCBlbnVtXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0RW51bSh2YWx1ZTogYW55LCBlbnVtVHlwZTogYW55LCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNFbnVtVmFsdWUodmFsdWUsIGVudW1UeXBlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhbiBlbnVtOiBcIiArIHZhbHVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQ3JlYXRlcyBhIHByb21pc2UgdGhhdCByZWplY3RzIGluIDxtcz4gbWlsbGlzZWNvbmRzIGFuZFxyXG4vLyByZXR1cm5zIHRoZSByYWNlIGJldHdlZW4gdGhlIGNyZWF0ZWQgdGltZW91dCBwcm9taXNlIGFuZCB0aGUgcGFzc2VkIGluIHByb21pc2VcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVvdXRQcm9taXNlPFQ+KG1zOiBudW1iZXIsIHByb21pc2U6IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcclxuXHQvLyBDcmVhdGUgYSBwcm9taXNlIHRoYXQgcmVqZWN0cyBpbiA8bXM+IG1pbGxpc2Vjb25kc1xyXG5cdGNvbnN0IHRpbWVvdXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoaWQpO1xyXG5cdFx0XHRyZWplY3QoXCJUaW1lZCBvdXQgaW4gXCIgKyBtcyArIFwibXMuXCIpO1xyXG5cdFx0fSwgbXMpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBSZXR1cm5zIGEgcmFjZSBiZXR3ZWVuIG91ciB0aW1lb3V0IGFuZCB0aGUgcGFzc2VkIGluIHByb21pc2VcclxuXHRyZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCB0aW1lb3V0XSkgYXMgUHJvbWlzZTxUPjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyB0byBzZWUgaWYgYSBwYXNzZWQgQ1NTIHNlbGVjdG9yIGlzIHNldCBhcyBhIHJ1bGUgaW4gb25lIG9mIHRoZSBkb2N1bWVudCdzIHN0eWxlc2hlZXRzLlxyXG4gKiBcclxuICogQHBhcmFtIGNzc1NlbGVjdG9yIDogYSBDc3Mgc2VsZWN0b3Igc3RyaW5nIHN1Y2ggYXMgJyNvYmYtVFByb21wdFRpdGxlJ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ3NzU2VsZWN0b3JUb0JlU2V0IChjc3NTZWxlY3Rvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG5cdHRyeSB7XHJcblx0XHRmb3IgKGxldCBzaGVldEluZGV4ID0gMDsgc2hlZXRJbmRleCA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgc2hlZXRJbmRleCsrKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbc2hlZXRJbmRleF07XHJcblxyXG5cdFx0XHRmb3IgKGxldCBydWxlc0luZGV4ID0gMDsgcnVsZXNJbmRleCA8IGN1cnJlbnRTdHlsZVNoZWV0LnJ1bGVzLmxlbmd0aDsgcnVsZXNJbmRleCsrKSB7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudFJ1bGUgPSBjdXJyZW50U3R5bGVTaGVldC5ydWxlc1tydWxlc0luZGV4XSBhcyBDU1NTdHlsZVJ1bGU7XHJcblxyXG5cdFx0XHRcdGlmICghaXNOT1UoY3VycmVudFJ1bGUuc2VsZWN0b3JUZXh0KSAmJiBjdXJyZW50UnVsZS5zZWxlY3RvclRleHQuaW5jbHVkZXMoY3NzU2VsZWN0b3IpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tZW1wdHlcclxuXHR9IGNhdGNoIChlcnJvcikge31cclxuXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Utils.ts\n");

/***/ }),

/***/ "./scripts/app/Version.ts":
/*!********************************!*\
  !*** ./scripts/app/Version.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\r\n * Version.ts\r\n *\r\n * Module for package version\r\n */\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"0.0.0\");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9WZXJzaW9uLnRzPzA3OTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7OztHQUlHO0FBQ1ksc0VBQU8sRUFBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1ZlcnNpb24udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVmVyc2lvbi50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHBhY2thZ2UgdmVyc2lvblxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgXCIwLjAuMFwiO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Version.ts\n");

/***/ }),

/***/ "./scripts/app/Window/DomUtils.ts":
/*!****************************************!*\
  !*** ./scripts/app/Window/DomUtils.ts ***!
  \****************************************/
/*! exports provided: loadStylesheet, loadScript */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadStylesheet\", function() { return loadStylesheet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadScript\", function() { return loadScript; });\n/*\r\n * DomUtils.ts\r\n *\r\n * Module for page document utility functions\r\n */\r\n/**\r\n * Load the style sheet\r\n * @param url The url of the stylesheet\r\n */\r\nfunction loadStylesheet(url) {\r\n    var link = document.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.type = \"text/css\";\r\n    link.href = url;\r\n    var entry = document.getElementsByTagName(\"script\")[0];\r\n    entry.parentNode.insertBefore(link, entry);\r\n}\r\n/**\r\n * Load the script and callback after it is loaded\r\n * @param url The url of the script\r\n * @param pageOrigin Optional - Origin of the page\r\n */\r\nfunction loadScript(url, pageOrigin) {\r\n    if (pageOrigin === void 0) { pageOrigin = window.origin; }\r\n    return new Promise(function (resolve, reject) {\r\n        var script = document.createElement(\"script\");\r\n        script.async = true;\r\n        if (script.readyState) { // IE\r\n            script.onreadystatechange = function () {\r\n                if (script.readyState === \"loaded\" || script.readyState === \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    resolve();\r\n                }\r\n            };\r\n        }\r\n        else { // Others\r\n            script.onload = function () {\r\n                resolve();\r\n            };\r\n        }\r\n        script.onerror = function () {\r\n            reject();\r\n        };\r\n        script.src = url;\r\n        // don't add if origin is not available or when containing \"null\". This is to mitigate possible\r\n        // unexpected behavior with Chrome when a page hosting this SDK is being tested as a local file.\r\n        // The behavior depends on Chrome.exe's --allow-file-access-from-files setting.\r\n        if (pageOrigin && pageOrigin !== \"null\") {\r\n            script.crossOrigin = \"anonymous\";\r\n        }\r\n        var entry = document.getElementsByTagName(\"script\")[0];\r\n        entry.parentNode.insertBefore(script, entry);\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3cvRG9tVXRpbHMudHM/ZWViMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRUg7OztHQUdHO0FBQ0ksU0FBUyxjQUFjLENBQUMsR0FBVztJQUN6QyxJQUFNLElBQUksR0FBb0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3RCxJQUFJLENBQUMsR0FBRyxHQUFHLFlBQVksQ0FBQztJQUN4QixJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQztJQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUVoQixJQUFNLEtBQUssR0FBc0IsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVFLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNJLFNBQVMsVUFBVSxDQUFDLEdBQVcsRUFBRSxVQUEyQztJQUEzQywwQ0FBc0IsTUFBYyxDQUFDLE1BQU07SUFDbEYsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQU0sTUFBTSxHQUFRLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFcEIsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUUsS0FBSztZQUM3QixNQUFNLENBQUMsa0JBQWtCLEdBQUc7Z0JBQzNCLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxRQUFRLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7b0JBQ3ZFLE1BQU0sQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7b0JBQ2pDLE9BQU8sRUFBRSxDQUFDO2lCQUNWO1lBQ0YsQ0FBQyxDQUFDO1NBQ0Y7YUFBTSxFQUFHLFNBQVM7WUFDbEIsTUFBTSxDQUFDLE1BQU0sR0FBRztnQkFDZixPQUFPLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FBQztTQUNGO1FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRztZQUNoQixNQUFNLEVBQUUsQ0FBQztRQUNWLENBQUMsQ0FBQztRQUVGLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBRWpCLCtGQUErRjtRQUMvRixnR0FBZ0c7UUFDaEcsK0VBQStFO1FBQy9FLElBQUksVUFBVSxJQUFJLFVBQVUsS0FBSyxNQUFNLEVBQUU7WUFDeEMsTUFBTSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7U0FDakM7UUFFRCxJQUFNLEtBQUssR0FBc0IsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM5QyxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9XaW5kb3cvRG9tVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBEb21VdGlscy50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHBhZ2UgZG9jdW1lbnQgdXRpbGl0eSBmdW5jdGlvbnNcclxuICovXHJcblxyXG4vKipcclxuICogTG9hZCB0aGUgc3R5bGUgc2hlZXRcclxuICogQHBhcmFtIHVybCBUaGUgdXJsIG9mIHRoZSBzdHlsZXNoZWV0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFN0eWxlc2hlZXQodXJsOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRjb25zdCBsaW5rOiBIVE1MTGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rLnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRsaW5rLmhyZWYgPSB1cmw7XHJcblxyXG5cdGNvbnN0IGVudHJ5OiBIVE1MU2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO1xyXG5cdGVudHJ5LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpbmssIGVudHJ5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWQgdGhlIHNjcmlwdCBhbmQgY2FsbGJhY2sgYWZ0ZXIgaXQgaXMgbG9hZGVkXHJcbiAqIEBwYXJhbSB1cmwgVGhlIHVybCBvZiB0aGUgc2NyaXB0XHJcbiAqIEBwYXJhbSBwYWdlT3JpZ2luIE9wdGlvbmFsIC0gT3JpZ2luIG9mIHRoZSBwYWdlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNjcmlwdCh1cmw6IHN0cmluZywgcGFnZU9yaWdpbjogc3RyaW5nID0gKHdpbmRvdyBhcyBhbnkpLm9yaWdpbik6IFByb21pc2U8dm9pZD4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCBzY3JpcHQ6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcblx0XHRzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG5cclxuXHRcdGlmIChzY3JpcHQucmVhZHlTdGF0ZSkgeyAvLyBJRVxyXG5cdFx0XHRzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKHNjcmlwdC5yZWFkeVN0YXRlID09PSBcImxvYWRlZFwiIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcclxuXHRcdFx0XHRcdHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7ICAvLyBPdGhlcnNcclxuXHRcdFx0c2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZWplY3QoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcclxuXHJcblx0XHQvLyBkb24ndCBhZGQgaWYgb3JpZ2luIGlzIG5vdCBhdmFpbGFibGUgb3Igd2hlbiBjb250YWluaW5nIFwibnVsbFwiLiBUaGlzIGlzIHRvIG1pdGlnYXRlIHBvc3NpYmxlXHJcblx0XHQvLyB1bmV4cGVjdGVkIGJlaGF2aW9yIHdpdGggQ2hyb21lIHdoZW4gYSBwYWdlIGhvc3RpbmcgdGhpcyBTREsgaXMgYmVpbmcgdGVzdGVkIGFzIGEgbG9jYWwgZmlsZS5cclxuXHRcdC8vIFRoZSBiZWhhdmlvciBkZXBlbmRzIG9uIENocm9tZS5leGUncyAtLWFsbG93LWZpbGUtYWNjZXNzLWZyb20tZmlsZXMgc2V0dGluZy5cclxuXHRcdGlmIChwYWdlT3JpZ2luICYmIHBhZ2VPcmlnaW4gIT09IFwibnVsbFwiKSB7XHJcblx0XHRcdHNjcmlwdC5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZW50cnk6IEhUTUxTY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07XHJcblx0XHRlbnRyeS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGVudHJ5KTtcclxuXHR9KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Window/DomUtils.ts\n");

/***/ }),

/***/ "./scripts/app/Window/Window.ts":
/*!**************************************!*\
  !*** ./scripts/app/Window/Window.ts ***!
  \**************************************/
/*! exports provided: get, getGlobal, setSetUiStrings, setSingleFeedback, setMultiFeedback, setFeedbackStatus, setCreateScreenshot, setIsFeedbackSurveyEnabledByAADC, setFloodgateShowSurvey, setFloodgateShowCustomSurvey, setFloodgateInitialize, setFloodgateStart, setFloodgateStop, setFloodgateGetEngine, getSettingIdMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGlobal\", function() { return getGlobal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSetUiStrings\", function() { return setSetUiStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSingleFeedback\", function() { return setSingleFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMultiFeedback\", function() { return setMultiFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFeedbackStatus\", function() { return setFeedbackStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCreateScreenshot\", function() { return setCreateScreenshot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setIsFeedbackSurveyEnabledByAADC\", function() { return setIsFeedbackSurveyEnabledByAADC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateShowSurvey\", function() { return setFloodgateShowSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateShowCustomSurvey\", function() { return setFloodgateShowCustomSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateInitialize\", function() { return setFloodgateInitialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateStart\", function() { return setFloodgateStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateStop\", function() { return setFloodgateStop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFloodgateGetEngine\", function() { return setFloodgateGetEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSettingIdMap\", function() { return getSettingIdMap; });\n/**\r\n * Window.ts\r\n *\r\n * Module wrapping around the global window object\r\n */\r\nvar w = window;\r\nvar officeBrowserFeedback = w.OfficeBrowserFeedback = w.OfficeBrowserFeedback || {};\r\nvar floodgate = officeBrowserFeedback.floodgate = officeBrowserFeedback.floodgate || {};\r\n/**\r\n * Get the IWindow object\r\n */\r\nfunction get() { return w; }\r\n/**\r\n * Get the IWindow object\r\n */\r\nfunction getGlobal() { return w; }\r\n/**\r\n * Set the setUiStrings() method\r\n * @param setUiStrings the method\r\n */\r\nfunction setSetUiStrings(setUiStrings) {\r\n    officeBrowserFeedback.setUiStrings = setUiStrings;\r\n}\r\n/**\r\n * Set the singleFeedback() method\r\n * @param singleFeedback the method\r\n */\r\nfunction setSingleFeedback(singleFeedback) {\r\n    officeBrowserFeedback.singleFeedback = singleFeedback;\r\n}\r\n/**\r\n * Set the multiFeedback() method\r\n * @param multiFeedback the method\r\n */\r\nfunction setMultiFeedback(multiFeedback) {\r\n    officeBrowserFeedback.multiFeedback = multiFeedback;\r\n}\r\n/**\r\n * Set the getFeedbackStatus() method\r\n * @param getFeedbackStatus the method\r\n */\r\nfunction setFeedbackStatus(getFeedbackStatus) {\r\n    officeBrowserFeedback.getFeedbackStatus = getFeedbackStatus;\r\n}\r\n/**\r\n * Set the createScreenshot() method\r\n * @param createScreenshot the method\r\n */\r\nfunction setCreateScreenshot(createScreenshot) {\r\n    officeBrowserFeedback.createScreenshot = createScreenshot;\r\n}\r\n/**\r\n * Set the isFeedbackSurveyEnabledByAADC() method\r\n * @param isFeedbackSurveyEnabledByAADC the method\r\n */\r\nfunction setIsFeedbackSurveyEnabledByAADC(isFeedbackSurveyEnabledByAADC) {\r\n    officeBrowserFeedback.isFeedbackSurveyEnabledByAADC = isFeedbackSurveyEnabledByAADC;\r\n}\r\n/**\r\n * Set the floodgate showSurvey() method\r\n * @param floodgateShowSurvey the method\r\n */\r\nfunction setFloodgateShowSurvey(floodgateShowSurvey) {\r\n    floodgate.showSurvey = floodgateShowSurvey;\r\n}\r\n/**\r\n * Set the floodgate showCustomSurvey() method\r\n * @param floodgateShowSurvey the method\r\n */\r\nfunction setFloodgateShowCustomSurvey(floodgateShowCustomSurvey) {\r\n    floodgate.showCustomSurvey = floodgateShowCustomSurvey;\r\n}\r\n/**\r\n * Set the floodgate initialize() method\r\n * @param floodgateInitialize the method\r\n */\r\nfunction setFloodgateInitialize(floodgateInitialize) {\r\n    floodgate.initialize = floodgateInitialize;\r\n}\r\n/**\r\n * Set the floodgate start() method\r\n * @param floodgateStart the method\r\n */\r\nfunction setFloodgateStart(floodgateStart) {\r\n    floodgate.start = floodgateStart;\r\n}\r\n/**\r\n * Set the floodgate stop() method\r\n * @param floodgateStop the method\r\n */\r\nfunction setFloodgateStop(floodgateStop) {\r\n    floodgate.stop = floodgateStop;\r\n}\r\n/**\r\n * Set the floodgate getEngine() method\r\n * @param floodgateGetEngine the method\r\n */\r\nfunction setFloodgateGetEngine(floodgateGetEngine) {\r\n    floodgate.getEngine = floodgateGetEngine;\r\n}\r\n/**\r\n * Set the floodgate getSettingIdMap() method\r\n * @param floodgateSettingIdMap the method\r\n */\r\nfunction getSettingIdMap(floodgateSettingIdMap) {\r\n    floodgate.getSettingIdMap = floodgateSettingIdMap;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3cvV2luZG93LnRzPzc1NzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBVUgsSUFBTSxDQUFDLEdBQUcsTUFBYSxDQUFDO0FBQ3hCLElBQU0scUJBQXFCLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixHQUFHLENBQUMsQ0FBQyxxQkFBcUIsSUFBSSxFQUFFLENBQUM7QUFDdEYsSUFBTSxTQUFTLEdBQUcscUJBQXFCLENBQUMsU0FBUyxHQUFHLHFCQUFxQixDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7QUFFMUY7O0dBRUc7QUFDSSxTQUFTLEdBQUcsS0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFNUM7O0dBRUc7QUFDSSxTQUFTLFNBQVMsS0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFbEQ7OztHQUdHO0FBQ0ksU0FBUyxlQUFlLENBQUMsWUFBaUM7SUFDaEUscUJBQXFCLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztBQUNuRCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FDaEMsY0FBa0c7SUFDakcscUJBQXFCLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztBQUN4RCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxnQkFBZ0IsQ0FDL0IsYUFBMkU7SUFDMUUscUJBQXFCLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztBQUN0RCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FDaEMsaUJBQXVDO0lBQ3RDLHFCQUFxQixDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0FBQzlELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLG1CQUFtQixDQUNsQyxnQkFBc0U7SUFDckUscUJBQXFCLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7QUFDNUQsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsZ0NBQWdDLENBQy9DLDZCQUE0QztJQUMzQyxxQkFBcUIsQ0FBQyw2QkFBNkIsR0FBRyw2QkFBNkIsQ0FBQztBQUN0RixDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxzQkFBc0IsQ0FBQyxtQkFBd0Q7SUFDOUYsU0FBUyxDQUFDLFVBQVUsR0FBRyxtQkFBbUIsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyw0QkFBNEIsQ0FBQyx5QkFBa0U7SUFDOUcsU0FBUyxDQUFDLGdCQUFnQixHQUFHLHlCQUF5QixDQUFDO0FBQ3hELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLHNCQUFzQixDQUFDLG1CQUF1QztJQUM3RSxTQUFTLENBQUMsVUFBVSxHQUFHLG1CQUFtQixDQUFDO0FBQzVDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGlCQUFpQixDQUFDLGNBQWtDO0lBQ25FLFNBQVMsQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDO0FBQ2xDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGdCQUFnQixDQUFDLGFBQXlCO0lBQ3pELFNBQVMsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDO0FBQ2hDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLHFCQUFxQixDQUFDLGtCQUF5QztJQUM5RSxTQUFTLENBQUMsU0FBUyxHQUFHLGtCQUFrQixDQUFDO0FBQzFDLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGVBQWUsQ0FBQyxxQkFBbUQ7SUFDbEYsU0FBUyxDQUFDLGVBQWUsR0FBRyxxQkFBcUIsQ0FBQztBQUNuRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvV2luZG93L1dpbmRvdy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBXaW5kb3cudHNcclxuICpcclxuICogTW9kdWxlIHdyYXBwaW5nIGFyb3VuZCB0aGUgZ2xvYmFsIHdpbmRvdyBvYmplY3RcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2sgfSBmcm9tIFwiLi8uLi9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zXCI7XHJcbmltcG9ydCBJQ3VzdG9tU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvSUN1c3RvbVN1cnZleVwiO1xyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvSVVJU3VydmV5XCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1N0YXR1cyB9IGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5cclxuY29uc3QgdyA9IHdpbmRvdyBhcyBhbnk7XHJcbmNvbnN0IG9mZmljZUJyb3dzZXJGZWVkYmFjayA9IHcuT2ZmaWNlQnJvd3NlckZlZWRiYWNrID0gdy5PZmZpY2VCcm93c2VyRmVlZGJhY2sgfHwge307XHJcbmNvbnN0IGZsb29kZ2F0ZSA9IG9mZmljZUJyb3dzZXJGZWVkYmFjay5mbG9vZGdhdGUgPSBvZmZpY2VCcm93c2VyRmVlZGJhY2suZmxvb2RnYXRlIHx8IHt9O1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgSVdpbmRvdyBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQoKTogSVdpbmRvdyB7IHJldHVybiB3OyB9XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBJV2luZG93IG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbCgpOiBJV2luZG93IHsgcmV0dXJuIHc7IH1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIHNldFVpU3RyaW5ncygpIG1ldGhvZFxyXG4gKiBAcGFyYW0gc2V0VWlTdHJpbmdzIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXRVaVN0cmluZ3Moc2V0VWlTdHJpbmdzOiAoZGF0YTogYW55KSA9PiB2b2lkKSB7XHJcblx0b2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNldFVpU3RyaW5ncyA9IHNldFVpU3RyaW5ncztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgc2luZ2xlRmVlZGJhY2soKSBtZXRob2RcclxuICogQHBhcmFtIHNpbmdsZUZlZWRiYWNrIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTaW5nbGVGZWVkYmFjayhcclxuXHRzaW5nbGVGZWVkYmFjazogKGZlZWRiYWNrVHlwZTogc3RyaW5nLCBsYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spID0+IFByb21pc2U8YW55Pikge1xyXG5cdFx0b2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNpbmdsZUZlZWRiYWNrID0gc2luZ2xlRmVlZGJhY2s7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIG11bHRpRmVlZGJhY2soKSBtZXRob2RcclxuICogQHBhcmFtIG11bHRpRmVlZGJhY2sgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE11bHRpRmVlZGJhY2soXHJcblx0bXVsdGlGZWVkYmFjazogKGxhdW5jaE9wdGlvbnM6IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjaykgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0XHRvZmZpY2VCcm93c2VyRmVlZGJhY2subXVsdGlGZWVkYmFjayA9IG11bHRpRmVlZGJhY2s7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGdldEZlZWRiYWNrU3RhdHVzKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBnZXRGZWVkYmFja1N0YXR1cyB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmVlZGJhY2tTdGF0dXMoXHJcblx0Z2V0RmVlZGJhY2tTdGF0dXM6ICgpID0+IEZlZWRiYWNrU3RhdHVzKSB7XHJcblx0XHRvZmZpY2VCcm93c2VyRmVlZGJhY2suZ2V0RmVlZGJhY2tTdGF0dXMgPSBnZXRGZWVkYmFja1N0YXR1cztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgY3JlYXRlU2NyZWVuc2hvdCgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gY3JlYXRlU2NyZWVuc2hvdCB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3JlYXRlU2NyZWVuc2hvdChcclxuXHRjcmVhdGVTY3JlZW5zaG90OiAoZG9tRWxlbWVudD86IG9iamVjdCwgb3B0aW9ucz86IGFueSkgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0XHRvZmZpY2VCcm93c2VyRmVlZGJhY2suY3JlYXRlU2NyZWVuc2hvdCA9IGNyZWF0ZVNjcmVlbnNob3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGlzRmVlZGJhY2tTdXJ2ZXlFbmFibGVkQnlBQURDKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBpc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0SXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREMoXHJcblx0aXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREM6ICgpID0+IGJvb2xlYW4pIHtcclxuXHRcdG9mZmljZUJyb3dzZXJGZWVkYmFjay5pc0ZlZWRiYWNrU3VydmV5RW5hYmxlZEJ5QUFEQyA9IGlzRmVlZGJhY2tTdXJ2ZXlFbmFibGVkQnlBQURDO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgc2hvd1N1cnZleSgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlU2hvd1N1cnZleSB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmxvb2RnYXRlU2hvd1N1cnZleShmbG9vZGdhdGVTaG93U3VydmV5OiAoc3VydmV5OiBJVUlTdXJ2ZXkpID0+IFByb21pc2U8YW55Pikge1xyXG5cdGZsb29kZ2F0ZS5zaG93U3VydmV5ID0gZmxvb2RnYXRlU2hvd1N1cnZleTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIHNob3dDdXN0b21TdXJ2ZXkoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZVNob3dTdXJ2ZXkgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVNob3dDdXN0b21TdXJ2ZXkoZmxvb2RnYXRlU2hvd0N1c3RvbVN1cnZleTogKHN1cnZleTogSUN1c3RvbVN1cnZleSkgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0Zmxvb2RnYXRlLnNob3dDdXN0b21TdXJ2ZXkgPSBmbG9vZGdhdGVTaG93Q3VzdG9tU3VydmV5O1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgaW5pdGlhbGl6ZSgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlSW5pdGlhbGl6ZSB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmxvb2RnYXRlSW5pdGlhbGl6ZShmbG9vZGdhdGVJbml0aWFsaXplOiAoKSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRmbG9vZGdhdGUuaW5pdGlhbGl6ZSA9IGZsb29kZ2F0ZUluaXRpYWxpemU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGZsb29kZ2F0ZSBzdGFydCgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlU3RhcnQgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVN0YXJ0KGZsb29kZ2F0ZVN0YXJ0OiAoKSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRmbG9vZGdhdGUuc3RhcnQgPSBmbG9vZGdhdGVTdGFydDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIHN0b3AoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZVN0b3AgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVN0b3AoZmxvb2RnYXRlU3RvcDogKCkgPT4gdm9pZCkge1xyXG5cdGZsb29kZ2F0ZS5zdG9wID0gZmxvb2RnYXRlU3RvcDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIGdldEVuZ2luZSgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlR2V0RW5naW5lIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGbG9vZGdhdGVHZXRFbmdpbmUoZmxvb2RnYXRlR2V0RW5naW5lOiAoKSA9PiBGbG9vZGdhdGVFbmdpbmUpIHtcclxuXHRmbG9vZGdhdGUuZ2V0RW5naW5lID0gZmxvb2RnYXRlR2V0RW5naW5lO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgZ2V0U2V0dGluZ0lkTWFwKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBmbG9vZGdhdGVTZXR0aW5nSWRNYXAgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRpbmdJZE1hcChmbG9vZGdhdGVTZXR0aW5nSWRNYXA6ICgpID0+IElGbG9vZGdhdGVTZXR0aW5nSWRNYXApIHtcclxuXHRmbG9vZGdhdGUuZ2V0U2V0dGluZ0lkTWFwID0gZmxvb2RnYXRlU2V0dGluZ0lkTWFwO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElJbml0T3B0aW9ucyBleHRlbmRzIENvbmZpZ3VyYXRpb24uSUluaXRPcHRpb25zQ29tbW9uLCBDb25maWd1cmF0aW9uLklJbml0T3B0aW9uc0luQXBwRmVlZGJhY2sge1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElGbG9vZGdhdGUge1xyXG5cdGluaXRPcHRpb25zOiBDb25maWd1cmF0aW9uLklJbml0T3B0aW9uc0Zsb29kZ2F0ZTtcclxuXHRzaG93U3VydmV5OiAoc3VydmV5OiBJVUlTdXJ2ZXkpID0+IFByb21pc2U8YW55PjtcclxuXHRpbml0aWFsaXplOiAoKSA9PiBQcm9taXNlPGFueT47XHJcblx0c3RhcnQ6ICgpID0+IFByb21pc2U8YW55PjtcclxuXHRzdG9wOiAoKSA9PiB2b2lkO1xyXG5cdGdldEVuZ2luZTogKCkgPT4gRmxvb2RnYXRlRW5naW5lO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElXaW5kb3cgZXh0ZW5kcyBXaW5kb3dMb2NhbFN0b3JhZ2Uge1xyXG5cdE9mZmljZUJyb3dzZXJGZWVkYmFjazoge1xyXG5cdFx0aW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucztcclxuXHRcdG11bHRpRmVlZGJhY2s6IChsYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spID0+IFByb21pc2U8YW55PjtcclxuXHRcdHNka1ZlcnNpb246IHN0cmluZztcclxuXHRcdHNpbmdsZUZlZWRiYWNrOiAoZmVlZGJhY2tUeXBlOiBzdHJpbmcsIGxhdW5jaE9wdGlvbnM6IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjaykgPT4gUHJvbWlzZTxhbnk+O1xyXG5cdFx0c2V0VWlTdHJpbmdzOiAoZGF0YTogYW55KSA9PiB2b2lkO1xyXG5cdFx0aHRtbDJjYW52YXM6ICgpID0+ICgoZG9tRWxlbWVudD86IG9iamVjdCwgb3B0aW9ucz86IGFueSkgPT4gUHJvbWlzZTxIVE1MQ2FudmFzRWxlbWVudD4pO1xyXG5cdFx0Y3JlYXRlU2NyZWVuc2hvdDogKGRvbUVsZW1lbnQ/OiBvYmplY3QsIG9wdGlvbnM/OiBhbnkpID0+IFByb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+O1xyXG5cdFx0Zmxvb2RnYXRlOiBJRmxvb2RnYXRlO1xyXG5cdFx0aXNGZWVkYmFja1N1cnZleUVuYWJsZWRCeUFBREM6ICgpID0+IGJvb2xlYW47XHJcblx0XHRnZXRGZWVkYmFja1N0YXR1czogKCkgPT4gRmVlZGJhY2tTdGF0dXM7XHJcblx0fTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Window/Window.ts\n");

/***/ }),

/***/ "./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js":
/*!****************************************************************!*\
  !*** ./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(true)\r\n\t\tmodule.exports = factory();\r\n\telse { var i, a; }\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// identity function for calling harmony imports with the correct context\r\n/******/ \t__webpack_require__.i = function(value) { return value; };\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.primitives.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Int64 = /** @class */ (function () {\r\n    // BUG!!: need implement, currently, just handle 32bits number\r\n    function Int64(numberStr) {\r\n        this.low = 0;\r\n        this.high = 0;\r\n        this.low = parseInt(numberStr, 10);\r\n        if (this.low < 0) {\r\n            this.high = -1;\r\n        }\r\n    }\r\n    Int64.prototype.Equals = function (numberStr) {\r\n        var tmp = new Int64(numberStr);\r\n        return this.low === tmp.low && this.high === tmp.high;\r\n    };\r\n    return Int64;\r\n}());\r\nexports.Int64 = Int64;\r\nvar UInt64 = /** @class */ (function () {\r\n    // BUG!!: need implement, currently, just handle 32bits number\r\n    function UInt64(numberStr) {\r\n        this.low = 0;\r\n        this.high = 0;\r\n        this.low = parseInt(numberStr, 10);\r\n    }\r\n    UInt64.prototype.Equals = function (numberStr) {\r\n        var tmp = new UInt64(numberStr);\r\n        return this.low === tmp.low && this.high === tmp.high;\r\n    };\r\n    return UInt64;\r\n}());\r\nexports.UInt64 = UInt64;\r\nvar Number = /** @class */ (function () {\r\n    function Number() {\r\n    }\r\n    Number.ToByte = function (value) {\r\n        return this.ToUInt8(value);\r\n    };\r\n    Number.ToInt16 = function (value) {\r\n        var signMask = (value & 0x8000) << 16 >> 16;\r\n        return (value & 0x7fff) | signMask;\r\n    };\r\n    Number.ToInt32 = function (value) {\r\n        var signMask = (value & 0x80000000);\r\n        return (value & 0x7fffffff) | signMask;\r\n    };\r\n    Number.ToUInt8 = function (value) {\r\n        return value & 0xff;\r\n    };\r\n    Number.ToUInt32 = function (value) {\r\n        return value & 0xffffffff;\r\n    };\r\n    return Number;\r\n}());\r\nexports.Number = Number;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* Enums.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Common enum values used in the SDK.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AWTPiiKind;\r\n(function (AWTPiiKind) {\r\n    AWTPiiKind[AWTPiiKind[\"NotSet\"] = 0] = \"NotSet\";\r\n    AWTPiiKind[AWTPiiKind[\"DistinguishedName\"] = 1] = \"DistinguishedName\";\r\n    AWTPiiKind[AWTPiiKind[\"GenericData\"] = 2] = \"GenericData\";\r\n    AWTPiiKind[AWTPiiKind[\"IPV4Address\"] = 3] = \"IPV4Address\";\r\n    AWTPiiKind[AWTPiiKind[\"IPv6Address\"] = 4] = \"IPv6Address\";\r\n    AWTPiiKind[AWTPiiKind[\"MailSubject\"] = 5] = \"MailSubject\";\r\n    AWTPiiKind[AWTPiiKind[\"PhoneNumber\"] = 6] = \"PhoneNumber\";\r\n    AWTPiiKind[AWTPiiKind[\"QueryString\"] = 7] = \"QueryString\";\r\n    AWTPiiKind[AWTPiiKind[\"SipAddress\"] = 8] = \"SipAddress\";\r\n    AWTPiiKind[AWTPiiKind[\"SmtpAddress\"] = 9] = \"SmtpAddress\";\r\n    AWTPiiKind[AWTPiiKind[\"Identity\"] = 10] = \"Identity\";\r\n    AWTPiiKind[AWTPiiKind[\"Uri\"] = 11] = \"Uri\";\r\n    AWTPiiKind[AWTPiiKind[\"Fqdn\"] = 12] = \"Fqdn\";\r\n    // Supports scrubbing of the last octet in a IPV4 address. E.g. 10.121.227.147 becomes 10.121.227.*\r\n    AWTPiiKind[AWTPiiKind[\"IPV4AddressLegacy\"] = 13] = \"IPV4AddressLegacy\";\r\n})(AWTPiiKind = exports.AWTPiiKind || (exports.AWTPiiKind = {}));\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* AWTBondSerializer.ts\r\n* Author: Brent Erickson (brericks) and Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class to handler bond serialization.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Bond = __webpack_require__(9);\r\nvar Enums_1 = __webpack_require__(1);\r\nvar Utils = __webpack_require__(3);\r\nvar AWTBondSerializer = /** @class */ (function () {\r\n    function AWTBondSerializer() {\r\n    }\r\n    AWTBondSerializer.getPayloadBlob = function (requestDictionary, tokenCount) {\r\n        var stream = new Bond.IO.MemoryStream();\r\n        var writer = new Bond.CompactBinaryProtocolWriter(stream);\r\n        // Begin ClientCollector request\r\n        //Write TokenToDataPackagesMap\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 3);\r\n        writer.WriteMapContainerBegin(tokenCount, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_LIST);\r\n        Object.keys(requestDictionary).forEach(function (token) {\r\n            //write token\r\n            writer.WriteString(token);\r\n            var dataPackage = requestDictionary[token];\r\n            // Write list of DataPackages\r\n            writer.WriteContainerBegin(1, Bond.BondDataType.BT_STRUCT);\r\n            // Source\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 2);\r\n            writer.WriteString('act_default_source');\r\n            // DataPackageId\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 5);\r\n            writer.WriteString(Utils.newGuid());\r\n            // Timestamp\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_INT64, 6);\r\n            writer.WriteInt64(Utils.numberToBondInt64(Date.now()));\r\n            // Records\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_LIST, 8);\r\n            writer.WriteContainerBegin(dataPackage.length, Bond.BondDataType.BT_STRUCT);\r\n            for (var i = 0; i < dataPackage.length; ++i) {\r\n                writer.WriteBlob(dataPackage[i]);\r\n            }\r\n            writer.WriteStructEnd(false);\r\n        });\r\n        // End ClientCollector\r\n        writer.WriteStructEnd(false);\r\n        return stream.GetBuffer();\r\n    };\r\n    // As per mappings at https://skype.visualstudio.com/SCC/F.S4L.FUNDAMENTALS/_git/infrastructure_data_clienttelemetry?\r\n    // path=%2Fclienttelemetry%2Fsrc%2Fbond%2FDataPackage.bond&version=GBdev2&_a=contents\r\n    // Requires that the values of AWTEventData.properties must all be AWTEventProperty\r\n    AWTBondSerializer.getEventBlob = function (eventData) {\r\n        var stream = new Bond.IO.MemoryStream();\r\n        var writer = new Bond.CompactBinaryProtocolWriter(stream);\r\n        // ID\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 1);\r\n        writer.WriteString(eventData.id);\r\n        // Timestamp\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_INT64, 3);\r\n        writer.WriteInt64(Utils.numberToBondInt64(eventData.timestamp));\r\n        // Type\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 5);\r\n        writer.WriteString(eventData.type);\r\n        // Event Type\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 6);\r\n        writer.WriteString(eventData.name);\r\n        var propsString = [];\r\n        var piiProps = [];\r\n        // Iterate across event data properties and separate based on pii\r\n        Object.keys(eventData.properties).forEach(function (key) {\r\n            var property = eventData.properties[key];\r\n            if (property.pii === Enums_1.AWTPiiKind.NotSet) {\r\n                propsString.push(key);\r\n            }\r\n            else {\r\n                piiProps.push(key);\r\n            }\r\n        });\r\n        //Extension map\r\n        if (propsString.length) {\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 13);\r\n            writer.WriteMapContainerBegin(propsString.length, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_STRING);\r\n            propsString.forEach(function (name) {\r\n                writer.WriteString(name);\r\n                writer.WriteString(eventData.properties[name].value);\r\n            });\r\n        }\r\n        // Pii\r\n        if (piiProps.length) {\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 30);\r\n            writer.WriteMapContainerBegin(piiProps.length, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_STRUCT);\r\n            piiProps.forEach(function (name) {\r\n                writer.WriteString(name);\r\n                // PII Data\r\n                // O365 scrubber type\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_INT32, 1);\r\n                writer.WriteInt32(1);\r\n                // PII Kind\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_INT32, 2);\r\n                writer.WriteInt32(eventData.properties[name].pii);\r\n                // Value\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 3);\r\n                writer.WriteString(eventData.properties[name].value);\r\n                writer.WriteStructEnd(false);\r\n            });\r\n        }\r\n        writer.WriteStructEnd(false);\r\n        return stream.GetBuffer();\r\n    };\r\n    AWTBondSerializer.base64Encode = function (data) {\r\n        return Bond.Encoding.Base64.GetString(data);\r\n    };\r\n    return AWTBondSerializer;\r\n}());\r\nexports.default = AWTBondSerializer;\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* Utils.ts\r\n* Author: Brent Erickson (brericks) and Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Common functions used in the SDK.\r\n*/\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar GuidRegex = /[xy]/g;\r\nfunction numberToBondInt64(value) {\r\n    // Construct bond timestamp for aria\r\n    var bond_value = new microsoft_bond_primitives_1.Int64('0');\r\n    bond_value.low = value & 0xffffffff;\r\n    bond_value.high = Math.floor(value / 0x100000000);\r\n    return bond_value;\r\n}\r\nexports.numberToBondInt64 = numberToBondInt64;\r\nfunction newGuid() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(GuidRegex, function (c) {\r\n        var r = (Math.random() * 16 | 0), v = (c === 'x' ? r : r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\nexports.newGuid = newGuid;\r\nfunction isPii(value) {\r\n    if (!isNaN(value) && value !== null && value >= 0 && value <= 13) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isPii = isPii;\r\n\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* Version.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class for SDK version.\r\n*/\r\nexports.Version = '1.2.2';\r\nexports.FullVersionString = 'AWT-Web-CJS-' + exports.Version;\r\n\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* AriaSDK.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n*/\r\nvar Enums_1 = __webpack_require__(1);\r\nexports.AWTPiiKind = Enums_1.AWTPiiKind;\r\nvar AWT_1 = __webpack_require__(13);\r\nexports.AWT = AWT_1.default;\r\nexports.AWT_COLLECTOR_URL_UNITED_STATES = 'https://us.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_GERMANY = 'https://de.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_JAPAN = 'https://jp.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_AUSTRALIA = 'https://au.pipe.aria.microsoft.com/Collector/3.0/';\r\nexports.AWT_COLLECTOR_URL_EUROPE = 'https://eu.pipe.aria.microsoft.com/Collector/3.0/';\r\n\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* bond_const.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//------------------------------------------------------------------------------\r\n// <auto-generated>\r\n//     This code was generated by a tool.\r\n//\r\n//     Tool     : bondc, Version=3.0.1, Build=bond-git.debug.not\r\n//     Template : Microsoft.Bond.Rules.dll#TypeScript.tt\r\n//     File     : bond_const.ts\r\n//\r\n//     Changes to this file may cause incorrect behavior and will be lost when\r\n//     the code is regenerated.\r\n// </auto-generated>\r\n//------------------------------------------------------------------------------\r\nvar BondDataType;\r\n(function (BondDataType) {\r\n    BondDataType[BondDataType[\"BT_STOP\"] = 0] = \"BT_STOP\";\r\n    BondDataType[BondDataType[\"BT_STOP_BASE\"] = 1] = \"BT_STOP_BASE\";\r\n    BondDataType[BondDataType[\"BT_UINT8\"] = 3] = \"BT_UINT8\";\r\n    BondDataType[BondDataType[\"BT_UINT32\"] = 5] = \"BT_UINT32\";\r\n    BondDataType[BondDataType[\"BT_UINT64\"] = 6] = \"BT_UINT64\";\r\n    BondDataType[BondDataType[\"BT_STRING\"] = 9] = \"BT_STRING\";\r\n    BondDataType[BondDataType[\"BT_STRUCT\"] = 10] = \"BT_STRUCT\";\r\n    BondDataType[BondDataType[\"BT_LIST\"] = 11] = \"BT_LIST\";\r\n    BondDataType[BondDataType[\"BT_MAP\"] = 13] = \"BT_MAP\";\r\n    BondDataType[BondDataType[\"BT_INT32\"] = 16] = \"BT_INT32\";\r\n    BondDataType[BondDataType[\"BT_INT64\"] = 17] = \"BT_INT64\";\r\n    BondDataType[BondDataType[\"BT_UNAVAILABLE\"] = 127] = \"BT_UNAVAILABLE\";\r\n})(BondDataType = exports.BondDataType || (exports.BondDataType = {}));\r\n\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.encoding.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar Utf8 = /** @class */ (function () {\r\n    function Utf8() {\r\n    }\r\n    Utf8.GetBytes = function (value) {\r\n        var array = [];\r\n        for (var i = 0; i < value.length; ++i) {\r\n            var char = value.charCodeAt(i);\r\n            if (char < 0x80) {\r\n                array.push(char);\r\n            }\r\n            else if (char < 0x800) {\r\n                array.push(0xc0 | (char >> 6), 0x80 | (char & 0x3f));\r\n            }\r\n            else if (char < 0xd800 || char >= 0xe000) {\r\n                array.push(0xe0 | (char >> 12), 0x80 | ((char >> 6) & 0x3f), 0x80 | (char & 0x3f));\r\n            }\r\n            else {\r\n                char = 0x10000 + (((char & 0x3ff) << 10) | (value.charCodeAt(++i) & 0x3ff));\r\n                array.push(0xf0 | (char >> 18), 0x80 | ((char >> 12) & 0x3f), 0x80 | ((char >> 6) & 0x3f), 0x80 | (char & 0x3f));\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    return Utf8;\r\n}());\r\nexports.Utf8 = Utf8;\r\nvar Base64 = /** @class */ (function () {\r\n    function Base64() {\r\n    }\r\n    Base64.GetString = function (inArray) {\r\n        var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n        var output = [];\r\n        var paddingBytes = inArray.length % 3;\r\n        var toBase64 = function (num) {\r\n            return [lookup.charAt((num >> 18) & 0x3F),\r\n                lookup.charAt((num >> 12) & 0x3F),\r\n                lookup.charAt((num >> 6) & 0x3F),\r\n                lookup.charAt(num & 0x3F)].join('');\r\n        };\r\n        for (var i = 0, length_1 = inArray.length - paddingBytes; i < length_1; i += 3) {\r\n            var temp = (inArray[i] << 16) + (inArray[i + 1] << 8) + (inArray[i + 2]);\r\n            output.push(toBase64(temp));\r\n        }\r\n        switch (paddingBytes) {\r\n            case 1:\r\n                var temp = inArray[inArray.length - 1];\r\n                output.push(lookup.charAt(temp >> 2));\r\n                output.push(lookup.charAt((temp << 4) & 0x3F));\r\n                output.push('==');\r\n                break;\r\n            case 2:\r\n                var temp2 = (inArray[inArray.length - 2] << 8) + (inArray[inArray.length - 1]);\r\n                output.push(lookup.charAt(temp2 >> 10));\r\n                output.push(lookup.charAt((temp2 >> 4) & 0x3F));\r\n                output.push(lookup.charAt((temp2 << 2) & 0x3F));\r\n                output.push('=');\r\n                break;\r\n        }\r\n        return output.join('');\r\n    };\r\n    return Base64;\r\n}());\r\nexports.Base64 = Base64;\r\nvar Varint = /** @class */ (function () {\r\n    function Varint() {\r\n    }\r\n    Varint.GetBytes = function (value) {\r\n        var array = [];\r\n        while (value & 0xffffff80) {\r\n            array.push((value & 0x7f) | 0x80);\r\n            value >>>= 7;\r\n        }\r\n        array.push(value & 0x7f);\r\n        return array;\r\n    };\r\n    return Varint;\r\n}());\r\nexports.Varint = Varint;\r\nvar Varint64 = /** @class */ (function () {\r\n    function Varint64() {\r\n    }\r\n    Varint64.GetBytes = function (value) {\r\n        var low = value.low;\r\n        var high = value.high;\r\n        var array = [];\r\n        while (high || (0xffffff80 & low)) {\r\n            array.push((low & 0x7f) | 0x80);\r\n            low = ((high & 0x7f) << 25) | (low >>> 7);\r\n            high >>>= 7;\r\n        }\r\n        array.push(low & 0x7f);\r\n        return array;\r\n    };\r\n    return Varint64;\r\n}());\r\nexports.Varint64 = Varint64;\r\nvar Zigzag = /** @class */ (function () {\r\n    function Zigzag() {\r\n    }\r\n    Zigzag.EncodeZigzag32 = function (value) {\r\n        value = microsoft_bond_primitives_1.Number.ToInt32(value);\r\n        return ((value << 1) ^ (value >> (4 /*sizeof(int)*/ * 8 - 1)));\r\n    };\r\n    Zigzag.EncodeZigzag64 = function (value) {\r\n        var low = value.low;\r\n        var high = value.high;\r\n        var tmpH = (high << 1) | (low >>> 31);\r\n        var tmpL = low << 1;\r\n        if (high & 0x80000000) {\r\n            tmpH = ~tmpH;\r\n            tmpL = ~tmpL;\r\n        }\r\n        var res = new microsoft_bond_primitives_1.UInt64('0');\r\n        res.low = tmpL;\r\n        res.high = tmpH;\r\n        return res;\r\n    };\r\n    return Zigzag;\r\n}());\r\nexports.Zigzag = Zigzag;\r\n\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.io.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar MemoryStream = /** @class */ (function () {\r\n    function MemoryStream() {\r\n        this._buffer = [];\r\n    }\r\n    /*override*/\r\n    MemoryStream.prototype.WriteByte = function (byte) {\r\n        this._buffer.push(microsoft_bond_primitives_1.Number.ToByte(byte));\r\n    };\r\n    /*override*/\r\n    MemoryStream.prototype.Write = function (buffer, offset, count) {\r\n        while (count--) {\r\n            this.WriteByte(buffer[offset++]);\r\n        }\r\n    };\r\n    /**\r\n     * Returns the array of unsigned bytes from which this stream was created.\r\n     */\r\n    MemoryStream.prototype.GetBuffer = function () {\r\n        return this._buffer;\r\n    };\r\n    return MemoryStream;\r\n}());\r\nexports.MemoryStream = MemoryStream;\r\n\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n/**\r\n* microsoft.bond.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bond_const_1 = __webpack_require__(6);\r\nexports.BondDataType = bond_const_1.BondDataType;\r\nvar Encoding = __webpack_require__(7);\r\nexports.Encoding = Encoding;\r\nvar IO = __webpack_require__(8);\r\nexports.IO = IO;\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nexports.Int64 = microsoft_bond_primitives_1.Int64;\r\nexports.UInt64 = microsoft_bond_primitives_1.UInt64;\r\nexports.Number = microsoft_bond_primitives_1.Number;\r\nvar CompactBinaryProtocolWriter = /** @class */ (function () {\r\n    function CompactBinaryProtocolWriter(stream) {\r\n        this._stream = stream;\r\n    }\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteBlob = function (blob) {\r\n        this._stream.Write(blob, 0, blob.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteContainerBegin = function (size, elementType) {\r\n        this.WriteUInt8(elementType);\r\n        this.WriteUInt32(size);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteMapContainerBegin = function (size, keyType, valueType) {\r\n        this.WriteUInt8(keyType);\r\n        this.WriteUInt8(valueType);\r\n        this.WriteUInt32(size);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteFieldBegin = function (type, id) {\r\n        if (id <= 5) {\r\n            this._stream.WriteByte(type | (id << 5));\r\n        }\r\n        else if (id <= 0xff) {\r\n            this._stream.WriteByte(type | (6 << 5));\r\n            this._stream.WriteByte(id);\r\n        }\r\n        else {\r\n            this._stream.WriteByte(type | (7 << 5));\r\n            this._stream.WriteByte(id);\r\n            this._stream.WriteByte(id >> 8);\r\n        }\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteInt32 = function (value) {\r\n        value = Encoding.Zigzag.EncodeZigzag32(value);\r\n        this.WriteUInt32(value);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteInt64 = function (value) {\r\n        this.WriteUInt64(Encoding.Zigzag.EncodeZigzag64(value));\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteString = function (value) {\r\n        if (value === '') {\r\n            this.WriteUInt32(0 /*length*/);\r\n        }\r\n        else {\r\n            var array = Encoding.Utf8.GetBytes(value);\r\n            this.WriteUInt32(array.length);\r\n            this._stream.Write(array, 0, array.length);\r\n        }\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteStructEnd = function (isBase) {\r\n        this.WriteUInt8(isBase ? bond_const_1.BondDataType.BT_STOP_BASE : bond_const_1.BondDataType.BT_STOP);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt32 = function (value) {\r\n        var array = Encoding.Varint.GetBytes(microsoft_bond_primitives_1.Number.ToUInt32(value));\r\n        this._stream.Write(array, 0, array.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt64 = function (value) {\r\n        var array = Encoding.Varint64.GetBytes(value);\r\n        this._stream.Write(array, 0, array.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt8 = function (value) {\r\n        this._stream.WriteByte(microsoft_bond_primitives_1.Number.ToUInt8(value));\r\n    };\r\n    return CompactBinaryProtocolWriter;\r\n}());\r\nexports.CompactBinaryProtocolWriter = CompactBinaryProtocolWriter;\r\n\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SecToMsMultiplier = 1000;\r\nvar AWTKillSwitch = /** @class */ (function () {\r\n    function AWTKillSwitch() {\r\n        this._killedTokenDictionary = {};\r\n    }\r\n    AWTKillSwitch.prototype.setKillSwitchTenants = function (killTokens, killDuration) {\r\n        var _this = this;\r\n        if (killTokens && killDuration) {\r\n            try {\r\n                var killedTokens = killTokens.split(',');\r\n                if (killDuration === 'this-request-only') {\r\n                    return killedTokens;\r\n                }\r\n                var durationMs_1 = parseInt(killDuration, 10) * SecToMsMultiplier;\r\n                killedTokens.forEach(function (token) {\r\n                    _this._killedTokenDictionary[token] = Date.now() + durationMs_1;\r\n                });\r\n            }\r\n            catch (ex) {\r\n                return [];\r\n            }\r\n        }\r\n        return [];\r\n    };\r\n    AWTKillSwitch.prototype.isTenantKilled = function (tenantToken) {\r\n        if (this._killedTokenDictionary[tenantToken] !== undefined && this._killedTokenDictionary[tenantToken] > Date.now()) {\r\n            return true;\r\n        }\r\n        delete this._killedTokenDictionary[tenantToken];\r\n        return false;\r\n    };\r\n    return AWTKillSwitch;\r\n}());\r\nexports.default = AWTKillSwitch;\r\n\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AWTBondSerializer_1 = __webpack_require__(2);\r\nvar AWTRecordBatcher = /** @class */ (function () {\r\n    function AWTRecordBatcher(_maxRequestSize, _outboundQueue) {\r\n        this._maxRequestSize = _maxRequestSize;\r\n        this._outboundQueue = _outboundQueue;\r\n        this._currentBatch = {};\r\n        this._currentBatchSize = 0;\r\n    }\r\n    AWTRecordBatcher.prototype.addEventToBatch = function (event) {\r\n        var serializedEvent = AWTBondSerializer_1.default.getEventBlob(event);\r\n        if (serializedEvent.length > this._maxRequestSize) {\r\n            //single event too big\r\n            return;\r\n        }\r\n        if (this._currentBatchSize + serializedEvent.length > this._maxRequestSize) {\r\n            this.flushBatch();\r\n        }\r\n        else {\r\n            if (this._currentBatch[event.tenantToken] === undefined) {\r\n                this._currentBatch[event.tenantToken] = [];\r\n            }\r\n            this._currentBatch[event.tenantToken].push(serializedEvent);\r\n            this._currentBatchSize += serializedEvent.length;\r\n        }\r\n    };\r\n    AWTRecordBatcher.prototype.flushBatch = function () {\r\n        if (this._currentBatchSize > 0) {\r\n            this._outboundQueue.push(this._currentBatch);\r\n            this._currentBatch = {};\r\n            this._currentBatchSize = 0;\r\n        }\r\n    };\r\n    return AWTRecordBatcher;\r\n}());\r\nexports.default = AWTRecordBatcher;\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* AWTRetryPolicy.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class for retry policy.\r\n*/\r\nvar RandomizationLowerThreshold = 0.8;\r\nvar RandomizationUpperThreshold = 1.2;\r\nvar BaseBackoff = 3000;\r\nvar MaxBackoff = 120000;\r\nvar AWTRetryPolicy = /** @class */ (function () {\r\n    function AWTRetryPolicy() {\r\n    }\r\n    AWTRetryPolicy.shouldRetryForStatus = function (httpStatusCode) {\r\n        /* The below expression reads that we should only retry for:\r\n            - HttpStatusCodes that are smaller than 300.\r\n            - HttpStatusCodes greater or equal to 500 (except for 501-NotImplement\r\n              and 505-HttpVersionNotSupport).\r\n            - HttpStatusCode 408-RequestTimeout.\r\n           This is based on Microsoft.WindowsAzure.Storage.RetryPolicies.ExponentialRetry class */\r\n        return !((httpStatusCode >= 300 && httpStatusCode < 500 && httpStatusCode !== 408)\r\n            || (httpStatusCode === 501)\r\n            || (httpStatusCode === 505));\r\n    };\r\n    AWTRetryPolicy.getMillisToBackoffForRetry = function (retriesSoFar) {\r\n        var waitDuration = 0;\r\n        var minBackoff = BaseBackoff * RandomizationLowerThreshold;\r\n        var maxBackoff = BaseBackoff * RandomizationUpperThreshold;\r\n        var randomBackoff = Math.floor(Math.random() * (maxBackoff - minBackoff)) + minBackoff;\r\n        waitDuration = Math.pow(4, retriesSoFar) * randomBackoff;\r\n        return Math.min(waitDuration, MaxBackoff);\r\n    };\r\n    return AWTRetryPolicy;\r\n}());\r\nexports.default = AWTRetryPolicy;\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Enums_1 = __webpack_require__(1);\r\nvar AWTTransmissionManager_1 = __webpack_require__(14);\r\nvar Utils = __webpack_require__(3);\r\nvar Version = __webpack_require__(4);\r\nvar AllTokens = 'allTkns';\r\nvar EventNameAndTypeRegex = /^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/;\r\nvar EventNameDotRegex = /\\./g;\r\nvar PropertyNameRegex = /^[a-zA-Z0-9](([a-zA-Z0-9|_|\\.]){0,98}[a-zA-Z0-9])?$/;\r\nvar AWT = /** @class */ (function () {\r\n    function AWT() {\r\n    }\r\n    AWT.initialize = function (tenantToken, configuration) {\r\n        if (configuration === void 0) { configuration = {}; }\r\n        if (this._isInitialized) {\r\n            // tslint:disable-next-line\r\n            throw 'Already Initialized';\r\n        }\r\n        this._defaultTenantToken = tenantToken;\r\n        this._overrideValuesFromConfig(configuration);\r\n        //Create sender\r\n        AWTTransmissionManager_1.default.initialize(this._config);\r\n        this._isInitialized = true;\r\n    };\r\n    AWT.flush = function (callback) {\r\n        if (this._isInitialized && !this._isDestroyed) {\r\n            AWTTransmissionManager_1.default.flush(callback);\r\n        }\r\n    };\r\n    AWT.flushAndTeardown = function () {\r\n        if (this._isInitialized && !this._isDestroyed) {\r\n            this._isDestroyed = true;\r\n            AWTTransmissionManager_1.default.flushAndTeardown();\r\n        }\r\n    };\r\n    AWT.setContext = function (name, property, tenantToken) {\r\n        if (tenantToken === void 0) { tenantToken = AllTokens; }\r\n        property = this._sanitizeProperty(name, property);\r\n        if (property === null) {\r\n            return;\r\n        }\r\n        if (!this._contextProperties[tenantToken]) {\r\n            this._contextProperties[tenantToken] = {};\r\n        }\r\n        this._contextProperties[tenantToken][name] = property;\r\n    };\r\n    AWT.logEvent = function (event) {\r\n        var _this = this;\r\n        if (this._isInitialized) {\r\n            if (!event.name || !event.properties) {\r\n                return;\r\n            }\r\n            event.name = event.name.toLowerCase();\r\n            event.name.replace(EventNameDotRegex, '_');\r\n            var typePrefix = '';\r\n            if (!event.type) {\r\n                event.type = 'custom';\r\n            }\r\n            else {\r\n                event.type.toLowerCase();\r\n                typePrefix = 'custom.';\r\n            }\r\n            if (!EventNameAndTypeRegex.test(event.name) || !EventNameAndTypeRegex.test(event.type)) {\r\n                return;\r\n            }\r\n            event.type = typePrefix + event.type;\r\n            if (isNaN(event.timestamp)) {\r\n                event.timestamp = (new Date()).getTime();\r\n            }\r\n            if (!event.tenantToken) {\r\n                event.tenantToken = this._defaultTenantToken;\r\n            }\r\n            event.id = Utils.newGuid();\r\n            Object.keys(event.properties).forEach(function (name) {\r\n                event.properties[name] = _this._sanitizeProperty(name, event.properties[name]);\r\n                if (event.properties[name] === null) {\r\n                    delete event.properties[name];\r\n                }\r\n            });\r\n            this._addContextIfAbsent(event, event.tenantToken);\r\n            this._addContextIfAbsent(event, AllTokens);\r\n            if (Object.keys(event.properties).length === 0) {\r\n                return;\r\n            }\r\n            this._setDefaultProperty(event, 'EventInfo.InitId', this._getInitId(event.tenantToken));\r\n            this._setDefaultProperty(event, 'EventInfo.Sequence', this._getSequenceId(event.tenantToken));\r\n            this._setDefaultProperty(event, 'EventInfo.SdkVersion', Version.FullVersionString);\r\n            this._setDefaultProperty(event, 'EventInfo.Name', event.name);\r\n            this._setDefaultProperty(event, 'EventInfo.Time', (new Date(event.timestamp)).toISOString());\r\n            AWTTransmissionManager_1.default.sendEvent(event);\r\n        }\r\n    };\r\n    AWT._overrideValuesFromConfig = function (config) {\r\n        if (config.collectorUrl) {\r\n            this._config.collectorUrl = config.collectorUrl;\r\n        }\r\n        if (config.sendingTimer > 1000) {\r\n            this._config.sendingTimer = config.sendingTimer;\r\n        }\r\n    };\r\n    AWT._getInitId = function (tenantToken) {\r\n        if (this._initIdMap[tenantToken] === undefined) {\r\n            this._initIdMap[tenantToken] = Utils.newGuid();\r\n        }\r\n        return this._initIdMap[tenantToken];\r\n    };\r\n    AWT._getSequenceId = function (tenantToken) {\r\n        if (this._sequenceIdMap[tenantToken] === undefined) {\r\n            this._sequenceIdMap[tenantToken] = 0;\r\n        }\r\n        return (++this._sequenceIdMap[tenantToken]).toString();\r\n    };\r\n    AWT._setDefaultProperty = function (event, name, value) {\r\n        event.properties[name] = { value: value, pii: Enums_1.AWTPiiKind.NotSet };\r\n    };\r\n    AWT._addContextIfAbsent = function (event, tenantToken) {\r\n        if (this._contextProperties[tenantToken]) {\r\n            var context_1 = this._contextProperties[tenantToken];\r\n            Object.keys(context_1).forEach(function (name) {\r\n                if (!event.properties[name]) {\r\n                    event.properties[name] = context_1[name];\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AWT._sanitizeProperty = function (name, property) {\r\n        if (typeof property === 'string' || typeof property === 'number' || typeof property === 'boolean') {\r\n            property = { value: property };\r\n        }\r\n        if (!PropertyNameRegex.test(name) || property === undefined || property === null\r\n            || property.value === null || property.value === undefined || property.value === '') {\r\n            return null;\r\n        }\r\n        if (typeof property.pii === 'undefined') {\r\n            property.pii = Enums_1.AWTPiiKind.NotSet;\r\n        }\r\n        property.value = property.value.toString();\r\n        return Utils.isPii(property.pii) ? property : null;\r\n    };\r\n    AWT._isInitialized = false;\r\n    AWT._isDestroyed = false;\r\n    AWT._contextProperties = {};\r\n    AWT._sequenceIdMap = {};\r\n    AWT._initIdMap = {};\r\n    AWT._config = {\r\n        collectorUrl: 'https://browser.pipe.aria.microsoft.com/Collector/3.0/',\r\n        sendingTimer: 1000\r\n    };\r\n    return AWT;\r\n}());\r\nexports.default = AWT;\r\n\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AWTRecordBatcher_1 = __webpack_require__(11);\r\nvar AWTBondSerializer_1 = __webpack_require__(2);\r\nvar AWTRetryPolicy_1 = __webpack_require__(12);\r\nvar AWTKillSwitch_1 = __webpack_require__(10);\r\nvar Version = __webpack_require__(4);\r\nvar FlushCheckTimer = 250;\r\nvar RequestSizeLimitBytes = 2936012; //approx 2.8 Mb\r\nvar MaxRetries = 4;\r\nvar AWTTransmissionManager = /** @class */ (function () {\r\n    function AWTTransmissionManager() {\r\n    }\r\n    AWTTransmissionManager.initialize = function (config) {\r\n        this._inboundQueues.push([]);\r\n        this._recordBatcher = new AWTRecordBatcher_1.default(RequestSizeLimitBytes, this._outboundQueue);\r\n        this._newEventsAllowed = true;\r\n        if (typeof Uint8Array === 'undefined') {\r\n            this._urlString += '&content-encoding=base64';\r\n        }\r\n        this._sendingTimer = config.sendingTimer;\r\n        this._urlString = config.collectorUrl + this._urlString + '&x-apikey=';\r\n    };\r\n    //Push the event into the inbound queue and return\r\n    AWTTransmissionManager.sendEvent = function (event) {\r\n        var _this = this;\r\n        if (this._newEventsAllowed) {\r\n            //Add event to the last inbound queue\r\n            this._inboundQueues[this._inboundQueues.length - 1].push(event);\r\n            if (!this._running && this._timeout < 0 && !this._isCurrentlyFlushing) {\r\n                this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, this._sendingTimer);\r\n            }\r\n        }\r\n    };\r\n    AWTTransmissionManager.flushAndTeardown = function () {\r\n        this._newEventsAllowed = false;\r\n        this._batchAndSendEvents(true);\r\n    };\r\n    AWTTransmissionManager.flush = function (callback) {\r\n        this._inboundQueues.push([]);\r\n        if (!this._isCurrentlyFlushing) {\r\n            this._isCurrentlyFlushing = true;\r\n            this._flush(callback);\r\n        }\r\n        else {\r\n            this._flushQueue.push(callback);\r\n        }\r\n    };\r\n    AWTTransmissionManager._batchAndSendEvents = function (isTeardown) {\r\n        this._running = true;\r\n        while (this._inboundQueues[0].length > 0 && this._outboundQueue.length < 1) {\r\n            this._recordBatcher.addEventToBatch(this._inboundQueues[0].pop());\r\n        }\r\n        if (this._outboundQueue.length === 0) {\r\n            this._recordBatcher.flushBatch();\r\n        }\r\n        this._sendRequest(this._outboundQueue.pop(), 0, isTeardown);\r\n    };\r\n    AWTTransmissionManager._retryRequestIfNeeded = function (conn, request, tokenCount, apikey, retryCount) {\r\n        var _this = this;\r\n        var shouldRetry = true;\r\n        if (conn && typeof conn.status !== 'undefined') {\r\n            var killedTokens = this._killSwitch.setKillSwitchTenants(conn.getResponseHeader('kill-tokens'), conn.getResponseHeader('kill-duration-seconds'));\r\n            killedTokens.forEach(function (key) {\r\n                delete request[key];\r\n                tokenCount--;\r\n            });\r\n            if (!AWTRetryPolicy_1.default.shouldRetryForStatus(conn.status) || tokenCount <= 0) {\r\n                shouldRetry = false;\r\n            }\r\n        }\r\n        if (shouldRetry && retryCount < MaxRetries) {\r\n            setTimeout(function () { return _this._sendRequest(request, retryCount + 1, false); }, AWTRetryPolicy_1.default.getMillisToBackoffForRetry(retryCount));\r\n        }\r\n        else {\r\n            this._handleRequestFinished(null);\r\n        }\r\n    };\r\n    AWTTransmissionManager._sendRequest = function (request, retryCount, isTeardown) {\r\n        var _this = this;\r\n        try {\r\n            var conn_1 = new XMLHttpRequest();\r\n            var tokenCount_1 = 0;\r\n            var apikey_1 = '';\r\n            Object.keys(request).forEach(function (token) {\r\n                if (!_this._killSwitch.isTenantKilled(token)) {\r\n                    if (apikey_1.length > 0) {\r\n                        apikey_1 += ',';\r\n                    }\r\n                    apikey_1 += token;\r\n                    tokenCount_1++;\r\n                }\r\n                else {\r\n                    delete request[token];\r\n                }\r\n            });\r\n            conn_1.open('POST', this._urlString + apikey_1, !isTeardown);\r\n            if (!isTeardown) {\r\n                conn_1.ontimeout = function () {\r\n                    _this._retryRequestIfNeeded(conn_1, request, tokenCount_1, apikey_1, retryCount);\r\n                };\r\n                conn_1.onerror = function () {\r\n                    _this._retryRequestIfNeeded(conn_1, request, tokenCount_1, apikey_1, retryCount);\r\n                };\r\n                conn_1.onload = function () {\r\n                    _this._handleRequestFinished(conn_1);\r\n                };\r\n            }\r\n            if (tokenCount_1 > 0) {\r\n                var blob = AWTBondSerializer_1.default.getPayloadBlob(request, tokenCount_1);\r\n                if (typeof Uint8Array === 'undefined') {\r\n                    conn_1.send(AWTBondSerializer_1.default.base64Encode(blob));\r\n                }\r\n                else {\r\n                    conn_1.send(new Uint8Array(blob));\r\n                }\r\n            }\r\n            else if (isTeardown) {\r\n                this._handleRequestFinished(null);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._handleRequestFinished(null);\r\n        }\r\n    };\r\n    AWTTransmissionManager._handleRequestFinished = function (conn) {\r\n        var _this = this;\r\n        if (conn) {\r\n            this._killSwitch.setKillSwitchTenants(conn.getResponseHeader('kill-tokens'), conn.getResponseHeader('kill-duration-seconds'));\r\n        }\r\n        if (this._inboundQueues[0].length > 0) {\r\n            this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, this._sendingTimer);\r\n        }\r\n        else {\r\n            this._timeout = -1;\r\n            this._running = false;\r\n        }\r\n    };\r\n    AWTTransmissionManager._flush = function (callback) {\r\n        var _this = this;\r\n        if (!this._running) {\r\n            if (this._timeout > -1) {\r\n                clearTimeout(this._timeout);\r\n                this._timeout = -1;\r\n            }\r\n            if (this._inboundQueues[0].length > 0) {\r\n                this._batchAndSendEvents(false);\r\n            }\r\n        }\r\n        this._checkPrimaryInboundQueueEmpty(function () {\r\n            //Move the next queue to be primary\r\n            _this._inboundQueues.shift();\r\n            if (callback !== null && callback !== undefined) {\r\n                callback();\r\n            }\r\n            if (_this._flushQueue.length > 0) {\r\n                setTimeout(function () { return _this._flush(_this._flushQueue.shift()); }, _this._sendingTimer);\r\n            }\r\n            else {\r\n                _this._isCurrentlyFlushing = false;\r\n                if (_this._inboundQueues[0].length > 0) {\r\n                    _this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, _this._sendingTimer);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    AWTTransmissionManager._checkPrimaryInboundQueueEmpty = function (callback) {\r\n        var _this = this;\r\n        if (this._inboundQueues[0].length === 0) {\r\n            this._checkOutboundQueueEmptyAndSent(callback);\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this._checkPrimaryInboundQueueEmpty(callback); }, FlushCheckTimer);\r\n        }\r\n    };\r\n    AWTTransmissionManager._checkOutboundQueueEmptyAndSent = function (callback) {\r\n        var _this = this;\r\n        if (!this._running) {\r\n            callback();\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this._checkOutboundQueueEmptyAndSent(callback); }, FlushCheckTimer);\r\n        }\r\n    };\r\n    AWTTransmissionManager._outboundQueue = [];\r\n    AWTTransmissionManager._inboundQueues = [];\r\n    AWTTransmissionManager._newEventsAllowed = false;\r\n    AWTTransmissionManager._killSwitch = new AWTKillSwitch_1.default();\r\n    AWTTransmissionManager._isCurrentlyFlushing = false;\r\n    AWTTransmissionManager._flushQueue = [];\r\n    AWTTransmissionManager._running = false;\r\n    AWTTransmissionManager._timeout = -1;\r\n    AWTTransmissionManager._urlString = '?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version='\r\n        + Version.FullVersionString;\r\n    return AWTTransmissionManager;\r\n}());\r\nexports.default = AWTTransmissionManager;\r\n\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nmodule.exports = __webpack_require__(5);\r\n\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=aria-webjs-compact-sdk-1.2.2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2FyaWEtd2VianMtY29tcGFjdC1zZGstMS4yLjIuanM/YzRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLElBQUksSUFBeUQ7QUFDN0Q7QUFDQSxNQUFNLGFBS0o7QUFDRixDQUFDO0FBQ0Qsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEIsRUFBRTtBQUMvRCx5Q0FBeUMsZUFBZTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELCtEQUErRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUEsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7O0FBR0EsT0FB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QUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx5Q0FBeUMsRUFBRTtBQUN4RztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVEQUF1RCxFQUFFO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQXdELEVBQUU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2FyaWEtd2VianMtY29tcGFjdC1zZGstMS4yLjIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xyXG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JylcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxyXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcclxuXHRlbHNlIHtcclxuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xyXG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xyXG5cdH1cclxufSkodGhpcywgZnVuY3Rpb24oKSB7XHJcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXHJcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxyXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cclxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcclxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcclxuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxyXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXHJcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxyXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xyXG4vKioqKioqL1xyXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXHJcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XHJcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH07XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xyXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcclxuLyoqKioqKi8gXHR9O1xyXG4vKioqKioqL1xyXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXHJcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTUpO1xyXG4vKioqKioqLyB9KVxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKioqKioqLyAoW1xyXG4vKiAwICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogbWljcm9zb2Z0LmJvbmQucHJpbWl0aXZlcy50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSW50NjQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBCVUchITogbmVlZCBpbXBsZW1lbnQsIGN1cnJlbnRseSwganVzdCBoYW5kbGUgMzJiaXRzIG51bWJlclxyXG4gICAgZnVuY3Rpb24gSW50NjQobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdGhpcy5sb3cgPSAwO1xyXG4gICAgICAgIHRoaXMuaGlnaCA9IDA7XHJcbiAgICAgICAgdGhpcy5sb3cgPSBwYXJzZUludChudW1iZXJTdHIsIDEwKTtcclxuICAgICAgICBpZiAodGhpcy5sb3cgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEludDY0LnByb3RvdHlwZS5FcXVhbHMgPSBmdW5jdGlvbiAobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IG5ldyBJbnQ2NChudW1iZXJTdHIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvdyA9PT0gdG1wLmxvdyAmJiB0aGlzLmhpZ2ggPT09IHRtcC5oaWdoO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnQ2NDtcclxufSgpKTtcclxuZXhwb3J0cy5JbnQ2NCA9IEludDY0O1xyXG52YXIgVUludDY0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gQlVHISE6IG5lZWQgaW1wbGVtZW50LCBjdXJyZW50bHksIGp1c3QgaGFuZGxlIDMyYml0cyBudW1iZXJcclxuICAgIGZ1bmN0aW9uIFVJbnQ2NChudW1iZXJTdHIpIHtcclxuICAgICAgICB0aGlzLmxvdyA9IDA7XHJcbiAgICAgICAgdGhpcy5oaWdoID0gMDtcclxuICAgICAgICB0aGlzLmxvdyA9IHBhcnNlSW50KG51bWJlclN0ciwgMTApO1xyXG4gICAgfVxyXG4gICAgVUludDY0LnByb3RvdHlwZS5FcXVhbHMgPSBmdW5jdGlvbiAobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IG5ldyBVSW50NjQobnVtYmVyU3RyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb3cgPT09IHRtcC5sb3cgJiYgdGhpcy5oaWdoID09PSB0bXAuaGlnaDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVUludDY0O1xyXG59KCkpO1xyXG5leHBvcnRzLlVJbnQ2NCA9IFVJbnQ2NDtcclxudmFyIE51bWJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE51bWJlcigpIHtcclxuICAgIH1cclxuICAgIE51bWJlci5Ub0J5dGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Ub1VJbnQ4KHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9JbnQxNiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaWduTWFzayA9ICh2YWx1ZSAmIDB4ODAwMCkgPDwgMTYgPj4gMTY7XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmIDB4N2ZmZikgfCBzaWduTWFzaztcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9JbnQzMiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaWduTWFzayA9ICh2YWx1ZSAmIDB4ODAwMDAwMDApO1xyXG4gICAgICAgIHJldHVybiAodmFsdWUgJiAweDdmZmZmZmZmKSB8IHNpZ25NYXNrO1xyXG4gICAgfTtcclxuICAgIE51bWJlci5Ub1VJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICYgMHhmZjtcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9VSW50MzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgJiAweGZmZmZmZmZmO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBOdW1iZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuTnVtYmVyID0gTnVtYmVyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogRW51bXMudHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENvbW1vbiBlbnVtIHZhbHVlcyB1c2VkIGluIHRoZSBTREsuXHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEFXVFBpaUtpbmQ7XHJcbihmdW5jdGlvbiAoQVdUUGlpS2luZCkge1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiTm90U2V0XCJdID0gMF0gPSBcIk5vdFNldFwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiRGlzdGluZ3Vpc2hlZE5hbWVcIl0gPSAxXSA9IFwiRGlzdGluZ3Vpc2hlZE5hbWVcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIkdlbmVyaWNEYXRhXCJdID0gMl0gPSBcIkdlbmVyaWNEYXRhXCI7XHJcbiAgICBBV1RQaWlLaW5kW0FXVFBpaUtpbmRbXCJJUFY0QWRkcmVzc1wiXSA9IDNdID0gXCJJUFY0QWRkcmVzc1wiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiSVB2NkFkZHJlc3NcIl0gPSA0XSA9IFwiSVB2NkFkZHJlc3NcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIk1haWxTdWJqZWN0XCJdID0gNV0gPSBcIk1haWxTdWJqZWN0XCI7XHJcbiAgICBBV1RQaWlLaW5kW0FXVFBpaUtpbmRbXCJQaG9uZU51bWJlclwiXSA9IDZdID0gXCJQaG9uZU51bWJlclwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiUXVlcnlTdHJpbmdcIl0gPSA3XSA9IFwiUXVlcnlTdHJpbmdcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIlNpcEFkZHJlc3NcIl0gPSA4XSA9IFwiU2lwQWRkcmVzc1wiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiU210cEFkZHJlc3NcIl0gPSA5XSA9IFwiU210cEFkZHJlc3NcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIklkZW50aXR5XCJdID0gMTBdID0gXCJJZGVudGl0eVwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiVXJpXCJdID0gMTFdID0gXCJVcmlcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIkZxZG5cIl0gPSAxMl0gPSBcIkZxZG5cIjtcclxuICAgIC8vIFN1cHBvcnRzIHNjcnViYmluZyBvZiB0aGUgbGFzdCBvY3RldCBpbiBhIElQVjQgYWRkcmVzcy4gRS5nLiAxMC4xMjEuMjI3LjE0NyBiZWNvbWVzIDEwLjEyMS4yMjcuKlxyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiSVBWNEFkZHJlc3NMZWdhY3lcIl0gPSAxM10gPSBcIklQVjRBZGRyZXNzTGVnYWN5XCI7XHJcbn0pKEFXVFBpaUtpbmQgPSBleHBvcnRzLkFXVFBpaUtpbmQgfHwgKGV4cG9ydHMuQVdUUGlpS2luZCA9IHt9KSk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDIgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBBV1RCb25kU2VyaWFsaXplci50c1xyXG4qIEF1dGhvcjogQnJlbnQgRXJpY2tzb24gKGJyZXJpY2tzKSBhbmQgQWJoaWxhc2ggUGFud2FyIChhYnBhbndhcilcclxuKiBDb3B5cmlnaHQ6IE1pY3Jvc29mdCAyMDE2XHJcbiogQ2xhc3MgdG8gaGFuZGxlciBib25kIHNlcmlhbGl6YXRpb24uXHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEJvbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgRW51bXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbnZhciBBV1RCb25kU2VyaWFsaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFXVEJvbmRTZXJpYWxpemVyKCkge1xyXG4gICAgfVxyXG4gICAgQVdUQm9uZFNlcmlhbGl6ZXIuZ2V0UGF5bG9hZEJsb2IgPSBmdW5jdGlvbiAocmVxdWVzdERpY3Rpb25hcnksIHRva2VuQ291bnQpIHtcclxuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IEJvbmQuSU8uTWVtb3J5U3RyZWFtKCk7XHJcbiAgICAgICAgdmFyIHdyaXRlciA9IG5ldyBCb25kLkNvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcihzdHJlYW0pO1xyXG4gICAgICAgIC8vIEJlZ2luIENsaWVudENvbGxlY3RvciByZXF1ZXN0XHJcbiAgICAgICAgLy9Xcml0ZSBUb2tlblRvRGF0YVBhY2thZ2VzTWFwXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9NQVAsIDMpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZU1hcENvbnRhaW5lckJlZ2luKHRva2VuQ291bnQsIEJvbmQuQm9uZERhdGFUeXBlLkJUX1NUUklORywgQm9uZC5Cb25kRGF0YVR5cGUuQlRfTElTVCk7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocmVxdWVzdERpY3Rpb25hcnkpLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIC8vd3JpdGUgdG9rZW5cclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKHRva2VuKTtcclxuICAgICAgICAgICAgdmFyIGRhdGFQYWNrYWdlID0gcmVxdWVzdERpY3Rpb25hcnlbdG9rZW5dO1xyXG4gICAgICAgICAgICAvLyBXcml0ZSBsaXN0IG9mIERhdGFQYWNrYWdlc1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVDb250YWluZXJCZWdpbigxLCBCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJVQ1QpO1xyXG4gICAgICAgICAgICAvLyBTb3VyY2VcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDIpO1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoJ2FjdF9kZWZhdWx0X3NvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBEYXRhUGFja2FnZUlkXHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCA1KTtcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKFV0aWxzLm5ld0d1aWQoKSk7XHJcbiAgICAgICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX0lOVDY0LCA2KTtcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlSW50NjQoVXRpbHMubnVtYmVyVG9Cb25kSW50NjQoRGF0ZS5ub3coKSkpO1xyXG4gICAgICAgICAgICAvLyBSZWNvcmRzXHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfTElTVCwgOCk7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUNvbnRhaW5lckJlZ2luKGRhdGFQYWNrYWdlLmxlbmd0aCwgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSVUNUKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUGFja2FnZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlQmxvYihkYXRhUGFja2FnZVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RydWN0RW5kKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBFbmQgQ2xpZW50Q29sbGVjdG9yXHJcbiAgICAgICAgd3JpdGVyLldyaXRlU3RydWN0RW5kKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gc3RyZWFtLkdldEJ1ZmZlcigpO1xyXG4gICAgfTtcclxuICAgIC8vIEFzIHBlciBtYXBwaW5ncyBhdCBodHRwczovL3NreXBlLnZpc3VhbHN0dWRpby5jb20vU0NDL0YuUzRMLkZVTkRBTUVOVEFMUy9fZ2l0L2luZnJhc3RydWN0dXJlX2RhdGFfY2xpZW50dGVsZW1ldHJ5P1xyXG4gICAgLy8gcGF0aD0lMkZjbGllbnR0ZWxlbWV0cnklMkZzcmMlMkZib25kJTJGRGF0YVBhY2thZ2UuYm9uZCZ2ZXJzaW9uPUdCZGV2MiZfYT1jb250ZW50c1xyXG4gICAgLy8gUmVxdWlyZXMgdGhhdCB0aGUgdmFsdWVzIG9mIEFXVEV2ZW50RGF0YS5wcm9wZXJ0aWVzIG11c3QgYWxsIGJlIEFXVEV2ZW50UHJvcGVydHlcclxuICAgIEFXVEJvbmRTZXJpYWxpemVyLmdldEV2ZW50QmxvYiA9IGZ1bmN0aW9uIChldmVudERhdGEpIHtcclxuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IEJvbmQuSU8uTWVtb3J5U3RyZWFtKCk7XHJcbiAgICAgICAgdmFyIHdyaXRlciA9IG5ldyBCb25kLkNvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcihzdHJlYW0pO1xyXG4gICAgICAgIC8vIElEXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDEpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZVN0cmluZyhldmVudERhdGEuaWQpO1xyXG4gICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfSU5UNjQsIDMpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZUludDY0KFV0aWxzLm51bWJlclRvQm9uZEludDY0KGV2ZW50RGF0YS50aW1lc3RhbXApKTtcclxuICAgICAgICAvLyBUeXBlXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDUpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZVN0cmluZyhldmVudERhdGEudHlwZSk7XHJcbiAgICAgICAgLy8gRXZlbnQgVHlwZVxyXG4gICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCA2KTtcclxuICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoZXZlbnREYXRhLm5hbWUpO1xyXG4gICAgICAgIHZhciBwcm9wc1N0cmluZyA9IFtdO1xyXG4gICAgICAgIHZhciBwaWlQcm9wcyA9IFtdO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgYWNyb3NzIGV2ZW50IGRhdGEgcHJvcGVydGllcyBhbmQgc2VwYXJhdGUgYmFzZWQgb24gcGlpXHJcbiAgICAgICAgT2JqZWN0LmtleXMoZXZlbnREYXRhLnByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBldmVudERhdGEucHJvcGVydGllc1trZXldO1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkucGlpID09PSBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0KSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1N0cmluZy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwaWlQcm9wcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL0V4dGVuc2lvbiBtYXBcclxuICAgICAgICBpZiAocHJvcHNTdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfTUFQLCAxMyk7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZU1hcENvbnRhaW5lckJlZ2luKHByb3BzU3RyaW5nLmxlbmd0aCwgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCBCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcpO1xyXG4gICAgICAgICAgICBwcm9wc1N0cmluZy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoZXZlbnREYXRhLnByb3BlcnRpZXNbbmFtZV0udmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGlpXHJcbiAgICAgICAgaWYgKHBpaVByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX01BUCwgMzApO1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVNYXBDb250YWluZXJCZWdpbihwaWlQcm9wcy5sZW5ndGgsIEJvbmQuQm9uZERhdGFUeXBlLkJUX1NUUklORywgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSVUNUKTtcclxuICAgICAgICAgICAgcGlpUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gUElJIERhdGFcclxuICAgICAgICAgICAgICAgIC8vIE8zNjUgc2NydWJiZXIgdHlwZVxyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9JTlQzMiwgMSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVJbnQzMigxKTtcclxuICAgICAgICAgICAgICAgIC8vIFBJSSBLaW5kXHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX0lOVDMyLCAyKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlci5Xcml0ZUludDMyKGV2ZW50RGF0YS5wcm9wZXJ0aWVzW25hbWVdLnBpaSk7XHJcbiAgICAgICAgICAgICAgICAvLyBWYWx1ZVxyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDMpO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKGV2ZW50RGF0YS5wcm9wZXJ0aWVzW25hbWVdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlci5Xcml0ZVN0cnVjdEVuZChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3cml0ZXIuV3JpdGVTdHJ1Y3RFbmQoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiBzdHJlYW0uR2V0QnVmZmVyKCk7XHJcbiAgICB9O1xyXG4gICAgQVdUQm9uZFNlcmlhbGl6ZXIuYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gQm9uZC5FbmNvZGluZy5CYXNlNjQuR2V0U3RyaW5nKGRhdGEpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RCb25kU2VyaWFsaXplcjtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQVdUQm9uZFNlcmlhbGl6ZXI7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDMgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4qIFV0aWxzLnRzXHJcbiogQXV0aG9yOiBCcmVudCBFcmlja3NvbiAoYnJlcmlja3MpIGFuZCBBYmhpbGFzaCBQYW53YXIgKGFicGFud2FyKVxyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKiBDb21tb24gZnVuY3Rpb25zIHVzZWQgaW4gdGhlIFNESy5cclxuKi9cclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBHdWlkUmVnZXggPSAvW3h5XS9nO1xyXG5mdW5jdGlvbiBudW1iZXJUb0JvbmRJbnQ2NCh2YWx1ZSkge1xyXG4gICAgLy8gQ29uc3RydWN0IGJvbmQgdGltZXN0YW1wIGZvciBhcmlhXHJcbiAgICB2YXIgYm9uZF92YWx1ZSA9IG5ldyBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuSW50NjQoJzAnKTtcclxuICAgIGJvbmRfdmFsdWUubG93ID0gdmFsdWUgJiAweGZmZmZmZmZmO1xyXG4gICAgYm9uZF92YWx1ZS5oaWdoID0gTWF0aC5mbG9vcih2YWx1ZSAvIDB4MTAwMDAwMDAwKTtcclxuICAgIHJldHVybiBib25kX3ZhbHVlO1xyXG59XHJcbmV4cG9ydHMubnVtYmVyVG9Cb25kSW50NjQgPSBudW1iZXJUb0JvbmRJbnQ2NDtcclxuZnVuY3Rpb24gbmV3R3VpZCgpIHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKEd1aWRSZWdleCwgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYgfCAwKSwgdiA9IChjID09PSAneCcgPyByIDogciAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy5uZXdHdWlkID0gbmV3R3VpZDtcclxuZnVuY3Rpb24gaXNQaWkodmFsdWUpIHtcclxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gMTMpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLmlzUGlpID0gaXNQaWk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDQgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4qIFZlcnNpb24udHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENsYXNzIGZvciBTREsgdmVyc2lvbi5cclxuKi9cclxuZXhwb3J0cy5WZXJzaW9uID0gJzEuMi4yJztcclxuZXhwb3J0cy5GdWxsVmVyc2lvblN0cmluZyA9ICdBV1QtV2ViLUNKUy0nICsgZXhwb3J0cy5WZXJzaW9uO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiA1ICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuKiBBcmlhU0RLLnRzXHJcbiogQXV0aG9yOiBBYmhpbGFzaCBQYW53YXIgKGFicGFud2FyKVxyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxudmFyIEVudW1zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5leHBvcnRzLkFXVFBpaUtpbmQgPSBFbnVtc18xLkFXVFBpaUtpbmQ7XHJcbnZhciBBV1RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xyXG5leHBvcnRzLkFXVCA9IEFXVF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuQVdUX0NPTExFQ1RPUl9VUkxfVU5JVEVEX1NUQVRFUyA9ICdodHRwczovL3VzLnBpcGUuYXJpYS5taWNyb3NvZnQuY29tL0NvbGxlY3Rvci8zLjAvJztcclxuZXhwb3J0cy5BV1RfQ09MTEVDVE9SX1VSTF9HRVJNQU5ZID0gJ2h0dHBzOi8vZGUucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nO1xyXG5leHBvcnRzLkFXVF9DT0xMRUNUT1JfVVJMX0pBUEFOID0gJ2h0dHBzOi8vanAucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nO1xyXG5leHBvcnRzLkFXVF9DT0xMRUNUT1JfVVJMX0FVU1RSQUxJQSA9ICdodHRwczovL2F1LnBpcGUuYXJpYS5taWNyb3NvZnQuY29tL0NvbGxlY3Rvci8zLjAvJztcclxuZXhwb3J0cy5BV1RfQ09MTEVDVE9SX1VSTF9FVVJPUEUgPSAnaHR0cHM6Ly9ldS5waXBlLmFyaWEubWljcm9zb2Z0LmNvbS9Db2xsZWN0b3IvMy4wLyc7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDYgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBib25kX2NvbnN0LnRzXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gICAgIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IGEgdG9vbC5cclxuLy9cclxuLy8gICAgIFRvb2wgICAgIDogYm9uZGMsIFZlcnNpb249My4wLjEsIEJ1aWxkPWJvbmQtZ2l0LmRlYnVnLm5vdFxyXG4vLyAgICAgVGVtcGxhdGUgOiBNaWNyb3NvZnQuQm9uZC5SdWxlcy5kbGwjVHlwZVNjcmlwdC50dFxyXG4vLyAgICAgRmlsZSAgICAgOiBib25kX2NvbnN0LnRzXHJcbi8vXHJcbi8vICAgICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yIGFuZCB3aWxsIGJlIGxvc3Qgd2hlblxyXG4vLyAgICAgdGhlIGNvZGUgaXMgcmVnZW5lcmF0ZWQuXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBCb25kRGF0YVR5cGU7XHJcbihmdW5jdGlvbiAoQm9uZERhdGFUeXBlKSB7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RPUFwiXSA9IDBdID0gXCJCVF9TVE9QXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RPUF9CQVNFXCJdID0gMV0gPSBcIkJUX1NUT1BfQkFTRVwiO1xyXG4gICAgQm9uZERhdGFUeXBlW0JvbmREYXRhVHlwZVtcIkJUX1VJTlQ4XCJdID0gM10gPSBcIkJUX1VJTlQ4XCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfVUlOVDMyXCJdID0gNV0gPSBcIkJUX1VJTlQzMlwiO1xyXG4gICAgQm9uZERhdGFUeXBlW0JvbmREYXRhVHlwZVtcIkJUX1VJTlQ2NFwiXSA9IDZdID0gXCJCVF9VSU5UNjRcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9TVFJJTkdcIl0gPSA5XSA9IFwiQlRfU1RSSU5HXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RSVUNUXCJdID0gMTBdID0gXCJCVF9TVFJVQ1RcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9MSVNUXCJdID0gMTFdID0gXCJCVF9MSVNUXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfTUFQXCJdID0gMTNdID0gXCJCVF9NQVBcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9JTlQzMlwiXSA9IDE2XSA9IFwiQlRfSU5UMzJcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9JTlQ2NFwiXSA9IDE3XSA9IFwiQlRfSU5UNjRcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9VTkFWQUlMQUJMRVwiXSA9IDEyN10gPSBcIkJUX1VOQVZBSUxBQkxFXCI7XHJcbn0pKEJvbmREYXRhVHlwZSA9IGV4cG9ydHMuQm9uZERhdGFUeXBlIHx8IChleHBvcnRzLkJvbmREYXRhVHlwZSA9IHt9KSk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDcgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBtaWNyb3NvZnQuYm9uZC5lbmNvZGluZy50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFV0ZjggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBVdGY4KCkge1xyXG4gICAgfVxyXG4gICAgVXRmOC5HZXRCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIGNoYXIgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBpZiAoY2hhciA8IDB4ODApIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goY2hhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA8IDB4ODAwKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKDB4YzAgfCAoY2hhciA+PiA2KSwgMHg4MCB8IChjaGFyICYgMHgzZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPCAweGQ4MDAgfHwgY2hhciA+PSAweGUwMDApIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goMHhlMCB8IChjaGFyID4+IDEyKSwgMHg4MCB8ICgoY2hhciA+PiA2KSAmIDB4M2YpLCAweDgwIHwgKGNoYXIgJiAweDNmKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyID0gMHgxMDAwMCArICgoKGNoYXIgJiAweDNmZikgPDwgMTApIHwgKHZhbHVlLmNoYXJDb2RlQXQoKytpKSAmIDB4M2ZmKSk7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKDB4ZjAgfCAoY2hhciA+PiAxOCksIDB4ODAgfCAoKGNoYXIgPj4gMTIpICYgMHgzZiksIDB4ODAgfCAoKGNoYXIgPj4gNikgJiAweDNmKSwgMHg4MCB8IChjaGFyICYgMHgzZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVXRmODtcclxufSgpKTtcclxuZXhwb3J0cy5VdGY4ID0gVXRmODtcclxudmFyIEJhc2U2NCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcclxuICAgIH1cclxuICAgIEJhc2U2NC5HZXRTdHJpbmcgPSBmdW5jdGlvbiAoaW5BcnJheSkge1xyXG4gICAgICAgIHZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBpbkFycmF5Lmxlbmd0aCAlIDM7XHJcbiAgICAgICAgdmFyIHRvQmFzZTY0ID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW2xvb2t1cC5jaGFyQXQoKG51bSA+PiAxOCkgJiAweDNGKSxcclxuICAgICAgICAgICAgICAgIGxvb2t1cC5jaGFyQXQoKG51bSA+PiAxMikgJiAweDNGKSxcclxuICAgICAgICAgICAgICAgIGxvb2t1cC5jaGFyQXQoKG51bSA+PiA2KSAmIDB4M0YpLFxyXG4gICAgICAgICAgICAgICAgbG9va3VwLmNoYXJBdChudW0gJiAweDNGKV0uam9pbignJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBpbkFycmF5Lmxlbmd0aCAtIHBhZGRpbmdCeXRlczsgaSA8IGxlbmd0aF8xOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgdmFyIHRlbXAgPSAoaW5BcnJheVtpXSA8PCAxNikgKyAoaW5BcnJheVtpICsgMV0gPDwgOCkgKyAoaW5BcnJheVtpICsgMl0pO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaCh0b0Jhc2U2NCh0ZW1wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gaW5BcnJheVtpbkFycmF5Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gobG9va3VwLmNoYXJBdCh0ZW1wID4+IDIpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGxvb2t1cC5jaGFyQXQoKHRlbXAgPDwgNCkgJiAweDNGKSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgnPT0nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcDIgPSAoaW5BcnJheVtpbkFycmF5Lmxlbmd0aCAtIDJdIDw8IDgpICsgKGluQXJyYXlbaW5BcnJheS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb29rdXAuY2hhckF0KHRlbXAyID4+IDEwKSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb29rdXAuY2hhckF0KCh0ZW1wMiA+PiA0KSAmIDB4M0YpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGxvb2t1cC5jaGFyQXQoKHRlbXAyIDw8IDIpICYgMHgzRikpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goJz0nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlNjQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQmFzZTY0ID0gQmFzZTY0O1xyXG52YXIgVmFyaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmFyaW50KCkge1xyXG4gICAgfVxyXG4gICAgVmFyaW50LkdldEJ5dGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgd2hpbGUgKHZhbHVlICYgMHhmZmZmZmY4MCkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKCh2YWx1ZSAmIDB4N2YpIHwgMHg4MCk7XHJcbiAgICAgICAgICAgIHZhbHVlID4+Pj0gNztcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSAmIDB4N2YpO1xyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmFyaW50O1xyXG59KCkpO1xyXG5leHBvcnRzLlZhcmludCA9IFZhcmludDtcclxudmFyIFZhcmludDY0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmFyaW50NjQoKSB7XHJcbiAgICB9XHJcbiAgICBWYXJpbnQ2NC5HZXRCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB2YWx1ZS5sb3c7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB2YWx1ZS5oaWdoO1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChoaWdoIHx8ICgweGZmZmZmZjgwICYgbG93KSkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKChsb3cgJiAweDdmKSB8IDB4ODApO1xyXG4gICAgICAgICAgICBsb3cgPSAoKGhpZ2ggJiAweDdmKSA8PCAyNSkgfCAobG93ID4+PiA3KTtcclxuICAgICAgICAgICAgaGlnaCA+Pj49IDc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFycmF5LnB1c2gobG93ICYgMHg3Zik7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWYXJpbnQ2NDtcclxufSgpKTtcclxuZXhwb3J0cy5WYXJpbnQ2NCA9IFZhcmludDY0O1xyXG52YXIgWmlnemFnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gWmlnemFnKCkge1xyXG4gICAgfVxyXG4gICAgWmlnemFnLkVuY29kZVppZ3phZzMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyLlRvSW50MzIodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiAoKHZhbHVlIDw8IDEpIF4gKHZhbHVlID4+ICg0IC8qc2l6ZW9mKGludCkqLyAqIDggLSAxKSkpO1xyXG4gICAgfTtcclxuICAgIFppZ3phZy5FbmNvZGVaaWd6YWc2NCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB2YWx1ZS5sb3c7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB2YWx1ZS5oaWdoO1xyXG4gICAgICAgIHZhciB0bXBIID0gKGhpZ2ggPDwgMSkgfCAobG93ID4+PiAzMSk7XHJcbiAgICAgICAgdmFyIHRtcEwgPSBsb3cgPDwgMTtcclxuICAgICAgICBpZiAoaGlnaCAmIDB4ODAwMDAwMDApIHtcclxuICAgICAgICAgICAgdG1wSCA9IH50bXBIO1xyXG4gICAgICAgICAgICB0bXBMID0gfnRtcEw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXMgPSBuZXcgbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLlVJbnQ2NCgnMCcpO1xyXG4gICAgICAgIHJlcy5sb3cgPSB0bXBMO1xyXG4gICAgICAgIHJlcy5oaWdoID0gdG1wSDtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBaaWd6YWc7XHJcbn0oKSk7XHJcbmV4cG9ydHMuWmlnemFnID0gWmlnemFnO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiA4ICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogbWljcm9zb2Z0LmJvbmQuaW8udHNcclxuKiBDb3B5cmlnaHQ6IE1pY3Jvc29mdCAyMDE2XHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBNZW1vcnlTdHJlYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNZW1vcnlTdHJlYW0oKSB7XHJcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gW107XHJcbiAgICB9XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIE1lbW9yeVN0cmVhbS5wcm90b3R5cGUuV3JpdGVCeXRlID0gZnVuY3Rpb24gKGJ5dGUpIHtcclxuICAgICAgICB0aGlzLl9idWZmZXIucHVzaChtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyLlRvQnl0ZShieXRlKSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBNZW1vcnlTdHJlYW0ucHJvdG90eXBlLldyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBjb3VudCkge1xyXG4gICAgICAgIHdoaWxlIChjb3VudC0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVCeXRlKGJ1ZmZlcltvZmZzZXQrK10pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IG9mIHVuc2lnbmVkIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyBzdHJlYW0gd2FzIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIE1lbW9yeVN0cmVhbS5wcm90b3R5cGUuR2V0QnVmZmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1lbW9yeVN0cmVhbTtcclxufSgpKTtcclxuZXhwb3J0cy5NZW1vcnlTdHJlYW0gPSBNZW1vcnlTdHJlYW07XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDkgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBtaWNyb3NvZnQuYm9uZC50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYm9uZF9jb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuZXhwb3J0cy5Cb25kRGF0YVR5cGUgPSBib25kX2NvbnN0XzEuQm9uZERhdGFUeXBlO1xyXG52YXIgRW5jb2RpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5leHBvcnRzLkVuY29kaW5nID0gRW5jb2Rpbmc7XHJcbnZhciBJTyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbmV4cG9ydHMuSU8gPSBJTztcclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmV4cG9ydHMuSW50NjQgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuSW50NjQ7XHJcbmV4cG9ydHMuVUludDY0ID0gbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLlVJbnQ2NDtcclxuZXhwb3J0cy5OdW1iZXIgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyO1xyXG52YXIgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyKHN0cmVhbSkge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcclxuICAgIH1cclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUJsb2IgPSBmdW5jdGlvbiAoYmxvYikge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShibG9iLCAwLCBibG9iLmxlbmd0aCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlQ29udGFpbmVyQmVnaW4gPSBmdW5jdGlvbiAoc2l6ZSwgZWxlbWVudFR5cGUpIHtcclxuICAgICAgICB0aGlzLldyaXRlVUludDgoZWxlbWVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIoc2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlTWFwQ29udGFpbmVyQmVnaW4gPSBmdW5jdGlvbiAoc2l6ZSwga2V5VHlwZSwgdmFsdWVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5Xcml0ZVVJbnQ4KGtleVR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50OCh2YWx1ZVR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIoc2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlRmllbGRCZWdpbiA9IGZ1bmN0aW9uICh0eXBlLCBpZCkge1xyXG4gICAgICAgIGlmIChpZCA8PSA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUodHlwZSB8IChpZCA8PCA1KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlkIDw9IDB4ZmYpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RyZWFtLldyaXRlQnl0ZSh0eXBlIHwgKDYgPDwgNSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdHJlYW0uV3JpdGVCeXRlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUodHlwZSB8ICg3IDw8IDUpKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RyZWFtLldyaXRlQnl0ZShpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUoaWQgPj4gOCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUludDMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBFbmNvZGluZy5aaWd6YWcuRW5jb2RlWmlnemFnMzIodmFsdWUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIodmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUludDY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5Xcml0ZVVJbnQ2NChFbmNvZGluZy5aaWd6YWcuRW5jb2RlWmlnemFnNjQodmFsdWUpKTtcclxuICAgIH07XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlci5wcm90b3R5cGUuV3JpdGVTdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVVSW50MzIoMCAvKmxlbmd0aCovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhcnJheSA9IEVuY29kaW5nLlV0ZjguR2V0Qnl0ZXModmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLldyaXRlVUludDMyKGFycmF5Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShhcnJheSwgMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlU3RydWN0RW5kID0gZnVuY3Rpb24gKGlzQmFzZSkge1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50OChpc0Jhc2UgPyBib25kX2NvbnN0XzEuQm9uZERhdGFUeXBlLkJUX1NUT1BfQkFTRSA6IGJvbmRfY29uc3RfMS5Cb25kRGF0YVR5cGUuQlRfU1RPUCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlVUludDMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gRW5jb2RpbmcuVmFyaW50LkdldEJ5dGVzKG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMS5OdW1iZXIuVG9VSW50MzIodmFsdWUpKTtcclxuICAgICAgICB0aGlzLl9zdHJlYW0uV3JpdGUoYXJyYXksIDAsIGFycmF5Lmxlbmd0aCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlVUludDY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gRW5jb2RpbmcuVmFyaW50NjQuR2V0Qnl0ZXModmFsdWUpO1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShhcnJheSwgMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgIH07XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlci5wcm90b3R5cGUuV3JpdGVVSW50OCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUobWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLk51bWJlci5Ub1VJbnQ4KHZhbHVlKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcjtcclxufSgpKTtcclxuZXhwb3J0cy5Db21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIgPSBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXI7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDEwICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2VjVG9Nc011bHRpcGxpZXIgPSAxMDAwO1xyXG52YXIgQVdUS2lsbFN3aXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFXVEtpbGxTd2l0Y2goKSB7XHJcbiAgICAgICAgdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5ID0ge307XHJcbiAgICB9XHJcbiAgICBBV1RLaWxsU3dpdGNoLnByb3RvdHlwZS5zZXRLaWxsU3dpdGNoVGVuYW50cyA9IGZ1bmN0aW9uIChraWxsVG9rZW5zLCBraWxsRHVyYXRpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChraWxsVG9rZW5zICYmIGtpbGxEdXJhdGlvbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtpbGxlZFRva2VucyA9IGtpbGxUb2tlbnMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChraWxsRHVyYXRpb24gPT09ICd0aGlzLXJlcXVlc3Qtb25seScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2lsbGVkVG9rZW5zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uTXNfMSA9IHBhcnNlSW50KGtpbGxEdXJhdGlvbiwgMTApICogU2VjVG9Nc011bHRpcGxpZXI7XHJcbiAgICAgICAgICAgICAgICBraWxsZWRUb2tlbnMuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3Rva2VuXSA9IERhdGUubm93KCkgKyBkdXJhdGlvbk1zXzE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG4gICAgQVdUS2lsbFN3aXRjaC5wcm90b3R5cGUuaXNUZW5hbnRLaWxsZWQgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3RlbmFudFRva2VuXSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2tpbGxlZFRva2VuRGljdGlvbmFyeVt0ZW5hbnRUb2tlbl0gPiBEYXRlLm5vdygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3RlbmFudFRva2VuXTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFXVEtpbGxTd2l0Y2g7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFXVEtpbGxTd2l0Y2g7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDExICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQVdUQm9uZFNlcmlhbGl6ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBBV1RSZWNvcmRCYXRjaGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUUmVjb3JkQmF0Y2hlcihfbWF4UmVxdWVzdFNpemUsIF9vdXRib3VuZFF1ZXVlKSB7XHJcbiAgICAgICAgdGhpcy5fbWF4UmVxdWVzdFNpemUgPSBfbWF4UmVxdWVzdFNpemU7XHJcbiAgICAgICAgdGhpcy5fb3V0Ym91bmRRdWV1ZSA9IF9vdXRib3VuZFF1ZXVlO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaCA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaFNpemUgPSAwO1xyXG4gICAgfVxyXG4gICAgQVdUUmVjb3JkQmF0Y2hlci5wcm90b3R5cGUuYWRkRXZlbnRUb0JhdGNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWRFdmVudCA9IEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5nZXRFdmVudEJsb2IoZXZlbnQpO1xyXG4gICAgICAgIGlmIChzZXJpYWxpemVkRXZlbnQubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdFNpemUpIHtcclxuICAgICAgICAgICAgLy9zaW5nbGUgZXZlbnQgdG9vIGJpZ1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50QmF0Y2hTaXplICsgc2VyaWFsaXplZEV2ZW50Lmxlbmd0aCA+IHRoaXMuX21heFJlcXVlc3RTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmx1c2hCYXRjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRCYXRjaFtldmVudC50ZW5hbnRUb2tlbl0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEJhdGNoW2V2ZW50LnRlbmFudFRva2VuXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaFtldmVudC50ZW5hbnRUb2tlbl0ucHVzaChzZXJpYWxpemVkRXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QmF0Y2hTaXplICs9IHNlcmlhbGl6ZWRFdmVudC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFJlY29yZEJhdGNoZXIucHJvdG90eXBlLmZsdXNoQmF0Y2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRCYXRjaFNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX291dGJvdW5kUXVldWUucHVzaCh0aGlzLl9jdXJyZW50QmF0Y2gpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QmF0Y2ggPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEJhdGNoU2l6ZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RSZWNvcmRCYXRjaGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBV1RSZWNvcmRCYXRjaGVyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxMiAqL1xyXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiogQVdUUmV0cnlQb2xpY3kudHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENsYXNzIGZvciByZXRyeSBwb2xpY3kuXHJcbiovXHJcbnZhciBSYW5kb21pemF0aW9uTG93ZXJUaHJlc2hvbGQgPSAwLjg7XHJcbnZhciBSYW5kb21pemF0aW9uVXBwZXJUaHJlc2hvbGQgPSAxLjI7XHJcbnZhciBCYXNlQmFja29mZiA9IDMwMDA7XHJcbnZhciBNYXhCYWNrb2ZmID0gMTIwMDAwO1xyXG52YXIgQVdUUmV0cnlQb2xpY3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBV1RSZXRyeVBvbGljeSgpIHtcclxuICAgIH1cclxuICAgIEFXVFJldHJ5UG9saWN5LnNob3VsZFJldHJ5Rm9yU3RhdHVzID0gZnVuY3Rpb24gKGh0dHBTdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgLyogVGhlIGJlbG93IGV4cHJlc3Npb24gcmVhZHMgdGhhdCB3ZSBzaG91bGQgb25seSByZXRyeSBmb3I6XHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGVzIHRoYXQgYXJlIHNtYWxsZXIgdGhhbiAzMDAuXHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGVzIGdyZWF0ZXIgb3IgZXF1YWwgdG8gNTAwIChleGNlcHQgZm9yIDUwMS1Ob3RJbXBsZW1lbnRcclxuICAgICAgICAgICAgICBhbmQgNTA1LUh0dHBWZXJzaW9uTm90U3VwcG9ydCkuXHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGUgNDA4LVJlcXVlc3RUaW1lb3V0LlxyXG4gICAgICAgICAgIFRoaXMgaXMgYmFzZWQgb24gTWljcm9zb2Z0LldpbmRvd3NBenVyZS5TdG9yYWdlLlJldHJ5UG9saWNpZXMuRXhwb25lbnRpYWxSZXRyeSBjbGFzcyAqL1xyXG4gICAgICAgIHJldHVybiAhKChodHRwU3RhdHVzQ29kZSA+PSAzMDAgJiYgaHR0cFN0YXR1c0NvZGUgPCA1MDAgJiYgaHR0cFN0YXR1c0NvZGUgIT09IDQwOClcclxuICAgICAgICAgICAgfHwgKGh0dHBTdGF0dXNDb2RlID09PSA1MDEpXHJcbiAgICAgICAgICAgIHx8IChodHRwU3RhdHVzQ29kZSA9PT0gNTA1KSk7XHJcbiAgICB9O1xyXG4gICAgQVdUUmV0cnlQb2xpY3kuZ2V0TWlsbGlzVG9CYWNrb2ZmRm9yUmV0cnkgPSBmdW5jdGlvbiAocmV0cmllc1NvRmFyKSB7XHJcbiAgICAgICAgdmFyIHdhaXREdXJhdGlvbiA9IDA7XHJcbiAgICAgICAgdmFyIG1pbkJhY2tvZmYgPSBCYXNlQmFja29mZiAqIFJhbmRvbWl6YXRpb25Mb3dlclRocmVzaG9sZDtcclxuICAgICAgICB2YXIgbWF4QmFja29mZiA9IEJhc2VCYWNrb2ZmICogUmFuZG9taXphdGlvblVwcGVyVGhyZXNob2xkO1xyXG4gICAgICAgIHZhciByYW5kb21CYWNrb2ZmID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heEJhY2tvZmYgLSBtaW5CYWNrb2ZmKSkgKyBtaW5CYWNrb2ZmO1xyXG4gICAgICAgIHdhaXREdXJhdGlvbiA9IE1hdGgucG93KDQsIHJldHJpZXNTb0ZhcikgKiByYW5kb21CYWNrb2ZmO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbih3YWl0RHVyYXRpb24sIE1heEJhY2tvZmYpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RSZXRyeVBvbGljeTtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQVdUUmV0cnlQb2xpY3k7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDEzICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRW51bXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBBV1RUcmFuc21pc3Npb25NYW5hZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxudmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZlcnNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgQWxsVG9rZW5zID0gJ2FsbFRrbnMnO1xyXG52YXIgRXZlbnROYW1lQW5kVHlwZVJlZ2V4ID0gL15bYS16QS1aMC05XShbYS16QS1aMC05XXxfKXsyLDk4fVthLXpBLVowLTldJC87XHJcbnZhciBFdmVudE5hbWVEb3RSZWdleCA9IC9cXC4vZztcclxudmFyIFByb3BlcnR5TmFtZVJlZ2V4ID0gL15bYS16QS1aMC05XSgoW2EtekEtWjAtOXxffFxcLl0pezAsOTh9W2EtekEtWjAtOV0pPyQvO1xyXG52YXIgQVdUID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUKCkge1xyXG4gICAgfVxyXG4gICAgQVdULmluaXRpYWxpemUgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4sIGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdm9pZCAwKSB7IGNvbmZpZ3VyYXRpb24gPSB7fTsgfVxyXG4gICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICB0aHJvdyAnQWxyZWFkeSBJbml0aWFsaXplZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRUZW5hbnRUb2tlbiA9IHRlbmFudFRva2VuO1xyXG4gICAgICAgIHRoaXMuX292ZXJyaWRlVmFsdWVzRnJvbUNvbmZpZyhjb25maWd1cmF0aW9uKTtcclxuICAgICAgICAvL0NyZWF0ZSBzZW5kZXJcclxuICAgICAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyXzEuZGVmYXVsdC5pbml0aWFsaXplKHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgQVdULmZsdXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXJfMS5kZWZhdWx0LmZsdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULmZsdXNoQW5kVGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlcl8xLmRlZmF1bHQuZmx1c2hBbmRUZWFyZG93bigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1Quc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChuYW1lLCBwcm9wZXJ0eSwgdGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGVuYW50VG9rZW4gPT09IHZvaWQgMCkgeyB0ZW5hbnRUb2tlbiA9IEFsbFRva2VuczsgfVxyXG4gICAgICAgIHByb3BlcnR5ID0gdGhpcy5fc2FuaXRpemVQcm9wZXJ0eShuYW1lLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb250ZXh0UHJvcGVydGllc1t0ZW5hbnRUb2tlbl0pIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udGV4dFByb3BlcnRpZXNbdGVuYW50VG9rZW5dID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzW3RlbmFudFRva2VuXVtuYW1lXSA9IHByb3BlcnR5O1xyXG4gICAgfTtcclxuICAgIEFXVC5sb2dFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgaWYgKCFldmVudC5uYW1lIHx8ICFldmVudC5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQubmFtZSA9IGV2ZW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgZXZlbnQubmFtZS5yZXBsYWNlKEV2ZW50TmFtZURvdFJlZ2V4LCAnXycpO1xyXG4gICAgICAgICAgICB2YXIgdHlwZVByZWZpeCA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnY3VzdG9tJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHR5cGVQcmVmaXggPSAnY3VzdG9tLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFFdmVudE5hbWVBbmRUeXBlUmVnZXgudGVzdChldmVudC5uYW1lKSB8fCAhRXZlbnROYW1lQW5kVHlwZVJlZ2V4LnRlc3QoZXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC50eXBlID0gdHlwZVByZWZpeCArIGV2ZW50LnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChpc05hTihldmVudC50aW1lc3RhbXApKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC50aW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQudGVuYW50VG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRlbmFudFRva2VuID0gdGhpcy5fZGVmYXVsdFRlbmFudFRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LmlkID0gVXRpbHMubmV3R3VpZCgpO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhldmVudC5wcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcm9wZXJ0aWVzW25hbWVdID0gX3RoaXMuX3Nhbml0aXplUHJvcGVydHkobmFtZSwgZXZlbnQucHJvcGVydGllc1tuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucHJvcGVydGllc1tuYW1lXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudC5wcm9wZXJ0aWVzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dElmQWJzZW50KGV2ZW50LCBldmVudC50ZW5hbnRUb2tlbik7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRJZkFic2VudChldmVudCwgQWxsVG9rZW5zKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGV2ZW50LnByb3BlcnRpZXMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3NldERlZmF1bHRQcm9wZXJ0eShldmVudCwgJ0V2ZW50SW5mby5Jbml0SWQnLCB0aGlzLl9nZXRJbml0SWQoZXZlbnQudGVuYW50VG9rZW4pKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnR5KGV2ZW50LCAnRXZlbnRJbmZvLlNlcXVlbmNlJywgdGhpcy5fZ2V0U2VxdWVuY2VJZChldmVudC50ZW5hbnRUb2tlbikpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uU2RrVmVyc2lvbicsIFZlcnNpb24uRnVsbFZlcnNpb25TdHJpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uTmFtZScsIGV2ZW50Lm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uVGltZScsIChuZXcgRGF0ZShldmVudC50aW1lc3RhbXApKS50b0lTT1N0cmluZygpKTtcclxuICAgICAgICAgICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlcl8xLmRlZmF1bHQuc2VuZEV2ZW50KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULl9vdmVycmlkZVZhbHVlc0Zyb21Db25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5jb2xsZWN0b3JVcmwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmNvbGxlY3RvclVybCA9IGNvbmZpZy5jb2xsZWN0b3JVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb25maWcuc2VuZGluZ1RpbWVyID4gMTAwMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcuc2VuZGluZ1RpbWVyID0gY29uZmlnLnNlbmRpbmdUaW1lcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULl9nZXRJbml0SWQgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGhpcy5faW5pdElkTWFwW3RlbmFudFRva2VuXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRJZE1hcFt0ZW5hbnRUb2tlbl0gPSBVdGlscy5uZXdHdWlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0SWRNYXBbdGVuYW50VG9rZW5dO1xyXG4gICAgfTtcclxuICAgIEFXVC5fZ2V0U2VxdWVuY2VJZCA9IGZ1bmN0aW9uICh0ZW5hbnRUb2tlbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXF1ZW5jZUlkTWFwW3RlbmFudFRva2VuXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcXVlbmNlSWRNYXBbdGVuYW50VG9rZW5dID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgrK3RoaXMuX3NlcXVlbmNlSWRNYXBbdGVuYW50VG9rZW5dKS50b1N0cmluZygpO1xyXG4gICAgfTtcclxuICAgIEFXVC5fc2V0RGVmYXVsdFByb3BlcnR5ID0gZnVuY3Rpb24gKGV2ZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGV2ZW50LnByb3BlcnRpZXNbbmFtZV0gPSB7IHZhbHVlOiB2YWx1ZSwgcGlpOiBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0IH07XHJcbiAgICB9O1xyXG4gICAgQVdULl9hZGRDb250ZXh0SWZBYnNlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHRlbmFudFRva2VuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzW3RlbmFudFRva2VuXSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dF8xID0gdGhpcy5fY29udGV4dFByb3BlcnRpZXNbdGVuYW50VG9rZW5dO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0XzEpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZXZlbnQucHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByb3BlcnRpZXNbbmFtZV0gPSBjb250ZXh0XzFbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1QuX3Nhbml0aXplUHJvcGVydHkgPSBmdW5jdGlvbiAobmFtZSwgcHJvcGVydHkpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcGVydHkgPT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5ID0geyB2YWx1ZTogcHJvcGVydHkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFQcm9wZXJ0eU5hbWVSZWdleC50ZXN0KG5hbWUpIHx8IHByb3BlcnR5ID09PSB1bmRlZmluZWQgfHwgcHJvcGVydHkgPT09IG51bGxcclxuICAgICAgICAgICAgfHwgcHJvcGVydHkudmFsdWUgPT09IG51bGwgfHwgcHJvcGVydHkudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkucGlpID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5waWkgPSBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHByb3BlcnR5LnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmlzUGlpKHByb3BlcnR5LnBpaSkgPyBwcm9wZXJ0eSA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgQVdULl9pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBBV1QuX2lzRGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICBBV1QuX2NvbnRleHRQcm9wZXJ0aWVzID0ge307XHJcbiAgICBBV1QuX3NlcXVlbmNlSWRNYXAgPSB7fTtcclxuICAgIEFXVC5faW5pdElkTWFwID0ge307XHJcbiAgICBBV1QuX2NvbmZpZyA9IHtcclxuICAgICAgICBjb2xsZWN0b3JVcmw6ICdodHRwczovL2Jyb3dzZXIucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nLFxyXG4gICAgICAgIHNlbmRpbmdUaW1lcjogMTAwMFxyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1Q7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFXVDtcclxuXHJcblxyXG4vKioqLyB9KSxcclxuLyogMTQgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBV1RSZWNvcmRCYXRjaGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIEFXVEJvbmRTZXJpYWxpemVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgQVdUUmV0cnlQb2xpY3lfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG52YXIgQVdUS2lsbFN3aXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbnZhciBWZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIEZsdXNoQ2hlY2tUaW1lciA9IDI1MDtcclxudmFyIFJlcXVlc3RTaXplTGltaXRCeXRlcyA9IDI5MzYwMTI7IC8vYXBwcm94IDIuOCBNYlxyXG52YXIgTWF4UmV0cmllcyA9IDQ7XHJcbnZhciBBV1RUcmFuc21pc3Npb25NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUVHJhbnNtaXNzaW9uTWFuYWdlcigpIHtcclxuICAgIH1cclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB0aGlzLl9pbmJvdW5kUXVldWVzLnB1c2goW10pO1xyXG4gICAgICAgIHRoaXMuX3JlY29yZEJhdGNoZXIgPSBuZXcgQVdUUmVjb3JkQmF0Y2hlcl8xLmRlZmF1bHQoUmVxdWVzdFNpemVMaW1pdEJ5dGVzLCB0aGlzLl9vdXRib3VuZFF1ZXVlKTtcclxuICAgICAgICB0aGlzLl9uZXdFdmVudHNBbGxvd2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VybFN0cmluZyArPSAnJmNvbnRlbnQtZW5jb2Rpbmc9YmFzZTY0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2VuZGluZ1RpbWVyID0gY29uZmlnLnNlbmRpbmdUaW1lcjtcclxuICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSBjb25maWcuY29sbGVjdG9yVXJsICsgdGhpcy5fdXJsU3RyaW5nICsgJyZ4LWFwaWtleT0nO1xyXG4gICAgfTtcclxuICAgIC8vUHVzaCB0aGUgZXZlbnQgaW50byB0aGUgaW5ib3VuZCBxdWV1ZSBhbmQgcmV0dXJuXHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLnNlbmRFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX25ld0V2ZW50c0FsbG93ZWQpIHtcclxuICAgICAgICAgICAgLy9BZGQgZXZlbnQgdG8gdGhlIGxhc3QgaW5ib3VuZCBxdWV1ZVxyXG4gICAgICAgICAgICB0aGlzLl9pbmJvdW5kUXVldWVzW3RoaXMuX2luYm91bmRRdWV1ZXMubGVuZ3RoIC0gMV0ucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fcnVubmluZyAmJiB0aGlzLl90aW1lb3V0IDwgMCAmJiAhdGhpcy5faXNDdXJyZW50bHlGbHVzaGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2JhdGNoQW5kU2VuZEV2ZW50cyhmYWxzZSk7IH0sIHRoaXMuX3NlbmRpbmdUaW1lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlci5mbHVzaEFuZFRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX25ld0V2ZW50c0FsbG93ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9iYXRjaEFuZFNlbmRFdmVudHModHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlci5mbHVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2luYm91bmRRdWV1ZXMucHVzaChbXSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0N1cnJlbnRseUZsdXNoaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzQ3VycmVudGx5Rmx1c2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9mbHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9mbHVzaFF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9iYXRjaEFuZFNlbmRFdmVudHMgPSBmdW5jdGlvbiAoaXNUZWFyZG93bikge1xyXG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLl9pbmJvdW5kUXVldWVzWzBdLmxlbmd0aCA+IDAgJiYgdGhpcy5fb3V0Ym91bmRRdWV1ZS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29yZEJhdGNoZXIuYWRkRXZlbnRUb0JhdGNoKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ucG9wKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fb3V0Ym91bmRRdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb3JkQmF0Y2hlci5mbHVzaEJhdGNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NlbmRSZXF1ZXN0KHRoaXMuX291dGJvdW5kUXVldWUucG9wKCksIDAsIGlzVGVhcmRvd24pO1xyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX3JldHJ5UmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKGNvbm4sIHJlcXVlc3QsIHRva2VuQ291bnQsIGFwaWtleSwgcmV0cnlDb3VudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNob3VsZFJldHJ5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAoY29ubiAmJiB0eXBlb2YgY29ubi5zdGF0dXMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHZhciBraWxsZWRUb2tlbnMgPSB0aGlzLl9raWxsU3dpdGNoLnNldEtpbGxTd2l0Y2hUZW5hbnRzKGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtdG9rZW5zJyksIGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtZHVyYXRpb24tc2Vjb25kcycpKTtcclxuICAgICAgICAgICAga2lsbGVkVG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3Rba2V5XTtcclxuICAgICAgICAgICAgICAgIHRva2VuQ291bnQtLTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghQVdUUmV0cnlQb2xpY3lfMS5kZWZhdWx0LnNob3VsZFJldHJ5Rm9yU3RhdHVzKGNvbm4uc3RhdHVzKSB8fCB0b2tlbkNvdW50IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHNob3VsZFJldHJ5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNob3VsZFJldHJ5ICYmIHJldHJ5Q291bnQgPCBNYXhSZXRyaWVzKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QsIHJldHJ5Q291bnQgKyAxLCBmYWxzZSk7IH0sIEFXVFJldHJ5UG9saWN5XzEuZGVmYXVsdC5nZXRNaWxsaXNUb0JhY2tvZmZGb3JSZXRyeShyZXRyeUNvdW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZXF1ZXN0RmluaXNoZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QsIHJldHJ5Q291bnQsIGlzVGVhcmRvd24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjb25uXzEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgdmFyIHRva2VuQ291bnRfMSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBhcGlrZXlfMSA9ICcnO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhyZXF1ZXN0KS5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fa2lsbFN3aXRjaC5pc1RlbmFudEtpbGxlZCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBpa2V5XzEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXlfMSArPSAnLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFwaWtleV8xICs9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuQ291bnRfMSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3RbdG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29ubl8xLm9wZW4oJ1BPU1QnLCB0aGlzLl91cmxTdHJpbmcgKyBhcGlrZXlfMSwgIWlzVGVhcmRvd24pO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGVhcmRvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbm5fMS5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5UmVxdWVzdElmTmVlZGVkKGNvbm5fMSwgcmVxdWVzdCwgdG9rZW5Db3VudF8xLCBhcGlrZXlfMSwgcmV0cnlDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubl8xLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5UmVxdWVzdElmTmVlZGVkKGNvbm5fMSwgcmVxdWVzdCwgdG9rZW5Db3VudF8xLCBhcGlrZXlfMSwgcmV0cnlDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubl8xLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUmVxdWVzdEZpbmlzaGVkKGNvbm5fMSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbkNvdW50XzEgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5nZXRQYXlsb2FkQmxvYihyZXF1ZXN0LCB0b2tlbkNvdW50XzEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5fMS5zZW5kKEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5iYXNlNjRFbmNvZGUoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubl8xLnNlbmQobmV3IFVpbnQ4QXJyYXkoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGVhcmRvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlcXVlc3RGaW5pc2hlZChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZXF1ZXN0RmluaXNoZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX2hhbmRsZVJlcXVlc3RGaW5pc2hlZCA9IGZ1bmN0aW9uIChjb25uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoY29ubikge1xyXG4gICAgICAgICAgICB0aGlzLl9raWxsU3dpdGNoLnNldEtpbGxTd2l0Y2hUZW5hbnRzKGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtdG9rZW5zJyksIGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtZHVyYXRpb24tc2Vjb25kcycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmF0Y2hBbmRTZW5kRXZlbnRzKGZhbHNlKTsgfSwgdGhpcy5fc2VuZGluZ1RpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9mbHVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5ib3VuZFF1ZXVlc1swXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXRjaEFuZFNlbmRFdmVudHMoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NoZWNrUHJpbWFyeUluYm91bmRRdWV1ZUVtcHR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy9Nb3ZlIHRoZSBuZXh0IHF1ZXVlIHRvIGJlIHByaW1hcnlcclxuICAgICAgICAgICAgX3RoaXMuX2luYm91bmRRdWV1ZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9PSBudWxsICYmIGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl9mbHVzaFF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2ZsdXNoKF90aGlzLl9mbHVzaFF1ZXVlLnNoaWZ0KCkpOyB9LCBfdGhpcy5fc2VuZGluZ1RpbWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9pc0N1cnJlbnRseUZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmF0Y2hBbmRTZW5kRXZlbnRzKGZhbHNlKTsgfSwgX3RoaXMuX3NlbmRpbmdUaW1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9jaGVja1ByaW1hcnlJbmJvdW5kUXVldWVFbXB0eSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrT3V0Ym91bmRRdWV1ZUVtcHR5QW5kU2VudChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja1ByaW1hcnlJbmJvdW5kUXVldWVFbXB0eShjYWxsYmFjayk7IH0sIEZsdXNoQ2hlY2tUaW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX2NoZWNrT3V0Ym91bmRRdWV1ZUVtcHR5QW5kU2VudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja091dGJvdW5kUXVldWVFbXB0eUFuZFNlbnQoY2FsbGJhY2spOyB9LCBGbHVzaENoZWNrVGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9vdXRib3VuZFF1ZXVlID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9pbmJvdW5kUXVldWVzID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9uZXdFdmVudHNBbGxvd2VkID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9raWxsU3dpdGNoID0gbmV3IEFXVEtpbGxTd2l0Y2hfMS5kZWZhdWx0KCk7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9pc0N1cnJlbnRseUZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9mbHVzaFF1ZXVlID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9ydW5uaW5nID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl90aW1lb3V0ID0gLTE7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl91cmxTdHJpbmcgPSAnP3FzcD10cnVlJmNvbnRlbnQtdHlwZT1hcHBsaWNhdGlvbiUyRmJvbmQtY29tcGFjdC1iaW5hcnkmY2xpZW50LWlkPU5PX0FVVEgmc2RrLXZlcnNpb249J1xyXG4gICAgICAgICsgVmVyc2lvbi5GdWxsVmVyc2lvblN0cmluZztcclxuICAgIHJldHVybiBBV1RUcmFuc21pc3Npb25NYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBV1RUcmFuc21pc3Npb25NYW5hZ2VyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxNSAqL1xyXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcblxyXG5cclxuLyoqKi8gfSlcclxuLyoqKioqKi8gXSk7XHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmlhLXdlYmpzLWNvbXBhY3Qtc2RrLTEuMi4yLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js\n");

/***/ })

/******/ });